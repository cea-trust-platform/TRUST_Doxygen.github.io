<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/CoviMAC/Zones/CoviMAC_discretisation.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/CoviMAC/Zones/CoviMAC_discretisation.cpp</div>  </div>
</div>
<div class="contents">
<a href="CoviMAC__discretisation_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        CoviMAC_discretisation.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/CoviMAC/Zones</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     1</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="CoviMAC__discretisation_8h.html">CoviMAC_discretisation.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Zone__CoviMAC_8h.html">Zone_CoviMAC.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Fonc__Tabule_8h.html">Champ_Fonc_Tabule.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="comment">// #include &lt;Ch_Fonc_P1_CoviMAC.h&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Fonc__P0__CoviMAC_8h.html">Champ_Fonc_P0_CoviMAC.h</a>&gt;</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Fonc__Tabule__P0__CoviMAC_8h.html">Champ_Fonc_Tabule_P0_CoviMAC.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Milieu__base_8h.html">Milieu_base.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Equation__base_8h.html">Equation_base.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Uniforme_8h.html">Champ_Uniforme.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="DescStructure_8h.html">DescStructure.h</a>&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Inc_8h.html">Champ_Inc.h</a>&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;<a class="code" href="Schema__Temps_8h.html">Schema_Temps.h</a>&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;<a class="code" href="Schema__Temps__base_8h.html">Schema_Temps_base.h</a>&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;<a class="code" href="Motcle_8h.html">Motcle.h</a>&gt;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;<a class="code" href="Zone__Cl__CoviMAC_8h.html">Zone_Cl_CoviMAC.h</a>&gt;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;<a class="code" href="Zone__Cl__dis_8h.html">Zone_Cl_dis.h</a>&gt;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;<a class="code" href="grad__U__Champ__Face__CoviMAC_8h.html">grad_U_Champ_Face_CoviMAC.h</a>&gt;</span>
<a name="l00041"></a>00041 
<a name="l00042"></a><a class="code" href="CoviMAC__discretisation_8cpp.html#a4d96c62e5e2336c1adfe2c10b88e68ea">00042</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classCoviMAC__discretisation.html">CoviMAC_discretisation</a>,<span class="stringliteral">&quot;CoviMAC&quot;</span>,<a class="code" href="classDiscret__Thyd.html" title="classe Discret_Thyd Cette classe est la classe de base representant une discretisation spatiale appli...">Discret_Thyd</a>);
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="classCoviMAC__discretisation.html#acf1be1e99833c74a572396ad467f5cd1">00046</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classCoviMAC__discretisation.html#acf1be1e99833c74a572396ad467f5cd1" title="NE FAIT RIEN.">CoviMAC_discretisation::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; s)
<a name="l00047"></a>00047 {
<a name="l00048"></a>00048   <span class="keywordflow">return</span> s ;
<a name="l00049"></a>00049 }
<a name="l00050"></a>00050 
<a name="l00051"></a><a class="code" href="classCoviMAC__discretisation.html#ace03eae719e9e9ff0644ae1b3712c5f9">00051</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classCoviMAC__discretisation.html#ace03eae719e9e9ff0644ae1b3712c5f9" title="NE FAIT RIEN.">CoviMAC_discretisation::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; s)<span class="keyword"> const</span>
<a name="l00052"></a>00052 <span class="keyword"></span>{
<a name="l00053"></a>00053   <span class="keywordflow">return</span> s ;
<a name="l00054"></a>00054 }
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="comment">//</span>
<a name="l00057"></a>00057 <span class="comment">//</span>
<a name="l00058"></a>00058 <span class="comment">//</span>
<a name="l00059"></a>00059 <span class="comment">//</span>
<a name="l00060"></a>00060 <span class="comment">//</span>
<a name="l00061"></a>00061 <span class="comment">//</span>
<a name="l00062"></a>00062 <span class="comment">//</span>
<a name="l00063"></a>00063 <span class="comment">//</span>
<a name="l00064"></a>00064 <span class="comment">//</span><span class="comment"></span>
<a name="l00065"></a>00065 <span class="comment">//! Discretisation d&#39;un champ pour le CoviMAC en fonction d&#39;une directive&lt;br&gt;de discretisation. La directive est un Motcle comme &quot;vitesse&quot;, &quot;pression&quot;,&lt;br&gt;&quot;temperature&quot;, &quot;champ_elem&quot; (cree un champ de type P0), ...&lt;br&gt;Cette methode determine le type du champ a creer en fonction du type d&#39;element&lt;br&gt;et de la directive de discretisation. Elle determine ensuite le nombre de ddl&lt;br&gt;et fixe l&#39;ensemble des parametres du champ (type, nb_compo, nb_ddl, nb_pas_dt,&lt;br&gt;nom(s), unite(s) et nature du champ) et associe la Zone_dis au champ.&lt;br&gt;Voir le code pour avoir la correspondance entre les directives et&lt;br&gt;le type de champ cree.</span>
<a name="l00066"></a><a class="code" href="classCoviMAC__discretisation.html#a2cb0a336389c3e2f8fb1a111ba017327">00066</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#a2cb0a336389c3e2f8fb1a111ba017327" title="Discretisation d&#39;un champ pour le CoviMAC en fonction d&#39;une directive de discretisation. La directive est un Motcle comme &quot;vitesse&quot;, &quot;pression&quot;, &quot;temperature&quot;, &quot;champ_elem&quot; (cree un champ de type P0), ... Cette methode determine le type du champ a creer en fonction du type d&#39;element et de la directive de discretisation. Elle determine ensuite le nombre de ddl et fixe l&#39;ensemble des parametres du champ (type, nb_compo, nb_ddl, nb_pas_dt, nom(s), unite(s) et nature du champ) et associe la Zone_dis au champ. Voir le code pour avoir la correspondance entre les directives et le type de champ cree.">CoviMAC_discretisation::discretiser_champ</a>(
<a name="l00067"></a>00067   <span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; directive, <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; z,
<a name="l00068"></a>00068   <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646b" title="This is a base class from which inherit Champ_base and Champ_front_base. It handles all the generic a...">Nature_du_champ</a> nature,
<a name="l00069"></a>00069   <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; noms, <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; unites,
<a name="l00070"></a>00070   <span class="keywordtype">int</span> nb_comp, <span class="keywordtype">int</span> nb_pas_dt, <span class="keywordtype">double</span> temps,
<a name="l00071"></a>00071   <a class="code" href="classChamp__Inc.html">Champ_Inc</a>&amp; champ, <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; sous_type )<span class="keyword"> const</span>
<a name="l00072"></a>00072 <span class="keyword"></span>{
<a name="l00073"></a>00073   <span class="keyword">const</span> <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>, z);
<a name="l00074"></a>00074 
<a name="l00075"></a>00075   <a class="code" href="classMotcles.html" title="Un tableau d&#39;objets de la classe Motcle.">Motcles</a> motcles(7);
<a name="l00076"></a>00076   motcles[0] = <span class="stringliteral">&quot;vitesse&quot;</span>;     <span class="comment">//!&lt; Choix standard pour la vitesse</span>
<a name="l00077"></a>00077 <span class="comment"></span>  motcles[1] = <span class="stringliteral">&quot;pression&quot;</span>;    <span class="comment">//!&lt; Choix standard pour la pression</span>
<a name="l00078"></a>00078 <span class="comment"></span>  motcles[2] = <span class="stringliteral">&quot;temperature&quot;</span>; <span class="comment">//!&lt; Choix standard pour la temperature</span>
<a name="l00079"></a>00079 <span class="comment"></span>  motcles[3] = <span class="stringliteral">&quot;divergence_vitesse&quot;</span>; <span class="comment">//!&lt; Le type de champ obtenu en calculant div v</span>
<a name="l00080"></a>00080 <span class="comment"></span>  motcles[4] = <span class="stringliteral">&quot;gradient_pression&quot;</span>;  <span class="comment">//!&lt; Le type de champ obtenu en calculant grad P</span>
<a name="l00081"></a>00081 <span class="comment"></span>  motcles[5] = <span class="stringliteral">&quot;champ_elem&quot;</span>;    <span class="comment">//!&lt; Creer un champ aux elements (de type P0)</span>
<a name="l00082"></a>00082 <span class="comment"></span>  motcles[6] = <span class="stringliteral">&quot;champ_sommets&quot;</span>; <span class="comment">//!&lt; Creer un champ aux sommets (type P1)</span>
<a name="l00083"></a>00083 <span class="comment"></span>
<a name="l00084"></a>00084 <span class="comment">// Le type de champ de vitesse depend du type d&#39;element :</span>
<a name="l00085"></a>00085   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type_champ_vitesse(<span class="stringliteral">&quot;Champ_Face_CoviMAC&quot;</span>);
<a name="l00086"></a>00086   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>(<span class="stringliteral">&quot;Champ_P0_CoviMAC&quot;</span>);
<a name="l00087"></a>00087   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type;
<a name="l00088"></a>00088   <span class="keywordtype">int</span> default_nb_comp = 0; <span class="comment">//!&lt; Valeur par defaut du nombre de composantes</span>
<a name="l00089"></a>00089 <span class="comment"></span>  <span class="keywordtype">int</span> rang = motcles.<a class="code" href="classMotcles.html#afecd68f73e904bc129022a236ff6ab15">search</a>(directive);
<a name="l00090"></a>00090   <span class="keywordflow">switch</span>(rang)
<a name="l00091"></a>00091     {
<a name="l00092"></a>00092     <span class="keywordflow">case</span> 0:
<a name="l00093"></a>00093     <span class="keywordflow">case</span> 4:
<a name="l00094"></a>00094       type = type_champ_vitesse;
<a name="l00095"></a>00095       default_nb_comp = 3;
<a name="l00096"></a>00096       <span class="keywordflow">break</span>;
<a name="l00097"></a>00097     <span class="keywordflow">case</span> 1:
<a name="l00098"></a>00098     <span class="keywordflow">case</span> 2:
<a name="l00099"></a>00099     <span class="keywordflow">case</span> 3:
<a name="l00100"></a>00100     <span class="keywordflow">case</span> 5:
<a name="l00101"></a>00101       type = <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>;
<a name="l00102"></a>00102       default_nb_comp = 1;
<a name="l00103"></a>00103       <span class="keywordflow">break</span>;
<a name="l00104"></a>00104     <span class="keywordflow">default</span>:
<a name="l00105"></a>00105       assert(rang &lt; 0);
<a name="l00106"></a>00106       <span class="keywordflow">break</span>;
<a name="l00107"></a>00107     }
<a name="l00108"></a>00108 
<a name="l00109"></a>00109   <span class="keywordflow">if</span> (directive == <a class="code" href="classDiscretisation__base.html#af0f31ddb2e97f2d494ff0bc8438e3f9b">demande_description</a>)
<a name="l00110"></a>00110     <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;CoviMAC_discretisation : &quot;</span> &lt;&lt; motcles;
<a name="l00111"></a>00111 
<a name="l00112"></a>00112   <span class="keywordflow">if</span> (sous_type != <a class="code" href="classDiscretisation__base.html#afe6095f81e5437fe7a240f8fec88cf84">nom_vide</a>)
<a name="l00113"></a>00113     rang = <a class="code" href="classDiscretisation__base.html#ac7ab5a348ff71b9a0c6f18bd44752b68">verifie_sous_type</a>(type,sous_type,directive);
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="comment">// Si on n&#39;a pas compris la directive (ou si c&#39;est une demande_description)</span>
<a name="l00116"></a>00116 <span class="comment">// alors on appelle l&#39;ancetre :</span>
<a name="l00117"></a>00117   <span class="keywordflow">if</span> (rang &lt; 0)
<a name="l00118"></a>00118     {
<a name="l00119"></a>00119       <a class="code" href="classCoviMAC__discretisation.html#a2cb0a336389c3e2f8fb1a111ba017327" title="Discretisation d&#39;un champ pour le CoviMAC en fonction d&#39;une directive de discretisation. La directive est un Motcle comme &quot;vitesse&quot;, &quot;pression&quot;, &quot;temperature&quot;, &quot;champ_elem&quot; (cree un champ de type P0), ... Cette methode determine le type du champ a creer en fonction du type d&#39;element et de la directive de discretisation. Elle determine ensuite le nombre de ddl et fixe l&#39;ensemble des parametres du champ (type, nb_compo, nb_ddl, nb_pas_dt, nom(s), unite(s) et nature du champ) et associe la Zone_dis au champ. Voir le code pour avoir la correspondance entre les directives et le type de champ cree.">Discret_Thyd::discretiser_champ</a>(directive, z,
<a name="l00120"></a>00120                                       nature, noms, unites,
<a name="l00121"></a>00121                                       nb_comp, nb_pas_dt, temps, champ);
<a name="l00122"></a>00122       <span class="keywordflow">return</span>;
<a name="l00123"></a>00123     }
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="comment">// Calcul du nombre de ddl</span>
<a name="l00126"></a>00126   <span class="keywordtype">int</span> nb_ddl = 0;
<a name="l00127"></a>00127   <span class="keywordflow">if</span> (type.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(type_elem)) nb_ddl = z.<a class="code" href="classZone__dis__base.html#a790cb2f6bc2928518799e748313d0eb3">nb_elem</a>();
<a name="l00128"></a>00128   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(type_champ_vitesse)) nb_ddl = zone_CoviMAC.<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>() + nb_comp * zone_CoviMAC.<a class="code" href="classZone__dis__base.html#a790cb2f6bc2928518799e748313d0eb3">nb_elem</a>();
<a name="l00129"></a>00129   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;Champ_P1_CoviMAC&quot;</span>)) nb_ddl = zone_CoviMAC.<a class="code" href="classZone__dis__base.html#acc9921d6a29cb719fd832fd573e47825">nb_som</a>();
<a name="l00130"></a>00130   <span class="keywordflow">else</span> assert(0);
<a name="l00131"></a>00131 
<a name="l00132"></a>00132   <span class="comment">/* if (nature == multi_scalaire) {</span>
<a name="l00133"></a>00133 <span class="comment">    // Pas encore code</span>
<a name="l00134"></a>00134 <span class="comment">    Cerr &lt;&lt; &quot;Champ multi_scalaire pas code&quot; &lt;&lt; finl;</span>
<a name="l00135"></a>00135 <span class="comment">    assert(0); exit();</span>
<a name="l00136"></a>00136 <span class="comment">// Si c&#39;est un champ multiscalaire, uh !</span>
<a name="l00137"></a>00137 <span class="comment">    } else {*/</span>
<a name="l00138"></a>00138   <span class="keywordflow">if</span> (nb_comp &lt; 0)
<a name="l00139"></a>00139     nb_comp = default_nb_comp;
<a name="l00140"></a>00140   assert(nb_comp &gt; 0);
<a name="l00141"></a>00141   <a class="code" href="classDiscretisation__base.html#a9352fde12ac9fe076a5afba1f06c8a28" title="Methode statique qui cree un Champ_Inc du type specifie. Les parametres &quot;directive&quot; et &quot;nom_discre...">creer_champ</a>(champ, z, type, noms[0], unites[0], nb_comp, nb_ddl, nb_pas_dt, temps,
<a name="l00142"></a>00142               directive, <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>());
<a name="l00143"></a>00143   <span class="keywordflow">if</span> (nature == <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646ba5c7919c9af898542b94861e963ade862">multi_scalaire</a>)
<a name="l00144"></a>00144     {
<a name="l00145"></a>00145       champ.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>().<a class="code" href="classField__base.html#a740d888da6eb9db6c7b62e65faf2436e" title="Fixer la nature d&#39;un champ: scalaire, multiscalaire, vectoriel. Le type (enumere) Nature_du_champ est...">fixer_nature_du_champ</a>(nature);
<a name="l00146"></a>00146       champ.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>().<a class="code" href="classField__base.html#a39c1d5f3b23664c7d36ebd6880e96113" title="Specifie les unites des composantes du champ. Ces unites sont specifiees grace a un tableau de Nom et...">fixer_unites</a>(unites);
<a name="l00147"></a>00147       champ.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>().<a class="code" href="classField__base.html#a91540f9a5b77e485bc809287e351ca55" title="Fixe le nom des composantes du champ.">fixer_noms_compo</a>(noms);
<a name="l00148"></a>00148     }
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 }
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 <span class="comment">//</span><span class="comment"></span>
<a name="l00153"></a>00153 <span class="comment">//! Idem que CoviMAC_discretisation::discretiser_champ(... , Champ_Inc)</span>
<a name="l00154"></a><a class="code" href="classCoviMAC__discretisation.html#a4b755b3dda32afc82669259ae2c2ae44">00154</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#a2cb0a336389c3e2f8fb1a111ba017327" title="Discretisation d&#39;un champ pour le CoviMAC en fonction d&#39;une directive de discretisation. La directive est un Motcle comme &quot;vitesse&quot;, &quot;pression&quot;, &quot;temperature&quot;, &quot;champ_elem&quot; (cree un champ de type P0), ... Cette methode determine le type du champ a creer en fonction du type d&#39;element et de la directive de discretisation. Elle determine ensuite le nombre de ddl et fixe l&#39;ensemble des parametres du champ (type, nb_compo, nb_ddl, nb_pas_dt, nom(s), unite(s) et nature du champ) et associe la Zone_dis au champ. Voir le code pour avoir la correspondance entre les directives et le type de champ cree.">CoviMAC_discretisation::discretiser_champ</a>(
<a name="l00155"></a>00155   <span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; directive, <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; z,
<a name="l00156"></a>00156   <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646b" title="This is a base class from which inherit Champ_base and Champ_front_base. It handles all the generic a...">Nature_du_champ</a> nature,
<a name="l00157"></a>00157   <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; noms, <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; unites,
<a name="l00158"></a>00158   <span class="keywordtype">int</span> nb_comp, <span class="keywordtype">double</span> temps,
<a name="l00159"></a>00159   <a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>&amp; champ)<span class="keyword"> const</span>
<a name="l00160"></a>00160 <span class="keyword"></span>{
<a name="l00161"></a>00161   <a class="code" href="classCoviMAC__discretisation.html#aa97563211a36b66aa05fc6a63d13d25e" title="Idem que CoviMAC_discretisation::discretiser_champ(... , Champ_Inc) Traitement commun aux champ_fonc ...">discretiser_champ_fonc_don</a>(directive, z,
<a name="l00162"></a>00162                              nature, noms, unites,
<a name="l00163"></a>00163                              nb_comp, temps, champ);
<a name="l00164"></a>00164 }
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 <span class="comment">//</span><span class="comment"></span>
<a name="l00167"></a>00167 <span class="comment">//! Idem que CoviMAC_discretisation::discretiser_champ(... , Champ_Inc)</span>
<a name="l00168"></a><a class="code" href="classCoviMAC__discretisation.html#a42c31875a1e1dfc19197977aad2c59fe">00168</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#a2cb0a336389c3e2f8fb1a111ba017327" title="Discretisation d&#39;un champ pour le CoviMAC en fonction d&#39;une directive de discretisation. La directive est un Motcle comme &quot;vitesse&quot;, &quot;pression&quot;, &quot;temperature&quot;, &quot;champ_elem&quot; (cree un champ de type P0), ... Cette methode determine le type du champ a creer en fonction du type d&#39;element et de la directive de discretisation. Elle determine ensuite le nombre de ddl et fixe l&#39;ensemble des parametres du champ (type, nb_compo, nb_ddl, nb_pas_dt, nom(s), unite(s) et nature du champ) et associe la Zone_dis au champ. Voir le code pour avoir la correspondance entre les directives et le type de champ cree.">CoviMAC_discretisation::discretiser_champ</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; directive, <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; z,
<a name="l00169"></a>00169                                                <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646b" title="This is a base class from which inherit Champ_base and Champ_front_base. It handles all the generic a...">Nature_du_champ</a> nature,
<a name="l00170"></a>00170                                                <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; noms, <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; unites,
<a name="l00171"></a>00171                                                <span class="keywordtype">int</span> nb_comp, <span class="keywordtype">double</span> temps,
<a name="l00172"></a>00172                                                <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>&amp; champ)<span class="keyword"> const</span>
<a name="l00173"></a>00173 <span class="keyword"></span>{
<a name="l00174"></a>00174   <a class="code" href="classCoviMAC__discretisation.html#aa97563211a36b66aa05fc6a63d13d25e" title="Idem que CoviMAC_discretisation::discretiser_champ(... , Champ_Inc) Traitement commun aux champ_fonc ...">discretiser_champ_fonc_don</a>(directive, z,
<a name="l00175"></a>00175                              nature, noms, unites,
<a name="l00176"></a>00176                              nb_comp, temps, champ);
<a name="l00177"></a>00177 }
<a name="l00178"></a>00178 
<a name="l00179"></a>00179 <span class="comment">//</span>
<a name="l00180"></a>00180 <span class="comment">//</span>
<a name="l00181"></a>00181 <span class="comment">//</span>
<a name="l00182"></a>00182 <span class="comment">//</span><span class="comment"></span>
<a name="l00183"></a>00183 <span class="comment">//! Idem que CoviMAC_discretisation::discretiser_champ(... , Champ_Inc)&lt;br&gt;Traitement commun aux champ_fonc et champ_don.&lt;br&gt;Cette methode est privee (passage d&#39;un Objet_U pas propre vu&lt;br&gt;de l&#39;exterieur ...)</span>
<a name="l00184"></a><a class="code" href="classCoviMAC__discretisation.html#aa97563211a36b66aa05fc6a63d13d25e">00184</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#aa97563211a36b66aa05fc6a63d13d25e" title="Idem que CoviMAC_discretisation::discretiser_champ(... , Champ_Inc) Traitement commun aux champ_fonc ...">CoviMAC_discretisation::discretiser_champ_fonc_don</a>(
<a name="l00185"></a>00185   <span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; directive, <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; z,
<a name="l00186"></a>00186   <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646b" title="This is a base class from which inherit Champ_base and Champ_front_base. It handles all the generic a...">Nature_du_champ</a> nature,
<a name="l00187"></a>00187   <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; noms, <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; unites,
<a name="l00188"></a>00188   <span class="keywordtype">int</span> nb_comp, <span class="keywordtype">double</span> temps,
<a name="l00189"></a>00189   <a class="code" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>&amp; champ)<span class="keyword"> const</span>
<a name="l00190"></a>00190 <span class="keyword"></span>{
<a name="l00191"></a>00191 <span class="comment">// Deux pointeurs pour acceder facilement au champ_don ou au champ_fonc,</span>
<a name="l00192"></a>00192 <span class="comment">// suivant le type de l&#39;objet champ.</span>
<a name="l00193"></a>00193   <a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a> * champ_fonc = 0;
<a name="l00194"></a>00194   <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a> * champ_don = 0;
<a name="l00195"></a>00195   <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>, champ))
<a name="l00196"></a>00196     champ_fonc = &amp; <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>, champ);
<a name="l00197"></a>00197   <span class="keywordflow">else</span>
<a name="l00198"></a>00198     champ_don  = &amp; <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>, champ);
<a name="l00199"></a>00199 
<a name="l00200"></a>00200   <span class="keyword">const</span> <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>, z);
<a name="l00201"></a>00201 
<a name="l00202"></a>00202   <a class="code" href="classMotcles.html" title="Un tableau d&#39;objets de la classe Motcle.">Motcles</a> motcles(8);
<a name="l00203"></a>00203   motcles[0] = <span class="stringliteral">&quot;pression&quot;</span>;    <span class="comment">//!&lt; Choix standard pour la pression</span>
<a name="l00204"></a>00204 <span class="comment"></span>  motcles[1] = <span class="stringliteral">&quot;temperature&quot;</span>; <span class="comment">//!&lt; Choix standard pour la temperature</span>
<a name="l00205"></a>00205 <span class="comment"></span>  motcles[2] = <span class="stringliteral">&quot;divergence_vitesse&quot;</span>; <span class="comment">//!&lt; Le type de champ obtenu en calculant div v</span>
<a name="l00206"></a>00206 <span class="comment"></span>  motcles[3] = <span class="stringliteral">&quot;champ_elem&quot;</span>;  <span class="comment">//!&lt; Creer un champ aux elements (de type P0)</span>
<a name="l00207"></a>00207 <span class="comment"></span>  motcles[6] = <span class="stringliteral">&quot;champ_sommets&quot;</span>;  <span class="comment">//!&lt; Creer un champ aux elements (de type P1)</span>
<a name="l00208"></a>00208 <span class="comment"></span>  motcles[4] = <span class="stringliteral">&quot;vitesse&quot;</span>;     <span class="comment">//!&lt; Choix standard pour la vitesse</span>
<a name="l00209"></a>00209 <span class="comment"></span>  motcles[7] = <span class="stringliteral">&quot;champ_face&quot;</span>;     <span class="comment">//!&lt; Choix standard pour la vitesse</span>
<a name="l00210"></a>00210 <span class="comment"></span>  motcles[5] = <span class="stringliteral">&quot;gradient_pression&quot;</span>;  <span class="comment">//!&lt; Le type de champ obtenu en calculant grad P</span>
<a name="l00211"></a>00211 <span class="comment"></span>
<a name="l00212"></a>00212 <span class="comment">// Le type de champ de vitesse depend du type d&#39;element :</span>
<a name="l00213"></a>00213   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type_champ_vitesse(<span class="stringliteral">&quot;Champ_Fonc_Face_CoviMAC&quot;</span>);
<a name="l00214"></a>00214   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>(<span class="stringliteral">&quot;Champ_Fonc_P0_CoviMAC&quot;</span>);
<a name="l00215"></a>00215 
<a name="l00216"></a>00216   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type;
<a name="l00217"></a>00217   <span class="keywordtype">int</span> default_nb_comp = 0; <span class="comment">//!&lt; Valeur par defaut du nombre de composantes</span>
<a name="l00218"></a>00218 <span class="comment"></span>  <span class="keywordtype">int</span> rang = motcles.<a class="code" href="classMotcles.html#afecd68f73e904bc129022a236ff6ab15">search</a>(directive);
<a name="l00219"></a>00219   <span class="keywordflow">switch</span>(rang)
<a name="l00220"></a>00220     {
<a name="l00221"></a>00221     <span class="keywordflow">case</span> 0:
<a name="l00222"></a>00222     <span class="keywordflow">case</span> 1:
<a name="l00223"></a>00223     <span class="keywordflow">case</span> 2:
<a name="l00224"></a>00224     <span class="keywordflow">case</span> 3:
<a name="l00225"></a>00225       type = <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>;
<a name="l00226"></a>00226       default_nb_comp = 1;
<a name="l00227"></a>00227       <span class="keywordflow">break</span>;
<a name="l00228"></a>00228     <span class="keywordflow">case</span> 4:
<a name="l00229"></a>00229     <span class="keywordflow">case</span> 5:
<a name="l00230"></a>00230     <span class="keywordflow">case</span> 7:
<a name="l00231"></a>00231       type = type_champ_vitesse;
<a name="l00232"></a>00232       default_nb_comp = 3;
<a name="l00233"></a>00233       <span class="keywordflow">break</span>;
<a name="l00234"></a>00234     <span class="keywordflow">case</span> 6:
<a name="l00235"></a>00235       type = <span class="stringliteral">&quot;Champ_Fonc_P1_CoviMAC&quot;</span>;
<a name="l00236"></a>00236       default_nb_comp = 1;
<a name="l00237"></a>00237       <span class="keywordflow">break</span>;
<a name="l00238"></a>00238     <span class="keywordflow">default</span>:
<a name="l00239"></a>00239       assert(rang &lt; 0);
<a name="l00240"></a>00240       <span class="keywordflow">break</span>;
<a name="l00241"></a>00241     }
<a name="l00242"></a>00242 
<a name="l00243"></a>00243   <span class="keywordflow">if</span> (directive == <a class="code" href="classDiscretisation__base.html#af0f31ddb2e97f2d494ff0bc8438e3f9b">demande_description</a>)
<a name="l00244"></a>00244     <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;CoviMAC_discretisation : &quot;</span> &lt;&lt; motcles;
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 <span class="comment">// Si on n&#39;a pas compris la directive (ou si c&#39;est une demande_description)</span>
<a name="l00247"></a>00247 <span class="comment">// alors on appelle l&#39;ancetre :</span>
<a name="l00248"></a>00248   <span class="keywordflow">if</span> (rang &lt; 0)
<a name="l00249"></a>00249     {
<a name="l00250"></a>00250       <span class="keywordflow">if</span> (champ_fonc)
<a name="l00251"></a>00251         <a class="code" href="classCoviMAC__discretisation.html#a2cb0a336389c3e2f8fb1a111ba017327" title="Discretisation d&#39;un champ pour le CoviMAC en fonction d&#39;une directive de discretisation. La directive est un Motcle comme &quot;vitesse&quot;, &quot;pression&quot;, &quot;temperature&quot;, &quot;champ_elem&quot; (cree un champ de type P0), ... Cette methode determine le type du champ a creer en fonction du type d&#39;element et de la directive de discretisation. Elle determine ensuite le nombre de ddl et fixe l&#39;ensemble des parametres du champ (type, nb_compo, nb_ddl, nb_pas_dt, nom(s), unite(s) et nature du champ) et associe la Zone_dis au champ. Voir le code pour avoir la correspondance entre les directives et le type de champ cree.">Discret_Thyd::discretiser_champ</a>(directive, z, nature, noms, unites,
<a name="l00252"></a>00252                                         nb_comp, temps, *champ_fonc);
<a name="l00253"></a>00253       <span class="keywordflow">else</span>
<a name="l00254"></a>00254         <a class="code" href="classCoviMAC__discretisation.html#a2cb0a336389c3e2f8fb1a111ba017327" title="Discretisation d&#39;un champ pour le CoviMAC en fonction d&#39;une directive de discretisation. La directive est un Motcle comme &quot;vitesse&quot;, &quot;pression&quot;, &quot;temperature&quot;, &quot;champ_elem&quot; (cree un champ de type P0), ... Cette methode determine le type du champ a creer en fonction du type d&#39;element et de la directive de discretisation. Elle determine ensuite le nombre de ddl et fixe l&#39;ensemble des parametres du champ (type, nb_compo, nb_ddl, nb_pas_dt, nom(s), unite(s) et nature du champ) et associe la Zone_dis au champ. Voir le code pour avoir la correspondance entre les directives et le type de champ cree.">Discret_Thyd::discretiser_champ</a>(directive, z, nature, noms, unites,
<a name="l00255"></a>00255                                         nb_comp, temps, *champ_don);
<a name="l00256"></a>00256       <span class="keywordflow">return</span>;
<a name="l00257"></a>00257     }
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 <span class="comment">// Calcul du nombre de ddl</span>
<a name="l00260"></a>00260   <span class="keywordtype">int</span> nb_ddl = 0;
<a name="l00261"></a>00261   <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;Champ_Fonc_P0_CoviMAC&quot;</span>)
<a name="l00262"></a>00262     nb_ddl = z.<a class="code" href="classZone__dis__base.html#a790cb2f6bc2928518799e748313d0eb3">nb_elem</a>();
<a name="l00263"></a>00263   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == type_champ_vitesse)
<a name="l00264"></a>00264     nb_ddl = zone_CoviMAC.<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>();
<a name="l00265"></a>00265   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;Champ_Fonc_P1_CoviMAC&quot;</span>)
<a name="l00266"></a>00266     nb_ddl = zone_CoviMAC.<a class="code" href="classZone__dis__base.html#acc9921d6a29cb719fd832fd573e47825">nb_som</a>();
<a name="l00267"></a>00267   <span class="keywordflow">else</span>
<a name="l00268"></a>00268     assert(0);
<a name="l00269"></a>00269 
<a name="l00270"></a>00270 <span class="comment">// Si c&#39;est un champ multiscalaire, uh !</span>
<a name="l00271"></a>00271   <span class="keywordflow">if</span> (nb_comp &lt; 0)
<a name="l00272"></a>00272     nb_comp = default_nb_comp;
<a name="l00273"></a>00273   <span class="keywordflow">if</span> (champ_fonc)
<a name="l00274"></a>00274     <a class="code" href="classDiscretisation__base.html#a9352fde12ac9fe076a5afba1f06c8a28" title="Methode statique qui cree un Champ_Inc du type specifie. Les parametres &quot;directive&quot; et &quot;nom_discre...">creer_champ</a>(*champ_fonc, z, type, noms[0], unites[0], nb_comp, nb_ddl, temps,
<a name="l00275"></a>00275                 directive, <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>());
<a name="l00276"></a>00276   <span class="keywordflow">else</span>
<a name="l00277"></a>00277     <a class="code" href="classDiscretisation__base.html#a9352fde12ac9fe076a5afba1f06c8a28" title="Methode statique qui cree un Champ_Inc du type specifie. Les parametres &quot;directive&quot; et &quot;nom_discre...">creer_champ</a>(*champ_don, z, type, noms[0], unites[0], nb_comp, nb_ddl, temps,
<a name="l00278"></a>00278                 directive, <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>());
<a name="l00279"></a>00279   <span class="keywordflow">if</span> ((nature == <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646ba5c7919c9af898542b94861e963ade862">multi_scalaire</a>) &amp;&amp; (champ_fonc))
<a name="l00280"></a>00280     {
<a name="l00281"></a>00281       champ_fonc-&gt;<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>().<a class="code" href="classField__base.html#a740d888da6eb9db6c7b62e65faf2436e" title="Fixer la nature d&#39;un champ: scalaire, multiscalaire, vectoriel. Le type (enumere) Nature_du_champ est...">fixer_nature_du_champ</a>(nature);
<a name="l00282"></a>00282       champ_fonc-&gt;<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>().<a class="code" href="classField__base.html#a39c1d5f3b23664c7d36ebd6880e96113" title="Specifie les unites des composantes du champ. Ces unites sont specifiees grace a un tableau de Nom et...">fixer_unites</a>(unites);
<a name="l00283"></a>00283       champ_fonc-&gt;<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>().<a class="code" href="classField__base.html#a91540f9a5b77e485bc809287e351ca55" title="Fixe le nom des composantes du champ.">fixer_noms_compo</a>(noms);
<a name="l00284"></a>00284     }
<a name="l00285"></a>00285   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((nature == <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646ba5c7919c9af898542b94861e963ade862">multi_scalaire</a>) &amp;&amp; (champ_don))
<a name="l00286"></a>00286     {
<a name="l00287"></a>00287       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;There is no field of type Champ_Don with a multi_scalaire nature.&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00288"></a>00288       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00289"></a>00289     }
<a name="l00290"></a>00290 }
<a name="l00291"></a>00291 
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 
<a name="l00294"></a><a class="code" href="classCoviMAC__discretisation.html#a3f9e4ac6e2e89b7313aec44f2389eca1">00294</a> <span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#a3f9e4ac6e2e89b7313aec44f2389eca1">CoviMAC_discretisation::distance_paroi</a>(<span class="keyword">const</span> <a class="code" href="classSchema__Temps__base.html" title="classe Schema_Temps_base">Schema_Temps_base</a>&amp; sch,
<a name="l00295"></a>00295                                             <a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; z, <a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>&amp; ch)<span class="keyword"> const</span>
<a name="l00296"></a>00296 <span class="keyword"></span>{
<a name="l00297"></a>00297   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Discretisation de la distance paroi&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00298"></a>00298   <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>, z.<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>());
<a name="l00299"></a>00299   ch.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Champ_Fonc_P0_CoviMAC&quot;</span>);
<a name="l00300"></a>00300   <a class="code" href="classChamp__Fonc__P0__CoviMAC.html" title="classe Champ_Fonc_P0_CoviMAC">Champ_Fonc_P0_CoviMAC</a>&amp; ch_dist_paroi=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Fonc__P0__CoviMAC.html" title="classe Champ_Fonc_P0_CoviMAC">Champ_Fonc_P0_CoviMAC</a>,ch.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00301"></a>00301   ch_dist_paroi.<a class="code" href="classChamp__Fonc__P0__CoviMAC.html#ad4a0b8a9f6039cf0f907b0bd85122c84">associer_zone_dis_base</a>(zone_CoviMAC);
<a name="l00302"></a>00302   ch_dist_paroi.<a class="code" href="classField__base.html#a3e1964ad4c0e4132aa0e39bc36dfdb15" title="Donne un nom au champ.">nommer</a>(<span class="stringliteral">&quot;distance_paroi&quot;</span>);
<a name="l00303"></a>00303   ch_dist_paroi.<a class="code" href="classField__base.html#a0d3bb177287a79b9d7da6f3a46deff53" title="Fixe le nombre de composantes du champ. Le champ est vectoriel s&#39;il est de meme dimension que l&#39;espac...">fixer_nb_comp</a>(1);
<a name="l00304"></a>00304   ch_dist_paroi.<a class="code" href="classChamp__Fonc__P0__base.html#aeef2302afef7fee1fe421fc1bb5d3915" title="Fixe le nombre de degres de liberte par composante.">fixer_nb_valeurs_nodales</a>(zone_CoviMAC.<a class="code" href="classZone__dis__base.html#a790cb2f6bc2928518799e748313d0eb3">nb_elem</a>());
<a name="l00305"></a>00305   ch_dist_paroi.<a class="code" href="classField__base.html#a5bcb91a2475ee68412475efc3d9902f1" title="Specifie l&#39;unite d&#39;un champ scalaire ou dont toutes les composantes ont la meme unite.">fixer_unite</a>(<span class="stringliteral">&quot;m&quot;</span>);
<a name="l00306"></a>00306   ch_dist_paroi.<a class="code" href="classChamp__base.html#ab4fdc6fb46c5e4efe2f931ceadd66979" title="Fixe le temps auquel se situe le champ.">changer_temps</a>(sch.<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>());
<a name="l00307"></a>00307 }
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 
<a name="l00310"></a>00310 
<a name="l00311"></a><a class="code" href="classCoviMAC__discretisation.html#a75ea69d0698cd435aeb4a3417d93f75f">00311</a> <span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#a75ea69d0698cd435aeb4a3417d93f75f">CoviMAC_discretisation::vorticite</a>(<a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; z,<span class="keyword">const</span> <a class="code" href="classChamp__Inc.html">Champ_Inc</a>&amp; ch_vitesse,
<a name="l00312"></a>00312                                        <a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>&amp; ch)<span class="keyword"> const</span>
<a name="l00313"></a>00313 <span class="keyword"></span>{
<a name="l00314"></a>00314 <span class="preprocessor">#ifdef dependance</span>
<a name="l00315"></a>00315 <span class="preprocessor"></span>  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Discretisation de la vorticite &quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00316"></a>00316   <span class="keyword">const</span> <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>, z.<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>());
<a name="l00317"></a>00317 
<a name="l00318"></a>00318   <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classTri__CoviMAC.html">Tri_CoviMAC</a>,zone_CoviMAC.<a class="code" href="classZone__CoviMAC.html#a7920c662fc7896d2bea794adc6931fac">type_elem</a>().<a class="code" href="classDeriv__Elem__CoviMAC__base.html#a92e9fb4957278b62d345f9b3361b2a67">valeur</a>()) || <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classSegment__CoviMAC.html">Segment_CoviMAC</a>,zone_CoviMAC.<a class="code" href="classZone__CoviMAC.html#a7920c662fc7896d2bea794adc6931fac">type_elem</a>().<a class="code" href="classDeriv__Elem__CoviMAC__base.html#a92e9fb4957278b62d345f9b3361b2a67">valeur</a>()) || <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classTetra__CoviMAC.html">Tetra_CoviMAC</a>,zone_CoviMAC.<a class="code" href="classZone__CoviMAC.html#a7920c662fc7896d2bea794adc6931fac">type_elem</a>().<a class="code" href="classDeriv__Elem__CoviMAC__base.html#a92e9fb4957278b62d345f9b3361b2a67">valeur</a>()))
<a name="l00319"></a>00319     {
<a name="l00320"></a>00320       ch.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Rotationnel_Champ_P1_CoviMAC&quot;</span>);
<a name="l00321"></a>00321       <span class="keyword">const</span> <a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>&amp; vit = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>,ch_vitesse.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>());
<a name="l00322"></a>00322       Rotationnel_Champ_P1_CoviMAC&amp; ch_W=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(Rotationnel_Champ_P1_CoviMAC,ch.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00323"></a>00323       ch_W.associer_zone_dis_base(zone_CoviMAC);
<a name="l00324"></a>00324       ch_W.associer_champ(vit);
<a name="l00325"></a>00325       ch_W.nommer(<span class="stringliteral">&quot;vorticite&quot;</span>);
<a name="l00326"></a>00326       <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a> == 2)
<a name="l00327"></a>00327         ch_W.fixer_nb_comp(1);
<a name="l00328"></a>00328       <span class="keywordflow">else</span>
<a name="l00329"></a>00329         {
<a name="l00330"></a>00330           ch_W.fixer_nb_comp(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l00331"></a>00331           ch_W.fixer_nom_compo(0,<span class="stringliteral">&quot;vorticitex&quot;</span>);
<a name="l00332"></a>00332           ch_W.fixer_nom_compo(1,<span class="stringliteral">&quot;vorticitey&quot;</span>);
<a name="l00333"></a>00333           ch_W.fixer_nom_compo(2,<span class="stringliteral">&quot;vorticitez&quot;</span>);
<a name="l00334"></a>00334         }
<a name="l00335"></a>00335       ch_W.fixer_nb_valeurs_nodales(zone_CoviMAC.<a class="code" href="classZone__dis__base.html#a790cb2f6bc2928518799e748313d0eb3">nb_elem</a>());
<a name="l00336"></a>00336       ch_W.fixer_unite(<span class="stringliteral">&quot;s-1&quot;</span>);
<a name="l00337"></a>00337       ch_W.changer_temps(ch_vitesse.<a class="code" href="classChamp__Inc.html#a38da91792d3b4d3ab725a6edf7f62b5a" title="Appel a l&#39;objet sous-jacent Renvoie le temps courant.">temps</a>());
<a name="l00338"></a>00338     }
<a name="l00339"></a>00339   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classQuadri__CoviMAC.html">Quadri_CoviMAC</a>,zone_CoviMAC.<a class="code" href="classZone__CoviMAC.html#a7920c662fc7896d2bea794adc6931fac">type_elem</a>().<a class="code" href="classDeriv__Elem__CoviMAC__base.html#a92e9fb4957278b62d345f9b3361b2a67">valeur</a>()) || <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classHexa__CoviMAC.html">Hexa_CoviMAC</a>,zone_CoviMAC.<a class="code" href="classZone__CoviMAC.html#a7920c662fc7896d2bea794adc6931fac">type_elem</a>().<a class="code" href="classDeriv__Elem__CoviMAC__base.html#a92e9fb4957278b62d345f9b3361b2a67">valeur</a>()))
<a name="l00340"></a>00340     {
<a name="l00341"></a>00341       ch.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Rotationnel_Champ_Q1_CoviMAC&quot;</span>);
<a name="l00342"></a>00342       <span class="keyword">const</span> <a class="code" href="classChamp__Q1__CoviMAC.html">Champ_Q1_CoviMAC</a>&amp; vit = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Q1__CoviMAC.html">Champ_Q1_CoviMAC</a>,ch_vitesse.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>());
<a name="l00343"></a>00343       Rotationnel_Champ_Q1_CoviMAC&amp; ch_W=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(Rotationnel_Champ_Q1_CoviMAC,ch.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00344"></a>00344       ch_W.associer_zone_dis_base(zone_CoviMAC);
<a name="l00345"></a>00345       ch_W.associer_champ(vit);
<a name="l00346"></a>00346       ch_W.nommer(<span class="stringliteral">&quot;vorticite&quot;</span>);
<a name="l00347"></a>00347       <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a> == 2)
<a name="l00348"></a>00348         ch_W.fixer_nb_comp(1);
<a name="l00349"></a>00349       <span class="keywordflow">else</span>
<a name="l00350"></a>00350         {
<a name="l00351"></a>00351           ch_W.fixer_nb_comp(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l00352"></a>00352           ch_W.fixer_nom_compo(0,<span class="stringliteral">&quot;vorticitex&quot;</span>);
<a name="l00353"></a>00353           ch_W.fixer_nom_compo(1,<span class="stringliteral">&quot;vorticitey&quot;</span>);
<a name="l00354"></a>00354           ch_W.fixer_nom_compo(2,<span class="stringliteral">&quot;vorticitez&quot;</span>);
<a name="l00355"></a>00355         }
<a name="l00356"></a>00356       ch_W.fixer_nb_valeurs_nodales(zone_CoviMAC.<a class="code" href="classZone__dis__base.html#a790cb2f6bc2928518799e748313d0eb3">nb_elem</a>());
<a name="l00357"></a>00357       ch_W.fixer_unite(<span class="stringliteral">&quot;s-1&quot;</span>);
<a name="l00358"></a>00358       ch_W.changer_temps(ch_vitesse.<a class="code" href="classChamp__Inc.html#a38da91792d3b4d3ab725a6edf7f62b5a" title="Appel a l&#39;objet sous-jacent Renvoie le temps courant.">temps</a>());
<a name="l00359"></a>00359     }
<a name="l00360"></a>00360   <span class="keywordflow">else</span>
<a name="l00361"></a>00361     {
<a name="l00362"></a>00362       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Pb dans le typage des elements dans CoviMAC_discretisation::vorticite&quot;</span> &lt;&lt; finl;
<a name="l00363"></a>00363       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00364"></a>00364     }
<a name="l00365"></a>00365 <span class="preprocessor">#endif</span>
<a name="l00366"></a>00366 <span class="preprocessor"></span>}
<a name="l00367"></a>00367 
<a name="l00368"></a><a class="code" href="classCoviMAC__discretisation.html#a0e7b7cb26317ee38358a0a3674e9b67b">00368</a> <span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#a0e7b7cb26317ee38358a0a3674e9b67b" title="NE FAIT RIEN, provoque une erreur A surcharger dans les classes derivees.">CoviMAC_discretisation::creer_champ_vorticite</a>(<span class="keyword">const</span> <a class="code" href="classSchema__Temps__base.html" title="classe Schema_Temps_base">Schema_Temps_base</a>&amp; sch,
<a name="l00369"></a>00369                                                    <span class="keyword">const</span> <a class="code" href="classChamp__Inc.html">Champ_Inc</a>&amp; ch_vitesse,
<a name="l00370"></a>00370                                                    <a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>&amp; ch)<span class="keyword"> const</span>
<a name="l00371"></a>00371 <span class="keyword"></span>{
<a name="l00372"></a>00372 
<a name="l00373"></a>00373 <span class="preprocessor">#ifdef dependance</span>
<a name="l00374"></a>00374 <span class="preprocessor"></span>  <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>,ch_vitesse.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>()))
<a name="l00375"></a>00375     {
<a name="l00376"></a>00376       ch.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Rotationnel_Champ_P1_CoviMAC&quot;</span>);
<a name="l00377"></a>00377       <span class="keyword">const</span> <a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>&amp; vit = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>,ch_vitesse.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>());
<a name="l00378"></a>00378       <span class="keyword">const</span> <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>,vit.<a class="code" href="classChamp__P1__CoviMAC.html#ad7486d9ae335b0ba20c0b1d7979e02c0">zone_dis_base</a>());
<a name="l00379"></a>00379       Rotationnel_Champ_P1_CoviMAC&amp; ch_W = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(Rotationnel_Champ_P1_CoviMAC,ch.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00380"></a>00380       ch_W.associer_zone_dis_base(zone_CoviMAC);
<a name="l00381"></a>00381       ch_W.associer_champ(vit);
<a name="l00382"></a>00382       ch_W.nommer(<span class="stringliteral">&quot;vorticite&quot;</span>);
<a name="l00383"></a>00383       <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a> == 2)
<a name="l00384"></a>00384         ch_W.fixer_nb_comp(1);
<a name="l00385"></a>00385       <span class="keywordflow">else</span>
<a name="l00386"></a>00386         {
<a name="l00387"></a>00387           ch_W.fixer_nb_comp(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l00388"></a>00388           ch_W.fixer_nom_compo(0, <span class="stringliteral">&quot;vorticitex&quot;</span>);
<a name="l00389"></a>00389           ch_W.fixer_nom_compo(1, <span class="stringliteral">&quot;vorticitey&quot;</span>);
<a name="l00390"></a>00390           ch_W.fixer_nom_compo(2, <span class="stringliteral">&quot;vorticitez&quot;</span>);
<a name="l00391"></a>00391         }
<a name="l00392"></a>00392       ch_W.fixer_nb_valeurs_nodales(zone_CoviMAC.nb_elem());
<a name="l00393"></a>00393       ch_W.fixer_unite(<span class="stringliteral">&quot;s-1&quot;</span>);
<a name="l00394"></a>00394       ch_W.changer_temps(sch.<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>());
<a name="l00395"></a>00395     }
<a name="l00396"></a>00396   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Q1__CoviMAC.html">Champ_Q1_CoviMAC</a>,ch_vitesse.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>()))
<a name="l00397"></a>00397     {
<a name="l00398"></a>00398       ch.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Rotationnel_Champ_Q1_CoviMAC&quot;</span>);
<a name="l00399"></a>00399       <span class="keyword">const</span> <a class="code" href="classChamp__Q1__CoviMAC.html">Champ_Q1_CoviMAC</a>&amp; vit = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Q1__CoviMAC.html">Champ_Q1_CoviMAC</a>,ch_vitesse.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>());
<a name="l00400"></a>00400       <span class="keyword">const</span> <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>,vit.<a class="code" href="classChamp__Q1__CoviMAC.html#a500ded2dd27ec00debac5ad01add00c5">zone_dis_base</a>());
<a name="l00401"></a>00401       Rotationnel_Champ_Q1_CoviMAC&amp; ch_W = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(Rotationnel_Champ_Q1_CoviMAC,ch.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00402"></a>00402       ch_W.associer_zone_dis_base(zone_CoviMAC);
<a name="l00403"></a>00403       ch_W.associer_champ(vit);
<a name="l00404"></a>00404       ch_W.nommer(<span class="stringliteral">&quot;vorticite&quot;</span>);
<a name="l00405"></a>00405       <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a> == 2)
<a name="l00406"></a>00406         ch_W.fixer_nb_comp(1);
<a name="l00407"></a>00407       <span class="keywordflow">else</span>
<a name="l00408"></a>00408         {
<a name="l00409"></a>00409           ch_W.fixer_nb_comp(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l00410"></a>00410           ch_W.fixer_nom_compo(0, <span class="stringliteral">&quot;vorticitex&quot;</span>);
<a name="l00411"></a>00411           ch_W.fixer_nom_compo(1, <span class="stringliteral">&quot;vorticitey&quot;</span>);
<a name="l00412"></a>00412           ch_W.fixer_nom_compo(2, <span class="stringliteral">&quot;vorticitez&quot;</span>);
<a name="l00413"></a>00413         }
<a name="l00414"></a>00414       ch_W.fixer_nb_valeurs_nodales(zone_CoviMAC.nb_elem());
<a name="l00415"></a>00415       ch_W.fixer_unite(<span class="stringliteral">&quot;s-1&quot;</span>);
<a name="l00416"></a>00416       ch_W.changer_temps(sch.<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>());
<a name="l00417"></a>00417     }
<a name="l00418"></a>00418   <span class="keywordflow">else</span>
<a name="l00419"></a>00419     {
<a name="l00420"></a>00420       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Pb dans le typage des elements dans CoviMAC_discretisation::creer_champ_vorticite&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00421"></a>00421       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00422"></a>00422     }
<a name="l00423"></a>00423 <span class="preprocessor">#endif</span>
<a name="l00424"></a>00424 <span class="preprocessor"></span>}
<a name="l00425"></a>00425 
<a name="l00426"></a>00426 
<a name="l00427"></a>00427 
<a name="l00428"></a>00428 <span class="comment">// Precondition:</span>
<a name="l00429"></a>00429 <span class="comment">// Parametre: Zone_dis&amp;</span>
<a name="l00430"></a>00430 <span class="comment">// Signification: zone a discretiser</span>
<a name="l00431"></a>00431 <span class="comment">// Valeurs par defaut:</span>
<a name="l00432"></a>00432 <span class="comment">// Contraintes: reference constante</span>
<a name="l00433"></a>00433 <span class="comment">// Acces:</span>
<a name="l00434"></a>00434 <span class="comment">// Parametre: Fluide_Ostwald&amp;</span>
<a name="l00435"></a>00435 <span class="comment">// Signification: fluide a discretiser</span>
<a name="l00436"></a>00436 <span class="comment">// Valeurs par defaut:</span>
<a name="l00437"></a>00437 <span class="comment">// Contraintes:</span>
<a name="l00438"></a>00438 <span class="comment">// Acces:</span>
<a name="l00439"></a>00439 <span class="comment">// Parametre: Champ_Inc&amp;</span>
<a name="l00440"></a>00440 <span class="comment">// Signification: ch_vitesse</span>
<a name="l00441"></a>00441 <span class="comment">// Valeurs par defaut:</span>
<a name="l00442"></a>00442 <span class="comment">// Contraintes: reference constante</span>
<a name="l00443"></a>00443 <span class="comment">// Acces:</span>
<a name="l00444"></a>00444 <span class="comment">// Parametre: Champ_Inc&amp;</span>
<a name="l00445"></a>00445 <span class="comment">// Signification: temperature</span>
<a name="l00446"></a>00446 <span class="comment">// Valeurs par defaut:</span>
<a name="l00447"></a>00447 <span class="comment">// Contraintes:</span>
<a name="l00448"></a>00448 <span class="comment">// Acces:</span>
<a name="l00449"></a>00449 <span class="comment">// </span>
<a name="l00450"></a>00450 <span class="comment">// Signification:</span>
<a name="l00451"></a>00451 <span class="comment">// Contraintes:</span>
<a name="l00452"></a>00452 <span class="comment">// Exception:</span>
<a name="l00453"></a>00453 <span class="comment">// Effets de bord:</span>
<a name="l00454"></a>00454 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00455"></a>00455 <span class="comment">//</span><span class="comment"></span>
<a name="l00456"></a>00456 <span class="comment">//! discretise en CoviMAC le fluide incompressible, donc  K e N</span>
<a name="l00457"></a><a class="code" href="classCoviMAC__discretisation.html#a76f544ceb1867139e97fb0965d286735">00457</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#a76f544ceb1867139e97fb0965d286735" title="discretise en CoviMAC le fluide incompressible, donc K e N">CoviMAC_discretisation::proprietes_physiques_fluide_Ostwald</a>(<span class="keyword">const</span> <a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; z, <a class="code" href="classFluide__Ostwald.html" title="class Fluide_Ostwald Possede les proprietes d&#39;un fluide incompressible plus: N : indice de structure ...">Fluide_Ostwald</a>&amp; le_fluide,
<a name="l00458"></a>00458                                                                  <span class="keyword">const</span> <a class="code" href="classNavier__Stokes__std.html" title="classe Navier_Stokes_std Cette classe porte les termes de l&#39;equation de la dynamique pour un fluide s...">Navier_Stokes_std</a>&amp; eqn_hydr, <span class="keyword">const</span> <a class="code" href="classChamp__Inc.html">Champ_Inc</a>&amp; ch_temper )<span class="keyword"> const</span>
<a name="l00459"></a>00459 <span class="keyword"></span>{
<a name="l00460"></a>00460 
<a name="l00461"></a>00461 <span class="preprocessor">#ifdef dependance</span>
<a name="l00462"></a>00462 <span class="preprocessor"></span>  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Discretisation CoviMAC du fluide_Ostwald&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00463"></a>00463   <span class="keyword">const</span> <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>, z.<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>());
<a name="l00464"></a>00464   <span class="keyword">const</span> <a class="code" href="classChamp__Inc.html">Champ_Inc</a>&amp; ch_vitesse = eqn_hydr.<a class="code" href="classNavier__Stokes__std.html#a743b777e6185faee7837326844c8fca1" title="Renvoie la vitesse (champ inconnue de l&#39;equation) (version const)">inconnue</a>();
<a name="l00465"></a>00465   <span class="keyword">const</span> <a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>&amp; vit = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>,ch_vitesse.valeur());
<a name="l00466"></a>00466 
<a name="l00467"></a>00467 
<a name="l00468"></a>00468 
<a name="l00469"></a>00469 
<a name="l00470"></a>00470   <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>&amp; mu = le_fluide.<a class="code" href="classFluide__base.html#ae9d2bcde48c733b8b7652a32c6a80e49" title="Renvoie la viscosite dynamique, mu. (version const)">viscosite_dynamique</a>();
<a name="l00471"></a>00471 <span class="comment">// mu est toujours un champ_Ostwald_CoviMAC , il faut toujours faire ce qui suit</span>
<a name="l00472"></a>00472   mu.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Champ_Ostwald_CoviMAC&quot;</span>);
<a name="l00473"></a>00473   Champ_Ostwald_CoviMAC&amp; ch_mu = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(Champ_Ostwald_CoviMAC,mu.valeur());
<a name="l00474"></a>00474   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;associe zonedisbase CoviMAC&quot;</span>&lt;&lt;finl;
<a name="l00475"></a>00475   ch_mu.associer_zone_dis_base(zone_CoviMAC);
<a name="l00476"></a>00476   ch_mu.associer_fluide(le_fluide);
<a name="l00477"></a>00477   ch_mu.associer_champ(vit);
<a name="l00478"></a>00478   ch_mu.associer_eqn(eqn_hydr);
<a name="l00479"></a>00479   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;associations finies zone dis base, fluide, champ CoviMAC&quot;</span>&lt;&lt;finl;
<a name="l00480"></a>00480   ch_mu.fixer_nb_comp(1);
<a name="l00481"></a>00481 
<a name="l00482"></a>00482   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;fait fixer_nb_valeurs_nodales&quot;</span>&lt;&lt;finl;
<a name="l00483"></a>00483   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;nb_valeurs_nodales CoviMAC = &quot;</span>&lt;&lt;zone_CoviMAC.<a class="code" href="classZone__dis__base.html#a790cb2f6bc2928518799e748313d0eb3">nb_elem</a>()&lt;&lt;finl;
<a name="l00484"></a>00484   ch_mu.fixer_nb_valeurs_nodales(zone_CoviMAC.<a class="code" href="classZone__dis__base.html#a790cb2f6bc2928518799e748313d0eb3">nb_elem</a>());
<a name="l00485"></a>00485 
<a name="l00486"></a>00486   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;fait changer_temps&quot;</span>&lt;&lt;finl;
<a name="l00487"></a>00487   ch_mu.changer_temps(vit.<a class="code" href="classChamp__base.html#ada7350aecb7b6f20dcaee2d1106ab1a0" title="Renvoie le temps du champ.">temps</a>());
<a name="l00488"></a>00488   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;mu CoviMAC est discretise &quot;</span>&lt;&lt;finl;
<a name="l00489"></a>00489 <span class="preprocessor">#endif</span>
<a name="l00490"></a>00490 <span class="preprocessor"></span>}
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 
<a name="l00493"></a><a class="code" href="classCoviMAC__discretisation.html#a717ca4195bab87c3768600f8ddd2ae1e">00493</a> <span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#a717ca4195bab87c3768600f8ddd2ae1e">CoviMAC_discretisation::zone_Cl_dis</a>(<a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; z,
<a name="l00494"></a>00494                                          <a class="code" href="classZone__Cl__dis.html" title="classe Zone_Cl_dis Classe generique de la hierarchie des conditions aux limites discretisees. Un objet Zone_Cl_dis peut referencer n&#39;importe quel derivant de Zone_Cl_dis_base. La plupart des methodes appellent les methodes de l&#39;objet Probleme sous-jacent via la methode valeur() declaree grace a la macro Declare_deriv().;">Zone_Cl_dis</a>&amp; zcl)<span class="keyword"> const</span>
<a name="l00495"></a>00495 <span class="keyword"></span>{
<a name="l00496"></a>00496   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;discretisation des conditions limites&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00497"></a>00497   assert(z.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>());
<a name="l00498"></a>00498   <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>, z.<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>());
<a name="l00499"></a>00499   zcl.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Zone_Cl_CoviMAC&quot;</span>);
<a name="l00500"></a>00500   assert(zcl.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>());
<a name="l00501"></a>00501   <a class="code" href="classZone__Cl__CoviMAC.html">Zone_Cl_CoviMAC</a>&amp; zone_cl_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__Cl__CoviMAC.html">Zone_Cl_CoviMAC</a>, zcl.<a class="code" href="classDeriv__Zone__Cl__dis__base.html#a6b56880f00b604e1f13970ec6d5bc077">valeur</a>());
<a name="l00502"></a>00502   zone_cl_CoviMAC.associer(zone_CoviMAC);
<a name="l00503"></a>00503   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;discretisation des conditions limites OK&quot;</span> &lt;&lt; finl;
<a name="l00504"></a>00504 }
<a name="l00505"></a>00505 
<a name="l00506"></a>00506 
<a name="l00507"></a><a class="code" href="classCoviMAC__discretisation.html#abec6570cec67cfd8438123f99aeaa701">00507</a> <span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#abec6570cec67cfd8438123f99aeaa701" title="NE FAIT RIEN, provoque une erreur A surcharger dans les classes derivees.">CoviMAC_discretisation::critere_Q</a>(<span class="keyword">const</span> <a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; z,<span class="keyword">const</span> <a class="code" href="classZone__Cl__dis.html" title="classe Zone_Cl_dis Classe generique de la hierarchie des conditions aux limites discretisees. Un objet Zone_Cl_dis peut referencer n&#39;importe quel derivant de Zone_Cl_dis_base. La plupart des methodes appellent les methodes de l&#39;objet Probleme sous-jacent via la methode valeur() declaree grace a la macro Declare_deriv().;">Zone_Cl_dis</a>&amp; zcl,<span class="keyword">const</span> <a class="code" href="classChamp__Inc.html">Champ_Inc</a>&amp; ch_vitesse, <a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>&amp; ch)<span class="keyword"> const</span>
<a name="l00508"></a>00508 <span class="keyword"></span>{
<a name="l00509"></a>00509 <span class="preprocessor">#ifdef dependance</span>
<a name="l00510"></a>00510 <span class="preprocessor"></span><span class="comment">// On passe la zcl, pour qu&#39;il n y ait qu une methode qqsoit la dsicretisation</span>
<a name="l00511"></a>00511 <span class="comment">// mais on ne s&#39;en sert pas!!!</span>
<a name="l00512"></a>00512   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Discretisation du critere Q &quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00513"></a>00513   <span class="keyword">const</span> <a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>&amp; vit = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>,ch_vitesse.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>());
<a name="l00514"></a>00514   <span class="keyword">const</span> <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>, z.<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>());
<a name="l00515"></a>00515   ch.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Critere_Q_Champ_P1_CoviMAC&quot;</span>);
<a name="l00516"></a>00516   Critere_Q_Champ_P1_CoviMAC&amp; ch_cQ=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(Critere_Q_Champ_P1_CoviMAC,ch.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00517"></a>00517   ch_cQ.associer_zone_dis_base(zone_CoviMAC);
<a name="l00518"></a>00518   ch_cQ.associer_champ(vit);
<a name="l00519"></a>00519   ch_cQ.nommer(<span class="stringliteral">&quot;Critere_Q&quot;</span>);
<a name="l00520"></a>00520   ch_cQ.fixer_nb_comp(1);
<a name="l00521"></a>00521   ch_cQ.fixer_nb_valeurs_nodales(zone_CoviMAC.nb_elem());
<a name="l00522"></a>00522   ch_cQ.fixer_unite(<span class="stringliteral">&quot;s-2&quot;</span>);
<a name="l00523"></a>00523   ch_cQ.changer_temps(ch_vitesse.<a class="code" href="classChamp__Inc.html#a38da91792d3b4d3ab725a6edf7f62b5a" title="Appel a l&#39;objet sous-jacent Renvoie le temps courant.">temps</a>());
<a name="l00524"></a>00524 <span class="preprocessor">#endif</span>
<a name="l00525"></a>00525 <span class="preprocessor"></span>}
<a name="l00526"></a>00526 
<a name="l00527"></a>00527 
<a name="l00528"></a><a class="code" href="classCoviMAC__discretisation.html#ad3c7c63689582e9e4853e51e80a16e35">00528</a> <span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#ad3c7c63689582e9e4853e51e80a16e35">CoviMAC_discretisation::y_plus</a>(<span class="keyword">const</span> <a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; z,<span class="keyword">const</span> <a class="code" href="classZone__Cl__dis.html" title="classe Zone_Cl_dis Classe generique de la hierarchie des conditions aux limites discretisees. Un objet Zone_Cl_dis peut referencer n&#39;importe quel derivant de Zone_Cl_dis_base. La plupart des methodes appellent les methodes de l&#39;objet Probleme sous-jacent via la methode valeur() declaree grace a la macro Declare_deriv().;">Zone_Cl_dis</a>&amp; zcl,<span class="keyword">const</span> <a class="code" href="classChamp__Inc.html">Champ_Inc</a>&amp; ch_vitesse, <a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>&amp; ch)<span class="keyword"> const</span>
<a name="l00529"></a>00529 <span class="keyword"></span>{
<a name="l00530"></a>00530 
<a name="l00531"></a>00531 <span class="preprocessor">#ifdef dependance</span>
<a name="l00532"></a>00532 <span class="preprocessor"></span>  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Discretisation de y_plus&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00533"></a>00533   <span class="keyword">const</span> <a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>&amp; vit = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>,ch_vitesse.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>());
<a name="l00534"></a>00534   <span class="keyword">const</span> <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>, z.<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>());
<a name="l00535"></a>00535   <span class="keyword">const</span> <a class="code" href="classZone__Cl__CoviMAC.html">Zone_Cl_CoviMAC</a>&amp; zone_cl_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__Cl__CoviMAC.html">Zone_Cl_CoviMAC</a>, zcl.<a class="code" href="classDeriv__Zone__Cl__dis__base.html#a6b56880f00b604e1f13970ec6d5bc077">valeur</a>());
<a name="l00536"></a>00536   ch.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Y_plus_Champ_P1_CoviMAC&quot;</span>);
<a name="l00537"></a>00537   Y_plus_Champ_P1_CoviMAC&amp; ch_yp=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(Y_plus_Champ_P1_CoviMAC,ch.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00538"></a>00538   ch_yp.associer_zone_dis_base(zone_CoviMAC);
<a name="l00539"></a>00539   ch_yp.associer_zone_Cl_dis_base(zone_cl_CoviMAC);
<a name="l00540"></a>00540   ch_yp.associer_champ(vit);
<a name="l00541"></a>00541   ch_yp.nommer(<span class="stringliteral">&quot;Y_plus&quot;</span>);
<a name="l00542"></a>00542   ch_yp.fixer_nb_comp(1);
<a name="l00543"></a>00543   ch_yp.fixer_nb_valeurs_nodales(zone_CoviMAC.nb_elem());
<a name="l00544"></a>00544   ch_yp.fixer_unite(<span class="stringliteral">&quot;adimensionnel&quot;</span>);
<a name="l00545"></a>00545   ch_yp.changer_temps(ch_vitesse.<a class="code" href="classChamp__Inc.html#a38da91792d3b4d3ab725a6edf7f62b5a" title="Appel a l&#39;objet sous-jacent Renvoie le temps courant.">temps</a>());
<a name="l00546"></a>00546 <span class="preprocessor">#endif</span>
<a name="l00547"></a>00547 <span class="preprocessor"></span>}
<a name="l00548"></a>00548 
<a name="l00549"></a><a class="code" href="classCoviMAC__discretisation.html#ace2aeefcc2af7bae0a59dfdd5dd705eb">00549</a> <span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#ace2aeefcc2af7bae0a59dfdd5dd705eb">CoviMAC_discretisation::grad_T</a>(<span class="keyword">const</span> <a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; z,<span class="keyword">const</span> <a class="code" href="classZone__Cl__dis.html" title="classe Zone_Cl_dis Classe generique de la hierarchie des conditions aux limites discretisees. Un objet Zone_Cl_dis peut referencer n&#39;importe quel derivant de Zone_Cl_dis_base. La plupart des methodes appellent les methodes de l&#39;objet Probleme sous-jacent via la methode valeur() declaree grace a la macro Declare_deriv().;">Zone_Cl_dis</a>&amp; zcl,<span class="keyword">const</span> <a class="code" href="classChamp__Inc.html">Champ_Inc</a>&amp; ch_temperature, <a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>&amp; ch)<span class="keyword"> const</span>
<a name="l00550"></a>00550 <span class="keyword"></span>{
<a name="l00551"></a>00551 <span class="preprocessor">#ifdef dependance</span>
<a name="l00552"></a>00552 <span class="preprocessor"></span>  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Discretisation de gradient_temperature&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00553"></a>00553   <span class="keyword">const</span> <a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>&amp; temp = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>,ch_temperature.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>());
<a name="l00554"></a>00554   <span class="keyword">const</span> <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>, z.<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>());
<a name="l00555"></a>00555   <span class="keyword">const</span> <a class="code" href="classZone__Cl__CoviMAC.html">Zone_Cl_CoviMAC</a>&amp; zone_cl_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__Cl__CoviMAC.html">Zone_Cl_CoviMAC</a>, zcl.<a class="code" href="classDeriv__Zone__Cl__dis__base.html#a6b56880f00b604e1f13970ec6d5bc077">valeur</a>());
<a name="l00556"></a>00556   ch.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;gradient_temperature_Champ_P1_CoviMAC&quot;</span>);
<a name="l00557"></a>00557   grad_T_Champ_P1_CoviMAC&amp; ch_gt=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(grad_T_Champ_P1_CoviMAC,ch.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00558"></a>00558   ch_gt.associer_zone_dis_base(zone_CoviMAC);
<a name="l00559"></a>00559   ch_gt.associer_zone_Cl_dis_base(zone_cl_CoviMAC);
<a name="l00560"></a>00560   ch_gt.associer_champ(temp);
<a name="l00561"></a>00561   ch_gt.nommer(<span class="stringliteral">&quot;gradient_temperature&quot;</span>);
<a name="l00562"></a>00562   ch_gt.fixer_nb_comp(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l00563"></a>00563   ch_gt.fixer_nb_valeurs_nodales(zone_CoviMAC.nb_elem());
<a name="l00564"></a>00564   ch_gt.fixer_unite(<span class="stringliteral">&quot;K/m&quot;</span>);
<a name="l00565"></a>00565   ch_gt.changer_temps(ch_temperature.<a class="code" href="classChamp__Inc.html#a38da91792d3b4d3ab725a6edf7f62b5a" title="Appel a l&#39;objet sous-jacent Renvoie le temps courant.">temps</a>());
<a name="l00566"></a>00566 <span class="preprocessor">#endif</span>
<a name="l00567"></a>00567 <span class="preprocessor"></span>}
<a name="l00568"></a>00568 
<a name="l00569"></a><a class="code" href="classCoviMAC__discretisation.html#a5667f3554f31f685d5ca6ec2638760bc">00569</a> <span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#a5667f3554f31f685d5ca6ec2638760bc">CoviMAC_discretisation::grad_u</a>(<span class="keyword">const</span> <a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; z,<span class="keyword">const</span> <a class="code" href="classZone__Cl__dis.html" title="classe Zone_Cl_dis Classe generique de la hierarchie des conditions aux limites discretisees. Un objet Zone_Cl_dis peut referencer n&#39;importe quel derivant de Zone_Cl_dis_base. La plupart des methodes appellent les methodes de l&#39;objet Probleme sous-jacent via la methode valeur() declaree grace a la macro Declare_deriv().;">Zone_Cl_dis</a>&amp; zcl,<span class="keyword">const</span> <a class="code" href="classChamp__Inc.html">Champ_Inc</a>&amp; ch_vitesse,<a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>&amp; ch)<span class="keyword"> const</span>
<a name="l00570"></a>00570 <span class="keyword"></span>{
<a name="l00571"></a>00571   <span class="keyword">const</span> <a class="code" href="classChamp__Face__CoviMAC.html" title=": class Champ_Face_CoviMAC Champ correspondant a une inconnue decrite par ses tangentes aux faces dua...">Champ_Face_CoviMAC</a>&amp; vit = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Face__CoviMAC.html" title=": class Champ_Face_CoviMAC Champ correspondant a une inconnue decrite par ses tangentes aux faces dua...">Champ_Face_CoviMAC</a>,ch_vitesse.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>());
<a name="l00572"></a>00572   <span class="keyword">const</span> <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_poly=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>, z.<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>());
<a name="l00573"></a>00573   <span class="keyword">const</span> <a class="code" href="classZone__Cl__CoviMAC.html">Zone_Cl_CoviMAC</a>&amp; zone_cl_poly=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__Cl__CoviMAC.html">Zone_Cl_CoviMAC</a>, zcl.<a class="code" href="classDeriv__Zone__Cl__dis__base.html#a6b56880f00b604e1f13970ec6d5bc077">valeur</a>());
<a name="l00574"></a>00574   ch.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;grad_U_Champ_Face_CoviMAC&quot;</span>);
<a name="l00575"></a>00575   <a class="code" href="classgrad__U__Champ__Face__CoviMAC.html" title="classe grad_U_Champ_Face_CoviMAC">grad_U_Champ_Face_CoviMAC</a>&amp; ch_grad_u=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classgrad__U__Champ__Face__CoviMAC.html" title="classe grad_U_Champ_Face_CoviMAC">grad_U_Champ_Face_CoviMAC</a>,ch.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00576"></a>00576   ch_grad_u.<a class="code" href="classChamp__Fonc__P0__CoviMAC.html#ad4a0b8a9f6039cf0f907b0bd85122c84">associer_zone_dis_base</a>(zone_poly);
<a name="l00577"></a>00577   ch_grad_u.<a class="code" href="classgrad__U__Champ__Face__CoviMAC.html#a4310fd853f9e15242a16c15ed3a06564">associer_zone_Cl_dis_base</a>(zone_cl_poly);
<a name="l00578"></a>00578   ch_grad_u.<a class="code" href="classgrad__U__Champ__Face__CoviMAC.html#a0df2c360d224ac7a67112971d30d9121">associer_champ</a>(vit);
<a name="l00579"></a>00579   ch_grad_u.<a class="code" href="classField__base.html#a3e1964ad4c0e4132aa0e39bc36dfdb15" title="Donne un nom au champ.">nommer</a>(<span class="stringliteral">&quot;gradient_vitesse&quot;</span>);
<a name="l00580"></a>00580   ch_grad_u.<a class="code" href="classField__base.html#a0d3bb177287a79b9d7da6f3a46deff53" title="Fixe le nombre de composantes du champ. Le champ est vectoriel s&#39;il est de meme dimension que l&#39;espac...">fixer_nb_comp</a>(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>*<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l00581"></a>00581 
<a name="l00582"></a>00582   <span class="keywordflow">if</span> (dimension == 2)
<a name="l00583"></a>00583     {
<a name="l00584"></a>00584       ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(0,<span class="stringliteral">&quot;dUdX&quot;</span>); <span class="comment">//!&lt; du/dx</span>
<a name="l00585"></a>00585 <span class="comment"></span>      ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(1,<span class="stringliteral">&quot;dUdY&quot;</span>); <span class="comment">//!&lt; du/dy</span>
<a name="l00586"></a>00586 <span class="comment"></span>      ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(2,<span class="stringliteral">&quot;dVdX&quot;</span>); <span class="comment">//!&lt; dv/dx</span>
<a name="l00587"></a>00587 <span class="comment"></span>      ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(3,<span class="stringliteral">&quot;dVdY&quot;</span>); <span class="comment">//!&lt; dv/dy</span>
<a name="l00588"></a>00588 <span class="comment"></span>    }
<a name="l00589"></a>00589   <span class="keywordflow">else</span>
<a name="l00590"></a>00590     {
<a name="l00591"></a>00591       ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(0,<span class="stringliteral">&quot;dUdX&quot;</span>); <span class="comment">//!&lt; du/dx</span>
<a name="l00592"></a>00592 <span class="comment"></span>      ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(1,<span class="stringliteral">&quot;dUdY&quot;</span>); <span class="comment">//!&lt; du/dy</span>
<a name="l00593"></a>00593 <span class="comment"></span>      ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(2,<span class="stringliteral">&quot;dUdZ&quot;</span>); <span class="comment">//!&lt; du/dz</span>
<a name="l00594"></a>00594 <span class="comment"></span>      ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(3,<span class="stringliteral">&quot;dVdX&quot;</span>); <span class="comment">//!&lt; dv/dx</span>
<a name="l00595"></a>00595 <span class="comment"></span>      ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(4,<span class="stringliteral">&quot;dVdY&quot;</span>); <span class="comment">//!&lt; dv/dy</span>
<a name="l00596"></a>00596 <span class="comment"></span>      ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(5,<span class="stringliteral">&quot;dVdZ&quot;</span>); <span class="comment">//!&lt; dv/dz</span>
<a name="l00597"></a>00597 <span class="comment"></span>      ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(6,<span class="stringliteral">&quot;dWdX&quot;</span>); <span class="comment">//!&lt; dw/dx</span>
<a name="l00598"></a>00598 <span class="comment"></span>      ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(7,<span class="stringliteral">&quot;dWdY&quot;</span>); <span class="comment">//!&lt; dw/dy</span>
<a name="l00599"></a>00599 <span class="comment"></span>      ch_grad_u.<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(8,<span class="stringliteral">&quot;dWdZ&quot;</span>); <span class="comment">//!&lt; dw/dz</span>
<a name="l00600"></a>00600 <span class="comment"></span>    }
<a name="l00601"></a>00601   ch_grad_u.<a class="code" href="classField__base.html#a740d888da6eb9db6c7b62e65faf2436e" title="Fixer la nature d&#39;un champ: scalaire, multiscalaire, vectoriel. Le type (enumere) Nature_du_champ est...">fixer_nature_du_champ</a>(<a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646ba66d795f4e2fbb5636a3966c73964c5e7">vectoriel</a>);
<a name="l00602"></a>00602   ch_grad_u.<a class="code" href="classChamp__Fonc__P0__base.html#aeef2302afef7fee1fe421fc1bb5d3915" title="Fixe le nombre de degres de liberte par composante.">fixer_nb_valeurs_nodales</a>(zone_poly.nb_elem());
<a name="l00603"></a>00603   ch_grad_u.<a class="code" href="classField__base.html#a5bcb91a2475ee68412475efc3d9902f1" title="Specifie l&#39;unite d&#39;un champ scalaire ou dont toutes les composantes ont la meme unite.">fixer_unite</a>(<span class="stringliteral">&quot;s-1&quot;</span>);
<a name="l00604"></a>00604   ch_grad_u.<a class="code" href="classChamp__base.html#ab4fdc6fb46c5e4efe2f931ceadd66979" title="Fixe le temps auquel se situe le champ.">changer_temps</a>(ch_vitesse.<a class="code" href="classChamp__Inc.html#a38da91792d3b4d3ab725a6edf7f62b5a" title="Appel a l&#39;objet sous-jacent Renvoie le temps courant.">temps</a>());
<a name="l00605"></a>00605 }
<a name="l00606"></a>00606 
<a name="l00607"></a><a class="code" href="classCoviMAC__discretisation.html#a3f9b27f0cecf818a089124c07df66e5e">00607</a> <span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#a3f9b27f0cecf818a089124c07df66e5e">CoviMAC_discretisation::h_conv</a>(<span class="keyword">const</span> <a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; z,<span class="keyword">const</span> <a class="code" href="classZone__Cl__dis.html" title="classe Zone_Cl_dis Classe generique de la hierarchie des conditions aux limites discretisees. Un objet Zone_Cl_dis peut referencer n&#39;importe quel derivant de Zone_Cl_dis_base. La plupart des methodes appellent les methodes de l&#39;objet Probleme sous-jacent via la methode valeur() declaree grace a la macro Declare_deriv().;">Zone_Cl_dis</a>&amp; zcl,<span class="keyword">const</span> <a class="code" href="classChamp__Inc.html">Champ_Inc</a>&amp; ch_temperature, <a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>&amp; ch, <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; nom, <span class="keywordtype">int</span> temp_ref)<span class="keyword"> const</span>
<a name="l00608"></a>00608 <span class="keyword"></span>{
<a name="l00609"></a>00609 <span class="preprocessor">#ifdef dependance</span>
<a name="l00610"></a>00610 <span class="preprocessor"></span>  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Discretisation de h_conv&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00611"></a>00611   <span class="keyword">const</span> <a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>&amp; temp = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__P1__CoviMAC.html">Champ_P1_CoviMAC</a>,ch_temperature.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>());
<a name="l00612"></a>00612   <span class="keyword">const</span> <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>&amp; zone_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>, z.<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>());
<a name="l00613"></a>00613   <span class="keyword">const</span> <a class="code" href="classZone__Cl__CoviMAC.html">Zone_Cl_CoviMAC</a>&amp; zone_cl_CoviMAC=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__Cl__CoviMAC.html">Zone_Cl_CoviMAC</a>, zcl.<a class="code" href="classDeriv__Zone__Cl__dis__base.html#a6b56880f00b604e1f13970ec6d5bc077">valeur</a>());
<a name="l00614"></a>00614   ch.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;h_conv_Champ_P1_CoviMAC&quot;</span>);
<a name="l00615"></a>00615   h_conv_Champ_P1_CoviMAC&amp; ch_gt=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(h_conv_Champ_P1_CoviMAC,ch.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00616"></a>00616   ch_gt.associer_zone_dis_base(zone_CoviMAC);
<a name="l00617"></a>00617   ch_gt.associer_zone_Cl_dis_base(zone_cl_CoviMAC);
<a name="l00618"></a>00618   ch_gt.associer_champ(temp);
<a name="l00619"></a>00619   ch_gt.temp_ref()=temp_ref;
<a name="l00620"></a>00620 <span class="comment">//</span>
<a name="l00621"></a>00621   ch_gt.nommer(nom);
<a name="l00622"></a>00622   ch_gt.fixer_nb_comp(1);
<a name="l00623"></a>00623   ch_gt.fixer_nb_valeurs_nodales(zone_CoviMAC.nb_elem());
<a name="l00624"></a>00624   ch_gt.fixer_unite(<span class="stringliteral">&quot;W/m2.K&quot;</span>);
<a name="l00625"></a>00625   ch_gt.changer_temps(ch_temperature.<a class="code" href="classChamp__Inc.html#a38da91792d3b4d3ab725a6edf7f62b5a" title="Appel a l&#39;objet sous-jacent Renvoie le temps courant.">temps</a>());
<a name="l00626"></a>00626 <span class="preprocessor">#endif</span>
<a name="l00627"></a>00627 <span class="preprocessor"></span>}
<a name="l00628"></a><a class="code" href="classCoviMAC__discretisation.html#ac35da0b2595dd4dc1ee937159960c3a2">00628</a> <span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#ac35da0b2595dd4dc1ee937159960c3a2">CoviMAC_discretisation::modifier_champ_tabule</a>(<span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; <a class="code" href="classZone__CoviMAC.html" title="class Zone_CoviMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_CoviMAC</a>,<a class="code" href="classChamp__Fonc__Tabule.html" title="Classe Champ_Fonc_Tabule Classe derivee de Champ_Fonc_base qui represente les champs fonctions d&#39;un a...">Champ_Fonc_Tabule</a>&amp; lambda_tab, <span class="keyword">const</span> <a class="code" href="Vect_8h.html#adc7c7b04809c9aec2cb897cd2ef06378">VECT</a>(<a class="code" href="Ref_8h.html#aab5720a5c34da14028d0745e386aaa01">REF</a>(<a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>))&amp;  champs_param)<span class="keyword"> const</span>
<a name="l00629"></a>00629 <span class="keyword"></span>{
<a name="l00630"></a>00630   <a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>&amp; lambda_tab_dis = lambda_tab.<a class="code" href="classChamp__Fonc__Tabule.html#a022d39230c075438dca927047db7dc47" title="Renvoie le champ tabule calcule. (version const)">le_champ_tabule_discretise</a>();
<a name="l00631"></a>00631   lambda_tab_dis.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Champ_Fonc_Tabule_P0_CoviMAC&quot;</span>);
<a name="l00632"></a>00632   <a class="code" href="classChamp__Fonc__Tabule__P0__CoviMAC.html">Champ_Fonc_Tabule_P0_CoviMAC</a>&amp; ch_tab_lambda_dis =
<a name="l00633"></a>00633     <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Fonc__Tabule__P0__CoviMAC.html">Champ_Fonc_Tabule_P0_CoviMAC</a>,lambda_tab_dis.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00634"></a>00634 <span class="comment">// ch_tab_lambda_dis.nommer(nom_champ);</span>
<a name="l00635"></a>00635   ch_tab_lambda_dis.<a class="code" href="classChamp__Fonc__P0__CoviMAC.html#ad4a0b8a9f6039cf0f907b0bd85122c84">associer_zone_dis_base</a>(Zone_CoviMAC);
<a name="l00636"></a>00636   ch_tab_lambda_dis.<a class="code" href="classChamp__Fonc__Tabule__P0__CoviMAC.html#a81430174e263a2e019b8a01626c6de20">associer_param</a>(champs_param, lambda_tab.<a class="code" href="classChamp__Fonc__Tabule.html#a3b483924acf856e01022f40e81b35631">table</a>());
<a name="l00637"></a>00637   ch_tab_lambda_dis.<a class="code" href="classField__base.html#a0d3bb177287a79b9d7da6f3a46deff53" title="Fixe le nombre de composantes du champ. Le champ est vectoriel s&#39;il est de meme dimension que l&#39;espac...">fixer_nb_comp</a>(lambda_tab.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>());
<a name="l00638"></a>00638   ch_tab_lambda_dis.<a class="code" href="classChamp__Fonc__P0__base.html#aeef2302afef7fee1fe421fc1bb5d3915" title="Fixe le nombre de degres de liberte par composante.">fixer_nb_valeurs_nodales</a>(Zone_CoviMAC.<a class="code" href="classZone__dis__base.html#a790cb2f6bc2928518799e748313d0eb3">nb_elem</a>());
<a name="l00639"></a>00639 <span class="comment">// ch_tab_lambda_dis.fixer_unite(unite);</span>
<a name="l00640"></a>00640   ch_tab_lambda_dis.<a class="code" href="classChamp__base.html#ab4fdc6fb46c5e4efe2f931ceadd66979" title="Fixe le temps auquel se situe le champ.">changer_temps</a>(champs_param[0].<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>().temps());
<a name="l00641"></a>00641 }
<a name="l00642"></a>00642 
<a name="l00643"></a><a class="code" href="classCoviMAC__discretisation.html#a95a84cd8933abc180bc9134a41256e09">00643</a> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>  <a class="code" href="classCoviMAC__discretisation.html#a95a84cd8933abc180bc9134a41256e09" title="remplit le Nom type en focntion de la classe de operateur, du type de l&#39;operateur et de l&#39;equation Pa...">CoviMAC_discretisation::get_name_of_type_for</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; class_operateur, <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; type_operateur,<span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; eqn,  <span class="keyword">const</span> <a class="code" href="Ref_8h.html#aab5720a5c34da14028d0745e386aaa01">REF</a>(<a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>)&amp; champ_sup)<span class="keyword"> const</span>
<a name="l00644"></a>00644 <span class="keyword"></span>{
<a name="l00645"></a>00645   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type;
<a name="l00646"></a>00646   <span class="keywordflow">if</span> (class_operateur==<span class="stringliteral">&quot;Source&quot;</span>)
<a name="l00647"></a>00647     {
<a name="l00648"></a>00648       type=type_operateur;
<a name="l00649"></a>00649       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> champ = (eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>());
<a name="l00650"></a>00650       champ.<a class="code" href="classNom.html#acdb0a56b1654b0c37050be0ca9435706" title="extraction de suffix : Nom x(&quot;azerty&quot;); x.suffix(&quot;aze&quot;) x contient &quot;rty&quot;.">suffix</a>(<span class="stringliteral">&quot;Champ&quot;</span>);
<a name="l00651"></a>00651       type+=champ;
<a name="l00652"></a>00652 <span class="comment">// type+=&quot;_CoviMAC&quot;;</span>
<a name="l00653"></a>00653       <span class="keywordflow">return</span> type;
<a name="l00654"></a>00654 
<a name="l00655"></a>00655     }
<a name="l00656"></a>00656   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (class_operateur==<span class="stringliteral">&quot;Solveur_Masse&quot;</span>)
<a name="l00657"></a>00657     {
<a name="l00658"></a>00658       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type_ch=eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
<a name="l00659"></a>00659       <span class="keywordflow">if</span> (type_ch.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;Champ_P0&quot;</span>))
<a name="l00660"></a>00660         type_ch = <span class="stringliteral">&quot;_Elem&quot;</span>;
<a name="l00661"></a>00661 
<a name="l00662"></a>00662       <span class="keywordflow">if</span> (type_ch.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;Champ_Face&quot;</span>))
<a name="l00663"></a>00663         type_ch = <span class="stringliteral">&quot;_Face&quot;</span>;
<a name="l00664"></a>00664 
<a name="l00665"></a>00665 
<a name="l00666"></a>00666       type=<span class="stringliteral">&quot;Masse_CoviMAC&quot;</span>;
<a name="l00667"></a>00667       type+=type_ch;
<a name="l00668"></a>00668     }
<a name="l00669"></a>00669   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (class_operateur==<span class="stringliteral">&quot;Operateur_Grad&quot;</span>)
<a name="l00670"></a>00670     {
<a name="l00671"></a>00671       type=<span class="stringliteral">&quot;Op_Grad_CoviMAC_Face&quot;</span>;
<a name="l00672"></a>00672     }
<a name="l00673"></a>00673   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (class_operateur==<span class="stringliteral">&quot;Operateur_Div&quot;</span>)
<a name="l00674"></a>00674     {
<a name="l00675"></a>00675       type=<span class="stringliteral">&quot;Op_Div_CoviMAC&quot;</span>;
<a name="l00676"></a>00676     }
<a name="l00677"></a>00677 
<a name="l00678"></a>00678   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (class_operateur==<span class="stringliteral">&quot;Operateur_Diff&quot;</span>)
<a name="l00679"></a>00679     {
<a name="l00680"></a>00680       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type_ch=eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
<a name="l00681"></a>00681       <span class="keywordflow">if</span> (type_ch.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;Champ_P0&quot;</span>))
<a name="l00682"></a>00682         type_ch = <span class="stringliteral">&quot;_Elem&quot;</span>;
<a name="l00683"></a>00683 
<a name="l00684"></a>00684       <span class="keywordflow">if</span> (type_ch.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;Champ_Face&quot;</span>))
<a name="l00685"></a>00685         type_ch = <span class="stringliteral">&quot;_Face&quot;</span>;
<a name="l00686"></a>00686 
<a name="l00687"></a>00687       type=<span class="stringliteral">&quot;Op_Diff&quot;</span> ;
<a name="l00688"></a>00688       <span class="keywordflow">if</span> (type_operateur!=<span class="stringliteral">&quot;&quot;</span> )
<a name="l00689"></a>00689         {
<a name="l00690"></a>00690           type+=<span class="stringliteral">&quot;_&quot;</span>;
<a name="l00691"></a>00691           type+=type_operateur;
<a name="l00692"></a>00692         }
<a name="l00693"></a>00693       type+=<span class="stringliteral">&quot;_CoviMAC&quot;</span>;
<a name="l00694"></a>00694       type += type_ch;
<a name="l00695"></a>00695     }
<a name="l00696"></a>00696   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (class_operateur==<span class="stringliteral">&quot;Operateur_Conv&quot;</span>)
<a name="l00697"></a>00697     {
<a name="l00698"></a>00698       type=<span class="stringliteral">&quot;Op_Conv_&quot;</span>;
<a name="l00699"></a>00699       type+=type_operateur;
<a name="l00700"></a>00700       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> tiret=<span class="stringliteral">&quot;_&quot;</span>;
<a name="l00701"></a>00701       type+= tiret;
<a name="l00702"></a>00702       type+=<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
<a name="l00703"></a>00703       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type_ch=eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
<a name="l00704"></a>00704       <span class="keywordflow">if</span> (type_ch.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;Champ_P0&quot;</span>))
<a name="l00705"></a>00705         type += <span class="stringliteral">&quot;_Elem&quot;</span>;
<a name="l00706"></a>00706       <span class="keywordflow">if</span> (type_ch.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;Champ_Face&quot;</span>))
<a name="l00707"></a>00707         type += <span class="stringliteral">&quot;_Face&quot;</span>;
<a name="l00708"></a>00708       type+= <span class="stringliteral">&quot;_CoviMAC&quot;</span>;
<a name="l00709"></a>00709     }
<a name="l00710"></a>00710   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (class_operateur==<span class="stringliteral">&quot;Operateur_Evanescence&quot;</span>)
<a name="l00711"></a>00711     {
<a name="l00712"></a>00712       type= <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;Op_&quot;</span>) + class_operateur.<a class="code" href="classNom.html#ac503a087f3b2d8115f1d406646ed3c61">getSuffix</a>(<span class="stringliteral">&quot;Operateur_&quot;</span>) + <span class="stringliteral">&quot;_&quot;</span> + type_operateur
<a name="l00713"></a>00713             + (type_operateur != <span class="stringliteral">&quot;&quot;</span> ? <span class="stringliteral">&quot;_&quot;</span> : <span class="stringliteral">&quot;&quot;</span>) + <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
<a name="l00714"></a>00714       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type_ch=eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
<a name="l00715"></a>00715       <span class="keywordflow">if</span> (type_ch.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;Champ_P0&quot;</span>))
<a name="l00716"></a>00716         type += <span class="stringliteral">&quot;_Elem&quot;</span>;
<a name="l00717"></a>00717       <span class="keywordflow">if</span> (type_ch.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;Champ_Face&quot;</span>))
<a name="l00718"></a>00718         type += <span class="stringliteral">&quot;_Face&quot;</span>;
<a name="l00719"></a>00719     }
<a name="l00720"></a>00720   <span class="keywordflow">else</span>
<a name="l00721"></a>00721     {
<a name="l00722"></a>00722       <span class="keywordflow">return</span> <a class="code" href="classCoviMAC__discretisation.html#a95a84cd8933abc180bc9134a41256e09" title="remplit le Nom type en focntion de la classe de operateur, du type de l&#39;operateur et de l&#39;equation Pa...">Discret_Thyd::get_name_of_type_for</a>(class_operateur,type_operateur,eqn);
<a name="l00723"></a>00723     }
<a name="l00724"></a>00724   <span class="keywordflow">return</span> type;
<a name="l00725"></a>00725 }
<a name="l00726"></a><a class="code" href="classCoviMAC__discretisation.html#a0fef5b6b4d9b70ca186498bd238d0042">00726</a> <span class="keywordtype">void</span> <a class="code" href="classCoviMAC__discretisation.html#a0fef5b6b4d9b70ca186498bd238d0042">CoviMAC_discretisation::residu</a>( <span class="keyword">const</span> <a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; z, <span class="keyword">const</span> <a class="code" href="classChamp__Inc.html">Champ_Inc</a>&amp; ch_inco, <a class="code" href="classChamp__Fonc.html" title="classe Champ_Fonc Classe generique de la hierarchie des champs fontions du temps, un objet Champ_Fonc...">Champ_Fonc</a>&amp; champ )<span class="keyword"> const</span>
<a name="l00727"></a>00727 <span class="keyword"></span>{
<a name="l00728"></a>00728 
<a name="l00729"></a>00729   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> ch_name(ch_inco.<a class="code" href="classO__U__Ptr.html#a5aae0c48048a40339f3847aa14109231" title="Renvoie ref_().le_nom() si le pointeur est non nul ou &quot;Pointeur Nul&quot;.">le_nom</a>());
<a name="l00730"></a>00730   ch_name += <span class="stringliteral">&quot;_residu&quot;</span>;
<a name="l00731"></a>00731   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Discretization of &quot;</span> &lt;&lt; ch_name &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00732"></a>00732 
<a name="l00733"></a>00733   <span class="keyword">const</span> Zone_CoviMAC&amp; zone = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>( Zone_CoviMAC, z.<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>( ) );
<a name="l00734"></a>00734 
<a name="l00735"></a>00735   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> loc;
<a name="l00736"></a>00736   <span class="keywordtype">int</span> nb_comp;
<a name="l00737"></a>00737   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type_ch = ch_inco.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>().<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
<a name="l00738"></a>00738   <span class="keywordflow">if</span> (type_ch.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;Champ_Face&quot;</span>))
<a name="l00739"></a>00739     {
<a name="l00740"></a>00740       loc= <span class="stringliteral">&quot;champ_face&quot;</span>;
<a name="l00741"></a>00741       nb_comp = <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>;
<a name="l00742"></a>00742     }
<a name="l00743"></a>00743   <span class="keywordflow">else</span>
<a name="l00744"></a>00744     {
<a name="l00745"></a>00745       loc = <span class="stringliteral">&quot;champ_elem&quot;</span>;
<a name="l00746"></a>00746       nb_comp = ch_inco.<a class="code" href="classChamp__Inc.html#a28ef3d411d12cb5684ac5e799efb7d24" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs au temps courant.">valeurs</a>().<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>();
<a name="l00747"></a>00747     }
<a name="l00748"></a>00748 
<a name="l00749"></a>00749   <a class="code" href="classCoviMAC__discretisation.html#a2cb0a336389c3e2f8fb1a111ba017327" title="Discretisation d&#39;un champ pour le CoviMAC en fonction d&#39;une directive de discretisation. La directive est un Motcle comme &quot;vitesse&quot;, &quot;pression&quot;, &quot;temperature&quot;, &quot;champ_elem&quot; (cree un champ de type P0), ... Cette methode determine le type du champ a creer en fonction du type d&#39;element et de la directive de discretisation. Elle determine ensuite le nombre de ddl et fixe l&#39;ensemble des parametres du champ (type, nb_compo, nb_ddl, nb_pas_dt, nom(s), unite(s) et nature du champ) et associe la Zone_dis au champ. Voir le code pour avoir la correspondance entre les directives et le type de champ cree.">Discretisation_base::discretiser_champ</a>(loc,zone, ch_name ,<span class="stringliteral">&quot;units_not_defined&quot;</span>,nb_comp,ch_inco.<a class="code" href="classChamp__Inc.html#a38da91792d3b4d3ab725a6edf7f62b5a" title="Appel a l&#39;objet sous-jacent Renvoie le temps courant.">temps</a>(),champ);
<a name="l00750"></a>00750   <a class="code" href="classChamp__Fonc__base.html" title="classe Champ_Fonc_base Classe de base des champs qui sont fonction d&#39;une grandeur calculee au cours d...">Champ_Fonc_base</a>&amp; ch_fonc = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Fonc__base.html" title="classe Champ_Fonc_base Classe de base des champs qui sont fonction d&#39;une grandeur calculee au cours d...">Champ_Fonc_base</a>,champ.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>());
<a name="l00751"></a>00751   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab=ch_fonc.valeurs();
<a name="l00752"></a>00752   tab = -10000.0 ;
<a name="l00753"></a>00753   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;[Information] Discretisation_base::residu : the residue is set to -10000.0 at initial time&quot;</span> &lt;&lt;finl;
<a name="l00754"></a>00754 
<a name="l00755"></a>00755 }
<a name="l00756"></a>00756 
<a name="l00757"></a>00757 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:10 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
