<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Champs/Champ_front_lu.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Champs/Champ_front_lu.cpp</div>  </div>
</div>
<div class="contents">
<a href="Champ__front__lu_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Champ_front_lu.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Champs</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/28</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Champ__front__lu_8h.html">Champ_front_lu.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Domaine_8h.html">Domaine.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="LecFicDiffuse_8h.html">LecFicDiffuse.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Interprete_8h.html">Interprete.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VF_8h.html">Zone_VF.h</a>&gt;</span>
<a name="l00028"></a>00028 
<a name="l00029"></a><a class="code" href="Champ__front__lu_8cpp.html#a548a43d9ce329bbca46ebcaaf429976b">00029</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classChamp__front__lu.html" title="classe Champ_front_lu Classe derivee de Champ_front_var qui represente les champs aux frontieres dont...">Champ_front_lu</a>,<span class="stringliteral">&quot;Champ_front_lu&quot;</span>,<a class="code" href="classCh__front__var__stationnaire.html" title="classe Ch_front_var_stationnaire Cette classe abstraite represente un champ sur une frontiere...">Ch_front_var_stationnaire</a>);
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="comment">// Precondition:</span>
<a name="l00034"></a>00034 <span class="comment">// Parametre: Sortie&amp; os</span>
<a name="l00035"></a>00035 <span class="comment">// Signification: un flot de sortie</span>
<a name="l00036"></a>00036 <span class="comment">// Valeurs par defaut:</span>
<a name="l00037"></a>00037 <span class="comment">// Contraintes:</span>
<a name="l00038"></a>00038 <span class="comment">// Acces: entree/sortie</span>
<a name="l00039"></a>00039 <span class="comment">// Exception:</span>
<a name="l00040"></a>00040 <span class="comment">// Effets de bord:</span>
<a name="l00041"></a>00041 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00042"></a>00042 <span class="comment">//</span>
<a name="l00043"></a>00043 <span class="comment">//</span>
<a name="l00044"></a>00044 <span class="comment">//</span><span class="comment"></span>
<a name="l00045"></a>00045 <span class="comment">//! Imprime le champ sur flot de sortie.&lt;br&gt;Imprime la taille du champ et la valeur (constante) sur&lt;br&gt;la frontiere.</span>
<a name="l00046"></a>00046 <span class="comment"></span><span class="comment">/** \return Sortie\&amp;&lt;br&gt;</span>
<a name="l00047"></a>00047 <span class="comment">Signification: le flot de sortie modifie&lt;br&gt;</span>
<a name="l00048"></a>00048 <span class="comment">Contraintes: */</span>
<a name="l00049"></a><a class="code" href="classChamp__front__lu.html#a4515a45bc8387959a37cfa00bd794646">00049</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classChamp__front__lu.html#a4515a45bc8387959a37cfa00bd794646" title="Imprime le champ sur flot de sortie. Imprime la taille du champ et la valeur (constante) sur la front...">Champ_front_lu::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00050"></a>00050 <span class="keyword"></span>{
<a name="l00051"></a>00051   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab=<a class="code" href="classChamp__front__base.html#a7d124849f85571b21d805a760deefdc0" title="Renvoie le tableau des valeurs du champ.">valeurs</a>();
<a name="l00052"></a>00052   os &lt;&lt; tab.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00053"></a>00053   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;tab.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>(); i++)
<a name="l00054"></a>00054     os &lt;&lt; tab(0,i);
<a name="l00055"></a>00055   <span class="keywordflow">return</span> os;
<a name="l00056"></a>00056 }
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="comment">// Precondition:</span>
<a name="l00060"></a>00060 <span class="comment">// Parametre: Entree&amp; is</span>
<a name="l00061"></a>00061 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00062"></a>00062 <span class="comment">// Valeurs par defaut:</span>
<a name="l00063"></a>00063 <span class="comment">// Contraintes:</span>
<a name="l00064"></a>00064 <span class="comment">// Acces: entree/sortie</span>
<a name="l00065"></a>00065 <span class="comment">// Exception:</span>
<a name="l00066"></a>00066 <span class="comment">// Effets de bord:</span>
<a name="l00067"></a>00067 <span class="comment">// Postcondition: le champ analytique a la valeur lue</span>
<a name="l00068"></a>00068 <span class="comment">//</span>
<a name="l00069"></a>00069 <span class="comment">//</span>
<a name="l00070"></a>00070 <span class="comment">//</span><span class="comment"></span>
<a name="l00071"></a>00071 <span class="comment">//! Lit le champ a partir d&#39;un flot d&#39;entree.&lt;br&gt;Format:&lt;br&gt;Champ_front_lu nb_compo vrel_1 ... [vrel_i]</span>
<a name="l00072"></a>00072 <span class="comment"></span><span class="comment">/** \return Entree\&amp; is&lt;br&gt;</span>
<a name="l00073"></a>00073 <span class="comment">Signification: le flot d&#39;entree modifie&lt;br&gt;</span>
<a name="l00074"></a>00074 <span class="comment">Contraintes: */</span>
<a name="l00075"></a><a class="code" href="classChamp__front__lu.html#af157a255418d2d83a360ca6a30b48a46">00075</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classChamp__front__lu.html#af157a255418d2d83a360ca6a30b48a46" title="Lit le champ a partir d&#39;un flot d&#39;entree. Format: Champ_front_lu nb_compo vrel_1 ... [vrel_i].">Champ_front_lu::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00076"></a>00076 {
<a name="l00077"></a>00077   <span class="keywordtype">int</span> dim;
<a name="l00078"></a>00078   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> motlu;
<a name="l00079"></a>00079   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom;
<a name="l00080"></a>00080   is &gt;&gt; nom;
<a name="l00081"></a>00081 
<a name="l00082"></a>00082   <a class="code" href="classChamp__front__lu.html#a97a88d6e0dc1bd2988f429ecb2ace71e">mon_domaine</a> = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>, <a class="code" href="classInterprete.html#a3ca248609f0b72eac68baca14621b4ee" title="Voir Interprete_bloc::objet_global() BM: la classe Interprete n&#39;est pas le meilleur endroit pour cett...">Interprete::objet</a>(nom));
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 
<a name="l00086"></a>00086   dim=<a class="code" href="classChamp__Proto.html#aab57f8de7f990578e4aa3bb83046b303" title="Verification de la dimension du champ Renvoie la dimension du champ.">lire_dimension</a>(is,<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>());
<a name="l00087"></a>00087   <a class="code" href="classField__base.html#a0d3bb177287a79b9d7da6f3a46deff53" title="Fixe le nombre de composantes du champ. Le champ est vectoriel s&#39;il est de meme dimension que l&#39;espac...">fixer_nb_comp</a>(dim);
<a name="l00088"></a>00088   is &gt;&gt; <a class="code" href="classChamp__front__lu.html#acbc48626e7016c4d40bec11a02995179">nom_fic</a>;
<a name="l00089"></a>00089 <span class="comment">// Lecture des valeurs dans le fichier fic</span>
<a name="l00090"></a>00090   <span class="keywordflow">return</span> is;
<a name="l00091"></a>00091 }
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="Champ__front__lu_8cpp.html#a112b1f95ef2fe77607eb01068b71572b">00093</a> <span class="keywordtype">void</span> <a class="code" href="Champ__front__lu_8cpp.html#a112b1f95ef2fe77607eb01068b71572b">erreur_chfront</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nom_fic, <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; dim, <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nom_domaine)
<a name="l00094"></a>00094 {
<a name="l00095"></a>00095   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;****************************************************************************************************************&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00096"></a>00096   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error! It seems that several faces into the file &quot;</span> &lt;&lt; nom_fic &lt;&lt; <span class="stringliteral">&quot; does not match any faces of the current mesh.&quot;</span> &lt;&lt; finl;
<a name="l00097"></a>00097   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; finl;
<a name="l00098"></a>00098   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;First, check that the file &quot;</span> &lt;&lt; nom_fic &lt;&lt; <span class="stringliteral">&quot; can be used to define a boundary field on the specified boundary of the current mesh.&quot;</span> &lt;&lt; finl;
<a name="l00099"></a>00099   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Second, try to switch to a different algorithm in your data file (find the nearest geometric face of the mesh for each face defined in the &quot;</span> &lt;&lt; nom_fic &lt;&lt; <span class="stringliteral">&quot; file):&quot;</span> &lt;&lt; finl;
<a name="l00100"></a>00100   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Replace:&quot;</span> &lt;&lt;finl;
<a name="l00101"></a>00101   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Champ_front_lu &quot;</span> &lt;&lt; nom_domaine &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; dim &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; nom_fic &lt;&lt; finl;
<a name="l00102"></a>00102   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> un((<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>)dim),<a class="code" href="Assembleur__P__VEFPreP1B_8cpp.html#a6e2318de58fc55873393f2dccdbd9d6c">zero</a>((<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>)dim);
<a name="l00103"></a>00103   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;dim; i++)
<a name="l00104"></a>00104     {
<a name="l00105"></a>00105       un+=<span class="stringliteral">&quot; 1&quot;</span>;
<a name="l00106"></a>00106       zero+=<span class="stringliteral">&quot; 0&quot;</span>;
<a name="l00107"></a>00107     }
<a name="l00108"></a>00108   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;By:&quot;</span>&lt;&lt;finl;
<a name="l00109"></a>00109   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> chaine=<span class="stringliteral">&quot;moyenne_imposee connexion_approchee fichier&quot;</span>;
<a name="l00110"></a>00110   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Champ_front_recyclage { pb_champ_evaluateur problem_name field_name &quot;</span>&lt;&lt;dim&lt;&lt;finl;
<a name="l00111"></a>00111   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;                        &quot;</span>&lt;&lt;chaine&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;nom_fic&lt;&lt;finl;
<a name="l00112"></a>00112   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;                        ampli_moyenne_imposee &quot;</span>&lt;&lt;un&lt;&lt;finl;
<a name="l00113"></a>00113   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;                        ampli_moyenne_recyclee &quot;</span>&lt;&lt;zero&lt;&lt;finl;
<a name="l00114"></a>00114   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;                        ampli_fluctuation &quot;</span>&lt;&lt;zero&lt;&lt;<span class="stringliteral">&quot; }&quot;</span> &lt;&lt;finl;
<a name="l00115"></a>00115   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00116"></a>00116 }
<a name="l00117"></a>00117 
<a name="l00118"></a><a class="code" href="classChamp__front__lu.html#a4c32a2e652b89386656eb873b5d8a2ff">00118</a> <span class="keywordtype">int</span> <a class="code" href="classChamp__front__lu.html#a4c32a2e652b89386656eb873b5d8a2ff" title="Initialisation en debut de calcul. Dimensionne le tableau de valeurs et cree son espace virtuel...">Champ_front_lu::initialiser</a>(<span class="keywordtype">double</span> temps, <span class="keyword">const</span> <a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>&amp; inco)
<a name="l00119"></a>00119 {
<a name="l00120"></a>00120 
<a name="l00121"></a>00121   <span class="keywordflow">if</span> (!<a class="code" href="classChamp__front__var.html#aaa2e545fcfbda3c91a4eb9fb4d2b76e6" title="Initialisation en debut de calcul. Dimensionne le tableau de valeurs et cree son espace virtuel...">Ch_front_var_stationnaire::initialiser</a>(temps,inco))
<a name="l00122"></a>00122     <span class="keywordflow">return</span> 0;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124   <span class="keywordtype">int</span> dim=<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00125"></a>00125   <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domaine=<a class="code" href="classChamp__front__lu.html#a97a88d6e0dc1bd2988f429ecb2ace71e">mon_domaine</a>.<a class="code" href="classRef__Domaine.html#a89e1c374ada79faa2c7e9a76c3393ad8">valeur</a>();
<a name="l00126"></a>00126   <span class="keyword">const</span> <a class="code" href="classFrontiere__dis__base.html" title="classe Frontiere_dis_base Classe representant une frontiere discretisee. Les objets Frontiere_dis_bas...">Frontiere_dis_base</a>&amp; fr_dis=<a class="code" href="classChamp__front__base.html#af5b3aaf468fe33492ed777c2e5772651" title="Renvoie la frontiere discretisee associee au champ. (version const)">frontiere_dis</a>();
<a name="l00127"></a>00127   <span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; frontiere=fr_dis.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>();
<a name="l00128"></a>00128   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces=frontiere.<a class="code" href="classFrontiere.html#aa073fe9dbdddde59471ee7032b256aa2" title="Renvoie le nombre de faces de la frontiere.">nb_faces</a>();
<a name="l00129"></a>00129   <span class="keyword">const</span> <span class="keywordtype">int</span> ndeb=frontiere.<a class="code" href="classFrontiere.html#a2a41c319a1530c984c356121e5ca2383">num_premiere_face</a>();
<a name="l00130"></a>00130   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; les_val=<a class="code" href="classChamp__front__base.html#a7d124849f85571b21d805a760deefdc0" title="Renvoie le tableau des valeurs du champ.">valeurs</a>();
<a name="l00131"></a>00131 
<a name="l00132"></a>00132   <a class="code" href="classLecFicDiffuse.html" title="Cette classe implemente les operateurs et les methodes virtuelles de la classe EFichier de la facon s...">LecFicDiffuse</a> fic;
<a name="l00133"></a>00133   <span class="keywordtype">int</span> bin=<a class="code" href="classChamp__front__lu.html#afa4cc516aaaf97a542025b5f983e6127" title="Renvoie le format du fichier lu.">is_bin</a>(<a class="code" href="classChamp__front__lu.html#acbc48626e7016c4d40bec11a02995179">nom_fic</a>);
<a name="l00134"></a>00134   fic.<a class="code" href="classLec__Diffuse__base.html#a3cf2a3ff88c93b1218476b9380a0d613" title="appelle get_entree_master().set_bin(bin)">set_bin</a>(bin);
<a name="l00135"></a>00135   fic.<a class="code" href="classLecFicDiffuse.html#a2e4f3199de5e1b47edcffc68952c7be8" title="Ouverture du fichier. Cette methode doit etre appelee par tous les processeurs du groupe...">ouvrir</a>(<a class="code" href="classChamp__front__lu.html#acbc48626e7016c4d40bec11a02995179">nom_fic</a>);
<a name="l00136"></a>00136   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> format;
<a name="l00137"></a>00137   <span class="keywordflow">if</span> (bin)
<a name="l00138"></a>00138     fic &gt;&gt; format;
<a name="l00139"></a>00139   <span class="keywordflow">else</span>
<a name="l00140"></a>00140     format=<span class="stringliteral">&quot;ascii&quot;</span>;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Reading of the &quot;</span> &lt;&lt; format &lt;&lt; <span class="stringliteral">&quot; file : &quot;</span> &lt;&lt; <a class="code" href="classChamp__front__lu.html#acbc48626e7016c4d40bec11a02995179">nom_fic</a> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00143"></a>00143 
<a name="l00144"></a>00144   <a class="code" href="classDoubleVect.html">DoubleVect</a> point(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l00145"></a>00145   <a class="code" href="classDoubleVect.html">DoubleVect</a> val_lu(dim);
<a name="l00146"></a>00146   <span class="keywordtype">int</span> nb_val_lues;
<a name="l00147"></a>00147   fic &gt;&gt; nb_val_lues;
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 <span class="comment">// Verification (il se peut que le fichier contienne PLUS de faces que la frontiere, exemple en periodique)</span>
<a name="l00150"></a>00150   <span class="keywordtype">int</span> nb_faces_tot = <a class="code" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd" title="Calcule la somme de x sur tous les processeurs du groupe courant. Voir aussi mp_max()">mp_sum</a>(nb_faces);
<a name="l00151"></a>00151   <span class="keywordflow">if</span> (nb_val_lues&lt;nb_faces_tot)
<a name="l00152"></a>00152     {
<a name="l00153"></a>00153       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;This file contains &quot;</span> &lt;&lt; nb_val_lues &lt;&lt; <span class="stringliteral">&quot; faces which is not enough compare to&quot;</span> &lt;&lt; finl;
<a name="l00154"></a>00154       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;the faces number (&quot;</span> &lt;&lt; nb_faces_tot &lt;&lt; <span class="stringliteral">&quot;) of the boundary &quot;</span> &lt;&lt; frontiere.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() &lt;&lt; finl;
<a name="l00155"></a>00155       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00156"></a>00156     }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 <span class="comment">// PQ 20/06/06 : pour permettre une recherche &quot;rapide&quot; des faces</span>
<a name="l00159"></a>00159 <span class="comment">// on s&#39;appuie sur ma_zone.chercher_elements(x,y,z)</span>
<a name="l00160"></a>00160 <span class="comment">// (methode inspiree de EcritureLectureSpecial::lecture_special)</span>
<a name="l00161"></a>00161 <span class="comment">// </span>
<a name="l00162"></a>00162 <span class="comment">// Restriction --&gt; champs aux faces</span>
<a name="l00163"></a>00163 
<a name="l00164"></a>00164   <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; ma_zone = domaine.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
<a name="l00165"></a>00165   <span class="keywordtype">int</span> nb_elems = ma_zone.<a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>();
<a name="l00166"></a>00166   <span class="keywordtype">int</span> nbfacelem=ma_zone.<a class="code" href="classZone.html#a548fbc7518be2f122b1a5c9589a443c2" title="Renvoie le nombre de face de type i des elements geometriques constituants la zone. Ex: les objets de la classe Prisme ont 2 types de faces: triangle ou quadrangle.">nb_faces_elem</a>();
<a name="l00167"></a>00167   <span class="keyword">const</span> <a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>&amp; zvf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>, <a class="code" href="classChamp__front__base.html#a4cef320acc233b308e5241fc7c271145">zone_dis</a>());
<a name="l00168"></a>00168   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elem_faces=zvf.<a class="code" href="classZone__VF.html#a067e462dcd3ab92b0f6d945b19e4eb37" title="renvoie le numero de le ieme face de la maille num_elem la facon dont ces faces sont numerotees est l...">elem_faces</a>();
<a name="l00169"></a>00169   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xv=zvf.<a class="code" href="classZone__VF.html#a918c0885a9b67317fcce3a0535306542">xv</a>();
<a name="l00170"></a>00170   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>(nb_faces);
<a name="l00171"></a>00171   compteur=0;
<a name="l00172"></a>00172 
<a name="l00173"></a>00173   <span class="keywordtype">int</span> k;
<a name="l00174"></a>00174   <span class="keywordtype">double</span> x,y,z=0;
<a name="l00175"></a>00175   <span class="keywordtype">int</span> pourcent=0,tmp;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p=0; p&lt;nb_val_lues; p++)
<a name="l00178"></a>00178     {
<a name="l00179"></a>00179       tmp=(p*10)/nb_val_lues;
<a name="l00180"></a>00180       <span class="keywordflow">if</span> (tmp&gt;pourcent)
<a name="l00181"></a>00181         {
<a name="l00182"></a>00182           pourcent=tmp;
<a name="l00183"></a>00183           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;\rProcess &quot;</span>&lt;&lt;<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>()&lt;&lt;<span class="stringliteral">&quot; has read &quot;</span>&lt;&lt;pourcent*10&lt;&lt;<span class="stringliteral">&quot;% of values&quot;</span>&lt;&lt;flush;
<a name="l00184"></a>00184         }
<a name="l00185"></a>00185       <span class="keywordflow">for</span> (k=0; k&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; k++)
<a name="l00186"></a>00186         fic &gt;&gt; point[k];
<a name="l00187"></a>00187       <span class="keywordflow">for</span> (k=0; k&lt;dim; k++)
<a name="l00188"></a>00188         fic &gt;&gt;val_lu[k];
<a name="l00189"></a>00189 
<a name="l00190"></a>00190       x=point[0];
<a name="l00191"></a>00191       y=point[1];
<a name="l00192"></a>00192       <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>==3) z=point[2];
<a name="l00193"></a>00193       <span class="keywordtype">int</span> Case=-1;
<a name="l00194"></a>00194 <span class="comment">// Premier algorithme (le plus rapide) cherchant l&#39;element</span>
<a name="l00195"></a>00195 <span class="comment">// contenant le centre de gravite de la face</span>
<a name="l00196"></a>00196       <span class="keywordtype">int</span> num_elem=ma_zone.<a class="code" href="classZone.html#aec585e7983082c3df305d75fd13a6b9e">chercher_elements</a>(x,y,z);
<a name="l00197"></a>00197       <span class="keywordflow">if</span> ((num_elem!=-1) &amp;&amp; (num_elem&lt;nb_elems))
<a name="l00198"></a>00198         {
<a name="l00199"></a>00199 <span class="comment">// On cherche la face de l&#39;element</span>
<a name="l00200"></a>00200           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> fac=0; fac&lt;nbfacelem; fac++)
<a name="l00201"></a>00201             {
<a name="l00202"></a>00202               <span class="keywordtype">int</span> face=elem_faces(num_elem,fac);
<a name="l00203"></a>00203               <span class="keywordtype">int</span> ok=1;
<a name="l00204"></a>00204               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir=0; dir&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; dir++)
<a name="l00205"></a>00205                 {
<a name="l00206"></a>00206                   ok=ok&amp;&amp;(<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(point[dir],xv(face,dir)));
<a name="l00207"></a>00207                 }
<a name="l00208"></a>00208               <span class="keywordflow">if</span> (ok)
<a name="l00209"></a>00209                 {
<a name="l00210"></a>00210                   Case=face;
<a name="l00211"></a>00211                   <span class="keywordflow">break</span>;
<a name="l00212"></a>00212                 }
<a name="l00213"></a>00213             }
<a name="l00214"></a>00214         }
<a name="l00215"></a>00215       <span class="keywordflow">else</span>
<a name="l00216"></a>00216         {
<a name="l00217"></a>00217 <span class="comment">// Deuxieme algorithme (plus lent) utilise dans le cas ou le point se trouve a l&#39;exterieur du domaine</span>
<a name="l00218"></a>00218 <span class="comment">// Dans ce cas la, on parcours les faces de la frontiere</span>
<a name="l00219"></a>00219           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=0; face&lt;nb_faces; face++)
<a name="l00220"></a>00220             <span class="keywordflow">if</span> (compteur[face] == 0)
<a name="l00221"></a>00221               {
<a name="l00222"></a>00222                 <span class="keywordtype">int</span> ok=1;
<a name="l00223"></a>00223                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir=0; dir&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; dir++)
<a name="l00224"></a>00224                   ok=ok&amp;&amp;(<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(point[dir],xv(ndeb+face,dir)));
<a name="l00225"></a>00225                 <span class="keywordflow">if</span> (ok)
<a name="l00226"></a>00226                   {
<a name="l00227"></a>00227                     Case=ndeb+face;
<a name="l00228"></a>00228                     <span class="keywordflow">break</span>;
<a name="l00229"></a>00229                   }
<a name="l00230"></a>00230               }
<a name="l00231"></a>00231         }
<a name="l00232"></a>00232 <span class="comment">// Face trouvee</span>
<a name="l00233"></a>00233       <span class="keywordflow">if</span> (Case!=-1)
<a name="l00234"></a>00234         {
<a name="l00235"></a>00235           <span class="keywordtype">int</span> face_loc=Case-ndeb;
<a name="l00236"></a>00236           <span class="keywordflow">if</span> ((face_loc&lt;0) || (face_loc&gt;=nb_faces))
<a name="l00237"></a>00237             {
<a name="l00238"></a>00238               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; The face &quot;</span> &lt;&lt; ndeb &lt;&lt; <span class="stringliteral">&quot; found doesn&#39;t belong to the boundary sought &quot;</span> &lt;&lt; finl;
<a name="l00239"></a>00239               <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00240"></a>00240             }
<a name="l00241"></a>00241           compteur[face_loc] += 1;
<a name="l00242"></a>00242           <span class="keywordflow">for</span> (k=0; k&lt;dim; k++)
<a name="l00243"></a>00243             les_val(face_loc,k) = val_lu[k];
<a name="l00244"></a>00244         }
<a name="l00245"></a>00245     }
<a name="l00246"></a>00246   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;\rProcess &quot;</span>&lt;&lt;<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>()&lt;&lt;<span class="stringliteral">&quot; has read 100% of values&quot;</span>&lt;&lt;finl;
<a name="l00247"></a>00247 
<a name="l00248"></a>00248 <span class="comment">// On verifie que toutes les faces de la frontiere ont ete affectees</span>
<a name="l00249"></a>00249   <span class="keywordtype">int</span> err=0;
<a name="l00250"></a>00250   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=0; face&lt;nb_faces; face++)
<a name="l00251"></a>00251     <span class="keywordflow">if</span> (compteur[face] != 1)
<a name="l00252"></a>00252       {
<a name="l00253"></a>00253         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>.precision(12);
<a name="l00254"></a>00254         <span class="keywordflow">if</span> (compteur[face] == 0)
<a name="l00255"></a>00255           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;No value found for the face &quot;</span> &lt;&lt; face &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; nb_faces-1 &lt;&lt; <span class="stringliteral">&quot; of the boundary &quot;</span> &lt;&lt; frontiere.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() &lt;&lt; <span class="stringliteral">&quot; on the processor &quot;</span> &lt;&lt; <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>;
<a name="l00256"></a>00256         <span class="keywordflow">else</span>
<a name="l00257"></a>00257           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Several values found for the face &quot;</span> &lt;&lt; face &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; nb_faces-1 &lt;&lt; <span class="stringliteral">&quot; of the boundary &quot;</span> &lt;&lt; frontiere.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() &lt;&lt; <span class="stringliteral">&quot; on the processor &quot;</span> &lt;&lt; <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span>;
<a name="l00258"></a>00258         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Coordinates: &quot;</span> &lt;&lt; xv(ndeb+face,0) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; xv(ndeb+face,1);
<a name="l00259"></a>00259         <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==3) <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; xv(ndeb+face,2);
<a name="l00260"></a>00260         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; finl;
<a name="l00261"></a>00261         err=1;
<a name="l00262"></a>00262       }
<a name="l00263"></a>00263   <span class="keywordflow">if</span> (<a class="code" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd" title="Calcule la somme de x sur tous les processeurs du groupe courant. Voir aussi mp_max()">Process::mp_sum</a>(err))
<a name="l00264"></a>00264     {
<a name="l00265"></a>00265       <a class="code" href="Champ__front__lu_8cpp.html#a112b1f95ef2fe77607eb01068b71572b">erreur_chfront</a>(<a class="code" href="classChamp__front__lu.html#acbc48626e7016c4d40bec11a02995179">nom_fic</a>, dim, <a class="code" href="classChamp__front__lu.html#a97a88d6e0dc1bd2988f429ecb2ace71e">mon_domaine</a>.<a class="code" href="classO__U__Ptr.html#a5aae0c48048a40339f3847aa14109231" title="Renvoie ref_().le_nom() si le pointeur est non nul ou &quot;Pointeur Nul&quot;.">le_nom</a>());
<a name="l00266"></a>00266     }
<a name="l00267"></a>00267   les_val.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00268"></a>00268   <span class="keywordflow">return</span> 1;
<a name="l00269"></a>00269 }
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 <span class="comment">// Precondition:</span>
<a name="l00272"></a>00272 <span class="comment">// Parametre: Nom name</span>
<a name="l00273"></a>00273 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00274"></a>00274 <span class="comment">// Valeurs par defaut:</span>
<a name="l00275"></a>00275 <span class="comment">// Contraintes:</span>
<a name="l00276"></a>00276 <span class="comment">// Acces: entree/sortie</span>
<a name="l00277"></a>00277 <span class="comment">// Exception:</span>
<a name="l00278"></a>00278 <span class="comment">// Effets de bord:</span>
<a name="l00279"></a>00279 <span class="comment">// Postcondition:</span>
<a name="l00280"></a>00280 <span class="comment">//</span><span class="comment"></span>
<a name="l00281"></a>00281 <span class="comment">//! Renvoie le format du fichier lu</span>
<a name="l00282"></a>00282 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00283"></a>00283 <span class="comment">Signification:&lt;br&gt;</span>
<a name="l00284"></a>00284 <span class="comment">Contraintes: */</span>
<a name="l00285"></a><a class="code" href="classChamp__front__lu.html#afa4cc516aaaf97a542025b5f983e6127">00285</a> <span class="keywordtype">int</span> <a class="code" href="classChamp__front__lu.html#afa4cc516aaaf97a542025b5f983e6127" title="Renvoie le format du fichier lu.">Champ_front_lu::is_bin</a>(<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> name)
<a name="l00286"></a>00286 {
<a name="l00287"></a>00287   <a class="code" href="classLecFicDiffuse.html" title="Cette classe implemente les operateurs et les methodes virtuelles de la classe EFichier de la facon s...">LecFicDiffuse</a> fichier(name);
<a name="l00288"></a>00288   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> format;
<a name="l00289"></a>00289   fichier &gt;&gt; format;
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 <span class="preprocessor">#ifdef INT_is_64_</span>
<a name="l00292"></a>00292 <span class="preprocessor"></span><span class="comment">// In case of INT_64, first Nom can be INT64 ...</span>
<a name="l00293"></a>00293   <span class="keywordflow">if</span>(format==<span class="stringliteral">&quot;INT64&quot;</span>)
<a name="l00294"></a>00294     format=<span class="stringliteral">&quot;binary&quot;</span>;
<a name="l00295"></a>00295 <span class="preprocessor">#endif</span>
<a name="l00296"></a>00296 <span class="preprocessor"></span>
<a name="l00297"></a>00297   <span class="keywordflow">if</span>(format==<span class="stringliteral">&quot;binary&quot;</span>)
<a name="l00298"></a>00298     <span class="keywordflow">return</span> 1;
<a name="l00299"></a>00299   <span class="keywordflow">else</span>
<a name="l00300"></a>00300     <span class="keywordflow">return</span> 0;
<a name="l00301"></a>00301 }
<a name="l00302"></a>00302 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:12 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
