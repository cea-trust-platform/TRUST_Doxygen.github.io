<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Utilitaires/Param_lecture_test.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Utilitaires/Param_lecture_test.cpp</div>  </div>
</div>
<div class="contents">
<a href="Param__lecture__test_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2015 - 2016, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Param_lecture_test.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Utilitaires</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/12</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;<a class="code" href="cppunit_8h.html">cppunit.h</a>&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#ifdef cppunit_</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="EcrFicCollecte_8h.html">EcrFicCollecte.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Param_8h.html">Param.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="EChaine_8h.html">EChaine.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="TriouError_8h.html">TriouError.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Motcle_8h.html">Motcle.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="ArrOfDouble_8h.html">ArrOfDouble.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Deriv__Comm__Group_8h.html">Deriv_Comm_Group.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Comm__Group_8h.html">Comm_Group.h</a>&gt;</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="keyword">class </span>Nom_test: <span class="keyword">public</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>
<a name="l00034"></a>00034 {
<a name="l00035"></a>00035 <span class="keyword">public</span>:
<a name="l00036"></a>00036   <span class="keyword">inline</span> <span class="keywordtype">int</span> lire_motcle_non_standard_public(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; mot, <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00037"></a>00037   {
<a name="l00038"></a>00038     <span class="keywordflow">return</span> <a class="code" href="classObjet__U.html#a10baff76ab2c39f82da8c7ecaf66d889" title="Lecture des parametres de type non simple d&#39;un objet_U a partir d&#39;un flot d&#39;entree.">lire_motcle_non_standard</a>(mot,is);
<a name="l00039"></a>00039   };
<a name="l00040"></a>00040 <span class="keyword">private</span>:
<a name="l00041"></a>00041   <span class="keywordtype">int</span> <a class="code" href="classObjet__U.html#a10baff76ab2c39f82da8c7ecaf66d889" title="Lecture des parametres de type non simple d&#39;un objet_U a partir d&#39;un flot d&#39;entree.">lire_motcle_non_standard</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; mot , <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is);
<a name="l00042"></a>00042 };
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="keywordtype">int</span> <a class="code" href="classObjet__U.html#a10baff76ab2c39f82da8c7ecaf66d889" title="Lecture des parametres de type non simple d&#39;un objet_U a partir d&#39;un flot d&#39;entree.">Nom_test::lire_motcle_non_standard</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; motcle , <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00045"></a>00045 {
<a name="l00046"></a>00046   <span class="keywordflow">if</span> (motcle==<a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>(<span class="stringliteral">&quot;objet_non_std&quot;</span>))
<a name="l00047"></a>00047     {
<a name="l00048"></a>00048       <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> motcle2;
<a name="l00049"></a>00049       is &gt;&gt; motcle2;
<a name="l00050"></a>00050       <span class="keywordflow">if</span> (motcle2==<a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>(<span class="stringliteral">&quot;mot_test_ok&quot;</span>))
<a name="l00051"></a>00051         {
<a name="l00052"></a>00052 
<a name="l00053"></a>00053           is&gt;&gt;(*this);
<a name="l00054"></a>00054           <span class="keywordflow">return</span> 0;
<a name="l00055"></a>00055         }
<a name="l00056"></a>00056     }
<a name="l00057"></a>00057   <span class="keywordflow">return</span> -1;
<a name="l00058"></a>00058 }
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="keyword">class </span>ParamTest: <span class="keyword">public</span> CPPUNIT_NS::TestFixture
<a name="l00061"></a>00061 {
<a name="l00062"></a>00062   CPPUNIT_TEST_SUITE( ParamTest );
<a name="l00063"></a>00063   CPPUNIT_TEST( testConstructor );
<a name="l00064"></a>00064   CPPUNIT_TEST( testLecture );
<a name="l00065"></a>00065   CPPUNIT_TEST( testLecture_objets );
<a name="l00066"></a>00066   CPPUNIT_TEST(testConditions);
<a name="l00067"></a>00067   CPPUNIT_TEST(testDictionnaire);
<a name="l00068"></a>00068   CPPUNIT_TEST(testdoublelecture);
<a name="l00069"></a>00069   CPPUNIT_TEST(testajouterderiv);
<a name="l00070"></a>00070   CPPUNIT_TEST(test_ajouter_param);
<a name="l00071"></a>00071 
<a name="l00072"></a>00072   CPPUNIT_TEST(test_lecture_sans_accolade);
<a name="l00073"></a>00073   CPPUNIT_TEST_SUITE_END();
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 <span class="keyword">public</span>:
<a name="l00076"></a>00076   <span class="keywordtype">void</span> setUp()
<a name="l00077"></a>00077   {
<a name="l00078"></a>00078 <span class="comment">// init2();</span>
<a name="l00079"></a>00079   };
<a name="l00080"></a>00080   ParamTest():CPPUNIT_NS::TestFixture::TestFixture()
<a name="l00081"></a>00081   {
<a name="l00082"></a>00082     <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;builder &quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00083"></a>00083 <span class="comment">// init2();</span>
<a name="l00084"></a>00084   };
<a name="l00085"></a>00085   <span class="keywordtype">int</span> int1;
<a name="l00086"></a>00086   <span class="keywordtype">double</span> double1;
<a name="l00087"></a>00087   <span class="keywordtype">int</span> flag1;
<a name="l00088"></a>00088   <span class="keywordtype">void</span> init2(<a class="code" href="classParam.html" title="Defined below in this file.">Param</a>&amp; param)
<a name="l00089"></a>00089   {
<a name="l00090"></a>00090     int1=-1;
<a name="l00091"></a>00091     double1=-1;
<a name="l00092"></a>00092     flag1=-1;
<a name="l00093"></a>00093     param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;int&quot;</span>,&amp;int1,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>);
<a name="l00094"></a>00094     param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;double&quot;</span>,&amp;double1);
<a name="l00095"></a>00095     param.<a class="code" href="classParam.html#ae3d50612a0014a9d58e6e035a65f20e5">ajouter_flag</a>(<span class="stringliteral">&quot;flag&quot;</span>,&amp;flag1);
<a name="l00096"></a>00096 
<a name="l00097"></a>00097   };
<a name="l00098"></a>00098   <span class="keywordtype">void</span> tearDown()
<a name="l00099"></a>00099   {
<a name="l00100"></a>00100 <span class="comment">// Cerr&lt;&lt;&quot;ICI&quot; &lt;&lt;finl;;</span>
<a name="l00101"></a>00101   } ;
<a name="l00102"></a>00102   <span class="keywordtype">void</span> testConstructor()
<a name="l00103"></a>00103   {
<a name="l00104"></a>00104     <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<span class="stringliteral">&quot;test_param&quot;</span>);
<a name="l00105"></a>00105     init2(param);
<a name="l00106"></a>00106     CPPUNIT_ASSERT_EQUAL(0,param.<a class="code" href="classParam.html#afa6d5a9c2ffd3154908427d1f0be8537">get_list_mots_lus</a>().<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>());
<a name="l00107"></a>00107 <span class="comment">// CPPUNIT_ASSERT_EQUAL(,param.verifier_avant_ajout(&quot;INT&quot;));</span>
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 <span class="comment">// CPPUNIT_ASSERT_EQUAL(1,param.verifier_avant_ajout(&quot;INT2&quot;));</span>
<a name="l00110"></a>00110   };
<a name="l00111"></a>00111   <span class="keywordtype">void</span> test_lecture_sans_accolade()
<a name="l00112"></a>00112   {
<a name="l00113"></a>00113     <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<span class="stringliteral">&quot;test_param&quot;</span>);
<a name="l00114"></a>00114     param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;int&quot;</span>,&amp;int1,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>);
<a name="l00115"></a>00115     {
<a name="l00116"></a>00116       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot; 5 &quot;</span>);
<a name="l00117"></a>00117       param.<a class="code" href="classParam.html#a5a27c9991a6e4220502cf9222ecf1796">lire_sans_accolade</a>(is);
<a name="l00118"></a>00118       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot; pb avec la lecture des int&quot;</span>,5,int1);
<a name="l00119"></a>00119     }
<a name="l00120"></a>00120     {
<a name="l00121"></a>00121       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot; { 5  } &quot;</span>);
<a name="l00122"></a>00122 
<a name="l00123"></a>00123       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;ne doit pas lire 5 dans lire_sans_accolade&quot;</span>,param.<a class="code" href="classParam.html#a5a27c9991a6e4220502cf9222ecf1796">lire_sans_accolade</a>(is), <a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00124"></a>00124     }
<a name="l00125"></a>00125 
<a name="l00126"></a>00126     param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;double&quot;</span>,&amp;double1);
<a name="l00127"></a>00127     {
<a name="l00128"></a>00128       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot; 5 &quot;</span>);
<a name="l00129"></a>00129       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;Optionne pas supporte dans lire_sans_accolade&quot;</span>,param.<a class="code" href="classParam.html#a5a27c9991a6e4220502cf9222ecf1796">lire_sans_accolade</a>(is), <a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00130"></a>00130     }
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 <span class="preprocessor">#if 0</span>
<a name="l00133"></a>00133 <span class="preprocessor"></span><span class="comment">// on ne veut pas les flags pour l&#39;instant ... trop dangeureux</span>
<a name="l00134"></a>00134     param.<a class="code" href="classParam.html#a79be5a57849e1c837ea23714d7a95719">supprimer</a>(<span class="stringliteral">&quot;double&quot;</span>);
<a name="l00135"></a>00135     <span class="keywordtype">int</span> test_fl;
<a name="l00136"></a>00136     param.<a class="code" href="classParam.html#ae3d50612a0014a9d58e6e035a65f20e5">ajouter_flag</a>(<span class="stringliteral">&quot;OPT&quot;</span>,&amp;test_fl);
<a name="l00137"></a>00137     {
<a name="l00138"></a>00138       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot; 5 &quot;</span>);
<a name="l00139"></a>00139       param.<a class="code" href="classParam.html#a5a27c9991a6e4220502cf9222ecf1796">lire_sans_accolade</a>(is);
<a name="l00140"></a>00140       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot; pb avec la lecture des flag&quot;</span>,0,test_fl);
<a name="l00141"></a>00141     }
<a name="l00142"></a>00142     {
<a name="l00143"></a>00143       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot; OPT 5 &quot;</span>);
<a name="l00144"></a>00144       param.<a class="code" href="classParam.html#a5a27c9991a6e4220502cf9222ecf1796">lire_sans_accolade</a>(is);
<a name="l00145"></a>00145 
<a name="l00146"></a>00146       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot; pb avec la lecture des flag&quot;</span>,1,test_fl);
<a name="l00147"></a>00147     }
<a name="l00148"></a>00148     {
<a name="l00149"></a>00149       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot; OPT2 5   &quot;</span>);
<a name="l00150"></a>00150 
<a name="l00151"></a>00151       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;ne doit pas lire 5 dans lire_sans_accolade&quot;</span>,param.<a class="code" href="classParam.html#a5a27c9991a6e4220502cf9222ecf1796">lire_sans_accolade</a>(is), <a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00152"></a>00152     }
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="preprocessor">#endif</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span>  };
<a name="l00157"></a>00157 
<a name="l00158"></a>00158   <span class="keywordtype">void</span> testLecture()
<a name="l00159"></a>00159   {
<a name="l00160"></a>00160     <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<span class="stringliteral">&quot;test_param&quot;</span>);
<a name="l00161"></a>00161     init2(param);
<a name="l00162"></a>00162     {
<a name="l00163"></a>00163 <span class="comment">// erreur int non lu mais double lu</span>
<a name="l00164"></a>00164       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ double  5 }&quot;</span>);
<a name="l00165"></a>00165       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;verification de la lecture des objets non optionnels&quot;</span>,param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is), <a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00166"></a>00166       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot; pb avec la lecture des doubles&quot;</span>,5.,double1);
<a name="l00167"></a>00167     }
<a name="l00168"></a>00168     {
<a name="l00169"></a>00169       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ int 5 }&quot;</span>);
<a name="l00170"></a>00170       param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00171"></a>00171       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;pb nb mots lus&quot;</span>,param.<a class="code" href="classParam.html#afa6d5a9c2ffd3154908427d1f0be8537">get_list_mots_lus</a>().<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>(),2);
<a name="l00172"></a>00172       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;pb avec la lecture des int &quot;</span>,5,int1);
<a name="l00173"></a>00173       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;pb lecture flag &quot;</span>,0,flag1);
<a name="l00174"></a>00174       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot; pb avec la lecture des ints pour les doubles&quot;</span>,5.,double1);
<a name="l00175"></a>00175     }
<a name="l00176"></a>00176     {
<a name="l00177"></a>00177 <span class="comment">// erreur mot non compris</span>
<a name="l00178"></a>00178       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{  int2 5 }&quot;</span>);
<a name="l00179"></a>00179       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;mot incompris&quot;</span>,param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is), <a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00180"></a>00180     }
<a name="l00181"></a>00181     {
<a name="l00182"></a>00182 <span class="comment">// erreur manque une accolade ouvrante</span>
<a name="l00183"></a>00183       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot; int 5 }&quot;</span>);
<a name="l00184"></a>00184       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;accolade ouvrante&quot;</span>,param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is), <a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00185"></a>00185     }
<a name="l00186"></a>00186     {
<a name="l00187"></a>00187 <span class="comment">// erreur manque une paranthese non compris</span>
<a name="l00188"></a>00188       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot; { int 5 &quot;</span>);
<a name="l00189"></a>00189       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;accolade fermante&quot;</span>,param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is), <a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00190"></a>00190     }
<a name="l00191"></a>00191     {
<a name="l00192"></a>00192 <span class="comment">// test flag</span>
<a name="l00193"></a>00193       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{  flag }&quot;</span>);
<a name="l00194"></a>00194       param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00195"></a>00195 
<a name="l00196"></a>00196       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;pb lecture flag &quot;</span>,1,flag1);
<a name="l00197"></a>00197     }
<a name="l00198"></a>00198     {
<a name="l00199"></a>00199       <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> arrdouble(2);
<a name="l00200"></a>00200       param.<a class="code" href="classParam.html#adcb07d363043552750b5cbca934ba015">ajouter_arr_size_predefinie</a>(<span class="stringliteral">&quot;arrofdouble&quot;</span>,&amp;arrdouble);
<a name="l00201"></a>00201       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is (<span class="stringliteral">&quot;{ arrofdouble 2 3 }&quot;</span>);
<a name="l00202"></a>00202       param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00203"></a>00203       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot; pb avec la lecture des ArrofDoubles&quot;</span>,3.,arrdouble[1]);
<a name="l00204"></a>00204       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot; pb avec la lecture des ArrofDoubles&quot;</span>,2.,arrdouble[0]);
<a name="l00205"></a>00205     }
<a name="l00206"></a>00206     {
<a name="l00207"></a>00207       <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> arrdouble(2);
<a name="l00208"></a>00208       param.<a class="code" href="classParam.html#adcb07d363043552750b5cbca934ba015">ajouter_arr_size_predefinie</a>(<span class="stringliteral">&quot;arrofint&quot;</span>,&amp;arrdouble);
<a name="l00209"></a>00209       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is (<span class="stringliteral">&quot;{ arrofint 2 3 }&quot;</span>);
<a name="l00210"></a>00210       param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00211"></a>00211       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot; pb avec la lecture des ArrofInt&quot;</span>,3,arrdouble[1]);
<a name="l00212"></a>00212       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot; pb avec la lecture des ArrofInt&quot;</span>,2,arrdouble[0]);
<a name="l00213"></a>00213     }
<a name="l00214"></a>00214   };
<a name="l00215"></a>00215 
<a name="l00216"></a>00216   <span class="keywordtype">void</span> testdoublelecture()
<a name="l00217"></a>00217   {
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="comment">// on verifie que si on remet le meme mot les specs sont ignores</span>
<a name="l00220"></a>00220     {
<a name="l00221"></a>00221       <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<span class="stringliteral">&quot;test_param&quot;</span>);
<a name="l00222"></a>00222       <span class="keywordtype">double</span> val;
<a name="l00223"></a>00223       <span class="keywordtype">int</span> i;
<a name="l00224"></a>00224 
<a name="l00225"></a>00225       param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;double|float&quot;</span>,&amp;i);
<a name="l00226"></a>00226       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;normalement cela ne focntionne pas &quot;</span>,param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;double&quot;</span>,&amp;val),<a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00227"></a>00227 <span class="comment">// maintenant on retire avant</span>
<a name="l00228"></a>00228       param.<a class="code" href="classParam.html#a79be5a57849e1c837ea23714d7a95719">supprimer</a>(<span class="stringliteral">&quot;float&quot;</span>);
<a name="l00229"></a>00229       param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;double&quot;</span>,&amp;val);
<a name="l00230"></a>00230 
<a name="l00231"></a>00231 
<a name="l00232"></a>00232       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ double  5.1 }&quot;</span>);
<a name="l00233"></a>00233       param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00234"></a>00234       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot; pb avec la lecture des doubles&quot;</span>,5.1,val);
<a name="l00235"></a>00235     }
<a name="l00236"></a>00236     {
<a name="l00237"></a>00237 <span class="comment">// le contraire</span>
<a name="l00238"></a>00238       <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<span class="stringliteral">&quot;test_param&quot;</span>);
<a name="l00239"></a>00239       <span class="keywordtype">double</span> val;
<a name="l00240"></a>00240       <span class="keywordtype">int</span> i;
<a name="l00241"></a>00241       param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;int&quot;</span>,&amp;val);
<a name="l00242"></a>00242       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;normalement cela ne focntionne pas &quot;</span>,param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;int&quot;</span>,&amp;val),<a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00243"></a>00243 <span class="comment">// maintenant on retire avant</span>
<a name="l00244"></a>00244       param.<a class="code" href="classParam.html#a79be5a57849e1c837ea23714d7a95719">supprimer</a>(<span class="stringliteral">&quot;int&quot;</span>);
<a name="l00245"></a>00245       param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;int|entier&quot;</span>,&amp;i);
<a name="l00246"></a>00246       param.<a class="code" href="classParam.html#a6363f31c467c06512aee2f004abac69d">ajouter_condition</a>(<span class="stringliteral">&quot;is_read_int&quot;</span>,<span class="stringliteral">&quot;int must be read, via int or entier&quot;</span>);
<a name="l00247"></a>00247 
<a name="l00248"></a>00248 
<a name="l00249"></a>00249       {
<a name="l00250"></a>00250         <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ int  5 }&quot;</span>);
<a name="l00251"></a>00251         param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00252"></a>00252         CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot; pb avec la lecture des doubles&quot;</span>,5,i);
<a name="l00253"></a>00253       }
<a name="l00254"></a>00254       {
<a name="l00255"></a>00255         <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ int  5.1 }&quot;</span>);
<a name="l00256"></a>00256         CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;normalement cela ne focntionne pas &quot;</span>,param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is),<a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00257"></a>00257 
<a name="l00258"></a>00258       }
<a name="l00259"></a>00259       param.<a class="code" href="classParam.html#a79be5a57849e1c837ea23714d7a95719">supprimer</a>(<span class="stringliteral">&quot;int&quot;</span>);
<a name="l00260"></a>00260       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;normalement cela ne focntionne pas plus de int &quot;</span>,param.<a class="code" href="classParam.html#a79be5a57849e1c837ea23714d7a95719">supprimer</a>(<span class="stringliteral">&quot;int&quot;</span>),<a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00261"></a>00261     }
<a name="l00262"></a>00262   };
<a name="l00263"></a>00263   <span class="keywordtype">void</span> testDictionnaire()
<a name="l00264"></a>00264   {
<a name="l00265"></a>00265     <span class="keywordtype">int</span> val,val2;
<a name="l00266"></a>00266     <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<span class="stringliteral">&quot;test_dictionnaire&quot;</span>);
<a name="l00267"></a>00267     param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;value&quot;</span>,&amp;val);
<a name="l00268"></a>00268     param.<a class="code" href="classParam.html#a0d5da6b10afd9ae6e7c98f0836fcb3b0" title="Si le dernier parametre ajoute est de type &quot;int&quot;, associe a ce parametre une ou plusieurs chaines de ...">dictionnaire</a>(<span class="stringliteral">&quot;zero&quot;</span>,0);
<a name="l00269"></a>00269     param.<a class="code" href="classParam.html#a0d5da6b10afd9ae6e7c98f0836fcb3b0" title="Si le dernier parametre ajoute est de type &quot;int&quot;, associe a ce parametre une ou plusieurs chaines de ...">dictionnaire</a>(<span class="stringliteral">&quot;un&quot;</span>,1);
<a name="l00270"></a>00270     param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;value2&quot;</span>,&amp;val2);
<a name="l00271"></a>00271 
<a name="l00272"></a>00272     {
<a name="l00273"></a>00273 <span class="comment">// test lecture dico</span>
<a name="l00274"></a>00274       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ value zero value2 3 }&quot;</span>);
<a name="l00275"></a>00275       param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00276"></a>00276 
<a name="l00277"></a>00277       CPPUNIT_ASSERT_MESSAGE(<span class="stringliteral">&quot;pb lecture dictionnaire &quot;</span>,val==0);
<a name="l00278"></a>00278       CPPUNIT_ASSERT_MESSAGE(<span class="stringliteral">&quot;pb lecture val2 &quot;</span>,val2==3);
<a name="l00279"></a>00279     }
<a name="l00280"></a>00280     {
<a name="l00281"></a>00281 <span class="comment">// test lecture dico</span>
<a name="l00282"></a>00282       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ value un value2 3 }&quot;</span>);
<a name="l00283"></a>00283       param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00284"></a>00284 
<a name="l00285"></a>00285       CPPUNIT_ASSERT_MESSAGE(<span class="stringliteral">&quot;pb lecture dictionnaire &quot;</span>,val==1);
<a name="l00286"></a>00286       CPPUNIT_ASSERT_MESSAGE(<span class="stringliteral">&quot;pb lecture val2 &quot;</span>,val2==3);
<a name="l00287"></a>00287     }
<a name="l00288"></a>00288     {
<a name="l00289"></a>00289 <span class="comment">// test lecture dico erreur</span>
<a name="l00290"></a>00290       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ value 3 value2 3 }&quot;</span>);
<a name="l00291"></a>00291       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;test lecture dico erreur value not in dict &quot;</span>,param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is),<a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00292"></a>00292     }
<a name="l00293"></a>00293 
<a name="l00294"></a>00294     <a class="code" href="classParam.html" title="Defined below in this file.">Param</a>&amp; ssp= param.<a class="code" href="classParam.html#a6fa2745ca8a6b66b92930fa6433b6d34">dictionnaire_param</a>(<span class="stringliteral">&quot;lecture&quot;</span>,2);
<a name="l00295"></a>00295     <span class="keywordtype">double</span> dd;
<a name="l00296"></a>00296     ssp.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;valeur&quot;</span>,&amp;dd);
<a name="l00297"></a>00297     param.<a class="code" href="classParam.html#a0d5da6b10afd9ae6e7c98f0836fcb3b0" title="Si le dernier parametre ajoute est de type &quot;int&quot;, associe a ce parametre une ou plusieurs chaines de ...">dictionnaire</a>(<span class="stringliteral">&quot;mot&quot;</span>,3);
<a name="l00298"></a>00298 
<a name="l00299"></a>00299     {
<a name="l00300"></a>00300 <span class="comment">// test lecture dico</span>
<a name="l00301"></a>00301       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{  value2 mot }&quot;</span>);
<a name="l00302"></a>00302       param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00303"></a>00303       CPPUNIT_ASSERT_MESSAGE(<span class="stringliteral">&quot;test lecture dico standrard &quot;</span>,val2==3);
<a name="l00304"></a>00304     }
<a name="l00305"></a>00305 
<a name="l00306"></a>00306     {
<a name="l00307"></a>00307 <span class="comment">// test lecture dico param</span>
<a name="l00308"></a>00308       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{  value2 lecture { valeur 7. } }&quot;</span>);
<a name="l00309"></a>00309       param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00310"></a>00310       CPPUNIT_ASSERT_MESSAGE(<span class="stringliteral">&quot;test lecture dico avec param &quot;</span>,val2==2);
<a name="l00311"></a>00311       CPPUNIT_ASSERT_MESSAGE(<span class="stringliteral">&quot;test lecture dico avec param &quot;</span>,dd==7.);
<a name="l00312"></a>00312     }
<a name="l00313"></a>00313 
<a name="l00314"></a>00314     {
<a name="l00315"></a>00315 <span class="comment">// test lecture dico param</span>
<a name="l00316"></a>00316       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{  value2 lecture { valeur2 7. } }&quot;</span>);
<a name="l00317"></a>00317 
<a name="l00318"></a>00318       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;test lecture dico erreur mot cles pas dans saous param &quot;</span>,param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is),<a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00319"></a>00319 
<a name="l00320"></a>00320     }
<a name="l00321"></a>00321 
<a name="l00322"></a>00322   };
<a name="l00323"></a>00323   <span class="keywordtype">void</span> testLecture_objets()
<a name="l00324"></a>00324   {
<a name="l00325"></a>00325     <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> objet_test;
<a name="l00326"></a>00326     Nom_test nom_test;
<a name="l00327"></a>00327     <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<span class="stringliteral">&quot;test_objets&quot;</span>);
<a name="l00328"></a>00328     param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;objet&quot;</span>,&amp;objet_test);
<a name="l00329"></a>00329     param.<a class="code" href="classParam.html#a8d8bcddfd8087e577ffbb170c68e4f88">ajouter_non_std</a>(<span class="stringliteral">&quot;objet_non_std&quot;</span>,&amp;nom_test);
<a name="l00330"></a>00330     {
<a name="l00331"></a>00331 <span class="comment">// test lecture objet</span>
<a name="l00332"></a>00332       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ objet Objet_coucou }&quot;</span>);
<a name="l00333"></a>00333       param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00334"></a>00334 
<a name="l00335"></a>00335       CPPUNIT_ASSERT_MESSAGE(<span class="stringliteral">&quot;pb lecture objet &quot;</span>,objet_test==<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;Objet_coucou&quot;</span>));
<a name="l00336"></a>00336       CPPUNIT_ASSERT_MESSAGE(<span class="stringliteral">&quot;pb lecture objet &quot;</span>,objet_test!=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;objet_coucou&quot;</span>));
<a name="l00337"></a>00337     }
<a name="l00338"></a>00338 
<a name="l00339"></a>00339     {
<a name="l00340"></a>00340 <span class="comment">// test lecture_non_standard</span>
<a name="l00341"></a>00341       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ objet_non_std mot_test_ok Objet_coucou }&quot;</span>);
<a name="l00342"></a>00342       param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00343"></a>00343       CPPUNIT_ASSERT_MESSAGE(<span class="stringliteral">&quot;pb lecture objet &quot;</span>,objet_test==<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;Objet_coucou&quot;</span>));
<a name="l00344"></a>00344       CPPUNIT_ASSERT_MESSAGE(<span class="stringliteral">&quot;pb lecture objet &quot;</span>,objet_test!=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;objet_coucou&quot;</span>));
<a name="l00345"></a>00345     }
<a name="l00346"></a>00346     {
<a name="l00347"></a>00347 <span class="comment">// test lire_mot_cle_non_std</span>
<a name="l00348"></a>00348       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;Objet_coucou &quot;</span>);
<a name="l00349"></a>00349       <span class="keywordtype">int</span> status=nom_test.lire_motcle_non_standard_public(<a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>(<span class="stringliteral">&quot;mot_non_compris&quot;</span>),is);
<a name="l00350"></a>00350       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;lire_motcle_non_standard doit renvoyer -1 si il ne comprend pas &quot;</span>,-1,status);
<a name="l00351"></a>00351     }
<a name="l00352"></a>00352     {
<a name="l00353"></a>00353 <span class="comment">// test lecture_non_standard erreur</span>
<a name="l00354"></a>00354       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ objet_non_std mot_test_pas_ok Objet_coucou }&quot;</span>);
<a name="l00355"></a>00355       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;test lecture_non_standard erreur&quot;</span>,param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is),<a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00356"></a>00356 
<a name="l00357"></a>00357     }
<a name="l00358"></a>00358   };
<a name="l00359"></a>00359   <span class="keywordtype">void</span> testConditions()
<a name="l00360"></a>00360   {
<a name="l00361"></a>00361     {
<a name="l00362"></a>00362       <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<span class="stringliteral">&quot;test_condition&quot;</span>);
<a name="l00363"></a>00363       init2(param);
<a name="l00364"></a>00364       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> objet_test;
<a name="l00365"></a>00365 
<a name="l00366"></a>00366       param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;objet&quot;</span>,&amp;objet_test);
<a name="l00367"></a>00367       param.<a class="code" href="classParam.html#a6363f31c467c06512aee2f004abac69d">ajouter_condition</a>(<span class="stringliteral">&quot;is_read_double&quot;</span>,<span class="stringliteral">&quot;double doit etre lu!!!!!&quot;</span>);
<a name="l00368"></a>00368 
<a name="l00369"></a>00369       {
<a name="l00370"></a>00370 <span class="comment">// test lecture_non_standard erreur</span>
<a name="l00371"></a>00371         <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ int 5 double -1 }&quot;</span>);
<a name="l00372"></a>00372 
<a name="l00373"></a>00373         param.<a class="code" href="classParam.html#a650cd0a754361652998cf21c7f699d30">read</a>(is); <span class="comment">//!&lt; on test la fonction read qui lit sans check</span>
<a name="l00374"></a>00374 <span class="comment"></span>        <span class="keywordtype">int</span> status=param.<a class="code" href="classParam.html#a737f2797a7ada1a9f930005bc83d67fc">check</a>();
<a name="l00375"></a>00375         CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;test_is_read_double&quot;</span>,1,status);
<a name="l00376"></a>00376         param.<a class="code" href="classParam.html#a6363f31c467c06512aee2f004abac69d">ajouter_condition</a>(<span class="stringliteral">&quot;is_read_objet&quot;</span>,<span class="stringliteral">&quot;objet doit etre lu!!!!!&quot;</span>);
<a name="l00377"></a>00377         status=param.<a class="code" href="classParam.html#a737f2797a7ada1a9f930005bc83d67fc">check</a>();
<a name="l00378"></a>00378         CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;is_read_test_objet&quot;</span>,0,status);
<a name="l00379"></a>00379       }
<a name="l00380"></a>00380       {
<a name="l00381"></a>00381         <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ objet coucou }&quot;</span>);
<a name="l00382"></a>00382 
<a name="l00383"></a>00383         param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00384"></a>00384         <span class="keywordtype">int</span> status=param.<a class="code" href="classParam.html#a737f2797a7ada1a9f930005bc83d67fc">check</a>();
<a name="l00385"></a>00385         CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;test_is_read_objet&quot;</span>,1,status);
<a name="l00386"></a>00386       }
<a name="l00387"></a>00387 
<a name="l00388"></a>00388       {
<a name="l00389"></a>00389 
<a name="l00390"></a>00390         param.<a class="code" href="classParam.html#a6363f31c467c06512aee2f004abac69d">ajouter_condition</a>(<span class="stringliteral">&quot;(value_of_double_EQ_(-1))+(value_of_double_EQ_3)&quot;</span>,<span class="stringliteral">&quot; double  lu vaut -1&quot;</span>);
<a name="l00391"></a>00391 
<a name="l00392"></a>00392         <span class="keywordtype">int</span> status=param.<a class="code" href="classParam.html#a737f2797a7ada1a9f930005bc83d67fc">check</a>();
<a name="l00393"></a>00393         CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;double==-1|| double =3 &quot;</span>,1,status);
<a name="l00394"></a>00394 
<a name="l00395"></a>00395         param.<a class="code" href="classParam.html#a6363f31c467c06512aee2f004abac69d">ajouter_condition</a>(<span class="stringliteral">&quot;is_read_double*(value_of_double&gt;0)&quot;</span>,<span class="stringliteral">&quot; double doit etre lu et positif&quot;</span>,<span class="stringliteral">&quot;test1&quot;</span>);
<a name="l00396"></a>00396         status=param.<a class="code" href="classParam.html#a737f2797a7ada1a9f930005bc83d67fc">check</a>();
<a name="l00397"></a>00397         CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;is_read_double*(value_of_double&gt;0)&quot;</span>,0,status);
<a name="l00398"></a>00398         param.<a class="code" href="classParam.html#a0149c8347b749fb70747e4994dff9f16">supprimer_condition</a>(<span class="stringliteral">&quot;test1&quot;</span>);
<a name="l00399"></a>00399         status=param.<a class="code" href="classParam.html#a737f2797a7ada1a9f930005bc83d67fc">check</a>();
<a name="l00400"></a>00400         CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;plus de condition &quot;</span>,1,status);
<a name="l00401"></a>00401         param.<a class="code" href="classParam.html#a6363f31c467c06512aee2f004abac69d">ajouter_condition</a>(<span class="stringliteral">&quot;is_read_double*(value_of_double&gt;0)&quot;</span>,<span class="stringliteral">&quot; double doit etre lu et positif&quot;</span>,<span class="stringliteral">&quot;test1&quot;</span>);
<a name="l00402"></a>00402 
<a name="l00403"></a>00403         status=param.<a class="code" href="classParam.html#a737f2797a7ada1a9f930005bc83d67fc">check</a>();
<a name="l00404"></a>00404         CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;is_read_double*(value_of_double&gt;0)&quot;</span>,0,status);
<a name="l00405"></a>00405 <span class="comment">// EChaine is(&quot;{ double 3. }&quot;);</span>
<a name="l00406"></a>00406 <span class="comment">// param.lire_avec_accolades_depuis(is);</span>
<a name="l00407"></a>00407         double1=3.;
<a name="l00408"></a>00408         status=param.<a class="code" href="classParam.html#a737f2797a7ada1a9f930005bc83d67fc">check</a>();
<a name="l00409"></a>00409         CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;value_of_double&gt;0, vrai maintenant &quot;</span>,1,status);
<a name="l00410"></a>00410 
<a name="l00411"></a>00411         param.<a class="code" href="classParam.html#a6363f31c467c06512aee2f004abac69d">ajouter_condition</a>(<span class="stringliteral">&quot;is_read_double*(value_of_flag_eq_0)&quot;</span>,<span class="stringliteral">&quot; double doit etre lu et flag faux&quot;</span>);
<a name="l00412"></a>00412         status=param.<a class="code" href="classParam.html#a737f2797a7ada1a9f930005bc83d67fc">check</a>();
<a name="l00413"></a>00413         CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;test val non lu&quot;</span>,1,status);
<a name="l00414"></a>00414 
<a name="l00415"></a>00415 
<a name="l00416"></a>00416 
<a name="l00417"></a>00417 
<a name="l00418"></a>00418 <span class="comment">// test NOT</span>
<a name="l00419"></a>00419         param.<a class="code" href="classParam.html#a6363f31c467c06512aee2f004abac69d">ajouter_condition</a>(<span class="stringliteral">&quot;NOT(value_of_flag)&quot;</span>,<span class="stringliteral">&quot; test not&quot;</span>);
<a name="l00420"></a>00420         status=param.<a class="code" href="classParam.html#a737f2797a7ada1a9f930005bc83d67fc">check</a>();
<a name="l00421"></a>00421         CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;test not&quot;</span>,1,status);
<a name="l00422"></a>00422 
<a name="l00423"></a>00423         param.<a class="code" href="classParam.html#a6363f31c467c06512aee2f004abac69d">ajouter_condition</a>(<span class="stringliteral">&quot;is_read_double*(flag_eq_0)&quot;</span>,<span class="stringliteral">&quot; double doit etre lu et flag non mais mal ecit&quot;</span>);
<a name="l00424"></a>00424         CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;test condition mal entree&quot;</span>,param.<a class="code" href="classParam.html#a737f2797a7ada1a9f930005bc83d67fc">check</a>(),<a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00425"></a>00425       }
<a name="l00426"></a>00426     }
<a name="l00427"></a>00427     {
<a name="l00428"></a>00428       <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<span class="stringliteral">&quot;test_condition&quot;</span>);
<a name="l00429"></a>00429       init2(param);
<a name="l00430"></a>00430       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> objet_test;
<a name="l00431"></a>00431       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ int 5 double -1 }&quot;</span>);
<a name="l00432"></a>00432       param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;objet&quot;</span>,&amp;objet_test);
<a name="l00433"></a>00433 <span class="comment">// verification des erreurs getvalue...</span>
<a name="l00434"></a>00434 
<a name="l00435"></a>00435 <span class="comment">// param.ajouter_condition(&quot;objet_val&quot;,&quot; test not&quot;);</span>
<a name="l00436"></a>00436       param.<a class="code" href="classParam.html#a650cd0a754361652998cf21c7f699d30">read</a>(is);
<a name="l00437"></a>00437       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;test_get_value_int&quot;</span>,5.,param.<a class="code" href="classParam.html#a49a2402212f98b190d23197afbc56b81">get_value</a>(<span class="stringliteral">&quot;value_of_int&quot;</span>));
<a name="l00438"></a>00438       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;test_get_value_double&quot;</span>,-1.,param.<a class="code" href="classParam.html#a49a2402212f98b190d23197afbc56b81">get_value</a>(<span class="stringliteral">&quot;value_of_double&quot;</span>));
<a name="l00439"></a>00439       <span class="keywordtype">double</span> <a class="code" href="Op__Grad__EF_8cpp.html#abc0897c211f7aa4541da5833388f868b">test</a>=0;
<a name="l00440"></a>00440       param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;test&quot;</span>,&amp;test);
<a name="l00441"></a>00441       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;value of test &quot;</span>&lt;&lt;param.<a class="code" href="classParam.html#a49a2402212f98b190d23197afbc56b81">get_value</a>(<span class="stringliteral">&quot;value_of_test&quot;</span>)&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00442"></a>00442 <span class="comment">// int status=param.check();</span>
<a name="l00443"></a>00443       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;variable non defini&quot;</span>,param.<a class="code" href="classParam.html#a49a2402212f98b190d23197afbc56b81">get_value</a>(<span class="stringliteral">&quot;value_of_objet&quot;</span>),<a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00444"></a>00444     }
<a name="l00445"></a>00445 
<a name="l00446"></a>00446   };
<a name="l00447"></a>00447   <span class="keywordtype">void</span> testajouterderiv()
<a name="l00448"></a>00448   {
<a name="l00449"></a>00449     <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<span class="stringliteral">&quot;deriv&quot;</span>);
<a name="l00450"></a>00450     <a class="code" href="Deriv_8h.html#a4b39337b42cbf2fddeba7868ced6f860" title="Soit une classe Type_base qui derive de Objet_U. DERIV(T) est une petite classe contenant un pointeur...">DERIV</a>(<a class="code" href="classComm__Group.html" title=": Cette classe decrit un groupe de processeurs sur lesquels une portion de code s&#39;execute simultaneme...">Comm_Group</a>) deriv;
<a name="l00451"></a>00451     param.ajouter_deriv(&quot;deriv&quot;,&quot;Comm_Group_&quot;,&amp;deriv);
<a name="l00452"></a>00452     {
<a name="l00453"></a>00453       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ deriv MPI }&quot;</span>);
<a name="l00454"></a>00454       <span class="comment">/*</span>
<a name="l00455"></a>00455 <span class="comment">        on bloque le test pour l&#39;instant car Comm_Group_MPI::readOn fait exit</span>
<a name="l00456"></a>00456 <span class="comment">        param.lire_avec_accolades_depuis(is);</span>
<a name="l00457"></a>00457 <span class="comment">        CPPUNIT_ASSERT_MESSAGE(&quot;typage correct du deriv ?&quot;,deriv.valeur().que_suis_je()==&quot;Comm_Group_MPI&quot;);</span>
<a name="l00458"></a>00458 <span class="comment">      */</span>
<a name="l00459"></a>00459     }
<a name="l00460"></a>00460     {
<a name="l00461"></a>00461       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot;{ deriv bidon }&quot;</span>);
<a name="l00462"></a>00462       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;classe inconnue&quot;</span>,param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is),<a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00463"></a>00463 
<a name="l00464"></a>00464     }
<a name="l00465"></a>00465   }
<a name="l00466"></a>00466   <span class="keywordtype">void</span> test_ajouter_param()
<a name="l00467"></a>00467   {
<a name="l00468"></a>00468     <span class="keywordtype">int</span> i=-1;
<a name="l00469"></a>00469     <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> pere(<span class="stringliteral">&quot;pere&quot;</span>);
<a name="l00470"></a>00470     <a class="code" href="classParam.html" title="Defined below in this file.">Param</a>&amp; p = pere.<a class="code" href="classParam.html#a4b4654e674df057c13950a98d7c02040">ajouter_param</a>(<span class="stringliteral">&quot;fils&quot;</span>);
<a name="l00471"></a>00471     p.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;test&quot;</span>,&amp;i);
<a name="l00472"></a>00472     {
<a name="l00473"></a>00473       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot; { test 3 }  &quot;</span>);
<a name="l00474"></a>00474       p.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00475"></a>00475       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;test_read_value&quot;</span>,3,i);
<a name="l00476"></a>00476     }
<a name="l00477"></a>00477     i=-1;
<a name="l00478"></a>00478     {
<a name="l00479"></a>00479       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot; { fils { test 3 } } &quot;</span>);
<a name="l00480"></a>00480       pere.lire_avec_accolades_depuis(is);
<a name="l00481"></a>00481       CPPUNIT_ASSERT_EQUAL_MESSAGE(<span class="stringliteral">&quot;test_read_value&quot;</span>,3,i);
<a name="l00482"></a>00482     }
<a name="l00483"></a>00483     {
<a name="l00484"></a>00484       <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> is(<span class="stringliteral">&quot; { fils { test2 3 } } &quot;</span>);
<a name="l00485"></a>00485       CPPUNIT_ASSERT_THROW_MESSAGE(<span class="stringliteral">&quot;test2 incompris par pere/fils&quot;</span>,pere.lire_avec_accolades_depuis(is),<a class="code" href="classTriouError.html" title="classe d erreur declenche par process::exit">TriouError</a>);
<a name="l00486"></a>00486     }
<a name="l00487"></a>00487   }
<a name="l00488"></a>00488 };
<a name="l00489"></a>00489 
<a name="l00490"></a>00490 CPPUNIT_TEST_SUITE_REGISTRATION( ParamTest );
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 
<a name="l00493"></a>00493 <span class="preprocessor">#endif</span>
<a name="l00494"></a>00494 <span class="preprocessor"></span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:27 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
