<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/ThHyd/Incompressible/Milieu/Fluide_base.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/ThHyd/Incompressible/Milieu/Fluide_base.cpp</div>  </div>
</div>
<div class="contents">
<a href="Fluide__base_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Fluide_base.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/ThHyd/Incompressible/Milieu</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/32</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Fluide__base_8h.html">Fluide_base.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Motcle_8h.html">Motcle.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Champ_8h.html">Champ.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Uniforme_8h.html">Champ_Uniforme.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Fonc__Tabule_8h.html">Champ_Fonc_Tabule.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Probleme__base_8h.html">Probleme_base.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Discretisation__base_8h.html">Discretisation_base.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Equation__base_8h.html">Equation_base.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Schema__Temps__base_8h.html">Schema_Temps_base.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="Param_8h.html">Param.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Fonc__MED_8h.html">Champ_Fonc_MED.h</a>&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;<a class="code" href="EChaine_8h.html">EChaine.h</a>&gt;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="Fluide__base_8cpp.html#a9031a3dfba7179b67a26812c3164d7ce">00036</a> <a class="code" href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a>(<a class="code" href="classFluide__base.html" title="classe Fluide_base Cette classe represente un d&#39;un fluide incompressible ainsi que ses proprietes: - ...">Fluide_base</a>,<span class="stringliteral">&quot;Fluide_base&quot;</span>,<a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>);
<a name="l00037"></a>00037 <span class="comment">// XD fluide_base milieu_base fluide_base -1 Basic class for fluids.</span>
<a name="l00038"></a>00038 <span class="comment">// XD attr indice field_base indice 1 Refractivity of fluid.</span>
<a name="l00039"></a>00039 <span class="comment">// XD attr kappa field_base kappa 1 Absorptivity of fluid (m-1).</span>
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 
<a name="l00042"></a><a class="code" href="classFluide__base.html#a35fcbd2df2fcdc114649e46eb61fd61a">00042</a> <a class="code" href="classFluide__base.html#a35fcbd2df2fcdc114649e46eb61fd61a">Fluide_base::Fluide_base</a>() { }
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="comment">// Precondition:</span>
<a name="l00045"></a>00045 <span class="comment">// Parametre: Sortie&amp; os</span>
<a name="l00046"></a>00046 <span class="comment">// Signification: un flot de sortie</span>
<a name="l00047"></a>00047 <span class="comment">// Valeurs par defaut:</span>
<a name="l00048"></a>00048 <span class="comment">// Contraintes:</span>
<a name="l00049"></a>00049 <span class="comment">// Acces: entree/sortie</span>
<a name="l00050"></a>00050 <span class="comment">// Exception:</span>
<a name="l00051"></a>00051 <span class="comment">// Effets de bord:</span>
<a name="l00052"></a>00052 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00053"></a>00053 <span class="comment">//</span><span class="comment"></span>
<a name="l00054"></a>00054 <span class="comment">//! Ecrit les proprietes du fluide sur un flot de sortie.</span>
<a name="l00055"></a>00055 <span class="comment"></span><span class="comment">/** \return Sortie\&amp;&lt;br&gt;</span>
<a name="l00056"></a>00056 <span class="comment">Signification: le flot de sortie modifie&lt;br&gt;</span>
<a name="l00057"></a>00057 <span class="comment">Contraintes: */</span>
<a name="l00058"></a><a class="code" href="classFluide__base.html#ac340d6ffcbd38870a06e9fa404fbac55">00058</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classFluide__base.html#ac340d6ffcbd38870a06e9fa404fbac55" title="Ecrit les proprietes du fluide sur un flot de sortie.">Fluide_base::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00059"></a>00059 <span class="keyword"></span>{
<a name="l00060"></a>00060   os &lt;&lt; <span class="stringliteral">&quot;{&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00061"></a>00061   os &lt;&lt; <span class="stringliteral">&quot;kappa &quot;</span>&lt;&lt;<a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a> &lt;&lt; finl;
<a name="l00062"></a>00062   os &lt;&lt; <span class="stringliteral">&quot;indice &quot;</span>&lt;&lt;<a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a> &lt;&lt; finl;
<a name="l00063"></a>00063   os &lt;&lt; <span class="stringliteral">&quot;longueur_rayo &quot;</span>&lt;&lt;<a class="code" href="classFluide__base.html#a671e10cda91e3d1de243e218fcb2f6b0">longueur_rayo_</a> &lt;&lt; finl;
<a name="l00064"></a>00064   os &lt;&lt; <span class="stringliteral">&quot;mu &quot;</span> &lt;&lt; <a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a> &lt;&lt; finl;
<a name="l00065"></a>00065   os &lt;&lt; <span class="stringliteral">&quot;beta_co &quot;</span> &lt;&lt; <a class="code" href="classFluide__base.html#a02d851624951c66a8122021f6f95346c">beta_co</a> &lt;&lt; finl;
<a name="l00066"></a>00066   <a class="code" href="classMilieu__base.html#a4f822b3be5b1c7c5eed44dd72f805299" title="Ecrit un objet milieu sur un flot de sortie. Ecrit les caracteristiques du milieu: - masse volumique ...">Milieu_base::ecrire</a>(os);
<a name="l00067"></a>00067   os &lt;&lt; <span class="stringliteral">&quot;}&quot;</span> &lt;&lt; finl;
<a name="l00068"></a>00068   <span class="keywordflow">return</span> os;
<a name="l00069"></a>00069 }
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="comment">// Precondition:</span>
<a name="l00073"></a>00073 <span class="comment">// Parametre: Entree&amp; is</span>
<a name="l00074"></a>00074 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00075"></a>00075 <span class="comment">// Valeurs par defaut:</span>
<a name="l00076"></a>00076 <span class="comment">// Contraintes:</span>
<a name="l00077"></a>00077 <span class="comment">// Acces: entree/sortie</span>
<a name="l00078"></a>00078 <span class="comment">// Exception: accolade ouvrante attendue</span>
<a name="l00079"></a>00079 <span class="comment">// Effets de bord:</span>
<a name="l00080"></a>00080 <span class="comment">// Postcondition:</span>
<a name="l00081"></a>00081 <span class="comment">//</span>
<a name="l00082"></a>00082 <span class="comment">//</span>
<a name="l00083"></a>00083 <span class="comment">//</span>
<a name="l00084"></a>00084 <span class="comment">//</span>
<a name="l00085"></a>00085 <span class="comment">//</span>
<a name="l00086"></a>00086 <span class="comment">//</span>
<a name="l00087"></a>00087 <span class="comment">//</span>
<a name="l00088"></a>00088 <span class="comment">//</span>
<a name="l00089"></a>00089 <span class="comment">//</span>
<a name="l00090"></a>00090 <span class="comment">//</span>
<a name="l00091"></a>00091 <span class="comment">//</span>
<a name="l00092"></a>00092 <span class="comment">//</span>
<a name="l00093"></a>00093 <span class="comment">//</span><span class="comment"></span>
<a name="l00094"></a>00094 <span class="comment">//! Lit les caracteristiques du fluide a partir d&#39;un flot&lt;br&gt;d&#39;entree.&lt;br&gt;Format:&lt;br&gt;Fluide_base&lt;br&gt;{&lt;br&gt;Mu type_champ bloc de lecture de champ&lt;br&gt;Rho Champ_Uniforme 1 vrel&lt;br&gt;[Cp Champ_Uniforme 1 vrel]&lt;br&gt;[Lambda type_champ bloc de lecture de champ]&lt;br&gt;[Beta_th type_champ bloc de lecture de champ]&lt;br&gt;[Beta_co type_champ bloc de lecture de champ]&lt;br&gt;}&lt;br&gt;cf Milieu_base::readOn</span>
<a name="l00095"></a>00095 <span class="comment"></span><span class="comment">/** \return Entree\&amp;&lt;br&gt;</span>
<a name="l00096"></a>00096 <span class="comment">Signification: le flot d&#39;entree modifie&lt;br&gt;</span>
<a name="l00097"></a>00097 <span class="comment">Contraintes: */</span>
<a name="l00098"></a><a class="code" href="classFluide__base.html#ae022aae3018284562373f389c1b5ef07">00098</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classFluide__base.html#ae022aae3018284562373f389c1b5ef07" title="Lit les caracteristiques du fluide a partir d&#39;un flot d&#39;entree. Format: Fluide_base { Mu type_champ b...">Fluide_base::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00099"></a>00099 {
<a name="l00100"></a>00100   <a class="code" href="classFluide__base.html#ae022aae3018284562373f389c1b5ef07" title="Lit les caracteristiques du fluide a partir d&#39;un flot d&#39;entree. Format: Fluide_base { Mu type_champ b...">Milieu_base::readOn</a>(is);
<a name="l00101"></a>00101   <span class="keywordflow">return</span> is;
<a name="l00102"></a>00102 }
<a name="l00103"></a>00103 
<a name="l00104"></a><a class="code" href="classFluide__base.html#ab4ac1641383501183e8998ce35b30c49">00104</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#ab4ac1641383501183e8998ce35b30c49">Fluide_base::set_param</a>(<a class="code" href="classParam.html" title="Defined below in this file.">Param</a>&amp; param)
<a name="l00105"></a>00105 {
<a name="l00106"></a>00106   <a class="code" href="classFluide__base.html#ab4ac1641383501183e8998ce35b30c49">Milieu_base::set_param</a>(param);
<a name="l00107"></a>00107 <span class="comment">// La lecture de rho n est pas specifiee obligatoire ici car ce</span>
<a name="l00108"></a>00108 <span class="comment">// champ ne doit pas etre lu pour un fluide dilatable</span>
<a name="l00109"></a>00109   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;mu&quot;</span>,&amp;<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>);
<a name="l00110"></a>00110   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;beta_co&quot;</span>,&amp;<a class="code" href="classFluide__base.html#a02d851624951c66a8122021f6f95346c">beta_co</a>);
<a name="l00111"></a>00111   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;kappa&quot;</span>,&amp;<a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>);
<a name="l00112"></a>00112   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;indice&quot;</span>,&amp;<a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a>);
<a name="l00113"></a>00113 }
<a name="l00114"></a>00114 
<a name="l00115"></a><a class="code" href="classFluide__base.html#a76a64a41963cecf4835ce9d6c2670d7a">00115</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#a76a64a41963cecf4835ce9d6c2670d7a">Fluide_base::creer_champs_non_lus</a>()
<a name="l00116"></a>00116 {
<a name="l00117"></a>00117   <a class="code" href="classFluide__base.html#a76a64a41963cecf4835ce9d6c2670d7a">Milieu_base::creer_champs_non_lus</a>();
<a name="l00118"></a>00118   <a class="code" href="classFluide__base.html#ac9419fd17f4ec1a9279939af90338077" title="Si l&#39;objet reference par nu et du type Champ_Uniforme type nu en &quot;Champ_Uniforme&quot; et le remplit avec ...">creer_nu</a>();
<a name="l00119"></a>00119 }
<a name="l00120"></a>00120 
<a name="l00121"></a><a class="code" href="classFluide__base.html#afde4bb1d1eb2007e1eeca18d094267bd">00121</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#afde4bb1d1eb2007e1eeca18d094267bd">Fluide_base::discretiser</a>(<span class="keyword">const</span> <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; pb, <span class="keyword">const</span>  <a class="code" href="classDiscretisation__base.html" title="classe Discretisation_base Cette classe represente un schema de discretisation en espace...">Discretisation_base</a>&amp; dis)
<a name="l00122"></a>00122 {
<a name="l00123"></a>00123   <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; zone_dis=pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(0).<a class="code" href="classEquation__base.html#a12d97ae801edc18f614523677921346e" title="Renvoie la zone discretisee associee a l&#39;equation.">zone_dis</a>();
<a name="l00124"></a>00124 <span class="comment">// mu rho nu  revoir</span>
<a name="l00125"></a>00125   <span class="keywordtype">double</span> temps=pb.<a class="code" href="classProbleme__base.html#a0cf6c541e30cd21c3da32fc122cb0e2b" title="Renvoie le schema en temps associe au probleme. (si il est non nul) (version const)">schema_temps</a>().<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>();
<a name="l00126"></a>00126   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00127"></a>00127     <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Fonc__MED.html" title="classe Champ_Fonc_MED">Champ_Fonc_MED</a>,<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00128"></a>00128       {
<a name="l00129"></a>00129         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot; on convertit le champ_fonc_med en champ_don&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00130"></a>00130         <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a> mu_prov;
<a name="l00131"></a>00131         dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;champ_elem&quot;</span>,zone_dis,<span class="stringliteral">&quot;neant&quot;</span>,<span class="stringliteral">&quot;neant&quot;</span>,1,temps,mu_prov);
<a name="l00132"></a>00132         mu_prov.<a class="code" href="classChamp__Don.html#abb68a9cf0347d7a6888c968c90715451" title="Appel a l&#39;objet sous-jacent Affectation d&#39;un Champ_Base dans un Champ_Don.">affecter_</a>(<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>());
<a name="l00133"></a>00133         <a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__.html#a1792f7b005c558e7412661aeee781bd2">detach</a>();
<a name="l00134"></a>00134         <a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>.<a class="code" href="classDeriv__.html#a1792f7b005c558e7412661aeee781bd2">detach</a>();
<a name="l00135"></a>00135         dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;champ_elem&quot;</span>,zone_dis,<span class="stringliteral">&quot;neant&quot;</span>,<span class="stringliteral">&quot;neant&quot;</span>,1,temps,<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>);
<a name="l00136"></a>00136 
<a name="l00137"></a>00137         <a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>().<a class="code" href="classChamp__Don__base.html#ac0ac51817e03e27c28d2b96bb15db9a0" title="Surcharge Champ_base::valeurs() Renvoie le tableau des valeurs.">valeurs</a>()=mu_prov.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>().<a class="code" href="classChamp__Don__base.html#ac0ac51817e03e27c28d2b96bb15db9a0" title="Surcharge Champ_base::valeurs() Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00138"></a>00138 
<a name="l00139"></a>00139       }
<a name="l00140"></a>00140   <span class="keywordflow">if</span> (!<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00141"></a>00141     {
<a name="l00142"></a>00142       dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;champ_elem&quot;</span>,zone_dis,<span class="stringliteral">&quot;neant&quot;</span>,<span class="stringliteral">&quot;neant&quot;</span>,1,temps,<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>);
<a name="l00143"></a>00143       dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;champ_elem&quot;</span>,zone_dis,<span class="stringliteral">&quot;neant&quot;</span>,<span class="stringliteral">&quot;neant&quot;</span>,1,temps,<a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>);
<a name="l00144"></a>00144     }
<a name="l00145"></a>00145   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00146"></a>00146     {
<a name="l00147"></a>00147       dis.<a class="code" href="classDiscretisation__base.html#a8944ef935b79ad4da2014d483322d14d">nommer_completer_champ_physique</a>(zone_dis,<span class="stringliteral">&quot;viscosite_dynamique&quot;</span>,<span class="stringliteral">&quot;kg/m/s&quot;</span>,<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>(),pb);
<a name="l00148"></a>00148       <a class="code" href="classMilieu__base.html#ac23515c92999b5ee05f11d0a4603ec52">champs_compris_</a>.<a class="code" href="classChamps__compris.html#aae00ca562b7d89ff638fae94d6973fcf">ajoute_champ</a>(<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>());
<a name="l00149"></a>00149     }
<a name="l00150"></a>00150   <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Fonc__Tabule.html" title="Classe Champ_Fonc_Tabule Classe derivee de Champ_Fonc_base qui represente les champs fonctions d&#39;un a...">Champ_Fonc_Tabule</a>,<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00151"></a>00151     {
<a name="l00152"></a>00152       dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;champ_elem&quot;</span>,zone_dis,<span class="stringliteral">&quot;neant&quot;</span>,<span class="stringliteral">&quot;neant&quot;</span>,1,temps,<a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>);
<a name="l00153"></a>00153     }
<a name="l00154"></a>00154   <span class="keywordflow">if</span> (!<a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00155"></a>00155     dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;champ_elem&quot;</span>,zone_dis,<span class="stringliteral">&quot;neant&quot;</span>,<span class="stringliteral">&quot;neant&quot;</span>,1,temps,<a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>);
<a name="l00156"></a>00156 
<a name="l00157"></a>00157   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00158"></a>00158     {
<a name="l00159"></a>00159       dis.<a class="code" href="classDiscretisation__base.html#a8944ef935b79ad4da2014d483322d14d">nommer_completer_champ_physique</a>(zone_dis,<span class="stringliteral">&quot;viscosite_cinematique&quot;</span>,<span class="stringliteral">&quot;m2/s&quot;</span>,<a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>(),pb);
<a name="l00160"></a>00160       <a class="code" href="classMilieu__base.html#ac23515c92999b5ee05f11d0a4603ec52">champs_compris_</a>.<a class="code" href="classChamps__compris.html#aae00ca562b7d89ff638fae94d6973fcf">ajoute_champ</a>(<a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>());
<a name="l00161"></a>00161     }
<a name="l00162"></a>00162   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#a02d851624951c66a8122021f6f95346c">beta_co</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00163"></a>00163     {
<a name="l00164"></a>00164       dis.<a class="code" href="classDiscretisation__base.html#a8944ef935b79ad4da2014d483322d14d">nommer_completer_champ_physique</a>(zone_dis,<span class="stringliteral">&quot;dilatabilite_solutale&quot;</span>,<span class="stringliteral">&quot;.&quot;</span>,<a class="code" href="classFluide__base.html#a02d851624951c66a8122021f6f95346c">beta_co</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>(),pb);
<a name="l00165"></a>00165       <a class="code" href="classMilieu__base.html#ac23515c92999b5ee05f11d0a4603ec52">champs_compris_</a>.<a class="code" href="classChamps__compris.html#aae00ca562b7d89ff638fae94d6973fcf">ajoute_champ</a>(<a class="code" href="classFluide__base.html#a02d851624951c66a8122021f6f95346c">beta_co</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>());
<a name="l00166"></a>00166     }
<a name="l00167"></a>00167 
<a name="l00168"></a>00168   <a class="code" href="classFluide__base.html#afde4bb1d1eb2007e1eeca18d094267bd">Milieu_base::discretiser</a>(pb,dis);
<a name="l00169"></a>00169 }
<a name="l00170"></a>00170 <span class="comment">// Precondition:</span>
<a name="l00171"></a>00171 <span class="comment">// Parametre:</span>
<a name="l00172"></a>00172 <span class="comment">// Signification:</span>
<a name="l00173"></a>00173 <span class="comment">// Valeurs par defaut:</span>
<a name="l00174"></a>00174 <span class="comment">// Contraintes:</span>
<a name="l00175"></a>00175 <span class="comment">// Acces:</span>
<a name="l00176"></a>00176 <span class="comment">// </span>
<a name="l00177"></a>00177 <span class="comment">// Signification:</span>
<a name="l00178"></a>00178 <span class="comment">// Contraintes:</span>
<a name="l00179"></a>00179 <span class="comment">// Exception: la masse volumique (rho) n&#39;est pas strictement positive</span>
<a name="l00180"></a>00180 <span class="comment">// Exception: la masse volumique (rho) n&#39;est pas de type Champ_Uniforme</span>
<a name="l00181"></a>00181 <span class="comment">// Exception: la viscosite (mu) n&#39;est pas strictement positive</span>
<a name="l00182"></a>00182 <span class="comment">// Exception: l&#39;une des proprietes (rho ou mu) du fluide n&#39;a pas ete definie</span>
<a name="l00183"></a>00183 <span class="comment">// Exception: la capacite calorifique (Cp) n&#39;est pas strictement positive</span>
<a name="l00184"></a>00184 <span class="comment">// Exception: la capacite calorifique (Cp) n&#39;est pas de type Champ_Uniforme</span>
<a name="l00185"></a>00185 <span class="comment">// Exception: la conductivite (lambda) n&#39;est pas strictement positive</span>
<a name="l00186"></a>00186 <span class="comment">// Exception: toutes les proprietes du fluide anisotherme n&#39;ont pas ete definies</span>
<a name="l00187"></a>00187 <span class="comment">// Effets de bord:</span>
<a name="l00188"></a>00188 <span class="comment">// Postcondition:</span>
<a name="l00189"></a>00189 <span class="comment">//</span><span class="comment"></span>
<a name="l00190"></a>00190 <span class="comment">//! Verifie que les champs lus l&#39;ont ete correctement.</span>
<a name="l00191"></a><a class="code" href="classFluide__base.html#ac3c5d7cfd68c6539af35bb5d57bc2b54">00191</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#ac3c5d7cfd68c6539af35bb5d57bc2b54" title="Verifie que les champs lus l&#39;ont ete correctement.">Fluide_base::verifier_coherence_champs</a>(<span class="keywordtype">int</span>&amp; err,<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; msg)
<a name="l00192"></a>00192 {
<a name="l00193"></a>00193   msg=<span class="stringliteral">&quot;&quot;</span>;
<a name="l00194"></a>00194   <span class="keywordflow">if</span> (<a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00195"></a>00195     {
<a name="l00196"></a>00196       <span class="keywordflow">if</span> (<a class="code" href="DoubleVect_8cpp.html#a55e600bcf8a03e258531f83869c4d060">mp_min_vect</a>(<a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classChamp.html#a1bd56ec365487b3ad9a2feed268a30fe">valeurs</a>()) &lt;= 0)
<a name="l00197"></a>00197         {
<a name="l00198"></a>00198           msg += <span class="stringliteral">&quot;The density rho is not striclty positive. \n&quot;</span>;
<a name="l00199"></a>00199           err = 1;
<a name="l00200"></a>00200         }
<a name="l00201"></a>00201     }
<a name="l00202"></a>00202   <span class="keywordflow">else</span>
<a name="l00203"></a>00203     {
<a name="l00204"></a>00204       msg += <span class="stringliteral">&quot;The density rho has not been specified. \n&quot;</span>;
<a name="l00205"></a>00205       err = 1;
<a name="l00206"></a>00206     }
<a name="l00207"></a>00207   <span class="keywordflow">if</span>  (  (<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) &amp;&amp; ( (<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) &amp;&amp; (<a class="code" href="classMilieu__base.html#a340b07dca6c9ef9a3b58b31c6c404a0b">beta_th</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) ) ) <span class="comment">//!&lt; Fluide anisotherme</span>
<a name="l00208"></a>00208 <span class="comment"></span>    {
<a name="l00209"></a>00209 <span class="comment">// if (mp_min_vect(Cp.valeurs()) &lt;= 0)</span>
<a name="l00210"></a>00210 <span class="comment">// {</span>
<a name="l00211"></a>00211 <span class="comment">// msg += &quot;The heat capacity Cp is not striclty positive. \n&quot;;</span>
<a name="l00212"></a>00212 <span class="comment">// err = 1;</span>
<a name="l00213"></a>00213 <span class="comment">// }</span>
<a name="l00214"></a>00214 <span class="comment">// if (mp_min_vect(lambda.valeurs()) &lt;= 0)</span>
<a name="l00215"></a>00215 <span class="comment">// {</span>
<a name="l00216"></a>00216 <span class="comment">// msg += &quot;The conductivity lambda is not positive. \n&quot;;</span>
<a name="l00217"></a>00217 <span class="comment">// err = 1;</span>
<a name="l00218"></a>00218 <span class="comment">// }</span>
<a name="l00219"></a>00219       <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00220"></a>00220         {
<a name="l00221"></a>00221           <span class="keywordflow">if</span>  (<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>(0,0) &lt;= 0)
<a name="l00222"></a>00222             {
<a name="l00223"></a>00223               msg += <span class="stringliteral">&quot;The heat capacity Cp is not striclty positive. \n&quot;</span>;
<a name="l00224"></a>00224               err = 1;
<a name="l00225"></a>00225             }
<a name="l00226"></a>00226         }
<a name="l00227"></a>00227       <span class="keywordflow">else</span>
<a name="l00228"></a>00228         {
<a name="l00229"></a>00229           msg += <span class="stringliteral">&quot;The heat capacity Cp is not of type Champ_Uniforme. \n&quot;</span>;
<a name="l00230"></a>00230           err = 1;
<a name="l00231"></a>00231         }
<a name="l00232"></a>00232       <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00233"></a>00233         {
<a name="l00234"></a>00234           <span class="keywordflow">if</span> (<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>(0,0) &lt; 0)
<a name="l00235"></a>00235             {
<a name="l00236"></a>00236               msg += <span class="stringliteral">&quot;The conductivity lambda is not positive. \n&quot;</span>;
<a name="l00237"></a>00237               err = 1;
<a name="l00238"></a>00238             }
<a name="l00239"></a>00239         }
<a name="l00240"></a>00240 
<a name="l00241"></a>00241     }
<a name="l00242"></a>00242   <span class="keywordflow">if</span>  ( ( (<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) || (<a class="code" href="classMilieu__base.html#a340b07dca6c9ef9a3b58b31c6c404a0b">beta_th</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) ) &amp;&amp; (!<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) )
<a name="l00243"></a>00243     {
<a name="l00244"></a>00244       msg += <span class="stringliteral">&quot; Physical properties for an anisotherm case : \n&quot;</span>;
<a name="l00245"></a>00245       msg += <span class="stringliteral">&quot;the conductivity lambda has not been specified. \n&quot;</span>;
<a name="l00246"></a>00246       err = 2;
<a name="l00247"></a>00247     }
<a name="l00248"></a>00248   <span class="keywordflow">if</span>  ( ( (<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) || (<a class="code" href="classMilieu__base.html#a340b07dca6c9ef9a3b58b31c6c404a0b">beta_th</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) ) &amp;&amp; (!<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) )
<a name="l00249"></a>00249     {
<a name="l00250"></a>00250       msg += <span class="stringliteral">&quot; Physical properties for an anisotherm case : \n&quot;</span>;
<a name="l00251"></a>00251       msg += <span class="stringliteral">&quot;the heat capacity Cp has not been specified. \n&quot;</span>;
<a name="l00252"></a>00252       err = 2;
<a name="l00253"></a>00253     }
<a name="l00254"></a>00254   <span class="keywordflow">if</span> ( ( (<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) || (<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) ) &amp;&amp; (!<a class="code" href="classMilieu__base.html#a340b07dca6c9ef9a3b58b31c6c404a0b">beta_th</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) )
<a name="l00255"></a>00255     {
<a name="l00256"></a>00256       msg += <span class="stringliteral">&quot; Physical properties for an anisotherm case : \n&quot;</span>;
<a name="l00257"></a>00257       msg += <span class="stringliteral">&quot;the thermal expansion coefficient beta_th has not been specified. \n&quot;</span>;
<a name="l00258"></a>00258       err = 2;
<a name="l00259"></a>00259     }
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 <span class="comment">// Test de la coherence des proprietees radiatives du fluide incompressible</span>
<a name="l00262"></a>00262 <span class="comment">// (pour un milieu semi transparent</span>
<a name="l00263"></a>00263   <span class="keywordflow">if</span> ( (<a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) &amp;&amp; (!<a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) )
<a name="l00264"></a>00264     {
<a name="l00265"></a>00265       msg += <span class="stringliteral">&quot; Physical properties for semi tranparent radiation case : \n&quot;</span>;
<a name="l00266"></a>00266       msg += <span class="stringliteral">&quot;Refraction index has not been specfied while it has been done for absorption coefficient. \n&quot;</span>;
<a name="l00267"></a>00267       err = 1;
<a name="l00268"></a>00268     }
<a name="l00269"></a>00269   <span class="keywordflow">if</span> ( (!<a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) &amp;&amp; (<a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) )
<a name="l00270"></a>00270     {
<a name="l00271"></a>00271       msg += <span class="stringliteral">&quot; Physical properties for semi tranparent radiation case : \n&quot;</span>;
<a name="l00272"></a>00272       msg += <span class="stringliteral">&quot;Absorption coefficient has not been specfied while it has been done for refraction index. \n&quot;</span>;
<a name="l00273"></a>00273       err = 1;
<a name="l00274"></a>00274     }
<a name="l00275"></a>00275 
<a name="l00276"></a>00276   <span class="keywordflow">if</span> ( (<a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) &amp;&amp; <a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() )
<a name="l00277"></a>00277     {
<a name="l00278"></a>00278       <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00279"></a>00279         {
<a name="l00280"></a>00280           <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>(0,0) &lt;= 0)
<a name="l00281"></a>00281             {
<a name="l00282"></a>00282               msg += <span class="stringliteral">&quot;The absorption coefficient kappa is not striclty positive. \n&quot;</span>;
<a name="l00283"></a>00283               err = 1;
<a name="l00284"></a>00284             }
<a name="l00285"></a>00285         }
<a name="l00286"></a>00286     }
<a name="l00287"></a>00287   <a class="code" href="classFluide__base.html#ac3c5d7cfd68c6539af35bb5d57bc2b54" title="Verifie que les champs lus l&#39;ont ete correctement.">Milieu_base::verifier_coherence_champs</a>(err,msg);
<a name="l00288"></a>00288 }
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 <span class="comment">// Precondition:</span>
<a name="l00292"></a>00292 <span class="comment">// Parametre:</span>
<a name="l00293"></a>00293 <span class="comment">// Signification:</span>
<a name="l00294"></a>00294 <span class="comment">// Valeurs par defaut:</span>
<a name="l00295"></a>00295 <span class="comment">// Contraintes:</span>
<a name="l00296"></a>00296 <span class="comment">// Acces:</span>
<a name="l00297"></a>00297 <span class="comment">// </span>
<a name="l00298"></a>00298 <span class="comment">// Signification:</span>
<a name="l00299"></a>00299 <span class="comment">// Contraintes:</span>
<a name="l00300"></a>00300 <span class="comment">// Exception:</span>
<a name="l00301"></a>00301 <span class="comment">// Effets de bord:</span>
<a name="l00302"></a>00302 <span class="comment">// Postcondition:</span>
<a name="l00303"></a>00303 <span class="comment">//</span>
<a name="l00304"></a>00304 <span class="comment">//</span>
<a name="l00305"></a>00305 <span class="comment">//</span>
<a name="l00306"></a>00306 <span class="comment">//</span><span class="comment"></span>
<a name="l00307"></a>00307 <span class="comment">//! Si l&#39;objet reference par nu et du type Champ_Uniforme&lt;br&gt;type nu en &quot;Champ_Uniforme&quot; et le remplit&lt;br&gt;avec mu(0,0)/rho(0,0).&lt;br&gt;Sinon n efait rien.</span>
<a name="l00308"></a><a class="code" href="classFluide__base.html#ac9419fd17f4ec1a9279939af90338077">00308</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#ac9419fd17f4ec1a9279939af90338077" title="Si l&#39;objet reference par nu et du type Champ_Uniforme type nu en &quot;Champ_Uniforme&quot; et le remplit avec ...">Fluide_base::creer_nu</a>()
<a name="l00309"></a>00309 {
<a name="l00310"></a>00310   assert(<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>());
<a name="l00311"></a>00311   assert(<a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>());
<a name="l00312"></a>00312   <a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>=<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>;
<a name="l00313"></a>00313   <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>, <a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()) &amp;&amp; !<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>, <a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classDeriv__Champ__base.html#a294750f8ed9550d00377fa6eb31ce67f">valeur</a>()))
<a name="l00314"></a>00314     nu.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>().<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classChamp.html#a1bd56ec365487b3ad9a2feed268a30fe">valeurs</a>().<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0), <a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classChamp.html#a1bd56ec365487b3ad9a2feed268a30fe">valeurs</a>().<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>());
<a name="l00315"></a>00315   nu-&gt;nommer(<span class="stringliteral">&quot;nu&quot;</span>);
<a name="l00316"></a>00316 }
<a name="l00317"></a>00317 
<a name="l00318"></a><a class="code" href="classFluide__base.html#a23b2c6917923d7f10bd451c73122cb7e">00318</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#a23b2c6917923d7f10bd451c73122cb7e">Fluide_base::calculer_nu</a>()
<a name="l00319"></a>00319 {
<a name="l00320"></a>00320   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tabmu = <a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00321"></a>00321   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tabrho = <a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classChamp.html#a1bd56ec365487b3ad9a2feed268a30fe">valeurs</a>();
<a name="l00322"></a>00322   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tabnu = <a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00323"></a>00323 
<a name="l00324"></a>00324   <span class="keywordtype">int</span> cRho = <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>, <a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classDeriv__Champ__base.html#a294750f8ed9550d00377fa6eb31ce67f">valeur</a>()), cMu = <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>, <a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()),
<a name="l00325"></a>00325       i, j, n, Nl = tabnu.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0), N = tabnu.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>();
<a name="l00326"></a>00326   <span class="comment">/* valeurs : mu / rho */</span>
<a name="l00327"></a>00327   <span class="keywordflow">for</span> (i = j = 0; i &lt; Nl; i++) <span class="keywordflow">for</span> (n = 0; n &lt; N; n++, j++) tabnu.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>()[j] = tabmu.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>()[cMu ? n : j] / tabrho.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>()[cRho ? n : j];
<a name="l00328"></a>00328 }
<a name="l00329"></a>00329 
<a name="l00330"></a>00330 
<a name="l00331"></a><a class="code" href="classFluide__base.html#a78f25075b23b86bc6d6a0a867e795677">00331</a> <span class="keywordtype">bool</span> <a class="code" href="classFluide__base.html#a78f25075b23b86bc6d6a0a867e795677">Fluide_base::initTimeStep</a>(<span class="keywordtype">double</span> dt)
<a name="l00332"></a>00332 {
<a name="l00333"></a>00333   <span class="keywordflow">if</span> (!<a class="code" href="classMilieu__base.html#ad78957f1867c629c0d5296522b7c3f2c">equation_</a>.size() || !<a class="code" href="classFluide__base.html#a8c8be69b61c63be25f4258003c181dd9">e_int_auto_</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">//pas d&#39;equation associee ou pas de e_int a gerer</span>
<a name="l00334"></a>00334   <span class="keyword">const</span> <a class="code" href="classSchema__Temps__base.html" title="classe Schema_Temps_base">Schema_Temps_base</a>&amp; sch = <a class="code" href="classMilieu__base.html#ad78957f1867c629c0d5296522b7c3f2c">equation_</a>.begin()-&gt;second-&gt;schema_temps(); <span class="comment">//on recupere le schema en temps par la 1ere equation</span>
<a name="l00335"></a>00335   <a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>&amp; ch = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>, <a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a>.<a class="code" href="classDeriv__Champ__base.html#a294750f8ed9550d00377fa6eb31ce67f">valeur</a>());
<a name="l00336"></a>00336   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt;= sch.<a class="code" href="classSchema__Temps__base.html#a9d24dd8112258e09c09a9b58c4b7e335">nb_valeurs_futures</a>(); i++)
<a name="l00337"></a>00337     ch.<a class="code" href="classChamp__Inc__base.html#aaa47641edaff97b202ab4ffddb54211a" title="Fixe le temps du ieme champ futur.">changer_temps_futur</a>(sch.<a class="code" href="classSchema__Temps__base.html#a46d916b7db340c822e87edf21ab77c00">temps_futur</a>(i), i), ch.<a class="code" href="classChamp__Inc__base.html#a77e7e0cb597566b0d08616687ee57af8" title="Renvoie les valeurs du champs a l&#39;instant t+i.">futur</a>(i) = ch.<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>();
<a name="l00338"></a>00338   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00339"></a>00339 }
<a name="l00340"></a>00340 
<a name="l00341"></a>00341 <span class="comment">// Precondition:</span>
<a name="l00342"></a>00342 <span class="comment">// Parametre: double temps</span>
<a name="l00343"></a>00343 <span class="comment">// Signification: le temps de mise a jour</span>
<a name="l00344"></a>00344 <span class="comment">// Valeurs par defaut:</span>
<a name="l00345"></a>00345 <span class="comment">// Contraintes:</span>
<a name="l00346"></a>00346 <span class="comment">// Acces:</span>
<a name="l00347"></a>00347 <span class="comment">// </span>
<a name="l00348"></a>00348 <span class="comment">// Signification:</span>
<a name="l00349"></a>00349 <span class="comment">// Contraintes:</span>
<a name="l00350"></a>00350 <span class="comment">// Exception:</span>
<a name="l00351"></a>00351 <span class="comment">// Effets de bord:</span>
<a name="l00352"></a>00352 <span class="comment">// Postcondition:</span>
<a name="l00353"></a>00353 <span class="comment">//</span>
<a name="l00354"></a>00354 <span class="comment">//</span>
<a name="l00355"></a>00355 <span class="comment">//</span>
<a name="l00356"></a>00356 <span class="comment">//</span>
<a name="l00357"></a>00357 <span class="comment">//</span><span class="comment"></span>
<a name="l00358"></a>00358 <span class="comment">//! Effectue une mise a jour en temps du milieu,&lt;br&gt;et donc de ses parametres caracteristiques.&lt;br&gt;Les champs uniformes sont recalcules pour le&lt;br&gt;nouveau temps specifie, les autres sont mis a&lt;br&gt;par un appel a CLASSE_DU_CHAMP::mettre_a_jour(double temps).</span>
<a name="l00359"></a><a class="code" href="classFluide__base.html#acac78fff3f37b527eafcddfa47ee8856">00359</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#acac78fff3f37b527eafcddfa47ee8856" title="Effectue une mise a jour en temps du milieu, et donc de ses parametres caracteristiques. Les champs uniformes sont recalcules pour le nouveau temps specifie, les autres sont mis a par un appel a CLASSE_DU_CHAMP::mettre_a_jour(double temps).">Fluide_base::mettre_a_jour</a>(<span class="keywordtype">double</span> temps)
<a name="l00360"></a>00360 {
<a name="l00361"></a>00361   <a class="code" href="classFluide__base.html#acac78fff3f37b527eafcddfa47ee8856" title="Effectue une mise a jour en temps du milieu, et donc de ses parametres caracteristiques. Les champs uniformes sont recalcules pour le nouveau temps specifie, les autres sont mis a par un appel a CLASSE_DU_CHAMP::mettre_a_jour(double temps).">Milieu_base::mettre_a_jour</a>(temps);
<a name="l00362"></a>00362   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#a02d851624951c66a8122021f6f95346c">beta_co</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00363"></a>00363     <a class="code" href="classFluide__base.html#a02d851624951c66a8122021f6f95346c">beta_co</a>.<a class="code" href="classChamp__Don.html#a8b0fe2933360f11ddc77237ee23b5b56" title="Appel a l&#39;objet sous-jacent Provoque la mise a jour du champ si il est instationnaire.">mettre_a_jour</a>(temps);
<a name="l00364"></a>00364   <a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classChamp__Don.html#a8b0fe2933360f11ddc77237ee23b5b56" title="Appel a l&#39;objet sous-jacent Provoque la mise a jour du champ si il est instationnaire.">mettre_a_jour</a>(temps);
<a name="l00365"></a>00365   <a class="code" href="classFluide__base.html#a23b2c6917923d7f10bd451c73122cb7e">calculer_nu</a>();
<a name="l00366"></a>00366   <a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>().<a class="code" href="classChamp__base.html#ab4fdc6fb46c5e4efe2f931ceadd66979" title="Fixe le temps auquel se situe le champ.">changer_temps</a>(temps);
<a name="l00367"></a>00367   <a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>().<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00368"></a>00368   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#a8c8be69b61c63be25f4258003c181dd9">e_int_auto_</a>) <a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a>.<a class="code" href="classChamp.html#ac980d0cff0746eaa66d45ff2ba1cd8c7">mettre_a_jour</a>(temps);
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 <span class="comment">// Mise a jour des proprietes radiatives du fluide incompressible</span>
<a name="l00371"></a>00371 <span class="comment">// (Pour un fluide incompressible semi transparent).</span>
<a name="l00372"></a>00372 
<a name="l00373"></a>00373   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() &amp;&amp; <a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00374"></a>00374     {
<a name="l00375"></a>00375       <a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>.<a class="code" href="classChamp__Don.html#a8b0fe2933360f11ddc77237ee23b5b56" title="Appel a l&#39;objet sous-jacent Provoque la mise a jour du champ si il est instationnaire.">mettre_a_jour</a>(temps);
<a name="l00376"></a>00376       <a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a>.<a class="code" href="classChamp__Don.html#a8b0fe2933360f11ddc77237ee23b5b56" title="Appel a l&#39;objet sous-jacent Provoque la mise a jour du champ si il est instationnaire.">mettre_a_jour</a>(temps);
<a name="l00377"></a>00377 
<a name="l00378"></a>00378 <span class="comment">// Mise a jour de longueur_rayo</span>
<a name="l00379"></a>00379       <a class="code" href="classFluide__base.html#a671e10cda91e3d1de243e218fcb2f6b0">longueur_rayo_</a>.<a class="code" href="classChamp__Don.html#a8b0fe2933360f11ddc77237ee23b5b56" title="Appel a l&#39;objet sous-jacent Provoque la mise a jour du champ si il est instationnaire.">mettre_a_jour</a>(temps);
<a name="l00380"></a>00380 
<a name="l00381"></a>00381       <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>()))
<a name="l00382"></a>00382         {
<a name="l00383"></a>00383           <a class="code" href="classFluide__base.html#a15940f332124f04e044b9b3452ad10e8" title="Renvoie la longueur de penetration du rayonnement dans le fluide definie comme l = 1/(3*kappa)...">longueur_rayo</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,0)=1/(3*<a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>()(0,0));
<a name="l00384"></a>00384           <a class="code" href="classFluide__base.html#a15940f332124f04e044b9b3452ad10e8" title="Renvoie la longueur de penetration du rayonnement dans le fluide definie comme l = 1/(3*kappa)...">longueur_rayo</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>().<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00385"></a>00385         }
<a name="l00386"></a>00386       <span class="keywordflow">else</span>
<a name="l00387"></a>00387         {
<a name="l00388"></a>00388           <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; l_rayo = <a class="code" href="classFluide__base.html#a671e10cda91e3d1de243e218fcb2f6b0">longueur_rayo_</a>.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00389"></a>00389           <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; K = <a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00390"></a>00390           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>().<a class="code" href="classChamp__Don.html#a1bd173ced9d3eb09e59a55b56de29abf" title="Appel a l&#39;objet sous-jacent Renvoie le nombre de degres de liberte par composante.">nb_valeurs_nodales</a>(); i++)
<a name="l00391"></a>00391             l_rayo[i] = 1/(3*K[i]);
<a name="l00392"></a>00392           l_rayo.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00393"></a>00393         }
<a name="l00394"></a>00394     }
<a name="l00395"></a>00395 }
<a name="l00396"></a>00396 
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 <span class="comment">// Precondition:</span>
<a name="l00399"></a>00399 <span class="comment">// Parametre:</span>
<a name="l00400"></a>00400 <span class="comment">// Signification:</span>
<a name="l00401"></a>00401 <span class="comment">// Valeurs par defaut:</span>
<a name="l00402"></a>00402 <span class="comment">// Contraintes:</span>
<a name="l00403"></a>00403 <span class="comment">// Acces:</span>
<a name="l00404"></a>00404 <span class="comment">// </span>
<a name="l00405"></a>00405 <span class="comment">// Signification:</span>
<a name="l00406"></a>00406 <span class="comment">// Contraintes:</span>
<a name="l00407"></a>00407 <span class="comment">// Exception:</span>
<a name="l00408"></a>00408 <span class="comment">// Effets de bord:</span>
<a name="l00409"></a>00409 <span class="comment">// Postcondition: les parametres du fluide sont initialises</span>
<a name="l00410"></a>00410 <span class="comment">//</span><span class="comment"></span>
<a name="l00411"></a>00411 <span class="comment">//! Initialise les parametres du fluide.</span>
<a name="l00412"></a><a class="code" href="classFluide__base.html#a156378b0f1059b59db7c8fc6e3fae90e">00412</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classFluide__base.html#a156378b0f1059b59db7c8fc6e3fae90e" title="Initialise les parametres du fluide.">Fluide_base::initialiser</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; temps)
<a name="l00413"></a>00413 {
<a name="l00414"></a>00414   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Fluide_base::initialiser()&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00415"></a>00415   <a class="code" href="classFluide__base.html#a156378b0f1059b59db7c8fc6e3fae90e" title="Initialise les parametres du fluide.">Milieu_base::initialiser</a>(temps);
<a name="l00416"></a>00416   <a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classChamp__Don.html#ab3eb3a90dccc7c81ff282a8654428a1c" title="Appel a l&#39;objet sous-jacent Provoque l&#39;initialisation du champ si necessaire.">initialiser</a>(temps);
<a name="l00417"></a>00417 
<a name="l00418"></a>00418   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#a02d851624951c66a8122021f6f95346c">beta_co</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00419"></a>00419     <a class="code" href="classFluide__base.html#a02d851624951c66a8122021f6f95346c">beta_co</a>.<a class="code" href="classChamp__Don.html#ab3eb3a90dccc7c81ff282a8654428a1c" title="Appel a l&#39;objet sous-jacent Provoque l&#39;initialisation du champ si necessaire.">initialiser</a>(temps);
<a name="l00420"></a>00420   <a class="code" href="classFluide__base.html#a23b2c6917923d7f10bd451c73122cb7e">calculer_nu</a>();
<a name="l00421"></a>00421   <a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>().<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00422"></a>00422   <a class="code" href="classFluide__base.html#a3ed29f454490374eb6453a0b2e1c84ca">nu</a>-&gt;changer_temps(temps);
<a name="l00423"></a>00423 
<a name="l00424"></a>00424 <span class="comment">// Initialisation des proprietes radiatives du fluide incompressible</span>
<a name="l00425"></a>00425 <span class="comment">// (Pour un fluide incompressible semi transparent).</span>
<a name="l00426"></a>00426 
<a name="l00427"></a>00427   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() &amp;&amp; <a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00428"></a>00428     {
<a name="l00429"></a>00429       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Semi transparent fluid properties initialization.&quot;</span>&lt;&lt;finl;
<a name="l00430"></a>00430       <a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>.<a class="code" href="classChamp__Don.html#ab3eb3a90dccc7c81ff282a8654428a1c" title="Appel a l&#39;objet sous-jacent Provoque l&#39;initialisation du champ si necessaire.">initialiser</a>(temps);
<a name="l00431"></a>00431       <a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a>.<a class="code" href="classChamp__Don.html#ab3eb3a90dccc7c81ff282a8654428a1c" title="Appel a l&#39;objet sous-jacent Provoque l&#39;initialisation du champ si necessaire.">initialiser</a>(temps);
<a name="l00432"></a>00432 
<a name="l00433"></a>00433 <span class="comment">// Initialisation de longueur_rayo</span>
<a name="l00434"></a>00434       <a class="code" href="classFluide__base.html#a671e10cda91e3d1de243e218fcb2f6b0">longueur_rayo_</a>.<a class="code" href="classChamp__Don.html#ab3eb3a90dccc7c81ff282a8654428a1c" title="Appel a l&#39;objet sous-jacent Provoque l&#39;initialisation du champ si necessaire.">initialiser</a>(temps);
<a name="l00435"></a>00435       <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>()))
<a name="l00436"></a>00436         {
<a name="l00437"></a>00437           <a class="code" href="classFluide__base.html#a15940f332124f04e044b9b3452ad10e8" title="Renvoie la longueur de penetration du rayonnement dans le fluide definie comme l = 1/(3*kappa)...">longueur_rayo</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,0)=1/(3*<a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>()(0,0));
<a name="l00438"></a>00438         }
<a name="l00439"></a>00439       <span class="keywordflow">else</span>
<a name="l00440"></a>00440         {
<a name="l00441"></a>00441           <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; l_rayo = <a class="code" href="classFluide__base.html#a671e10cda91e3d1de243e218fcb2f6b0">longueur_rayo_</a>.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00442"></a>00442           <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; K = <a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00443"></a>00443           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>().<a class="code" href="classChamp__Don.html#a1bd173ced9d3eb09e59a55b56de29abf" title="Appel a l&#39;objet sous-jacent Renvoie le nombre de degres de liberte par composante.">nb_valeurs_nodales</a>(); i++)
<a name="l00444"></a>00444             l_rayo[i] = 1/(3*K[i]);
<a name="l00445"></a>00445         }
<a name="l00446"></a>00446     }
<a name="l00447"></a>00447   <span class="keywordflow">return</span> 1;
<a name="l00448"></a>00448 }
<a name="l00449"></a>00449 
<a name="l00450"></a><a class="code" href="classFluide__base.html#a51fb751c92c192f30175109d267419e2">00450</a> <span class="keywordtype">int</span> <a class="code" href="classFluide__base.html#a51fb751c92c192f30175109d267419e2">Fluide_base::is_rayo_semi_transp</a>()<span class="keyword"> const</span>
<a name="l00451"></a>00451 <span class="keyword"></span>{
<a name="l00452"></a>00452   <span class="keywordflow">return</span> int(<a class="code" href="classMilieu__base.html#a1b9941f7d2fc6fe25cdfcf3fc6647ed1">indic_rayo_</a> == <a class="code" href="classMilieu__base.html#a34de3896e9d2d1ea32c744ef4b9e1a38aaef8f109f5270c9f6f6e305a4ba9e0c9">SEMITRANSP</a>);
<a name="l00453"></a>00453 }
<a name="l00454"></a>00454 
<a name="l00455"></a><a class="code" href="classFluide__base.html#ab304befec83e8646683eff7261fab7f8">00455</a> <span class="keywordtype">int</span> <a class="code" href="classFluide__base.html#ab304befec83e8646683eff7261fab7f8">Fluide_base::is_rayo_transp</a>()<span class="keyword"> const</span>
<a name="l00456"></a>00456 <span class="keyword"></span>{
<a name="l00457"></a>00457   <span class="keywordflow">return</span> int(<a class="code" href="classMilieu__base.html#a1b9941f7d2fc6fe25cdfcf3fc6647ed1">indic_rayo_</a> == <a class="code" href="classMilieu__base.html#a34de3896e9d2d1ea32c744ef4b9e1a38a389c184a8e6089e693044eabeb9f704b">TRANSP</a>);
<a name="l00458"></a>00458 }
<a name="l00459"></a>00459 
<a name="l00460"></a><a class="code" href="classFluide__base.html#a226367f556bef0527676dbba2cb761bb">00460</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#a226367f556bef0527676dbba2cb761bb">Fluide_base::reset_type_rayo</a>()
<a name="l00461"></a>00461 {
<a name="l00462"></a>00462   <a class="code" href="classMilieu__base.html#a1b9941f7d2fc6fe25cdfcf3fc6647ed1">indic_rayo_</a>=<a class="code" href="classMilieu__base.html#a34de3896e9d2d1ea32c744ef4b9e1a38a8f2da14769c786f32fb5af5a38bf7b10">NONRAYO</a>;
<a name="l00463"></a>00463 }
<a name="l00464"></a><a class="code" href="classFluide__base.html#afdfcfcf96ecb76f8a3d2f11e66bd12ae">00464</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#afdfcfcf96ecb76f8a3d2f11e66bd12ae">Fluide_base::fixer_type_rayo</a>()
<a name="l00465"></a>00465 {
<a name="l00466"></a>00466   <span class="keywordflow">if</span> ((<a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) &amp;&amp; (<a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()))
<a name="l00467"></a>00467     <a class="code" href="classMilieu__base.html#a1b9941f7d2fc6fe25cdfcf3fc6647ed1">indic_rayo_</a> = <a class="code" href="classMilieu__base.html#a34de3896e9d2d1ea32c744ef4b9e1a38aaef8f109f5270c9f6f6e305a4ba9e0c9">SEMITRANSP</a>;
<a name="l00468"></a>00468   <span class="keywordflow">else</span>
<a name="l00469"></a>00469     <a class="code" href="classMilieu__base.html#a1b9941f7d2fc6fe25cdfcf3fc6647ed1">indic_rayo_</a> = <a class="code" href="classMilieu__base.html#a34de3896e9d2d1ea32c744ef4b9e1a38a389c184a8e6089e693044eabeb9f704b">TRANSP</a>;
<a name="l00470"></a>00470 
<a name="l00471"></a>00471 }
<a name="l00472"></a>00472 
<a name="l00473"></a><a class="code" href="classFluide__base.html#afe47d05bd32453afd59628c3b298d430">00473</a> <span class="keywordtype">int</span> <a class="code" href="classFluide__base.html#afe47d05bd32453afd59628c3b298d430">Fluide_base::longueur_rayo_is_discretised</a>()
<a name="l00474"></a>00474 {
<a name="l00475"></a>00475   <span class="keywordflow">return</span> <a class="code" href="classFluide__base.html#a671e10cda91e3d1de243e218fcb2f6b0">longueur_rayo_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>();
<a name="l00476"></a>00476 }
<a name="l00477"></a>00477 
<a name="l00478"></a><a class="code" href="classFluide__base.html#a062254855359710b7d076b1ff60fed0f">00478</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#a062254855359710b7d076b1ff60fed0f">Fluide_base::set_h0_T0</a>(<span class="keywordtype">double</span> h0, <span class="keywordtype">double</span> T0)
<a name="l00479"></a>00479 {
<a name="l00480"></a>00480   <a class="code" href="classFluide__base.html#a10c5cd199ca4cc5ddfae77859a74cfde">T0_</a> = T0;
<a name="l00481"></a>00481   <a class="code" href="classFluide__base.html#a56e2414ed665db77c82ed236d8089946">h0_</a> = h0;
<a name="l00482"></a>00482 }
<a name="l00483"></a>00483 
<a name="l00484"></a><a class="code" href="classFluide__base.html#acbd87782a6baeb9767ebf73946783718">00484</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#acbd87782a6baeb9767ebf73946783718">Fluide_base::creer_e_int</a>()<span class="keyword"> const</span>
<a name="l00485"></a>00485 <span class="keyword"></span>{
<a name="l00486"></a>00486   <a class="code" href="classChamp__Inc.html">Champ_Inc</a> e_int_inc;
<a name="l00487"></a>00487   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; eq = <a class="code" href="classMilieu__base.html#a781dd0da84897c9308471fbe9c234992">equation</a>(<span class="stringliteral">&quot;temperature&quot;</span>);
<a name="l00488"></a>00488   eq.<a class="code" href="classEquation__base.html#a324a761eaad25eb00d18e14764a1362e" title="Renvoie la discretisation associee a l&#39;equation.">discretisation</a>().<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;champ_elem&quot;</span>, eq.<a class="code" href="classEquation__base.html#a12d97ae801edc18f614523677921346e" title="Renvoie la zone discretisee associee a l&#39;equation.">zone_dis</a>(), <span class="stringliteral">&quot;energie_interne&quot;</span>, <span class="stringliteral">&quot;J/kg&quot;</span>, 1,
<a name="l00489"></a>00489                                         eq.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classChamp__Inc.html#ab4847a769013ea94d3033240173f674b" title="Appel a l&#39;objet sous-jacent Renvoie le nombre de pas de temps conserve.">nb_valeurs_temporelles</a>(), eq.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classChamp__Inc.html#a38da91792d3b4d3ab725a6edf7f62b5a" title="Appel a l&#39;objet sous-jacent Renvoie le temps courant.">temps</a>(), e_int_inc);
<a name="l00490"></a>00490   e_int_inc.<a class="code" href="classChamp__Inc.html#aa6febd6d77fcb0d182b368f6f2c26b2e" title="Appel a l&#39;objet sous-jacent Associe le champ a l&#39;equation dont il est une inconnue.">associer_eqn</a>(eq), e_int_inc-&gt;init_champ_calcule(*<span class="keyword">this</span>, <a class="code" href="classFluide__base.html#aa86f1e5d79a68efe62a46e06bc544b2a">calculer_e_int</a>);
<a name="l00491"></a>00491   <a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a> = e_int_inc;
<a name="l00492"></a>00492   <a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a>.<a class="code" href="classChamp.html#ac980d0cff0746eaa66d45ff2ba1cd8c7">mettre_a_jour</a>(eq.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classChamp__Inc.html#a38da91792d3b4d3ab725a6edf7f62b5a" title="Appel a l&#39;objet sous-jacent Renvoie le temps courant.">temps</a>());
<a name="l00493"></a>00493   <a class="code" href="classFluide__base.html#a8c8be69b61c63be25f4258003c181dd9">e_int_auto_</a> = 1;
<a name="l00494"></a>00494 }
<a name="l00495"></a>00495 
<a name="l00496"></a><a class="code" href="classFluide__base.html#aa86f1e5d79a68efe62a46e06bc544b2a">00496</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__base.html#aa86f1e5d79a68efe62a46e06bc544b2a">Fluide_base::calculer_e_int</a>(<span class="keyword">const</span> <a class="code" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>&amp; obj, <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; val, <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; bval, <a class="code" href="Interface__blocs_8h.html#a2d7480bf11fc9f791b1d2839fa30a5c3">tabs_t</a>&amp; deriv)
<a name="l00497"></a>00497 {
<a name="l00498"></a>00498   <span class="keyword">const</span> <a class="code" href="classFluide__base.html" title="classe Fluide_base Cette classe represente un d&#39;un fluide incompressible ainsi que ses proprietes: - ...">Fluide_base</a>&amp; fl = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFluide__base.html" title="classe Fluide_base Cette classe represente un d&#39;un fluide incompressible ainsi que ses proprietes: - ...">Fluide_base</a>, obj);
<a name="l00499"></a>00499   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch_T = fl.<a class="code" href="classMilieu__base.html#a781dd0da84897c9308471fbe9c234992">equation</a>(<span class="stringliteral">&quot;temperature&quot;</span>).<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>(), &amp;ch_Cp = fl.<a class="code" href="classMilieu__base.html#a174d49eab1db7dfce83578b227f4e702" title="Renvoie la capacite calorifique du milieu. (version const)">capacite_calorifique</a>();
<a name="l00500"></a>00500   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; T = ch_T.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>(), &amp;<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a> = ch_Cp.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00501"></a>00501   <span class="keywordtype">int</span> i, Ni = T.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0), Nb = bval.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0), n, N = fl.<a class="code" href="classMilieu__base.html#a4f546bfb18006b11c398e8656f8c3552">id_composite</a> &gt;= 0 ? 1 : <a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>(1),
<a name="l00502"></a>00502          n0 = <a class="code" href="Double_8h.html#a1c45761573e6cbc97cfacac78d905016">max</a>(fl.<a class="code" href="classMilieu__base.html#a4f546bfb18006b11c398e8656f8c3552">id_composite</a>, 0), cCp = <a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.dimension_tot(0) == 1;
<a name="l00503"></a>00503 
<a name="l00504"></a>00504   <span class="keywordflow">for</span> (i = 0; i &lt; Ni; i++) <span class="keywordflow">for</span> (n = 0; n &lt; N; n++) val(i, n) = fl.<a class="code" href="classFluide__base.html#a56e2414ed665db77c82ed236d8089946">h0_</a> + <a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>(!cCp * i, n) * (T(i, n0 + n) - fl.<a class="code" href="classFluide__base.html#a10c5cd199ca4cc5ddfae77859a74cfde">T0_</a>);
<a name="l00505"></a>00505   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> bT = ch_T.<a class="code" href="classChamp__base.html#a63e4137abc2801a8861b272bcdf961fe" title="renvoie la valeur du champ aux faces de bord">valeur_aux_bords</a>(), bCp;
<a name="l00506"></a>00506   <span class="keywordflow">if</span> (ch_Cp.a_une_zone_dis_base()) bCp = ch_Cp.valeur_aux_bords();
<a name="l00507"></a>00507   <span class="keywordflow">else</span> bCp.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(bval.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0), N), ch_Cp.valeur_aux(<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>, ch_T.<a class="code" href="classChamp__base.html#a298ee24f3efdf2f60f39a13966a20bcd">zone_dis_base</a>()).xv_bord() , bCp);
<a name="l00508"></a>00508   <span class="keywordflow">for</span> (i = 0; i &lt; Nb; i++) <span class="keywordflow">for</span> (n = 0; n &lt; N; n++) bval(i, n) = fl.<a class="code" href="classFluide__base.html#a56e2414ed665db77c82ed236d8089946">h0_</a> + bCp(i, n) * (bT(i, n0 + n) - fl.<a class="code" href="classFluide__base.html#a10c5cd199ca4cc5ddfae77859a74cfde">T0_</a>);
<a name="l00509"></a>00509 
<a name="l00510"></a>00510   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; der_T = deriv[ch_T.<a class="code" href="classField__base.html#ae1377124eabe8387aced762115b062bb" title="Renvoie le nom du champ.">le_nom</a>().<a class="code" href="classNom.html#a855d8cd96b5c73c2aa55cb7c0a870640">getString</a>()];
<a name="l00511"></a>00511   <span class="keywordflow">for</span> (der_T.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(Ni, N), i = 0; i &lt; Ni; i++) <span class="keywordflow">for</span> (n = 0; n &lt; N; n++) der_T(i, n) = <a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>(!cCp * i, n);
<a name="l00512"></a>00512 }
<a name="l00513"></a>00513 
<a name="l00514"></a><a class="code" href="classFluide__base.html#a26436dbc53ce79df102d3b003bd6a7b6">00514</a> <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; <a class="code" href="classFluide__base.html#a26436dbc53ce79df102d3b003bd6a7b6">Fluide_base::energie_interne</a>()<span class="keyword"> const</span>
<a name="l00515"></a>00515 <span class="keyword"></span>{
<a name="l00516"></a>00516   <span class="keywordflow">if</span> (!<a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) <a class="code" href="classFluide__base.html#acbd87782a6baeb9767ebf73946783718">creer_e_int</a>();
<a name="l00517"></a>00517   <span class="keywordflow">return</span> <a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a>;
<a name="l00518"></a>00518 }
<a name="l00519"></a>00519 
<a name="l00520"></a><a class="code" href="classFluide__base.html#a7aa1828815a90f81cac919e27f669f48">00520</a> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; <a class="code" href="classFluide__base.html#a26436dbc53ce79df102d3b003bd6a7b6">Fluide_base::energie_interne</a>()
<a name="l00521"></a>00521 {
<a name="l00522"></a>00522   <span class="keywordflow">if</span> (!<a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) <a class="code" href="classFluide__base.html#acbd87782a6baeb9767ebf73946783718">creer_e_int</a>();
<a name="l00523"></a>00523   <span class="keywordflow">return</span> <a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a>;
<a name="l00524"></a>00524 }
<a name="l00525"></a>00525 
<a name="l00526"></a>00526 
<a name="l00527"></a><a class="code" href="classFluide__base.html#ad493f117bee75d676ccb710f0df36cb9">00527</a> <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; <a class="code" href="classFluide__base.html#ad493f117bee75d676ccb710f0df36cb9">Fluide_base::enthalpie</a>()<span class="keyword"> const</span>
<a name="l00528"></a>00528 <span class="keyword"></span>{
<a name="l00529"></a>00529   <span class="keywordflow">if</span> (!<a class="code" href="classFluide__base.html#a306398ddb5087d807dbbb03a6f0f62b8">h</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() &amp;&amp; !<a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) <a class="code" href="classFluide__base.html#acbd87782a6baeb9767ebf73946783718">creer_e_int</a>();
<a name="l00530"></a>00530   <span class="keywordflow">return</span> <a class="code" href="classFluide__base.html#a306398ddb5087d807dbbb03a6f0f62b8">h</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() ? <a class="code" href="classFluide__base.html#a306398ddb5087d807dbbb03a6f0f62b8">h</a> : <a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a>;
<a name="l00531"></a>00531 }
<a name="l00532"></a>00532 
<a name="l00533"></a><a class="code" href="classFluide__base.html#aacf3c560f12ce62e206be441ee1c4556">00533</a> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; <a class="code" href="classFluide__base.html#ad493f117bee75d676ccb710f0df36cb9">Fluide_base::enthalpie</a>()
<a name="l00534"></a>00534 {
<a name="l00535"></a>00535   <span class="keywordflow">if</span> (!<a class="code" href="classFluide__base.html#a306398ddb5087d807dbbb03a6f0f62b8">h</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() &amp;&amp; !<a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) <a class="code" href="classFluide__base.html#acbd87782a6baeb9767ebf73946783718">creer_e_int</a>();
<a name="l00536"></a>00536   <span class="keywordflow">return</span> <a class="code" href="classFluide__base.html#a306398ddb5087d807dbbb03a6f0f62b8">h</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() ? <a class="code" href="classFluide__base.html#a306398ddb5087d807dbbb03a6f0f62b8">h</a> : <a class="code" href="classFluide__base.html#af451ad326ff9c7fb73f935c38991699b">e_int</a>;
<a name="l00537"></a>00537 }
<a name="l00538"></a>00538 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:34 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
