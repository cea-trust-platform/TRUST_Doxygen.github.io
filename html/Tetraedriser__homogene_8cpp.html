<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Geometrie/Tetraedriser_homogene.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">src/Kernel/Geometrie/Tetraedriser_homogene.cpp File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="Tetraedriser__homogene_8h_source.html">Tetraedriser_homogene.h</a>&gt;</code><br/>
</div>
<p><a href="Tetraedriser__homogene_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Tetraedriser__homogene_8cpp.html#a35a8257aa78c43330e0a51bde372743c">decoupe</a> (<a class="el" href="classZone.html">Zone</a> &amp;zone, <a class="el" href="classFaces.html">Faces</a> &amp;faces, <a class="el" href="classIntTab.html">IntTab</a> &amp;new_soms_old_elems)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Tetraedriser__homogene_8cpp.html#a26932f4a5fdff718ffb071820eec9952">creer_sommet</a> (<a class="el" href="classDomaine.html">Domaine</a> &amp;dom, <a class="el" href="classZone.html">Zone</a> &amp;zone, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;new_soms, <a class="el" href="classIntTab.html">IntTab</a> &amp;elem_traite, <a class="el" href="classIntTab.html">IntTab</a> &amp;new_soms_old_elems, int NbSom, <a class="el" href="classIntTab.html">IntTab</a> &amp;sommets, int &amp;<a class="el" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>, int oldnbsom, int &amp;nbnewsoms)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Tetraedriser__homogene_8cpp.html#a3ed171d6e8a4578f42004e4150f234ad">Tetraedriser_homogenebases</a> [1] = { &amp;( <a class="el" href="classTriangulation__base.html">Triangulation_base</a> ::info_obj)}</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a26932f4a5fdff718ffb071820eec9952"></a><!-- doxytag: member="Tetraedriser_homogene.cpp::creer_sommet" ref="a26932f4a5fdff718ffb071820eec9952" args="(Domaine &amp;dom, Zone &amp;zone, DoubleTab &amp;new_soms, IntTab &amp;elem_traite, IntTab &amp;new_soms_old_elems, int NbSom, IntTab &amp;sommets, int &amp;compteur, int oldnbsom, int &amp;nbnewsoms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int creer_sommet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>dom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classZone.html">Zone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>new_soms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classIntTab.html">IntTab</a> &amp;&#160;</td>
          <td class="paramname"><em>elem_traite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classIntTab.html">IntTab</a> &amp;&#160;</td>
          <td class="paramname"><em>new_soms_old_elems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NbSom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classIntTab.html">IntTab</a> &amp;&#160;</td>
          <td class="paramname"><em>sommets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>compteur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>oldnbsom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>nbnewsoms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Tetraedriser__homogene_8cpp_source.html#l00136">136</a> of file <a class="el" href="Tetraedriser__homogene_8cpp_source.html">Tetraedriser_homogene.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Zone_8cpp_source.html#l00360">Zone::chercher_elements()</a>, <a class="el" href="Domaine_8h_source.html#l00500">Domaine::coord_sommets()</a>, <a class="el" href="Double_8h_source.html#l00255">dabs()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, and <a class="el" href="Objet__U_8h_source.html#l00080">Objet_U::precision_geom</a>.</p>

<p>Referenced by <a class="el" href="Tetraedriser__homogene_8cpp_source.html#l00235">Tetraedriser_homogene::trianguler()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord_sommets=dom.<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>();
<span class="comment">// int nb_zones = dom.nb_zones();</span>
  <span class="keywordtype">int</span> _out;

  <span class="keywordtype">double</span> x=0,y=0,z=0;
<span class="comment">// x = 0.5*(coord_sommets(i1,0)+coord_sommets(i2,0));</span>
<span class="comment">// y = 0.5*(coord_sommets(i1,1)+coord_sommets(i2,1));</span>
<span class="comment">// z = 0.5*(coord_sommets(i1,2)+coord_sommets(i2,2));</span>
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii=0 ; ii&lt;NbSom ; ii++)
    {
      x += coord_sommets(sommets(ii),0);
      y += coord_sommets(sommets(ii),1);
      z += coord_sommets(sommets(ii),2);
    }
  x /= NbSom;
  y /= NbSom;
  z /= NbSom;

  <span class="keywordtype">int</span> trouve = -1;
  <span class="comment">/*</span>
<span class="comment">    for (int zo=0; zo&lt;nb_zones-1; zo++) {</span>
<span class="comment">    trouve = dom.zone(zo).chercher_elements(x,y,z);</span>
<span class="comment">    if(trouve!=-1) break;</span>
<span class="comment">    }</span>
<span class="comment">  */</span>
  trouve = zone.<a class="code" href="classZone.html#aec585e7983082c3df305d75fd13a6b9e">chercher_elements</a>(x,y,z);
  <span class="keywordflow">if</span> (trouve&lt;0)
    {
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii=0 ; ii&lt;NbSom ; ii++)
        {
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;i&quot;</span>&lt;&lt;ii&lt;&lt;<span class="stringliteral">&quot;=&quot;</span>&lt;&lt;sommets(ii)&lt;&lt;<span class="stringliteral">&quot; coord=&quot;</span>&lt;&lt;coord_sommets(sommets(ii),0)&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;coord_sommets(sommets(ii),1)&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;coord_sommets(sommets(ii),2)&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
        }
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;x=&quot;</span>&lt;&lt;x&lt;&lt;<span class="stringliteral">&quot; y=&quot;</span>&lt;&lt;y&lt;&lt;<span class="stringliteral">&quot; z=&quot;</span>&lt;&lt;z&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;-----&quot;</span>&lt;&lt;finl;
      assert(trouve&gt;=0);
    }

  <span class="keywordflow">if</span> (elem_traite(trouve))
    {
      _out = -1;
      <span class="keywordtype">int</span> j = 0;
      <span class="keywordtype">double</span> epsilon = <a class="code" href="classObjet__U.html#a7447e25c68cc8d3a1c06cf99f0565cff">Objet_U::precision_geom</a>;
      <span class="keywordflow">do</span>
        {
          <span class="keywordflow">if</span> ((<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(coord_sommets(new_soms_old_elems(trouve, j), 0)-x)&lt;epsilon) &amp;&amp;
              (<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(coord_sommets(new_soms_old_elems(trouve, j), 1)-y)&lt;epsilon)&amp;&amp;
              (<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(coord_sommets(new_soms_old_elems(trouve, j), 2)-z)&lt;epsilon))
            <span class="comment">/*if ((coord_sommets(new_soms_old_elems(trouve, j), 0) == x) &amp;&amp;</span>
<span class="comment">              (coord_sommets(new_soms_old_elems(trouve, j), 1) == y) &amp;&amp;</span>
<span class="comment">              (coord_sommets(new_soms_old_elems(trouve, j), 2) == z)   ) */</span>
            {
              _out = new_soms_old_elems(trouve, j);
            }
          j++;
        }
      <span class="keywordflow">while</span> ((_out == -1) &amp;&amp; (j&lt;19));
      <span class="keywordflow">if</span> (_out&lt;0)
        {
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error, not found !&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;found=&quot;</span>&lt;&lt;trouve&lt;&lt;<span class="stringliteral">&quot; x=&quot;</span>&lt;&lt;x&lt;&lt;<span class="stringliteral">&quot; y=&quot;</span>&lt;&lt;y&lt;&lt;<span class="stringliteral">&quot; z=&quot;</span>&lt;&lt;z&lt;&lt;finl;
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii=0 ; ii&lt;NbSom ; ii++)
            {
              <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;i&quot;</span>&lt;&lt;ii&lt;&lt;<span class="stringliteral">&quot;=&quot;</span>&lt;&lt;sommets(ii)&lt;&lt;<span class="stringliteral">&quot; coord=&quot;</span>&lt;&lt;coord_sommets(sommets(ii),0)&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;coord_sommets(sommets(ii),1)&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;coord_sommets(sommets(ii),2)&lt;&lt;finl;
            }
          <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
        }
    }
  <span class="keywordflow">else</span>
    {
      _out = oldnbsom + nbnewsoms;
      new_soms(<a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>, 0) = x;
      new_soms(<a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>, 1) = y;
      new_soms(<a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>, 2) = z;
      nbnewsoms++;
      <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>++;
    }

  <span class="keywordflow">if</span>(_out&lt;0)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Problem at the creation of node&quot;</span> &lt;&lt; finl;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }
  <span class="keywordflow">return</span> _out;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a35a8257aa78c43330e0a51bde372743c"></a><!-- doxytag: member="Tetraedriser_homogene.cpp::decoupe" ref="a35a8257aa78c43330e0a51bde372743c" args="(Zone &amp;zone, Faces &amp;faces, IntTab &amp;new_soms_old_elems)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void decoupe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classZone.html">Zone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classFaces.html">Faces</a> &amp;&#160;</td>
          <td class="paramname"><em>faces</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classIntTab.html">IntTab</a> &amp;&#160;</td>
          <td class="paramname"><em>new_soms_old_elems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Tetraedriser__homogene_8cpp_source.html#l00039">39</a> of file <a class="el" href="Tetraedriser__homogene_8cpp_source.html">Tetraedriser_homogene.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Zone_8cpp_source.html#l01235">Zone::chercher_sommets()</a>, <a class="el" href="Domaine_8h_source.html#l00500">Domaine::coord_sommets()</a>, <a class="el" href="IntTab_8h_source.html#l00233">IntTab::dimension()</a>, <a class="el" href="Zone_8cpp_source.html#l00262">Zone::domaine()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Faces_8h_source.html#l00268">Faces::les_sommets()</a>, <a class="el" href="IntTab_8cpp_source.html#l00229">IntTab::ref()</a>, <a class="el" href="IntTab_8cpp_source.html#l00353">IntTab::resize()</a>, and <a class="el" href="Faces_8h_source.html#l00375">Faces::voisins()</a>.</p>

<p>Referenced by <a class="el" href="Tetraedriser__homogene_8cpp_source.html#l00235">Tetraedriser_homogene::trianguler()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom=zone.<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord=dom.<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>();
  <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; sommets=faces.<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>();
  <span class="keywordtype">int</span> nb_faces=sommets.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
  assert(sommets.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1)==4);
  <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> nouveaux(8*nb_faces, 3);
  faces.<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>().<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(8*nb_faces, 2);
  faces.<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>()=-1;
  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;nb_faces; i++)
    {
      <span class="keywordtype">int</span> i1 = sommets(i,0);
      <span class="keywordtype">int</span> i3 = sommets(i,1);
      <span class="keywordtype">int</span> i7 = sommets(i,2);
      <span class="keywordtype">int</span> i9 = sommets(i,3);

      <span class="keywordtype">double</span> x=0.5*(coord(i1,0)+coord(i3,0));
      <span class="keywordtype">double</span> y=0.5*(coord(i1,1)+coord(i3,1));
      <span class="keywordtype">double</span> z=0.5*(coord(i1,2)+coord(i3,2));
      <span class="keywordtype">int</span> i2 = zone.<a class="code" href="classZone.html#abc973e4361741dd2d0e2bcfdf625f89e">chercher_sommets</a>( x, y, z);
      assert(i2&gt;=0);

      x=0.5*(coord(i3,0)+coord(i9,0));
      y=0.5*(coord(i3,1)+coord(i9,1));
      z=0.5*(coord(i3,2)+coord(i9,2));
      <span class="keywordtype">int</span> i4 = zone.<a class="code" href="classZone.html#abc973e4361741dd2d0e2bcfdf625f89e">chercher_sommets</a>(x, y, z);
      assert(i4&gt;=0);

      x=0.5*(coord(i1,0)+coord(i7,0));
      y=0.5*(coord(i1,1)+coord(i7,1));
      z=0.5*(coord(i1,2)+coord(i7,2));
      <span class="keywordtype">int</span> i5 = zone.<a class="code" href="classZone.html#abc973e4361741dd2d0e2bcfdf625f89e">chercher_sommets</a>(x, y, z) ;
      assert(i5&gt;=0);

      x=0.5*(coord(i7,0)+coord(i9,0));
      y=0.5*(coord(i7,1)+coord(i9,1));
      z=0.5*(coord(i7,2)+coord(i9,2));
      <span class="keywordtype">int</span> i8 = zone.<a class="code" href="classZone.html#abc973e4361741dd2d0e2bcfdf625f89e">chercher_sommets</a>(x, y, z) ;
      assert(i8&gt;=0);

<span class="comment">// Nouveau : on prend le barycentre de la face</span>
<span class="comment">// x=0.5*(coord(i3,0)+coord(i7,0));</span>
<span class="comment">// y=0.5*(coord(i3,1)+coord(i7,1));</span>
<span class="comment">// z=0.5*(coord(i3,2)+coord(i7,2));</span>
      x=0.25*(coord(i1,0)+coord(i3,0)+coord(i7,0)+coord(i9,0));
      y=0.25*(coord(i1,1)+coord(i3,1)+coord(i7,1)+coord(i9,1));
      z=0.25*(coord(i1,2)+coord(i3,2)+coord(i7,2)+coord(i9,2));
      <span class="keywordtype">int</span> i6 = zone.<a class="code" href="classZone.html#abc973e4361741dd2d0e2bcfdf625f89e">chercher_sommets</a>(x, y, z) ;
      <span class="keywordflow">if</span> (i6&lt;0)
        {
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;New Node i6 not found : pos=&quot;</span>&lt;&lt;x&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;y&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;z&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;  -&gt; i6=&quot;</span>&lt;&lt;i6&lt;&lt;finl;
        }
      assert(i6&gt;=0);

      nouveaux(i,0) = i1;
      nouveaux(i,1) = i2;
      nouveaux(i,2) = i6;

      nouveaux(nb_faces+i,0) = i1;
      nouveaux(nb_faces+i,1) = i6;
      nouveaux(nb_faces+i,2) = i5;

      nouveaux(2*nb_faces+i,0) = i7;
      nouveaux(2*nb_faces+i,1) = i6;
      nouveaux(2*nb_faces+i,2) = i5;

      nouveaux(3*nb_faces+i,0) = i7;
      nouveaux(3*nb_faces+i,1) = i6;
      nouveaux(3*nb_faces+i,2) = i8;

      nouveaux(4*nb_faces+i,0) = i9;
      nouveaux(4*nb_faces+i,1) = i6;
      nouveaux(4*nb_faces+i,2) = i8;

      nouveaux(5*nb_faces+i,0) = i9;
      nouveaux(5*nb_faces+i,1) = i6;
      nouveaux(5*nb_faces+i,2) = i4;

      nouveaux(6*nb_faces+i,0) = i3;
      nouveaux(6*nb_faces+i,1) = i6;
      nouveaux(6*nb_faces+i,2) = i4;

      nouveaux(7*nb_faces+i,0) = i3;
      nouveaux(7*nb_faces+i,1) = i6;
      nouveaux(7*nb_faces+i,2) = i2;
    }
  sommets.<a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">ref</a>(nouveaux);
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a3ed171d6e8a4578f42004e4150f234ad"></a><!-- doxytag: member="Tetraedriser_homogene.cpp::Tetraedriser_homogenebases" ref="a3ed171d6e8a4578f42004e4150f234ad" args="[1]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a>* <a class="el" href="Tetraedriser__homogene_8cpp.html#a3ed171d6e8a4578f42004e4150f234ad">Tetraedriser_homogenebases</a>[1] = { &amp;( <a class="el" href="classTriangulation__base.html">Triangulation_base</a> ::info_obj)}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Tetraedriser__homogene_8cpp_source.html#l00025">25</a> of file <a class="el" href="Tetraedriser__homogene_8cpp_source.html">Tetraedriser_homogene.cpp</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:51 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
