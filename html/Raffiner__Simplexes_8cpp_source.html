<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Geometrie/Raffiner_Simplexes.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Geometrie/Raffiner_Simplexes.cpp</div>  </div>
</div>
<div class="contents">
<a href="Raffiner__Simplexes_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2020, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Raffiner_Simplexes.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Geometrie</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/1</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Raffiner__Simplexes_8h.html">Raffiner_Simplexes.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Domaine_8h.html">Domaine.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Nom_8h.html">Nom.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Scatter_8h.html">Scatter.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Motcle_8h.html">Motcle.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="IntTab_8h.html">IntTab.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Array__tools_8h.html">Array_tools.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Static__Int__Lists_8h.html">Static_Int_Lists.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Connectivite__som__elem_8h.html">Connectivite_som_elem.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="Faces__builder_8h.html">Faces_builder.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="Synonyme__info_8h.html">Synonyme_info.h</a>&gt;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a77f85cd4d53cba5f02794df8bae465d6">00035</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classRaffiner__Simplexes.html" title=": class Raffiner_Simplexes &lt;Description of class Raffiner_Simplexes&gt;">Raffiner_Simplexes</a>,<span class="stringliteral">&quot;Raffiner_Simplexes&quot;</span>,<a class="code" href="classInterprete__geometrique__base.html" title="classe Interprete_geometrique_base .">Interprete_geometrique_base</a>) ;
<a name="l00036"></a>00036 <a class="code" href="Synonyme__info_8h.html#a57e3e6ee466564dbfa5619fb2b33a2c2">Add_synonym</a>(<a class="code" href="classRaffiner__Simplexes.html" title=": class Raffiner_Simplexes &lt;Description of class Raffiner_Simplexes&gt;">Raffiner_Simplexes</a>,<span class="stringliteral">&quot;Raffiner_isotrope&quot;</span>); <span class="comment">//!&lt; Raffiner_Simplexes class replaces the obsolete Raffiner_isotrope class</span>
<a name="l00037"></a>00037 <span class="comment"></span>
<a name="l00038"></a><a class="code" href="classRaffiner__Simplexes.html#a0971621db3677acccfd70bfe679cc69a">00038</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classRaffiner__Simplexes.html#a0971621db3677acccfd70bfe679cc69a" title="Ecriture de l&#39;objet sur un flot de sortie Methode a surcharger.">Raffiner_Simplexes::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00039"></a>00039 <span class="keyword"></span>{
<a name="l00040"></a>00040   <a class="code" href="classRaffiner__Simplexes.html#a0971621db3677acccfd70bfe679cc69a" title="Ecriture de l&#39;objet sur un flot de sortie Methode a surcharger.">Interprete::printOn</a>(os);
<a name="l00041"></a>00041   <span class="keywordflow">return</span> os;
<a name="l00042"></a>00042 }
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="classRaffiner__Simplexes.html#a443a77d17e22e098c41519adf3d0ecdc">00044</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classRaffiner__Simplexes.html#a443a77d17e22e098c41519adf3d0ecdc" title="Lecture d&#39;un Objet_U sur un flot d&#39;entree Methode a surcharger.">Raffiner_Simplexes::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00045"></a>00045 {
<a name="l00046"></a>00046   <a class="code" href="classRaffiner__Simplexes.html#a443a77d17e22e098c41519adf3d0ecdc" title="Lecture d&#39;un Objet_U sur un flot d&#39;entree Methode a surcharger.">Interprete::readOn</a>(is);
<a name="l00047"></a>00047   <span class="keywordflow">return</span> is;
<a name="l00048"></a>00048 }
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 <span class="comment">// Macros pour l&#39;encodage de l&#39;idx (meme fonction que build_idx mais pratique</span>
<a name="l00051"></a>00051 <span class="comment">// pour ecrire le code de build_refine_...)</span>
<a name="l00052"></a>00052 <span class="comment">// Sommet fin situe sur le sommet &quot;num&quot; de l&#39;element grossier:</span>
<a name="l00053"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">00053</a> <span class="preprocessor">#define NODE_ID(num) num</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="comment">// Sommet fin situe au milieu de l&#39;arete &quot;num&quot; de l&#39;element grossier:</span>
<a name="l00055"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">00055</a> <span class="preprocessor">#define EDGE_ID(num) (-num-1)</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span>
<a name="l00057"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">00057</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">fill_tab_2</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> *t, <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; tab)
<a name="l00058"></a>00058 {
<a name="l00059"></a>00059   tab.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n, m);
<a name="l00060"></a>00060 
<a name="l00061"></a>00061   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00062"></a>00062     {
<a name="l00063"></a>00063       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;m; ++j)
<a name="l00064"></a>00064         {
<a name="l00065"></a>00065           tab(i,j) = t[i*m+j];
<a name="l00066"></a>00066         }
<a name="l00067"></a>00067     }
<a name="l00068"></a>00068 
<a name="l00069"></a>00069   <span class="keywordflow">if</span> (t[n*m] != -1)
<a name="l00070"></a>00070     {
<a name="l00071"></a>00071       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Raffiner_Simplexes &#39;filltab_2&#39;&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00072"></a>00072       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00073"></a>00073     }
<a name="l00074"></a>00074 }
<a name="l00075"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a19450600d2031b7e3634b95565f06ef9">00075</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a19450600d2031b7e3634b95565f06ef9">fill_tab_2_new</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> *t, <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; tab)
<a name="l00076"></a>00076 {
<a name="l00077"></a>00077   tab.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n, m);
<a name="l00078"></a>00078   tab=-1;
<a name="l00079"></a>00079   <span class="keywordtype">int</span> compt=0;
<a name="l00080"></a>00080   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00081"></a>00081     {
<a name="l00082"></a>00082       <span class="keywordtype">int</span> nb=t[compt++];
<a name="l00083"></a>00083 
<a name="l00084"></a>00084       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;nb; ++j)
<a name="l00085"></a>00085         {
<a name="l00086"></a>00086           tab(i,j) = t[compt++];
<a name="l00087"></a>00087         }
<a name="l00088"></a>00088     }
<a name="l00089"></a>00089 
<a name="l00090"></a>00090   <span class="keywordflow">if</span> (t[compt] != -1)
<a name="l00091"></a>00091     {
<a name="l00092"></a>00092       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Raffiner_Simplexes &#39;filltab_2_new&#39;&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00093"></a>00093       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00094"></a>00094     }
<a name="l00095"></a>00095 }
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 
<a name="l00098"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a9a4a9f52c0eec812b6f1b6307f77685d">00098</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a9a4a9f52c0eec812b6f1b6307f77685d">fill_tab_3</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> *t, <span class="keywordtype">int</span> n, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> p, <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; tab)
<a name="l00099"></a>00099 {
<a name="l00100"></a>00100   tab.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n, m, p);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00103"></a>00103     {
<a name="l00104"></a>00104       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;m; ++j)
<a name="l00105"></a>00105         {
<a name="l00106"></a>00106           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;p; ++k)
<a name="l00107"></a>00107             {
<a name="l00108"></a>00108               tab(i,j,k) = t[(i*m+j)*p+k];
<a name="l00109"></a>00109             }
<a name="l00110"></a>00110         }
<a name="l00111"></a>00111     }
<a name="l00112"></a>00112 
<a name="l00113"></a>00113   <span class="keywordflow">if</span> (t[n*m*p] != -1)
<a name="l00114"></a>00114     {
<a name="l00115"></a>00115       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Raffiner_Simplexes &#39;filltab_3&#39;&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00116"></a>00116       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00117"></a>00117     }
<a name="l00118"></a>00118 }
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 
<a name="l00121"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a40db61b657bcefcbb1819c72fb30a958">00121</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a40db61b657bcefcbb1819c72fb30a958">build_quadrangle_cell_refinement_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00122"></a>00122 {
<a name="l00123"></a>00123   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {  <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <span class="comment">//!&lt; triangle defini par sommet0 arete0 arete1</span>
<a name="l00124"></a>00124 <span class="comment"></span>                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <span class="comment">//!&lt; etc...</span>
<a name="l00125"></a>00125 <span class="comment"></span>                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(3),
<a name="l00126"></a>00126                             <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), -1
<a name="l00127"></a>00127                          } ;
<a name="l00128"></a>00128   <a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">fill_tab_2</a>(t, 4, 4, pattern);
<a name="l00129"></a>00129 }
<a name="l00130"></a>00130 
<a name="l00131"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#af6e9f4f3a80b96e098bc253f52bcc375">00131</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#af6e9f4f3a80b96e098bc253f52bcc375">build_triangle_cell_refinement_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00132"></a>00132 {
<a name="l00133"></a>00133   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {  <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <span class="comment">//!&lt; triangle defini par sommet0 arete0 arete1</span>
<a name="l00134"></a>00134 <span class="comment"></span>                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <span class="comment">//!&lt; etc...</span>
<a name="l00135"></a>00135 <span class="comment"></span>                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2),
<a name="l00136"></a>00136                             <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), -1
<a name="l00137"></a>00137                          } ;
<a name="l00138"></a>00138   <a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">fill_tab_2</a>(t, 4, 3, pattern);
<a name="l00139"></a>00139 }
<a name="l00140"></a>00140 
<a name="l00141"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#abe5c714d9b26335a687b4b99e02a00a7">00141</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#abe5c714d9b26335a687b4b99e02a00a7">build_tetrahedron_cell_refinement_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00142"></a>00142 {
<a name="l00143"></a>00143   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {  <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2) , <span class="comment">//!&lt; tetraedre defini par sommet0 arete0 arete1 arete2</span>
<a name="l00144"></a>00144 <span class="comment"></span>                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4) , <span class="comment">//!&lt; etc...</span>
<a name="l00145"></a>00145 <span class="comment"></span>                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5) ,
<a name="l00146"></a>00146                             <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(3) ,
<a name="l00147"></a>00147                             <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3) ,
<a name="l00148"></a>00148                             <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1) ,
<a name="l00149"></a>00149                             <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0) ,
<a name="l00150"></a>00150                             <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4) , -1
<a name="l00151"></a>00151                          };
<a name="l00152"></a>00152   <a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">fill_tab_2</a>(t, 8, 4, pattern);
<a name="l00153"></a>00153 }
<a name="l00154"></a>00154 <span class="comment">// Convention de numerotation</span>
<a name="l00155"></a>00155 <span class="comment">// sommets</span>
<a name="l00156"></a>00156 <span class="comment">// 6------7</span>
<a name="l00157"></a>00157 <span class="comment">// /|     /|</span>
<a name="l00158"></a>00158 <span class="comment">// 4------5 |</span>
<a name="l00159"></a>00159 <span class="comment">// | |    | |</span>
<a name="l00160"></a>00160 <span class="comment">// | 2----|-3</span>
<a name="l00161"></a>00161 <span class="comment">// |/     |/</span>
<a name="l00162"></a>00162 <span class="comment">// 0------1</span>
<a name="l00163"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a276d141dc63272d6b558d7b8345782de">00163</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a276d141dc63272d6b558d7b8345782de">build_hexa_cell_refinement_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00164"></a>00164 {
<a name="l00165"></a>00165   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] =
<a name="l00166"></a>00166   {
<a name="l00167"></a>00167     <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(6),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(8),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(9), <span class="comment">//!&lt; tetraedre defini par sommet0 arete0 arete1 arete2</span>
<a name="l00168"></a>00168 <span class="comment"></span>
<a name="l00169"></a>00169     <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0),<a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(6),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(7),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(9),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(10),
<a name="l00170"></a>00170     <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4),<a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(8),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(9),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(11),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(12),
<a name="l00171"></a>00171     <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2),<a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(3),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(9),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(10),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(12),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(13),
<a name="l00172"></a>00172 
<a name="l00173"></a>00173     <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(6),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(8),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(9),<a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(4),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(14),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(17),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(18),
<a name="l00174"></a>00174     <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(6),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(7),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(9),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(10),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(14),<a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(5),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(18),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(15),
<a name="l00175"></a>00175     <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(8),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(9),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(11),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(12),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(17),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(18),<a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(6),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(16),
<a name="l00176"></a>00176     <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(9),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(10),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(12),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(13),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(18),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(15),<a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(16),<a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(7),
<a name="l00177"></a>00177 
<a name="l00178"></a>00178     -1
<a name="l00179"></a>00179   };
<a name="l00180"></a>00180   <a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">fill_tab_2</a>(t, 8, 8, pattern);
<a name="l00181"></a>00181 }
<a name="l00182"></a>00182 
<a name="l00183"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">00183</a> <span class="keywordtype">int</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; cell_type)
<a name="l00184"></a>00184 {
<a name="l00185"></a>00185   <a class="code" href="classMotcles.html" title="Un tableau d&#39;objets de la classe Motcle.">Motcles</a> understood_keywords(6);
<a name="l00186"></a>00186   understood_keywords[0] = <span class="stringliteral">&quot;Triangle&quot;</span>;
<a name="l00187"></a>00187   understood_keywords[1] = <span class="stringliteral">&quot;Tetraedre&quot;</span>;
<a name="l00188"></a>00188   understood_keywords[2] = <span class="stringliteral">&quot;Rectangle&quot;</span>;
<a name="l00189"></a>00189   understood_keywords[3] = <span class="stringliteral">&quot;Hexaedre&quot;</span>;
<a name="l00190"></a>00190   understood_keywords[4] = <span class="stringliteral">&quot;Quadrangle&quot;</span>;
<a name="l00191"></a>00191   understood_keywords[5] = <span class="stringliteral">&quot;Hexaedre_VEF&quot;</span>;
<a name="l00192"></a>00192   <span class="keywordtype">int</span> rank = understood_keywords.<a class="code" href="classMotcles.html#afecd68f73e904bc129022a236ff6ab15">search</a>(cell_type);
<a name="l00193"></a>00193   <span class="keywordflow">if</span> (rank&gt;3) rank-=2;
<a name="l00194"></a>00194   <span class="keywordflow">return</span> rank;
<a name="l00195"></a>00195 }
<a name="l00196"></a>00196 
<a name="l00197"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a912ce7d089d614291ec6f750ee459834">00197</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a912ce7d089d614291ec6f750ee459834">build_cell_refinement_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern, <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; cell_type)
<a name="l00198"></a>00198 {
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 
<a name="l00201"></a>00201   <span class="keywordtype">int</span> rank = <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>(cell_type);
<a name="l00202"></a>00202   <span class="keywordflow">switch</span>(rank)
<a name="l00203"></a>00203     {
<a name="l00204"></a>00204     <span class="keywordflow">case</span> 0  :
<a name="l00205"></a>00205       <a class="code" href="Raffiner__Simplexes_8cpp.html#af6e9f4f3a80b96e098bc253f52bcc375">build_triangle_cell_refinement_pattern</a>(pattern);
<a name="l00206"></a>00206       <span class="keywordflow">break</span>;
<a name="l00207"></a>00207     <span class="keywordflow">case</span> 1  :
<a name="l00208"></a>00208       <a class="code" href="Raffiner__Simplexes_8cpp.html#abe5c714d9b26335a687b4b99e02a00a7">build_tetrahedron_cell_refinement_pattern</a>(pattern);
<a name="l00209"></a>00209       <span class="keywordflow">break</span>;
<a name="l00210"></a>00210     <span class="keywordflow">case</span> 2  :
<a name="l00211"></a>00211       <a class="code" href="Raffiner__Simplexes_8cpp.html#a40db61b657bcefcbb1819c72fb30a958">build_quadrangle_cell_refinement_pattern</a>(pattern);
<a name="l00212"></a>00212       <span class="keywordflow">break</span>;
<a name="l00213"></a>00213     <span class="keywordflow">case</span> 3  :
<a name="l00214"></a>00214       <a class="code" href="Raffiner__Simplexes_8cpp.html#a276d141dc63272d6b558d7b8345782de">build_hexa_cell_refinement_pattern</a>(pattern);
<a name="l00215"></a>00215       <span class="keywordflow">break</span>;
<a name="l00216"></a>00216     <span class="keywordflow">default</span> :
<a name="l00217"></a>00217       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Raffiner_Simplexes.cpp &#39;build_cell_refinement_pattern()&#39;&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00218"></a>00218       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Unknown cell type : &quot;</span> &lt;&lt; cell_type &lt;&lt; finl;
<a name="l00219"></a>00219       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Raffiner_Simplexes can only refine Triangles and Tetrahedrons&quot;</span> &lt;&lt; finl;
<a name="l00220"></a>00220       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00221"></a>00221     }
<a name="l00222"></a>00222 }
<a name="l00223"></a>00223 
<a name="l00224"></a>00224 
<a name="l00225"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a0fcfe58898594bdced71be4d1916174e">00225</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a0fcfe58898594bdced71be4d1916174e">build_quadrangle_face_refinement_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00226"></a>00226 {
<a name="l00227"></a>00227   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {   <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0),
<a name="l00228"></a>00228                              <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1),
<a name="l00229"></a>00229 
<a name="l00230"></a>00230                              <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1),
<a name="l00231"></a>00231                              <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1),
<a name="l00232"></a>00232 
<a name="l00233"></a>00233                              <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2),
<a name="l00234"></a>00234                              <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2),
<a name="l00235"></a>00235 
<a name="l00236"></a>00236                              <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3),
<a name="l00237"></a>00237                              <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2),-1
<a name="l00238"></a>00238                          };
<a name="l00239"></a>00239   <a class="code" href="Raffiner__Simplexes_8cpp.html#a9a4a9f52c0eec812b6f1b6307f77685d">fill_tab_3</a>(t, 4, 2, 2, pattern);
<a name="l00240"></a>00240 }
<a name="l00241"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#af36e0dfac455cf860039c936156a079a">00241</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#af36e0dfac455cf860039c936156a079a">build_triangle_face_refinement_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00242"></a>00242 {
<a name="l00243"></a>00243   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {  <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2),
<a name="l00244"></a>00244                             <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1),
<a name="l00245"></a>00245 
<a name="l00246"></a>00246                             <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1),
<a name="l00247"></a>00247                             <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2),
<a name="l00248"></a>00248 
<a name="l00249"></a>00249                             <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0),
<a name="l00250"></a>00250                             <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), -1
<a name="l00251"></a>00251                          };
<a name="l00252"></a>00252   <a class="code" href="Raffiner__Simplexes_8cpp.html#a9a4a9f52c0eec812b6f1b6307f77685d">fill_tab_3</a>(t, 3, 2, 2, pattern);
<a name="l00253"></a>00253 }
<a name="l00254"></a>00254 
<a name="l00255"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#ada7c94adc9b669a7c04c05eac429063c">00255</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#ada7c94adc9b669a7c04c05eac429063c">build_tetrahedron_face_refinement_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00256"></a>00256 {
<a name="l00257"></a>00257   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = { <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4),
<a name="l00258"></a>00258                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5),
<a name="l00259"></a>00259                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(3),
<a name="l00260"></a>00260                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3),
<a name="l00261"></a>00261 
<a name="l00262"></a>00262                            <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5),
<a name="l00263"></a>00263                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2),
<a name="l00264"></a>00264                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(3),
<a name="l00265"></a>00265                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1),
<a name="l00266"></a>00266 
<a name="l00267"></a>00267                            <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4),
<a name="l00268"></a>00268                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0),
<a name="l00269"></a>00269                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1),
<a name="l00270"></a>00270                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2),
<a name="l00271"></a>00271 
<a name="l00272"></a>00272                            <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0),
<a name="l00273"></a>00273                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3),
<a name="l00274"></a>00274                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1),
<a name="l00275"></a>00275                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), -1
<a name="l00276"></a>00276                          };
<a name="l00277"></a>00277 
<a name="l00278"></a>00278   <a class="code" href="Raffiner__Simplexes_8cpp.html#a9a4a9f52c0eec812b6f1b6307f77685d">fill_tab_3</a>(t, 4, 4, 3, pattern);
<a name="l00279"></a>00279 }
<a name="l00280"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a57e97d51826b907ff2c4c2a91b6bd796">00280</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a57e97d51826b907ff2c4c2a91b6bd796">build_hexa_face_refinement_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00281"></a>00281 {
<a name="l00282"></a>00282 
<a name="l00283"></a>00283 
<a name="l00284"></a>00284   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = { <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(8),           <span class="comment">//!&lt; 0 2 4 6</span>
<a name="l00285"></a>00285 <span class="comment"></span>                           <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(8), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(11),
<a name="l00286"></a>00286                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(8), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(17),
<a name="l00287"></a>00287                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(8), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(11), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(17), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(6),
<a name="l00288"></a>00288 
<a name="l00289"></a>00289                            <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(6),           <span class="comment">//!&lt; 0, 1, 4, 5 ,</span>
<a name="l00290"></a>00290 <span class="comment"></span>                           <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(6), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(7),
<a name="l00291"></a>00291                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(6), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(14),
<a name="l00292"></a>00292                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(6), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(7), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(14), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(5),
<a name="l00293"></a>00293 
<a name="l00294"></a>00294 
<a name="l00295"></a>00295                            <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4),           <span class="comment">//!&lt;       0, 1, 2, 3 ,</span>
<a name="l00296"></a>00296 <span class="comment"></span>                           <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(0), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1),
<a name="l00297"></a>00297                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2),
<a name="l00298"></a>00298                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(3),
<a name="l00299"></a>00299 
<a name="l00300"></a>00300                            <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(7), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(10),           <span class="comment">//!&lt;      1, 3, 5, 7 ,</span>
<a name="l00301"></a>00301 <span class="comment"></span>                           <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(1), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(10), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(13),
<a name="l00302"></a>00302                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(7), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(10), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(15),
<a name="l00303"></a>00303                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(10), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(13), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(15), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(7),
<a name="l00304"></a>00304 
<a name="l00305"></a>00305                            <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(11), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(12),           <span class="comment">//!&lt; 2, 3, 6, 7 ,</span>
<a name="l00306"></a>00306 <span class="comment"></span>                           <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(2), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(3), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(12), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(13),
<a name="l00307"></a>00307                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(11), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(12), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(6), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(16),
<a name="l00308"></a>00308                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(12), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(13), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(16), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(7),
<a name="l00309"></a>00309 
<a name="l00310"></a>00310                            <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(4), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(14), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(17), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(18),           <span class="comment">//!&lt; 4, 5, 6, 7</span>
<a name="l00311"></a>00311 <span class="comment"></span>                           <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(14), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(5), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(18), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(15),
<a name="l00312"></a>00312                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(17), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(18), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(6), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(16),
<a name="l00313"></a>00313                            <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(18), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(15), <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(16), <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(7),
<a name="l00314"></a>00314 
<a name="l00315"></a>00315 
<a name="l00316"></a>00316                            -1
<a name="l00317"></a>00317                          };
<a name="l00318"></a>00318 
<a name="l00319"></a>00319   <a class="code" href="Raffiner__Simplexes_8cpp.html#a9a4a9f52c0eec812b6f1b6307f77685d">fill_tab_3</a>(t, 6, 4, 4, pattern);
<a name="l00320"></a>00320 }
<a name="l00321"></a>00321 
<a name="l00322"></a>00322 
<a name="l00323"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a239f2a59294d6ed2d032f4d322819b79">00323</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a239f2a59294d6ed2d032f4d322819b79">build_face_refinement_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern, <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; cell_type)
<a name="l00324"></a>00324 {
<a name="l00325"></a>00325   <span class="keywordtype">int</span> rank = <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>(cell_type);
<a name="l00326"></a>00326   <span class="keywordflow">switch</span>(rank)
<a name="l00327"></a>00327     {
<a name="l00328"></a>00328     <span class="keywordflow">case</span> 0  :
<a name="l00329"></a>00329       <a class="code" href="Raffiner__Simplexes_8cpp.html#af36e0dfac455cf860039c936156a079a">build_triangle_face_refinement_pattern</a>(pattern);
<a name="l00330"></a>00330       <span class="keywordflow">break</span>;
<a name="l00331"></a>00331     <span class="keywordflow">case</span> 1  :
<a name="l00332"></a>00332       <a class="code" href="Raffiner__Simplexes_8cpp.html#ada7c94adc9b669a7c04c05eac429063c">build_tetrahedron_face_refinement_pattern</a>(pattern);
<a name="l00333"></a>00333       <span class="keywordflow">break</span>;
<a name="l00334"></a>00334     <span class="keywordflow">case</span> 2  :
<a name="l00335"></a>00335       <a class="code" href="Raffiner__Simplexes_8cpp.html#a0fcfe58898594bdced71be4d1916174e">build_quadrangle_face_refinement_pattern</a>(pattern);
<a name="l00336"></a>00336       <span class="keywordflow">break</span>;
<a name="l00337"></a>00337     <span class="keywordflow">case</span> 3  :
<a name="l00338"></a>00338       <a class="code" href="Raffiner__Simplexes_8cpp.html#a57e97d51826b907ff2c4c2a91b6bd796">build_hexa_face_refinement_pattern</a>(pattern);
<a name="l00339"></a>00339       <span class="keywordflow">break</span>;
<a name="l00340"></a>00340     <span class="keywordflow">default</span> :
<a name="l00341"></a>00341       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Raffiner_Simplexes.cpp &#39;build_face_refinement_pattern()&#39;&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00342"></a>00342       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Unknown cell type : &quot;</span> &lt;&lt; cell_type &lt;&lt; finl;
<a name="l00343"></a>00343       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Raffiner_Simplexes can only refine Triangles and Tetrahedrons&quot;</span> &lt;&lt; finl;
<a name="l00344"></a>00344       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00345"></a>00345     }
<a name="l00346"></a>00346 }
<a name="l00347"></a>00347 
<a name="l00348"></a>00348 
<a name="l00349"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a59aaab98d94e3b1b1db9c7df6ea61430">00349</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a59aaab98d94e3b1b1db9c7df6ea61430">build_quadrangle_edges_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00350"></a>00350 {
<a name="l00351"></a>00351   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {  2,0, 1 ,
<a name="l00352"></a>00352                             2,1, 3,
<a name="l00353"></a>00353                             2, 2, 3,
<a name="l00354"></a>00354                             2, 0, 2,
<a name="l00355"></a>00355                             4,0,3,1,2,
<a name="l00356"></a>00356                             -1
<a name="l00357"></a>00357 
<a name="l00358"></a>00358                          };
<a name="l00359"></a>00359   <a class="code" href="Raffiner__Simplexes_8cpp.html#a19450600d2031b7e3634b95565f06ef9">fill_tab_2_new</a>(t, 5, 4, pattern);
<a name="l00360"></a>00360 }
<a name="l00361"></a>00361 
<a name="l00362"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a6038d98bb7ac3b3654a93b5380bcc3e0">00362</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a6038d98bb7ac3b3654a93b5380bcc3e0">build_triangle_edges_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00363"></a>00363 {
<a name="l00364"></a>00364   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {  0, 1 ,
<a name="l00365"></a>00365                             0, 2 ,
<a name="l00366"></a>00366                             1, 2 , -1
<a name="l00367"></a>00367                          };
<a name="l00368"></a>00368   <a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">fill_tab_2</a>(t, 3, 2, pattern);
<a name="l00369"></a>00369 }
<a name="l00370"></a>00370 
<a name="l00371"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#af93055af65b576129a66852971235a00">00371</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#af93055af65b576129a66852971235a00">build_tetrahedron_edges_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00372"></a>00372 {
<a name="l00373"></a>00373   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {  0, 1 , <span class="comment">//!&lt; L&#39;arete 0 est entre le sommet 0 et le sommet 1 de l&#39;element</span>
<a name="l00374"></a>00374 <span class="comment"></span>                            0, 2 , <span class="comment">//!&lt; L&#39;arete 1 est entre 0 et 2</span>
<a name="l00375"></a>00375 <span class="comment"></span>                            0, 3 , <span class="comment">//!&lt; etc...</span>
<a name="l00376"></a>00376 <span class="comment"></span>                            1, 2 ,
<a name="l00377"></a>00377                             1, 3 ,
<a name="l00378"></a>00378                             2, 3 , -1
<a name="l00379"></a>00379                          };
<a name="l00380"></a>00380   <a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">fill_tab_2</a>(t, 6, 2, pattern);
<a name="l00381"></a>00381 }
<a name="l00382"></a>00382 
<a name="l00383"></a>00383 <span class="comment">// plan haut</span>
<a name="l00384"></a>00384 <span class="comment">// 6-- 16&#39;---7</span>
<a name="l00385"></a>00385 <span class="comment">// /         /</span>
<a name="l00386"></a>00386 <span class="comment">// 17&#39;  18&#39;  15&#39;</span>
<a name="l00387"></a>00387 <span class="comment">// /         /</span>
<a name="l00388"></a>00388 <span class="comment">// 4---14&#39;---5</span>
<a name="l00389"></a>00389 <span class="comment">// </span>
<a name="l00390"></a>00390 <span class="comment">// plan milieu</span>
<a name="l00391"></a>00391 <span class="comment">// 11&#39;--12&#39;---13&#39;</span>
<a name="l00392"></a>00392 <span class="comment">// /           /</span>
<a name="l00393"></a>00393 <span class="comment">// 8&#39;    9&#39;   10&#39;</span>
<a name="l00394"></a>00394 <span class="comment">// /          /</span>
<a name="l00395"></a>00395 <span class="comment">// 5&#39;---6&#39;---7&#39;</span>
<a name="l00396"></a>00396 <span class="comment">// </span>
<a name="l00397"></a>00397 <span class="comment">// plan bas</span>
<a name="l00398"></a>00398 <span class="comment">// 2--2&#39;---3</span>
<a name="l00399"></a>00399 <span class="comment">// /       /</span>
<a name="l00400"></a>00400 <span class="comment">// 3&#39;  4&#39;  1&#39;</span>
<a name="l00401"></a>00401 <span class="comment">// /       /</span>
<a name="l00402"></a>00402 <span class="comment">// 0---0&#39;---1</span>
<a name="l00403"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a9352b52bfb4d21ea7cacf7044c40cb1f">00403</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a9352b52bfb4d21ea7cacf7044c40cb1f">build_hexa_edges_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00404"></a>00404 {
<a name="l00405"></a>00405 
<a name="l00406"></a>00406   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {  2, 0, 1 , <span class="comment">//!&lt; L&#39;arete 0 est entre le sommet 0 et le sommet 1 de l&#39;element</span>
<a name="l00407"></a>00407 <span class="comment"></span>                            2, 1, 3 , <span class="comment">//!&lt; etc...</span>
<a name="l00408"></a>00408 <span class="comment"></span>                            2, 2, 3 ,
<a name="l00409"></a>00409                             2, 0, 2 ,
<a name="l00410"></a>00410                             4, 0, 3 , 1,2,
<a name="l00411"></a>00411                             2, 0,4, 4,0,5,1,4 ,2, 1,5 , <span class="comment">//!&lt; 5&#39; 6&#39; 7&#39;</span>
<a name="l00412"></a>00412 <span class="comment"></span>                            4,0,6,2,4, 8,0,7,1,6,3,4,2,5, 4,1,7,3,5,
<a name="l00413"></a>00413                             2,2,6, 4,2,7,3,6, 2,3,7, <span class="comment">//11&#39; 12&#39; 13&#39;</span>
<a name="l00414"></a>00414                             2,4,5, 2,5,7, 2,6,7, 2,4,6 , 4,4,7,5,6,
<a name="l00415"></a>00415                             -1
<a name="l00416"></a>00416                          };
<a name="l00417"></a>00417   <a class="code" href="Raffiner__Simplexes_8cpp.html#a19450600d2031b7e3634b95565f06ef9">fill_tab_2_new</a>(t, 19, 8, pattern);
<a name="l00418"></a>00418 }
<a name="l00419"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a23f0a76698f17fb649c98606ff9d0ab6">00419</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a23f0a76698f17fb649c98606ff9d0ab6">build_edges_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern, <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; cell_type)
<a name="l00420"></a>00420 {
<a name="l00421"></a>00421 
<a name="l00422"></a>00422   <span class="keywordtype">int</span> rank = <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>(cell_type);
<a name="l00423"></a>00423   <span class="keywordflow">switch</span>(rank)
<a name="l00424"></a>00424     {
<a name="l00425"></a>00425     <span class="keywordflow">case</span> 0  :
<a name="l00426"></a>00426       <a class="code" href="Raffiner__Simplexes_8cpp.html#a6038d98bb7ac3b3654a93b5380bcc3e0">build_triangle_edges_pattern</a>(pattern);
<a name="l00427"></a>00427       <span class="keywordflow">break</span>;
<a name="l00428"></a>00428     <span class="keywordflow">case</span> 1  :
<a name="l00429"></a>00429       <a class="code" href="Raffiner__Simplexes_8cpp.html#af93055af65b576129a66852971235a00">build_tetrahedron_edges_pattern</a>(pattern);
<a name="l00430"></a>00430       <span class="keywordflow">break</span>;
<a name="l00431"></a>00431     <span class="keywordflow">case</span> 2  :
<a name="l00432"></a>00432       <a class="code" href="Raffiner__Simplexes_8cpp.html#a59aaab98d94e3b1b1db9c7df6ea61430">build_quadrangle_edges_pattern</a>(pattern);
<a name="l00433"></a>00433       <span class="keywordflow">break</span>;
<a name="l00434"></a>00434     <span class="keywordflow">case</span> 3  :
<a name="l00435"></a>00435       <a class="code" href="Raffiner__Simplexes_8cpp.html#a9352b52bfb4d21ea7cacf7044c40cb1f">build_hexa_edges_pattern</a>(pattern);
<a name="l00436"></a>00436       <span class="keywordflow">break</span>;
<a name="l00437"></a>00437     <span class="keywordflow">default</span> :
<a name="l00438"></a>00438       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Raffiner_Simplexes.cpp &#39;build_edges_pattern()&#39;&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00439"></a>00439       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Unknown cell type : &quot;</span> &lt;&lt; cell_type &lt;&lt; finl;
<a name="l00440"></a>00440       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Raffiner_Simplexes can only refine Triangles and Tetrahedrons&quot;</span> &lt;&lt; finl;
<a name="l00441"></a>00441       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00442"></a>00442     }
<a name="l00443"></a>00443 }
<a name="l00444"></a>00444 
<a name="l00445"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a366e5481a6fe7b66d7ff12ef586e264e">00445</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a366e5481a6fe7b66d7ff12ef586e264e">build_quadrangle_faces_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00446"></a>00446 {
<a name="l00447"></a>00447   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {  0, 1 ,
<a name="l00448"></a>00448                             1, 3,
<a name="l00449"></a>00449                             3, 2 ,
<a name="l00450"></a>00450                             2, 0 , -1
<a name="l00451"></a>00451                          };
<a name="l00452"></a>00452   <a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">fill_tab_2</a>(t, 4, 2, pattern);
<a name="l00453"></a>00453 }
<a name="l00454"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#ab5264a8021168ef6ae95f83fcb8a53b4">00454</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#ab5264a8021168ef6ae95f83fcb8a53b4">build_triangle_faces_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00455"></a>00455 {
<a name="l00456"></a>00456   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {  2, 1 ,
<a name="l00457"></a>00457                             0, 2,
<a name="l00458"></a>00458                             1, 0 , -1
<a name="l00459"></a>00459                          };
<a name="l00460"></a>00460   <a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">fill_tab_2</a>(t, 3, 2, pattern);
<a name="l00461"></a>00461 }
<a name="l00462"></a>00462 
<a name="l00463"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#ae4684ea75a042590c855a9f96256543e">00463</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#ae4684ea75a042590c855a9f96256543e">build_tetrahedron_faces_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00464"></a>00464 {
<a name="l00465"></a>00465   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {  1, 2, 3,
<a name="l00466"></a>00466                             2, 0, 3,
<a name="l00467"></a>00467                             3, 0, 1,
<a name="l00468"></a>00468                             0, 2, 1, -1
<a name="l00469"></a>00469                          };
<a name="l00470"></a>00470   <a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">fill_tab_2</a>(t, 4, 3, pattern);
<a name="l00471"></a>00471 }
<a name="l00472"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a4510b708285253e136580af3fc7fa1fd">00472</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a4510b708285253e136580af3fc7fa1fd">build_hexa_faces_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern)
<a name="l00473"></a>00473 {
<a name="l00474"></a>00474   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> t[] = {   0, 2, 4, 6 ,
<a name="l00475"></a>00475                              0, 1, 4, 5 ,
<a name="l00476"></a>00476                              0, 1, 2, 3 ,
<a name="l00477"></a>00477                              1, 3, 5, 7 ,
<a name="l00478"></a>00478                              2, 3, 6, 7 ,
<a name="l00479"></a>00479                              4, 5, 6, 7 , -1
<a name="l00480"></a>00480                          };
<a name="l00481"></a>00481   <a class="code" href="Raffiner__Simplexes_8cpp.html#a3b519827a00672e4b16d39873cd31b10">fill_tab_2</a>(t, 6, 4, pattern);
<a name="l00482"></a>00482 }
<a name="l00483"></a>00483 
<a name="l00484"></a>00484 
<a name="l00485"></a>00485 
<a name="l00486"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a5115a9b8c608e6c6b5cd8db6f7dab7a2">00486</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a5115a9b8c608e6c6b5cd8db6f7dab7a2">build_faces_pattern</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern, <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; cell_type)
<a name="l00487"></a>00487 {
<a name="l00488"></a>00488 
<a name="l00489"></a>00489   <span class="keywordtype">int</span> rank = <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>(cell_type);
<a name="l00490"></a>00490   <span class="keywordflow">switch</span>(rank)
<a name="l00491"></a>00491     {
<a name="l00492"></a>00492     <span class="keywordflow">case</span> 0  :
<a name="l00493"></a>00493       <a class="code" href="Raffiner__Simplexes_8cpp.html#ab5264a8021168ef6ae95f83fcb8a53b4">build_triangle_faces_pattern</a>(pattern);
<a name="l00494"></a>00494       <span class="keywordflow">break</span>;
<a name="l00495"></a>00495     <span class="keywordflow">case</span> 1  :
<a name="l00496"></a>00496       <a class="code" href="Raffiner__Simplexes_8cpp.html#ae4684ea75a042590c855a9f96256543e">build_tetrahedron_faces_pattern</a>(pattern);
<a name="l00497"></a>00497       <span class="keywordflow">break</span>;
<a name="l00498"></a>00498     <span class="keywordflow">case</span> 2  :
<a name="l00499"></a>00499       <a class="code" href="Raffiner__Simplexes_8cpp.html#a366e5481a6fe7b66d7ff12ef586e264e">build_quadrangle_faces_pattern</a>(pattern);
<a name="l00500"></a>00500       <span class="keywordflow">break</span>;
<a name="l00501"></a>00501     <span class="keywordflow">case</span> 3  :
<a name="l00502"></a>00502       <a class="code" href="Raffiner__Simplexes_8cpp.html#a4510b708285253e136580af3fc7fa1fd">build_hexa_faces_pattern</a>(pattern);
<a name="l00503"></a>00503       <span class="keywordflow">break</span>;
<a name="l00504"></a>00504     <span class="keywordflow">default</span> :
<a name="l00505"></a>00505       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Raffiner_Simplexes.cpp &#39;build_faces_pattern()&#39;&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00506"></a>00506       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Unknown cell type : &quot;</span> &lt;&lt; cell_type &lt;&lt; finl;
<a name="l00507"></a>00507       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Raffiner_Simplexes can only refine Triangles and Tetrahedrons&quot;</span> &lt;&lt; finl;
<a name="l00508"></a>00508       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00509"></a>00509     }
<a name="l00510"></a>00510 }
<a name="l00511"></a>00511 
<a name="l00512"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a34750f18b579b6298dc1437b08cc9333">00512</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a34750f18b579b6298dc1437b08cc9333">build_edges</a>(<span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; nodes_of_cells,
<a name="l00513"></a>00513                         <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; edges_pattern,
<a name="l00514"></a>00514                         <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;        edges_of_cells,
<a name="l00515"></a>00515                         <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;        nodes_of_edges)
<a name="l00516"></a>00516 {
<a name="l00517"></a>00517 
<a name="l00518"></a>00518   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_cells          = nodes_of_cells.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00519"></a>00519   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_edges_per_cell = edges_pattern.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00520"></a>00520 <span class="comment">// const int nb_nodes_per_edge = 2;</span>
<a name="l00521"></a>00521   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_nodes_per_edge_max=edges_pattern.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00522"></a>00522   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> duplicated_edges(nb_cells * nb_edges_per_cell, nb_nodes_per_edge_max);
<a name="l00523"></a>00523   <span class="keywordtype">int</span> nb_duplicated_edges = 0;
<a name="l00524"></a>00524   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cell=0; cell&lt;nb_cells; ++cell)
<a name="l00525"></a>00525     {
<a name="l00526"></a>00526       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> edge_in_cell=0; edge_in_cell&lt;nb_edges_per_cell; ++edge_in_cell)
<a name="l00527"></a>00527         {
<a name="l00528"></a>00528           <span class="keyword">const</span> <span class="keywordtype">int</span> node_in_cell_0 = edges_pattern(edge_in_cell,0);
<a name="l00529"></a>00529           <span class="keyword">const</span> <span class="keywordtype">int</span> node_in_cell_1 = edges_pattern(edge_in_cell,1);
<a name="l00530"></a>00530 
<a name="l00531"></a>00531           <span class="keywordtype">int</span> node_0 = nodes_of_cells(cell,node_in_cell_0);
<a name="l00532"></a>00532           <span class="keywordtype">int</span> node_1 = nodes_of_cells(cell,node_in_cell_1);
<a name="l00533"></a>00533 <span class="comment">// En 3D le centre de gravite des faces est defini par les 2 diagonales</span>
<a name="l00534"></a>00534 <span class="comment">// pour assurer l&#39;unicite avec la numerotation on prend la diagonale avec l indice de noeuds le grand en premier</span>
<a name="l00535"></a>00535           <span class="keywordtype">int</span> quad_2d=0;
<a name="l00536"></a>00536 
<a name="l00537"></a>00537           <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>==3)
<a name="l00538"></a>00538             {
<a name="l00539"></a>00539               <span class="keywordtype">int</span> it=nb_nodes_per_edge_max;
<a name="l00540"></a>00540               <span class="keywordflow">while</span> ( edges_pattern(edge_in_cell,it-1)==-1) it--;
<a name="l00541"></a>00541               <span class="keywordflow">if</span> (it==4)
<a name="l00542"></a>00542                 quad_2d=1;
<a name="l00543"></a>00543             }
<a name="l00544"></a>00544           <span class="keywordflow">if</span> (quad_2d)
<a name="l00545"></a>00545             {
<a name="l00546"></a>00546               <span class="keyword">const</span> <span class="keywordtype">int</span> node_in_cell_2 = edges_pattern(edge_in_cell,2);
<a name="l00547"></a>00547               <span class="keyword">const</span> <span class="keywordtype">int</span> node_in_cell_3 = edges_pattern(edge_in_cell,3);
<a name="l00548"></a>00548 
<a name="l00549"></a>00549               <span class="keywordtype">int</span> node_2 = nodes_of_cells(cell,node_in_cell_2);
<a name="l00550"></a>00550               <span class="keywordtype">int</span> node_3 = nodes_of_cells(cell,node_in_cell_3);
<a name="l00551"></a>00551               <span class="keywordflow">if</span> (node_0 &lt;node_1)
<a name="l00552"></a>00552                 <a class="code" href="AssembleurPP1BUtil_8cpp.html#a3117b050530c46b4a15b6ab9ce6d0b41">std::swap</a>(node_0,node_1);
<a name="l00553"></a>00553               <span class="keywordflow">if</span> (node_2 &lt;node_3)
<a name="l00554"></a>00554                 <a class="code" href="AssembleurPP1BUtil_8cpp.html#a3117b050530c46b4a15b6ab9ce6d0b41">std::swap</a>(node_2,node_3);
<a name="l00555"></a>00555               <span class="keywordflow">if</span> (node_2&gt;node_0)
<a name="l00556"></a>00556                 {
<a name="l00557"></a>00557                   duplicated_edges(nb_duplicated_edges,2)=node_0;
<a name="l00558"></a>00558                   duplicated_edges(nb_duplicated_edges,3)=node_1;
<a name="l00559"></a>00559                   node_0=node_2;
<a name="l00560"></a>00560                   node_1=node_3;
<a name="l00561"></a>00561                 }
<a name="l00562"></a>00562               <span class="keywordflow">else</span>
<a name="l00563"></a>00563                 {
<a name="l00564"></a>00564                   assert(node_2!=node_0);
<a name="l00565"></a>00565                   duplicated_edges(nb_duplicated_edges,2)=node_2;
<a name="l00566"></a>00566                   duplicated_edges(nb_duplicated_edges,3)=node_3;
<a name="l00567"></a>00567                 }
<a name="l00568"></a>00568               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=4; c&lt;nb_nodes_per_edge_max; c++)
<a name="l00569"></a>00569                 duplicated_edges(nb_duplicated_edges,c)=-1;
<a name="l00570"></a>00570 
<a name="l00571"></a>00571             }
<a name="l00572"></a>00572           duplicated_edges(nb_duplicated_edges,0) = (node_0 &lt; node_1) ? node_0 : node_1;
<a name="l00573"></a>00573           duplicated_edges(nb_duplicated_edges,1) = (node_0 &lt; node_1) ? node_1 : node_0;
<a name="l00574"></a>00574           <span class="keywordflow">if</span> (!quad_2d)
<a name="l00575"></a>00575             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=2; c&lt;nb_nodes_per_edge_max; c++)
<a name="l00576"></a>00576               {
<a name="l00577"></a>00577                 <span class="keywordtype">int</span> node=edges_pattern(edge_in_cell,c);
<a name="l00578"></a>00578                 <span class="keywordflow">if</span> (node==-1)
<a name="l00579"></a>00579                   duplicated_edges(nb_duplicated_edges,c)=-1;
<a name="l00580"></a>00580                 <span class="keywordflow">else</span>
<a name="l00581"></a>00581                   duplicated_edges(nb_duplicated_edges,c)=nodes_of_cells(cell,node);
<a name="l00582"></a>00582               }
<a name="l00583"></a>00583           ++nb_duplicated_edges;
<a name="l00584"></a>00584         }
<a name="l00585"></a>00585     }
<a name="l00586"></a>00586 
<a name="l00587"></a>00587 
<a name="l00588"></a>00588   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> edges_indices;
<a name="l00589"></a>00589   <a class="code" href="Array__tools_8cpp.html#ad62171ccb6e8fd4b2be47d286c164999" title="Idem que tri_lexicographique_tableau mais on trie le tableau index qui contient les indices de lignes...">tri_lexicographique_tableau_indirect</a>(duplicated_edges,edges_indices);
<a name="l00590"></a>00590 
<a name="l00591"></a>00591   edges_of_cells.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_cells, nb_edges_per_cell);
<a name="l00592"></a>00592   nodes_of_edges.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0, nb_nodes_per_edge_max);
<a name="l00593"></a>00593   nodes_of_edges.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
<a name="l00594"></a>00594 
<a name="l00595"></a>00595   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; edges_of_cells_array = edges_of_cells;
<a name="l00596"></a>00596   <span class="keywordtype">int</span> node_0,node_1,edges_counter;
<a name="l00597"></a>00597   node_0 = node_1 = edges_counter = -1;
<a name="l00598"></a>00598 
<a name="l00599"></a>00599   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> duplicated_edge=0; duplicated_edge&lt;nb_duplicated_edges; ++duplicated_edge)
<a name="l00600"></a>00600     {
<a name="l00601"></a>00601       <span class="keyword">const</span> <span class="keywordtype">int</span> edge_index = edges_indices[duplicated_edge];
<a name="l00602"></a>00602       <span class="keyword">const</span> <span class="keywordtype">int</span> new_node_0 = duplicated_edges(edge_index, 0);
<a name="l00603"></a>00603       <span class="keyword">const</span> <span class="keywordtype">int</span> new_node_1 = duplicated_edges(edge_index, 1);
<a name="l00604"></a>00604       <span class="keywordflow">if</span> (node_0 != new_node_0 || node_1 != new_node_1)
<a name="l00605"></a>00605         {
<a name="l00606"></a>00606           edges_counter++;
<a name="l00607"></a>00607           nodes_of_edges.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(edges_counter+1, nb_nodes_per_edge_max);
<a name="l00608"></a>00608           nodes_of_edges(edges_counter, 0) = new_node_0;
<a name="l00609"></a>00609           nodes_of_edges(edges_counter, 1) = new_node_1;
<a name="l00610"></a>00610           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=2; c&lt;nb_nodes_per_edge_max; c++)
<a name="l00611"></a>00611             nodes_of_edges(edges_counter, c)=duplicated_edges(edge_index,c);
<a name="l00612"></a>00612           node_0 = new_node_0;
<a name="l00613"></a>00613           node_1 = new_node_1;
<a name="l00614"></a>00614         }
<a name="l00615"></a>00615 <span class="comment">// la, ya un truc qui m&#39;etonne : dans mon code, c&#39;est plus complexe</span>
<a name="l00616"></a>00616       edges_of_cells_array[edge_index] = edges_counter;
<a name="l00617"></a>00617     }
<a name="l00618"></a>00618 
<a name="l00619"></a>00619   nodes_of_edges.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(edges_counter+2, nb_nodes_per_edge_max);
<a name="l00620"></a>00620   nodes_of_edges.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(0);
<a name="l00621"></a>00621   nodes_of_edges.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(edges_counter+1, nb_nodes_per_edge_max);
<a name="l00622"></a>00622 }
<a name="l00623"></a>00623 
<a name="l00624"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#adcfc08bd343b168d2b03b6f2bdaaec0f">00624</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#adcfc08bd343b168d2b03b6f2bdaaec0f">build_nodes</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; nodes_src,
<a name="l00625"></a>00625                         <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;     nodes_of_edges_src,
<a name="l00626"></a>00626                         <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp;        nodes_dest)
<a name="l00627"></a>00627 {
<a name="l00628"></a>00628   assert( &amp;(nodes_src) != &amp;(nodes_dest) );
<a name="l00629"></a>00629 
<a name="l00630"></a>00630   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_nodes_src = nodes_src.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00631"></a>00631   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_edges_src = nodes_of_edges_src.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00632"></a>00632 
<a name="l00633"></a>00633   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_nodes_dest = nb_nodes_src + nb_edges_src;
<a name="l00634"></a>00634 
<a name="l00635"></a>00635   nodes_dest = nodes_src;
<a name="l00636"></a>00636   nodes_dest.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_nodes_dest,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>);
<a name="l00637"></a>00637   <span class="keywordtype">int</span> nb_node_per_edge_max= nodes_of_edges_src.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00638"></a>00638   <span class="keywordflow">if</span> (nb_node_per_edge_max==20)
<a name="l00639"></a>00639     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> edge=0; edge&lt;nb_edges_src; ++edge)
<a name="l00640"></a>00640       {
<a name="l00641"></a>00641         <span class="keyword">const</span> <span class="keywordtype">int</span> node_0 = nodes_of_edges_src(edge, 0);
<a name="l00642"></a>00642         <span class="keyword">const</span> <span class="keywordtype">int</span> node_1 = nodes_of_edges_src(edge, 1);
<a name="l00643"></a>00643         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; ++i)
<a name="l00644"></a>00644           {
<a name="l00645"></a>00645             <span class="keyword">const</span> <span class="keywordtype">double</span> x = (nodes_src(node_0, i) + nodes_src(node_1, i)) * 0.5;
<a name="l00646"></a>00646             nodes_dest(nb_nodes_src + edge, i) = x;
<a name="l00647"></a>00647           }
<a name="l00648"></a>00648       }
<a name="l00649"></a>00649   <span class="keywordflow">else</span>
<a name="l00650"></a>00650     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> edge=0; edge&lt;nb_edges_src; ++edge)
<a name="l00651"></a>00651       {
<a name="l00652"></a>00652         <span class="keywordtype">int</span> nb=nb_node_per_edge_max;
<a name="l00653"></a>00653 
<a name="l00654"></a>00654         <span class="keywordflow">while</span>(nodes_of_edges_src(edge,nb-1)==-1) nb--;
<a name="l00655"></a>00655 
<a name="l00656"></a>00656         <span class="keywordtype">double</span> inv=1./nb;
<a name="l00657"></a>00657 
<a name="l00658"></a>00658         <span class="keyword">const</span> <span class="keywordtype">int</span> node_0 = nodes_of_edges_src(edge, 0);
<a name="l00659"></a>00659         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; ++i)
<a name="l00660"></a>00660           {
<a name="l00661"></a>00661             <span class="keywordtype">double</span> x = nodes_src(node_0, i);
<a name="l00662"></a>00662             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=1; c&lt;nb; c++)
<a name="l00663"></a>00663               {
<a name="l00664"></a>00664                 <span class="keyword">const</span> <span class="keywordtype">int</span> node_1 = nodes_of_edges_src(edge, c);
<a name="l00665"></a>00665                 x+=nodes_src(node_1, i);
<a name="l00666"></a>00666               }
<a name="l00667"></a>00667             nodes_dest(nb_nodes_src + edge, i) = x*inv;
<a name="l00668"></a>00668           }
<a name="l00669"></a>00669       }
<a name="l00670"></a>00670 }
<a name="l00671"></a>00671 
<a name="l00672"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a4ed747241c434802feaa3e51f1bd7c9e">00672</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a4ed747241c434802feaa3e51f1bd7c9e">find_refined_node_index</a>(<span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; nodes_of_cells_src,
<a name="l00673"></a>00673                                    <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; edges_of_cells_src,
<a name="l00674"></a>00674                                    <span class="keywordtype">int</span>         nb_nodes_src,
<a name="l00675"></a>00675                                    <span class="keywordtype">int</span>         cell_src,
<a name="l00676"></a>00676                                    <span class="keywordtype">int</span>         index)
<a name="l00677"></a>00677 {
<a name="l00678"></a>00678   <span class="keywordtype">int</span> node_index = -1;
<a name="l00679"></a>00679   <span class="keywordflow">if</span> (index &gt;= 0)
<a name="l00680"></a>00680     {
<a name="l00681"></a>00681       <span class="keyword">const</span> <span class="keywordtype">int</span> idx = <a class="code" href="Raffiner__Simplexes_8cpp.html#a845f12bf774a6314861925b995cfc37d">NODE_ID</a>(index);
<a name="l00682"></a>00682       node_index = nodes_of_cells_src(cell_src,idx);
<a name="l00683"></a>00683     }
<a name="l00684"></a>00684   <span class="keywordflow">else</span>
<a name="l00685"></a>00685     {
<a name="l00686"></a>00686       <span class="keyword">const</span> <span class="keywordtype">int</span> idx = <a class="code" href="Raffiner__Simplexes_8cpp.html#ab7d701b88c2a3f2a2f8cdb0aebff7902">EDGE_ID</a>(index);
<a name="l00687"></a>00687       node_index = nb_nodes_src + edges_of_cells_src(cell_src,idx);
<a name="l00688"></a>00688     }
<a name="l00689"></a>00689   <span class="keywordflow">return</span> node_index;
<a name="l00690"></a>00690 }
<a name="l00691"></a>00691 
<a name="l00692"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a3052da89ea9d908e7cba957e6aff1422">00692</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a3052da89ea9d908e7cba957e6aff1422">build_cells</a>(<span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; nodes_of_cells_src,
<a name="l00693"></a>00693                         <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; edges_of_cells_src,
<a name="l00694"></a>00694                         <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; pattern,
<a name="l00695"></a>00695                         <span class="keywordtype">int</span>         nb_nodes_src,
<a name="l00696"></a>00696                         <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;        nodes_of_cells_dest)
<a name="l00697"></a>00697 {
<a name="l00698"></a>00698   assert( &amp;(nodes_of_cells_src) != &amp;(nodes_of_cells_dest) );
<a name="l00699"></a>00699 
<a name="l00700"></a>00700   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_cells_src              = nodes_of_cells_src.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00701"></a>00701   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_nodes_per_cell         = nodes_of_cells_src.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00702"></a>00702   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_refined_cells_per_cell = pattern.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00703"></a>00703 
<a name="l00704"></a>00704   nodes_of_cells_dest.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_cells_src * nb_refined_cells_per_cell, nb_nodes_per_cell);
<a name="l00705"></a>00705 
<a name="l00706"></a>00706   <span class="keywordtype">int</span> nb_cells_dest = 0;
<a name="l00707"></a>00707   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cell_src=0; cell_src&lt;nb_cells_src; ++cell_src)
<a name="l00708"></a>00708     {
<a name="l00709"></a>00709       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> refined_cell=0; refined_cell&lt;nb_refined_cells_per_cell; ++refined_cell)
<a name="l00710"></a>00710         {
<a name="l00711"></a>00711           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> node_in_cell=0; node_in_cell&lt;nb_nodes_per_cell; ++node_in_cell)
<a name="l00712"></a>00712             {
<a name="l00713"></a>00713               <span class="keyword">const</span> <span class="keywordtype">int</span> index = pattern(refined_cell,node_in_cell);
<a name="l00714"></a>00714               <span class="keyword">const</span> <span class="keywordtype">int</span> node  = <a class="code" href="Raffiner__Simplexes_8cpp.html#a4ed747241c434802feaa3e51f1bd7c9e">find_refined_node_index</a>(nodes_of_cells_src,edges_of_cells_src,nb_nodes_src,cell_src,index);
<a name="l00715"></a>00715               nodes_of_cells_dest(nb_cells_dest,node_in_cell) = node;
<a name="l00716"></a>00716             }
<a name="l00717"></a>00717           ++nb_cells_dest;
<a name="l00718"></a>00718         }
<a name="l00719"></a>00719     }
<a name="l00720"></a>00720 }
<a name="l00721"></a>00721 
<a name="l00722"></a><a class="code" href="Raffiner__Simplexes_8cpp.html#a04dd5595a0736c4e2a7a92fbc8bf5fc1">00722</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Raffiner__Simplexes_8cpp.html#a04dd5595a0736c4e2a7a92fbc8bf5fc1">build_frontier</a>(<span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp;         src,
<a name="l00723"></a>00723                            <span class="keyword">const</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a>&amp;         face_type,
<a name="l00724"></a>00724                            <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;            nodes_of_cells_src,
<a name="l00725"></a>00725                            <span class="keyword">const</span> <a class="code" href="classStatic__Int__Lists.html" title="Cette classe permet de stocker des listes d&#39;entiers accessibles en temps constant. La taille des listes ne peut pas changer sans perdre le contenu (ce sont des listes statiques). Exemple: Static_Int_List l; ArrOfInt tailles(3); tailles[0] = 2; tailles[1] = 3; tailles[2] = 0; // On reserve la memoire pour trois listes de taille 2, 3 et 0: l.set_list_sizes(tailles); // On affecte une valeur au deuxieme element de la premiere liste: l.set_value(0,1,765); // Affiche la valeur Cout &lt;&lt; l(0,1);.">Static_Int_Lists</a>&amp; cells_of_nodes_src,
<a name="l00726"></a>00726                            <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;            edges_of_cells_src,
<a name="l00727"></a>00727                            <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;            faces_pattern,
<a name="l00728"></a>00728                            <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;            faces_refinement_pattern,
<a name="l00729"></a>00729                            <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp;              zone_dest,
<a name="l00730"></a>00730                            <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp;               dest)
<a name="l00731"></a>00731 {
<a name="l00732"></a>00732   dest.<a class="code" href="classFrontiere.html#af927b5d4fc1fd086ba91e916f61badee" title="Associe la frontiere a la zone dont elle depend.">associer_zone</a>(zone_dest);
<a name="l00733"></a>00733   dest.<a class="code" href="classFrontiere.html#a982b45717b0c01579000d7a707b27672" title="Type les faces de la frontiere.">typer_faces</a>(face_type);
<a name="l00734"></a>00734   dest.<a class="code" href="classFrontiere.html#a714e3cc26d7e59f3a65d80de23ea21ac" title="Donne un nom a la frontiere.">nommer</a>(src.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>());
<a name="l00735"></a>00735 
<a name="l00736"></a>00736   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; nodes_of_faces_src         = src.<a class="code" href="classFrontiere.html#a6d1f96137ddae39a46985a8c3e53bcf5" title="Renvoie les sommets des faces de la frontiere.">les_sommets_des_faces</a>();
<a name="l00737"></a>00737   <span class="keywordtype">int</span>         nb_faces_src               = nodes_of_faces_src.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00738"></a>00738   <span class="keywordtype">int</span>         nb_nodes_per_face          = nodes_of_faces_src.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00739"></a>00739   <span class="keywordtype">int</span>         nb_faces_dest_per_face_src = faces_refinement_pattern.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00740"></a>00740   <span class="keywordtype">int</span>         nb_nodes_src               = cells_of_nodes_src.<a class="code" href="classStatic__Int__Lists.html#a5872636466919b2cb8efe715c315d7ca" title="renvoie le nombre de listes stockees">get_nb_lists</a>();
<a name="l00741"></a>00741 
<a name="l00742"></a>00742   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> nodes_of_faces_dest(nb_faces_src*nb_faces_dest_per_face_src,nb_nodes_per_face);
<a name="l00743"></a>00743   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> nodes_of_current_face(nb_nodes_per_face);
<a name="l00744"></a>00744   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> incident_cells;
<a name="l00745"></a>00745   incident_cells.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
<a name="l00746"></a>00746 
<a name="l00747"></a>00747   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=0; face&lt;nb_faces_src; ++face)
<a name="l00748"></a>00748     {
<a name="l00749"></a>00749       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> node_in_face=0; node_in_face&lt;nb_nodes_per_face; ++node_in_face)
<a name="l00750"></a>00750         {
<a name="l00751"></a>00751           nodes_of_current_face[node_in_face] = nodes_of_faces_src(face,node_in_face);
<a name="l00752"></a>00752         }
<a name="l00753"></a>00753       <a class="code" href="Connectivite__som__elem_8cpp.html#afccbadf5344a16154a56b33dbddf88c1" title="Cherche les elements qui contiennent tous les sommets du tableau sommets_to_find (permet de trouver l...">find_adjacent_elements</a>(cells_of_nodes_src,nodes_of_current_face,incident_cells);
<a name="l00754"></a>00754       <span class="keywordflow">if</span> (incident_cells.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() != 1)
<a name="l00755"></a>00755         {
<a name="l00756"></a>00756 <span class="comment">// Cette erreur n&#39;en est pas une pour les &quot;faces internes&quot;...</span>
<a name="l00757"></a>00757 <span class="comment">// si le cas se presente, faire un test en essayant d&#39;ignorer l&#39;erreur...</span>
<a name="l00758"></a>00758           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Raffiner_Simplexes.cpp &#39;build_frontier()&#39;&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00759"></a>00759           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  The boundary face &quot;</span> &lt;&lt; face &lt;&lt; <span class="stringliteral">&quot; having nodes &quot;</span> &lt;&lt; nodes_of_current_face &lt;&lt; <span class="stringliteral">&quot; has the following incident cells &quot;</span> &lt;&lt; incident_cells &lt;&lt; finl;
<a name="l00760"></a>00760           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00761"></a>00761         }
<a name="l00762"></a>00762       <span class="keyword">const</span> <span class="keywordtype">int</span> coarse_cell         = incident_cells[0];
<a name="l00763"></a>00763       <span class="keyword">const</span> <span class="keywordtype">int</span> face_in_coarse_cell = <a class="code" href="classFaces__builder.html#a17469d1ff2feae7d358abcccd2d67831">Faces_builder::chercher_face_element</a>(nodes_of_cells_src,
<a name="l00764"></a>00764                                                                            faces_pattern,
<a name="l00765"></a>00765                                                                            nodes_of_current_face,
<a name="l00766"></a>00766                                                                            coarse_cell);
<a name="l00767"></a>00767       <span class="keywordflow">if</span> (face_in_coarse_cell &lt; 0)
<a name="l00768"></a>00768         {
<a name="l00769"></a>00769           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Raffiner_Simplexes.cpp &#39;build_frontier()&#39;&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00770"></a>00770           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Internal error in &#39;Faces_builder::chercher_face_element()&#39;&quot;</span> &lt;&lt; finl;
<a name="l00771"></a>00771           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00772"></a>00772         }
<a name="l00773"></a>00773 
<a name="l00774"></a>00774       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> fine_face=0; fine_face&lt;nb_faces_dest_per_face_src; ++fine_face)
<a name="l00775"></a>00775         {
<a name="l00776"></a>00776           <span class="keywordtype">int</span> face_dest = (face*nb_faces_dest_per_face_src)+fine_face;
<a name="l00777"></a>00777           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> node_in_face=0; node_in_face&lt;nb_nodes_per_face; ++node_in_face)
<a name="l00778"></a>00778             {
<a name="l00779"></a>00779               <span class="keyword">const</span> <span class="keywordtype">int</span> index = faces_refinement_pattern(face_in_coarse_cell,fine_face,node_in_face);
<a name="l00780"></a>00780               <span class="keyword">const</span> <span class="keywordtype">int</span> node_dest  = <a class="code" href="Raffiner__Simplexes_8cpp.html#a4ed747241c434802feaa3e51f1bd7c9e">find_refined_node_index</a>(nodes_of_cells_src,edges_of_cells_src,nb_nodes_src,coarse_cell,index);
<a name="l00781"></a>00781               nodes_of_faces_dest(face_dest,node_in_face) = node_dest;
<a name="l00782"></a>00782             }
<a name="l00783"></a>00783         }
<a name="l00784"></a>00784     }
<a name="l00785"></a>00785   dest.<a class="code" href="classFrontiere.html#a6d1f96137ddae39a46985a8c3e53bcf5" title="Renvoie les sommets des faces de la frontiere.">les_sommets_des_faces</a>() = nodes_of_faces_dest;
<a name="l00786"></a>00786 }
<a name="l00787"></a>00787 
<a name="l00788"></a><a class="code" href="classRaffiner__Simplexes.html#a7053183270d4876053f76685b391d087">00788</a> <span class="keywordtype">void</span> <a class="code" href="classRaffiner__Simplexes.html#a7053183270d4876053f76685b391d087">Raffiner_Simplexes::refine_domain</a>(<span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; src,
<a name="l00789"></a>00789                                        <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp;        dest)
<a name="l00790"></a>00790 {
<a name="l00791"></a>00791 
<a name="l00792"></a>00792   <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;        cell_type          = src.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classDeriv__Elem__geom__base.html#a384b487459a33f9f521fb16539ec81de">valeur</a>().<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
<a name="l00793"></a>00793   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;     nodes_of_cells_src = src.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
<a name="l00794"></a>00794   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; nodes_src          = src.<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>();
<a name="l00795"></a>00795 
<a name="l00796"></a>00796   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> edges_pattern;
<a name="l00797"></a>00797   <a class="code" href="Raffiner__Simplexes_8cpp.html#a23f0a76698f17fb649c98606ff9d0ab6">build_edges_pattern</a>(edges_pattern,cell_type);
<a name="l00798"></a>00798 
<a name="l00799"></a>00799   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> faces_pattern;
<a name="l00800"></a>00800   <a class="code" href="Raffiner__Simplexes_8cpp.html#a5115a9b8c608e6c6b5cd8db6f7dab7a2">build_faces_pattern</a>(faces_pattern,cell_type);
<a name="l00801"></a>00801 
<a name="l00802"></a>00802   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> cell_refinement_pattern;
<a name="l00803"></a>00803   <a class="code" href="Raffiner__Simplexes_8cpp.html#a912ce7d089d614291ec6f750ee459834">build_cell_refinement_pattern</a>(cell_refinement_pattern,cell_type);
<a name="l00804"></a>00804 
<a name="l00805"></a>00805   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> face_refinement_pattern;
<a name="l00806"></a>00806   <a class="code" href="Raffiner__Simplexes_8cpp.html#a239f2a59294d6ed2d032f4d322819b79">build_face_refinement_pattern</a>(face_refinement_pattern,cell_type);
<a name="l00807"></a>00807 
<a name="l00808"></a>00808   <a class="code" href="classStatic__Int__Lists.html" title="Cette classe permet de stocker des listes d&#39;entiers accessibles en temps constant. La taille des listes ne peut pas changer sans perdre le contenu (ce sont des listes statiques). Exemple: Static_Int_List l; ArrOfInt tailles(3); tailles[0] = 2; tailles[1] = 3; tailles[2] = 0; // On reserve la memoire pour trois listes de taille 2, 3 et 0: l.set_list_sizes(tailles); // On affecte une valeur au deuxieme element de la premiere liste: l.set_value(0,1,765); // Affiche la valeur Cout &lt;&lt; l(0,1);.">Static_Int_Lists</a> cells_of_nodes_src;
<a name="l00809"></a>00809   <a class="code" href="Connectivite__som__elem_8cpp.html#a82161461a228e43ae236c31101ff3ce6" title="construction de la structure som_elem pour la zone donnee On cree pour chaque sommet i la liste des e...">construire_connectivite_som_elem</a>(src.<a class="code" href="classDomaine.html#abc4abc8b8db5bebeb161fae4162a89ce" title="Renvoie le nombre de sommets.">nb_som</a>(), nodes_of_cells_src, cells_of_nodes_src,0);
<a name="l00810"></a>00810 
<a name="l00811"></a>00811 
<a name="l00812"></a>00812   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> edges_of_cells_src;
<a name="l00813"></a>00813   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> nodes_of_edges_src;
<a name="l00814"></a>00814   <a class="code" href="Raffiner__Simplexes_8cpp.html#a34750f18b579b6298dc1437b08cc9333">build_edges</a>(nodes_of_cells_src, edges_pattern, edges_of_cells_src, nodes_of_edges_src);
<a name="l00815"></a>00815 
<a name="l00816"></a>00816   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; nodes_dest = dest.<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>();
<a name="l00817"></a>00817   <a class="code" href="Raffiner__Simplexes_8cpp.html#adcfc08bd343b168d2b03b6f2bdaaec0f">build_nodes</a>(nodes_src,nodes_of_edges_src,nodes_dest);
<a name="l00818"></a>00818 
<a name="l00819"></a>00819   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; nodes_of_cells_dest = dest.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
<a name="l00820"></a>00820   <a class="code" href="Raffiner__Simplexes_8cpp.html#a3052da89ea9d908e7cba957e6aff1422">build_cells</a>(nodes_of_cells_src,edges_of_cells_src,cell_refinement_pattern,nodes_src.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0),nodes_of_cells_dest);
<a name="l00821"></a>00821 
<a name="l00822"></a>00822   {
<a name="l00823"></a>00823     <span class="keyword">const</span> <a class="code" href="classBords.html" title="Classe Bords Cette classe represente une liste d&#39;objets de type Bord.">Bords</a>&amp; boundaries_src  = src.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#a4bc04163903c004c5c1383eaa5fa844d" title="Renvoie la liste des bords de la zone. (version const)">faces_bord</a>();
<a name="l00824"></a>00824     <a class="code" href="classBords.html" title="Classe Bords Cette classe represente une liste d&#39;objets de type Bord.">Bords</a>&amp;        boundaries_dest = dest.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#a4bc04163903c004c5c1383eaa5fa844d" title="Renvoie la liste des bords de la zone. (version const)">faces_bord</a>();
<a name="l00825"></a>00825     boundaries_dest.<a class="code" href="classliste.html#a6cf18c012f5c03fd88aafac2d263883e" title="Vide la liste.">vide</a>();
<a name="l00826"></a>00826     <span class="keyword">const</span> <span class="keywordtype">int</span> nb_boundaries = boundaries_src.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<a name="l00827"></a>00827     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> boundary=0; boundary&lt;nb_boundaries; ++boundary)
<a name="l00828"></a>00828       {
<a name="l00829"></a>00829         boundaries_dest.<a class="code" href="classList__Bord.html#a61386a2f94d915253bcec812ce0735c3">add</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>());
<a name="l00830"></a>00830         <span class="keyword">const</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a>&amp; face_type = boundaries_src[boundary].faces().type_face();
<a name="l00831"></a>00831         <a class="code" href="Raffiner__Simplexes_8cpp.html#a04dd5595a0736c4e2a7a92fbc8bf5fc1">build_frontier</a>(boundaries_src[boundary],
<a name="l00832"></a>00832                        face_type,
<a name="l00833"></a>00833                        nodes_of_cells_src,
<a name="l00834"></a>00834                        cells_of_nodes_src,
<a name="l00835"></a>00835                        edges_of_cells_src,
<a name="l00836"></a>00836                        faces_pattern,
<a name="l00837"></a>00837                        face_refinement_pattern,
<a name="l00838"></a>00838                        dest.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0),
<a name="l00839"></a>00839                        boundaries_dest[boundary]);
<a name="l00840"></a>00840       }
<a name="l00841"></a>00841   }
<a name="l00842"></a>00842 
<a name="l00843"></a>00843   {
<a name="l00844"></a>00844     <span class="keyword">const</span> <a class="code" href="classRaccords.html" title="Classe Raccords Cette represente une liste d&#39;objets de type Raccord.">Raccords</a>&amp; boundaries_src  = src.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#ac2a20fe8fa5529c7eefd418b43c0131c" title="Renvoie la liste des racoords de la zone. (version const)">faces_raccord</a>();
<a name="l00845"></a>00845     <a class="code" href="classRaccords.html" title="Classe Raccords Cette represente une liste d&#39;objets de type Raccord.">Raccords</a>&amp;        boundaries_dest = dest.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#ac2a20fe8fa5529c7eefd418b43c0131c" title="Renvoie la liste des racoords de la zone. (version const)">faces_raccord</a>();
<a name="l00846"></a>00846     boundaries_dest.<a class="code" href="classliste.html#a6cf18c012f5c03fd88aafac2d263883e" title="Vide la liste.">vide</a>();
<a name="l00847"></a>00847     <span class="keyword">const</span> <span class="keywordtype">int</span> nb_boundaries = boundaries_src.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<a name="l00848"></a>00848     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> boundary=0; boundary&lt;nb_boundaries; ++boundary)
<a name="l00849"></a>00849       {
<a name="l00850"></a>00850         boundaries_dest.<a class="code" href="classList__Raccord.html#ac995f4b0d89ff514917a9a1c5c213fd7">add</a>(<a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>());
<a name="l00851"></a>00851         boundaries_dest[boundary].typer(boundaries_src[boundary].<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>().<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>());
<a name="l00852"></a>00852         <span class="keyword">const</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a>&amp; face_type = boundaries_src[boundary].<a class="code" href="classList__Raccord.html#aa4dce0dae3e5e35c2a4faca1a2ce1bae" title="Retourne l&#39;Objet_U associe a la cellule de la liste.">valeur</a>().faces().type_face();
<a name="l00853"></a>00853         <a class="code" href="Raffiner__Simplexes_8cpp.html#a04dd5595a0736c4e2a7a92fbc8bf5fc1">build_frontier</a>(boundaries_src[boundary].<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>(),
<a name="l00854"></a>00854                        face_type,
<a name="l00855"></a>00855                        nodes_of_cells_src,
<a name="l00856"></a>00856                        cells_of_nodes_src,
<a name="l00857"></a>00857                        edges_of_cells_src,
<a name="l00858"></a>00858                        faces_pattern,
<a name="l00859"></a>00859                        face_refinement_pattern,
<a name="l00860"></a>00860                        dest.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0),
<a name="l00861"></a>00861                        boundaries_dest[boundary].<a class="code" href="classList__Raccord.html#aa4dce0dae3e5e35c2a4faca1a2ce1bae" title="Retourne l&#39;Objet_U associe a la cellule de la liste.">valeur</a>());
<a name="l00862"></a>00862       }
<a name="l00863"></a>00863   }
<a name="l00864"></a>00864 
<a name="l00865"></a>00865   {
<a name="l00866"></a>00866     <span class="keyword">const</span> <a class="code" href="classFaces__Internes.html" title="Class Faces_Internes Cette classe represente une liste d&#39;objets de type Faces_Interne.">Faces_Internes</a>&amp; boundaries_src  = src.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#ad1d5f91adfa5e56003ce778cab9610e8" title="Renvoie la liste des faces internes de la zone. (version const)">faces_int</a>();
<a name="l00867"></a>00867     <a class="code" href="classFaces__Internes.html" title="Class Faces_Internes Cette classe represente une liste d&#39;objets de type Faces_Interne.">Faces_Internes</a>&amp;        boundaries_dest = dest.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#ad1d5f91adfa5e56003ce778cab9610e8" title="Renvoie la liste des faces internes de la zone. (version const)">faces_int</a>();
<a name="l00868"></a>00868     boundaries_dest.<a class="code" href="classliste.html#a6cf18c012f5c03fd88aafac2d263883e" title="Vide la liste.">vide</a>();
<a name="l00869"></a>00869     <span class="keyword">const</span> <span class="keywordtype">int</span> nb_boundaries = boundaries_src.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<a name="l00870"></a>00870     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> boundary=0; boundary&lt;nb_boundaries; ++boundary)
<a name="l00871"></a>00871       {
<a name="l00872"></a>00872         boundaries_dest.<a class="code" href="classList__Faces__Interne.html#a9f9ca7e4ddbeddbf18666234ed5e888e">add</a>(<a class="code" href="classFaces__Interne.html" title="Classe Faces_Interne La classe sert a representer un ensemble de faces qui sont internes d&#39;un point d...">Faces_Interne</a>());
<a name="l00873"></a>00873         <span class="keyword">const</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a>&amp; face_type = boundaries_src[boundary].faces().type_face();
<a name="l00874"></a>00874         <a class="code" href="Raffiner__Simplexes_8cpp.html#a04dd5595a0736c4e2a7a92fbc8bf5fc1">build_frontier</a>(boundaries_src[boundary],
<a name="l00875"></a>00875                        face_type,
<a name="l00876"></a>00876                        nodes_of_cells_src,
<a name="l00877"></a>00877                        cells_of_nodes_src,
<a name="l00878"></a>00878                        edges_of_cells_src,
<a name="l00879"></a>00879                        faces_pattern,
<a name="l00880"></a>00880                        face_refinement_pattern,
<a name="l00881"></a>00881                        dest.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0),
<a name="l00882"></a>00882                        boundaries_dest[boundary]);
<a name="l00883"></a>00883       }
<a name="l00884"></a>00884   }
<a name="l00885"></a>00885 <span class="comment">// marq_front_nodes=0;</span>
<a name="l00886"></a>00886   {
<a name="l00887"></a>00887     <span class="keyword">const</span> <a class="code" href="classJoints.html" title="Classe Joints Cette classe represente une liste d&#39;objet de type Joint.">Joints</a>&amp; boundaries_src  = src.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>();
<a name="l00888"></a>00888     <a class="code" href="classJoints.html" title="Classe Joints Cette classe represente une liste d&#39;objet de type Joint.">Joints</a>&amp;       boundaries_dest = dest.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>();
<a name="l00889"></a>00889     boundaries_dest.<a class="code" href="classliste.html#a6cf18c012f5c03fd88aafac2d263883e" title="Vide la liste.">vide</a>();
<a name="l00890"></a>00890     <span class="keyword">const</span> <span class="keywordtype">int</span> nb_boundaries = boundaries_src.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<a name="l00891"></a>00891     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> boundary=0; boundary&lt;nb_boundaries; ++boundary)
<a name="l00892"></a>00892       {
<a name="l00893"></a>00893         boundaries_dest.<a class="code" href="classList__Joint.html#af5bca88a907fbe4086842805696cfe2f">add</a>(<a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>());
<a name="l00894"></a>00894         <span class="keyword">const</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a>&amp; face_type = boundaries_src[boundary].faces().type_face();
<a name="l00895"></a>00895         <a class="code" href="Raffiner__Simplexes_8cpp.html#a04dd5595a0736c4e2a7a92fbc8bf5fc1">build_frontier</a>(boundaries_src[boundary],
<a name="l00896"></a>00896                        face_type,
<a name="l00897"></a>00897                        nodes_of_cells_src,
<a name="l00898"></a>00898                        cells_of_nodes_src,
<a name="l00899"></a>00899                        edges_of_cells_src,
<a name="l00900"></a>00900                        faces_pattern,
<a name="l00901"></a>00901                        face_refinement_pattern,
<a name="l00902"></a>00902                        dest.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0),
<a name="l00903"></a>00903                        boundaries_dest[boundary]);
<a name="l00904"></a>00904       }
<a name="l00905"></a>00905     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> boundary=0; boundary&lt;nb_boundaries; ++boundary)
<a name="l00906"></a>00906       {
<a name="l00907"></a>00907         <a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>&amp; joint_dest=boundaries_dest[boundary];
<a name="l00908"></a>00908         joint_dest.<a class="code" href="classJoint.html#a3c4ef6a648dd0b5d4aa072a1f4e3c64e" title="Fixe le numero du PE voisin.">affecte_PEvoisin</a>(boundaries_src[boundary].PEvoisin());
<a name="l00909"></a>00909         joint_dest.<a class="code" href="classJoint.html#a130c206de5fddabf173bb3e4604cefa3" title="Fixe l&#39;epaisseur du joint.">affecte_epaisseur</a>(boundaries_src[boundary].epaisseur());
<a name="l00910"></a>00910 
<a name="l00911"></a>00911 <span class="comment">// creation des SOMMETS communs</span>
<a name="l00912"></a>00912         <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; liste_sommets = joint_dest.<a class="code" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de" title="Renvoie les informations de joint pour un type d&#39;item geometrique donne, pour remplissage des structu...">set_joint_item</a>(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).<a class="code" href="classJoint__Items.html#aa01c4601d506c658f4f1d45e66951ce0" title="Renvoie le tableau items_communs_ pour le remplir. (BM: ce tableau n&#39;est pas encore rempli)...">set_items_communs</a>();
<a name="l00913"></a>00913         joint_dest.<a class="code" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de" title="Renvoie les informations de joint pour un type d&#39;item geometrique donne, pour remplissage des structu...">set_joint_item</a>(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code" href="classJoint__Items.html#a13add264f4ad36ef4bddbfc1b7bdb817" title="Renvoie le tableau items_distants_ pour le remplir Voir Scatter::calculer_espace_distant, Scatter::calculer_espace_distant_faces_frontieres, Scatter::calculer_espace_distant_elements.">set_items_distants</a>();
<a name="l00914"></a>00914 
<a name="l00915"></a>00915         liste_sommets.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
<a name="l00916"></a>00916 <span class="comment">// On prend tous les sommets des faces de joint:</span>
<a name="l00917"></a>00917         <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; som_faces = joint_dest.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>();
<a name="l00918"></a>00918         liste_sommets = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>,som_faces);
<a name="l00919"></a>00919 <span class="comment">// on ajoute les sommets du joint d&#39;origine pour</span>
<a name="l00920"></a>00920 <span class="comment">// les sommets isoles</span>
<a name="l00921"></a>00921         <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; som_isoles = boundaries_src[boundary].joint_item(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).items_communs();
<a name="l00922"></a>00922         <span class="keyword">const</span> <span class="keywordtype">int</span> n = som_isoles.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00923"></a>00923         <a class="code" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709" title="Methode outil pour retirer les doublons dans un tableau.">array_trier_retirer_doublons</a>(liste_sommets);
<a name="l00924"></a>00924         <span class="keywordtype">int</span> n0=liste_sommets.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00925"></a>00925         <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> liste_sommets_old(liste_sommets);
<a name="l00926"></a>00926         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)
<a name="l00927"></a>00927           liste_sommets.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(som_isoles[i]);
<a name="l00928"></a>00928 <span class="comment">// Retirer les doublons de la liste</span>
<a name="l00929"></a>00929         <a class="code" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709" title="Methode outil pour retirer les doublons dans un tableau.">array_trier_retirer_doublons</a>(liste_sommets);
<a name="l00930"></a>00930         <span class="keywordtype">int</span> n1=liste_sommets.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00931"></a>00931 
<a name="l00932"></a>00932         <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>()&lt;&lt;<span class="stringliteral">&quot; du boulot &quot;</span>&lt;&lt;boundaries_src[boundary].PEvoisin()&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00933"></a>00933 
<a name="l00934"></a>00934 <span class="comment">// if (n0!=liste_sommets.size_array())</span>
<a name="l00935"></a>00935         {
<a name="l00936"></a>00936 
<a name="l00937"></a>00937           <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> sommets_to_find(2);
<a name="l00938"></a>00938           <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> incident_cells;
<a name="l00939"></a>00939           incident_cells.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
<a name="l00940"></a>00940 
<a name="l00941"></a>00941 <span class="comment">// on doit trouver tous les sommets oublies, c&#39;est ceux en plus.</span>
<a name="l00942"></a>00942           <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> oublie;<span class="comment">//!&lt; (n1-n0);</span>
<a name="l00943"></a>00943 <span class="comment"></span>          <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; liste_sommets_org= som_isoles;
<a name="l00944"></a>00944           <span class="keywordtype">int</span> norg=som_isoles.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00945"></a>00945 <span class="comment">// les liste sont tries</span>
<a name="l00946"></a>00946 <span class="comment">// if (n0==0)</span>
<a name="l00947"></a>00947           <span class="keywordflow">if</span> (1)
<a name="l00948"></a>00948             {
<a name="l00949"></a>00949               oublie=liste_sommets;
<a name="l00950"></a>00950             }
<a name="l00951"></a>00951           <span class="keywordflow">else</span>
<a name="l00952"></a>00952             {
<a name="l00953"></a>00953               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;liste_sommets&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00954"></a>00954               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;liste_sommets_old&lt;&lt;finl;
<a name="l00955"></a>00955               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot; a trier&quot;</span> &lt;&lt;finl;
<a name="l00956"></a>00956               <span class="keywordtype">int</span> i=0;
<a name="l00957"></a>00957               <span class="keywordtype">int</span> i_old=0;
<a name="l00958"></a>00958               <span class="keywordtype">int</span> t=0;
<a name="l00959"></a>00959               <span class="keywordflow">while</span> (t&lt;n1-n0)
<a name="l00960"></a>00960                 {
<a name="l00961"></a>00961                   <span class="keywordflow">if</span> (liste_sommets[i]!=liste_sommets_old[i_old])
<a name="l00962"></a>00962                     {
<a name="l00963"></a>00963                       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;iiiii&quot;</span>&lt;&lt;i&lt;&lt;finl;
<a name="l00964"></a>00964                       oublie[t++]=liste_sommets[i];
<a name="l00965"></a>00965                       i++;
<a name="l00966"></a>00966                     }
<a name="l00967"></a>00967                   <span class="keywordflow">else</span>
<a name="l00968"></a>00968                     {
<a name="l00969"></a>00969                       i++;
<a name="l00970"></a>00970                       i_old++;
<a name="l00971"></a>00971                     }
<a name="l00972"></a>00972                 }
<a name="l00973"></a>00973               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;oublie&lt;&lt;finl;
<a name="l00974"></a>00974 <span class="comment">// abort();</span>
<a name="l00975"></a>00975             }
<a name="l00976"></a>00976 
<a name="l00977"></a>00977 <span class="comment">// pour chaque sommet oblie on regarde si on a une arrete commune en regardant tous les sommets de la liste</span>
<a name="l00978"></a>00978           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> nio=0; nio&lt;n1; nio++)
<a name="l00979"></a>00979             {
<a name="l00980"></a>00980               <span class="keywordtype">int</span> io=oublie[nio];
<a name="l00981"></a>00981               sommets_to_find[0]=io;
<a name="l00982"></a>00982 <span class="comment">// if (marq_front_nodes(io)==0)         continue;</span>
<a name="l00983"></a>00983               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ns=nio+1; ns&lt;norg; ns++)
<a name="l00984"></a>00984                 {
<a name="l00985"></a>00985                   <span class="keywordtype">int</span> s=liste_sommets_org(ns);
<a name="l00986"></a>00986                   <span class="keywordflow">if</span> (s==io)
<a name="l00987"></a>00987                     <span class="keywordflow">continue</span>;
<a name="l00988"></a>00988 <span class="comment">// if (marq_front_nodes(s)==0) continue;</span>
<a name="l00989"></a>00989                   sommets_to_find[1]=s;
<a name="l00990"></a>00990                   <a class="code" href="Connectivite__som__elem_8cpp.html#afccbadf5344a16154a56b33dbddf88c1" title="Cherche les elements qui contiennent tous les sommets du tableau sommets_to_find (permet de trouver l...">find_adjacent_elements</a>(cells_of_nodes_src,sommets_to_find,incident_cells);
<a name="l00991"></a>00991 <span class="comment">// Cerr&lt;&lt;&quot;uuuuu&quot;&lt;&lt;incident_cells&lt;&lt;finl;</span>
<a name="l00992"></a>00992 <span class="comment">// Cerr&lt;&lt;&quot;pos &quot;&lt;&lt;nodes_dest(io,0)&lt;&lt;&quot; &quot;&lt;&lt;nodes_dest(io,1)&lt;&lt;&quot; &quot;&lt;&lt;nodes_dest(io,2)&lt;&lt;finl;</span>
<a name="l00993"></a>00993 <span class="comment">// Cerr&lt;&lt;&quot;pos &quot;&lt;&lt;nodes_dest(s,0)&lt;&lt;&quot; &quot;&lt;&lt;nodes_dest(s,1)&lt;&lt;&quot; &quot;&lt;&lt;nodes_dest(s,2)&lt;&lt;finl;</span>
<a name="l00994"></a>00994                   <span class="keywordtype">int</span>         nb_nodes_src               = cells_of_nodes_src.get_nb_lists();
<a name="l00995"></a>00995                   <span class="keywordflow">if</span> (incident_cells.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>()&gt;0)
<a name="l00996"></a>00996                     {
<a name="l00997"></a>00997                       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ne=0; ne&lt;incident_cells.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>(); ne++)
<a name="l00998"></a>00998                         {
<a name="l00999"></a>00999                           <span class="keywordtype">int</span> elem=incident_cells(ne);
<a name="l01000"></a>01000                           <span class="keywordtype">int</span> nb_nodes_per_cells=nodes_of_cells_src.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l01001"></a>01001                           <span class="keywordtype">int</span> local0=-1,local1=-1;
<a name="l01002"></a>01002                           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_nodes_per_cells; i++)
<a name="l01003"></a>01003                             {
<a name="l01004"></a>01004                               <span class="keywordflow">if</span> (nodes_of_cells_src(elem,i)==io)
<a name="l01005"></a>01005                                 local0=i;
<a name="l01006"></a>01006                               <span class="keywordflow">if</span> (nodes_of_cells_src(elem,i)==s)
<a name="l01007"></a>01007                                 local1=i;
<a name="l01008"></a>01008                             }
<a name="l01009"></a>01009                           <span class="keywordflow">if</span> ((local0==-1)||(local1==-1))
<a name="l01010"></a>01010                             {
<a name="l01011"></a>01011                               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot; pB arrete ?&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01012"></a>01012                               <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l01013"></a>01013                             }
<a name="l01014"></a>01014                           <span class="keywordflow">if</span> (local1&lt;local0)
<a name="l01015"></a>01015                             {
<a name="l01016"></a>01016                               <a class="code" href="AssembleurPP1BUtil_8cpp.html#a3117b050530c46b4a15b6ab9ce6d0b41">std::swap</a>(local0,local1);
<a name="l01017"></a>01017                             }
<a name="l01018"></a>01018 
<a name="l01019"></a>01019                           <span class="keywordtype">int</span> nb_edges_pattern=edges_pattern.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l01020"></a>01020                           <span class="keywordtype">int</span> nb_nodes_per_edge_max = edges_pattern.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l01021"></a>01021                           <span class="keywordtype">int</span> ok=-1;
<a name="l01022"></a>01022                           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> e=0; e&lt;nb_edges_pattern; e++)
<a name="l01023"></a>01023                             {
<a name="l01024"></a>01024 <span class="comment">// const int node  = find_refined_node_index(nodes_of_cells_src,edges_of_cells_src,nb_nodes_src,elem,-e);</span>
<a name="l01025"></a>01025                               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=0; c&lt;nb_nodes_per_edge_max-1; c++)
<a name="l01026"></a>01026                                 {
<a name="l01027"></a>01027                                   <span class="keywordflow">if</span> ((local0==edges_pattern(e,c))&amp;&amp;(local1==edges_pattern(e,c+1)))
<a name="l01028"></a>01028                                     {
<a name="l01029"></a>01029                                       ok=e;
<a name="l01030"></a>01030                                       <span class="keywordflow">break</span>;
<a name="l01031"></a>01031                                     }
<a name="l01032"></a>01032                                 }
<a name="l01033"></a>01033                             }
<a name="l01034"></a>01034                           <span class="keywordflow">if</span> (ok==-1)
<a name="l01035"></a>01035                             {
<a name="l01036"></a>01036                               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot; pB edge ?&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01037"></a>01037                               <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l01038"></a>01038                             }
<a name="l01039"></a>01039 
<a name="l01040"></a>01040                           <span class="keyword">const</span> <span class="keywordtype">int</span> node  = <a class="code" href="Raffiner__Simplexes_8cpp.html#a4ed747241c434802feaa3e51f1bd7c9e">find_refined_node_index</a>(nodes_of_cells_src,edges_of_cells_src,nb_nodes_src,elem,-(ok+1));
<a name="l01041"></a>01041                           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir=0; dir&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; dir++)
<a name="l01042"></a>01042                             {
<a name="l01043"></a>01043                               <span class="keywordtype">double</span> <a class="code" href="Op__Grad__EF_8cpp.html#abc0897c211f7aa4541da5833388f868b">test</a>=nodes_dest(node,dir)-(nodes_dest(io,dir)+nodes_dest(s,dir))*0.5;
<a name="l01044"></a>01044                               <span class="keywordflow">if</span> (<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(test)&gt;1e-7)
<a name="l01045"></a>01045                                 {
<a name="l01046"></a>01046                                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot; pB position ?&quot;</span>&lt;&lt;test &lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01047"></a>01047                                   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l01048"></a>01048                                 }
<a name="l01049"></a>01049                             }
<a name="l01050"></a>01050                           <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>()&lt;&lt;io&lt;&lt;<span class="stringliteral">&quot; sommets &quot;</span>&lt;&lt;s&lt;&lt;<span class="stringliteral">&quot; Node &quot;</span>&lt;&lt;node ;
<a name="l01051"></a>01051                           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir=0; dir&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; dir++)
<a name="l01052"></a>01052                             <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>()&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;nodes_dest(node,dir);
<a name="l01053"></a>01053                           <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>()&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01054"></a>01054 
<a name="l01055"></a>01055                           liste_sommets.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(node);
<a name="l01056"></a>01056                         }
<a name="l01057"></a>01057                     }
<a name="l01058"></a>01058                 }
<a name="l01059"></a>01059 
<a name="l01060"></a>01060             }
<a name="l01061"></a>01061           <a class="code" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709" title="Methode outil pour retirer les doublons dans un tableau.">array_trier_retirer_doublons</a>(liste_sommets);
<a name="l01062"></a>01062           <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>()&lt;&lt;liste_sommets&lt;&lt;<span class="stringliteral">&quot; old &quot;</span>&lt;&lt;liste_sommets_old&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01063"></a>01063 <span class="comment">// abort();</span>
<a name="l01064"></a>01064 
<a name="l01065"></a>01065         }
<a name="l01066"></a>01066 
<a name="l01067"></a>01067       }
<a name="l01068"></a>01068   }
<a name="l01069"></a>01069 }
<a name="l01070"></a>01070 
<a name="l01071"></a><a class="code" href="classRaffiner__Simplexes.html#a40200a2976565ddf7236f651302ccf09">01071</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classRaffiner__Simplexes.html#a40200a2976565ddf7236f651302ccf09">Raffiner_Simplexes::interpreter_</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l01072"></a>01072 {
<a name="l01073"></a>01073   <a class="code" href="classInterprete__geometrique__base.html#ac0d2fd316a4bb1585ec579f473684caa">associer_domaine</a>(is);
<a name="l01074"></a>01074 
<a name="l01075"></a>01075   <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domain = <a class="code" href="classInterprete__geometrique__base.html#adeeb544dc732989761fb466c0d9cbcbe">domaine</a>();
<a name="l01076"></a>01076   <a class="code" href="classScatter.html#a8cf934a9b5f7ecb7ef89f61c09804f45" title="methode utilisee par les interpretes qui modifient le domaine&lt;br&gt;(sequentiel), detruit les descripteu...">Scatter::uninit_sequential_domain</a>(domain);
<a name="l01077"></a>01077 
<a name="l01078"></a>01078   <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a> initial_domain(domain);
<a name="l01079"></a>01079   <a class="code" href="classRaffiner__Simplexes.html#a7053183270d4876053f76685b391d087">refine_domain</a>(initial_domain,domain);
<a name="l01080"></a>01080   <a class="code" href="classScatter.html#a1874139ffd29d5a68191bc7828d3a5bd" title="cree des descripteurs sequentiels pour les tableaux sommets et elements du domaine (necessaire car Sc...">Scatter::init_sequential_domain</a>(domain);
<a name="l01081"></a>01081 
<a name="l01082"></a>01082   <span class="keywordflow">return</span> is;
<a name="l01083"></a>01083 }
<a name="l01084"></a>01084 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:20 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
