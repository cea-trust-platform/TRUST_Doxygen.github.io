<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Geometrie/Lire_Ideas.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Geometrie/Lire_Ideas.cpp</div>  </div>
</div>
<div class="contents">
<a href="Lire__Ideas_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2019, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Lire_Ideas.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Geometrie</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/16</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Lire__Ideas_8h.html">Lire_Ideas.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Domaine_8h.html">Domaine.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="EFichier_8h.html">EFichier.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Scatter_8h.html">Scatter.h</a>&gt;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="Lire__Ideas_8cpp.html#a5d6da2d74459dfa5f3f38d89a32302c0">00028</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classLire__Ideas.html">Lire_Ideas</a>,<span class="stringliteral">&quot;Lire_Ideas&quot;</span>,<a class="code" href="classInterprete__geometrique__base.html" title="classe Interprete_geometrique_base .">Interprete_geometrique_base</a>);
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="comment">// printOn et readOn</span>
<a name="l00031"></a>00031 
<a name="l00032"></a><a class="code" href="classLire__Ideas.html#aa16d48b8b7637ac9a6f9259315c1e7f4">00032</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classLire__Ideas.html#aa16d48b8b7637ac9a6f9259315c1e7f4" title="Ecriture de l&#39;objet sur un flot de sortie Methode a surcharger.">Lire_Ideas::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; s )<span class="keyword"> const</span>
<a name="l00033"></a>00033 <span class="keyword"></span>{
<a name="l00034"></a>00034   <span class="keywordflow">return</span> s &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00035"></a>00035 }
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="classLire__Ideas.html#a37416f2ee232066a42dad66a292da17f">00037</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classLire__Ideas.html#a37416f2ee232066a42dad66a292da17f" title="Lecture d&#39;un Objet_U sur un flot d&#39;entree Methode a surcharger.">Lire_Ideas::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is )
<a name="l00038"></a>00038 {
<a name="l00039"></a>00039   <span class="keywordflow">return</span> is;
<a name="l00040"></a>00040 }
<a name="l00041"></a>00041 
<a name="l00042"></a><a class="code" href="classLire__Ideas.html#ab11cafb61d678e4475ce5dd522e5fdcd">00042</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classLire__Ideas.html#ab11cafb61d678e4475ce5dd522e5fdcd">Lire_Ideas::interpreter_</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00043"></a>00043 {
<a name="l00044"></a>00044   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_fic;
<a name="l00045"></a>00045   <a class="code" href="classInterprete__geometrique__base.html#ac0d2fd316a4bb1585ec579f473684caa">associer_domaine</a>(is);
<a name="l00046"></a>00046   is &gt;&gt; nom_fic;
<a name="l00047"></a>00047   <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom=<a class="code" href="classInterprete__geometrique__base.html#adeeb544dc732989761fb466c0d9cbcbe">domaine</a>();
<a name="l00048"></a>00048 <span class="comment">// </span>
<a name="l00049"></a>00049   <span class="keywordtype">int</span> NDIM=<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>;
<a name="l00050"></a>00050   <span class="keywordtype">int</span> NNOEUDS=0;
<a name="l00051"></a>00051   <span class="keywordtype">int</span> NELEM=0;
<a name="l00052"></a>00052   <span class="keywordtype">int</span> NTETRA=0;
<a name="l00053"></a>00053   <span class="keywordtype">int</span> NFACB=0;
<a name="l00054"></a>00054   <span class="keywordtype">int</span> NSEG=0;
<a name="l00055"></a>00055   <span class="keywordtype">int</span> NGROUPE=0;
<a name="l00056"></a>00056   <span class="keywordtype">int</span> CAS=0;
<a name="l00057"></a>00057 <span class="comment">// </span>
<a name="l00058"></a>00058   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;First pass to determine the sizes of arrays&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00059"></a>00059 <span class="comment">// </span>
<a name="l00060"></a>00060   <span class="keywordtype">char</span>  nom_fic2[81];
<a name="l00061"></a>00061   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii=0; ii&lt;80; ii++)
<a name="l00062"></a>00062     nom_fic2[ii]=<span class="charliteral">&#39;\0&#39;</span>;
<a name="l00063"></a>00063   strcpy(nom_fic2,nom_fic);
<a name="l00064"></a>00064   <a class="code" href="arch_8h.html#a9b91c72ded7de2f0b393ea75de53929b">F77NAME</a>(LIREPREM) (nom_fic2,
<a name="l00065"></a>00065                      &amp;NDIM,
<a name="l00066"></a>00066                      &amp;NNOEUDS,
<a name="l00067"></a>00067                      &amp;NELEM,
<a name="l00068"></a>00068                      &amp;NTETRA,
<a name="l00069"></a>00069                      &amp;NFACB,
<a name="l00070"></a>00070                      &amp;NSEG,
<a name="l00071"></a>00071                      &amp;NGROUPE,
<a name="l00072"></a>00072                      &amp;CAS);
<a name="l00073"></a>00073 <span class="comment">// </span>
<a name="l00074"></a>00074   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Number of nodes             : &quot;</span> &lt;&lt; NNOEUDS &lt;&lt; finl;
<a name="l00075"></a>00075   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Number of elements          : &quot;</span> &lt;&lt; NELEM &lt;&lt; finl;
<a name="l00076"></a>00076   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Number of tetrahedra        : &quot;</span> &lt;&lt; NTETRA &lt;&lt; finl;
<a name="l00077"></a>00077   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Number of boundary faces    : &quot;</span> &lt;&lt; NFACB &lt;&lt; finl;
<a name="l00078"></a>00078   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Number of boundary segments : &quot;</span> &lt;&lt; NSEG &lt;&lt; finl;
<a name="l00079"></a>00079   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Number of groups            : &quot;</span> &lt;&lt; NGROUPE &lt;&lt; finl;
<a name="l00080"></a>00080 <span class="comment">// </span>
<a name="l00081"></a>00081   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> NGELEM(NGROUPE);
<a name="l00082"></a>00082   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> WORK(<a class="code" href="Double_8h.html#a1c45761573e6cbc97cfacac78d905016">max</a>(NTETRA,NFACB*4));
<a name="l00083"></a>00083 <span class="comment">// </span>
<a name="l00084"></a>00084 <span class="comment">// Passage F77 a C++: les indices entre les deux langages sont inverses</span>
<a name="l00085"></a>00085 <span class="comment">// (methode de stockage differente)</span>
<a name="l00086"></a>00086 <span class="comment">// </span>
<a name="l00087"></a>00087   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> TETRA(4,NTETRA);
<a name="l00088"></a>00088   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> FACB(3,NFACB);
<a name="l00089"></a>00089   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> GROUP(NFACB,NGROUPE);
<a name="l00090"></a>00090 <span class="comment">// </span>
<a name="l00091"></a>00091   <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> X(NNOEUDS);
<a name="l00092"></a>00092   <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> Y(NNOEUDS);
<a name="l00093"></a>00093   <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> Z(NNOEUDS);
<a name="l00094"></a>00094   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;call of LIREIDEAS &quot;</span> &lt;&lt; finl;
<a name="l00095"></a>00095 <span class="comment">// </span>
<a name="l00096"></a>00096   <a class="code" href="arch_8h.html#a9b91c72ded7de2f0b393ea75de53929b">F77NAME</a>(LIREIDEAS)(nom_fic2,
<a name="l00097"></a>00097                      &amp;NDIM,
<a name="l00098"></a>00098                      X.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(),
<a name="l00099"></a>00099                      Y.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(),
<a name="l00100"></a>00100                      Z.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(),
<a name="l00101"></a>00101                      TETRA.<a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(),
<a name="l00102"></a>00102                      FACB.<a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(),
<a name="l00103"></a>00103                      GROUP.<a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(),
<a name="l00104"></a>00104                      &amp;NNOEUDS,
<a name="l00105"></a>00105                      &amp;NELEM,
<a name="l00106"></a>00106                      &amp;NTETRA,
<a name="l00107"></a>00107                      &amp;NFACB,
<a name="l00108"></a>00108                      &amp;NGROUPE,
<a name="l00109"></a>00109                      NGELEM.<a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(),
<a name="l00110"></a>00110                      WORK.<a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(),
<a name="l00111"></a>00111                      &amp;CAS);
<a name="l00112"></a>00112 <span class="comment">// </span>
<a name="l00113"></a>00113   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Reading completed &quot;</span> &lt;&lt; finl;
<a name="l00114"></a>00114 <span class="comment">// </span>
<a name="l00115"></a>00115   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord=dom.<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>();
<a name="l00116"></a>00116   <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a> une_zone;
<a name="l00117"></a>00117   <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; la_zone=dom.<a class="code" href="classDomaine.html#a6204a2b89860bfd74ca2858d1d8750bf" title="Ajoute une Sous_Zone au domaine.">add</a>(une_zone);
<a name="l00118"></a>00118 <span class="comment">// </span>
<a name="l00119"></a>00119   la_zone.<a class="code" href="classZone.html#ad9cedce77314d4aa1d84a12958079b0e" title="Donne un nom a la zone.">nommer</a>(dom.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>());
<a name="l00120"></a>00120   la_zone.<a class="code" href="classZone.html#a68a215145852861f2d513c959f52a1a5" title="Specifie le domaine dont la zone fait partie.">associer_domaine</a>(dom);
<a name="l00121"></a>00121   la_zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Tetraedre&quot;</span>);
<a name="l00122"></a>00122   la_zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classElem__geom.html#a52107168bd97e24d851ca5f667c575e5" title="Appel a l&#39;objet sous-jacent Associe l&#39;element geometrique a sa zone.">associer_zone</a>(la_zone);
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 <span class="comment">// </span>
<a name="l00125"></a>00125 <span class="comment">// On commence par transferer les coordonnees</span>
<a name="l00126"></a>00126 <span class="comment">// </span>
<a name="l00127"></a>00127   coord.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(NNOEUDS, <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l00128"></a>00128   {
<a name="l00129"></a>00129     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;NNOEUDS; i++)
<a name="l00130"></a>00130       {
<a name="l00131"></a>00131         coord(i,0) = (X[i]);
<a name="l00132"></a>00132         coord(i,1) = (Y[i]);
<a name="l00133"></a>00133         coord(i,2) = (Z[i]);
<a name="l00134"></a>00134       }
<a name="l00135"></a>00135   }
<a name="l00136"></a>00136 <span class="comment">// </span>
<a name="l00137"></a>00137   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Completing the assignment of coordinates of nodes&quot;</span> &lt;&lt; finl;
<a name="l00138"></a>00138 <span class="comment">// </span>
<a name="l00139"></a>00139 <span class="comment">// On continue par les elements (connectivite element -&gt; noeuds)</span>
<a name="l00140"></a>00140 <span class="comment">// </span>
<a name="l00141"></a>00141   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; les_elems=la_zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
<a name="l00142"></a>00142   les_elems.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(NTETRA, <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>+1);
<a name="l00143"></a>00143   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;NTETRA; i++)
<a name="l00144"></a>00144     {
<a name="l00145"></a>00145       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>+1; j++)
<a name="l00146"></a>00146         {
<a name="l00147"></a>00147 <span class="comment">// </span>
<a name="l00148"></a>00148 <span class="comment">// ATTENTION : Inversion des indices entre le tableau Fortran et C++</span>
<a name="l00149"></a>00149 <span class="comment">// </span>
<a name="l00150"></a>00150           les_elems(i,j)= TETRA(j,i)-1 ;
<a name="l00151"></a>00151         }
<a name="l00152"></a>00152     }
<a name="l00153"></a>00153 <span class="comment">// </span>
<a name="l00154"></a>00154   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Completing the assignment of elements&quot;</span> &lt;&lt; finl;
<a name="l00155"></a>00155 <span class="comment">// </span>
<a name="l00156"></a>00156 <span class="comment">// </span>
<a name="l00157"></a>00157 <span class="comment">// Maintenant, on traite les faces de bords (tableau FACB, de dim (NFACB,3))</span>
<a name="l00158"></a>00158 <span class="comment">// qui se trouvent dans les differents groupes de faces de bords. Chaque</span>
<a name="l00159"></a>00159 <span class="comment">// groupe correspond a un bord bien defini du domaine (paroi, entree, sortie,</span>
<a name="l00160"></a>00160 <span class="comment">// symetrie, ...) et chaque groupe porte le nom de ce type de bord (GRNAME)</span>
<a name="l00161"></a>00161 <span class="comment">// </span>
<a name="l00162"></a>00162 <span class="comment">// En resume :</span>
<a name="l00163"></a>00163 <span class="comment">// GRNAME (NGROUPE)         : Nom des differents bords</span>
<a name="l00164"></a>00164 <span class="comment">// GROUP  (NNOEUDS,NGROUPE) : Groupe de faces de bord (Numero de la face)</span>
<a name="l00165"></a>00165 <span class="comment">// NGELEM (NGROUPE)         : Nombre de faces de bords pour le groupe NGROUPE</span>
<a name="l00166"></a>00166 <span class="comment">// FACB   (NFACB,3)         : Connectivite des faces de bords (les 3 noeuds du triangle)</span>
<a name="l00167"></a>00167 <span class="comment">// </span>
<a name="l00168"></a>00168 <span class="comment">// </span>
<a name="l00169"></a>00169 <span class="comment">// </span>
<a name="l00170"></a>00170 <span class="comment">// On ouvre le fichier contenant les noms des groupes</span>
<a name="l00171"></a>00171 <span class="comment">// </span>
<a name="l00172"></a>00172   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom1=<span class="stringliteral">&quot;nom.groupe&quot;</span>;
<a name="l00173"></a>00173   <a class="code" href="classEFichier.html" title="Fichier en lecture Cette classe est a la classe C++ ifstream ce que la classe Entree est a la classe ...">EFichier</a> fic(nom1);
<a name="l00174"></a>00174   fic.<a class="code" href="classEntree.html#a8eb17df69e13b62024c8783f0dd99565" title="indique si le stream doit verifier les types des objets lus&lt;br&gt;(ints et nombres flottants). Exemple : l&#39;entree contient 123.456 123.456 int i; check_types(0); is &gt;&gt; i; // i contient 123 check_types(1); is &gt;&gt; i; // Erreur : on lit la chaine 123.456 et on essaye de la convertir en int Voir operator&gt;&gt;(int &amp;)">set_check_types</a>(1); <span class="comment">//!&lt; Remplace UFichier</span>
<a name="l00175"></a>00175 <span class="comment"></span>  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Reading of the file : &quot;</span> &lt;&lt; nom1 &lt;&lt; finl;
<a name="l00176"></a>00176 <span class="comment">// On definit les bords comme etant des faces de bords de la zone</span>
<a name="l00177"></a>00177 <span class="comment">// On fait Zone --&gt; les_bords</span>
<a name="l00178"></a>00178 <span class="comment">// </span>
<a name="l00179"></a>00179   <a class="code" href="classBords.html" title="Classe Bords Cette classe represente une liste d&#39;objets de type Bord.">Bords</a>&amp; les_bords=la_zone.<a class="code" href="classZone.html#a4bc04163903c004c5c1383eaa5fa844d" title="Renvoie la liste des bords de la zone. (version const)">faces_bord</a>();
<a name="l00180"></a>00180 <span class="comment">// </span>
<a name="l00181"></a>00181 <span class="comment">// Ici, on associe les bords a la zone (on se refere a la_zone)</span>
<a name="l00182"></a>00182 <span class="comment">// On fait les_bords --&gt; Zone</span>
<a name="l00183"></a>00183 <span class="comment">// </span>
<a name="l00184"></a>00184   les_bords.<a class="code" href="classBords.html#a1775d9d5284e346393210199208b46c9" title="Associe une zone a tous les bords de la liste.">associer_zone</a>(la_zone);
<a name="l00185"></a>00185 <span class="comment">// </span>
<a name="l00186"></a>00186   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_bord=<span class="stringliteral">&quot;Bord&quot;</span>;
<a name="l00187"></a>00187 <span class="comment">// </span>
<a name="l00188"></a>00188 <span class="comment">// On affecte les bords :</span>
<a name="l00189"></a>00189 <span class="comment">// </span>
<a name="l00190"></a>00190   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> k=0; k&lt;NGROUPE; k++)
<a name="l00191"></a>00191     {
<a name="l00192"></a>00192       fic &gt;&gt; nom_bord;
<a name="l00193"></a>00193       <a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>&amp; nouveau=les_bords.<a class="code" href="classList__Bord.html#a61386a2f94d915253bcec812ce0735c3">add</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>());
<a name="l00194"></a>00194 <span class="comment">// </span>
<a name="l00195"></a>00195       nouveau.<a class="code" href="classFrontiere.html#a714e3cc26d7e59f3a65d80de23ea21ac" title="Donne un nom a la frontiere.">nommer</a>(nom_bord);
<a name="l00196"></a>00196       nouveau.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(<a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a8d0ad1b612ea277393c4ce895b4ce0af">Faces::triangle_3D</a>);
<a name="l00197"></a>00197 <span class="comment">// </span>
<a name="l00198"></a>00198       nouveau.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#aa3112928fe6cd95eb6c3394fd53c3cb1" title="(Re-)dimensionne les faces On redimensionne les voisins en consequence. Les sommets implicitement ajo...">dimensionner</a>(NGELEM[k]);
<a name="l00199"></a>00199 <span class="comment">// </span>
<a name="l00200"></a>00200       <span class="keywordtype">int</span> num;
<a name="l00201"></a>00201       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;NGELEM[k]; j++)
<a name="l00202"></a>00202         {
<a name="l00203"></a>00203 <span class="comment">// </span>
<a name="l00204"></a>00204 <span class="comment">// ATTENTION : Inversion des indices entre le tableau Fortran et C++</span>
<a name="l00205"></a>00205 <span class="comment">// </span>
<a name="l00206"></a>00206 <span class="comment">// GF renumerotation dans lire_ideas.f maintenant...</span>
<a name="l00207"></a>00207 <span class="comment">// </span>
<a name="l00208"></a>00208 <span class="comment">// num=GROUP(j,k)-1-NTETRA;</span>
<a name="l00209"></a>00209           num=GROUP(j,k)-1;
<a name="l00210"></a>00210           nouveau.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(j,0)= FACB(0,num)-1;
<a name="l00211"></a>00211           nouveau.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(j,1)= FACB(1,num)-1;
<a name="l00212"></a>00212           nouveau.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(j,2)= FACB(2,num)-1;
<a name="l00213"></a>00213         }
<a name="l00214"></a>00214       nouveau.<a class="code" href="classFrontiere.html#af927b5d4fc1fd086ba91e916f61badee" title="Associe la frontiere a la zone dont elle depend.">associer_zone</a>(la_zone);
<a name="l00215"></a>00215     }
<a name="l00216"></a>00216 <span class="comment">// </span>
<a name="l00217"></a>00217   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Completing the assignment of the boundary faces&quot;</span> &lt;&lt; finl;
<a name="l00218"></a>00218 <span class="comment">// </span>
<a name="l00219"></a>00219   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Exit of Lire_Ideas &quot;</span> &lt;&lt; finl;
<a name="l00220"></a>00220 <span class="comment">// </span>
<a name="l00221"></a>00221   la_zone.<a class="code" href="classZone.html#a4e43597ed27e689e989d3ea8528fbbdb">fixer_premieres_faces_frontiere</a>();
<a name="l00222"></a>00222 
<a name="l00223"></a>00223   <a class="code" href="classScatter.html#a1874139ffd29d5a68191bc7828d3a5bd" title="cree des descripteurs sequentiels pour les tableaux sommets et elements du domaine (necessaire car Sc...">Scatter::init_sequential_domain</a>(dom);
<a name="l00224"></a>00224   <span class="keywordflow">return</span> is;
<a name="l00225"></a>00225 }
<a name="l00226"></a>00226 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:19 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
