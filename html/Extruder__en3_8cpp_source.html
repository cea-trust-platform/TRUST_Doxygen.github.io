<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Geometrie/Extruder_en3.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Geometrie/Extruder_en3.cpp</div>  </div>
</div>
<div class="contents">
<a href="Extruder__en3_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2019, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Extruder_en3.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Geometrie</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/23</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Extruder__en3_8h.html">Extruder_en3.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Domaine_8h.html">Domaine.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Static__Int__Lists_8h.html">Static_Int_Lists.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Connectivite__som__elem_8h.html">Connectivite_som_elem.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Faces__builder_8h.html">Faces_builder.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Scatter_8h.html">Scatter.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Param_8h.html">Param.h</a>&gt;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a><a class="code" href="Extruder__en3_8cpp.html#aede95f65bf8ceb07e817ebbc9b104422">00031</a> <a class="code" href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a>(<a class="code" href="classExtruder__en3.html" title="Classe Extruder_en3 Cette classe est un interprete qui sert a lire et executer la directive Extruder_...">Extruder_en3</a>,<span class="stringliteral">&quot;Extruder_en3&quot;</span>,<a class="code" href="classInterprete__geometrique__base.html" title="classe Interprete_geometrique_base .">Interprete_geometrique_base</a>);
<a name="l00032"></a>00032 
<a name="l00033"></a><a class="code" href="classExtruder__en3.html#a857cc7d519a58132e7125f9f108b0b56">00033</a> <a class="code" href="classExtruder__en3.html#a857cc7d519a58132e7125f9f108b0b56">Extruder_en3::Extruder_en3</a>()
<a name="l00034"></a>00034 {
<a name="l00035"></a>00035   <a class="code" href="classExtruder__en3.html#a9e9f8d29886695aba5044fde9229a5b5">nom_dvt_</a> = <span class="stringliteral">&quot;devant&quot;</span>;
<a name="l00036"></a>00036   <a class="code" href="classExtruder__en3.html#a038d0aa6c96e77bc5c3524d437d9c8b2">nom_derriere_</a> = <span class="stringliteral">&quot;derriere&quot;</span>;
<a name="l00037"></a>00037   <a class="code" href="classExtruder__en3.html#ab0beca304a6ca0a225198720f8a4a6f8">direction_</a>.<a class="code" href="classArrOfDouble.html#aa5d7035f2e4f451c484aabd5dffb873b" title="appel a ArrOfDouble::resize_array()">resize</a>(3,<a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l00038"></a>00038 }
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">// Precondition:</span>
<a name="l00041"></a>00041 <span class="comment">// Parametre: Sortie&amp; os</span>
<a name="l00042"></a>00042 <span class="comment">// Signification: un flot de sortie</span>
<a name="l00043"></a>00043 <span class="comment">// Valeurs par defaut:</span>
<a name="l00044"></a>00044 <span class="comment">// Contraintes:</span>
<a name="l00045"></a>00045 <span class="comment">// Acces: entree/sortie</span>
<a name="l00046"></a>00046 <span class="comment">// Exception:</span>
<a name="l00047"></a>00047 <span class="comment">// Effets de bord:</span>
<a name="l00048"></a>00048 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00049"></a>00049 <span class="comment">//</span><span class="comment"></span>
<a name="l00050"></a>00050 <span class="comment">//! Simple appel a: Interprete::printOn(Sortie\&amp;)</span>
<a name="l00051"></a>00051 <span class="comment"></span><span class="comment">/** \return Sortie\&amp;&lt;br&gt;</span>
<a name="l00052"></a>00052 <span class="comment">Signification: le flot de sortie modifie&lt;br&gt;</span>
<a name="l00053"></a>00053 <span class="comment">Contraintes: */</span>
<a name="l00054"></a><a class="code" href="classExtruder__en3.html#a2103752c92cb708e8395f7872492ef6a">00054</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classExtruder__en3.html#a2103752c92cb708e8395f7872492ef6a" title="Simple appel a: Interprete::printOn(Sortie&amp;)">Extruder_en3::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00055"></a>00055 <span class="keyword"></span>{
<a name="l00056"></a>00056   <span class="keywordflow">return</span> <a class="code" href="classExtruder__en3.html#a2103752c92cb708e8395f7872492ef6a" title="Simple appel a: Interprete::printOn(Sortie&amp;)">Interprete::printOn</a>(os);
<a name="l00057"></a>00057 }
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="comment">// Precondition:</span>
<a name="l00061"></a>00061 <span class="comment">// Parametre: Entree&amp; is</span>
<a name="l00062"></a>00062 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00063"></a>00063 <span class="comment">// Valeurs par defaut:</span>
<a name="l00064"></a>00064 <span class="comment">// Contraintes:</span>
<a name="l00065"></a>00065 <span class="comment">// Acces: entree/sortie</span>
<a name="l00066"></a>00066 <span class="comment">// Exception:</span>
<a name="l00067"></a>00067 <span class="comment">// Effets de bord:</span>
<a name="l00068"></a>00068 <span class="comment">// Postcondition:</span>
<a name="l00069"></a>00069 <span class="comment">//</span><span class="comment"></span>
<a name="l00070"></a>00070 <span class="comment">//! Simple appel a: Interprete::readOn(Entree\&amp;)</span>
<a name="l00071"></a>00071 <span class="comment"></span><span class="comment">/** \return Entree\&amp;&lt;br&gt;</span>
<a name="l00072"></a>00072 <span class="comment">Signification: le flot d&#39;entree modifie&lt;br&gt;</span>
<a name="l00073"></a>00073 <span class="comment">Contraintes: */</span>
<a name="l00074"></a><a class="code" href="classExtruder__en3.html#a5564fba4ea4258d1c97a2774dce275f6">00074</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classExtruder__en3.html#a5564fba4ea4258d1c97a2774dce275f6" title="Simple appel a: Interprete::readOn(Entree&amp;)">Extruder_en3::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00075"></a>00075 {
<a name="l00076"></a>00076   <span class="keywordflow">return</span> <a class="code" href="classExtruder__en3.html#a5564fba4ea4258d1c97a2774dce275f6" title="Simple appel a: Interprete::readOn(Entree&amp;)">Interprete::readOn</a>(is);
<a name="l00077"></a>00077 }
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="comment">// Precondition: on doit etre en 2D (dimension d&#39;espace=2)</span>
<a name="l00081"></a>00081 <span class="comment">// Parametre: Entree&amp; is</span>
<a name="l00082"></a>00082 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00083"></a>00083 <span class="comment">// Valeurs par defaut:</span>
<a name="l00084"></a>00084 <span class="comment">// Contraintes:</span>
<a name="l00085"></a>00085 <span class="comment">// Acces: entree/sortie</span>
<a name="l00086"></a>00086 <span class="comment">// Exception: l&#39;objet a mailler n&#39;est pas du type Domaine</span>
<a name="l00087"></a>00087 <span class="comment">// Effets de bord:</span>
<a name="l00088"></a>00088 <span class="comment">// Postcondition:</span>
<a name="l00089"></a>00089 <span class="comment">//</span>
<a name="l00090"></a>00090 <span class="comment">//</span>
<a name="l00091"></a>00091 <span class="comment">//</span>
<a name="l00092"></a>00092 <span class="comment">//</span>
<a name="l00093"></a>00093 <span class="comment">//</span>
<a name="l00094"></a>00094 <span class="comment">//</span>
<a name="l00095"></a>00095 <span class="comment">//</span><span class="comment"></span>
<a name="l00096"></a>00096 <span class="comment">//! Fonction principale de l&#39;interprete Extruder_en3&lt;br&gt;Triangule 1 a 1 toutes les zones du domaine&lt;br&gt;specifie par la directive.&lt;br&gt;On triangule la zone grace a la methode:&lt;br&gt;void Extruder_en3::extruder(Zone\&amp; zone) const&lt;br&gt;Extruder_en3 signifie ici transformer en triangle des&lt;br&gt;elements geometrique d&#39;une zone.</span>
<a name="l00097"></a>00097 <span class="comment"></span><span class="comment">/** \return Entree\&amp;&lt;br&gt;</span>
<a name="l00098"></a>00098 <span class="comment">Signification: le flot d&#39;entree&lt;br&gt;</span>
<a name="l00099"></a>00099 <span class="comment">Contraintes: */</span>
<a name="l00100"></a><a class="code" href="classExtruder__en3.html#a09cb6ea0e00459fed63631d67b8f5eee">00100</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classExtruder__en3.html#a09cb6ea0e00459fed63631d67b8f5eee" title="Fonction principale de l&#39;interprete Extruder_en3 Triangule 1 a 1 toutes les zones du domaine specifie...">Extruder_en3::interpreter_</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00101"></a>00101 {
<a name="l00102"></a>00102   <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>!=2)
<a name="l00103"></a>00103     {
<a name="l00104"></a>00104       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; We only can extruder_en3 the 2D meshes ! &quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00105"></a>00105       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00106"></a>00106     }
<a name="l00107"></a>00107 
<a name="l00108"></a>00108   <span class="keywordtype">int</span> nb_dom=0;
<a name="l00109"></a>00109   <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> nom_dom;
<a name="l00110"></a>00110   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The format has changed after the 1.5.3. A list of domains must now be readen as follows :&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00111"></a>00111   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;domaine N dom1 dom2 domN&quot;</span> &lt;&lt; finl;
<a name="l00112"></a>00112   <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>());
<a name="l00113"></a>00113   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;domaine&quot;</span>,&amp;nom_dom,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>);
<a name="l00114"></a>00114   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;nb_tranches&quot;</span>,&amp;<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>);
<a name="l00115"></a>00115   param.<a class="code" href="classParam.html#adcb07d363043552750b5cbca934ba015">ajouter_arr_size_predefinie</a>(<span class="stringliteral">&quot;direction&quot;</span>,&amp;<a class="code" href="classExtruder__en3.html#ab0beca304a6ca0a225198720f8a4a6f8">direction_</a>,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>);
<a name="l00116"></a>00116   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;nom_cl_devant&quot;</span>,&amp;<a class="code" href="classExtruder__en3.html#a9e9f8d29886695aba5044fde9229a5b5">nom_dvt_</a>);
<a name="l00117"></a>00117   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;nom_cl_derriere&quot;</span>,&amp;<a class="code" href="classExtruder__en3.html#a038d0aa6c96e77bc5c3524d437d9c8b2">nom_derriere_</a>);
<a name="l00118"></a>00118   param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00119"></a>00119   nb_dom=nom_dom.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>();
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 <span class="comment">// creation du tableau de correspondance des indices</span>
<a name="l00122"></a>00122 <span class="comment">// pour assurer le decoupage conforme entre domaines</span>
<a name="l00123"></a>00123 <span class="comment">//</span>
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="comment">// PQ : 07/09/08 : le decoupage des prismes apres extrusion est base sur une numerotation</span>
<a name="l00126"></a>00126 <span class="comment">// globale des indices qui permet d&#39;assurer la conformite des maillages. Ces indices references</span>
<a name="l00127"></a>00127 <span class="comment">// dans le tableau nums sont issus du regroupement des domaines en un seul suivant la methode</span>
<a name="l00128"></a>00128 <span class="comment">// se trouvant dans Mailler.cpp.</span>
<a name="l00129"></a>00129 <span class="comment">// On procede par concatenation des domaines dans &quot;dom_tot&quot; de maniere a ne pas interferer</span>
<a name="l00130"></a>00130 <span class="comment">// avec les domaines et les zones d&#39;origines.</span>
<a name="l00131"></a>00131 
<a name="l00132"></a>00132   <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a> dom_tot;
<a name="l00133"></a>00133   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;nb_dom; i++)
<a name="l00134"></a>00134     {
<a name="l00135"></a>00135 <span class="comment">// on parcourt les domaines a l&#39;envers pour retrouver l&#39;ancien comportement</span>
<a name="l00136"></a>00136       <a class="code" href="classInterprete__geometrique__base.html#ac0d2fd316a4bb1585ec579f473684caa">associer_domaine</a>(nom_dom[nb_dom-1-i]);
<a name="l00137"></a>00137       <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domi=<a class="code" href="classInterprete__geometrique__base.html#adeeb544dc732989761fb466c0d9cbcbe">domaine</a>(i);
<a name="l00138"></a>00138       <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone_tot=dom_tot.<a class="code" href="classDomaine.html#a6204a2b89860bfd74ca2858d1d8750bf" title="Ajoute une Sous_Zone au domaine.">add</a>(domi.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0));
<a name="l00139"></a>00139       zone_tot.<a class="code" href="classZone.html#a68a215145852861f2d513c959f52a1a5" title="Specifie le domaine dont la zone fait partie.">associer_domaine</a>(dom_tot);
<a name="l00140"></a>00140       <span class="keywordtype">int</span> nb_som=domi.<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>().<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00141"></a>00141       <a class="code" href="classIntVect.html">IntVect</a> num(nb_som);
<a name="l00142"></a>00142       dom_tot.<a class="code" href="classDomaine.html#a9e067ee24e1952315722374190c8cb06" title="Ajoute des noeuds au domaine avec elimination des noeuds double au retour nums contient les nouveaux ...">ajouter</a>(domi.<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>(), num);
<a name="l00143"></a>00143       zone_tot.<a class="code" href="classZone.html#ade842749f28689fdf39c3a5ea2757e3f" title="Renumerotation des noeuds: Le noeud de numero k devient le noeud de numero Les_Nums[k].">renum</a>(num);
<a name="l00144"></a>00144       zone_tot.<a class="code" href="classZone.html#a68a215145852861f2d513c959f52a1a5" title="Specifie le domaine dont la zone fait partie.">associer_domaine</a>(dom_tot);
<a name="l00145"></a>00145       <a class="code" href="classScatter.html#a8cf934a9b5f7ecb7ef89f61c09804f45" title="methode utilisee par les interpretes qui modifient le domaine&lt;br&gt;(sequentiel), detruit les descripteu...">Scatter::uninit_sequential_domain</a>(dom_tot);
<a name="l00146"></a>00146       dom_tot.<a class="code" href="classDomaine.html#a17683d925e73c1d37ddd8cd433993a12" title="Rassemble les Zones de meme type.">comprimer</a>();
<a name="l00147"></a>00147       dom_tot.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#a4e43597ed27e689e989d3ea8528fbbdb">fixer_premieres_faces_frontiere</a>();
<a name="l00148"></a>00148       dom_tot.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classElem__geom.html#a52107168bd97e24d851ca5f667c575e5" title="Appel a l&#39;objet sous-jacent Associe l&#39;element geometrique a sa zone.">associer_zone</a>(dom_tot.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0));
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 <span class="comment">//</span>
<a name="l00151"></a>00151 <span class="comment">// extrusion des domaines</span>
<a name="l00152"></a>00152 <span class="comment">//</span>
<a name="l00153"></a>00153       <a class="code" href="classScatter.html#a8cf934a9b5f7ecb7ef89f61c09804f45" title="methode utilisee par les interpretes qui modifient le domaine&lt;br&gt;(sequentiel), detruit les descripteu...">Scatter::uninit_sequential_domain</a>(domi);
<a name="l00154"></a>00154       <a class="code" href="classExtruder__en3.html#a45f6e71cc0fc1edef2b693b17b26be0c" title="Extrusion d&#39;un domaine surfacique.">extruder</a>(domi,num);
<a name="l00155"></a>00155       <a class="code" href="classScatter.html#a1874139ffd29d5a68191bc7828d3a5bd" title="cree des descripteurs sequentiels pour les tableaux sommets et elements du domaine (necessaire car Sc...">Scatter::init_sequential_domain</a>(domi);
<a name="l00156"></a>00156     }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158   <span class="keywordflow">return</span> is;
<a name="l00159"></a>00159 }
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 <span class="comment">//</span><span class="comment"></span>
<a name="l00162"></a>00162 <span class="comment">//! Extrusion d&#39;un domaine surfacique</span>
<a name="l00163"></a><a class="code" href="classExtruder__en3.html#a45f6e71cc0fc1edef2b693b17b26be0c">00163</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classExtruder__en3.html#a45f6e71cc0fc1edef2b693b17b26be0c" title="Extrusion d&#39;un domaine surfacique.">Extruder_en3::extruder</a>(<a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; num)
<a name="l00164"></a>00164 {
<a name="l00165"></a>00165   <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone = dom.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
<a name="l00166"></a>00166   <span class="keywordflow">if</span>(zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>()-&gt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() == <span class="stringliteral">&quot;Triangle&quot;</span>)
<a name="l00167"></a>00167     {
<a name="l00168"></a>00168       <span class="keywordtype">int</span> oldnbsom = zone.<a class="code" href="classZone.html#ad340f571f81fa5c2e028b88c00b5c2ca" title="Renvoie le nombre de sommets de la zone.">nb_som</a>();
<a name="l00169"></a>00169       <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; les_elems=zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
<a name="l00170"></a>00170       <span class="keywordtype">int</span> oldsz=les_elems.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00171"></a>00171       <span class="keywordtype">double</span> dx = <a class="code" href="classExtruder__en3.html#ab0beca304a6ca0a225198720f8a4a6f8">direction_</a>(0)/<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>;
<a name="l00172"></a>00172       <span class="keywordtype">double</span> dy = <a class="code" href="classExtruder__en3.html#ab0beca304a6ca0a225198720f8a4a6f8">direction_</a>(1)/<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>;
<a name="l00173"></a>00173       <span class="keywordtype">double</span> dz = <a class="code" href="classExtruder__en3.html#ab0beca304a6ca0a225198720f8a4a6f8">direction_</a>(2)/<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>;
<a name="l00174"></a>00174 
<a name="l00175"></a>00175       <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a> les_faces;
<a name="l00176"></a>00176       {
<a name="l00177"></a>00177 <span class="comment">// bloc a factoriser avec Zone_VF.cpp :</span>
<a name="l00178"></a>00178         <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a> type_face = zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classElem__geom.html#a80ae8c21d0d7e74956065006519370c6" title="Appel a l&#39;objet sous-jacent Renvoie le i-eme type de face de l&#39;element geometrique.">type_face</a>(0);
<a name="l00179"></a>00179         les_faces.<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(type_face);
<a name="l00180"></a>00180         les_faces.<a class="code" href="classFaces.html#a1f8132799487789d4670795c2dbeaa5d" title="Associe les faces a une Zone.">associer_zone</a>(zone);
<a name="l00181"></a>00181 
<a name="l00182"></a>00182         <a class="code" href="classStatic__Int__Lists.html" title="Cette classe permet de stocker des listes d&#39;entiers accessibles en temps constant. La taille des listes ne peut pas changer sans perdre le contenu (ce sont des listes statiques). Exemple: Static_Int_List l; ArrOfInt tailles(3); tailles[0] = 2; tailles[1] = 3; tailles[2] = 0; // On reserve la memoire pour trois listes de taille 2, 3 et 0: l.set_list_sizes(tailles); // On affecte une valeur au deuxieme element de la premiere liste: l.set_value(0,1,765); // Affiche la valeur Cout &lt;&lt; l(0,1);.">Static_Int_Lists</a> connectivite_som_elem;
<a name="l00183"></a>00183         <span class="keyword">const</span> <span class="keywordtype">int</span>     nb_sommets_tot = zone.<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a394e61cf1993665886de0fbbd0c0178e" title="Renvoie le nombre total de sommets.">nb_som_tot</a>();
<a name="l00184"></a>00184         <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;    elements       = zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
<a name="l00185"></a>00185 
<a name="l00186"></a>00186         <a class="code" href="Connectivite__som__elem_8cpp.html#a82161461a228e43ae236c31101ff3ce6" title="construction de la structure som_elem pour la zone donnee On cree pour chaque sommet i la liste des e...">construire_connectivite_som_elem</a>(nb_sommets_tot,
<a name="l00187"></a>00187                                          elements,
<a name="l00188"></a>00188                                          connectivite_som_elem,
<a name="l00189"></a>00189                                          1 <span class="comment">/* include virtual elements */</span>);
<a name="l00190"></a>00190 
<a name="l00191"></a>00191         <a class="code" href="classFaces__builder.html">Faces_builder</a> faces_builder;
<a name="l00192"></a>00192         <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> elem_faces; <span class="comment">//!&lt; Tableau dont on aura pas besoin</span>
<a name="l00193"></a>00193 <span class="comment"></span>        faces_builder.<a class="code" href="classFaces__builder.html#a5b48ba95888da226cbf702f677656ff6" title="A partir de la description des elements de la zone et des frontieres&lt;br&gt;(bords, raccords, faces internes et joints) : Remplissage des structures suivantes: - pour les frontieres de la zone: fixer_num_premiere_face - les_faces.faces_sommets (faces reeles) - les_faces.faces_voisins (faces reeles) - elem_faces (pour les faces reeles des elements reels) (on initialise elem_faces de taille nb_elem_reels, nb_faces_par_elem) - joints.items_communs(FACE)">creer_faces_reeles</a>(zone,
<a name="l00194"></a>00194                                          connectivite_som_elem,
<a name="l00195"></a>00195                                          les_faces,
<a name="l00196"></a>00196                                          elem_faces);
<a name="l00197"></a>00197       }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199       <span class="keywordtype">int</span> newnbsom = oldnbsom*(<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>+1);
<a name="l00200"></a>00200       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> new_soms(newnbsom, 3);
<a name="l00201"></a>00201       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord_sommets=dom.<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>();
<a name="l00202"></a>00202       <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>=3;
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="comment">// les sommets du maillage 2D sont translates en premier</span>
<a name="l00205"></a>00205       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;oldnbsom; i++)
<a name="l00206"></a>00206         {
<a name="l00207"></a>00207           <span class="keywordtype">double</span> x = coord_sommets(i,0);
<a name="l00208"></a>00208           <span class="keywordtype">double</span> y = coord_sommets(i,1);
<a name="l00209"></a>00209           <span class="keywordtype">double</span> z=0.;
<a name="l00210"></a>00210           <span class="keywordflow">if</span> (coord_sommets.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1)&gt;2)
<a name="l00211"></a>00211             z=coord_sommets(i,2);
<a name="l00212"></a>00212           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;=<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>; k++)
<a name="l00213"></a>00213             {
<a name="l00214"></a>00214               new_soms(k*oldnbsom+i,0)=x;
<a name="l00215"></a>00215               new_soms(k*oldnbsom+i,1)=y;
<a name="l00216"></a>00216               new_soms(k*oldnbsom+i,2)=z;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218               x += dx;
<a name="l00219"></a>00219               y += dy;
<a name="l00220"></a>00220               z += dz;
<a name="l00221"></a>00221             }
<a name="l00222"></a>00222         }
<a name="l00223"></a>00223 
<a name="l00224"></a>00224       coord_sommets.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0);
<a name="l00225"></a>00225       dom.<a class="code" href="classDomaine.html#a9e067ee24e1952315722374190c8cb06" title="Ajoute des noeuds au domaine avec elimination des noeuds double au retour nums contient les nouveaux ...">ajouter</a>(new_soms);
<a name="l00226"></a>00226 
<a name="l00227"></a>00227       <span class="keywordtype">int</span> newnbelem = 3*<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>*oldsz;
<a name="l00228"></a>00228       <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> new_elems(newnbelem, 4); <span class="comment">//!&lt; les nouveaux elements</span>
<a name="l00229"></a>00229 <span class="comment"></span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;oldsz; i++)
<a name="l00230"></a>00230         {
<a name="l00231"></a>00231           <span class="keywordtype">int</span> i1=les_elems(i,0);
<a name="l00232"></a>00232           <span class="keywordtype">int</span> i2=les_elems(i,1);
<a name="l00233"></a>00233           <span class="keywordtype">int</span> i3=les_elems(i,2);
<a name="l00234"></a>00234 
<a name="l00235"></a>00235           <span class="keywordtype">int</span> ii1 = num[i1];
<a name="l00236"></a>00236           <span class="keywordtype">int</span> ii2 = num[i2];
<a name="l00237"></a>00237           <span class="keywordtype">int</span> ii3 = num[i3];
<a name="l00238"></a>00238           <span class="keywordtype">int</span> i4=i1+oldnbsom;
<a name="l00239"></a>00239           <span class="keywordtype">int</span> i5=i2+oldnbsom;
<a name="l00240"></a>00240           <span class="keywordtype">int</span> i6=i3+oldnbsom;
<a name="l00241"></a>00241 
<a name="l00242"></a>00242           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>; k++)
<a name="l00243"></a>00243             {
<a name="l00244"></a>00244               <span class="keywordtype">int</span> j=3*k*oldsz+3*i;
<a name="l00245"></a>00245               <span class="keywordflow">if</span> (ii1&gt;ii2 &amp;&amp; ii1&gt;ii3)
<a name="l00246"></a>00246                 {
<a name="l00247"></a>00247                   new_elems(j,0) = i1;
<a name="l00248"></a>00248                   new_elems(j,1) = i2;
<a name="l00249"></a>00249                   new_elems(j,2) = i3;
<a name="l00250"></a>00250                   new_elems(j,3) = i4;
<a name="l00251"></a>00251                   <span class="keywordflow">if</span> (ii3&gt;ii2)
<a name="l00252"></a>00252                     {
<a name="l00253"></a>00253                       new_elems(j+1,0) = i2;
<a name="l00254"></a>00254                       new_elems(j+1,1) = i3;
<a name="l00255"></a>00255                       new_elems(j+1,2) = i4;
<a name="l00256"></a>00256                       new_elems(j+1,3) = i6;
<a name="l00257"></a>00257 
<a name="l00258"></a>00258                       new_elems(j+2,0) = i2;
<a name="l00259"></a>00259                       new_elems(j+2,1) = i4;
<a name="l00260"></a>00260                       new_elems(j+2,2) = i5;
<a name="l00261"></a>00261                       new_elems(j+2,3) = i6;
<a name="l00262"></a>00262                     }
<a name="l00263"></a>00263                   <span class="keywordflow">else</span>
<a name="l00264"></a>00264                     {
<a name="l00265"></a>00265                       new_elems(j+1,0) = i2;
<a name="l00266"></a>00266                       new_elems(j+1,1) = i3;
<a name="l00267"></a>00267                       new_elems(j+1,2) = i4;
<a name="l00268"></a>00268                       new_elems(j+1,3) = i5;
<a name="l00269"></a>00269 
<a name="l00270"></a>00270                       new_elems(j+2,0) = i3;
<a name="l00271"></a>00271                       new_elems(j+2,1) = i4;
<a name="l00272"></a>00272                       new_elems(j+2,2) = i5;
<a name="l00273"></a>00273                       new_elems(j+2,3) = i6;
<a name="l00274"></a>00274                     }
<a name="l00275"></a>00275                 }
<a name="l00276"></a>00276 
<a name="l00277"></a>00277               <span class="keywordflow">if</span> (ii2&gt;ii1 &amp;&amp; ii2&gt;ii3)
<a name="l00278"></a>00278                 {
<a name="l00279"></a>00279                   new_elems(j,0) = i1;
<a name="l00280"></a>00280                   new_elems(j,1) = i2;
<a name="l00281"></a>00281                   new_elems(j,2) = i3;
<a name="l00282"></a>00282                   new_elems(j,3) = i5;
<a name="l00283"></a>00283                   <span class="keywordflow">if</span> (ii1&gt;ii3)
<a name="l00284"></a>00284                     {
<a name="l00285"></a>00285                       new_elems(j+1,0) = i1;
<a name="l00286"></a>00286                       new_elems(j+1,1) = i3;
<a name="l00287"></a>00287                       new_elems(j+1,2) = i4;
<a name="l00288"></a>00288                       new_elems(j+1,3) = i5;
<a name="l00289"></a>00289 
<a name="l00290"></a>00290                       new_elems(j+2,0) = i3;
<a name="l00291"></a>00291                       new_elems(j+2,1) = i4;
<a name="l00292"></a>00292                       new_elems(j+2,2) = i5;
<a name="l00293"></a>00293                       new_elems(j+2,3) = i6;
<a name="l00294"></a>00294                     }
<a name="l00295"></a>00295                   <span class="keywordflow">else</span>
<a name="l00296"></a>00296                     {
<a name="l00297"></a>00297                       new_elems(j+1,0) = i1;
<a name="l00298"></a>00298                       new_elems(j+1,1) = i3;
<a name="l00299"></a>00299                       new_elems(j+1,2) = i5;
<a name="l00300"></a>00300                       new_elems(j+1,3) = i6;
<a name="l00301"></a>00301 
<a name="l00302"></a>00302                       new_elems(j+2,0) = i1;
<a name="l00303"></a>00303                       new_elems(j+2,1) = i4;
<a name="l00304"></a>00304                       new_elems(j+2,2) = i5;
<a name="l00305"></a>00305                       new_elems(j+2,3) = i6;
<a name="l00306"></a>00306                     }
<a name="l00307"></a>00307                 }
<a name="l00308"></a>00308 
<a name="l00309"></a>00309               <span class="keywordflow">if</span> (ii3&gt;ii1 &amp;&amp; ii3&gt;ii2)
<a name="l00310"></a>00310                 {
<a name="l00311"></a>00311                   new_elems(j,0) = i1;
<a name="l00312"></a>00312                   new_elems(j,1) = i2;
<a name="l00313"></a>00313                   new_elems(j,2) = i3;
<a name="l00314"></a>00314                   new_elems(j,3) = i6;
<a name="l00315"></a>00315                   <span class="keywordflow">if</span> (ii2&gt;ii1)
<a name="l00316"></a>00316                     {
<a name="l00317"></a>00317                       new_elems(j+1,0) = i1;
<a name="l00318"></a>00318                       new_elems(j+1,1) = i2;
<a name="l00319"></a>00319                       new_elems(j+1,2) = i5;
<a name="l00320"></a>00320                       new_elems(j+1,3) = i6;
<a name="l00321"></a>00321 
<a name="l00322"></a>00322                       new_elems(j+2,0) = i1;
<a name="l00323"></a>00323                       new_elems(j+2,1) = i4;
<a name="l00324"></a>00324                       new_elems(j+2,2) = i5;
<a name="l00325"></a>00325                       new_elems(j+2,3) = i6;
<a name="l00326"></a>00326                     }
<a name="l00327"></a>00327                   <span class="keywordflow">else</span>
<a name="l00328"></a>00328                     {
<a name="l00329"></a>00329                       new_elems(j+1,0) = i1;
<a name="l00330"></a>00330                       new_elems(j+1,1) = i2;
<a name="l00331"></a>00331                       new_elems(j+1,2) = i4;
<a name="l00332"></a>00332                       new_elems(j+1,3) = i6;
<a name="l00333"></a>00333 
<a name="l00334"></a>00334                       new_elems(j+2,0) = i2;
<a name="l00335"></a>00335                       new_elems(j+2,1) = i4;
<a name="l00336"></a>00336                       new_elems(j+2,2) = i5;
<a name="l00337"></a>00337                       new_elems(j+2,3) = i6;
<a name="l00338"></a>00338                     }
<a name="l00339"></a>00339                 }
<a name="l00340"></a>00340 
<a name="l00341"></a>00341               <a class="code" href="classInterprete__geometrique__base.html#a1d3f3df07d1a9abf7f5c55a5c4fbacff">mettre_a_jour_sous_zone</a>(zone,i,j,3);
<a name="l00342"></a>00342               i1+=oldnbsom;
<a name="l00343"></a>00343               i2+=oldnbsom;
<a name="l00344"></a>00344               i3+=oldnbsom;
<a name="l00345"></a>00345               i4+=oldnbsom;
<a name="l00346"></a>00346               i5+=oldnbsom;
<a name="l00347"></a>00347               i6+=oldnbsom;
<a name="l00348"></a>00348             }
<a name="l00349"></a>00349         }
<a name="l00350"></a>00350 <span class="comment">// Reconstruction de l&#39;octree</span>
<a name="l00351"></a>00351       zone.<a class="code" href="classZone.html#a8ee51194c663be29651925c88f904d76">invalide_octree</a>();
<a name="l00352"></a>00352       zone.<a class="code" href="classZone.html#ac1ff391994a372815b7f88c3fdc39f55" title="Type les elements de la zone avec le nom passe en parametre. Et associe le type d&#39;element a la zone...">typer</a>(<span class="stringliteral">&quot;Tetraedre&quot;</span>);
<a name="l00353"></a>00353 
<a name="l00354"></a>00354       les_elems.<a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">ref</a>(new_elems);
<a name="l00355"></a>00355       <a class="code" href="classExtruder__en3.html#a7dd3af4937a4cfaed14dd5e05b54534e" title="Creation des bords du domaine extrude.">construire_bords</a>(dom, les_faces,oldnbsom, oldsz, num);
<a name="l00356"></a>00356     }
<a name="l00357"></a>00357   <span class="keywordflow">else</span>
<a name="l00358"></a>00358     {
<a name="l00359"></a>00359       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;It is not known yet how to extrude &quot;</span>
<a name="l00360"></a>00360            &lt;&lt; zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>()-&gt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt;<span class="stringliteral">&quot;s&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00361"></a>00361     }
<a name="l00362"></a>00362 }
<a name="l00363"></a>00363 
<a name="l00364"></a>00364 <span class="comment">//</span><span class="comment"></span>
<a name="l00365"></a>00365 <span class="comment">//! Creation des bords du domaine extrude</span>
<a name="l00366"></a><a class="code" href="classExtruder__en3.html#a7dd3af4937a4cfaed14dd5e05b54534e">00366</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classExtruder__en3.html#a7dd3af4937a4cfaed14dd5e05b54534e" title="Creation des bords du domaine extrude.">Extruder_en3::construire_bords</a>(<a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom, <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; les_faces, <span class="keywordtype">int</span> oldnbsom, <span class="keywordtype">int</span> oldsz, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; num)
<a name="l00367"></a>00367 {
<a name="l00368"></a>00368   <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone = dom.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
<a name="l00369"></a>00369   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; les_elems=zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
<a name="l00370"></a>00370 <span class="comment">// Les bords:</span>
<a name="l00371"></a>00371   {
<a name="l00372"></a>00372     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>) curseur(zone.<a class="code" href="classZone.html#a4bc04163903c004c5c1383eaa5fa844d" title="Renvoie la liste des bords de la zone. (version const)">faces_bord</a>());
<a name="l00373"></a>00373     <span class="keywordflow">while</span>(curseur)
<a name="l00374"></a>00374       {
<a name="l00375"></a>00375         <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; les_faces_du_bord=curseur-&gt;faces();
<a name="l00376"></a>00376         <a class="code" href="classExtruder__en3.html#a17a39ebb566d11eac106aebd042dd313" title="Creation d&#39;un bord lateral.">construire_bord_lateral</a>(les_faces_du_bord, les_faces, oldnbsom, num);
<a name="l00377"></a>00377         ++curseur;
<a name="l00378"></a>00378       }
<a name="l00379"></a>00379   }
<a name="l00380"></a>00380 <span class="comment">// Les raccords:</span>
<a name="l00381"></a>00381   {
<a name="l00382"></a>00382     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>) curseur(zone.<a class="code" href="classZone.html#ac2a20fe8fa5529c7eefd418b43c0131c" title="Renvoie la liste des racoords de la zone. (version const)">faces_raccord</a>());
<a name="l00383"></a>00383     <span class="keywordflow">while</span>(curseur)
<a name="l00384"></a>00384       {
<a name="l00385"></a>00385         <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; les_faces_du_bord=curseur.valeur()-&gt;faces();
<a name="l00386"></a>00386         <a class="code" href="classExtruder__en3.html#a17a39ebb566d11eac106aebd042dd313" title="Creation d&#39;un bord lateral.">construire_bord_lateral</a>(les_faces_du_bord, les_faces, oldnbsom, num);
<a name="l00387"></a>00387         ++curseur;
<a name="l00388"></a>00388       }
<a name="l00389"></a>00389   }
<a name="l00390"></a>00390 
<a name="l00391"></a>00391 <span class="comment">// Devant</span>
<a name="l00392"></a>00392   <span class="keywordflow">if</span>(<a class="code" href="classExtruder__en3.html#a9e9f8d29886695aba5044fde9229a5b5">nom_dvt_</a>==<span class="stringliteral">&quot;NULL&quot;</span>)
<a name="l00393"></a>00393     {
<a name="l00394"></a>00394       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;We don&#39;t associate any boundary to the front of the domain &quot;</span> &lt;&lt; dom.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00395"></a>00395     }
<a name="l00396"></a>00396   <span class="keywordflow">else</span>
<a name="l00397"></a>00397     {
<a name="l00398"></a>00398       <a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>&amp; devant = zone.<a class="code" href="classZone.html#a4bc04163903c004c5c1383eaa5fa844d" title="Renvoie la liste des bords de la zone. (version const)">faces_bord</a>().<a class="code" href="classList__Bord.html#a61386a2f94d915253bcec812ce0735c3">add</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>());
<a name="l00399"></a>00399       devant.<a class="code" href="classFrontiere.html#a714e3cc26d7e59f3a65d80de23ea21ac" title="Donne un nom a la frontiere.">nommer</a>(<a class="code" href="classExtruder__en3.html#a9e9f8d29886695aba5044fde9229a5b5">nom_dvt_</a>);
<a name="l00400"></a>00400       <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; les_faces_dvt=devant.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>();
<a name="l00401"></a>00401       les_faces_dvt.<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(<a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a8d0ad1b612ea277393c4ce895b4ce0af">Faces::triangle_3D</a>);
<a name="l00402"></a>00402 
<a name="l00403"></a>00403       <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> som_dvt(oldsz, 3);
<a name="l00404"></a>00404       les_faces_dvt.<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>().<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(oldsz, 2);
<a name="l00405"></a>00405       les_faces_dvt.<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>()=-1;
<a name="l00406"></a>00406 
<a name="l00407"></a>00407       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;oldsz; i++)
<a name="l00408"></a>00408         {
<a name="l00409"></a>00409           <span class="keywordtype">int</span> i0=les_elems(3*i,0);
<a name="l00410"></a>00410           <span class="keywordtype">int</span> i1=les_elems(3*i,1);
<a name="l00411"></a>00411           <span class="keywordtype">int</span> i2=les_elems(3*i,2);
<a name="l00412"></a>00412 
<a name="l00413"></a>00413           som_dvt(i,0) = i0;
<a name="l00414"></a>00414           som_dvt(i,1) = i1;
<a name="l00415"></a>00415           som_dvt(i,2) = i2;
<a name="l00416"></a>00416         }
<a name="l00417"></a>00417       les_faces_dvt.<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>().<a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">ref</a>(som_dvt);
<a name="l00418"></a>00418     }
<a name="l00419"></a>00419 
<a name="l00420"></a>00420 <span class="comment">// Derriere</span>
<a name="l00421"></a>00421   <span class="keywordflow">if</span>(<a class="code" href="classExtruder__en3.html#a038d0aa6c96e77bc5c3524d437d9c8b2">nom_derriere_</a>==<span class="stringliteral">&quot;NULL&quot;</span>)
<a name="l00422"></a>00422     {
<a name="l00423"></a>00423       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;We don&#39;t associate any boundary to the back of the domain &quot;</span> &lt;&lt; dom.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00424"></a>00424     }
<a name="l00425"></a>00425   <span class="keywordflow">else</span>
<a name="l00426"></a>00426     {
<a name="l00427"></a>00427       <a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>&amp; derriere = zone.<a class="code" href="classZone.html#a4bc04163903c004c5c1383eaa5fa844d" title="Renvoie la liste des bords de la zone. (version const)">faces_bord</a>().<a class="code" href="classList__Bord.html#a61386a2f94d915253bcec812ce0735c3">add</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>());
<a name="l00428"></a>00428       derriere.<a class="code" href="classFrontiere.html#a714e3cc26d7e59f3a65d80de23ea21ac" title="Donne un nom a la frontiere.">nommer</a>(<a class="code" href="classExtruder__en3.html#a038d0aa6c96e77bc5c3524d437d9c8b2">nom_derriere_</a>);
<a name="l00429"></a>00429       <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; les_faces_der=derriere.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>();
<a name="l00430"></a>00430       les_faces_der.<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(<a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a8d0ad1b612ea277393c4ce895b4ce0af">Faces::triangle_3D</a>);
<a name="l00431"></a>00431 
<a name="l00432"></a>00432       <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> som_der(oldsz, 3);
<a name="l00433"></a>00433       les_faces_der.<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>().<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(oldsz, 2);
<a name="l00434"></a>00434       les_faces_der.<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>()=-1;
<a name="l00435"></a>00435 
<a name="l00436"></a>00436       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;oldsz; i++)
<a name="l00437"></a>00437         {
<a name="l00438"></a>00438           <span class="keywordtype">int</span> i0=les_elems(3*i,0);
<a name="l00439"></a>00439           <span class="keywordtype">int</span> i1=les_elems(3*i,1);
<a name="l00440"></a>00440           <span class="keywordtype">int</span> i2=les_elems(3*i,2);
<a name="l00441"></a>00441 
<a name="l00442"></a>00442           som_der(i,0) = i0+oldnbsom*<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>;
<a name="l00443"></a>00443           som_der(i,1) = i1+oldnbsom*<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>;
<a name="l00444"></a>00444           som_der(i,2) = i2+oldnbsom*<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>;
<a name="l00445"></a>00445         }
<a name="l00446"></a>00446       les_faces_der.<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>().<a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">ref</a>(som_der);
<a name="l00447"></a>00447     }
<a name="l00448"></a>00448 }
<a name="l00449"></a>00449 
<a name="l00450"></a>00450 <span class="comment">//</span><span class="comment"></span>
<a name="l00451"></a>00451 <span class="comment">//! Creation d&#39;un bord lateral</span>
<a name="l00452"></a><a class="code" href="classExtruder__en3.html#a17a39ebb566d11eac106aebd042dd313">00452</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classExtruder__en3.html#a17a39ebb566d11eac106aebd042dd313" title="Creation d&#39;un bord lateral.">Extruder_en3::construire_bord_lateral</a>(<a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; les_faces_du_bord, <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; les_faces, <span class="keywordtype">int</span> oldnbsom, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; num)
<a name="l00453"></a>00453 {
<a name="l00454"></a>00454 <span class="comment">// oldnbsom = number of nodes of the 2D mesh</span>
<a name="l00455"></a>00455   <span class="keywordtype">int</span> nb_faces = les_faces_du_bord.<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>();
<a name="l00456"></a>00456   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> les_sommets(2*nb_faces*<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>,3);
<a name="l00457"></a>00457   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_faces; i++)
<a name="l00458"></a>00458     {
<a name="l00459"></a>00459       <span class="keywordtype">int</span> i0=les_faces_du_bord.<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(i,0);
<a name="l00460"></a>00460       <span class="keywordtype">int</span> i1=les_faces_du_bord.<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(i,1);
<a name="l00461"></a>00461       <span class="keywordtype">int</span> ii0= num[i0];
<a name="l00462"></a>00462       <span class="keywordtype">int</span> ii1= num[i1];
<a name="l00463"></a>00463       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;<a class="code" href="classExtruder__en3.html#a2b9881b4fdb041ae08d7aaeefcf27240">NZ_</a>; k++)
<a name="l00464"></a>00464         {
<a name="l00465"></a>00465           <span class="keywordtype">int</span> j=2*nb_faces*k+2*i;
<a name="l00466"></a>00466 
<a name="l00467"></a>00467           <span class="keywordflow">if</span> (ii0&gt;ii1)
<a name="l00468"></a>00468             {
<a name="l00469"></a>00469               les_sommets(j,0) = i0;
<a name="l00470"></a>00470               les_sommets(j,1) = i1;
<a name="l00471"></a>00471               les_sommets(j,2) = i0+oldnbsom;
<a name="l00472"></a>00472 
<a name="l00473"></a>00473               les_sommets(j+1,0) = i1;
<a name="l00474"></a>00474               les_sommets(j+1,1) = i0+oldnbsom;
<a name="l00475"></a>00475               les_sommets(j+1,2) = i1+oldnbsom;
<a name="l00476"></a>00476             }
<a name="l00477"></a>00477           <span class="keywordflow">else</span>
<a name="l00478"></a>00478             {
<a name="l00479"></a>00479               les_sommets(j,0) = i0;
<a name="l00480"></a>00480               les_sommets(j,1) = i1;
<a name="l00481"></a>00481               les_sommets(j,2) = i1+oldnbsom;
<a name="l00482"></a>00482 
<a name="l00483"></a>00483               les_sommets(j+1,0) = i0;
<a name="l00484"></a>00484               les_sommets(j+1,1) = i0+oldnbsom;
<a name="l00485"></a>00485               les_sommets(j+1,2) = i1+oldnbsom;
<a name="l00486"></a>00486             }
<a name="l00487"></a>00487           i0+=oldnbsom;
<a name="l00488"></a>00488           i1+=oldnbsom;
<a name="l00489"></a>00489         }
<a name="l00490"></a>00490     }
<a name="l00491"></a>00491 
<a name="l00492"></a>00492   les_faces_du_bord.<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(<a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a8d0ad1b612ea277393c4ce895b4ce0af">Faces::triangle_3D</a>);
<a name="l00493"></a>00493   les_faces_du_bord.<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>().<a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">ref</a>(les_sommets);
<a name="l00494"></a>00494   les_faces_du_bord.<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>().<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(2*nb_faces*NZ_, 2);
<a name="l00495"></a>00495   les_faces_du_bord.<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>()=-1;
<a name="l00496"></a>00496 }
<a name="l00497"></a>00497 
<a name="l00498"></a>00498 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:18 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
