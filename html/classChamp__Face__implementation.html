<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: Champ_Face_implementation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">Champ_Face_implementation Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Champ_Face_implementation" --><!-- doxytag: inherits="Champ_implementation" -->
<p><code>#include &lt;<a class="el" href="Champ__Face__implementation_8h_source.html">Champ_Face_implementation.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Champ_Face_implementation:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classChamp__Face__implementation.png" usemap="#Champ_Face_implementation_map" alt=""/>
  <map id="Champ_Face_implementation_map" name="Champ_Face_implementation_map">
<area href="classChamp__implementation.html" alt="Champ_implementation" shape="rect" coords="97,0,282,24"/>
<area href="classChamp__Face.html" title="class Champ_Face Cette classe sert a representer un champ vectoriel dont on ne calcule que les compos..." alt="Champ_Face" shape="rect" coords="0,112,185,136"/>
<area href="classChamp__Fonc__Face.html" title="classe Champ_Fonc_Face" alt="Champ_Fonc_Face" shape="rect" coords="195,112,380,136"/>
<area href="classChamp__Don__Face__lu.html" title="class Champ_Don_Face_lu Cette classe represente un champ de donnees que l&#39;on lit dans un fichier avec..." alt="Champ_Don_Face_lu" shape="rect" coords="0,168,185,192"/>
<area href="classCourant__maille__Champ__Face.html" title="classe Courant_maille_Champ_Face" alt="Courant_maille_Champ_Face" shape="rect" coords="195,168,380,192"/>
<area href="classReynolds__maille__Champ__Face.html" title="classe Reynolds_maille_Champ_Face" alt="Reynolds_maille_Champ_Face" shape="rect" coords="390,168,575,192"/>
</map>
 </div></div>

<p><a href="classChamp__Face__implementation-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#adb4fe3c2c2549b9705b14c9370e0c301">valeur_a_elem</a> (const <a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;position, <a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;val, int le_poly) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#a4342a5570de6192b34831ed7398f1f88">valeur_a_elem_compo</a> (const <a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;position, int le_poly, int ncomp) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#a0232f9b81e7ad90c536fc6e98ee7db06">valeur_aux_elems</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;positions, const <a class="el" href="classIntVect.html">IntVect</a> &amp;les_polys, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;valeurs) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#ad53abeb8ac22090e4c3045d955a19067">valeur_aux_elems_compo</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;positions, const <a class="el" href="classIntVect.html">IntVect</a> &amp;les_polys, <a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;valeurs, int ncomp) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#a59ed479416365c37f24fa9e74053406c">valeur_aux_sommets</a> (const <a class="el" href="classDomaine.html">Domaine</a> &amp;, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#aee6ad96b765346ce81c006575eebe6a8">valeur_aux_sommets_compo</a> (const <a class="el" href="classDomaine.html">Domaine</a> &amp;, <a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;, int) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#ae6e16d08025b98c09f9849295c6a6025">remplir_coord_noeuds</a> (<a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;positions) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#a7453d2f90a710dabf3751105792dd029">remplir_coord_noeuds_et_polys</a> (<a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;positions, <a class="el" href="classIntVect.html">IntVect</a> &amp;polys) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#a3cd1b0b8e7cf82f417bd3414efcf3ec7">imprime_Face</a> (<a class="el" href="classSortie.html">Sortie</a> &amp;, int) const </td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classZone__VDF.html">Zone_VDF</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf</a> () const =0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#ae93905bc0cea24a9fb81168766db2da4">interpolation</a> (const double, const double, const double) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classChamp__Face__implementation.html#a5d04bb68e0ab9465ca475bfa653c83a1">trace</a> (const <a class="el" href="classFrontiere__dis__base.html">Frontiere_dis_base</a> &amp;fr, const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;y, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;x, int distant) const </td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="Champ__Face__implementation_8h_source.html#l00031">31</a> of file <a class="el" href="Champ__Face__implementation_8h_source.html">Champ_Face_implementation.h</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3cd1b0b8e7cf82f417bd3414efcf3ec7"></a><!-- doxytag: member="Champ_Face_implementation::imprime_Face" ref="a3cd1b0b8e7cf82f417bd3414efcf3ec7" args="(Sortie &amp;, int) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Champ_Face_implementation::imprime_Face </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ncomp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00387">387</a> of file <a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a>.</p>

<p>References <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">Champ_implementation::le_champ()</a>, <a class="el" href="Double_8h_source.html#l00199">min()</a>, <a class="el" href="Objet__U_8cpp_source.html#l00310">Objet_U::nom_du_cas()</a>, <a class="el" href="DoubleTab_8cpp_source.html#l00335">DoubleTab::resize()</a>, <a class="el" href="DoubleVect_8h_source.html#l00153">DoubleVect::size()</a>, and <a class="el" href="Champ__base_8cpp_source.html#l00258">Champ_base::valeur_aux_compo()</a>.</p>

<p>Referenced by <a class="el" href="Champ__Fonc__Face_8cpp_source.html#l00098">Champ_Fonc_Face::imprime()</a>, and <a class="el" href="Champ__Face3_8cpp_source.html#l00512">Champ_Face::imprime()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; champ=<a class="code" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">le_champ</a>();
  <span class="keywordtype">int</span> ni,nj,nk=-1;
  <a class="code" href="classIntVect.html">IntVect</a> m(3);
  <span class="keywordtype">int</span> i,j,k;
  <span class="keywordtype">int</span> np,elem;
  <span class="keywordtype">int</span> cmax=7;
  <a class="code" href="classDoubleVect.html">DoubleVect</a> xi,yj,zk;
  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> Grille;
<span class="comment">// Lecture de xi,yj,zk dans un fichier .xiyjzk</span>
  <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nomfic(<a class="code" href="classObjet__U.html#a7c27c4f80259eeef76ff8fe2d3bc61f7" title="Renvoie une reference constante vers le nom du cas. Cette methode est statique.">Objet_U::nom_du_cas</a>());
  nomfic+=<span class="stringliteral">&quot;.xiyjzk&quot;</span>;
  <a class="code" href="classLecFicDiffuse.html" title="Cette classe implemente les operateurs et les methodes virtuelles de la classe EFichier de la facon s...">LecFicDiffuse</a> ficijk(nomfic);
  ficijk &gt;&gt; xi;
  ni=xi.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>();
  ficijk &gt;&gt; yj;
  nj=yj.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>();
  <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>==3)
    {
      ficijk &gt;&gt; zk;
      nk=zk.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>();
    }
  m=1;
  m(ncomp)=0;
  <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>==3)
    {
<span class="comment">// Grille ordonnee sur les faces des elements</span>
      ni-=m(0);
      nj-=m(1);
      nk-=m(2);
      np=ni*nj*nk;
      Grille.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(np,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>);
      <span class="keywordflow">for</span>(k=0; k&lt;nk; k++)
        <span class="keywordflow">for</span>(i=0; i&lt;ni; i++)
          <span class="keywordflow">for</span>(j=0; j&lt;nj; j++)
            {
              elem=j+nj*(i+k*ni);
              <span class="keywordflow">if</span> (ncomp==0)
                Grille(elem,0)=xi(i);
              <span class="keywordflow">else</span>
                Grille(elem,0)=0.5*(xi(i)+xi(i+1));
              <span class="keywordflow">if</span> (ncomp==1)
                Grille(elem,1)=yj(j);
              <span class="keywordflow">else</span>
                Grille(elem,1)=0.5*(yj(j)+yj(j+1));
              <span class="keywordflow">if</span> (ncomp==2)
                Grille(elem,2)=zk(k);
              <span class="keywordflow">else</span>
                Grille(elem,2)=0.5*(zk(k)+zk(k+1));
            }
      <a class="code" href="classDoubleVect.html">DoubleVect</a> valeurs(np);
      champ.<a class="code" href="classChamp__base.html#a19223e49e04226a25264ac573ab390e2" title="Idem que valeur_aux(const DoubleTab &amp;, DoubleTab &amp;), mais calcule uniquement la composante compo du c...">valeur_aux_compo</a>(Grille, valeurs, ncomp);
      <span class="keywordflow">for</span>(k=0; k&lt;nk; k++)
        {
          os &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
          os &lt;&lt; <span class="stringliteral">&quot;Coupe a K= &quot;</span> &lt;&lt; k &lt;&lt; finl;
          <span class="keywordtype">int</span> n1=0,n2=0;
          <span class="keywordflow">while</span> (n2&lt;ni)
            {
              n1=n2;
              n2=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">::min</a>(ni,n2+cmax);
              os &lt;&lt; finl;
              os &lt;&lt; <span class="stringliteral">&quot;I=     &quot;</span>;
              <span class="keywordflow">for</span>(i=n1; i&lt;n2; i++)
                os &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;              &quot;</span>;
              os &lt;&lt; finl;
              <span class="keywordflow">for</span>(j=nj-1; j&gt;-1; j--)
                {
                  os &lt;&lt; <span class="stringliteral">&quot;J= &quot;</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
                  <span class="keywordflow">for</span>(i=n1; i&lt;n2; i++)
                    {
                      elem=j+nj*(i+k*ni);
                      os &lt;&lt; valeurs(elem) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
                    }
                  os &lt;&lt; finl;
                }
            }
        }
    }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>==2)
    {
      ni-=m(0);
      nj-=m(1);
      np=ni*nj;
      Grille.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(np,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>);
      <span class="keywordflow">for</span>(i=0; i&lt;ni; i++)
        <span class="keywordflow">for</span>(j=0; j&lt;nj; j++)
          {
            elem=j+nj*i;
            <span class="keywordflow">if</span> (ncomp==0)
              Grille(elem,0)=xi(i);
            <span class="keywordflow">else</span>
              Grille(elem,0)=0.5*(xi(i)+xi(i+1));
            <span class="keywordflow">if</span> (ncomp==1)
              Grille(elem,1)=yj(j);
            <span class="keywordflow">else</span>
              Grille(elem,1)=0.5*(yj(j)+yj(j+1));
          }
      <a class="code" href="classDoubleVect.html">DoubleVect</a> valeurs(np);
      champ.<a class="code" href="classChamp__base.html#a19223e49e04226a25264ac573ab390e2" title="Idem que valeur_aux(const DoubleTab &amp;, DoubleTab &amp;), mais calcule uniquement la composante compo du c...">valeur_aux_compo</a>(Grille, valeurs, ncomp);
      <span class="keywordtype">int</span> n1=0,n2=0;
      <span class="keywordflow">while</span> (n2&lt;ni)
        {
          n1=n2;
          n2=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">::min</a>(ni,n2+cmax);
          os &lt;&lt; finl;
          os &lt;&lt; <span class="stringliteral">&quot;I=     &quot;</span>;
          <span class="keywordflow">for</span>(i=n1; i&lt;n2; i++)
            os &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;              &quot;</span>;
          os &lt;&lt; finl;
          <span class="keywordflow">for</span>(j=nj-1; j&gt;-1; j--)
            {
              os &lt;&lt; <span class="stringliteral">&quot;J= &quot;</span> &lt;&lt; j &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
              <span class="keywordflow">for</span>(i=n1; i&lt;n2; i++)
                {
                  elem=j+nj*i;
                  os &lt;&lt; valeurs(elem) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
                }
              os &lt;&lt; finl;
            }
        }
    }
  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae93905bc0cea24a9fb81168766db2da4"></a><!-- doxytag: member="Champ_Face_implementation::interpolation" ref="ae93905bc0cea24a9fb81168766db2da4" args="(const double, const double, const double) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Champ_Face_implementation::interpolation </td>
          <td>(</td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>val1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>val2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>psi</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00110">110</a> of file <a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a>.</p>

<p>References <a class="el" href="Double_8h_source.html#l00255">dabs()</a>.</p>

<p>Referenced by <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00169">valeur_a_elem()</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00215">valeur_a_elem_compo()</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00029">valeur_aux_elems()</a>, and <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00121">valeur_aux_elems_compo()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">double</span> epsilon=1.e-12;
  <span class="keywordflow">if</span> (<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(psi) &lt; epsilon)
    <span class="keywordflow">return</span> val1 ;
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(1.-psi) &lt; epsilon)
    <span class="keywordflow">return</span> val2 ;
  <span class="keywordflow">else</span>
    <span class="keywordflow">return</span> val1 + psi * (val2-val1) ;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae6e16d08025b98c09f9849295c6a6025"></a><!-- doxytag: member="Champ_Face_implementation::remplir_coord_noeuds" ref="ae6e16d08025b98c09f9849295c6a6025" args="(DoubleTab &amp;positions) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Champ_Face_implementation::remplir_coord_noeuds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>positions</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classChamp__implementation.html#a0eb6d710d2a0400d28e3c80984fac75d">Champ_implementation</a>.</p>

<p>Reimplemented in <a class="el" href="classChamp__Face.html#ae407d3f7ffbf5d1992c6aecf50aa7165">Champ_Face</a>, and <a class="el" href="classChamp__Fonc__Face.html#ad490d91d09cbbec427a4e764cbcb8e33">Champ_Fonc_Face</a>.</p>

<p>Definition at line <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00357">357</a> of file <a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="DoubleTab_8h_source.html#l00243">DoubleTab::dimension()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Zone__VF_8h_source.html#l00527">Zone_VF::nb_faces_tot()</a>, <a class="el" href="DoubleTab_8cpp_source.html#l00211">DoubleTab::ref()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="Zone__VF_8h_source.html#l00650">Zone_VF::xv()</a>, and <a class="el" href="Champ__implementation_8cpp_source.html#l00035">Champ_implementation::zone_dis_base()</a>.</p>

<p>Referenced by <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00373">remplir_coord_noeuds_et_polys()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; la_zone_vdf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>,<a class="code" href="classChamp__implementation.html#a1be8c351fc8394e9126755dd557d13ca">zone_dis_base</a>());
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xv = la_zone_vdf.<a class="code" href="classZone__VF.html#a918c0885a9b67317fcce3a0535306542">xv</a>();
  <span class="keywordtype">int</span> nb_fac = la_zone_vdf.<a class="code" href="classZone__VF.html#a50fd21c9535680489015a3c8b88c685a" title="renvoie le nombre total de faces. C&#39;est-a-dire faces reelles + faces virtuelles">nb_faces_tot</a>();
  <span class="keywordflow">if</span> ( (xv.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0) == nb_fac ) &amp;&amp; (xv.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1) == <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>) )
    positions.<a class="code" href="classDoubleTab.html#afc7cddeeec2c80636e54eaf330ac41ad" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">ref</a>(xv);
  <span class="keywordflow">else</span>
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Erreur dans Champ_Face::remplir_coord_noeuds()&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Les centres de gravite des faces n&#39;ont pas ete calcules&quot;</span> &lt;&lt; finl;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }
  <span class="keywordflow">return</span> positions;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7453d2f90a710dabf3751105792dd029"></a><!-- doxytag: member="Champ_Face_implementation::remplir_coord_noeuds_et_polys" ref="a7453d2f90a710dabf3751105792dd029" args="(DoubleTab &amp;positions, IntVect &amp;polys) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Champ_Face_implementation::remplir_coord_noeuds_et_polys </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classIntVect.html">IntVect</a> &amp;&#160;</td>
          <td class="paramname"><em>polys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classChamp__implementation.html#a83c40e62f34543358b851ff34f72e5b0">Champ_implementation</a>.</p>

<p>Reimplemented in <a class="el" href="classChamp__Face.html#a634857fa8a67e5459e9816a51cd25614">Champ_Face</a>, and <a class="el" href="classChamp__Fonc__Face.html#a1bfd1d09cbd87c8b6d9b8cfbc0b6b90d">Champ_Fonc_Face</a>.</p>

<p>Definition at line <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00373">373</a> of file <a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a>.</p>

<p>References <a class="el" href="Zone__VF_8h_source.html#l00458">Zone_VF::face_voisins()</a>, <a class="el" href="Zone__VF_8h_source.html#l00519">Zone_VF::nb_faces()</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00357">remplir_coord_noeuds()</a>, <a class="el" href="IntVect_8h_source.html#l00179">IntVect::resize()</a>, and <a class="el" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; face_voisins = <a class="code" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf</a>().<a class="code" href="classZone__VF.html#a49d4322f5585a8fa95748ca785b70702" title="renvoie l&#39;element voisin de numface dans la direction i. i=0 : dans le sens oppose de l&#39;axe orthogona...">face_voisins</a>();
  <span class="keywordtype">int</span> nb_faces=<a class="code" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf</a>().<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>();
  <a class="code" href="classChamp__Face__implementation.html#ae6e16d08025b98c09f9849295c6a6025">remplir_coord_noeuds</a>(positions);
  polys.<a class="code" href="classIntVect.html#a5900779fd9a3f9a82c68007a42b87d98" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_faces);

  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face&lt;nb_faces; face++)
    <span class="keywordflow">if</span>( (polys(face)=face_voisins(face,0)) == -1)
      polys(face)=face_voisins(face,1);
  <span class="keywordflow">return</span> 1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5d04bb68e0ab9465ca475bfa653c83a1"></a><!-- doxytag: member="Champ_Face_implementation::trace" ref="a5d04bb68e0ab9465ca475bfa653c83a1" args="(const Frontiere_dis_base &amp;fr, const DoubleTab &amp;y, DoubleTab &amp;x, int distant) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Champ_Face_implementation::trace </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classFrontiere__dis__base.html">Frontiere_dis_base</a> &amp;&#160;</td>
          <td class="paramname"><em>fr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>distant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; ori[face] = 2</p>
<p>&lt; elem1 = -1</p>
<p>&lt; ori[face] = 2 </p>
</p>

<p>Definition at line <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00513">513</a> of file <a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="DoubleTab_8h_source.html#l00243">DoubleTab::dimension()</a>, <a class="el" href="Zone__VF_8h_source.html#l00574">Zone_VF::elem_faces()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="Lois__sodium_8h_source.html#l00183">f1</a>, <a class="el" href="Lois__sodium_8h_source.html#l00185">f2</a>, <a class="el" href="Zone__VF_8h_source.html#l00458">Zone_VF::face_voisins()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Frontiere__dis__base_8cpp_source.html#l00146">Frontiere_dis_base::le_nom()</a>, <a class="el" href="Front__VF_8h_source.html#l00061">Front_VF::nb_faces()</a>, <a class="el" href="Front__VF_8h_source.html#l00071">Front_VF::num_premiere_face()</a>, <a class="el" href="Zone__VDF_8h_source.html#l00266">Zone_VDF::orientation()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, and <a class="el" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert(distant==0);
  <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; fr_vf=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>, fr);
  <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zvdf=<a class="code" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf</a>();
  <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; ori = zvdf.<a class="code" href="classZone__VDF.html#a9a9bd747218e463b3408a3590c12814c" title="inline DoubleVect&amp; Zone_VDF::porosite_face() { return porosite_face_; }">orientation</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; face_voisins = zvdf.<a class="code" href="classZone__VF.html#a49d4322f5585a8fa95748ca785b70702" title="renvoie l&#39;element voisin de numface dans la direction i. i=0 : dans le sens oppose de l&#39;axe orthogona...">face_voisins</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elem_faces = zvdf.<a class="code" href="classZone__VF.html#a067e462dcd3ab92b0f6d945b19e4eb37" title="renvoie le numero de le ieme face de la maille num_elem la facon dont ces faces sont numerotees est l...">elem_faces</a>();
  <span class="keywordtype">int</span> elem1,elem2;
  <span class="keywordtype">int</span> face,i,<a class="code" href="Lois__sodium_8h.html#a3034a1fb8c782842a2b9473c0f02a448">f1</a>,<a class="code" href="Lois__sodium_8h.html#a23f45359b08cb1d0538697b4f2d3dbbe">f2</a>,f3,f4;
  <span class="keywordtype">int</span> nb_faces = fr_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
  <span class="keywordflow">if</span> (x.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0)!=nb_faces)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The number of faces &quot;</span> &lt;&lt; nb_faces &lt;&lt; <span class="stringliteral">&quot; on the remote boundary &quot;</span> &lt;&lt; fr.<a class="code" href="classFrontiere__dis__base.html#a5a7eb46dc3af8a7d4225adc1814845d8" title="Renvoie le nom de la frontiere geometrique.">le_nom</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;does not match the number of faces &quot;</span> &lt;&lt; x.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0) &lt;&lt; <span class="stringliteral">&quot; on the local boundary.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Please, check if the boundary condition is not applied on wrong boundaries.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }
<span class="comment">// assert(x.dimension(1)==Objet_U::dimension);</span>

  <span class="keywordflow">if</span> (x.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1) == 1)
    {
      <span class="keywordflow">for</span> (i=0; i&lt;fr_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>(); i++)
        {
          face=fr_vf.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>()+i;
          x(i,0)=y(face);
        }
      <span class="keywordflow">return</span> x;
    }

  <span class="keywordflow">for</span> (i=0; i&lt;fr_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>(); i++)
    {
      face=fr_vf.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>()+i;
      x(i,ori[face])=y(face);
    }

  <span class="keywordflow">for</span> (i=0; i&lt;fr_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>(); i++)
    {
      face=fr_vf.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>()+i;
      elem1 = face_voisins(face,0);
      <span class="keywordflow">if</span> (elem1 != -1)
        {
          <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a> == 2)
            {
              <span class="keywordflow">if</span> (ori[face] == 0)
                {
                  f1 = elem_faces(elem1,1);
                  f2 = elem_faces(elem1,3);
                  x(i,1)= 0.5*(y[<a class="code" href="Lois__sodium_8h.html#a3034a1fb8c782842a2b9473c0f02a448">f1</a>] + y[<a class="code" href="Lois__sodium_8h.html#a23f45359b08cb1d0538697b4f2d3dbbe">f2</a>]);
                }
              <span class="keywordflow">else</span>
                {
                  f1 = elem_faces(elem1,0);
                  f2 = elem_faces(elem1,2);
                  x(i,0)= 0.5*(y[<a class="code" href="Lois__sodium_8h.html#a3034a1fb8c782842a2b9473c0f02a448">f1</a>] + y[<a class="code" href="Lois__sodium_8h.html#a23f45359b08cb1d0538697b4f2d3dbbe">f2</a>]);
                }
            }
          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a> == 3)
            {
              <span class="keywordflow">if</span> (ori[face] == 0)
                {
                  f1 = elem_faces(elem1,1);
                  f2 = elem_faces(elem1,4);
                  f3 = elem_faces(elem1,2);
                  f4 = elem_faces(elem1,5);
                  x(i,1)= 0.5*(y[<a class="code" href="Lois__sodium_8h.html#a3034a1fb8c782842a2b9473c0f02a448">f1</a>] + y[<a class="code" href="Lois__sodium_8h.html#a23f45359b08cb1d0538697b4f2d3dbbe">f2</a>]);
                  x(i,2)= 0.5*(y[f3] + y[f4]);
                }
              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ori[face] == 1)
                {
                  f1 = elem_faces(elem1,0);
                  f2 = elem_faces(elem1,3);
                  f3 = elem_faces(elem1,2);
                  f4 = elem_faces(elem1,5);
                  x(i,0)= 0.5*(y[<a class="code" href="Lois__sodium_8h.html#a3034a1fb8c782842a2b9473c0f02a448">f1</a>] + y[<a class="code" href="Lois__sodium_8h.html#a23f45359b08cb1d0538697b4f2d3dbbe">f2</a>]);
                  x(i,2)= 0.5*(y[f3] + y[f4]);
                }
              <span class="keywordflow">else</span> <span class="comment">//!&lt; ori[face] = 2</span>
<span class="comment"></span>                {
                  f1 = elem_faces(elem1,0);
                  f2 = elem_faces(elem1,3);
                  f3 = elem_faces(elem1,1);
                  f4 = elem_faces(elem1,4);
                  x(i,0)= 0.5*(y[<a class="code" href="Lois__sodium_8h.html#a3034a1fb8c782842a2b9473c0f02a448">f1</a>] + y[<a class="code" href="Lois__sodium_8h.html#a23f45359b08cb1d0538697b4f2d3dbbe">f2</a>]);
                  x(i,1)= 0.5*(y[f3] + y[f4]);
                }
            }
        }
      <span class="keywordflow">else</span>  <span class="comment">//!&lt; elem1 = -1</span>
<span class="comment"></span>        {
          elem2 = face_voisins(face,1);
          <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a> == 2)
            {
              <span class="keywordflow">if</span> (ori[face] == 0)
                {
                  f1 = elem_faces(elem2,1);
                  f2 = elem_faces(elem2,3);
                  x(i,1)= 0.5*(y[<a class="code" href="Lois__sodium_8h.html#a3034a1fb8c782842a2b9473c0f02a448">f1</a>] + y[<a class="code" href="Lois__sodium_8h.html#a23f45359b08cb1d0538697b4f2d3dbbe">f2</a>]);
                }
              <span class="keywordflow">else</span>
                {
                  f1 = elem_faces(elem2,0);
                  f2 = elem_faces(elem2,2);
                  x(i,0)= 0.5*(y[<a class="code" href="Lois__sodium_8h.html#a3034a1fb8c782842a2b9473c0f02a448">f1</a>] + y[<a class="code" href="Lois__sodium_8h.html#a23f45359b08cb1d0538697b4f2d3dbbe">f2</a>]);
                }
            }
          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a> == 3)
            {
              <span class="keywordflow">if</span> (ori[face] == 0)
                {
                  f1 = elem_faces(elem2,1);
                  f2 = elem_faces(elem2,4);
                  f3 = elem_faces(elem2,2);
                  f4 = elem_faces(elem2,5);
                  x(i,1)= 0.5*(y[<a class="code" href="Lois__sodium_8h.html#a3034a1fb8c782842a2b9473c0f02a448">f1</a>] + y[<a class="code" href="Lois__sodium_8h.html#a23f45359b08cb1d0538697b4f2d3dbbe">f2</a>]);
                  x(i,2)= 0.5*(y[f3] + y[f4]);
                }
              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ori[face] == 1)
                {
                  f1 = elem_faces(elem2,0);
                  f2 = elem_faces(elem2,3);
                  f3 = elem_faces(elem2,2);
                  f4 = elem_faces(elem2,5);
                  x(i,0)= 0.5*(y[<a class="code" href="Lois__sodium_8h.html#a3034a1fb8c782842a2b9473c0f02a448">f1</a>] + y[<a class="code" href="Lois__sodium_8h.html#a23f45359b08cb1d0538697b4f2d3dbbe">f2</a>]);
                  x(i,2)= 0.5*(y[f3] + y[f4]);
                }
              <span class="keywordflow">else</span> <span class="comment">//!&lt; ori[face] = 2</span>
<span class="comment"></span>                {
                  f1 = elem_faces(elem2,0);
                  f2 = elem_faces(elem2,3);
                  f3 = elem_faces(elem2,1);
                  f4 = elem_faces(elem2,4);
                  x(i,0)= 0.5*(y[<a class="code" href="Lois__sodium_8h.html#a3034a1fb8c782842a2b9473c0f02a448">f1</a>] + y[<a class="code" href="Lois__sodium_8h.html#a23f45359b08cb1d0538697b4f2d3dbbe">f2</a>]);
                  x(i,1)= 0.5*(y[f3] + y[f4]);
                }
            }
        }
    }
<span class="comment">// Useless ?x.echange_espace_virtuel();</span>
  <span class="keywordflow">return</span> x;
}
</pre></div>
</div>
</div>
<a class="anchor" id="adb4fe3c2c2549b9705b14c9370e0c301"></a><!-- doxytag: member="Champ_Face_implementation::valeur_a_elem" ref="adb4fe3c2c2549b9705b14c9370e0c301" args="(const DoubleVect &amp;position, DoubleVect &amp;val, int le_poly) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleVect.html">DoubleVect</a> &amp; Champ_Face_implementation::valeur_a_elem </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>le_poly</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; (nb_compo_ != 1) </p>
</p>

<p>Implements <a class="el" href="classChamp__implementation.html#a551ec70a5653366bc4bb2c2860399591">Champ_implementation</a>.</p>

<p>Reimplemented in <a class="el" href="classChamp__Face.html#af122a6bd447d0191e0d202f3ae63e8fa">Champ_Face</a>, and <a class="el" href="classChamp__Fonc__Face.html#ae025a47c2d26f7a13714b660084b4d74">Champ_Fonc_Face</a>.</p>

<p>Definition at line <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00169">169</a> of file <a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Domaine_8h_source.html#l00455">Domaine::coord()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="Zone_8cpp_source.html#l00262">Zone::domaine()</a>, <a class="el" href="Zone__VF_8h_source.html#l00574">Zone_VF::elem_faces()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="Zone__VF_8h_source.html#l00609">Zone_VF::face_sommets()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00110">interpolation()</a>, <a class="el" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">Champ_implementation::le_champ()</a>, <a class="el" href="Field__base_8h_source.html#l00119">Field_base::nb_comp()</a>, <a class="el" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">Champ_Proto::valeurs()</a>, <a class="el" href="Champ__implementation_8cpp_source.html#l00031">Champ_implementation::zone()</a>, and <a class="el" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zone_VDF = <a class="code" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf</a>();
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone_geom = <a class="code" href="classChamp__implementation.html#a66052aa2858507b8a7b58f6beab245ad">zone</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; face_sommets = zone_VDF.<a class="code" href="classZone__VF.html#a298e73b18e17da55f421b1fb0879bd46" title="renvoie le numero du ieme sommet de la face num_face.">face_sommets</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elem_faces = zone_VDF.<a class="code" href="classZone__VF.html#a067e462dcd3ab92b0f6d945b19e4eb37" title="renvoie le numero de le ieme face de la maille num_elem la facon dont ces faces sont numerotees est l...">elem_faces</a>();
  <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; cha=<a class="code" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">le_champ</a>();

  <span class="keywordtype">double</span> psi,val1,val2;
  <span class="keywordtype">int</span> som0,som1;
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; ch = cha.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
  <span class="keywordtype">int</span> nb_compo_=cha.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();
  <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom=zone_geom.<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>();

  <span class="keywordflow">if</span> (nb_compo_ == 1)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Champ_Face_implementation::valeur_a_elem&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;A scalar field cannot be of Champ_Face type.&quot;</span> &lt;&lt; finl;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }
  <span class="keywordflow">else</span> <span class="comment">//!&lt; (nb_compo_ != 1)</span>
<span class="comment"></span>    {
      <span class="keywordflow">if</span> (le_poly == -1)
        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ncomp=0; ncomp&lt;nb_compo_; ncomp++)
          val(ncomp) = 0;
      <span class="keywordflow">else</span>
        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ncomp=0; ncomp&lt;nb_compo_; ncomp++)
          {
            val1 = ch(elem_faces(le_poly,ncomp));
            val2 = ch(elem_faces(le_poly,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>+ncomp));

            som0 = face_sommets(elem_faces(le_poly,ncomp),0);
            som1 = face_sommets(elem_faces(le_poly,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>+ncomp),0);

            psi = ( position(ncomp) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som0,ncomp) )
                  / ( dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som1,ncomp) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som0,ncomp) ) ;

            val(ncomp) = <a class="code" href="classChamp__Face__implementation.html#ae93905bc0cea24a9fb81168766db2da4">interpolation</a>(val1,val2,psi);
          }
    }
  <span class="keywordflow">return</span> val;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4342a5570de6192b34831ed7398f1f88"></a><!-- doxytag: member="Champ_Face_implementation::valeur_a_elem_compo" ref="a4342a5570de6192b34831ed7398f1f88" args="(const DoubleVect &amp;position, int le_poly, int ncomp) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Champ_Face_implementation::valeur_a_elem_compo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;&#160;</td>
          <td class="paramname"><em>position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>le_poly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ncomp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; (nb_compo_ != 1) </p>
</p>

<p>Implements <a class="el" href="classChamp__implementation.html#a5b067f86c907cbded9ef33d10cce1ee4">Champ_implementation</a>.</p>

<p>Reimplemented in <a class="el" href="classChamp__Face.html#a7aff65902f0ae74526949169ac5123c4">Champ_Face</a>, and <a class="el" href="classChamp__Fonc__Face.html#ad5e40feee04bd974bd6bc5302d72e28e">Champ_Fonc_Face</a>.</p>

<p>Definition at line <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00215">215</a> of file <a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Domaine_8h_source.html#l00455">Domaine::coord()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="Zone_8cpp_source.html#l00262">Zone::domaine()</a>, <a class="el" href="Zone__VF_8h_source.html#l00574">Zone_VF::elem_faces()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="Zone__VF_8h_source.html#l00609">Zone_VF::face_sommets()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00110">interpolation()</a>, <a class="el" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">Champ_implementation::le_champ()</a>, <a class="el" href="Field__base_8h_source.html#l00119">Field_base::nb_comp()</a>, <a class="el" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">Champ_Proto::valeurs()</a>, <a class="el" href="Champ__implementation_8cpp_source.html#l00031">Champ_implementation::zone()</a>, and <a class="el" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf()</a>.</p>

<p>Referenced by <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00257">valeur_aux_sommets()</a>, and <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00311">valeur_aux_sommets_compo()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zone_VDF = <a class="code" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf</a>();
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone_geom = <a class="code" href="classChamp__implementation.html#a66052aa2858507b8a7b58f6beab245ad">zone</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; face_sommets = zone_VDF.<a class="code" href="classZone__VF.html#a298e73b18e17da55f421b1fb0879bd46" title="renvoie le numero du ieme sommet de la face num_face.">face_sommets</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elem_faces = zone_VDF.<a class="code" href="classZone__VF.html#a067e462dcd3ab92b0f6d945b19e4eb37" title="renvoie le numero de le ieme face de la maille num_elem la facon dont ces faces sont numerotees est l...">elem_faces</a>();
  <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; cha = <a class="code" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">le_champ</a>();
  <span class="keywordtype">int</span> nb_compo_ = cha.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();

  <span class="keywordtype">double</span> psi,val1,val2;
  <span class="keywordtype">double</span> val = 0.;
  <span class="keywordtype">int</span> som0,som1;
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; ch = cha.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
  <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom=zone_geom.<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>();

  <span class="keywordflow">if</span> (nb_compo_ == 1)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Champ_Face_implementation::valeur_a_elem_compo&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;A scalar field cannot be of Champ_Face type.&quot;</span> &lt;&lt; finl;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }
  <span class="keywordflow">else</span> <span class="comment">//!&lt; (nb_compo_ != 1)</span>
<span class="comment"></span>    {
      <span class="keywordflow">if</span> (le_poly == -1)
        <span class="keywordflow">return</span> 0;
      <span class="keywordflow">else</span>
        {
          val1 = ch(elem_faces(le_poly,ncomp));
          val2 = ch(elem_faces(le_poly,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>+ncomp));

          som0 = face_sommets(elem_faces(le_poly,ncomp),0);
          som1 = face_sommets(elem_faces(le_poly,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>+ncomp),0);

          psi = ( position(ncomp) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som0,ncomp) )
                / ( dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som1,ncomp) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som0,ncomp) ) ;
          val = <a class="code" href="classChamp__Face__implementation.html#ae93905bc0cea24a9fb81168766db2da4">interpolation</a>(val1,val2,psi);
        }
    }
  <span class="keywordflow">return</span> val;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0232f9b81e7ad90c536fc6e98ee7db06"></a><!-- doxytag: member="Champ_Face_implementation::valeur_aux_elems" ref="a0232f9b81e7ad90c536fc6e98ee7db06" args="(const DoubleTab &amp;positions, const IntVect &amp;les_polys, DoubleTab &amp;valeurs) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Champ_Face_implementation::valeur_aux_elems </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classIntVect.html">IntVect</a> &amp;&#160;</td>
          <td class="paramname"><em>les_polys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>valeurs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; (nb_compo_ != 1) */ </p>
</p>

<p>Implements <a class="el" href="classChamp__implementation.html#acfeba8e11bd62a034bd2cbcf58dcd571">Champ_implementation</a>.</p>

<p>Reimplemented in <a class="el" href="classChamp__Face.html#abb03975827b95a953c16521e9fe57382">Champ_Face</a>, and <a class="el" href="classChamp__Fonc__Face.html#a1fd042d748be454a3c79086c039cc819">Champ_Fonc_Face</a>.</p>

<p>Definition at line <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00029">29</a> of file <a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Domaine_8h_source.html#l00455">Domaine::coord()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="DoubleTab_8h_source.html#l00243">DoubleTab::dimension()</a>, <a class="el" href="DoubleTab_8h_source.html#l00254">DoubleTab::dimension_tot()</a>, <a class="el" href="Zone_8cpp_source.html#l00262">Zone::domaine()</a>, <a class="el" href="Zone__VF_8h_source.html#l00574">Zone_VF::elem_faces()</a>, <a class="el" href="Double_8h_source.html#l00273">est_egal()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="Zone__VF_8h_source.html#l00609">Zone_VF::face_sommets()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00110">interpolation()</a>, <a class="el" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">Champ_implementation::le_champ()</a>, <a class="el" href="Field__base_8h_source.html#l00119">Field_base::nb_comp()</a>, <a class="el" href="DoubleTab_8h_source.html#l00264">DoubleTab::nb_dim()</a>, <a class="el" href="IntVect_8h_source.html#l00139">IntVect::size()</a>, <a class="el" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">Champ_Proto::valeurs()</a>, <a class="el" href="Champ__implementation_8cpp_source.html#l00031">Champ_implementation::zone()</a>, and <a class="el" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; cha=<a class="code" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">le_champ</a>();
  <span class="keywordtype">int</span> nb_compo_=cha.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();
  <span class="keywordflow">if</span> (val.nb_dim() == 2)
    {
      assert((val.dimension(0) == les_polys.<a class="code" href="classIntVect.html#ad90cfd411cbbd631ccf1935bb36f7c40" title="Identique a size_reelle()">size</a>())||(val.dimension_tot(0) == les_polys.<a class="code" href="classIntVect.html#ad90cfd411cbbd631ccf1935bb36f7c40" title="Identique a size_reelle()">size</a>()));
      assert(val.dimension(1) == nb_compo_);
    }
  <span class="keywordflow">else</span>
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Erreur TRUST dans Champ_Face_implementation::valeur_aux_elems()&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Le DoubleTab val n&#39;a pas 2 entrees&quot;</span> &lt;&lt; finl;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }

  <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zone_VDF = <a class="code" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf</a>();
<span class="comment">// const Zone&amp; zone_geom = zone_VDF.zone();</span>
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; face_sommets = zone_VDF.<a class="code" href="classZone__VF.html#a298e73b18e17da55f421b1fb0879bd46" title="renvoie le numero du ieme sommet de la face num_face.">face_sommets</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elem_faces = zone_VDF.<a class="code" href="classZone__VF.html#a067e462dcd3ab92b0f6d945b19e4eb37" title="renvoie le numero de le ieme face de la maille num_elem la facon dont ces faces sont numerotees est l...">elem_faces</a>();
  <span class="keywordtype">double</span> psi,val1,val2;
  <span class="keywordtype">int</span> som0,som1;
  <span class="keywordtype">int</span> le_poly;

  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; ch = cha.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
  <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom=<a class="code" href="classChamp__implementation.html#a66052aa2858507b8a7b58f6beab245ad">zone</a>().<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>();

  <span class="keywordflow">if</span> (nb_compo_ == 1)
    {
      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> rang_poly=0; rang_poly&lt;les_polys.<a class="code" href="classIntVect.html#ad90cfd411cbbd631ccf1935bb36f7c40" title="Identique a size_reelle()">size</a>(); rang_poly++)
        {
          le_poly=les_polys(rang_poly);
          <span class="keywordflow">if</span> (le_poly == -1)
            val(rang_poly, 0) = 0;
          <span class="keywordflow">else</span>
            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> dir=0; dir&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; dir++)
              {
                <span class="keywordtype">int</span> face1 = elem_faces(le_poly,dir);
                <span class="keywordtype">int</span> face2 = elem_faces(le_poly,Objet_U::dimension+dir);
                val1 = ch(face1);
                val2 = ch(face2);

                som0 = face_sommets(face1,0);
                som1 = face_sommets(face2,0);

                psi = ( positions(rang_poly,dir) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som0,dir) )
                      / ( dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som1,dir) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som0,dir) ) ;
                <span class="keywordflow">if</span> (<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(psi,0) || <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(psi,1))
                  val(rang_poly,0) = <a class="code" href="classChamp__Face__implementation.html#ae93905bc0cea24a9fb81168766db2da4">interpolation</a>(val1,val2,psi);
              }
        }
    }
  <span class="keywordflow">else</span> <span class="comment">//!&lt; (nb_compo_ != 1) */</span>
<span class="comment"></span>    {
      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> rang_poly=0; rang_poly&lt;les_polys.<a class="code" href="classIntVect.html#ad90cfd411cbbd631ccf1935bb36f7c40" title="Identique a size_reelle()">size</a>(); rang_poly++)
        {
          le_poly=les_polys(rang_poly);
          <span class="keywordflow">if</span> (le_poly == -1)
            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ncomp=0; ncomp&lt;nb_compo_; ncomp++)
              val(rang_poly,ncomp) = 0;
          <span class="keywordflow">else</span>
            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ncomp=0; ncomp&lt;nb_compo_; ncomp++)
              {

                val1 = ch(elem_faces(le_poly,ncomp));
                val2 = ch(elem_faces(le_poly,Objet_U::dimension+ncomp));

                som0 = face_sommets(elem_faces(le_poly,ncomp),0);
                som1 = face_sommets(elem_faces(le_poly,Objet_U::dimension+ncomp),0);

                psi = ( positions(rang_poly,ncomp) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som0,ncomp) )
                      / ( dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som1,ncomp) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som0,ncomp) ) ;
                val(rang_poly,ncomp) = <a class="code" href="classChamp__Face__implementation.html#ae93905bc0cea24a9fb81168766db2da4">interpolation</a>(val1,val2,psi);
              }
        }
    }
  <span class="keywordflow">return</span> val;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad53abeb8ac22090e4c3045d955a19067"></a><!-- doxytag: member="Champ_Face_implementation::valeur_aux_elems_compo" ref="ad53abeb8ac22090e4c3045d955a19067" args="(const DoubleTab &amp;positions, const IntVect &amp;les_polys, DoubleVect &amp;valeurs, int ncomp) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleVect.html">DoubleVect</a> &amp; Champ_Face_implementation::valeur_aux_elems_compo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classIntVect.html">IntVect</a> &amp;&#160;</td>
          <td class="paramname"><em>les_polys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;&#160;</td>
          <td class="paramname"><em>valeurs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ncomp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; (nb_compo_ != 1) </p>
</p>

<p>Implements <a class="el" href="classChamp__implementation.html#a66eee1acf842338142eb74ef420ce21e">Champ_implementation</a>.</p>

<p>Reimplemented in <a class="el" href="classChamp__Face.html#a6b1315a936bafd41e2e4f690c7422a91">Champ_Face</a>, and <a class="el" href="classChamp__Fonc__Face.html#a38e8300810ec52d85cff864a3a1fdc80">Champ_Fonc_Face</a>.</p>

<p>Definition at line <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00121">121</a> of file <a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Domaine_8h_source.html#l00455">Domaine::coord()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="Zone_8cpp_source.html#l00262">Zone::domaine()</a>, <a class="el" href="Zone__VF_8h_source.html#l00574">Zone_VF::elem_faces()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="Zone__VF_8h_source.html#l00609">Zone_VF::face_sommets()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00110">interpolation()</a>, <a class="el" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">Champ_implementation::le_champ()</a>, <a class="el" href="Field__base_8h_source.html#l00119">Field_base::nb_comp()</a>, <a class="el" href="IntVect_8h_source.html#l00139">IntVect::size()</a>, <a class="el" href="DoubleVect_8h_source.html#l00153">DoubleVect::size()</a>, <a class="el" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">Champ_Proto::valeurs()</a>, <a class="el" href="Champ__implementation_8cpp_source.html#l00031">Champ_implementation::zone()</a>, and <a class="el" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; cha = <a class="code" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">le_champ</a>();
  <span class="keywordtype">int</span> nb_compo_ = cha.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();
  assert(val.size() == les_polys.<a class="code" href="classIntVect.html#ad90cfd411cbbd631ccf1935bb36f7c40" title="Identique a size_reelle()">size</a>());
  <span class="keywordtype">int</span> le_poly;
  <span class="keywordtype">double</span> psi,val1,val2;
  <span class="keywordtype">int</span> som0,som1;

  <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zone_VDF = <a class="code" href="classChamp__Face__implementation.html#a449ac38bddb582c76230cadb8a18da70">zone_vdf</a>();
<span class="comment">// const Zone&amp; zone_geom = zone_VDF.zone();</span>
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; face_sommets = zone_VDF.<a class="code" href="classZone__VF.html#a298e73b18e17da55f421b1fb0879bd46" title="renvoie le numero du ieme sommet de la face num_face.">face_sommets</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elem_faces = zone_VDF.<a class="code" href="classZone__VF.html#a067e462dcd3ab92b0f6d945b19e4eb37" title="renvoie le numero de le ieme face de la maille num_elem la facon dont ces faces sont numerotees est l...">elem_faces</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; ch = cha.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
  <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom=<a class="code" href="classChamp__implementation.html#a66052aa2858507b8a7b58f6beab245ad">zone</a>().<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>();

  <span class="keywordflow">if</span> (nb_compo_ == 1)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Champ_Face_implementation::valeur_aux_elems_compo&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;A scalar field cannot be of Champ_Face type.&quot;</span> &lt;&lt; finl;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }
  <span class="keywordflow">else</span> <span class="comment">//!&lt; (nb_compo_ != 1)</span>
<span class="comment"></span>    {
      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> rang_poly=0; rang_poly&lt;les_polys.<a class="code" href="classIntVect.html#ad90cfd411cbbd631ccf1935bb36f7c40" title="Identique a size_reelle()">size</a>(); rang_poly++)
        {
          le_poly=les_polys(rang_poly);
          <span class="keywordflow">if</span> (le_poly == -1)
            val(rang_poly) = 0;
          <span class="keywordflow">else</span>
            {
              val1 = ch(elem_faces(le_poly,ncomp));
              val2 = ch(elem_faces(le_poly,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>+ncomp));
              som0 = face_sommets(elem_faces(le_poly,ncomp),0);
              som1 = face_sommets(elem_faces(le_poly,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>+ncomp),0);

              psi = ( positions(rang_poly,ncomp) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som0,ncomp) )
                    / ( dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som1,ncomp) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(som0,ncomp) ) ;
              val(rang_poly) = <a class="code" href="classChamp__Face__implementation.html#ae93905bc0cea24a9fb81168766db2da4">interpolation</a>(val1,val2,psi);
            }
        }
    }
  <span class="keywordflow">return</span> val;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a59ed479416365c37f24fa9e74053406c"></a><!-- doxytag: member="Champ_Face_implementation::valeur_aux_sommets" ref="a59ed479416365c37f24fa9e74053406c" args="(const Domaine &amp;, DoubleTab &amp;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Champ_Face_implementation::valeur_aux_sommets </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>dom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>ch_som</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; (nb_compo_ != 1) </p>
</p>

<p>Implements <a class="el" href="classChamp__implementation.html#a6d898357c33fb21e84ab8dff1967df13">Champ_implementation</a>.</p>

<p>Reimplemented in <a class="el" href="classChamp__Face.html#a30969ce8042663c28ee77087bb714df8">Champ_Face</a>, and <a class="el" href="classChamp__Fonc__Face.html#aad3102ed77610266fafee35a2a4c7898">Champ_Fonc_Face</a>.</p>

<p>Definition at line <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00257">257</a> of file <a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Memoire_8cpp_source.html#l00026">compteur</a>, <a class="el" href="Domaine_8h_source.html#l00455">Domaine::coord()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">Champ_implementation::le_champ()</a>, <a class="el" href="Field__base_8h_source.html#l00119">Field_base::nb_comp()</a>, <a class="el" href="Zone_8h_source.html#l00319">Zone::nb_elem_tot()</a>, <a class="el" href="Zone_8cpp_source.html#l00586">Zone::nb_som()</a>, <a class="el" href="Zone_8h_source.html#l00445">Zone::nb_som_elem()</a>, <a class="el" href="Zone_8h_source.html#l00344">Zone::sommet_elem()</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00215">valeur_a_elem_compo()</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">// const Champ_base&amp; cha_tmp=le_champ();</span>
<span class="comment">// const DoubleTab&amp; ch_tmp = cha_tmp.valeurs();</span>

  <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; cha=<a class="code" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">le_champ</a>();
  <span class="keywordtype">int</span> nb_compo_=cha.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; mazone = dom.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);

<span class="comment">// int nb_elem = mazone.nb_elem();</span>
  <span class="keywordtype">int</span> nb_elem_tot = mazone.<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
  <span class="keywordtype">int</span> nb_som = mazone.<a class="code" href="classZone.html#ad340f571f81fa5c2e028b88c00b5c2ca" title="Renvoie le nombre de sommets de la zone.">nb_som</a>();
  <span class="keywordtype">int</span> nb_som_elem = mazone.<a class="code" href="classZone.html#ae0b34a93b9ae8146df2d1884157afe9f" title="Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...">nb_som_elem</a>();
<span class="comment">// const DoubleTab&amp; ch = cha.valeurs();</span>
  <a class="code" href="classIntVect.html">IntVect</a> <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>(nb_som);
  <span class="keywordtype">int</span> ncomp;
  <span class="keywordtype">int</span> num_elem,num_som,j;
  ch_som = 0;
  <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a> = 0;

  <span class="keywordflow">if</span> (nb_compo_ == 1)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Champ_Face_implementation::valeur_aux_sommets&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;A scalar field cannot be of Champ_Face type.&quot;</span> &lt;&lt; finl;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }
  <span class="keywordflow">else</span> <span class="comment">//!&lt; (nb_compo_ != 1)</span>
<span class="comment"></span>    {
      <a class="code" href="classDoubleVect.html">DoubleVect</a> position(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>);
      <span class="keywordflow">for</span> (num_elem=0; num_elem&lt;nb_elem_tot; num_elem++)
        <span class="keywordflow">for</span> (j=0; j&lt;nb_som_elem; j++)
          {
            num_som = mazone.<a class="code" href="classZone.html#aa164c00997bc77a365a6da57bbec29ce" title="Renvoie le numero (global) j-ieme sommet du i-ieme element.">sommet_elem</a>(num_elem,j);

            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> k=0; k&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; k++)
              position(k)=dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(num_som,k);
            <span class="keywordflow">if</span>(num_som &lt; nb_som)
              {
                <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>[num_som]++;
                <span class="keywordflow">for</span> (ncomp=0; ncomp&lt;nb_compo_; ncomp++)
                  {
                    ch_som(num_som,ncomp) += <a class="code" href="classChamp__Face__implementation.html#a4342a5570de6192b34831ed7398f1f88">valeur_a_elem_compo</a>(position,num_elem,ncomp);
                  }
              }
          }

      <span class="keywordflow">for</span> (num_som=0; num_som&lt;nb_som; num_som++)
        <span class="keywordflow">for</span> (ncomp=0; ncomp&lt;nb_compo_; ncomp++)
          ch_som(num_som,ncomp) /= <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>[num_som];
    }

  <span class="keywordflow">return</span> ch_som;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aee6ad96b765346ce81c006575eebe6a8"></a><!-- doxytag: member="Champ_Face_implementation::valeur_aux_sommets_compo" ref="aee6ad96b765346ce81c006575eebe6a8" args="(const Domaine &amp;, DoubleVect &amp;, int) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleVect.html">DoubleVect</a> &amp; Champ_Face_implementation::valeur_aux_sommets_compo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>dom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleVect.html">DoubleVect</a> &amp;&#160;</td>
          <td class="paramname"><em>ch_som</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ncomp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; (nb_compo_ != 1) </p>
</p>

<p>Implements <a class="el" href="classChamp__implementation.html#ab0166b0c8883bf3f3822e304cc08453f">Champ_implementation</a>.</p>

<p>Reimplemented in <a class="el" href="classChamp__Face.html#a8295648faf26571b0de56ca395b042ef">Champ_Face</a>, and <a class="el" href="classChamp__Fonc__Face.html#ac05b5e0526931b860bca4274522d1c1d">Champ_Fonc_Face</a>.</p>

<p>Definition at line <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00311">311</a> of file <a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Memoire_8cpp_source.html#l00026">compteur</a>, <a class="el" href="Domaine_8h_source.html#l00455">Domaine::coord()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">Champ_implementation::le_champ()</a>, <a class="el" href="Field__base_8h_source.html#l00119">Field_base::nb_comp()</a>, <a class="el" href="Zone_8h_source.html#l00319">Zone::nb_elem_tot()</a>, <a class="el" href="Zone_8cpp_source.html#l00586">Zone::nb_som()</a>, <a class="el" href="Zone_8h_source.html#l00445">Zone::nb_som_elem()</a>, <a class="el" href="Zone_8h_source.html#l00344">Zone::sommet_elem()</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00215">valeur_a_elem_compo()</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; cha=<a class="code" href="classChamp__implementation.html#acef977877647c519ea01aa4b19ba6613">le_champ</a>();
  <span class="keywordtype">int</span> nb_compo_=cha.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; mazone = dom.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);

<span class="comment">// int nb_elem = mazone.nb_elem();</span>
  <span class="keywordtype">int</span> nb_elem_tot = mazone.<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
  <span class="keywordtype">int</span> nb_som = mazone.<a class="code" href="classZone.html#ad340f571f81fa5c2e028b88c00b5c2ca" title="Renvoie le nombre de sommets de la zone.">nb_som</a>();
  <span class="keywordtype">int</span> nb_som_elem = mazone.<a class="code" href="classZone.html#ae0b34a93b9ae8146df2d1884157afe9f" title="Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...">nb_som_elem</a>();
<span class="comment">// const DoubleTab&amp; ch = cha.valeurs();</span>
  <a class="code" href="classIntVect.html">IntVect</a> <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>(nb_som);
  <span class="keywordtype">int</span> num_elem,num_som,j;
  ch_som = 0;
  <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a> = 0;

  <span class="keywordflow">if</span> (nb_compo_ == 1)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Champ_Face_implementation::valeur_aux_sommets_compo&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;A scalar field cannot be of Champ_Face type.&quot;</span> &lt;&lt; finl;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }
  <span class="keywordflow">else</span> <span class="comment">//!&lt; (nb_compo_ != 1)</span>
<span class="comment"></span>    {
      <a class="code" href="classDoubleVect.html">DoubleVect</a> position(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>);
      <span class="keywordflow">for</span> (num_elem=0; num_elem&lt;nb_elem_tot; num_elem++)
        <span class="keywordflow">for</span> (j=0; j&lt;nb_som_elem; j++)
          {
            num_som = mazone.<a class="code" href="classZone.html#aa164c00997bc77a365a6da57bbec29ce" title="Renvoie le numero (global) j-ieme sommet du i-ieme element.">sommet_elem</a>(num_elem,j);
            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> k=0; k&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; k++)
              position(k)=dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(num_som,k);
            <span class="keywordflow">if</span>(num_som &lt; nb_som)
              {
                <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>[num_som]++;
                ch_som(num_som) += <a class="code" href="classChamp__Face__implementation.html#a4342a5570de6192b34831ed7398f1f88">valeur_a_elem_compo</a>(position,num_elem,ncomp);
              }
          }

      <span class="keywordflow">for</span> (num_som=0; num_som&lt;nb_som; num_som++)
        ch_som(num_som) /= <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>[num_som];
    }
  <span class="keywordflow">return</span> ch_som;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a449ac38bddb582c76230cadb8a18da70"></a><!-- doxytag: member="Champ_Face_implementation::zone_vdf" ref="a449ac38bddb582c76230cadb8a18da70" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const <a class="el" href="classZone__VDF.html">Zone_VDF</a>&amp; Champ_Face_implementation::zone_vdf </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implemented in <a class="el" href="classChamp__Face.html#a3afc1887ea97d1cdde9dcbdb01ea77fc">Champ_Face</a>, and <a class="el" href="classChamp__Fonc__Face.html#ad91c55fb519d30ad5803d11e0629f04d">Champ_Fonc_Face</a>.</p>

<p>Referenced by <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00373">remplir_coord_noeuds_et_polys()</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00513">trace()</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00169">valeur_a_elem()</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00215">valeur_a_elem_compo()</a>, <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00029">valeur_aux_elems()</a>, and <a class="el" href="Champ__Face__implementation_8cpp_source.html#l00121">valeur_aux_elems_compo()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/VDF/Champs/<a class="el" href="Champ__Face__implementation_8h_source.html">Champ_Face_implementation.h</a></li>
<li>src/VDF/Champs/<a class="el" href="Champ__Face__implementation_8cpp_source.html">Champ_Face_implementation.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:36:10 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
