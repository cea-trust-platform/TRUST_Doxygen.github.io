<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TRUST: src/Kernel/Math/TRUSTArray.tpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TRUST<span id="projectnumber">&#160;1.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_4ebb9cf478835123b919db691d6366a3.html">Kernel</a></li><li class="navelem"><a class="el" href="dir_65ad971e6c761419c1a7edd88c13347f.html">Math</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">TRUSTArray.tpp</div></div>
</div><!--header-->
<div class="contents">
<a href="TRUSTArray_8tpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/****************************************************************************</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">* Copyright (c) 2022, CEA</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">* All rights reserved.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">*</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">*</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">*</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">*****************************************************************************/</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#ifndef TRUSTArray_TPP_included</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno"><a class="line" href="TRUSTArray_8tpp.html#ad9c8adf7087bbf509554ca51cb5cf4a7">   17</a></span><span class="preprocessor">#define TRUSTArray_TPP_included</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="comment">// Change le nombre d&#39;elements du tableau.</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="comment">// - Si smart_resize est non nul :</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="comment">// * Si la nouvelle taille est inferieure ou egale a la taille alouee (p-&gt;get_size()) on ne realloue pas de memoire</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="comment">// * sinon, on realloue et on copie les donnees existantes.</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="comment">// Astuce pour ne pas copier les anciennes donnees : resize(0); resize(n);</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="comment">// - Si smart_resize est nul, on realloue une nouvelle zone memoire uniquement si la nouvelle taille est differente de l&#39;ancienne.</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="comment">// Parametre: new_size</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="comment">// Signification: nouvelle valeur demandee pour size_array() (doit etre &gt;= 0)</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="comment">// Parametre: opt</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="comment">// Signification: quoi faire des anciennes case et des nouvelles cases (voir memory_resize())</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="comment">// Attention, pour un tableau smart_resize, l&#39;option &quot;INIT&quot;</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="comment">// Precondition :</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="comment">// - Si &quot;new_size&quot; est egal a la taille du tableau, aucune condition.</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="comment">// - Sinon,</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="comment">// * le tableau ne doit pas etre un type derive de TRUSTArray !!!</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">// * le tableau doit etre &quot;resizable&quot;, c&#39;est a dire: soit detache, soit normal (pas de type &quot;ref_data&quot;) avec ref_count egal a 1</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">   38</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">TRUSTArray&lt;_TYPE_&gt;::resize_array</a>(<span class="keywordtype">int</span> new_size, <a class="code hl_enumeration" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>{</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="comment">// Si le tableau change de taille, il doit etre du type TRUSTArray</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>  assert(new_size == size_array_ || std::string(<span class="keyword">typeid</span>(*this).name()).find(<span class="stringliteral">&quot;TRUSTArray&quot;</span>) != std::string::npos );</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>  resize_array_(new_size, opt);</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>}</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="comment">// methode virtuelle (dans Array_base) identique a resize_array(), permet de traiter</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment">// de facon generique les ArrOf, Vect et Tab. Si l&#39;objet est de type TRUSTArray, appel a resize_array(n)</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="comment">// Prerequis: le tableau doit etre &quot;resizable&quot; (voir resize_array()). S&#39;il est d&#39;un type derive (Vect ou Tab),</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="comment">// il ne doit pas avoir de descripteur parallele si la taille est effectivement modifiee.</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a9e22f7227316386024ab3ed481f6471c">   50</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a9e22f7227316386024ab3ed481f6471c">TRUSTArray&lt;_TYPE_&gt;::resize_tab</a>(<span class="keywordtype">int</span> n, <a class="code hl_enumeration" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>{</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>  resize_array(n, opt);</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>}</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="comment">// Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = 0) ou reallocation</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment">// uniquement si la taille augmente et par doublement de la taille du tableau (flag = 1).</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">   58</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">TRUSTArray&lt;_TYPE_&gt;::set_smart_resize</a>(<span class="keywordtype">int</span> flag)</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>{</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>  assert(flag == 0 || flag == 1);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>  smart_resize_ = flag;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>}</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="comment">// Change le mode d&#39;allocation memoire lors des resize (voir VTRUSTdata et TRUST_ptr_trav)</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="comment">// Exemple pour creer un tableau avec allocation temporaire:</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="comment">// DoubleTab tab; // Creation d&#39;un tableau vide</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="comment">// tab.set_mem_storage(TEMP_STORAGE); // Changement de mode d&#39;allocation</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="comment">// tab.resize(n); // Allocation memoire</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a68433a5b311335a0fd0921fe86927e1c">   70</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a68433a5b311335a0fd0921fe86927e1c">TRUSTArray&lt;_TYPE_&gt;::set_mem_storage</a>(<span class="keyword">const</span> <a class="code hl_enumeration" href="classArray__base.html#a25f85d313c07ae3b1bc1ca6d566b877b">Storage</a> storage)</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>{</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>  storage_type_ = storage;</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>}</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="comment">// </span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment">// Fait pointer le tableau vers la zone de memoire &quot;data_&quot;. On detache la zone de memoire existante.</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment">// Le tableau devient de type &quot;ref_data&quot;. Attention : ptr doit etre non nul. La taille est initialisee avec size.</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment">// Attention: methode virtuelle: dans les classes derivee, cette methode initialise les structures pour creer</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment">// un tableau sequentiel. Pour faire une ref sur un tableau parallele utiliser DoubleVect::ref()</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="comment">// Parametre: _TYPE_*</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment">// Signification: le tableau a recuperer. Si pointeur nul alors size doit etre nulle aussi et le tableau reste detache</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">// Parametre: int size</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="comment">// Signification: le nombre d&#39;elements du tableau.</span><span class="comment"></span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="comment">/** \return TRUSTArray&lt;_TYPE_&gt;\&amp;&lt;br&gt;</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="comment">Signification: *this */</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a870aa1b39d2559241354a74d66e2f045">   87</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a870aa1b39d2559241354a74d66e2f045">TRUSTArray&lt;_TYPE_&gt;::ref_data</a>(_TYPE_* ptr, <span class="keywordtype">int</span> size)</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>{</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>  assert(ptr != 0 || size == 0);</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>  assert(size &gt;= 0);</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>  detach_array();</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>  data_ = ptr;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>  size_array_ = size;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>  memory_size_ = size; <span class="comment">//!&lt; Pour passer les tests si on resize a la meme taille</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>}</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="comment">// </span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="comment">// Fait pointer le tableau vers les memes donnees qu&#39;un tableau existant. Le tableau sera du meme type que le tableau m (&quot;detache&quot;, &quot;normal&quot;).</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="comment">// Le tableau m ne doit pas etre de type &quot;ref_data&quot;. Attention, le tableau source et *this sont ensuite figes (resize_array() interdit).</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="comment">// Attention: methode virtuelle: dans les classes derivee, cette methode initialise les structures pour creer un tableau sequentiel.</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="comment">// Parametre: const TRUSTArray&lt;_TYPE_&gt;&amp; m</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span><span class="comment">// Signification: le tableau a referencer (pas de type &quot;ref_data&quot; et different de *this !!!)</span><span class="comment"></span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="comment">/** \return TRUSTArray&lt;_TYPE_&gt;\&amp;&lt;br&gt;</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="comment">Signification: *this */</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a750db5afc966542934359df8d14181c4">  106</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a750db5afc966542934359df8d14181c4">TRUSTArray&lt;_TYPE_&gt;::ref_array</a>(<a class="code hl_class" href="classTRUSTArray.html">TRUSTArray</a>&amp; m, <span class="keywordtype">int</span> start, <span class="keywordtype">int</span> size)</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>{</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>  assert(&amp;m != <span class="keyword">this</span>);</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="comment">// La condition &#39;m n&#39;est pas de type &quot;ref_data&quot;&#39; est necessaire pour attach_array().</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>  detach_array();</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  attach_array(m, start, size);</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>}</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span><span class="comment">// Copie les donnees du tableau m. Si &quot;m&quot; n&#39;a pas la meme taille que &quot;*this&quot;, on fait un resize_array.</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span><span class="comment">// Ensuite, on copie les valeurs de &quot;m&quot; dans &quot;*this&quot;. Le type de tableau (methode d&#39;allocation) n&#39;est pas copie.</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="comment">// Precondition: preconditions identiques a resize_array()</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span><span class="comment">// Parametre: const TRUSTArray&lt;_TYPE_&gt;&amp; m</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="comment">// Signification: la tableau a copier</span><span class="comment"></span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="comment">/** \return TRUSTArray&lt;_TYPE_&gt;\&amp;&lt;br&gt;</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="comment">Signification: *this */</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#ae94047b9c4f45514208d07fbcbb4ca97">  122</a></span><span class="keyword">inline</span> <a class="code hl_class" href="classTRUSTArray.html">TRUSTArray&lt;_TYPE_&gt;</a>&amp; <a class="code hl_function" href="classTRUSTArray.html#ae94047b9c4f45514208d07fbcbb4ca97">TRUSTArray&lt;_TYPE_&gt;::operator=</a>(<span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">TRUSTArray</a>&amp; m)</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>{</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>  <span class="keywordflow">if</span> (&amp;m != <span class="keyword">this</span>)</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    {</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> new_size = m.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><span class="comment">// On utilise la methode resize_array() qui teste le type derive de l&#39;objet (resize interdit sur un type derive)</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>      resize_array(new_size, NOCOPY_NOINIT);</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>      inject_array(m);</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    }</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>}</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="comment">// operateur [] retourne le ieme element du tableau</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="comment">// Parametre: int i</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="comment">// Signification: indice dans l&#39;intervalle 0 &lt;= i &lt; size_array()</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="comment">// Exception: assert si i n&#39;est pas dans l&#39;intervalle</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#acd252c44e7efa7f11d795085f3cb9784">  139</a></span><span class="keyword">inline</span> _TYPE_&amp; <a class="code hl_function" href="classTRUSTArray.html#acd252c44e7efa7f11d795085f3cb9784">TRUSTArray&lt;_TYPE_&gt;::operator[]</a>(<span class="keywordtype">int</span> i)</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>{</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>  assert(i &gt;= 0 &amp;&amp; i &lt; size_array_);</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>  <span class="keywordflow">return</span> data_[i];</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>}</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span> </div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span><span class="comment">// operateur [] pour TRUSTArray&lt;double&gt; : retourne le ieme element du tableau</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">  146</a></span><span class="comment">// Exception:</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="comment">// assert si la valeur sort de l&#39;intervalle : [ -DMAXFLOAT,DMAXFLOAT ]</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="comment">// assert si i n&#39;est pas dans l&#39;intervalle</span><span class="comment"></span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="comment">///!&lt; \cond DO_NOT_DOCUMENT</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">  150</a></span><span class="comment"></span><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="keyword">inline</span> <span class="keywordtype">double</span>&amp; <a class="code hl_function" href="classTRUSTArray.html#acd252c44e7efa7f11d795085f3cb9784">TRUSTArray&lt;double&gt;::operator[]</a>(<span class="keywordtype">int</span> i)</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>{</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a68433a5b311335a0fd0921fe86927e1c">  153</a></span>  assert(i &gt;= 0 &amp;&amp; i &lt; <a class="code hl_variable" href="classTRUSTArray.html#a73477ab71251172343ec249ace9155a2">size_array_</a>);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  assert(<a class="code hl_variable" href="classTRUSTArray.html#a5ed2c77bf4b7f2355e01afb898839434">data_</a>[i] &gt; -<a class="code hl_define" href="Double_8h.html#ae0ee0cebfad5968da0ad6cc7a49e16b6">DMAXFLOAT</a> &amp;&amp; <a class="code hl_variable" href="classTRUSTArray.html#a5ed2c77bf4b7f2355e01afb898839434">data_</a>[i] &lt; <a class="code hl_define" href="Double_8h.html#ae0ee0cebfad5968da0ad6cc7a49e16b6">DMAXFLOAT</a>);</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classTRUSTArray.html#a5ed2c77bf4b7f2355e01afb898839434">data_</a>[i];</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>}<span class="comment"></span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#ae94047b9c4f45514208d07fbcbb4ca97">  157</a></span><span class="comment">///!&lt; \endcond</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span><span class="comment"></span> </div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="keyword">template</span>&lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#aec0e62a56b6885b6309399e2e2c1037e">  160</a></span><span class="keyword">inline</span> <span class="keyword">const</span> _TYPE_&amp; <a class="code hl_function" href="classTRUSTArray.html#acd252c44e7efa7f11d795085f3cb9784">TRUSTArray&lt;_TYPE_&gt;::operator[]</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>  assert(i &gt;= 0 &amp;&amp; i &lt; size_array_);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>  <span class="keywordflow">return</span> data_[i];</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>}</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="comment"></span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="comment">///!&lt; \cond DO_NOT_DOCUMENT</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><span class="comment"></span><span class="keyword">template</span>&lt;&gt;</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#acd252c44e7efa7f11d795085f3cb9784">  168</a></span><span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; <a class="code hl_function" href="classTRUSTArray.html#acd252c44e7efa7f11d795085f3cb9784">TRUSTArray&lt;double&gt;::operator[]</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#aec0e62a56b6885b6309399e2e2c1037e">  169</a></span><span class="keyword"></span>{</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>  assert(i &gt;= 0 &amp;&amp; i &lt; <a class="code hl_variable" href="classTRUSTArray.html#a73477ab71251172343ec249ace9155a2">size_array_</a>);</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>  assert(<a class="code hl_variable" href="classTRUSTArray.html#a5ed2c77bf4b7f2355e01afb898839434">data_</a>[i] &gt; -<a class="code hl_define" href="Double_8h.html#ae0ee0cebfad5968da0ad6cc7a49e16b6">DMAXFLOAT</a> &amp;&amp; <a class="code hl_variable" href="classTRUSTArray.html#a5ed2c77bf4b7f2355e01afb898839434">data_</a>[i] &lt; <a class="code hl_define" href="Double_8h.html#ae0ee0cebfad5968da0ad6cc7a49e16b6">DMAXFLOAT</a>);</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classTRUSTArray.html#a5ed2c77bf4b7f2355e01afb898839434">data_</a>[i];</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>}<span class="comment"></span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="comment">///!&lt; \endcond</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">  175</a></span><span class="comment"></span> </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a5b98830bbe83add7b994a67b02049641">  176</a></span><span class="comment">// Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detache&quot;.</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="comment">// Attention, l&#39;adresse peut changer apres un appel a resize_array(), ref_data, ref_array, ...</span><span class="comment"></span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="comment">/** \return const _TYPE_*&lt;br&gt;</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">  179</a></span><span class="comment">Signification: pointeur sur le premier element du tableau */</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">  181</a></span><span class="keyword">inline</span> _TYPE_* <a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">TRUSTArray&lt;_TYPE_&gt;::addr</a>()</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a318f81ceefea80623a291eac33a71704">  182</a></span>{</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>  <span class="keywordflow">return</span> data_;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>}</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">  185</a></span> </div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a5b98830bbe83add7b994a67b02049641">  187</a></span><span class="keyword">inline</span> <span class="keyword">const</span> _TYPE_* <a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">TRUSTArray&lt;_TYPE_&gt;::addr</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>  <span class="keywordflow">return</span> data_;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>}</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span> </div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span><span class="comment">// Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()).</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span><span class="comment">// C&#39;est le nombre d&#39;elements accessibles a operator[]</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">  195</a></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">TRUSTArray&lt;_TYPE_&gt;::size_array</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>  <span class="keywordflow">return</span> size_array_;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>}</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span> </div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span><span class="comment">// Retourne le nombre de references des donnees du tableau si le tableau est &quot;normal&quot;, -1 s&#39;il est &quot;detache&quot; ou &quot;ref_data&quot;</span><span class="comment"></span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="comment">/** \return int&lt;br&gt;</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="comment">Signification: ref_count_ */</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a318f81ceefea80623a291eac33a71704">  204</a></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classTRUSTArray.html#a318f81ceefea80623a291eac33a71704">TRUSTArray&lt;_TYPE_&gt;::ref_count</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>  <span class="keywordflow">return</span> p_ ? p_-&gt;ref_count() : -1;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>}</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span> </div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="comment">// Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="comment">// Precondition:</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="comment">// Tableau doit etre de type &quot;smart_resize&quot; (sinon, ecroulement des performances). De plus, le tableau ne doit pas etre &quot;ref_data&quot;,</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="comment">// et il ne doit pas y avoir plus d&#39;une reference a la zone de memoire pointee (meme precondition que resize_array())</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span><span class="comment">// Le tableau doit etre de type TRUSTArray (pas un type derive)</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">  215</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">TRUSTArray&lt;_TYPE_&gt;::append_array</a>(_TYPE_ <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>)</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>{</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>  assert(smart_resize_);</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> n = size_array_;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>  resize_array(size_array_+1, COPY_NOINIT);</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>  data_[n] = <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>}</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span><span class="comment">// Copie les elements source[first_element_source + i] dans les elements  (*this)[first_element_dest + i] pour 0 &lt;= i &lt; nb_elements</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span><span class="comment">// Les autres elements de (*this) sont inchanges.</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="comment">// Precondition:</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="comment">// Parametre:       const ArrOfDouble&amp; m</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span><span class="comment">// Signification:   le tableau a utiliser, doit etre different de *this !</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span><span class="comment">// Parametre:       int nb_elements</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span><span class="comment">// Signification:   nombre d&#39;elements a copier, nb_elements &gt;= -1. Si nb_elements==-1, on copie tout le tableau m.</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span><span class="comment">// Valeurs par defaut: -1</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span><span class="comment">// Parametre:       int first_element_dest</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="comment">// Valeurs par defaut: 0</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="comment">// Parametre:       int first_element_source</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="comment">// Valeurs par defaut: 0</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="comment">// Exception: Sort en erreur si la taille du tableau m est plus grande que la taille de tableau this.</span><span class="comment"></span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="comment">/** \return ArrOfDouble\&amp;&lt;br&gt;</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="comment">Signification: *this */</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#ae2948593ca098c08cef26297918da75c">  239</a></span><span class="keyword">inline</span> <a class="code hl_class" href="classTRUSTArray.html">TRUSTArray&lt;_TYPE_&gt;</a>&amp; <a class="code hl_function" href="classTRUSTArray.html#ae2948593ca098c08cef26297918da75c">TRUSTArray&lt;_TYPE_&gt;::inject_array</a>(<span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">TRUSTArray</a>&amp; source, <span class="keywordtype">int</span> nb_elements, <span class="keywordtype">int</span> first_element_dest, <span class="keywordtype">int</span> first_element_source)</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>{</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>  assert(&amp;source != <span class="keyword">this</span> &amp;&amp; nb_elements &gt;= -1);</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>  assert(first_element_dest &gt;= 0 &amp;&amp; first_element_source &gt;= 0);</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span> </div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>  <span class="keywordflow">if</span> (nb_elements &lt; 0) nb_elements = source.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span> </div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>  assert(first_element_source + nb_elements &lt;= source.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>());</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>  assert(first_element_dest + nb_elements &lt;= size_array());</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#aca5ee4f82522cbe5bdef855231723f78">  248</a></span> </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>  <span class="keywordflow">if</span> (nb_elements &gt; 0)</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>      _TYPE_ * addr_dest = data_ + first_element_dest;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>      <span class="keyword">const</span> _TYPE_ * addr_source = source.<a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">addr</a>() + first_element_source;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a870aa1b39d2559241354a74d66e2f045">  253</a></span><span class="comment">// PL: On utilise le memcpy car c&#39;est VRAIMENT plus rapide (10% +vite sur RNR_G20)</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>      memcpy(addr_dest , addr_source, nb_elements * <span class="keyword">sizeof</span>(_TYPE_));</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>      <span class="comment">/*</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a750db5afc966542934359df8d14181c4">  256</a></span><span class="comment">        int i;</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a9e22f7227316386024ab3ed481f6471c">  257</a></span><span class="comment">        for (i = 0; i &lt; nb_elements; i++) {</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span><span class="comment">        addr_dest[i] = addr_source[i];</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span><span class="comment">        } */</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a7f4738051c192b0059c74fe67e2629f1">  260</a></span>    }</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a6b58e5868c9f1749d0b4be71a55b5ba4">  261</a></span>  <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a2a6412923672423d84a953b3e81b8b7b">  262</a></span>}</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a0d8808965b822352710d80c4996a2bc6">  263</a></span> </div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="comment">// Fonction de comparaison utilisee pour trier le tableau dans ArrOfDouble::trier(). Voir man qsort</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno"><a class="line" href="TRUSTArray_8tpp.html#ac6c1c13b23da42455b5364d7737df70a">  265</a></span><span class="keyword">static</span> <a class="code hl_typedef" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> <a class="code hl_function" href="TRUSTArray_8tpp.html#ac6c1c13b23da42455b5364d7737df70a">fonction_compare_arrofdouble_ordonner</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> * data1, <span class="keyword">const</span> <span class="keywordtype">void</span> * data2)</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>{</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>  <span class="keyword">const</span> <span class="keywordtype">double</span> x = *(<span class="keyword">const</span> <span class="keywordtype">double</span>*)data1;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  <span class="keyword">const</span> <span class="keywordtype">double</span> y = *(<span class="keyword">const</span> <span class="keywordtype">double</span>*)data2;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a476ee6569e9c9b7a831987897ab4f3f9">  269</a></span>  <span class="keywordflow">if</span> (x &lt; y) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt; y) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>  <span class="keywordflow">else</span> <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>}</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span> </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span><span class="comment">// Fonction de comparaison utilisee pour trier le tableau dans ArrOfInt::trier(). Voir man qsort</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="TRUSTArray_8tpp.html#a9d5c9879b5af1e678b1b1f34bfd1828e">  275</a></span><span class="keyword">static</span> <a class="code hl_typedef" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> <a class="code hl_function" href="TRUSTArray_8tpp.html#a9d5c9879b5af1e678b1b1f34bfd1828e">fonction_compare_arrofint_ordonner</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> * data1, <span class="keyword">const</span> <span class="keywordtype">void</span> * data2)</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>{</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> x = *(<span class="keyword">const</span> <span class="keywordtype">int</span>*)data1;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> y = *(<span class="keyword">const</span> <span class="keywordtype">int</span>*)data2;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span><span class="preprocessor">#ifndef INT_is_64_</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>  <span class="keywordflow">return</span> x - y;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>  <span class="keywordflow">if</span> (x &lt; y) <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x &gt; y) <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>  <span class="keywordflow">else</span> <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>}</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span><span class="comment">// Tri des valeurs du tableau dans l&#39;ordre croissant. La fonction utilisee est qsort de stdlib (elle est en n*log(n)).</span><span class="comment"></span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="comment">///!&lt; \cond DO_NOT_DOCUMENT</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span><span class="comment"></span><span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a6380491c50b8df1bc144b70836b73da5">TRUSTArray&lt;double&gt;::ordonne_array</a>()</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>{</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> size = <a class="code hl_variable" href="classTRUSTArray.html#a73477ab71251172343ec249ace9155a2">size_array_</a>;</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>  <span class="keywordflow">if</span> (size &gt; 1)</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    {</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>      <span class="keywordtype">double</span> * data = <a class="code hl_variable" href="classTRUSTArray.html#a5ed2c77bf4b7f2355e01afb898839434">data_</a>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>      qsort(data, size, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>), <a class="code hl_function" href="TRUSTArray_8tpp.html#ac6c1c13b23da42455b5364d7737df70a">fonction_compare_arrofdouble_ordonner</a>);</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    }</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>}</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span><span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a6380491c50b8df1bc144b70836b73da5">TRUSTArray&lt;int&gt;::ordonne_array</a>()</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>{</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> size = <a class="code hl_variable" href="classTRUSTArray.html#a73477ab71251172343ec249ace9155a2">size_array_</a>;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>  <span class="keywordflow">if</span> (size &gt; 1)</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    {</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>      <span class="keywordtype">int</span> * data = <a class="code hl_variable" href="classTRUSTArray.html#a5ed2c77bf4b7f2355e01afb898839434">data_</a>;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>      qsort(data, size, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <a class="code hl_function" href="TRUSTArray_8tpp.html#a9d5c9879b5af1e678b1b1f34bfd1828e">fonction_compare_arrofint_ordonner</a>);</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    }</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>}<span class="comment"></span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span><span class="comment">///!&lt; \endcond</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span><span class="comment"></span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span><span class="comment">// Tri des valeurs du tableau dans l&#39;ordre croissant et suppresion des doublons La fonction utilisee est qsort de stdlib (elle est en n*log(n)).</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#aca5ee4f82522cbe5bdef855231723f78">  314</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#aca5ee4f82522cbe5bdef855231723f78">TRUSTArray&lt;_TYPE_&gt;::array_trier_retirer_doublons</a>()</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>{</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> size_ = size_array_;</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>  <span class="keywordflow">if</span> (size_ &lt;= 0) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span> </div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>  ordonne_array(); <span class="comment">//!&lt; Tri dans l&#39;ordre croissant Retire les doublons (codage optimise en pointeurs)</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span><span class="comment">//</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>  _TYPE_ last_value = *data_;</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>  _TYPE_ *src = data_ + 1;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>  _TYPE_ *dest = data_ + 1;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = size_ - 1; i != 0; i--)</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    {</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>      _TYPE_ x = *(src++);</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>      <span class="keywordflow">if</span> (x != last_value)</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        {</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>          *(dest++) = x;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>          last_value = x;</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>        }</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>    }</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>  <span class="keywordtype">int</span> new_size_ = dest - data_;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>  resize_array(new_size_);</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>}</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span><span class="comment">// Amene le tableau dans l&#39;etat &quot;normal&quot;, &quot;detache&quot; ou &quot;ref_array&quot; en associant une sous-zone de memoire du tableau m,</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span><span class="comment">// definie par start et size. Si size &lt; 0, on prend le tableau m jusqu&#39;a la fin.</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span><span class="comment">// Precondition: Le tableau doit etre &quot;detache&quot;</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span><span class="comment">// Parametre: const ArrOfDouble&amp; m</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span><span class="comment">// Signification: tableau a utiliser. le tableau doit etre different de *this !!!</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span><span class="comment">// Postcondition:</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span><span class="comment">// Si m est detache, le tableau reste detache,</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span><span class="comment">// si m est &quot;ref_array&quot;, le tableau devient &quot;ref_array&quot;,</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span><span class="comment">// sinon le tableau est &quot;normal&quot;, avec ref_count &gt; 1</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span><span class="comment">// Si m est de taille nulle, le tableau reste detache + Warning dans fichier .log</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a7f4738051c192b0059c74fe67e2629f1">  348</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a7f4738051c192b0059c74fe67e2629f1">TRUSTArray&lt;_TYPE_&gt;::attach_array</a>(<span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">TRUSTArray</a>&amp; m, <span class="keywordtype">int</span> start, <span class="keywordtype">int</span> size)</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>{</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span><span class="comment">// Le tableau doit etre detache</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>  assert(data_ == 0 &amp;&amp; p_ == 0);</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span><span class="comment">// Le tableau doit etre different de *this</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>  assert(&amp;m != <span class="keyword">this</span>);</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>  <span class="keywordflow">if</span> (size &lt; 0) size = m.<a class="code hl_variable" href="classTRUSTArray.html#a73477ab71251172343ec249ace9155a2">size_array_</a> - start;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>  assert(start &gt;= 0 &amp;&amp; size &gt;=0 &amp;&amp; start + size &lt;= m.<a class="code hl_variable" href="classTRUSTArray.html#a73477ab71251172343ec249ace9155a2">size_array_</a>);</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>  <span class="keywordflow">if</span> (m.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>() &gt; 0)</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    {</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>      p_ = m.<a class="code hl_variable" href="classTRUSTArray.html#a0f01dd3df710c4af581ddeae2bf08bce">p_</a>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>      <span class="keywordflow">if</span> (p_) p_-&gt;add_one_ref();</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>      data_ = m.<a class="code hl_variable" href="classTRUSTArray.html#a5ed2c77bf4b7f2355e01afb898839434">data_</a> + start;</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>      size_array_ = size;</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>      memory_size_ = m.<a class="code hl_variable" href="classTRUSTArray.html#a50cc8848080b86d9b445aef0f1224761">memory_size_</a> - start;</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>      smart_resize_ = m.<a class="code hl_variable" href="classTRUSTArray.html#a3d67506507d714334658343c8da85b92">smart_resize_</a>;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    }</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    {</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span><span class="comment">// Cas particulier ou on attache un tableau de taille nulle: en theorie, c&#39;est pareil qu&#39;un tableau de taille non nulle, MAIS</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span><span class="comment">// dans les operateurs (ex:Op_Dift_VDF_Face_Axi), une ref est construite avant que le tableau ne prenne sa taille definitive. Donc, pour ne pas</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span><span class="comment">// empecher le resize, il ne faut pas attacher le tableau s&#39;il n&#39;a pas encore la bonne taille. Solution propre: reecrire les operateurs pour</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span><span class="comment">// qu&#39;ils ne prennent pas une ref avant que le tableau ne soit valide et faire p_ = m.p_ dans tous les cas.</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span><span class="comment">// Process::Journal() &lt;&lt; &quot;Warning TRUSTArray::attach_array(m), m.size_array()==0, on n attache pas le tableau&quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    }</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>}</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span><span class="comment">// Remplit &quot;nb&quot; cases consecutives du tableau a partir de la case &quot;first&quot; avec une valeur par defaut.</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span><span class="comment">// Cette fonction est appelee lors d&#39;un resize pour initialiser les cases nouvellement creees.</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span><span class="comment">// Le comportement depend actuellement du type de tableau :</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span><span class="comment">// * Tableau de type &quot;smart_resize&quot;:</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="comment">// * en mode debug (macro NDEBUG non definie) le tableau est initialise</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span><span class="comment">// avec une valeur invalide.</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span><span class="comment">// * en optimise, le tableau n&#39;est pas initialise</span></div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span><span class="comment">// * Tableau normal :</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span><span class="comment">// Le tableau est initialise avec la valeur 0. Ce comportement est choisi pour des raisons de compatibilite avec l&#39;implementation precedente.</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span><span class="comment">// Cette specification pourrait etre modifiee prochainement pour des raisons de performances (pour ne pas avoir a initialiser inutilement les tableaux).</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span><span class="comment">// DONC: il faut supposer desormais que les nouvelles cases ne sont pas initialisees lors d&#39;un resize.</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span><span class="comment">// Parametre: first</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span><span class="comment">// Signification: premiere case a initialiser.</span></div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span><span class="comment">// Contrainte:    (nb==0) ou (0 &lt;= first &lt; memory_size_)</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span><span class="comment">// Parametre: nb</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span><span class="comment">// Signification: nombre de cases a initialiser.</span></div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span><span class="comment">// Contrainte:    (nb==0) ou (0 &lt; nb &lt;= memory_size_ - first)</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a6b58e5868c9f1749d0b4be71a55b5ba4">  394</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a6b58e5868c9f1749d0b4be71a55b5ba4">TRUSTArray&lt;_TYPE_&gt;::fill_default_value</a>(<a class="code hl_enumeration" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt, <span class="keywordtype">int</span> first, <span class="keywordtype">int</span> nb)</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>{</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>  assert((nb == 0) || (first &gt;= 0 &amp;&amp; first &lt; memory_size_));</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>  assert((nb == 0) || (nb &gt; 0 &amp;&amp; nb &lt;= memory_size_ - first));</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>  _TYPE_ * data = data_;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>  assert(data!=0 || nb==0);</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>  data += first;</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>  <span class="keywordflow">if</span> (opt != COPY_INIT)</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    {</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span><span class="preprocessor">#ifndef NDEBUG </span><span class="comment">//!&lt; On initialise uniquement en mode debug</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>      <span class="keyword">static</span> <span class="keyword">const</span> _TYPE_  INVALIDE_ = (std::is_same&lt;_TYPE_,double&gt;::value) ? <a class="code hl_define" href="Double_8h.html#ae0ee0cebfad5968da0ad6cc7a49e16b6">DMAXFLOAT</a>*0.999 : INT_MIN;</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb; i++) data[i] = INVALIDE_;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    }</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>  <span class="keywordflow">else</span> <span class="comment">//!&lt; Comportement pour les tableaux normaux : compatibilite avec la version precedente : on initialise avec 0.</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb; i++) data[i] = (_TYPE_) 0;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>}</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span> </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span><span class="comment">// methode protegee de changement de taille, appelable par les classes derivees</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span><span class="comment">// (idem que resize_array() mais sans condition sur le type derive de l&#39;objet)</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a2a6412923672423d84a953b3e81b8b7b">  415</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a2a6412923672423d84a953b3e81b8b7b">TRUSTArray&lt;_TYPE_&gt;::resize_array_</a>(<span class="keywordtype">int</span> new_size, <a class="code hl_enumeration" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>{</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>  assert(new_size &gt;= 0);</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span><span class="comment">// Soit le tableau est detache (data_==0), soit il est normal (p_!=0)</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span><span class="comment">// S&#39;il est normal, il ne faut pas qu&#39;il y ait d&#39;autre reference au tableau, ou alors la taille ne doit pas changer.</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>  assert(new_size == size_array_ || data_ == 0 || (p_ != 0 &amp;&amp; ref_count() == 1));</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span><span class="comment">// Le seul cas ou on n&#39;appelle pas memory_resize est le suivant : e tableau est smart_resize</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span><span class="comment">// ET la taille reste inferieure ou egale a la taille allouee ET on ne veut pas initialiser les nouvelles cases</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>  <span class="keywordflow">if</span> ((opt == COPY_INIT) || (new_size &gt; memory_size_) || (smart_resize_ == 0))</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span><span class="comment">// attention, il existe un cas ou memory_resize realloue un buffer meme si size_array_== new_size:</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span><span class="comment">// si on est passe de smart_resize=1 a smart_resize=0, on realloue juste ce qu&#39;il faut.</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    memory_resize(new_size, opt);</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>  size_array_ = new_size;</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>}</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span><span class="comment">// Amene le tableau dans l&#39;etat &quot;detache&quot;. C&#39;est a dire:</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span><span class="comment">// Si le tableau est &quot;detache&quot; :</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span><span class="comment">// * ne rien faire</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span><span class="comment">// Si le tableau est &quot;normal&quot; :</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span><span class="comment">// * decremente le nombre de references a *p</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span><span class="comment">// * detruit *p si p-&gt;ref_count==0</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span><span class="comment">// * annule p_, data_ et size_array_</span></div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span><span class="comment">// Si le tableau est &quot;ref_data&quot; :</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span><span class="comment">// * annule data_ et size_array_</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span><span class="comment">// Postcondition: On a p_==0, data_==0 et size_array_==0, memory_size_ = 0. L&#39;attribut smart_resize_ est conserve.</span><span class="comment"></span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span><span class="comment">/** \return int&lt;br&gt;</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span><span class="comment">Signification: 1 si les donnees du tableau ont ete supprimees */</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a0d8808965b822352710d80c4996a2bc6">  443</a></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classTRUSTArray.html#a0d8808965b822352710d80c4996a2bc6">TRUSTArray&lt;_TYPE_&gt;::detach_array</a>()</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>{</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>  <span class="keywordtype">int</span> retour = 0;</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>  <span class="keywordflow">if</span> (p_)</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    {</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span><span class="comment">// Le tableau est de type &quot;normal&quot;. Si la zone de memoire n&#39;est plus utilisee par personne, on la detruit.</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>      <span class="keywordflow">if</span> ((p_-&gt;suppr_one_ref()) == 0)</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>        {</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>          <span class="keyword">delete</span> p_;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>          retour = 1;</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        }</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>      p_ = 0;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    }</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>  data_ = 0;</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>  size_array_ = 0;</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>  memory_size_ = 0;</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>  <span class="keywordflow">return</span> retour;</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>}</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span><span class="comment">// Si besoin, alloue une nouvelle zone de memoire, copie les donnees et efface l&#39;ancienne zone de memoire.</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span><span class="comment">// Attention, on suppose que cette methode est appelee par resize_array().</span></div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span><span class="comment">// Attention: si ref_count_&gt;1, l&#39;appel a resize_array() est autorise uniquement si la nouvelle taille est identique a la precedente (auquel cas on ne fait rien)</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span><span class="comment">// Si ref_count_ == 1, l&#39;appel est invalide si p_-&gt;data_ est different de data_ (le tableau a ete construit avec ref_array() avec start &gt; 0)</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span><span class="comment">// Precondition:</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span><span class="comment">// Le tableau doit etre de type &quot;detache&quot; ou &quot;normal&quot; avec ref_count==1, et il faut new_size &gt;= 0</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span><span class="comment">// On suppose que size_array contient encore le nombre d&#39;elements valides avant changement de taille.</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span><span class="comment">// Parametre: new_size</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span><span class="comment">// Signification: nouvelle taille demandee pour le tableau.</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span><span class="comment">// Parametre: options</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span><span class="comment">// Signification: voir ArrOfDouble::Resize_Options</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span><span class="comment">// Postcondition:</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span><span class="comment">// p_ et data_ sont mis a jour, mais pas size_array_ !!! (on suppose que c&#39;est fait dans resize_array()).</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span><span class="comment">// Si la nouvelle taille est nulle, on detache le tableau.</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span><span class="keyword">template</span> &lt;<span class="keyword">typename</span> _TYPE_&gt;</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno"><a class="line" href="classTRUSTArray.html#a476ee6569e9c9b7a831987897ab4f3f9">  477</a></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code hl_function" href="classTRUSTArray.html#a476ee6569e9c9b7a831987897ab4f3f9">TRUSTArray&lt;_TYPE_&gt;::memory_resize</a>(<span class="keywordtype">int</span> new_size, <a class="code hl_enumeration" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>{</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>  assert(new_size &gt;= 0);</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span> </div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span><span class="comment">// Si new_size==size_array_, on ne fait rien, c&#39;est toujours autorise</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>  <span class="keywordflow">if</span> (new_size == size_array_) <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span><span class="comment">// Sinon, il faut que le resize soit autorise, c&#39;est a dire</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span><span class="comment">// - soit le tableau est detache</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span><span class="comment">// - soit le tableau est normal et il n&#39;y a pas d&#39;autre reference au tableau</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>  assert((data_ == 0) || ((p_ != 0) &amp;&amp; (p_-&gt;get_data() == data_) &amp;&amp; (ref_count() == 1)));</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span><span class="comment">// Occupation memoire de l&#39;ancien tableau:</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>  <span class="keywordtype">int</span> old_mem_size = memory_size_;</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>  assert((!p_) || (p_-&gt;get_size() == memory_size_));</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>  assert(memory_size_ &gt;= size_array_);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span> </div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span><span class="comment">// Occupation memoire du nouveau tableau : Si smart_resize, on prend au moins deux fois la taille precedente, ou new_size</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>  <span class="keywordtype">int</span> new_mem_size = new_size;</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>  <span class="keywordflow">if</span> (smart_resize_)</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>    {</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>      <span class="keywordflow">if</span> (new_size &lt;= old_mem_size) new_mem_size = old_mem_size;</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_size &lt; old_mem_size * 2) new_mem_size = old_mem_size * 2;</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_size &gt; old_mem_size &amp;&amp; old_mem_size &gt; INT_MAX / 2) new_mem_size = INT_MAX;</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    }</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span> </div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>  <span class="keywordflow">if</span> (new_mem_size != old_mem_size)</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    {</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span><span class="comment">// detach_array() efface le contenu de size_array_. On le met de cote:</span></div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> old_size_array = size_array_;</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>      <span class="keywordflow">if</span> (new_mem_size == 0) detach_array(); <span class="comment">//!&lt; La nouvelle taille est nulle, on cree un tableau &quot;detache&quot;</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        {</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span><span class="comment">// Allocation d&#39;une nouvelle zone</span></div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>          <a class="code hl_class" href="classVTRUSTdata.html">VTRUSTdata&lt;_TYPE_&gt;</a> * new_p = <span class="keyword">new</span> <a class="code hl_class" href="classVTRUSTdata.html">VTRUSTdata&lt;_TYPE_&gt;</a>(new_mem_size, storage_type_);</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>          _TYPE_ * new_data = new_p-&gt;<a class="code hl_function" href="classVTRUSTdata.html#a444d77794e3dd25191f9718d07e38a7b">get_data</a>();</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span><span class="comment">// Raccourci si le tableau etait &quot;detache&quot;, inutile de copier les anciennes donnees. On copie si COPY_OLD est demande</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>          <span class="keywordtype">int</span> copy_size = 0;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>          <span class="keywordflow">if</span> (data_ != 0)</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>            {</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span><span class="comment">// Calcul du nombre d&#39;elements a copier vers la nouvelle zone de memoire : c&#39;est le min de l&#39;ancienne et de la nouvelle taille.</span></div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>              <span class="keywordflow">if</span> (opt != NOCOPY_NOINIT)</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>                {</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>                  copy_size = size_array_;</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>                  <span class="keywordflow">if</span> (new_size &lt; copy_size) copy_size = new_size;</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span><span class="comment">// Copie des valeurs dans le nouveau tableau</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; copy_size; i++) new_data[i] = data_[i];</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>                }</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>              detach_array(); <span class="comment">//!&lt; Destruction de l&#39;ancienne zone (si plus aucune reference)</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>            }</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span><span class="comment">// On attache la nouvelle zone de memoire</span></div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>          p_ = new_p;</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>          data_ = new_data;</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>          memory_size_ = new_mem_size;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span><span class="comment">// Initialisation des cases supplementaires avec une valeur par defaut</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>          fill_default_value(opt, copy_size, new_mem_size - copy_size);</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span><span class="comment">// Restaure l&#39;ancienne valeur de size_array_</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>          size_array_ = old_size_array;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>        }</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>    }</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    {</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span><span class="comment">// Pas de reallocation, initialisation si besoin</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>      <span class="keywordflow">if</span> (opt == COPY_INIT &amp;&amp; new_size &gt; size_array_) fill_default_value(opt, size_array_, new_size - size_array_);</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>    }</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>}</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span> </div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span><span class="preprocessor">#endif </span><span class="comment">/* TRUSTArray_TPP_included */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span> </div>
<div class="ttc" id="aDouble_8h_html_ae0ee0cebfad5968da0ad6cc7a49e16b6"><div class="ttname"><a href="Double_8h.html#ae0ee0cebfad5968da0ad6cc7a49e16b6">DMAXFLOAT</a></div><div class="ttdeci">#define DMAXFLOAT</div><div class="ttdef"><b>Definition:</b> <a href="Double_8h_source.html#l00064">Double.h:64</a></div></div>
<div class="ttc" id="aSource__Generique__Face__PolyMAC_8cpp_html_a7d7b5d77a3caa1af70f5e1c9108de5a1"><div class="ttname"><a href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a></div><div class="ttdeci">double valeur(const DoubleTab &amp;valeurs_champ, int elem1, int elem2, const int &amp;compo)</div><div class="ttdef"><b>Definition:</b> <a href="Source__Generique__Face__PolyMAC_8cpp_source.html#l00038">Source_Generique_Face_PolyMAC.cpp:38</a></div></div>
<div class="ttc" id="aTRUSTArray_8tpp_html_a9d5c9879b5af1e678b1b1f34bfd1828e"><div class="ttname"><a href="TRUSTArray_8tpp.html#a9d5c9879b5af1e678b1b1f34bfd1828e">fonction_compare_arrofint_ordonner</a></div><div class="ttdeci">static True_int fonction_compare_arrofint_ordonner(const void *data1, const void *data2)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00275">TRUSTArray.tpp:275</a></div></div>
<div class="ttc" id="aTRUSTArray_8tpp_html_ac6c1c13b23da42455b5364d7737df70a"><div class="ttname"><a href="TRUSTArray_8tpp.html#ac6c1c13b23da42455b5364d7737df70a">fonction_compare_arrofdouble_ordonner</a></div><div class="ttdeci">static True_int fonction_compare_arrofdouble_ordonner(const void *data1, const void *data2)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00265">TRUSTArray.tpp:265</a></div></div>
<div class="ttc" id="aarch_8h_html_a1caaf369d9c5f0817dbaa76b43b8d87b"><div class="ttname"><a href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a></div><div class="ttdeci">int True_int</div><div class="ttdef"><b>Definition:</b> <a href="arch_8h_source.html#l00080">arch.h:80</a></div></div>
<div class="ttc" id="aclassArray__base_html_a25f85d313c07ae3b1bc1ca6d566b877b"><div class="ttname"><a href="classArray__base.html#a25f85d313c07ae3b1bc1ca6d566b877b">Array_base::Storage</a></div><div class="ttdeci">Storage</div><div class="ttdef"><b>Definition:</b> <a href="Array__base_8h_source.html#l00033">Array_base.h:33</a></div></div>
<div class="ttc" id="aclassArray__base_html_abee342aa9ac59623c4c782dc9d7877ff"><div class="ttname"><a href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a></div><div class="ttdeci">Resize_Options</div><div class="ttdef"><b>Definition:</b> <a href="Array__base_8h_source.html#l00032">Array_base.h:32</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html"><div class="ttname"><a href="classTRUSTArray.html">TRUSTArray</a></div><div class="ttdoc">Represente un tableau d'elements de type int/double/float. L'etat du tableau est caracterise par la v...</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8h_source.html#l00040">TRUSTArray.h:41</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a0d8808965b822352710d80c4996a2bc6"><div class="ttname"><a href="classTRUSTArray.html#a0d8808965b822352710d80c4996a2bc6">TRUSTArray::detach_array</a></div><div class="ttdeci">int detach_array()</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00443">TRUSTArray.tpp:443</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a0f01dd3df710c4af581ddeae2bf08bce"><div class="ttname"><a href="classTRUSTArray.html#a0f01dd3df710c4af581ddeae2bf08bce">TRUSTArray::p_</a></div><div class="ttdeci">VTRUSTdata&lt; _TYPE_ &gt; * p_</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8h_source.html#l00272">TRUSTArray.h:272</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a12099f562e7ea212f5f2cbffab78b8e8"><div class="ttname"><a href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">TRUSTArray::addr</a></div><div class="ttdeci">_TYPE_ * addr()</div><div class="ttdoc">!&lt;</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00181">TRUSTArray.tpp:181</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a2a6412923672423d84a953b3e81b8b7b"><div class="ttname"><a href="classTRUSTArray.html#a2a6412923672423d84a953b3e81b8b7b">TRUSTArray::resize_array_</a></div><div class="ttdeci">void resize_array_(int n, Array_base::Resize_Options opt=COPY_INIT)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00415">TRUSTArray.tpp:415</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a318f81ceefea80623a291eac33a71704"><div class="ttname"><a href="classTRUSTArray.html#a318f81ceefea80623a291eac33a71704">TRUSTArray::ref_count</a></div><div class="ttdeci">int ref_count() const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00204">TRUSTArray.tpp:204</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a3d67506507d714334658343c8da85b92"><div class="ttname"><a href="classTRUSTArray.html#a3d67506507d714334658343c8da85b92">TRUSTArray::smart_resize_</a></div><div class="ttdeci">int smart_resize_</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8h_source.html#l00286">TRUSTArray.h:286</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a476ee6569e9c9b7a831987897ab4f3f9"><div class="ttname"><a href="classTRUSTArray.html#a476ee6569e9c9b7a831987897ab4f3f9">TRUSTArray::memory_resize</a></div><div class="ttdeci">void memory_resize(int new_size, Array_base::Resize_Options opt=COPY_INIT)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00477">TRUSTArray.tpp:477</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a50cc8848080b86d9b445aef0f1224761"><div class="ttname"><a href="classTRUSTArray.html#a50cc8848080b86d9b445aef0f1224761">TRUSTArray::memory_size_</a></div><div class="ttdeci">int memory_size_</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8h_source.html#l00282">TRUSTArray.h:282</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a5ed2c77bf4b7f2355e01afb898839434"><div class="ttname"><a href="classTRUSTArray.html#a5ed2c77bf4b7f2355e01afb898839434">TRUSTArray::data_</a></div><div class="ttdeci">_TYPE_ * data_</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8h_source.html#l00276">TRUSTArray.h:276</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a6380491c50b8df1bc144b70836b73da5"><div class="ttname"><a href="classTRUSTArray.html#a6380491c50b8df1bc144b70836b73da5">TRUSTArray::ordonne_array</a></div><div class="ttdeci">void ordonne_array()</div></div>
<div class="ttc" id="aclassTRUSTArray_html_a68433a5b311335a0fd0921fe86927e1c"><div class="ttname"><a href="classTRUSTArray.html#a68433a5b311335a0fd0921fe86927e1c">TRUSTArray::set_mem_storage</a></div><div class="ttdeci">void set_mem_storage(const Storage storage)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00070">TRUSTArray.tpp:70</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a6b58e5868c9f1749d0b4be71a55b5ba4"><div class="ttname"><a href="classTRUSTArray.html#a6b58e5868c9f1749d0b4be71a55b5ba4">TRUSTArray::fill_default_value</a></div><div class="ttdeci">void fill_default_value(Array_base::Resize_Options opt, int first, int nb)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00394">TRUSTArray.tpp:394</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a73477ab71251172343ec249ace9155a2"><div class="ttname"><a href="classTRUSTArray.html#a73477ab71251172343ec249ace9155a2">TRUSTArray::size_array_</a></div><div class="ttdeci">int size_array_</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8h_source.html#l00279">TRUSTArray.h:279</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a750db5afc966542934359df8d14181c4"><div class="ttname"><a href="classTRUSTArray.html#a750db5afc966542934359df8d14181c4">TRUSTArray::ref_array</a></div><div class="ttdeci">virtual void ref_array(TRUSTArray &amp;, int start=0, int sz=-1)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00106">TRUSTArray.tpp:106</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a7c2cb947c5f755b7bcc8256246ccfdb5"><div class="ttname"><a href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">TRUSTArray::set_smart_resize</a></div><div class="ttdeci">void set_smart_resize(int flag)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00058">TRUSTArray.tpp:58</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a7dfa8096799f0638dd3b700d945f5f04"><div class="ttname"><a href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">TRUSTArray::append_array</a></div><div class="ttdeci">void append_array(_TYPE_ valeur)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00215">TRUSTArray.tpp:215</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a7f4738051c192b0059c74fe67e2629f1"><div class="ttname"><a href="classTRUSTArray.html#a7f4738051c192b0059c74fe67e2629f1">TRUSTArray::attach_array</a></div><div class="ttdeci">void attach_array(const TRUSTArray &amp;a, int start=0, int size=-1)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00348">TRUSTArray.tpp:348</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a7fdab39e76f6cb0f5a5691eaaee32d8c"><div class="ttname"><a href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">TRUSTArray::resize_array</a></div><div class="ttdeci">void resize_array(int new_size, Array_base::Resize_Options opt=COPY_INIT)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00038">TRUSTArray.tpp:38</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a870aa1b39d2559241354a74d66e2f045"><div class="ttname"><a href="classTRUSTArray.html#a870aa1b39d2559241354a74d66e2f045">TRUSTArray::ref_data</a></div><div class="ttdeci">virtual void ref_data(_TYPE_ *ptr, int size)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00087">TRUSTArray.tpp:87</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a9e22f7227316386024ab3ed481f6471c"><div class="ttname"><a href="classTRUSTArray.html#a9e22f7227316386024ab3ed481f6471c">TRUSTArray::resize_tab</a></div><div class="ttdeci">virtual void resize_tab(int n, Array_base::Resize_Options opt=COPY_INIT)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00050">TRUSTArray.tpp:50</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_ac03d475a56970fcc19cf624a0353e42e"><div class="ttname"><a href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">TRUSTArray::size_array</a></div><div class="ttdeci">int size_array() const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00195">TRUSTArray.tpp:195</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_aca5ee4f82522cbe5bdef855231723f78"><div class="ttname"><a href="classTRUSTArray.html#aca5ee4f82522cbe5bdef855231723f78">TRUSTArray::array_trier_retirer_doublons</a></div><div class="ttdeci">void array_trier_retirer_doublons()</div><div class="ttdoc">!&lt;</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00314">TRUSTArray.tpp:314</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_acd252c44e7efa7f11d795085f3cb9784"><div class="ttname"><a href="classTRUSTArray.html#acd252c44e7efa7f11d795085f3cb9784">TRUSTArray::operator[]</a></div><div class="ttdeci">_TYPE_ &amp; operator[](int i)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00139">TRUSTArray.tpp:139</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_ae2948593ca098c08cef26297918da75c"><div class="ttname"><a href="classTRUSTArray.html#ae2948593ca098c08cef26297918da75c">TRUSTArray::inject_array</a></div><div class="ttdeci">TRUSTArray &amp; inject_array(const TRUSTArray &amp;source, int nb_elements=-1, int first_element_dest=0, int first_element_source=0)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00239">TRUSTArray.tpp:239</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_ae94047b9c4f45514208d07fbcbb4ca97"><div class="ttname"><a href="classTRUSTArray.html#ae94047b9c4f45514208d07fbcbb4ca97">TRUSTArray::operator=</a></div><div class="ttdeci">TRUSTArray &amp; operator=(const TRUSTArray &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00122">TRUSTArray.tpp:122</a></div></div>
<div class="ttc" id="aclassVTRUSTdata_html"><div class="ttname"><a href="classVTRUSTdata.html">VTRUSTdata</a></div><div class="ttdoc">VTRUSTdata alloue une zone de memoire de la taille specifiee au constructeur, et libere la zone de me...</div><div class="ttdef"><b>Definition:</b> <a href="VTRUSTdata_8h_source.html#l00034">VTRUSTdata.h:35</a></div></div>
<div class="ttc" id="aclassVTRUSTdata_html_a444d77794e3dd25191f9718d07e38a7b"><div class="ttname"><a href="classVTRUSTdata.html#a444d77794e3dd25191f9718d07e38a7b">VTRUSTdata::get_data</a></div><div class="ttdeci">_TYPE_ * get_data()</div><div class="ttdef"><b>Definition:</b> <a href="VTRUSTdata_8h_source.html#l00056">VTRUSTdata.h:56</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 29 2022 11:11:30 for TRUST by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
