<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Framework/List_Equations_Scalaires_Passifs_Especes.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Framework/List_Equations_Scalaires_Passifs_Especes.cpp</div>  </div>
</div>
<div class="contents">
<a href="List__Equations__Scalaires__Passifs__Especes_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        List_Equations_Scalaires_Passifs_Especes.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Framework</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/14</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="List__Equations__Scalaires__Passifs__Especes_8h.html">List_Equations_Scalaires_Passifs_Especes.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Probleme__base_8h.html">Probleme_base.h</a>&gt;</span>
<a name="l00025"></a>00025 
<a name="l00026"></a><a class="code" href="List__Equations__Scalaires__Passifs__Especes_8cpp.html#a7591c81bbf2991c5628f04907834dab0">00026</a> <a class="code" href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a>(<a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html" title="classe List_Equations_Scalaires_Passifs_Especes Represente une liste d&#39;equations de scalaires passifs...">List_Equations_Scalaires_Passifs_Especes</a>,<span class="stringliteral">&quot;Equations_Scalaires_Passifs|Equations_Especes&quot;</span>,<a class="code" href="classEquation__base.html">Equation_base</a>);
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a867834aae1313589cbce29d4e6ee3406">00028</a> <a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a867834aae1313589cbce29d4e6ee3406">List_Equations_Scalaires_Passifs_Especes::List_Equations_Scalaires_Passifs_Especes</a>() : complet(0) { }
<a name="l00029"></a>00029 
<a name="l00030"></a><a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a7ca18671472453e8cd74a0384df206f1">00030</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a7ca18671472453e8cd74a0384df206f1" title="Surcharge Objet_U::printOn Imprime l&#39;equation et ses composants sur un flot de sortie. Imprime le nom de l&#39;equation, le solveur masse, les termes sources les conditions aux limites discretisees, les inconnues et les operateurs.">List_Equations_Scalaires_Passifs_Especes::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00031"></a>00031 <span class="keyword"></span>{
<a name="l00032"></a>00032   <span class="keywordflow">return</span> os;
<a name="l00033"></a>00033 }
<a name="l00034"></a>00034 
<a name="l00035"></a><a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a610d85b6374f65c05637581de1b6de3b">00035</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a610d85b6374f65c05637581de1b6de3b" title="Lecture d&#39;une equation sur un flot d&#39;entree. Le format est le suivant: { [Source { [sou_1]...">List_Equations_Scalaires_Passifs_Especes::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00036"></a>00036 {
<a name="l00037"></a>00037 <span class="comment">// Ici se situe un gros piratage</span>
<a name="l00038"></a>00038   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> accolade_ouverte(<span class="stringliteral">&quot;{&quot;</span>);
<a name="l00039"></a>00039   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> accolade_fermee(<span class="stringliteral">&quot;}&quot;</span>);
<a name="l00040"></a>00040   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> motlu;
<a name="l00041"></a>00041   is &gt;&gt; motlu;
<a name="l00042"></a>00042   <span class="keywordflow">if</span> (motlu!=accolade_ouverte)
<a name="l00043"></a>00043     {
<a name="l00044"></a>00044       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Big problem in List_Equations_Scalaires_Passifs_Especes::readOn , we expected &quot;</span>&lt;&lt;accolade_ouverte;
<a name="l00045"></a>00045       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00046"></a>00046     }
<a name="l00047"></a>00047   is &gt;&gt; motlu;
<a name="l00048"></a>00048   <span class="keywordflow">while</span> (motlu!=accolade_fermee)
<a name="l00049"></a>00049     {
<a name="l00050"></a>00050       <a class="code" href="classEquation.html" title="classe Equation Classe generique de la hierarchie des equations. Un objet Equation peut referencer n&#39;...">Equation</a> toto;
<a name="l00051"></a>00051       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nume(<a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a494a24c356fb50d1afe518f4eb4beaa3">list_eq</a>.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>());
<a name="l00052"></a>00052       <a class="code" href="classEquation.html" title="classe Equation Classe generique de la hierarchie des equations. Un objet Equation peut referencer n&#39;...">Equation</a>&amp; Eqn_nvelle=<a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a494a24c356fb50d1afe518f4eb4beaa3">list_eq</a>.<a class="code" href="classList__Equation.html#a96fbfe75762efa6fcf538af849cf4e1e">add</a>(toto);
<a name="l00053"></a>00053       Eqn_nvelle.typer(motlu);
<a name="l00054"></a>00054       <a class="code" href="classEquation__base.html">Equation_base</a>&amp; Eqn = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classEquation__base.html">Equation_base</a>,Eqn_nvelle.valeur());
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="comment">// maintenant on associe le pb</span>
<a name="l00057"></a>00057       Eqn.<a class="code" href="classEquation__base.html#a3b6b408360358fb75bfe61e9c65f771c" title="S&#39;associe au Probleme passe en parametre. Associe egalement les sources, les operateurs et le solveur...">associer_pb_base</a>(<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>());
<a name="l00058"></a>00058       Eqn.<a class="code" href="classEquation__base.html#a1886b59d39b7d60afb39aadfb56b971b">associer_milieu_base</a>(<a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a3def360cff1b27f08878d0379f39f13d">mil</a>.<a class="code" href="classRef__Milieu__base.html#a81a55a57ab130fe86cac85027eb3bb12">valeur</a>());
<a name="l00059"></a>00059       Eqn.<a class="code" href="classEquation__base.html#aabd38edf86fa21fec604553313862bff" title="S&#39;associe au schema_en_temps.">associer_sch_tps_base</a>(<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>());
<a name="l00060"></a>00060 
<a name="l00061"></a>00061 <span class="comment">// on la discretise (pas fait par discretiser)</span>
<a name="l00062"></a>00062       Eqn.<a class="code" href="classEquation__base.html#a25318ab0a20cd120e4e4671ca156b8df" title="Associe la zone discretisee a l&#39;equation.">associer_zone_dis</a>(<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().domaine_dis().<a class="code" href="classEquation__base.html#a12d97ae801edc18f614523677921346e" title="Renvoie la zone discretisee associee a l&#39;equation.">zone_dis</a>(0));
<a name="l00063"></a>00063       Eqn.<a class="code" href="classEquation__base.html#ac849b71b99dbe338b049a7728208c965" title="Discretise l&#39;equation. Type la zone_Cl_dis, la formatte, l&#39;associe a l&#39;equation. Type le solveur mass...">discretiser</a>();
<a name="l00064"></a>00064 
<a name="l00065"></a>00065 <span class="comment">// on change le nom de l&#39;inconnue et de l equation</span>
<a name="l00066"></a>00066       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom;
<a name="l00067"></a>00067       nom=Eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>().<a class="code" href="classField__base.html#ae1377124eabe8387aced762115b062bb" title="Renvoie le nom du champ.">le_nom</a>();
<a name="l00068"></a>00068       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_eq;
<a name="l00069"></a>00069       nom_eq = Eqn.<a class="code" href="classEquation__base.html#a65e9b2520ac7b42444e4d9aa4f18ccf7" title="Renvoie le nom de l&#39;equation.">le_nom</a>();
<a name="l00070"></a>00070       nom+=nume;
<a name="l00071"></a>00071       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;The unknown name is modified : new name &quot;</span>&lt;&lt;nom&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00072"></a>00072       Eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>().<a class="code" href="classField__base.html#a3e1964ad4c0e4132aa0e39bc36dfdb15" title="Donne un nom au champ.">nommer</a>(nom);
<a name="l00073"></a>00073       nom_eq+=nume;
<a name="l00074"></a>00074       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;The equation name is modified : new name &quot;</span>&lt;&lt;nom_eq&lt;&lt;finl;
<a name="l00075"></a>00075       Eqn.<a class="code" href="classEquation__base.html#a23454aaa65e3900c8d8c2c02f994c2e4" title="Methode appelee lorsqu&#39;on cree l&#39;instance de l&#39;objet dans le jeu de donnees (Interprete::ajouter)">nommer</a>(nom_eq);
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 <span class="comment">// enfin on lit</span>
<a name="l00078"></a>00078       is &gt;&gt; Eqn;
<a name="l00079"></a>00079       is &gt;&gt; motlu;
<a name="l00080"></a>00080     }
<a name="l00081"></a>00081   <a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a816cea3c36b05346074be954a1da20ff">complet</a>=1;
<a name="l00082"></a>00082   <span class="keywordflow">return</span> is ;
<a name="l00083"></a>00083 }
<a name="l00084"></a>00084 
<a name="l00085"></a><a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a24ededa476d49b01e0930d059d3967ab">00085</a> <span class="keywordtype">void</span> <a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a24ededa476d49b01e0930d059d3967ab">List_Equations_Scalaires_Passifs_Especes::associer_milieu_equation</a>()
<a name="l00086"></a>00086 {
<a name="l00087"></a>00087   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a5c21e83ce3316dd69bf457cb18ebbb67">nb_equation</a>(); i++) <a class="code" href="classList__Equations__Scalaires__Passifs__Especes.html#a0d2f546177a06cbbb96c9c2ba530e12b">equation</a>(i).<a class="code" href="classEquation__base.html#a16b5af9ce66738d4d05d2567e417ff3d">associer_milieu_equation</a>();
<a name="l00088"></a>00088 }
<a name="l00089"></a>00089 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:15 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
