<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TRUST: Solv_Petsc Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TRUST<span id="projectnumber">&#160;1.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classSolv__Petsc-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Solv_Petsc Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Solv_Petsc:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classSolv__Petsc__inherit__graph.svg" width="259" height="336"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa01b7d68d3a006f48be8f5175d966110"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#aa01b7d68d3a006f48be8f5175d966110">taille_memoire</a> () const override</td></tr>
<tr class="separator:aa01b7d68d3a006f48be8f5175d966110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b407153404293649016ec3ed8b0573"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a75b407153404293649016ec3ed8b0573">duplique</a> () const override</td></tr>
<tr class="separator:a75b407153404293649016ec3ed8b0573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad2eaad6183ae4f5e7bac6f383eba3e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a1ad2eaad6183ae4f5e7bac6f383eba3e">get_info</a> () const override</td></tr>
<tr class="memdesc:a1ad2eaad6183ae4f5e7bac6f383eba3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne des informations sur le type de l'<a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>.  <a href="classSolv__Petsc.html#a1ad2eaad6183ae4f5e7bac6f383eba3e">More...</a><br /></td></tr>
<tr class="separator:a1ad2eaad6183ae4f5e7bac6f383eba3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e84a4f162efc695050b42614f156f18"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a4e84a4f162efc695050b42614f156f18">Solv_Petsc</a> ()</td></tr>
<tr class="separator:a4e84a4f162efc695050b42614f156f18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb40803f0ecca95f78642d04f25442d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a1eb40803f0ecca95f78642d04f25442d">~Solv_Petsc</a> () override</td></tr>
<tr class="separator:a1eb40803f0ecca95f78642d04f25442d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a481f3c404780440eaa22fdefef4aecbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a481f3c404780440eaa22fdefef4aecbe">solveur_direct</a> () const override</td></tr>
<tr class="separator:a481f3c404780440eaa22fdefef4aecbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad03765ac5cfa376cc07d872e44c8bc71"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#ad03765ac5cfa376cc07d872e44c8bc71">resoudre_systeme</a> (const <a class="el" href="classMatrice__Base.html">Matrice_Base</a> &amp;, const <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;, <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;) override</td></tr>
<tr class="separator:ad03765ac5cfa376cc07d872e44c8bc71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a56ff0c43aee8adfb40a7229b7fafe0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a4a56ff0c43aee8adfb40a7229b7fafe0">resoudre_systeme</a> (const <a class="el" href="classMatrice__Base.html">Matrice_Base</a> &amp;M, const <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;A, <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;B, int niter_max) override</td></tr>
<tr class="separator:a4a56ff0c43aee8adfb40a7229b7fafe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a8ad922fb450f5b693f9ce1e31875c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a35a8ad922fb450f5b693f9ce1e31875c">create_solver</a> (<a class="el" href="classEntree.html">Entree</a> &amp;)</td></tr>
<tr class="separator:a35a8ad922fb450f5b693f9ce1e31875c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34cc0b975e06dc6df27f2cc6d89da2dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a34cc0b975e06dc6df27f2cc6d89da2dd">reset</a> ()</td></tr>
<tr class="separator:a34cc0b975e06dc6df27f2cc6d89da2dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82157eea6e4a861588f486f61a4ec442"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a82157eea6e4a861588f486f61a4ec442">read_matrix</a> () const</td></tr>
<tr class="separator:a82157eea6e4a861588f486f61a4ec442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classSolveurSys__base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classSolveurSys__base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classSolveurSys__base.html">SolveurSys_base</a></td></tr>
<tr class="memitem:a936b4976009b97bbb0d7a20efd93dcff inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a936b4976009b97bbb0d7a20efd93dcff">~SolveurSys_base</a> () override</td></tr>
<tr class="separator:a936b4976009b97bbb0d7a20efd93dcff inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7724e402a1d70fc4a0eb0ec6f8a6769 inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#ae7724e402a1d70fc4a0eb0ec6f8a6769">get_info</a> () const override</td></tr>
<tr class="memdesc:ae7724e402a1d70fc4a0eb0ec6f8a6769 inherit pub_methods_classSolveurSys__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne des informations sur le type de l'<a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>.  <a href="classSolveurSys__base.html#ae7724e402a1d70fc4a0eb0ec6f8a6769">More...</a><br /></td></tr>
<tr class="separator:ae7724e402a1d70fc4a0eb0ec6f8a6769 inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00b69ea2bd461781c8727a498a646ffe inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a00b69ea2bd461781c8727a498a646ffe">SolveurSys_base</a> ()</td></tr>
<tr class="separator:a00b69ea2bd461781c8727a498a646ffe inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea9eaa90ad23a5dfcace9d6cd74de4ea inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#aea9eaa90ad23a5dfcace9d6cd74de4ea">solveur_direct</a> () const =0</td></tr>
<tr class="separator:aea9eaa90ad23a5dfcace9d6cd74de4ea inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c520c3aa574c8be3d3f27d4f700eac2 inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a7c520c3aa574c8be3d3f27d4f700eac2">resoudre_systeme</a> (const <a class="el" href="classMatrice__Base.html">Matrice_Base</a> &amp;a, const <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;b, <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;x)=0</td></tr>
<tr class="separator:a7c520c3aa574c8be3d3f27d4f700eac2 inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c42bf5160d595afada02074ccc7f91e inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a8c42bf5160d595afada02074ccc7f91e">resoudre_systeme</a> (const <a class="el" href="classMatrice__Base.html">Matrice_Base</a> &amp;a, const <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;b, <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;x, int niter_max)</td></tr>
<tr class="separator:a8c42bf5160d595afada02074ccc7f91e inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97f0f1bb14eaebf5a20ef6a741065ac inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#af97f0f1bb14eaebf5a20ef6a741065ac">fixer_schema_temps_limpr</a> (int l)</td></tr>
<tr class="separator:af97f0f1bb14eaebf5a20ef6a741065ac inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a987e97740c779c1ab4192c3c1f1bbd5d inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a987e97740c779c1ab4192c3c1f1bbd5d">fixer_limpr</a> (int l)</td></tr>
<tr class="separator:a987e97740c779c1ab4192c3c1f1bbd5d inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27067468cf159dc2e08c693ac7432685 inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a27067468cf159dc2e08c693ac7432685">set_return_on_error</a> (int ret)</td></tr>
<tr class="separator:a27067468cf159dc2e08c693ac7432685 inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6435c5b83312da8f782eeeab564b4061 inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a6435c5b83312da8f782eeeab564b4061">limpr</a> () const</td></tr>
<tr class="separator:a6435c5b83312da8f782eeeab564b4061 inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8737bd7292204c64e4b7bfe4c7bd88ef inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a8737bd7292204c64e4b7bfe4c7bd88ef">reinit</a> ()</td></tr>
<tr class="separator:a8737bd7292204c64e4b7bfe4c7bd88ef inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa44ff49115a0f04ac30317a7a06aad4d inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#aa44ff49115a0f04ac30317a7a06aad4d">nouvelle_matrice</a> () const</td></tr>
<tr class="separator:aa44ff49115a0f04ac30317a7a06aad4d inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf2c99ad548e18c61cdade93a2e1978 inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#afcf2c99ad548e18c61cdade93a2e1978">fixer_nouvelle_matrice</a> (int i)</td></tr>
<tr class="separator:afcf2c99ad548e18c61cdade93a2e1978 inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0040749ba12cc2db61a39519fa519996 inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a0040749ba12cc2db61a39519fa519996">supporte_matrice_morse_sym</a> ()</td></tr>
<tr class="separator:a0040749ba12cc2db61a39519fa519996 inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ce5204378b04ca33275e7b5563c83a inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a03ce5204378b04ca33275e7b5563c83a">get_flag_updated_input</a> () const</td></tr>
<tr class="separator:a03ce5204378b04ca33275e7b5563c83a inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e26a7d19b2597fb5b7b71f24e73e3ad inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a4e26a7d19b2597fb5b7b71f24e73e3ad">set_flag_updated_result</a> (int flag)</td></tr>
<tr class="separator:a4e26a7d19b2597fb5b7b71f24e73e3ad inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82adf841121371ac9aea5d965e25b9eb inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a82adf841121371ac9aea5d965e25b9eb">get_flag_updated_result</a> () const</td></tr>
<tr class="separator:a82adf841121371ac9aea5d965e25b9eb inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58dba89c332229c6fd0491b2fc56c148 inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a58dba89c332229c6fd0491b2fc56c148">save_matrice_secmem_conditionnel</a> (const <a class="el" href="classMatrice__Base.html">Matrice_Base</a> &amp;la_matrice, const <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;secmem, const <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;solution, int binaire=1)</td></tr>
<tr class="separator:a58dba89c332229c6fd0491b2fc56c148 inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea6281a5c0ad2cf572d421e661d370c inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a0ea6281a5c0ad2cf572d421e661d370c">set_reuse_preconditioner</a> (bool flag)</td></tr>
<tr class="separator:a0ea6281a5c0ad2cf572d421e661d370c inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a265d6db198203cfb2416b461a6bc640d inherit pub_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a265d6db198203cfb2416b461a6bc640d">reuse_preconditioner</a> ()</td></tr>
<tr class="separator:a265d6db198203cfb2416b461a6bc640d inherit pub_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classObjet__U"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classObjet__U')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classObjet__U.html">Objet_U</a></td></tr>
<tr class="memitem:aee9c1e46b2006bdbad36cc8950332655 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#aee9c1e46b2006bdbad36cc8950332655">~Objet_U</a> () override</td></tr>
<tr class="memdesc:aee9c1e46b2006bdbad36cc8950332655 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructeur, supprime l'objet de la liste d'objets enregistres<br  />
dans "memoire".  <a href="classObjet__U.html#aee9c1e46b2006bdbad36cc8950332655">More...</a><br /></td></tr>
<tr class="separator:aee9c1e46b2006bdbad36cc8950332655 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a324dd7ffb0b1708404fbe3b1a1f41c2e inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a324dd7ffb0b1708404fbe3b1a1f41c2e">numero</a> () const</td></tr>
<tr class="memdesc:a324dd7ffb0b1708404fbe3b1a1f41c2e inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renvoie l'indice de l'objet dans <a class="el" href="classMemoire.html#a51fd92a82514ca97dd348e3b9a56bad3">Memoire::data</a>.  <a href="classObjet__U.html#a324dd7ffb0b1708404fbe3b1a1f41c2e">More...</a><br /></td></tr>
<tr class="separator:a324dd7ffb0b1708404fbe3b1a1f41c2e inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea31c8387ed23f657583d8f92b346663 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#aea31c8387ed23f657583d8f92b346663">get_object_id</a> () const</td></tr>
<tr class="memdesc:aea31c8387ed23f657583d8f92b346663 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renvoie l'identifiant unique de l'objet object_id_.  <a href="classObjet__U.html#aea31c8387ed23f657583d8f92b346663">More...</a><br /></td></tr>
<tr class="separator:aea31c8387ed23f657583d8f92b346663 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af07b49700ce0ff8197f29a8c6471b510 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#af07b49700ce0ff8197f29a8c6471b510">get_info</a> () const</td></tr>
<tr class="memdesc:af07b49700ce0ff8197f29a8c6471b510 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne des informations sur le type de l'<a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>.  <a href="classObjet__U.html#af07b49700ce0ff8197f29a8c6471b510">More...</a><br /></td></tr>
<tr class="separator:af07b49700ce0ff8197f29a8c6471b510 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93dacab7253df3f9df63d1aca21b1dd5 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classNom.html">Nom</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a93dacab7253df3f9df63d1aca21b1dd5">le_nom</a> () const</td></tr>
<tr class="memdesc:a93dacab7253df3f9df63d1aca21b1dd5 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne le nom de l'<a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a><br  />
Methode a surcharger : renvoie "neant" dans cette implementation.  <a href="classObjet__U.html#a93dacab7253df3f9df63d1aca21b1dd5">More...</a><br /></td></tr>
<tr class="separator:a93dacab7253df3f9df63d1aca21b1dd5 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58289bb63283588d31dc69b87b3f1d55 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classNom.html">Nom</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a58289bb63283588d31dc69b87b3f1d55">que_suis_je</a> () const</td></tr>
<tr class="memdesc:a58289bb63283588d31dc69b87b3f1d55 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">renvoie la chaine identifiant la classe.  <a href="classObjet__U.html#a58289bb63283588d31dc69b87b3f1d55">More...</a><br /></td></tr>
<tr class="separator:a58289bb63283588d31dc69b87b3f1d55 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a469dbcad1d4a98a67e4246dce8e264ad inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a469dbcad1d4a98a67e4246dce8e264ad">nommer</a> (const <a class="el" href="classNom.html">Nom</a> &amp;)</td></tr>
<tr class="memdesc:a469dbcad1d4a98a67e4246dce8e264ad inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne un nom a l'<a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a><br  />
Methode virtuelle a surcharger.  <a href="classObjet__U.html#a469dbcad1d4a98a67e4246dce8e264ad">More...</a><br /></td></tr>
<tr class="separator:a469dbcad1d4a98a67e4246dce8e264ad inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de5c0f27a2d62296d897091bdf5ed2e inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a8de5c0f27a2d62296d897091bdf5ed2e">le_type</a> () const</td></tr>
<tr class="memdesc:a8de5c0f27a2d62296d897091bdf5ed2e inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne le nom du type de l'<a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>.  <a href="classObjet__U.html#a8de5c0f27a2d62296d897091bdf5ed2e">More...</a><br /></td></tr>
<tr class="separator:a8de5c0f27a2d62296d897091bdf5ed2e inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8990adbad71aeaec81e74d1032625643 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a8990adbad71aeaec81e74d1032625643">est_egal_a</a> (const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;) const</td></tr>
<tr class="memdesc:a8990adbad71aeaec81e74d1032625643 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renvoie 1 si l'objet x et *this sont une seule et meme instance&lt;br&gt;(meme adresse en memoire).  <a href="classObjet__U.html#a8990adbad71aeaec81e74d1032625643">More...</a><br /></td></tr>
<tr class="separator:a8990adbad71aeaec81e74d1032625643 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0308f5615fd7101a52a11f6c49b5f7bd inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a0308f5615fd7101a52a11f6c49b5f7bd">duplique</a> () const =0</td></tr>
<tr class="separator:a0308f5615fd7101a52a11f6c49b5f7bd inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee0946339f09a2c73c09fcda71c3be2 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a0ee0946339f09a2c73c09fcda71c3be2">taille_memoire</a> () const =0</td></tr>
<tr class="separator:a0ee0946339f09a2c73c09fcda71c3be2 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f77123cab7150195b55f2505ab26168 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a7f77123cab7150195b55f2505ab26168">change_num</a> (const int *const)</td></tr>
<tr class="memdesc:a7f77123cab7150195b55f2505ab26168 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change le numero interne de l'<a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>.  <a href="classObjet__U.html#a7f77123cab7150195b55f2505ab26168">More...</a><br /></td></tr>
<tr class="separator:a7f77123cab7150195b55f2505ab26168 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73113dc3d3e0dc9709e33ae566f5130 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#af73113dc3d3e0dc9709e33ae566f5130">printOn</a> (<a class="el" href="classSortie.html">Sortie</a> &amp;) const</td></tr>
<tr class="memdesc:af73113dc3d3e0dc9709e33ae566f5130 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ecriture de l'objet sur un flot de sortie<br  />
Methode a surcharger.  <a href="classObjet__U.html#af73113dc3d3e0dc9709e33ae566f5130">More...</a><br /></td></tr>
<tr class="separator:af73113dc3d3e0dc9709e33ae566f5130 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4c7788efee2dce629ebd1628b73288 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classEntree.html">Entree</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a6f4c7788efee2dce629ebd1628b73288">readOn</a> (<a class="el" href="classEntree.html">Entree</a> &amp;)</td></tr>
<tr class="memdesc:a6f4c7788efee2dce629ebd1628b73288 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lecture d'un <a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a> sur un flot d'entree<br  />
Methode a surcharger.  <a href="classObjet__U.html#a6f4c7788efee2dce629ebd1628b73288">More...</a><br /></td></tr>
<tr class="separator:a6f4c7788efee2dce629ebd1628b73288 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10baff76ab2c39f82da8c7ecaf66d889 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a10baff76ab2c39f82da8c7ecaf66d889">lire_motcle_non_standard</a> (const <a class="el" href="classMotcle.html">Motcle</a> &amp;motlu, <a class="el" href="classEntree.html">Entree</a> &amp;is)</td></tr>
<tr class="memdesc:a10baff76ab2c39f82da8c7ecaf66d889 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lecture des parametres de type non simple d'un objet_U<br  />
a partir d'un flot d'entree.  <a href="classObjet__U.html#a10baff76ab2c39f82da8c7ecaf66d889">More...</a><br /></td></tr>
<tr class="separator:a10baff76ab2c39f82da8c7ecaf66d889 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa52bb63c6241025381b63a9fb2be7574 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#aa52bb63c6241025381b63a9fb2be7574">reprendre</a> (<a class="el" href="classEntree.html">Entree</a> &amp;)</td></tr>
<tr class="memdesc:aa52bb63c6241025381b63a9fb2be7574 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reprise d'un <a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a> sur un flot d'entree<br  />
Methode a surcharger : retourne toujours 1 dans cette implementation.  <a href="classObjet__U.html#aa52bb63c6241025381b63a9fb2be7574">More...</a><br /></td></tr>
<tr class="separator:aa52bb63c6241025381b63a9fb2be7574 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afabaa578a6d7ca9f983ae384364a5ae8 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#afabaa578a6d7ca9f983ae384364a5ae8">sauvegarder</a> (<a class="el" href="classSortie.html">Sortie</a> &amp;) const</td></tr>
<tr class="memdesc:afabaa578a6d7ca9f983ae384364a5ae8 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sauvegarde d'un <a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a> sur un flot de sortie<br  />
Methode a surcharger : retourne toujours 1 dans cette implementation.  <a href="classObjet__U.html#afabaa578a6d7ca9f983ae384364a5ae8">More...</a><br /></td></tr>
<tr class="separator:afabaa578a6d7ca9f983ae384364a5ae8 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b935d498f25a47cb114b057ca878dd8 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a1b935d498f25a47cb114b057ca878dd8">associer_</a> (<a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr class="memdesc:a1b935d498f25a47cb114b057ca878dd8 inherit pub_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Associe l'<a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a> a un autre <a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a><br  />
Methode virtuelle a surcharger.  <a href="classObjet__U.html#a1b935d498f25a47cb114b057ca878dd8">More...</a><br /></td></tr>
<tr class="separator:a1b935d498f25a47cb114b057ca878dd8 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a341ec06044679eef096ca615a85151ad inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classInterprete.html">Interprete</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a341ec06044679eef096ca615a85151ad">interprete</a> () const</td></tr>
<tr class="separator:a341ec06044679eef096ca615a85151ad inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae520d91eb424030923795baad84b8c56 inherit pub_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInterprete.html">Interprete</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#ae520d91eb424030923795baad84b8c56">interprete</a> ()</td></tr>
<tr class="separator:ae520d91eb424030923795baad84b8c56 inherit pub_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classProcess"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classProcess')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classProcess.html">Process</a></td></tr>
<tr class="memitem:a9f4553eac74c657bb451f390c17d6bea inherit pub_methods_classProcess"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a9f4553eac74c657bb451f390c17d6bea">Process</a> ()</td></tr>
<tr class="memdesc:a9f4553eac74c657bb451f390c17d6bea inherit pub_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructeur par defaut.  <a href="classProcess.html#a9f4553eac74c657bb451f390c17d6bea">More...</a><br /></td></tr>
<tr class="separator:a9f4553eac74c657bb451f390c17d6bea inherit pub_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a990776d181dbbde7ff8ac12713d814b3 inherit pub_methods_classProcess"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a990776d181dbbde7ff8ac12713d814b3">~Process</a> ()</td></tr>
<tr class="memdesc:a990776d181dbbde7ff8ac12713d814b3 inherit pub_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructeur<br  />
Ne fait rien.  <a href="classProcess.html#a990776d181dbbde7ff8ac12713d814b3">More...</a><br /></td></tr>
<tr class="separator:a990776d181dbbde7ff8ac12713d814b3 inherit pub_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1dcbcf1f662e6b6fcb02186c0d3a23bc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classObjet__U.html">Objet_U</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a1dcbcf1f662e6b6fcb02186c0d3a23bc">cree_instance</a> ()</td></tr>
<tr class="separator:a1dcbcf1f662e6b6fcb02186c0d3a23bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a087b00129cb3d32c0dc80b82448cc0b3"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a087b00129cb3d32c0dc80b82448cc0b3">info</a> ()</td></tr>
<tr class="separator:a087b00129cb3d32c0dc80b82448cc0b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2342bd9d6104c4b2b3bad510c80dfa62"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classSolv__Petsc.html">Solv_Petsc</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a2342bd9d6104c4b2b3bad510c80dfa62">self_cast</a> (<a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr class="separator:a2342bd9d6104c4b2b3bad510c80dfa62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43744d82ddacef9206d3ff4110d87a0e"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classSolv__Petsc.html">Solv_Petsc</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a43744d82ddacef9206d3ff4110d87a0e">self_cast</a> (const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr class="separator:a43744d82ddacef9206d3ff4110d87a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classSolveurSys__base"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classSolveurSys__base')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classSolveurSys__base.html">SolveurSys_base</a></td></tr>
<tr class="memitem:a209a57c94fc1a25d0f11f31ef036dfe4 inherit pub_static_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a209a57c94fc1a25d0f11f31ef036dfe4">info</a> ()</td></tr>
<tr class="separator:a209a57c94fc1a25d0f11f31ef036dfe4 inherit pub_static_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f439678e84851cbd4c84ce4ec8cfa88 inherit pub_static_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classSolveurSys__base.html">SolveurSys_base</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a3f439678e84851cbd4c84ce4ec8cfa88">self_cast</a> (<a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr class="separator:a3f439678e84851cbd4c84ce4ec8cfa88 inherit pub_static_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f2d875f944f667eb18462c1f2f3cee2 inherit pub_static_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classSolveurSys__base.html">SolveurSys_base</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a9f2d875f944f667eb18462c1f2f3cee2">self_cast</a> (const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr class="separator:a9f2d875f944f667eb18462c1f2f3cee2 inherit pub_static_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classObjet__U"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classObjet__U')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classObjet__U.html">Objet_U</a></td></tr>
<tr class="memitem:a7c27c4f80259eeef76ff8fe2d3bc61f7 inherit pub_static_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classNom.html">Nom</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a7c27c4f80259eeef76ff8fe2d3bc61f7">nom_du_cas</a> ()</td></tr>
<tr class="memdesc:a7c27c4f80259eeef76ff8fe2d3bc61f7 inherit pub_static_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renvoie une reference constante vers le nom du cas.<br  />
Cette methode est statique.  <a href="classObjet__U.html#a7c27c4f80259eeef76ff8fe2d3bc61f7">More...</a><br /></td></tr>
<tr class="separator:a7c27c4f80259eeef76ff8fe2d3bc61f7 inherit pub_static_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac52fbf7227e3d087c7c79caae6643409 inherit pub_static_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classNom.html">Nom</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#ac52fbf7227e3d087c7c79caae6643409">get_set_nom_du_cas</a> ()</td></tr>
<tr class="memdesc:ac52fbf7227e3d087c7c79caae6643409 inherit pub_static_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renvoie une reference non constante vers le nom du cas&lt;br&gt;(pour pouvoir le modifier).<br  />
Cette methode est statique.  <a href="classObjet__U.html#ac52fbf7227e3d087c7c79caae6643409">More...</a><br /></td></tr>
<tr class="separator:ac52fbf7227e3d087c7c79caae6643409 inherit pub_static_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cd5f1de143963c90c6e705ed65b02a5 inherit pub_static_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a2cd5f1de143963c90c6e705ed65b02a5">info</a> ()</td></tr>
<tr class="memdesc:a2cd5f1de143963c90c6e705ed65b02a5 inherit pub_static_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne des informations sur le type de l'<a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>.  <a href="classObjet__U.html#a2cd5f1de143963c90c6e705ed65b02a5">More...</a><br /></td></tr>
<tr class="separator:a2cd5f1de143963c90c6e705ed65b02a5 inherit pub_static_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7649d31257abd7201779dc8834b60114 inherit pub_static_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a7649d31257abd7201779dc8834b60114">self_cast</a> (const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr class="memdesc:a7649d31257abd7201779dc8834b60114 inherit pub_static_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">methode ajoutee pour caster en python  <a href="classObjet__U.html#a7649d31257abd7201779dc8834b60114">More...</a><br /></td></tr>
<tr class="separator:a7649d31257abd7201779dc8834b60114 inherit pub_static_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0855255348dd588fb71f27f8bf6a127e inherit pub_static_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classObjet__U.html">Objet_U</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a0855255348dd588fb71f27f8bf6a127e">self_cast</a> (<a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr class="separator:a0855255348dd588fb71f27f8bf6a127e inherit pub_static_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classProcess"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classProcess')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classProcess.html">Process</a></td></tr>
<tr class="memitem:acd052b99706c577f8a5b6656217cf4c2 inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">je_suis_maitre</a> ()</td></tr>
<tr class="memdesc:acd052b99706c577f8a5b6656217cf4c2 inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">renvoie 1 si on est sur le processeur maitre du groupe courant<br  />
(c'est a dire <a class="el" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">me()</a> == 0), 0 sinon. Voir <a class="el" href="classComm__Group.html#a7fde70af91b6d994aacd10bb4e74aeb8" title="Renvoie le rang du processeur local dans le groupe *this. ou -1 si je ne suis pas dans le groupe.">Comm_Group::rank()</a>  <a href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">More...</a><br /></td></tr>
<tr class="separator:acd052b99706c577f8a5b6656217cf4c2 inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf692ce58d9578aa62ac3c07b8caaa1 inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a> ()</td></tr>
<tr class="memdesc:a6bf692ce58d9578aa62ac3c07b8caaa1 inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">renvoie le nombre de processeurs dans le groupe courant<br  />
Voir <a class="el" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Comm_Group::nproc()</a> et <a class="el" href="classPE__Groups.html#ae6ca0277a58f2ab34ebfb3216578fa75" title="renvoie une reference au groupe de processeurs actif courant">PE_Groups::current_group()</a>  <a href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">More...</a><br /></td></tr>
<tr class="separator:a6bf692ce58d9578aa62ac3c07b8caaa1 inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9e74a5c06a68ea38298a08ea401e7b1 inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">barrier</a> ()</td></tr>
<tr class="memdesc:aa9e74a5c06a68ea38298a08ea401e7b1 inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronise tous les processeurs du groupe courant&lt;br&gt;(attend que tous les processeurs soient arrives a la barriere)<br  />
Instruction a executer sur tous les processeurs du groupe.  <a href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">More...</a><br /></td></tr>
<tr class="separator:aa9e74a5c06a68ea38298a08ea401e7b1 inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d23bc1ef94b3f0623fbc79d034c27fd inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd">mp_sum</a> (double)</td></tr>
<tr class="memdesc:a7d23bc1ef94b3f0623fbc79d034c27fd inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcule la somme de x sur tous les processeurs du groupe courant.<br  />
Voir aussi <a class="el" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d" title="Calcule le max de x sur tous les processeurs du groupe courant. Remarques : Cette methode doit etre a...">mp_max()</a>  <a href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd">More...</a><br /></td></tr>
<tr class="separator:a7d23bc1ef94b3f0623fbc79d034c27fd inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e9d9f9899b71927cfafae14c7bd048d inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d">mp_max</a> (double)</td></tr>
<tr class="memdesc:a1e9d9f9899b71927cfafae14c7bd048d inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcule le max de x sur tous les processeurs du groupe courant.<br  />
Remarques :<br  />
Cette methode doit etre appelee sur tous les processeurs du groupe.<br  />
La valeur renvoyee est identique sur tous les processeurs.  <a href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d">More...</a><br /></td></tr>
<tr class="separator:a1e9d9f9899b71927cfafae14c7bd048d inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05de57db7288d95f9e67046af585d5ff inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a05de57db7288d95f9e67046af585d5ff">mp_min</a> (double)</td></tr>
<tr class="memdesc:a05de57db7288d95f9e67046af585d5ff inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcule le min de x sur tous les processeurs du groupe courant.<br  />
Voir aussi <a class="el" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d" title="Calcule le max de x sur tous les processeurs du groupe courant. Remarques : Cette methode doit etre a...">mp_max()</a>  <a href="classProcess.html#a05de57db7288d95f9e67046af585d5ff">More...</a><br /></td></tr>
<tr class="separator:a05de57db7288d95f9e67046af585d5ff inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa483f0f910caf591f46d04a226d2083b inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aa483f0f910caf591f46d04a226d2083b">mp_sum</a> (int)</td></tr>
<tr class="memdesc:aa483f0f910caf591f46d04a226d2083b inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcule la somme de x sur tous les processeurs du groupe courant.<br  />
Voir aussi <a class="el" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d" title="Calcule le max de x sur tous les processeurs du groupe courant. Remarques : Cette methode doit etre a...">mp_max()</a>  <a href="classProcess.html#aa483f0f910caf591f46d04a226d2083b">More...</a><br /></td></tr>
<tr class="separator:aa483f0f910caf591f46d04a226d2083b inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa5f9b4e42dc41414bebc7df14e16f6 inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aeaa5f9b4e42dc41414bebc7df14e16f6">mp_and</a> (bool)</td></tr>
<tr class="memdesc:aeaa5f9b4e42dc41414bebc7df14e16f6 inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcule le 'et' logique de b sur tous les processeurs du groupe courant.  <a href="classProcess.html#aeaa5f9b4e42dc41414bebc7df14e16f6">More...</a><br /></td></tr>
<tr class="separator:aeaa5f9b4e42dc41414bebc7df14e16f6 inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab55ba07167ec807ed3a145cac0f5dca4 inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">me</a> ()</td></tr>
<tr class="memdesc:ab55ba07167ec807ed3a145cac0f5dca4 inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">renvoie mon rang dans le groupe de communication courant.<br  />
Voir <a class="el" href="classComm__Group.html#a7fde70af91b6d994aacd10bb4e74aeb8" title="Renvoie le rang du processeur local dans le groupe *this. ou -1 si je ne suis pas dans le groupe.">Comm_Group::rank()</a> et <a class="el" href="classPE__Groups.html#ae6ca0277a58f2ab34ebfb3216578fa75" title="renvoie une reference au groupe de processeurs actif courant">PE_Groups::current_group()</a>  <a href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">More...</a><br /></td></tr>
<tr class="separator:ab55ba07167ec807ed3a145cac0f5dca4 inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc2fbbe761e08e5870ae605c0705491c inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a> (int exit_code=-1)</td></tr>
<tr class="memdesc:acc2fbbe761e08e5870ae605c0705491c inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Routine de sortie de Trio-U sur une erreur<br  />
Sauvegarde la memoire et le hierarchie dans les fichiers "memoire.dump" et "hierarchie.dump".  <a href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">More...</a><br /></td></tr>
<tr class="separator:acc2fbbe761e08e5870ae605c0705491c inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa53d327405713fe4c44ee70fdcd7d69 inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aaa53d327405713fe4c44ee70fdcd7d69">exit</a> (const <a class="el" href="classNom.html">Nom</a> &amp;<a class="el" href="Reordonner__faces__periodiques_8cpp.html#a137d78a01e63d3b66d1b2ed0de0f4c4c">message</a>, int exit_code=-1)</td></tr>
<tr class="separator:aaa53d327405713fe4c44ee70fdcd7d69 inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a4b64571b10f150a70db229b839e881 inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a6a4b64571b10f150a70db229b839e881">abort</a> ()</td></tr>
<tr class="memdesc:a6a4b64571b10f150a70db229b839e881 inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Routine de sortie de Trio-U sur une erreur <a class="el" href="classProcess.html#a6a4b64571b10f150a70db229b839e881" title="Routine de sortie de Trio-U sur une erreur abort()">abort()</a>  <a href="classProcess.html#a6a4b64571b10f150a70db229b839e881">More...</a><br /></td></tr>
<tr class="separator:a6a4b64571b10f150a70db229b839e881 inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57e0f54b11e6eaadbea224fa904b18dd inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">Journal</a> (int message_level=0)</td></tr>
<tr class="memdesc:a57e0f54b11e6eaadbea224fa904b18dd inherit pub_static_methods_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renvoie un objet statique de type <a class="el" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers,...">Sortie</a> qui sert de journal d'evenements.<br  />
Si message_level &lt;= verbose_level_, on ecrit le message, sinon<br  />
on l'envoie sur une <a class="el" href="classSortie__Nulle.html" title="Classe derivee de Sortie qui ne sort les donnees nulle part (c&#39;est une poubelle) Classe utilisee dans...">Sortie_Nulle</a>.<br  />
Si le fichier journal est ouvert, on ecrit dans le fichier, sinon dans stderr.  <a href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">More...</a><br /></td></tr>
<tr class="separator:a57e0f54b11e6eaadbea224fa904b18dd inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1828203162e59b0d29ffda4d04575098 inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a1828203162e59b0d29ffda4d04575098">ram_processeur</a> ()</td></tr>
<tr class="separator:a1828203162e59b0d29ffda4d04575098 inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1142e848c81a78c28a061a6f45b4042 inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aa1142e848c81a78c28a061a6f45b4042">imprimer_ram_totale</a> (int all_process=0)</td></tr>
<tr class="separator:aa1142e848c81a78c28a061a6f45b4042 inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa66d21b3cc2af185606cdf4c5d2c8d8 inherit pub_static_methods_classProcess"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#aaa66d21b3cc2af185606cdf4c5d2c8d8">force_single_file</a> (const int ranks, const <a class="el" href="classNom.html">Nom</a> &amp;filename)</td></tr>
<tr class="separator:aaa66d21b3cc2af185606cdf4c5d2c8d8 inherit pub_static_methods_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ad42f3219e151e30710029b64f9f3b5b7"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classType__info.html">Type_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#ad42f3219e151e30710029b64f9f3b5b7">info_obj</a></td></tr>
<tr class="separator:ad42f3219e151e30710029b64f9f3b5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7384c2681936b980c3fa393793e47e87"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a7384c2681936b980c3fa393793e47e87">instance</a> =-1</td></tr>
<tr class="memdesc:a7384c2681936b980c3fa393793e47e87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Nombre d'instances en cours de la classe.  <a href="classSolv__Petsc.html#a7384c2681936b980c3fa393793e47e87">More...</a><br /></td></tr>
<tr class="separator:a7384c2681936b980c3fa393793e47e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc3475bd78fb4ceace2d10ff68de1dd8"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#acc3475bd78fb4ceace2d10ff68de1dd8">numero_solveur</a> =0</td></tr>
<tr class="memdesc:acc3475bd78fb4ceace2d10ff68de1dd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compte les solveurs crees et utilises pour le prefix des options.  <a href="classSolv__Petsc.html#acc3475bd78fb4ceace2d10ff68de1dd8">More...</a><br /></td></tr>
<tr class="separator:acc3475bd78fb4ceace2d10ff68de1dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classSolveurSys__base"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classSolveurSys__base')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classSolveurSys__base.html">SolveurSys_base</a></td></tr>
<tr class="memitem:a167e7e2a82985b5cbf226ecbc4dd6d20 inherit pub_static_attribs_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classType__info.html">Type_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a167e7e2a82985b5cbf226ecbc4dd6d20">info_obj</a></td></tr>
<tr class="separator:a167e7e2a82985b5cbf226ecbc4dd6d20 inherit pub_static_attribs_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classObjet__U"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classObjet__U')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classObjet__U.html">Objet_U</a></td></tr>
<tr class="memitem:a3e23491c01f2f39245fb6f3b6d6d9b17 inherit pub_static_attribs_classObjet__U"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a> =0</td></tr>
<tr class="separator:a3e23491c01f2f39245fb6f3b6d6d9b17 inherit pub_static_attribs_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7447e25c68cc8d3a1c06cf99f0565cff inherit pub_static_attribs_classObjet__U"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a7447e25c68cc8d3a1c06cf99f0565cff">precision_geom</a> =1e-10</td></tr>
<tr class="separator:a7447e25c68cc8d3a1c06cf99f0565cff inherit pub_static_attribs_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b145f6e0684a53f431e675423037ada inherit pub_static_attribs_classObjet__U"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a9b145f6e0684a53f431e675423037ada">format_precision_geom</a> =11</td></tr>
<tr class="separator:a9b145f6e0684a53f431e675423037ada inherit pub_static_attribs_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b82ace9d4c7902ec704b6a78f76991 inherit pub_static_attribs_classObjet__U"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#ad9b82ace9d4c7902ec704b6a78f76991">axi</a> =0</td></tr>
<tr class="separator:ad9b82ace9d4c7902ec704b6a78f76991 inherit pub_static_attribs_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a47c1add9760324894500792c17a178 inherit pub_static_attribs_classObjet__U"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a9a47c1add9760324894500792c17a178">bidim_axi</a> =0</td></tr>
<tr class="separator:a9a47c1add9760324894500792c17a178 inherit pub_static_attribs_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabcba4a8a0bf841e306be9a55d31ce59 inherit pub_static_attribs_classObjet__U"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#aabcba4a8a0bf841e306be9a55d31ce59">DEACTIVATE_SIGINT_CATCH</a> =0</td></tr>
<tr class="memdesc:aabcba4a8a0bf841e306be9a55d31ce59 inherit pub_static_attribs_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to not enter the overloaded function signal_callback_handler  <a href="classObjet__U.html#aabcba4a8a0bf841e306be9a55d31ce59">More...</a><br /></td></tr>
<tr class="separator:aabcba4a8a0bf841e306be9a55d31ce59 inherit pub_static_attribs_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac389f735fb0169a49f40006203f110c6 inherit pub_static_attribs_classObjet__U"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classType__info.html">Type_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#ac389f735fb0169a49f40006203f110c6">info_obj</a></td></tr>
<tr class="separator:ac389f735fb0169a49f40006203f110c6 inherit pub_static_attribs_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a622f9039952e1be36aee2ac0c48955fc inherit pub_static_attribs_classObjet__U"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a622f9039952e1be36aee2ac0c48955fc">disable_TU</a> =0</td></tr>
<tr class="memdesc:a622f9039952e1be36aee2ac0c48955fc inherit pub_static_attribs_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to disable the writing of the .TU files.  <a href="classObjet__U.html#a622f9039952e1be36aee2ac0c48955fc">More...</a><br /></td></tr>
<tr class="separator:a622f9039952e1be36aee2ac0c48955fc inherit pub_static_attribs_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classProcess"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classProcess')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classProcess.html">Process</a></td></tr>
<tr class="memitem:ab0d2cbf9cdb22a0bd75a7e45026f6fc1 inherit pub_static_attribs_classProcess"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#ab0d2cbf9cdb22a0bd75a7e45026f6fc1">exception_sur_exit</a> =0</td></tr>
<tr class="separator:ab0d2cbf9cdb22a0bd75a7e45026f6fc1 inherit pub_static_attribs_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d8a5252b02c0db08e1bea86c7442205 inherit pub_static_attribs_classProcess"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classProcess.html#a1d8a5252b02c0db08e1bea86c7442205">multiple_files</a> =5120</td></tr>
<tr class="memdesc:a1d8a5252b02c0db08e1bea86c7442205 inherit pub_static_attribs_classProcess"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valeur modifiable dans le jeu de donnees ou variable d'environnement:  <a href="classProcess.html#a1d8a5252b02c0db08e1bea86c7442205">More...</a><br /></td></tr>
<tr class="separator:a1d8a5252b02c0db08e1bea86c7442205 inherit pub_static_attribs_classProcess"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a912caf777872fe5a8373d2ab60eaf5d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a912caf777872fe5a8373d2ab60eaf5d5">printOn</a> (<a class="el" href="classSortie.html">Sortie</a> &amp;x) const override</td></tr>
<tr class="memdesc:a912caf777872fe5a8373d2ab60eaf5d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ecriture de l'objet sur un flot de sortie<br  />
Methode a surcharger.  <a href="classSolv__Petsc.html#a912caf777872fe5a8373d2ab60eaf5d5">More...</a><br /></td></tr>
<tr class="separator:a912caf777872fe5a8373d2ab60eaf5d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e6bea59fb50506590a3e23df7582ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEntree.html">Entree</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#ae2e6bea59fb50506590a3e23df7582ec">readOn</a> (<a class="el" href="classEntree.html">Entree</a> &amp;) override</td></tr>
<tr class="memdesc:ae2e6bea59fb50506590a3e23df7582ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lecture d'un <a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a> sur un flot d'entree<br  />
Methode a surcharger.  <a href="classSolv__Petsc.html#ae2e6bea59fb50506590a3e23df7582ec">More...</a><br /></td></tr>
<tr class="separator:ae2e6bea59fb50506590a3e23df7582ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af626ce7ac5babfaf8333057766ac15cf"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classNom.html">Nom</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#af626ce7ac5babfaf8333057766ac15cf">config</a> ()</td></tr>
<tr class="memdesc:af626ce7ac5babfaf8333057766ac15cf"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST NOM_H">Nom</a> du fichier de config eventuel.  <a href="classSolv__Petsc.html#af626ce7ac5babfaf8333057766ac15cf">More...</a><br /></td></tr>
<tr class="separator:af626ce7ac5babfaf8333057766ac15cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classSolveurSys__base"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classSolveurSys__base')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classSolveurSys__base.html">SolveurSys_base</a></td></tr>
<tr class="memitem:af073d95b953a7fa97feae2c4645b4953 inherit pro_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#af073d95b953a7fa97feae2c4645b4953">printOn</a> (<a class="el" href="classSortie.html">Sortie</a> &amp;x) const override</td></tr>
<tr class="memdesc:af073d95b953a7fa97feae2c4645b4953 inherit pro_methods_classSolveurSys__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ecriture de l'objet sur un flot de sortie<br  />
Methode a surcharger.  <a href="classSolveurSys__base.html#af073d95b953a7fa97feae2c4645b4953">More...</a><br /></td></tr>
<tr class="separator:af073d95b953a7fa97feae2c4645b4953 inherit pro_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d48e6f2c713e3ab25fb20f7b81dd312 inherit pro_methods_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classEntree.html">Entree</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a3d48e6f2c713e3ab25fb20f7b81dd312">readOn</a> (<a class="el" href="classEntree.html">Entree</a> &amp;) override</td></tr>
<tr class="memdesc:a3d48e6f2c713e3ab25fb20f7b81dd312 inherit pro_methods_classSolveurSys__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lecture d'un <a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a> sur un flot d'entree<br  />
Methode a surcharger.  <a href="classSolveurSys__base.html#a3d48e6f2c713e3ab25fb20f7b81dd312">More...</a><br /></td></tr>
<tr class="separator:a3d48e6f2c713e3ab25fb20f7b81dd312 inherit pro_methods_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classObjet__U"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classObjet__U')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classObjet__U.html">Objet_U</a></td></tr>
<tr class="memitem:a9041817b5b0efa434474f7185fc01a7f inherit pro_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a9041817b5b0efa434474f7185fc01a7f">Objet_U</a> ()</td></tr>
<tr class="memdesc:a9041817b5b0efa434474f7185fc01a7f inherit pro_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructeur par defaut : attribue un numero d'identifiant unique<br  />
a l'objet (object_id_), et enregistre l'objet en "memoire"<br  />
en lui donnant un numero <em>num_obj</em>. L'object_id_ et tres<br  />
pratique pour debugger...  <a href="classObjet__U.html#a9041817b5b0efa434474f7185fc01a7f">More...</a><br /></td></tr>
<tr class="separator:a9041817b5b0efa434474f7185fc01a7f inherit pro_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5c5b3912ab7ef715573f066256e65d3 inherit pro_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#ab5c5b3912ab7ef715573f066256e65d3">Objet_U</a> (const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr class="memdesc:ab5c5b3912ab7ef715573f066256e65d3 inherit pro_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructeur par copie. Cree un nouveau numero d'objet<br  />
(ne copie pas le numero de l'autre objet !)  <a href="classObjet__U.html#ab5c5b3912ab7ef715573f066256e65d3">More...</a><br /></td></tr>
<tr class="separator:ab5c5b3912ab7ef715573f066256e65d3 inherit pro_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e056c7aeee257fa5cf0a6e2906d9ff1 inherit pro_methods_classObjet__U"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classObjet__U.html#a0e056c7aeee257fa5cf0a6e2906d9ff1">operator=</a> (const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr class="memdesc:a0e056c7aeee257fa5cf0a6e2906d9ff1 inherit pro_methods_classObjet__U"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classOperateur.html" title="classe Operateur Classe generique de la hierarchie des operateurs. Cette classe generique est particu...">Operateur</a>= : ne fait rien (on conserve le numero et l'identifiant)  <a href="classObjet__U.html#a0e056c7aeee257fa5cf0a6e2906d9ff1">More...</a><br /></td></tr>
<tr class="separator:a0e056c7aeee257fa5cf0a6e2906d9ff1 inherit pro_methods_classObjet__U"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa05df5e1a45d2e1edff22af140336a05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#aa05df5e1a45d2e1edff22af140336a05">solveur_direct_</a></td></tr>
<tr class="memdesc:aa05df5e1a45d2e1edff22af140336a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pour savoir si l'on manipule un solveur direct et non iteratif.  <a href="classSolv__Petsc.html#aa05df5e1a45d2e1edff22af140336a05">More...</a><br /></td></tr>
<tr class="separator:aa05df5e1a45d2e1edff22af140336a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8cc27d5092ae780209ddb0059a2e29"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNom.html">Nom</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a7a8cc27d5092ae780209ddb0059a2e29">chaine_lue_</a></td></tr>
<tr class="memdesc:a7a8cc27d5092ae780209ddb0059a2e29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chaine des mots cles lus.  <a href="classSolv__Petsc.html#a7a8cc27d5092ae780209ddb0059a2e29">More...</a><br /></td></tr>
<tr class="separator:a7a8cc27d5092ae780209ddb0059a2e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c92c7b3025ccb3f301489141a442211"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a9c92c7b3025ccb3f301489141a442211">read_matrix_</a></td></tr>
<tr class="memdesc:a9c92c7b3025ccb3f301489141a442211"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read constant matrix in a file.  <a href="classSolv__Petsc.html#a9c92c7b3025ccb3f301489141a442211">More...</a><br /></td></tr>
<tr class="separator:a9c92c7b3025ccb3f301489141a442211"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f603c229087d42c8bb2fee48290526f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a5f603c229087d42c8bb2fee48290526f">gpu_</a></td></tr>
<tr class="memdesc:a5f603c229087d42c8bb2fee48290526f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utilisation des solveurs GPU de PETSc.  <a href="classSolv__Petsc.html#a5f603c229087d42c8bb2fee48290526f">More...</a><br /></td></tr>
<tr class="separator:a5f603c229087d42c8bb2fee48290526f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a4d7d01f00900e4c2ad771be5e6725b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a></td></tr>
<tr class="memdesc:a4a4d7d01f00900e4c2ad771be5e6725b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utilisation des solveurs GPU de AMGX.  <a href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">More...</a><br /></td></tr>
<tr class="separator:a4a4d7d01f00900e4c2ad771be5e6725b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7244784294055ac6cd06c16d5d7264e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a7244784294055ac6cd06c16d5d7264e7">amgx_initialized_</a></td></tr>
<tr class="memdesc:a7244784294055ac6cd06c16d5d7264e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Amgx initialise Options dev:  <a href="classSolv__Petsc.html#a7244784294055ac6cd06c16d5d7264e7">More...</a><br /></td></tr>
<tr class="separator:a7244784294055ac6cd06c16d5d7264e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d87d8f7f3be6d318bc343e11059cde2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a1d87d8f7f3be6d318bc343e11059cde2">ignore_new_nonzero_</a></td></tr>
<tr class="separator:a1d87d8f7f3be6d318bc343e11059cde2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895816a337ad6bc6fcdfb82037e6a837"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a895816a337ad6bc6fcdfb82037e6a837">rebuild_matrix_</a></td></tr>
<tr class="separator:a895816a337ad6bc6fcdfb82037e6a837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45df7a11f976ea94cbb622ae8fcbd181"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a45df7a11f976ea94cbb622ae8fcbd181">allow_realloc_</a></td></tr>
<tr class="separator:a45df7a11f976ea94cbb622ae8fcbd181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af13cee34da6194e79945d3a950ee2ed0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#af13cee34da6194e79945d3a950ee2ed0">clean_matrix_</a></td></tr>
<tr class="separator:af13cee34da6194e79945d3a950ee2ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74dac05c9ed8acbc0642cfee0d750f4e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolv__Petsc.html#a74dac05c9ed8acbc0642cfee0d750f4e">verbose</a> = false</td></tr>
<tr class="memdesc:a74dac05c9ed8acbc0642cfee0d750f4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timing.  <a href="classSolv__Petsc.html#a74dac05c9ed8acbc0642cfee0d750f4e">More...</a><br /></td></tr>
<tr class="separator:a74dac05c9ed8acbc0642cfee0d750f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classSolveurSys__base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classSolveurSys__base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classSolveurSys__base.html">SolveurSys_base</a></td></tr>
<tr class="memitem:a1dc6a5f0834d61ce97db934f716c7d1b inherit pro_attribs_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a1dc6a5f0834d61ce97db934f716c7d1b">nouvelle_matrice_</a></td></tr>
<tr class="memdesc:a1dc6a5f0834d61ce97db934f716c7d1b inherit pro_attribs_classSolveurSys__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drapeau pour savoir si un stockage ou une factorisation est a refaire.  <a href="classSolveurSys__base.html#a1dc6a5f0834d61ce97db934f716c7d1b">More...</a><br /></td></tr>
<tr class="separator:a1dc6a5f0834d61ce97db934f716c7d1b inherit pro_attribs_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a824322fe6a2c03aa986b8152aefcf14b inherit pro_attribs_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a824322fe6a2c03aa986b8152aefcf14b">save_matrice_</a></td></tr>
<tr class="memdesc:a824322fe6a2c03aa986b8152aefcf14b inherit pro_attribs_classSolveurSys__base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Drapeau pour savoir si un stockage disque est a refaire.  <a href="classSolveurSys__base.html#a824322fe6a2c03aa986b8152aefcf14b">More...</a><br /></td></tr>
<tr class="separator:a824322fe6a2c03aa986b8152aefcf14b inherit pro_attribs_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4051012f254352a50a0e4bfad2f93a8a inherit pro_attribs_classSolveurSys__base"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSolveurSys__base.html#a4051012f254352a50a0e4bfad2f93a8a">return_on_error_</a> = 0</td></tr>
<tr class="separator:a4051012f254352a50a0e4bfad2f93a8a inherit pro_attribs_classSolveurSys__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00036">36</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4e84a4f162efc695050b42614f156f18" name="a4e84a4f162efc695050b42614f156f18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e84a4f162efc695050b42614f156f18">&#9670;&nbsp;</a></span>Solv_Petsc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Solv_Petsc::Solv_Petsc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00176">176</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  177</span>{</div>
<div class="line"><span class="lineno">  178</span>  <a class="code hl_variable" href="classSolv__Petsc.html#a9c92c7b3025ccb3f301489141a442211">read_matrix_</a>=0;</div>
<div class="line"><span class="lineno">  179</span><span class="preprocessor">#ifdef PETSCKSP_H</span></div>
<div class="line"><span class="lineno">  180</span>  initialize();</div>
<div class="line"><span class="lineno">  181</span>  <a class="code hl_variable" href="classSolv__Petsc.html#a7384c2681936b980c3fa393793e47e87">instance</a>++;</div>
<div class="line"><span class="lineno">  182</span><span class="comment">// Journal()&lt;&lt;&quot;creation solv_petsc &quot;&lt;&lt;instance&lt;&lt;finl;</span></div>
<div class="line"><span class="lineno">  183</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  184</span>}</div>
<div class="ttc" id="aclassSolv__Petsc_html_a7384c2681936b980c3fa393793e47e87"><div class="ttname"><a href="classSolv__Petsc.html#a7384c2681936b980c3fa393793e47e87">Solv_Petsc::instance</a></div><div class="ttdeci">static int instance</div><div class="ttdoc">Nombre d'instances en cours de la classe.</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00094">Solv_Petsc.h:94</a></div></div>
<div class="ttc" id="aclassSolv__Petsc_html_a9c92c7b3025ccb3f301489141a442211"><div class="ttname"><a href="classSolv__Petsc.html#a9c92c7b3025ccb3f301489141a442211">Solv_Petsc::read_matrix_</a></div><div class="ttdeci">int read_matrix_</div><div class="ttdoc">Read constant matrix in a file.</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00161">Solv_Petsc.h:161</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Solv__Petsc_8h_source.html#l00094">instance</a>, and <a class="el" href="Solv__Petsc_8h_source.html#l00161">read_matrix_</a>.</p>

</div>
</div>
<a id="a1eb40803f0ecca95f78642d04f25442d" name="a1eb40803f0ecca95f78642d04f25442d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eb40803f0ecca95f78642d04f25442d">&#9670;&nbsp;</a></span>~Solv_Petsc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Solv_Petsc::~Solv_Petsc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00186">186</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  187</span>{</div>
<div class="line"><span class="lineno">  188</span>  <a class="code hl_function" href="classSolv__Petsc.html#a34cc0b975e06dc6df27f2cc6d89da2dd">reset</a>();</div>
<div class="line"><span class="lineno">  189</span>  <a class="code hl_variable" href="classSolv__Petsc.html#a7384c2681936b980c3fa393793e47e87">instance</a>--;</div>
<div class="line"><span class="lineno">  190</span><span class="comment">// Journal()&lt;&lt;&quot; destr solv_petsc &quot;&lt;&lt;instance&lt;&lt;finl;</span></div>
<div class="line"><span class="lineno">  191</span>}</div>
<div class="ttc" id="aclassSolv__Petsc_html_a34cc0b975e06dc6df27f2cc6d89da2dd"><div class="ttname"><a href="classSolv__Petsc.html#a34cc0b975e06dc6df27f2cc6d89da2dd">Solv_Petsc::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00192">Solv_Petsc.h:192</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Solv__Petsc_8h_source.html#l00094">instance</a>, and <a class="el" href="Solv__Petsc_8h_source.html#l00192">reset()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af626ce7ac5babfaf8333057766ac15cf" name="af626ce7ac5babfaf8333057766ac15cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af626ce7ac5babfaf8333057766ac15cf">&#9670;&nbsp;</a></span>config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classNom.html">Nom</a> Solv_Petsc::config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST NOM_H">Nom</a> du fichier de config eventuel. </p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l01327">1327</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1328</span>{</div>
<div class="line"><span class="lineno"> 1329</span>  <a class="code hl_class" href="classNom.html">Nom</a> str(<a class="code hl_function" href="classObjet__U.html#a7c27c4f80259eeef76ff8fe2d3bc61f7">Objet_U::nom_du_cas</a>());</div>
<div class="line"><span class="lineno"> 1330</span><span class="preprocessor">#ifdef PETSCKSP_H</span></div>
<div class="line"><span class="lineno"> 1331</span>  str+=option_prefix_.prefix(<span class="stringliteral">&quot;_&quot;</span>);</div>
<div class="line"><span class="lineno"> 1332</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1333</span>  <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>(<span class="stringliteral">&quot;ToDo fix Solv_Petsc::config(): build config filename with numero_solve in the constructor!&quot;</span>);</div>
<div class="line"><span class="lineno"> 1334</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1335</span>  str+=<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a> ? <span class="stringliteral">&quot;.amgx&quot;</span> : <span class="stringliteral">&quot;.petsc&quot;</span>;</div>
<div class="line"><span class="lineno"> 1336</span>  <span class="keywordflow">return</span> str;</div>
<div class="line"><span class="lineno"> 1337</span>}</div>
<div class="ttc" id="aclassNom_html"><div class="ttname"><a href="classNom.html">Nom</a></div><div class="ttdoc">class Nom Une chaine de caractere pour nommer les objets de TRUST NOM_H</div><div class="ttdef"><b>Definition:</b> <a href="Nom_8h_source.html#l00034">Nom.h:35</a></div></div>
<div class="ttc" id="aclassObjet__U_html_a7c27c4f80259eeef76ff8fe2d3bc61f7"><div class="ttname"><a href="classObjet__U.html#a7c27c4f80259eeef76ff8fe2d3bc61f7">Objet_U::nom_du_cas</a></div><div class="ttdeci">static const Nom &amp; nom_du_cas()</div><div class="ttdoc">Renvoie une reference constante vers le nom du cas. Cette methode est statique.</div><div class="ttdef"><b>Definition:</b> <a href="Objet__U_8cpp_source.html#l00304">Objet_U.cpp:304</a></div></div>
<div class="ttc" id="aclassProcess_html_acc2fbbe761e08e5870ae605c0705491c"><div class="ttname"><a href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a></div><div class="ttdeci">static void exit(int exit_code=-1)</div><div class="ttdoc">Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00213">Process.cpp:213</a></div></div>
<div class="ttc" id="aclassSolv__Petsc_html_a4a4d7d01f00900e4c2ad771be5e6725b"><div class="ttname"><a href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">Solv_Petsc::amgx_</a></div><div class="ttdeci">bool amgx_</div><div class="ttdoc">Utilisation des solveurs GPU de AMGX.</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00163">Solv_Petsc.h:163</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Solv__Petsc_8h_source.html#l00163">amgx_</a>, <a class="el" href="Process_8cpp_source.html#l00213">Process::exit()</a>, <a class="el" href="Objet__U_8cpp_source.html#l00304">Objet_U::nom_du_cas()</a>, and <a class="el" href="Nom_8cpp_source.html#l00444">Nom::prefix()</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">create_solver()</a>.</p>

</div>
</div>
<a id="a35a8ad922fb450f5b693f9ce1e31875c" name="a35a8ad922fb450f5b693f9ce1e31875c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35a8ad922fb450f5b693f9ce1e31875c">&#9670;&nbsp;</a></span>create_solver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Solv_Petsc::create_solver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEntree.html">Entree</a> &amp;&#160;</td>
          <td class="paramname"><em>entree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">80</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   81</span>{</div>
<div class="line"><span class="lineno">   82</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a> || std::getenv(<span class="stringliteral">&quot;TRUST_PETSC_VERBOSE&quot;</span>)) <a class="code hl_variable" href="classSolv__Petsc.html#a74dac05c9ed8acbc0642cfee0d750f4e">verbose</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   83</span><span class="preprocessor">#ifdef PETSCKSP_H</span></div>
<div class="line"><span class="lineno">   84</span>  lecture(entree);</div>
<div class="line"><span class="lineno">   85</span>  <a class="code hl_class" href="classEChaine.html">EChaine</a> is(get_chaine_lue());</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>  <a class="code hl_class" href="classMotcle.html">Motcle</a> accolade_ouverte(<span class="stringliteral">&quot;{&quot;</span>);</div>
<div class="line"><span class="lineno">   88</span>  <a class="code hl_class" href="classMotcle.html">Motcle</a> accolade_fermee(<span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><span class="lineno">   89</span>  <a class="code hl_class" href="classNom.html">Nom</a> pc(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">   90</span>  <a class="code hl_class" href="classNom.html">Nom</a> motlu;</div>
<div class="line"><span class="lineno">   91</span>  <a class="code hl_class" href="classNom.html">Nom</a> ksp;</div>
<div class="line"><span class="lineno">   92</span>  is &gt;&gt; ksp;   <span class="comment">//!&lt; On lit le solveur en premier puis les options du solveur: PETSC ksp { ... }</span></div>
<div class="line"><span class="lineno">   93</span>  is &gt;&gt; motlu; <span class="comment">//!&lt; On lit l&#39;accolade</span></div>
<div class="line"><span class="lineno">   94</span>  <span class="keywordflow">if</span> (motlu != accolade_ouverte)</div>
<div class="line"><span class="lineno">   95</span>    {</div>
<div class="line"><span class="lineno">   96</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error while reading the parameters of the solver of PETSC &quot;</span> &lt;&lt; ksp &lt;&lt; <span class="stringliteral">&quot; { ... }&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">   97</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;We expected &quot;</span> &lt;&lt; accolade_ouverte &lt;&lt; <span class="stringliteral">&quot; instead of &quot;</span> &lt;&lt; motlu &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">   98</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">   99</span>    }</div>
<div class="line"><span class="lineno">  100</span><span class="comment">// Verification si Petsc est bien initialise (permet d&#39;eviter un crash en sequentiel sur les machines batch)</span></div>
<div class="line"><span class="lineno">  101</span>  PetscBool isInitialized;</div>
<div class="line"><span class="lineno">  102</span>  PetscInitialized(&amp;isInitialized);</div>
<div class="line"><span class="lineno">  103</span>  <span class="keywordflow">if</span> (!isInitialized)</div>
<div class="line"><span class="lineno">  104</span>    {</div>
<div class="line"><span class="lineno">  105</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;On this queuing system cluster, you need to use mpirun even on sequential mode&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  106</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;(mpirun -np 1 ...) with a PETSc solver or the calculation will crash. &quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  107</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You can use the trust script as a workaround:&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  108</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;trust &quot;</span> &lt;&lt; <a class="code hl_function" href="classObjet__U.html#a7c27c4f80259eeef76ff8fe2d3bc61f7">nom_du_cas</a>() &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  109</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  110</span>    }</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span><span class="comment">// Creation du solveur et association avec le preconditionneur</span></div>
<div class="line"><span class="lineno">  113</span>  <span class="keywordflow">if</span> (option_prefix_==<span class="stringliteral">&quot;??&quot;</span>) <span class="comment">//!&lt; Prefix non fixe</span></div>
<div class="line"><span class="lineno">  114</span>    {</div>
<div class="line"><span class="lineno">  115</span>      <a class="code hl_variable" href="classSolv__Petsc.html#acc3475bd78fb4ceace2d10ff68de1dd8">numero_solveur</a>++;</div>
<div class="line"><span class="lineno">  116</span>      option_prefix_=<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  117</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#acc3475bd78fb4ceace2d10ff68de1dd8">numero_solveur</a> &gt; 1)</div>
<div class="line"><span class="lineno">  118</span>        {</div>
<div class="line"><span class="lineno">  119</span><span class="comment">// On cree un prefix pour les options si plus d&#39;un solveur pour les differencier. Exemple:</span></div>
<div class="line"><span class="lineno">  120</span><span class="comment">// premier solveur -ksp_type ... -pc_type ...</span></div>
<div class="line"><span class="lineno">  121</span><span class="comment">// deuxieme solveur -solver2_ksp_type ... -solver2_pc-type ...</span></div>
<div class="line"><span class="lineno">  122</span><span class="comment">// troisieme solveur -solveur3_ksp_type ...</span></div>
<div class="line"><span class="lineno">  123</span>          option_prefix_ += <span class="stringliteral">&quot;solver&quot;</span>;</div>
<div class="line"><span class="lineno">  124</span>          option_prefix_ += (<a class="code hl_class" href="classNom.html">Nom</a>) <a class="code hl_variable" href="classSolv__Petsc.html#acc3475bd78fb4ceace2d10ff68de1dd8">numero_solveur</a>;</div>
<div class="line"><span class="lineno">  125</span>          option_prefix_ += <span class="stringliteral">&quot;_&quot;</span>;</div>
<div class="line"><span class="lineno">  126</span>        }</div>
<div class="line"><span class="lineno">  127</span>    }</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span><span class="comment">  /************************/</span></div>
<div class="line"><span class="lineno">  130</span>  <span class="comment">/* Set PETSC_COMM_WORLD */</span></div>
<div class="line"><span class="lineno">  131</span><span class="comment">  /************************/</span></div>
<div class="line"><span class="lineno">  132</span><span class="comment">// Recuperation du communicateur du groupe courant</span></div>
<div class="line"><span class="lineno">  133</span><span class="preprocessor">#ifdef MPI_</span></div>
<div class="line"><span class="lineno">  134</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classComm__Group__MPI.html">Comm_Group_MPI</a>,<a class="code hl_function" href="classPE__Groups.html#ae6ca0277a58f2ab34ebfb3216578fa75">PE_Groups::current_group</a>()))</div>
<div class="line"><span class="lineno">  135</span>    PETSC_COMM_WORLD = <a class="code hl_define" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code hl_class" href="classComm__Group__MPI.html">Comm_Group_MPI</a>,<a class="code hl_function" href="classPE__Groups.html#ae6ca0277a58f2ab34ebfb3216578fa75">PE_Groups::current_group</a>()).get_mpi_comm();</div>
<div class="line"><span class="lineno">  136</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>  KSPCreate(PETSC_COMM_WORLD, &amp;SolveurPetsc_);</div>
<div class="line"><span class="lineno">  139</span>  KSPGetPC(SolveurPetsc_, &amp;PreconditionneurPetsc_);</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span><span class="comment">// Add options if PETSc solver is used:</span></div>
<div class="line"><span class="lineno">  142</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classPE__Groups.html#a6fe714bb78ca65d4731c8b95db492172">PE_Groups::get_nb_groups</a>()==1 &amp;&amp; !<a class="code hl_variable" href="classObjet__U.html#a622f9039952e1be36aee2ac0c48955fc">disable_TU</a> )</div>
<div class="line"><span class="lineno">  143</span>    {</div>
<div class="line"><span class="lineno">  144</span><span class="comment">// _petsc.TU is only printed if one group calculation (e.g. Execute_parallel failed)</span></div>
<div class="line"><span class="lineno">  145</span>      <a class="code hl_class" href="classNom.html">Nom</a> petsc_TU(<span class="stringliteral">&quot;:&quot;</span>);</div>
<div class="line"><span class="lineno">  146</span>      petsc_TU+=<a class="code hl_function" href="classObjet__U.html#a7c27c4f80259eeef76ff8fe2d3bc61f7">nom_du_cas</a>();</div>
<div class="line"><span class="lineno">  147</span>      petsc_TU+=<span class="stringliteral">&quot;_petsc.TU&quot;</span>;</div>
<div class="line"><span class="lineno">  148</span>      add_option(<span class="stringliteral">&quot;log_view&quot;</span>,petsc_TU);  <span class="comment">//!&lt; Monitor performances at the end of the calculation</span></div>
<div class="line"><span class="lineno">  149</span>      PetscLogAllBegin();               <span class="comment">//!&lt; Necessary cause if not Event logs not printed in petsc_TU file ... I don&#39;t know why...</span></div>
<div class="line"><span class="lineno">  150</span>    }</div>
<div class="line"><span class="lineno">  151</span><span class="preprocessor">#ifdef NDEBUG</span></div>
<div class="line"><span class="lineno">  152</span><span class="comment">// PETSc 3.14 active par defaut les exceptions, on desactive en production ?</span></div>
<div class="line"><span class="lineno">  153</span><span class="comment">// PetscSetFPTrap(PETSC_FP_TRAP_OFF);</span></div>
<div class="line"><span class="lineno">  154</span><span class="comment">// Utiliser -fp_trap 0 a l&#39;execution plutot: Segfault vu sur petsc gmres { precond diag ... }</span></div>
<div class="line"><span class="lineno">  155</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  156</span><span class="comment">// add_option(&quot;on_error_abort&quot;,&quot;&quot;); // ne marche pas semble t&#39;il</span></div>
<div class="line"><span class="lineno">  157</span><span class="comment">// On doit pouvoir lire des mots cles de base (GCP, GMRES, CHOLESKY)</span></div>
<div class="line"><span class="lineno">  158</span><span class="comment">// mais egalement pouvoir appeler les options Petsc avec une chaine { -ksp_type cg -pc_type sor ... }</span></div>
<div class="line"><span class="lineno">  159</span><span class="comment">// Les options non reconnues doivent arreter le code</span></div>
<div class="line"><span class="lineno">  160</span><span class="comment">// Reprendre le formalisme de GCP { precond ssor { omega val } seuil val }</span></div>
<div class="line"><span class="lineno">  161</span>  <a class="code hl_class" href="classMotcles.html">Motcles</a> les_solveurs(20);</div>
<div class="line"><span class="lineno">  162</span>  {</div>
<div class="line"><span class="lineno">  163</span>    les_solveurs[0] = <span class="stringliteral">&quot;CLI&quot;</span>;</div>
<div class="line"><span class="lineno">  164</span>    les_solveurs[1] = <span class="stringliteral">&quot;GCP&quot;</span>;</div>
<div class="line"><span class="lineno">  165</span>    les_solveurs[2] = <span class="stringliteral">&quot;GMRES&quot;</span>;</div>
<div class="line"><span class="lineno">  166</span>    les_solveurs[3] = <span class="stringliteral">&quot;CHOLESKY&quot;</span>;</div>
<div class="line"><span class="lineno">  167</span>    les_solveurs[4] = <span class="stringliteral">&quot;CHOLESKY_OUT_OF_CORE&quot;</span>;</div>
<div class="line"><span class="lineno">  168</span>    les_solveurs[5] = <span class="stringliteral">&quot;BICGSTAB&quot;</span>;</div>
<div class="line"><span class="lineno">  169</span>    les_solveurs[6] = <span class="stringliteral">&quot;IBICGSTAB&quot;</span>;</div>
<div class="line"><span class="lineno">  170</span>    les_solveurs[7] = <span class="stringliteral">&quot;CHOLESKY_SUPERLU&quot;</span>;</div>
<div class="line"><span class="lineno">  171</span>    les_solveurs[8] = <span class="stringliteral">&quot;PGMRES&quot;</span>;</div>
<div class="line"><span class="lineno">  172</span>    les_solveurs[9] = <span class="stringliteral">&quot;LU&quot;</span>;</div>
<div class="line"><span class="lineno">  173</span>    les_solveurs[10] = <span class="stringliteral">&quot;PIPECG&quot;</span>;</div>
<div class="line"><span class="lineno">  174</span>    les_solveurs[11] = <span class="stringliteral">&quot;CHOLESKY_LAPACK&quot;</span>;</div>
<div class="line"><span class="lineno">  175</span>    les_solveurs[12] = <span class="stringliteral">&quot;CHOLESKY_UMFPACK&quot;</span>;</div>
<div class="line"><span class="lineno">  176</span>    les_solveurs[13] = <span class="stringliteral">&quot;CHOLESKY_PASTIX&quot;</span>;</div>
<div class="line"><span class="lineno">  177</span>    les_solveurs[14] = <span class="stringliteral">&quot;CLI_VERBOSE&quot;</span>;</div>
<div class="line"><span class="lineno">  178</span>    les_solveurs[15] = <span class="stringliteral">&quot;CLI_QUIET&quot;</span>;</div>
<div class="line"><span class="lineno">  179</span>    les_solveurs[16] = <span class="stringliteral">&quot;CHOLESKY_MUMPS_BLR&quot;</span>;</div>
<div class="line"><span class="lineno">  180</span>    les_solveurs[17] = <span class="stringliteral">&quot;CHOLESKY_CHOLMOD&quot;</span>;</div>
<div class="line"><span class="lineno">  181</span>    les_solveurs[18] = <span class="stringliteral">&quot;PIPECG2&quot;</span>;</div>
<div class="line"><span class="lineno">  182</span>    les_solveurs[19] = <span class="stringliteral">&quot;FGMRES&quot;</span>;</div>
<div class="line"><span class="lineno">  183</span>  }</div>
<div class="line"><span class="lineno">  184</span>  <span class="keywordtype">int</span> solver_supported_on_gpu_by_petsc=0;</div>
<div class="line"><span class="lineno">  185</span>  <span class="keywordtype">int</span> solver_supported_on_gpu_by_amgx=0;</div>
<div class="line"><span class="lineno">  186</span>  <a class="code hl_class" href="classNom.html">Nom</a> amgx_option=<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  187</span>  <span class="keywordtype">int</span> rang=les_solveurs.search(ksp);</div>
<div class="line"><span class="lineno">  188</span>  <a class="code hl_function" href="classObjet__U.html#a469dbcad1d4a98a67e4246dce8e264ad">nommer</a>(les_solveurs[rang]);</div>
<div class="line"><span class="lineno">  189</span>  <span class="keywordflow">switch</span>(rang)</div>
<div class="line"><span class="lineno">  190</span>    {</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">case</span> 14:</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">case</span> 15:</div>
<div class="line"><span class="lineno">  194</span>      {</div>
<div class="line"><span class="lineno">  195</span>        <span class="keywordflow">if</span> (rang == 15) <a class="code hl_function" href="classSolveurSys__base.html#a987e97740c779c1ab4192c3c1f1bbd5d">fixer_limpr</a>(-1);  <span class="comment">//!&lt; Quiet</span></div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">else</span> <a class="code hl_function" href="classSolveurSys__base.html#a987e97740c779c1ab4192c3c1f1bbd5d">fixer_limpr</a>(1); <span class="comment">//!&lt; On imprime le residu</span></div>
<div class="line"><span class="lineno">  197</span>        solver_supported_on_gpu_by_petsc=1; <span class="comment">//!&lt; Not really, reserved to expert...</span></div>
<div class="line"><span class="lineno">  198</span>        solver_supported_on_gpu_by_amgx=1;  <span class="comment">//!&lt; Not really, reserved to expert...</span></div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classSolveurSys__base.html#a6435c5b83312da8f782eeeab564b4061">limpr</a>() &gt;= 0) <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Reading of the &quot;</span> &lt;&lt; (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a> ? <span class="stringliteral">&quot;AmgX&quot;</span> : <span class="stringliteral">&quot;Petsc&quot;</span>) &lt;&lt; <span class="stringliteral">&quot; commands:&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  200</span>        <a class="code hl_class" href="classNom.html">Nom</a> <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>;</div>
<div class="line"><span class="lineno">  201</span>        is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno">  203</span>          {</div>
<div class="line"><span class="lineno">  204</span>            <span class="keywordflow">while</span> (motlu!=accolade_fermee)</div>
<div class="line"><span class="lineno">  205</span>              {</div>
<div class="line"><span class="lineno">  206</span><span class="comment">// -config file.json</span></div>
<div class="line"><span class="lineno">  207</span>                <span class="keywordflow">if</span> (motlu == <span class="stringliteral">&quot;-file&quot;</span>)</div>
<div class="line"><span class="lineno">  208</span>                  {</div>
<div class="line"><span class="lineno">  209</span>                    is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  210</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><span class="lineno">  211</span>                      {</div>
<div class="line"><span class="lineno">  212</span>                        <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Reading AmgX config file &quot;</span> &lt;&lt; motlu &lt;&lt; <span class="stringliteral">&quot; :&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  213</span>                        <a class="code hl_class" href="classEFichier.html">EFichier</a> config_amgx(motlu);</div>
<div class="line"><span class="lineno">  214</span>                        std::string line;</div>
<div class="line"><span class="lineno">  215</span>                        <span class="keywordflow">while</span> (!config_amgx.eof())</div>
<div class="line"><span class="lineno">  216</span>                          {</div>
<div class="line"><span class="lineno">  217</span>                            std::getline(config_amgx.get_ifstream(), line);</div>
<div class="line"><span class="lineno">  218</span>                            <span class="keywordflow">if</span> (line.find(<span class="stringliteral">&quot;#&quot;</span>) &amp;&amp; line.find(<span class="stringliteral">&quot;config_version&quot;</span>))</div>
<div class="line"><span class="lineno">  219</span>                              {</div>
<div class="line"><span class="lineno">  220</span>                                <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; line &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  221</span>                                amgx_option+=line;</div>
<div class="line"><span class="lineno">  222</span>                                amgx_option+=<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  223</span>                              }</div>
<div class="line"><span class="lineno">  224</span>                          }</div>
<div class="line"><span class="lineno">  225</span>                      }</div>
<div class="line"><span class="lineno">  226</span>                  }</div>
<div class="line"><span class="lineno">  227</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  228</span>                  {</div>
<div class="line"><span class="lineno">  229</span>                    amgx_option += motlu;</div>
<div class="line"><span class="lineno">  230</span>                    amgx_option += <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  231</span>                  }</div>
<div class="line"><span class="lineno">  232</span>                is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  233</span>              }</div>
<div class="line"><span class="lineno">  234</span>          }</div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  236</span>          <span class="keywordflow">while</span> (motlu!=accolade_fermee)</div>
<div class="line"><span class="lineno">  237</span>            {</div>
<div class="line"><span class="lineno">  238</span>              is &gt;&gt; <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>;</div>
<div class="line"><span class="lineno">  239</span><span class="comment">// &quot;-option val&quot; ou &quot;-option&quot; ?</span></div>
<div class="line"><span class="lineno">  240</span>              <span class="keywordflow">if</span> (<a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>.debute_par(<span class="stringliteral">&quot;-&quot;</span>) || <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>==accolade_fermee)</div>
<div class="line"><span class="lineno">  241</span>                {</div>
<div class="line"><span class="lineno">  242</span>                  add_option(motlu.suffix(<span class="stringliteral">&quot;-&quot;</span>), <span class="stringliteral">&quot;&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  243</span>                  motlu = <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>;</div>
<div class="line"><span class="lineno">  244</span>                }</div>
<div class="line"><span class="lineno">  245</span>              <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  246</span>                {</div>
<div class="line"><span class="lineno">  247</span>                  <span class="keywordflow">if</span> (motlu == <span class="stringliteral">&quot;-ksp_type&quot;</span> &amp;&amp; <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>==<span class="stringliteral">&quot;preonly&quot;</span>) <a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>=<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6a1ff272a9a5361e482e6748be5e449bbd">cli</a>; <span class="comment">//!&lt; Activate direct solveur if using -ksp_preonly ...</span></div>
<div class="line"><span class="lineno">  248</span>                  <span class="keywordflow">if</span> (motlu == <span class="stringliteral">&quot;-ksp_max_it&quot;</span>) ignore_nb_it_max_ = 1; <span class="comment">//pour un comportement similaire a l&#39;option nb_it_max</span></div>
<div class="line"><span class="lineno">  249</span>                  add_option(motlu.suffix(<span class="stringliteral">&quot;-&quot;</span>), <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>, 1);</div>
<div class="line"><span class="lineno">  250</span>                  is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  251</span>                }</div>
<div class="line"><span class="lineno">  252</span>            }</div>
<div class="line"><span class="lineno">  253</span><span class="comment">// Pour faciliter le debugage:</span></div>
<div class="line"><span class="lineno">  254</span>        <span class="keywordflow">if</span> (rang == 14) <span class="comment">//!&lt; Verbose</span></div>
<div class="line"><span class="lineno">  255</span>          {</div>
<div class="line"><span class="lineno">  256</span>            add_option(<span class="stringliteral">&quot;ksp_view&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  257</span>            add_option(<span class="stringliteral">&quot;options_view&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  258</span>            add_option(<span class="stringliteral">&quot;options_left&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  259</span>          }</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  262</span>      }</div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">  264</span>      {</div>
<div class="line"><span class="lineno">  265</span>        KSPSetType(SolveurPetsc_, KSPCG);</div>
<div class="line"><span class="lineno">  266</span><span class="comment">// Residu=||Ax-b|| comme dans TRUST pour GCP sinon on ne peut comparer les convergences</span></div>
<div class="line"><span class="lineno">  267</span>        KSPSetNormType(SolveurPetsc_, KSP_NORM_UNPRECONDITIONED);</div>
<div class="line"><span class="lineno">  268</span><span class="comment">// Merge the two inner products needed in CG into a single MPI_Allreduce() call:</span></div>
<div class="line"><span class="lineno">  269</span><span class="comment">// Gain interessant a partir de 4000 coeurs</span></div>
<div class="line"><span class="lineno">  270</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>()&gt;=4000)</div>
<div class="line"><span class="lineno">  271</span>          {</div>
<div class="line"><span class="lineno">  272</span><span class="comment">// add_option(&quot;ksp_cg_single_reduction&quot;,&quot;&quot;); Pour Petsc &lt; 3.3, la fonction KSPCGUseSingleReduction n&#39;etait pas disponible</span></div>
<div class="line"><span class="lineno">  273</span>            KSPCGUseSingleReduction(SolveurPetsc_,(PetscBool)1);</div>
<div class="line"><span class="lineno">  274</span>          }</div>
<div class="line"><span class="lineno">  275</span><span class="comment">// But It requires two extra work vectors than the conventional implementation in PETSc.</span></div>
<div class="line"><span class="lineno">  276</span>        solver_supported_on_gpu_by_petsc=1;</div>
<div class="line"><span class="lineno">  277</span>        solver_supported_on_gpu_by_amgx=1;</div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>) amgx_option+=<span class="stringliteral">&quot;solver(s)=PCG\n&quot;</span>; <span class="comment">//!&lt; CG avec preconditionnement if (amgx_) amgx_option+=&quot;solver(s)=PCGF\n&quot;; // Flexible CG avec preconditionnement</span></div>
<div class="line"><span class="lineno">  279</span><span class="comment">//</span></div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  281</span>      }</div>
<div class="line"><span class="lineno">  282</span>    <span class="keywordflow">case</span> 10:</div>
<div class="line"><span class="lineno">  283</span>      {</div>
<div class="line"><span class="lineno">  284</span>        KSPSetType(SolveurPetsc_, KSPPIPECG);</div>
<div class="line"><span class="lineno">  285</span><span class="comment">// Residu=||Ax-b|| comme dans TRUST pour GCP sinon on ne peut comparer les convergences</span></div>
<div class="line"><span class="lineno">  286</span>        KSPSetNormType(SolveurPetsc_, KSP_NORM_UNPRECONDITIONED);</div>
<div class="line"><span class="lineno">  287</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  288</span>      }</div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">case</span> 18:</div>
<div class="line"><span class="lineno">  290</span>      {</div>
<div class="line"><span class="lineno">  291</span>        KSPSetType(SolveurPetsc_, KSPPIPECG2);</div>
<div class="line"><span class="lineno">  292</span><span class="comment">// Residu=||Ax-b|| comme dans TRUST pour GCP sinon on ne peut comparer les convergences</span></div>
<div class="line"><span class="lineno">  293</span>        KSPSetNormType(SolveurPetsc_, KSP_NORM_UNPRECONDITIONED);</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  295</span>      }</div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  297</span>      {</div>
<div class="line"><span class="lineno">  298</span>        KSPSetType(SolveurPetsc_, KSPGMRES);</div>
<div class="line"><span class="lineno">  299</span><span class="comment">// Le preconditionnement a droite permet que le residu utilise pour la convergence</span></div>
<div class="line"><span class="lineno">  300</span><span class="comment">// soit le residu reel ||Ax-b|| et non le residu preconditionne pour certains solveurs</span></div>
<div class="line"><span class="lineno">  301</span><span class="comment">// avec un preconditionnement a gauche (ex: GMRES). Ainsi, on peut comparer strictement</span></div>
<div class="line"><span class="lineno">  302</span><span class="comment">// les performances des solveurs (TRUST ou PETSC) entre eux</span></div>
<div class="line"><span class="lineno">  303</span>        KSPSetPCSide(SolveurPetsc_, PC_RIGHT);</div>
<div class="line"><span class="lineno">  304</span>        KSPSetNormType(SolveurPetsc_, KSP_NORM_UNPRECONDITIONED);</div>
<div class="line"><span class="lineno">  305</span>        solver_supported_on_gpu_by_petsc=1;</div>
<div class="line"><span class="lineno">  306</span>        solver_supported_on_gpu_by_amgx=1;</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno">  308</span>          {</div>
<div class="line"><span class="lineno">  309</span>            amgx_option+=<span class="stringliteral">&quot;solver(s)=GMRES\n&quot;</span>; <span class="comment">//!&lt; GMRES</span></div>
<div class="line"><span class="lineno">  310</span>            <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>(<span class="stringliteral">&quot;Gmres solver on GPU with AmgX fails to return a valid solution. Try GCP, BiCGSTAB or FGMRES solvers.&quot;</span>);</div>
<div class="line"><span class="lineno">  311</span>          }</div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  313</span>      }</div>
<div class="line"><span class="lineno">  314</span>    <span class="keywordflow">case</span> 19:</div>
<div class="line"><span class="lineno">  315</span>      {</div>
<div class="line"><span class="lineno">  316</span>        KSPSetType(SolveurPetsc_, KSPFGMRES);</div>
<div class="line"><span class="lineno">  317</span>        KSPSetPCSide(SolveurPetsc_, PC_RIGHT);</div>
<div class="line"><span class="lineno">  318</span>        KSPSetNormType(SolveurPetsc_, KSP_NORM_UNPRECONDITIONED);</div>
<div class="line"><span class="lineno">  319</span>        solver_supported_on_gpu_by_petsc=1;</div>
<div class="line"><span class="lineno">  320</span>        solver_supported_on_gpu_by_amgx=1;</div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>) amgx_option+=<span class="stringliteral">&quot;solver(s)=FGMRES\n&quot;</span>; <span class="comment">//!&lt; FGMRES</span></div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  323</span>      }</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno">  325</span>      {</div>
<div class="line"><span class="lineno">  326</span>        KSPSetType(SolveurPetsc_, KSPPGMRES);</div>
<div class="line"><span class="lineno">  327</span><span class="comment">// PGMRES ne peut etre que preconditionne a gauche (CAx=Cb)</span></div>
<div class="line"><span class="lineno">  328</span><span class="comment">// et on ne peut avoir que le residu preconditionne (||CAx-Cb||)</span></div>
<div class="line"><span class="lineno">  329</span><span class="comment">// -&gt; on ne peut comparer la convergence avec le GMRES...</span></div>
<div class="line"><span class="lineno">  330</span>        KSPSetPCSide(SolveurPetsc_, PC_LEFT);</div>
<div class="line"><span class="lineno">  331</span><span class="comment">// KSPSetNormType(SolveurPetsc, KSP_NORM_UNPRECONDITIONED);</span></div>
<div class="line"><span class="lineno">  332</span>        solver_supported_on_gpu_by_petsc=1;</div>
<div class="line"><span class="lineno">  333</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  334</span>      }</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">case</span> 9:</div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">case</span> 16:</div>
<div class="line"><span class="lineno">  339</span>      {</div>
<div class="line"><span class="lineno">  340</span><span class="comment">// Si MUMPS est present, on le prend par defaut (solveur_direct_=1) sinon SuperLU (solveur_direct_=2):</span></div>
<div class="line"><span class="lineno">  341</span><span class="preprocessor">#ifdef PETSC_HAVE_MUMPS</span></div>
<div class="line"><span class="lineno">  342</span>        <a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a> = <a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6a1cb49f862e7fcd552eed7f0145c86db1">mumps</a>;</div>
<div class="line"><span class="lineno">  343</span><span class="comment">// Ajout de l&#39;option</span></div>
<div class="line"><span class="lineno">  344</span><span class="comment">// Par defaut le cas PAR_Canal_incline_VEF plante sur 4 processeurs si -mat_mumps_icntl_14 inferieur a 35...</span></div>
<div class="line"><span class="lineno">  345</span><span class="comment">// On revient a 75 car parfois VEF_258 plante... C&#39;est pas clair au niveau memoire...</span></div>
<div class="line"><span class="lineno">  346</span><span class="comment">// Passage a Petsc 3.3 necessite d&#39;augmenter a plus de 75 car sinon Aero_192 crashe...</span></div>
<div class="line"><span class="lineno">  347</span><span class="comment">// A 90, le cas les_Re180Pr071_T0Q_jdd2 plante sur forchat (32bits)</span></div>
<div class="line"><span class="lineno">  348</span><span class="comment">// On differencie sequentiel (peu de memoire, mais estimation juste)</span></div>
<div class="line"><span class="lineno">  349</span><span class="comment">// et le calcul parallele (voir peut etre une separation entre plus et moins de 16 processeurs...)</span></div>
<div class="line"><span class="lineno">  350</span><span class="comment">// Peut etre equiper le script trust d&#39;une detection des erreurs INFO(1)=-9 ...</span></div>
<div class="line"><span class="lineno">  351</span><span class="comment">// On passe de 35 a 40 pour faire passer le cas cavite_entrainee_2D_jdd2 (suite passage a MUMPS 5.2.0)</span></div>
<div class="line"><span class="lineno">  352</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>() == 1)</div>
<div class="line"><span class="lineno">  353</span>          add_option(<span class="stringliteral">&quot;mat_mumps_icntl_14&quot;</span>, <span class="stringliteral">&quot;40&quot;</span>);</div>
<div class="line"><span class="lineno">  354</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  355</span>          add_option(<span class="stringliteral">&quot;mat_mumps_icntl_14&quot;</span>, <span class="stringliteral">&quot;90&quot;</span>);</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span><span class="comment">// Option out_of_core</span></div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">if</span> (rang == 4) add_option(<span class="stringliteral">&quot;mat_mumps_icntl_22&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span><span class="comment">// Option BLR</span></div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">if</span> (rang == 16)</div>
<div class="line"><span class="lineno">  362</span>          {</div>
<div class="line"><span class="lineno">  363</span>            <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a></div>
<div class="line"><span class="lineno">  364</span>                &lt;&lt; <span class="stringliteral">&quot;Activating BLR factorization. For more info, see http://mumps.enseeiht.fr/doc/userguide_5.1.2.pdf (page 18, 51, 52).&quot;</span></div>
<div class="line"><span class="lineno">  365</span>                &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  366</span>            add_option(<span class="stringliteral">&quot;mat_mumps_icntl_35&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>);</div>
<div class="line"><span class="lineno">  367</span>          }</div>
<div class="line"><span class="lineno">  368</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  369</span>        <a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>=<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6ae182fa5e69fe3b70815223024f19cd1b">superlu_dist</a>;</div>
<div class="line"><span class="lineno">  370</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  371</span>        KSPSetType(SolveurPetsc_, KSPPREONLY);</div>
<div class="line"><span class="lineno">  372</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  373</span>      }</div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno">  375</span>      {</div>
<div class="line"><span class="lineno">  376</span>        KSPSetType(SolveurPetsc_, KSPBCGS);</div>
<div class="line"><span class="lineno">  377</span>        solver_supported_on_gpu_by_petsc=1;</div>
<div class="line"><span class="lineno">  378</span>        solver_supported_on_gpu_by_amgx=1;</div>
<div class="line"><span class="lineno">  379</span><span class="comment">// if (amgx_) amgx_option+=&quot;solver(s)=BICGSTAB\n&quot;; // BICGSTAB sans preconditionnement</span></div>
<div class="line"><span class="lineno">  380</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>) amgx_option+=<span class="stringliteral">&quot;solver(s)=PBICGSTAB\n&quot;</span>; <span class="comment">//!&lt; BICGSTAB avec precondtionnement</span></div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  382</span>      }</div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno">  384</span>      {</div>
<div class="line"><span class="lineno">  385</span>        KSPSetType(SolveurPetsc_, KSPIBCGS); <span class="comment">//!&lt; 1 point de synchro au lieu de 3 pour KSPBCGS Pour optimiser encore les comms, voir: http://www.mcs.anl.gov/petsc/petsc-as/snapshots/petsc-3.0.0/docs/manualpages/KSP/KSPIBCGS.html</span></div>
<div class="line"><span class="lineno">  386</span><span class="comment">//</span></div>
<div class="line"><span class="lineno">  387</span><span class="comment">//</span></div>
<div class="line"><span class="lineno">  388</span>        KSPSetLagNorm(SolveurPetsc_, PETSC_TRUE);</div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  390</span>      }</div>
<div class="line"><span class="lineno">  391</span>    <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno">  392</span>      {</div>
<div class="line"><span class="lineno">  393</span>        <a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>=<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6ae182fa5e69fe3b70815223024f19cd1b">superlu_dist</a>;</div>
<div class="line"><span class="lineno">  394</span><span class="comment">// SuperLU_dist, parallel but not faster than MUMPS</span></div>
<div class="line"><span class="lineno">  395</span><span class="preprocessor">#ifdef PETSC_HAVE_OPENMP</span></div>
<div class="line"><span class="lineno">  396</span><span class="comment">// Version GPU disponible de SuperLU si OpenMP active (necessaire)</span></div>
<div class="line"><span class="lineno">  397</span>        solver_supported_on_gpu_by_petsc=1;</div>
<div class="line"><span class="lineno">  398</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  399</span>        KSPSetType(SolveurPetsc_, KSPPREONLY);</div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  401</span>      }</div>
<div class="line"><span class="lineno">  402</span>    <span class="keywordflow">case</span> 11:</div>
<div class="line"><span class="lineno">  403</span>      {</div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>()&gt;1) <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>(<span class="stringliteral">&quot;Cholesky_lapack can&#39;t be used for parallel calculation.&quot;</span>);</div>
<div class="line"><span class="lineno">  405</span>        <a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>=<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6aaf77cfaeac95d5bb680e1b2603d23ae1">petsc</a>;</div>
<div class="line"><span class="lineno">  406</span><span class="comment">// Lapack, old and slow (non pas vrai sur petites matrices d&#39;ordre 100 - 10000 !)</span></div>
<div class="line"><span class="lineno">  407</span>        add_option(<span class="stringliteral">&quot;pc_factor_nonzeros_along_diagonal&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); <span class="comment">//!&lt; Moins robuste que MUMPS pour un pivot nul donc on reordonne pour eviter</span></div>
<div class="line"><span class="lineno">  408</span>        KSPSetType(SolveurPetsc_, KSPPREONLY);</div>
<div class="line"><span class="lineno">  409</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  410</span>      }</div>
<div class="line"><span class="lineno">  411</span>    <span class="keywordflow">case</span> 12:</div>
<div class="line"><span class="lineno">  412</span>      {</div>
<div class="line"><span class="lineno">  413</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>()&gt;1) <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>(<span class="stringliteral">&quot;Cholesky_umfpack can&#39;t be used for parallel calculation.&quot;</span>);</div>
<div class="line"><span class="lineno">  414</span>        <a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>=<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6ad25605924f9b1643dcc298a4eba5a84f">umfpack</a>;</div>
<div class="line"><span class="lineno">  415</span><span class="comment">// Umfpack, sequential only but fast...</span></div>
<div class="line"><span class="lineno">  416</span>        KSPSetType(SolveurPetsc_, KSPPREONLY);</div>
<div class="line"><span class="lineno">  417</span><span class="comment">// more robustness</span></div>
<div class="line"><span class="lineno">  418</span>        add_option(<span class="stringliteral">&quot;mat_umfpack_pivot_tolerance&quot;</span>,<span class="stringliteral">&quot;1.0&quot;</span>);</div>
<div class="line"><span class="lineno">  419</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  420</span>      }</div>
<div class="line"><span class="lineno">  421</span>    <span class="keywordflow">case</span> 13:</div>
<div class="line"><span class="lineno">  422</span>      {</div>
<div class="line"><span class="lineno">  423</span>        <a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>=<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6aa663c1c6ebfd318f067db896735d4481">pastix</a>;</div>
<div class="line"><span class="lineno">  424</span><span class="comment">// Pastix supports sbaij but seems slow...</span></div>
<div class="line"><span class="lineno">  425</span>        KSPSetType(SolveurPetsc_, KSPPREONLY);</div>
<div class="line"><span class="lineno">  426</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  427</span>      }</div>
<div class="line"><span class="lineno">  428</span>    <span class="keywordflow">case</span> 17:</div>
<div class="line"><span class="lineno">  429</span>      {</div>
<div class="line"><span class="lineno">  430</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>()&gt;1) <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>(<span class="stringliteral">&quot;Cholesky_cholmod can&#39;t be used for parallel calculation.&quot;</span>);</div>
<div class="line"><span class="lineno">  431</span>        <a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>=<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6abc3895945aa136c66ea71a53a6fae6c7">cholmod</a>;</div>
<div class="line"><span class="lineno">  432</span><span class="comment">// Cholmod Cholesky (pas LU), sequentiel, supporte multi-GPU</span></div>
<div class="line"><span class="lineno">  433</span>        <span class="keywordflow">if</span> (!matrice_symetrique_)</div>
<div class="line"><span class="lineno">  434</span>          {</div>
<div class="line"><span class="lineno">  435</span>            <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; ksp &lt;&lt; <span class="stringliteral">&quot; is only supported for symmetric linear system.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  436</span>            <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  437</span>          }</div>
<div class="line"><span class="lineno">  438</span>        solver_supported_on_gpu_by_petsc=1;</div>
<div class="line"><span class="lineno">  439</span>        KSPSetType(SolveurPetsc_, KSPPREONLY);</div>
<div class="line"><span class="lineno">  440</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  441</span>      }</div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  443</span>      {</div>
<div class="line"><span class="lineno">  444</span>        <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; ksp &lt;&lt; <span class="stringliteral">&quot; : solver not officially recognized by TRUST among those possible for the moment:&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  445</span>        <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; les_solveurs &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  446</span>        <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You can try to access directly to Petsc solvers with the command line:&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  447</span>        <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;PETSC CLI { -ksp_type solver_name -pc_type preconditioning_name -ksp_atol threshold -ksp_monitor }&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  448</span>        <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;See the reference manual for all Petsc options.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  449</span>        <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  450</span>      }</div>
<div class="line"><span class="lineno">  451</span>    }</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span><span class="comment">// On verifie que le solveur est supporte sur GPU:</span></div>
<div class="line"><span class="lineno">  454</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a5f603c229087d42c8bb2fee48290526f">gpu_</a>)</div>
<div class="line"><span class="lineno">  455</span>    {</div>
<div class="line"><span class="lineno">  456</span><span class="preprocessor">#ifdef PETSC_HAVE_CUDA</span></div>
<div class="line"><span class="lineno">  457</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;GPU capabilities of PETSc will be used.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  458</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  459</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You can not use petsc_gpu keyword cause GPU&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  460</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;capabilities will not work on your workstation with PETSc.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  461</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Check if you have a NVidia video card and its driver up to date.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  462</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Check petsc.log file under $TRUST_ROOT/lib/src/LIBPETSC for more details.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  463</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  464</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  465</span>      <span class="keywordflow">if</span> (solver_supported_on_gpu_by_petsc==0)</div>
<div class="line"><span class="lineno">  466</span>        {</div>
<div class="line"><span class="lineno">  467</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; les_solveurs[rang] &lt;&lt; <span class="stringliteral">&quot; is not supported yet by PETSc on GPU.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  468</span>          <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  469</span>        }</div>
<div class="line"><span class="lineno">  470</span>    }</div>
<div class="line"><span class="lineno">  471</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno">  472</span>    {</div>
<div class="line"><span class="lineno">  473</span><span class="preprocessor">#ifdef PETSC_HAVE_CUDA</span></div>
<div class="line"><span class="lineno">  474</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;GPU capabilities of AmgX will be used.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  475</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  476</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You can not use amgx keyword cause GPU&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  477</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;capabilities will not work on your workstation with AmgX.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  478</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Check if you have a NVidia video card and its driver up to date.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  479</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Check petsc.log file under $TRUST_ROOT/lib/src/LIBPETSC for more details.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  480</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  481</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  482</span>      <span class="keywordflow">if</span> (solver_supported_on_gpu_by_amgx==0)</div>
<div class="line"><span class="lineno">  483</span>        {</div>
<div class="line"><span class="lineno">  484</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; les_solveurs[rang] &lt;&lt; <span class="stringliteral">&quot; is not supported yet by AmgX on GPU.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  485</span>          <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  486</span>        }</div>
<div class="line"><span class="lineno">  487</span>    }</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>  <span class="keywordtype">int</span> convergence_with_seuil=0; <span class="comment">//!&lt; Keyword to check the convergence via seuil or nb_it_max On continue a lire</span></div>
<div class="line"><span class="lineno">  490</span><span class="comment">//</span></div>
<div class="line"><span class="lineno">  491</span>  <span class="keywordflow">if</span> (motlu==accolade_ouverte)</div>
<div class="line"><span class="lineno">  492</span>    {</div>
<div class="line"><span class="lineno">  493</span><span class="comment">// Temporaire essayer de faire converger les noms de parametres des differentes solveurs (GCP, GMRES,...)</span></div>
<div class="line"><span class="lineno">  494</span>      <a class="code hl_class" href="classMotcles.html">Motcles</a> les_parametres_solveur(28);</div>
<div class="line"><span class="lineno">  495</span>      {</div>
<div class="line"><span class="lineno">  496</span>        les_parametres_solveur[0] = <span class="stringliteral">&quot;impr&quot;</span>;</div>
<div class="line"><span class="lineno">  497</span>        les_parametres_solveur[1] = <span class="stringliteral">&quot;seuil&quot;</span>; <span class="comment">//!&lt; Seuil absolu (atol)</span></div>
<div class="line"><span class="lineno">  498</span>        les_parametres_solveur[2] = <span class="stringliteral">&quot;precond&quot;</span>;</div>
<div class="line"><span class="lineno">  499</span>        les_parametres_solveur[3] = <span class="stringliteral">&quot;precond_nul&quot;</span>; <span class="comment">//!&lt; To accept the TRUST syntax</span></div>
<div class="line"><span class="lineno">  500</span>        les_parametres_solveur[4] = <span class="stringliteral">&quot;nb_it_max&quot;</span>;</div>
<div class="line"><span class="lineno">  501</span>        les_parametres_solveur[5] = <span class="stringliteral">&quot;save_matrix_petsc_format&quot;</span>;</div>
<div class="line"><span class="lineno">  502</span>        les_parametres_solveur[6] = <span class="stringliteral">&quot;factored_matrix&quot;</span>; <span class="comment">//!&lt; Experimental</span></div>
<div class="line"><span class="lineno">  503</span>        les_parametres_solveur[7] = <span class="stringliteral">&quot;read_matrix&quot;</span>;</div>
<div class="line"><span class="lineno">  504</span>        les_parametres_solveur[8] = <span class="stringliteral">&quot;controle_residu&quot;</span>;</div>
<div class="line"><span class="lineno">  505</span>        les_parametres_solveur[9] = <span class="stringliteral">&quot;cli&quot;</span>;</div>
<div class="line"><span class="lineno">  506</span>        les_parametres_solveur[10] = <span class="stringliteral">&quot;ordering&quot;</span>;</div>
<div class="line"><span class="lineno">  507</span>        les_parametres_solveur[11] = <span class="stringliteral">&quot;petsc_decide&quot;</span>; <span class="comment">//!&lt; Experimental</span></div>
<div class="line"><span class="lineno">  508</span>        les_parametres_solveur[12] = <span class="stringliteral">&quot;aij&quot;</span>;</div>
<div class="line"><span class="lineno">  509</span>        les_parametres_solveur[13] = <span class="stringliteral">&quot;nb_cpus&quot;</span>;</div>
<div class="line"><span class="lineno">  510</span>        les_parametres_solveur[14] = <span class="stringliteral">&quot;divtol&quot;</span>;</div>
<div class="line"><span class="lineno">  511</span>        les_parametres_solveur[15] = <span class="stringliteral">&quot;save_matrice|save_matrix&quot;</span>;</div>
<div class="line"><span class="lineno">  512</span>        les_parametres_solveur[16] = <span class="stringliteral">&quot;quiet&quot;</span>;</div>
<div class="line"><span class="lineno">  513</span>        les_parametres_solveur[17] = <span class="stringliteral">&quot;restart&quot;</span>;</div>
<div class="line"><span class="lineno">  514</span>        les_parametres_solveur[18] = <span class="stringliteral">&quot;cli_verbose&quot;</span>;</div>
<div class="line"><span class="lineno">  515</span>        les_parametres_solveur[19] = <span class="stringliteral">&quot;dropping_parameter&quot;</span>;</div>
<div class="line"><span class="lineno">  516</span>        les_parametres_solveur[20] = <span class="stringliteral">&quot;rtol&quot;</span>; <span class="comment">//!&lt; Seuil relatif</span></div>
<div class="line"><span class="lineno">  517</span>        les_parametres_solveur[21] = <span class="stringliteral">&quot;atol&quot;</span>; <span class="comment">//!&lt; Seuil absolu &lt;=&gt; seuil</span></div>
<div class="line"><span class="lineno">  518</span>        les_parametres_solveur[22] = <span class="stringliteral">&quot;ignore_new_nonzero&quot;</span>;</div>
<div class="line"><span class="lineno">  519</span>        les_parametres_solveur[23] = <span class="stringliteral">&quot;rebuild_matrix&quot;</span>;</div>
<div class="line"><span class="lineno">  520</span>        les_parametres_solveur[24] = <span class="stringliteral">&quot;allow_realloc&quot;</span>;</div>
<div class="line"><span class="lineno">  521</span>        les_parametres_solveur[25] = <span class="stringliteral">&quot;clean_matrix&quot;</span>;</div>
<div class="line"><span class="lineno">  522</span>        les_parametres_solveur[26] = <span class="stringliteral">&quot;save_matrix_mtx_format&quot;</span>;</div>
<div class="line"><span class="lineno">  523</span>        les_parametres_solveur[27] = <span class="stringliteral">&quot;reuse_precond&quot;</span>;</div>
<div class="line"><span class="lineno">  524</span>      }</div>
<div class="line"><span class="lineno">  525</span>      <a class="code hl_class" href="classoption__double.html">option_double</a> omega(<span class="stringliteral">&quot;omega&quot;</span>,<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a> ? 0.9 : 1.5);</div>
<div class="line"><span class="lineno">  526</span>      <a class="code hl_class" href="classoption__int.html">option_int</a>    level(<span class="stringliteral">&quot;level&quot;</span>,1);</div>
<div class="line"><span class="lineno">  527</span>      <a class="code hl_class" href="classoption__double.html">option_double</a> epsilon(<span class="stringliteral">&quot;epsilon&quot;</span>,0.1);</div>
<div class="line"><span class="lineno">  528</span>      <a class="code hl_class" href="classoption__string.html">option_string</a> ordering(<span class="stringliteral">&quot;ordering&quot;</span>,(<a class="code hl_class" href="classNom.html">Nom</a>)<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  529</span>      controle_residu_=0;</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>      is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  532</span>      <span class="keywordflow">while</span> (motlu!=accolade_fermee)</div>
<div class="line"><span class="lineno">  533</span>        {</div>
<div class="line"><span class="lineno">  534</span>          <span class="keywordflow">switch</span>(les_parametres_solveur.search(motlu))</div>
<div class="line"><span class="lineno">  535</span>            {</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">case</span> 16:</div>
<div class="line"><span class="lineno">  537</span>              {</div>
<div class="line"><span class="lineno">  538</span>                <a class="code hl_function" href="classSolveurSys__base.html#a987e97740c779c1ab4192c3c1f1bbd5d">fixer_limpr</a>(-1);</div>
<div class="line"><span class="lineno">  539</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  540</span>              }</div>
<div class="line"><span class="lineno">  541</span>            <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  542</span>              {</div>
<div class="line"><span class="lineno">  543</span>                <a class="code hl_function" href="classSolveurSys__base.html#a987e97740c779c1ab4192c3c1f1bbd5d">fixer_limpr</a>(1);</div>
<div class="line"><span class="lineno">  544</span><span class="comment">// Si MUMPS on ajoute des impressions sur la decomposition</span></div>
<div class="line"><span class="lineno">  545</span>                <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>==<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6a1cb49f862e7fcd552eed7f0145c86db1">mumps</a>)</div>
<div class="line"><span class="lineno">  546</span>                  add_option(<span class="stringliteral">&quot;mat_mumps_icntl_4&quot;</span>,<span class="stringliteral">&quot;3&quot;</span>);</div>
<div class="line"><span class="lineno">  547</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>==<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6ae182fa5e69fe3b70815223024f19cd1b">superlu_dist</a>)</div>
<div class="line"><span class="lineno">  548</span>                  add_option(<span class="stringliteral">&quot;mat_superlu_dist_statprint&quot;</span>,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  549</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>==<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6aaf77cfaeac95d5bb680e1b2603d23ae1">petsc</a>)</div>
<div class="line"><span class="lineno">  550</span>                  {}</div>
<div class="line"><span class="lineno">  551</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>==<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6ad25605924f9b1643dcc298a4eba5a84f">umfpack</a>)</div>
<div class="line"><span class="lineno">  552</span>                  add_option(<span class="stringliteral">&quot;mat_umfpack_prl&quot;</span>,<span class="stringliteral">&quot;2&quot;</span>);</div>
<div class="line"><span class="lineno">  553</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>==<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6aa663c1c6ebfd318f067db896735d4481">pastix</a>)</div>
<div class="line"><span class="lineno">  554</span>                  add_option(<span class="stringliteral">&quot;mat_pastix_verbose&quot;</span>,<span class="stringliteral">&quot;2&quot;</span>);</div>
<div class="line"><span class="lineno">  555</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>==<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6abc3895945aa136c66ea71a53a6fae6c7">cholmod</a>)</div>
<div class="line"><span class="lineno">  556</span>                  add_option(<span class="stringliteral">&quot;mat_cholmod_print&quot;</span>,<span class="stringliteral">&quot;3&quot;</span>);</div>
<div class="line"><span class="lineno">  557</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>)</div>
<div class="line"><span class="lineno">  558</span>                  {</div>
<div class="line"><span class="lineno">  559</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;impr not coded yet for this direct solver.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  560</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  561</span>                  }</div>
<div class="line"><span class="lineno">  562</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  563</span>              }</div>
<div class="line"><span class="lineno">  564</span>            <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">  565</span>            <span class="keywordflow">case</span> 21:</div>
<div class="line"><span class="lineno">  566</span>              {</div>
<div class="line"><span class="lineno">  567</span>                <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>)</div>
<div class="line"><span class="lineno">  568</span>                  {</div>
<div class="line"><span class="lineno">  569</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Definition of &quot;</span> &lt;&lt; les_parametres_solveur(les_parametres_solveur.search(motlu)) &lt;&lt; <span class="stringliteral">&quot; is useless for a direct method.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  570</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Suppress the keyword.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  571</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  572</span>                  }</div>
<div class="line"><span class="lineno">  573</span>                is &gt;&gt; seuil_;</div>
<div class="line"><span class="lineno">  574</span>                convergence_with_seuil=1;</div>
<div class="line"><span class="lineno">  575</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno">  576</span>                  {</div>
<div class="line"><span class="lineno">  577</span>                    amgx_option+=<span class="stringliteral">&quot;s:convergence=ABSOLUTE\ns:tolerance=&quot;</span>;</div>
<div class="line"><span class="lineno">  578</span>                    amgx_option+=<a class="code hl_class" href="classNom.html">Nom</a>(seuil_,<span class="stringliteral">&quot;%e&quot;</span>)+<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  579</span>                  }</div>
<div class="line"><span class="lineno">  580</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  581</span>              }</div>
<div class="line"><span class="lineno">  582</span>            <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  583</span>              {</div>
<div class="line"><span class="lineno">  584</span>                is &gt;&gt; pc;</div>
<div class="line"><span class="lineno">  585</span>                is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  586</span>                <span class="keywordflow">if</span> (motlu != accolade_ouverte)</div>
<div class="line"><span class="lineno">  587</span>                  {</div>
<div class="line"><span class="lineno">  588</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error while reading the parameters of the PETSC preconditioner: precond &quot;</span> &lt;&lt; pc &lt;&lt; <span class="stringliteral">&quot; { ... }&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  589</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;We expected &quot;</span> &lt;&lt; accolade_ouverte &lt;&lt; <span class="stringliteral">&quot; instead of &quot;</span> &lt;&lt; motlu &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  590</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  591</span>                  }</div>
<div class="line"><span class="lineno">  592</span>                is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  593</span>                <span class="keywordflow">while</span> (motlu!=accolade_fermee)</div>
<div class="line"><span class="lineno">  594</span>                  {</div>
<div class="line"><span class="lineno">  595</span>                    <a class="code hl_class" href="classMotcles.html">Motcles</a> les_parametres_precond(4);</div>
<div class="line"><span class="lineno">  596</span>                    {</div>
<div class="line"><span class="lineno">  597</span>                      les_parametres_precond[0] = omega.name;</div>
<div class="line"><span class="lineno">  598</span>                      les_parametres_precond[1] = level.name;</div>
<div class="line"><span class="lineno">  599</span>                      les_parametres_precond[2] = epsilon.name;</div>
<div class="line"><span class="lineno">  600</span>                      les_parametres_precond[3] = ordering.name;</div>
<div class="line"><span class="lineno">  601</span>                    }</div>
<div class="line"><span class="lineno">  602</span>                    <span class="keywordtype">double</span> tmp_int;</div>
<div class="line"><span class="lineno">  603</span>                    <span class="keywordtype">double</span> tmp_double;</div>
<div class="line"><span class="lineno">  604</span>                    <a class="code hl_class" href="classNom.html">Nom</a> tmp_string;</div>
<div class="line"><span class="lineno">  605</span>                    <span class="keywordflow">switch</span>(les_parametres_precond.search(motlu))</div>
<div class="line"><span class="lineno">  606</span>                      {</div>
<div class="line"><span class="lineno">  607</span>                      <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  608</span>                        {</div>
<div class="line"><span class="lineno">  609</span>                          is &gt;&gt; tmp_double;</div>
<div class="line"><span class="lineno">  610</span>                          omega.value()=tmp_double;</div>
<div class="line"><span class="lineno">  611</span>                          omega.defined=1;</div>
<div class="line"><span class="lineno">  612</span>                          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  613</span>                        }</div>
<div class="line"><span class="lineno">  614</span>                      <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">  615</span>                        {</div>
<div class="line"><span class="lineno">  616</span>                          is &gt;&gt; tmp_int   ;</div>
<div class="line"><span class="lineno">  617</span>                          level.value()=(int)tmp_int;</div>
<div class="line"><span class="lineno">  618</span>                          level.defined=1;</div>
<div class="line"><span class="lineno">  619</span>                          <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno">  620</span>                            {</div>
<div class="line"><span class="lineno">  621</span>                              <a class="code hl_class" href="classNom.html">Nom</a> ilu_sparsity_level=<span class="stringliteral">&quot;p:ilu_sparsity_level=&quot;</span>;</div>
<div class="line"><span class="lineno">  622</span>                              ilu_sparsity_level+=(<a class="code hl_class" href="classNom.html">Nom</a>)level.value();</div>
<div class="line"><span class="lineno">  623</span>                              amgx_option+=ilu_sparsity_level+<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  624</span>                              <a class="code hl_class" href="classNom.html">Nom</a> coloring_level=<span class="stringliteral">&quot;p:coloring_level=&quot;</span>; <span class="comment">//!&lt; 1 par defaut</span></div>
<div class="line"><span class="lineno">  625</span>                              coloring_level+=<a class="code hl_class" href="classNom.html">Nom</a>(level.value()+1);    <span class="comment">//!&lt; Doit valoir ilu_sparsity_level+1 pour MULTICOLOT_INU (voir AmgX reference guide)</span></div>
<div class="line"><span class="lineno">  626</span>                              amgx_option+=coloring_level+<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  627</span>                            }</div>
<div class="line"><span class="lineno">  628</span>                          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  629</span>                        }</div>
<div class="line"><span class="lineno">  630</span>                      <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  631</span>                        {</div>
<div class="line"><span class="lineno">  632</span>                          is &gt;&gt; tmp_double;</div>
<div class="line"><span class="lineno">  633</span>                          epsilon.value()=tmp_double;</div>
<div class="line"><span class="lineno">  634</span>                          epsilon.defined=1;</div>
<div class="line"><span class="lineno">  635</span>                          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  636</span>                        }</div>
<div class="line"><span class="lineno">  637</span>                      <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno">  638</span>                        {</div>
<div class="line"><span class="lineno">  639</span>                          is &gt;&gt; tmp_string;</div>
<div class="line"><span class="lineno">  640</span>                          ordering.value()=tmp_string;</div>
<div class="line"><span class="lineno">  641</span>                          ordering.defined=1;</div>
<div class="line"><span class="lineno">  642</span>                          <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  643</span>                        }</div>
<div class="line"><span class="lineno">  644</span>                      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  645</span>                        {</div>
<div class="line"><span class="lineno">  646</span>                          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; motlu &lt;&lt; <span class="stringliteral">&quot; : unrecognized option among all of those possible on Petsc preconditioner:&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  647</span>                          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; les_parametres_precond &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  648</span>                          <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  649</span>                        }</div>
<div class="line"><span class="lineno">  650</span>                      }</div>
<div class="line"><span class="lineno">  651</span>                    is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  652</span>                  }</div>
<div class="line"><span class="lineno">  653</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  654</span>              }</div>
<div class="line"><span class="lineno">  655</span>            <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno">  656</span>              {</div>
<div class="line"><span class="lineno">  657</span>                pc=<span class="stringliteral">&quot;null&quot;</span>;</div>
<div class="line"><span class="lineno">  658</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  659</span>              }</div>
<div class="line"><span class="lineno">  660</span>            <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno">  661</span>              {</div>
<div class="line"><span class="lineno">  662</span>                is &gt;&gt; nb_it_max_;</div>
<div class="line"><span class="lineno">  663</span>                convergence_with_nb_it_max_=1;</div>
<div class="line"><span class="lineno">  664</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno">  665</span>                  {</div>
<div class="line"><span class="lineno">  666</span>                    amgx_option+=<span class="stringliteral">&quot;s:max_iters=&quot;</span>;</div>
<div class="line"><span class="lineno">  667</span>                    amgx_option+=<a class="code hl_class" href="classNom.html">Nom</a>(nb_it_max_)+<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  668</span>                  }</div>
<div class="line"><span class="lineno">  669</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  670</span>              }</div>
<div class="line"><span class="lineno">  671</span>            <span class="keywordflow">case</span> 15:</div>
<div class="line"><span class="lineno">  672</span>              {</div>
<div class="line"><span class="lineno">  673</span>                <a class="code hl_variable" href="classSolveurSys__base.html#a824322fe6a2c03aa986b8152aefcf14b">save_matrice_</a>=1;</div>
<div class="line"><span class="lineno">  674</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  675</span>              }</div>
<div class="line"><span class="lineno">  676</span>            <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno">  677</span>              {</div>
<div class="line"><span class="lineno">  678</span><span class="comment">// on sauvegarde au format petsc</span></div>
<div class="line"><span class="lineno">  679</span>                save_matrix_=1;</div>
<div class="line"><span class="lineno">  680</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  681</span>              }</div>
<div class="line"><span class="lineno">  682</span>            <span class="keywordflow">case</span> 26:</div>
<div class="line"><span class="lineno">  683</span>              {</div>
<div class="line"><span class="lineno">  684</span><span class="comment">// on sauvegarde au format matrix market</span></div>
<div class="line"><span class="lineno">  685</span>                save_matrix_=2;</div>
<div class="line"><span class="lineno">  686</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  687</span>              }</div>
<div class="line"><span class="lineno">  688</span>            <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno">  689</span>              {</div>
<div class="line"><span class="lineno">  690</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>()&gt;1)</div>
<div class="line"><span class="lineno">  691</span>                  {</div>
<div class="line"><span class="lineno">  692</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;factored_matrix option is not available for parallel calculation.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  693</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  694</span>                  }</div>
<div class="line"><span class="lineno">  695</span>                <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>!=<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6aaf77cfaeac95d5bb680e1b2603d23ae1">petsc</a>)</div>
<div class="line"><span class="lineno">  696</span>                  {</div>
<div class="line"><span class="lineno">  697</span><span class="comment">// Switch to PETSc Cholesky cause MUMPS or SUPERLU don&#39;t give access to LU ?</span></div>
<div class="line"><span class="lineno">  698</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Only cholesky_lapack keyword may be used with the option factored_matrix.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  699</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  700</span>                  }</div>
<div class="line"><span class="lineno">  701</span>                is &gt;&gt; factored_matrix_;</div>
<div class="line"><span class="lineno">  702</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  703</span>              }</div>
<div class="line"><span class="lineno">  704</span>            <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno">  705</span>              {</div>
<div class="line"><span class="lineno">  706</span>                <a class="code hl_variable" href="classSolv__Petsc.html#a9c92c7b3025ccb3f301489141a442211">read_matrix_</a>=1;</div>
<div class="line"><span class="lineno">  707</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  708</span>              }</div>
<div class="line"><span class="lineno">  709</span>            <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno">  710</span>              {</div>
<div class="line"><span class="lineno">  711</span>                is &gt;&gt; controle_residu_;</div>
<div class="line"><span class="lineno">  712</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  713</span>              }</div>
<div class="line"><span class="lineno">  714</span>            <span class="keywordflow">case</span> 9:</div>
<div class="line"><span class="lineno">  715</span>              {</div>
<div class="line"><span class="lineno">  716</span>                is &gt;&gt; motlu; <span class="comment">//!&lt; On lit l&#39;accolade</span></div>
<div class="line"><span class="lineno">  717</span>                <span class="keywordflow">if</span> (motlu != accolade_ouverte)</div>
<div class="line"><span class="lineno">  718</span>                  {</div>
<div class="line"><span class="lineno">  719</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;We expected &quot;</span> &lt;&lt; accolade_ouverte &lt;&lt; <span class="stringliteral">&quot; instead of &quot;</span> &lt;&lt; motlu &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  720</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  721</span>                  }</div>
<div class="line"><span class="lineno">  722</span>                <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Reading of the Petsc commands:&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  723</span>                <a class="code hl_class" href="classNom.html">Nom</a> <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>;</div>
<div class="line"><span class="lineno">  724</span>                is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  725</span>                <span class="keywordflow">while</span> (motlu!=accolade_fermee)</div>
<div class="line"><span class="lineno">  726</span>                  {</div>
<div class="line"><span class="lineno">  727</span>                    is &gt;&gt; <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>;</div>
<div class="line"><span class="lineno">  728</span><span class="comment">// &quot;-option val&quot; ou &quot;-option&quot; ?</span></div>
<div class="line"><span class="lineno">  729</span><span class="comment">// adding a test to support negative value</span></div>
<div class="line"><span class="lineno">  730</span>                    <span class="keywordtype">bool</span> negative_value = is_number(<a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>.getSuffix(<span class="stringliteral">&quot;-&quot;</span>).getString());</div>
<div class="line"><span class="lineno">  731</span>                    <span class="keywordflow">if</span> ((<a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>.debute_par(<span class="stringliteral">&quot;-&quot;</span>) &amp;&amp; !negative_value) || <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>==accolade_fermee)</div>
<div class="line"><span class="lineno">  732</span>                      {</div>
<div class="line"><span class="lineno">  733</span>                        add_option(motlu.suffix(<span class="stringliteral">&quot;-&quot;</span>), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  734</span>                        motlu = <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>;</div>
<div class="line"><span class="lineno">  735</span>                      }</div>
<div class="line"><span class="lineno">  736</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  737</span>                      {</div>
<div class="line"><span class="lineno">  738</span>                        add_option(motlu.suffix(<span class="stringliteral">&quot;-&quot;</span>), <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>);</div>
<div class="line"><span class="lineno">  739</span>                        is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  740</span>                      }</div>
<div class="line"><span class="lineno">  741</span>                  }</div>
<div class="line"><span class="lineno">  742</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="classSolveurSys__base.html#a6435c5b83312da8f782eeeab564b4061">limpr</a>()&gt;-1)</div>
<div class="line"><span class="lineno">  743</span>                  <a class="code hl_function" href="classSolveurSys__base.html#a987e97740c779c1ab4192c3c1f1bbd5d">fixer_limpr</a>(1); <span class="comment">//!&lt; On imprime le residu si CLI Pour faciliter le debugage:</span></div>
<div class="line"><span class="lineno">  744</span><span class="comment">//</span></div>
<div class="line"><span class="lineno">  745</span>                <span class="keywordflow">if</span> (rang == 18) <span class="comment">//!&lt; Verbose</span></div>
<div class="line"><span class="lineno">  746</span>                  {</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>                    add_option(<span class="stringliteral">&quot;ksp_view&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  749</span>                    add_option(<span class="stringliteral">&quot;options_view&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  750</span>                    add_option(<span class="stringliteral">&quot;options_left&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">  751</span>                  }</div>
<div class="line"><span class="lineno">  752</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  753</span>              }</div>
<div class="line"><span class="lineno">  754</span>            <span class="keywordflow">case</span> 10:</div>
<div class="line"><span class="lineno">  755</span>              {</div>
<div class="line"><span class="lineno">  756</span>                is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  757</span><span class="comment">// Si pas MUMPS on previent</span></div>
<div class="line"><span class="lineno">  758</span>                <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>!=<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6a1cb49f862e7fcd552eed7f0145c86db1">mumps</a>)</div>
<div class="line"><span class="lineno">  759</span>                  {</div>
<div class="line"><span class="lineno">  760</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Ordering keyword for a solver is limited to Cholesky only.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  761</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  762</span>                  }</div>
<div class="line"><span class="lineno">  763</span>                <a class="code hl_class" href="classMotcles.html">Motcles</a> mumps_ordering(6);</div>
<div class="line"><span class="lineno">  764</span>                {</div>
<div class="line"><span class="lineno">  765</span><span class="comment">// NB: Il y&#39;a d&#39;autres ordering (voir doc MUMPS)</span></div>
<div class="line"><span class="lineno">  766</span>                  mumps_ordering[0] = <span class="stringliteral">&quot;amd&quot;</span>;</div>
<div class="line"><span class="lineno">  767</span>                  mumps_ordering[1] = <span class="stringliteral">&quot;pt-scotch&quot;</span>;</div>
<div class="line"><span class="lineno">  768</span>                  mumps_ordering[2] = <span class="stringliteral">&quot;parmetis&quot;</span>;</div>
<div class="line"><span class="lineno">  769</span>                  mumps_ordering[3] = <span class="stringliteral">&quot;scotch&quot;</span>;</div>
<div class="line"><span class="lineno">  770</span>                  mumps_ordering[4] = <span class="stringliteral">&quot;pord&quot;</span>;</div>
<div class="line"><span class="lineno">  771</span>                  mumps_ordering[5] = <span class="stringliteral">&quot;metis&quot;</span>;</div>
<div class="line"><span class="lineno">  772</span>                }</div>
<div class="line"><span class="lineno">  773</span>                <span class="keywordtype">int</span> rang_mumps=mumps_ordering.search(motlu);</div>
<div class="line"><span class="lineno">  774</span><span class="comment">// MUMPS fait un choix automatique par defaut (selon type et taille de la matrice, et nombre de processeurs) mais a savoir que:</span></div>
<div class="line"><span class="lineno">  775</span><span class="comment">// Sur le cas Cx et PAR_Cx 4 cores, Scotch en sequentiel et PT-Scotch en parallele sont les meilleurs choix</span></div>
<div class="line"><span class="lineno">  776</span><span class="comment">// Sur les gros cas, parfois Metis plus rapide pour A=LU et Scotch pour x=A-1B...</span></div>
<div class="line"><span class="lineno">  777</span>                <span class="keywordflow">if</span> (rang_mumps==-1)</div>
<div class="line"><span class="lineno">  778</span>                  {</div>
<div class="line"><span class="lineno">  779</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; motlu &lt;&lt; <span class="stringliteral">&quot; : unrecognized ordering from those available for the MUMPS solver Cholesky:&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  780</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; mumps_ordering &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  781</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  782</span>                  }</div>
<div class="line"><span class="lineno">  783</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rang_mumps==1 || rang_mumps==2)</div>
<div class="line"><span class="lineno">  784</span>                  {</div>
<div class="line"><span class="lineno">  785</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>()==1)</div>
<div class="line"><span class="lineno">  786</span>                      {</div>
<div class="line"><span class="lineno">  787</span>                        <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You can&#39;t use the parallel ordering &quot;</span> &lt;&lt; motlu &lt;&lt; <span class="stringliteral">&quot; during a sequential calculation.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  788</span>                        <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  789</span>                      }</div>
<div class="line"><span class="lineno">  790</span>                    add_option(<span class="stringliteral">&quot;mat_mumps_icntl_28&quot;</span>,<span class="stringliteral">&quot;2&quot;</span>);  <span class="comment">//!&lt; Parallel analysis</span></div>
<div class="line"><span class="lineno">  791</span>                    add_option(<span class="stringliteral">&quot;mat_mumps_icntl_29&quot;</span>,(<a class="code hl_class" href="classNom.html">Nom</a>)rang_mumps);        <span class="comment">//!&lt; Parallel ordering</span></div>
<div class="line"><span class="lineno">  792</span>                  }</div>
<div class="line"><span class="lineno">  793</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  794</span>                  {</div>
<div class="line"><span class="lineno">  795</span>                    add_option(<span class="stringliteral">&quot;mat_mumps_icntl_28&quot;</span>,<span class="stringliteral">&quot;1&quot;</span>);  <span class="comment">//!&lt; Sequential analysis</span></div>
<div class="line"><span class="lineno">  796</span>                    add_option(<span class="stringliteral">&quot;mat_mumps_icntl_7&quot;</span>,(<a class="code hl_class" href="classNom.html">Nom</a>)rang_mumps); <span class="comment">//!&lt; Sequential ordering</span></div>
<div class="line"><span class="lineno">  797</span>                  }</div>
<div class="line"><span class="lineno">  798</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  799</span>              }</div>
<div class="line"><span class="lineno">  800</span>            <span class="keywordflow">case</span> 11:</div>
<div class="line"><span class="lineno">  801</span>              {</div>
<div class="line"><span class="lineno">  802</span>                is &gt;&gt; petsc_decide_;</div>
<div class="line"><span class="lineno">  803</span>                different_partition_ = petsc_decide_; <span class="comment">//!&lt; If Petsc decides the matrix partition, the partition is often different than the TRUST partition</span></div>
<div class="line"><span class="lineno">  804</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  805</span>              }</div>
<div class="line"><span class="lineno">  806</span>            <span class="keywordflow">case</span> 12:</div>
<div class="line"><span class="lineno">  807</span>              {</div>
<div class="line"><span class="lineno">  808</span>                mataij_=1;</div>
<div class="line"><span class="lineno">  809</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  810</span>              }</div>
<div class="line"><span class="lineno">  811</span>            <span class="keywordflow">case</span> 13:</div>
<div class="line"><span class="lineno">  812</span>              {</div>
<div class="line"><span class="lineno">  813</span>                is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  814</span>                is &gt;&gt; petsc_nb_cpus_;</div>
<div class="line"><span class="lineno">  815</span>                different_partition_ = 1; <span class="comment">//!&lt; If user decides a different number of CPUs to solve PETSc matrix, the matrix partition will be different than the TRUST partition</span></div>
<div class="line"><span class="lineno">  816</span>                <span class="keywordflow">if</span> (motlu==<span class="stringliteral">&quot;first&quot;</span>)</div>
<div class="line"><span class="lineno">  817</span>                  petsc_cpus_selection_=1;</div>
<div class="line"><span class="lineno">  818</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (motlu==<span class="stringliteral">&quot;every&quot;</span>)</div>
<div class="line"><span class="lineno">  819</span>                  petsc_cpus_selection_=2;</div>
<div class="line"><span class="lineno">  820</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  821</span>                  {</div>
<div class="line"><span class="lineno">  822</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;We should read the option first or every after the keyword nb_cpus.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  823</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Or we read: &quot;</span> &lt;&lt; motlu &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  824</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  825</span>                  }</div>
<div class="line"><span class="lineno">  826</span>                <span class="keywordflow">if</span> (petsc_nb_cpus_&lt;1 || petsc_nb_cpus_&gt;<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>())</div>
<div class="line"><span class="lineno">  827</span>                  {</div>
<div class="line"><span class="lineno">  828</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Incorrect number of CPUs selected for solving the PETSc matrix: &quot;</span> &lt;&lt; petsc_nb_cpus_ &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  829</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  830</span>                  }</div>
<div class="line"><span class="lineno">  831</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  832</span>              }</div>
<div class="line"><span class="lineno">  833</span>            <span class="keywordflow">case</span> 14:</div>
<div class="line"><span class="lineno">  834</span>              {</div>
<div class="line"><span class="lineno">  835</span>                is &gt;&gt; divtol_; <span class="comment">//!&lt; See http://www.mcs.anl.gov/petsc/petsc-current/docs/manualpages/KSP/KSPSetTolerances.html</span></div>
<div class="line"><span class="lineno">  836</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  837</span>              }</div>
<div class="line"><span class="lineno">  838</span>            <span class="keywordflow">case</span> 17:</div>
<div class="line"><span class="lineno">  839</span>              {</div>
<div class="line"><span class="lineno">  840</span>                KSPType type_ksp_method;</div>
<div class="line"><span class="lineno">  841</span>                KSPGetType(SolveurPetsc_, &amp;type_ksp_method);</div>
<div class="line"><span class="lineno">  842</span>                <span class="keywordflow">if</span> ((<a class="code hl_class" href="classNom.html">Nom</a>)type_ksp_method != <a class="code hl_class" href="classNom.html">Nom</a>(<span class="stringliteral">&quot;gmres&quot;</span>) &amp;&amp; ((<a class="code hl_class" href="classNom.html">Nom</a>)type_ksp_method != <a class="code hl_class" href="classNom.html">Nom</a>(<span class="stringliteral">&quot;fgmres&quot;</span>)))</div>
<div class="line"><span class="lineno">  843</span>                  {</div>
<div class="line"><span class="lineno">  844</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;restart option is available only with [f]gmres methods&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  845</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  846</span>                  }</div>
<div class="line"><span class="lineno">  847</span>                <span class="keywordtype">int</span> restart_gmres;</div>
<div class="line"><span class="lineno">  848</span>                is &gt;&gt; restart_gmres;</div>
<div class="line"><span class="lineno">  849</span>                KSPGMRESSetRestart(SolveurPetsc_,restart_gmres);</div>
<div class="line"><span class="lineno">  850</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  851</span>              }</div>
<div class="line"><span class="lineno">  852</span>            <span class="keywordflow">case</span> 19:</div>
<div class="line"><span class="lineno">  853</span>              {</div>
<div class="line"><span class="lineno">  854</span><span class="comment">// Si pas MUMPS on previent</span></div>
<div class="line"><span class="lineno">  855</span>                <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>!=<a class="code hl_enumvalue" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6a1cb49f862e7fcd552eed7f0145c86db1">mumps</a>)</div>
<div class="line"><span class="lineno">  856</span>                  {</div>
<div class="line"><span class="lineno">  857</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; les_parametres_solveur[rang] &lt;&lt; <span class="stringliteral">&quot; keyword for a solver is limited to &quot;</span> &lt;&lt; les_solveurs[14] &lt;&lt; <span class="stringliteral">&quot; only.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  858</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  859</span>                  }</div>
<div class="line"><span class="lineno">  860</span>                <span class="keywordtype">double</span> dropping_parameter;</div>
<div class="line"><span class="lineno">  861</span>                is &gt;&gt; dropping_parameter;</div>
<div class="line"><span class="lineno">  862</span>                add_option(<span class="stringliteral">&quot;mat_mumps_cntl_7&quot;</span>,dropping_parameter);    <span class="comment">//!&lt; Dropping parameter</span></div>
<div class="line"><span class="lineno">  863</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  864</span>              }</div>
<div class="line"><span class="lineno">  865</span>            <span class="keywordflow">case</span> 20:</div>
<div class="line"><span class="lineno">  866</span>              {</div>
<div class="line"><span class="lineno">  867</span>                <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>)</div>
<div class="line"><span class="lineno">  868</span>                  {</div>
<div class="line"><span class="lineno">  869</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Definition of &quot;</span> &lt;&lt; les_parametres_solveur(les_parametres_solveur.search(motlu)) &lt;&lt; <span class="stringliteral">&quot; is useless for a direct method.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  870</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Suppress the keyword.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  871</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  872</span>                  }</div>
<div class="line"><span class="lineno">  873</span>                is &gt;&gt; seuil_relatif_;</div>
<div class="line"><span class="lineno">  874</span>                convergence_with_seuil=1;</div>
<div class="line"><span class="lineno">  875</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno">  876</span>                  {</div>
<div class="line"><span class="lineno">  877</span>                    amgx_option+=<span class="stringliteral">&quot;s:convergence=RELATIVE_INI_CORE\ns:tolerance=&quot;</span>;</div>
<div class="line"><span class="lineno">  878</span>                    amgx_option+=<a class="code hl_class" href="classNom.html">Nom</a>(seuil_relatif_,<span class="stringliteral">&quot;%e&quot;</span>)+<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  879</span>                  }</div>
<div class="line"><span class="lineno">  880</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  881</span>              }</div>
<div class="line"><span class="lineno">  882</span>            <span class="keywordflow">case</span> 22:</div>
<div class="line"><span class="lineno">  883</span>              <span class="keywordtype">int</span> flag;</div>
<div class="line"><span class="lineno">  884</span>              is &gt;&gt; flag;</div>
<div class="line"><span class="lineno">  885</span>              <a class="code hl_variable" href="classSolv__Petsc.html#a1d87d8f7f3be6d318bc343e11059cde2">ignore_new_nonzero_</a> = (bool)flag;</div>
<div class="line"><span class="lineno">  886</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  887</span>            <span class="keywordflow">case</span> 23:</div>
<div class="line"><span class="lineno">  888</span>              is &gt;&gt; flag;</div>
<div class="line"><span class="lineno">  889</span>              <a class="code hl_variable" href="classSolv__Petsc.html#a895816a337ad6bc6fcdfb82037e6a837">rebuild_matrix_</a> = (bool)flag;</div>
<div class="line"><span class="lineno">  890</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  891</span>            <span class="keywordflow">case</span> 24:</div>
<div class="line"><span class="lineno">  892</span>              is &gt;&gt; flag;</div>
<div class="line"><span class="lineno">  893</span>              <a class="code hl_variable" href="classSolv__Petsc.html#a45df7a11f976ea94cbb622ae8fcbd181">allow_realloc_</a> = (bool)flag;</div>
<div class="line"><span class="lineno">  894</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  895</span>            <span class="keywordflow">case</span> 25:</div>
<div class="line"><span class="lineno">  896</span>              is &gt;&gt; flag;</div>
<div class="line"><span class="lineno">  897</span>              <a class="code hl_variable" href="classSolv__Petsc.html#af13cee34da6194e79945d3a950ee2ed0">clean_matrix_</a> = (bool)flag;</div>
<div class="line"><span class="lineno">  898</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  899</span>            <span class="keywordflow">case</span> 27:</div>
<div class="line"><span class="lineno">  900</span>              <a class="code hl_function" href="classSolveurSys__base.html#a0ea6281a5c0ad2cf572d421e661d370c">set_reuse_preconditioner</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  901</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  902</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  903</span>              {</div>
<div class="line"><span class="lineno">  904</span>                <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; motlu &lt;&lt; <span class="stringliteral">&quot; : unrecognized option from those available in the Petsc solver:&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  905</span>                <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; les_parametres_solveur &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  906</span>                <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  907</span>              }</div>
<div class="line"><span class="lineno">  908</span>            }</div>
<div class="line"><span class="lineno">  909</span>          is &gt;&gt; motlu;</div>
<div class="line"><span class="lineno">  910</span>        }</div>
<div class="line"><span class="lineno">  911</span><span class="comment">// Some checks</span></div>
<div class="line"><span class="lineno">  912</span>      <span class="keywordflow">if</span> (petsc_decide_ &amp;&amp; petsc_cpus_selection_)</div>
<div class="line"><span class="lineno">  913</span>        {</div>
<div class="line"><span class="lineno">  914</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You can&#39;t use petsc_decide and nb_cpus option together.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  915</span>          <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  916</span>        }</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>      <span class="keywordtype">int</span> pc_supported_on_gpu_by_petsc=0;</div>
<div class="line"><span class="lineno">  919</span>      <span class="keywordtype">int</span> pc_supported_on_gpu_by_amgx=0;</div>
<div class="line"><span class="lineno">  920</span>      <a class="code hl_class" href="classMotcles.html">Motcles</a> les_precond(13);</div>
<div class="line"><span class="lineno">  921</span>      {</div>
<div class="line"><span class="lineno">  922</span>        les_precond[0] = <span class="stringliteral">&quot;NULL&quot;</span>;               <span class="comment">//!&lt; Pas de preconditionnement</span></div>
<div class="line"><span class="lineno">  923</span>        les_precond[1] = <span class="stringliteral">&quot;ILU&quot;</span>;                <span class="comment">//!&lt; Incomplete LU</span></div>
<div class="line"><span class="lineno">  924</span>        les_precond[2] = <span class="stringliteral">&quot;SSOR&quot;</span>;               <span class="comment">//!&lt; Symetric Successive Over Relaxation</span></div>
<div class="line"><span class="lineno">  925</span>        les_precond[3] = <span class="stringliteral">&quot;EISENSTAT&quot;</span>;          <span class="comment">//!&lt; Symetric Successive Over Relaxation avec Eiseinstat trick</span></div>
<div class="line"><span class="lineno">  926</span>        les_precond[4] = <span class="stringliteral">&quot;SPAI&quot;</span>;               <span class="comment">//!&lt; Sparse Approximate Inverse</span></div>
<div class="line"><span class="lineno">  927</span>        les_precond[5] = <span class="stringliteral">&quot;PILUT&quot;</span>;              <span class="comment">//!&lt; Dual-threshold incomplete LU factorisation</span></div>
<div class="line"><span class="lineno">  928</span>        les_precond[6] = <span class="stringliteral">&quot;DIAG&quot;</span>;               <span class="comment">//!&lt; Diagonal precondtioner</span></div>
<div class="line"><span class="lineno">  929</span>        les_precond[7] = <span class="stringliteral">&quot;BOOMERAMG&quot;</span>;          <span class="comment">//!&lt; Multigrid preconditioner</span></div>
<div class="line"><span class="lineno">  930</span>        les_precond[8] = <span class="stringliteral">&quot;BLOCK_JACOBI_ICC&quot;</span>;   <span class="comment">//!&lt; Block Jacobi ICC preconditioner (code dans PETSc, optimise)</span></div>
<div class="line"><span class="lineno">  931</span>        les_precond[9] = <span class="stringliteral">&quot;BLOCK_JACOBI_ILU&quot;</span>;   <span class="comment">//!&lt; Block Jacobi ILU preconditioner (code dans PETSc, optimise)</span></div>
<div class="line"><span class="lineno">  932</span>        les_precond[10] = <span class="stringliteral">&quot;C-AMG&quot;</span>;    <span class="comment">//!&lt; Classical AMG</span></div>
<div class="line"><span class="lineno">  933</span>        les_precond[11] = <span class="stringliteral">&quot;SA-AMG&quot;</span>;   <span class="comment">//!&lt; Aggregated AMG</span></div>
<div class="line"><span class="lineno">  934</span>        les_precond[12] = <span class="stringliteral">&quot;GS&quot;</span>;   <span class="comment">//!&lt; Gauss-Seidel</span></div>
<div class="line"><span class="lineno">  935</span>      }</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>      <span class="keywordflow">if</span> (pc!=<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  938</span>        {</div>
<div class="line"><span class="lineno">  939</span><span class="comment">// On empeche le choix d&#39;un preconditionneur avec une methode directe</span></div>
<div class="line"><span class="lineno">  940</span><span class="comment">// puisque celle ci EST le preconditionneur KSPREONLY</span></div>
<div class="line"><span class="lineno">  941</span>          <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>)</div>
<div class="line"><span class="lineno">  942</span>            {</div>
<div class="line"><span class="lineno">  943</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Using precond keyword with a direct method like Cholesky is useless&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  944</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;because for PETSc the LU factorization is used as a preconditioner.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  945</span>              <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno">  946</span>            }</div>
<div class="line"><span class="lineno">  947</span><span class="comment">// Option du preconditionneur</span></div>
<div class="line"><span class="lineno">  948</span>          rang = les_precond.search(pc);</div>
<div class="line"><span class="lineno">  949</span>          <span class="keywordflow">switch</span>(rang)</div>
<div class="line"><span class="lineno">  950</span>            {</div>
<div class="line"><span class="lineno">  951</span>            <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  952</span>              {</div>
<div class="line"><span class="lineno">  953</span>                PCSetType(PreconditionneurPetsc_, PCNONE);</div>
<div class="line"><span class="lineno">  954</span>                pc_supported_on_gpu_by_petsc=1;</div>
<div class="line"><span class="lineno">  955</span>                pc_supported_on_gpu_by_amgx=1;</div>
<div class="line"><span class="lineno">  956</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno">  957</span>                  {</div>
<div class="line"><span class="lineno">  958</span>                    amgx_option+=<span class="stringliteral">&quot;s:preconditioner(p)=NOSOLVER\n&quot;</span>;</div>
<div class="line"><span class="lineno">  959</span>                  }</div>
<div class="line"><span class="lineno">  960</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(omega);</div>
<div class="line"><span class="lineno">  961</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(level);</div>
<div class="line"><span class="lineno">  962</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(epsilon);</div>
<div class="line"><span class="lineno">  963</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(ordering);</div>
<div class="line"><span class="lineno">  964</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  965</span>              }</div>
<div class="line"><span class="lineno">  966</span>            <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">  967</span>              {</div>
<div class="line"><span class="lineno">  968</span><span class="comment">// Cout &lt;&lt; &quot;See http://www.ncsa.uiuc.edu/UserInfo/Resources/Software/Math/HYPRE/docs-1.6.0/HYPRE_usr_manual/node33.html&quot; &lt;&lt; finl;</span></div>
<div class="line"><span class="lineno">  969</span><span class="comment">// Cout &lt;&lt; &quot;to have some advices on the incomplete LU factorisation level: ILU(level)&quot; &lt;&lt; finl;</span></div>
<div class="line"><span class="lineno">  970</span><span class="comment">// On n&#39;attaque pas le ILU de Petsc qui n&#39;est pas parallele</span></div>
<div class="line"><span class="lineno">  971</span><span class="comment">// On prend celui de Hypre (Euclid=PILU(k)) en passant par les commandes en ligne</span></div>
<div class="line"><span class="lineno">  972</span><span class="comment">// car peu de parametres peuvent etre fixes sinon</span></div>
<div class="line"><span class="lineno">  973</span><span class="comment">// PCSetType(PreconditionneurPetsc_, PCHYPRE);</span></div>
<div class="line"><span class="lineno">  974</span><span class="comment">// PCHYPRESetType(PreconditionneurPetsc_, &quot;euclid&quot;);</span></div>
<div class="line"><span class="lineno">  975</span><span class="comment">// add_option(&quot;pc_hypre_euclid_levels&quot;,(Nom)level.value());</span></div>
<div class="line"><span class="lineno">  976</span><span class="comment">// check_not_defined(omega);</span></div>
<div class="line"><span class="lineno">  977</span><span class="comment">// check_not_defined(epsilon);</span></div>
<div class="line"><span class="lineno">  978</span><span class="comment">// check_not_defined(ordering);</span></div>
<div class="line"><span class="lineno">  979</span><span class="comment">// </span></div>
<div class="line"><span class="lineno">  980</span><span class="comment">// CHANGES in the PETSc 3.6 version: Removed -pc_hypre_type euclid due to bit-rot</span></div>
<div class="line"><span class="lineno">  981</span>                pc_supported_on_gpu_by_amgx=1;</div>
<div class="line"><span class="lineno">  982</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno">  983</span>                  {</div>
<div class="line"><span class="lineno">  984</span>                    amgx_option+=<span class="stringliteral">&quot;s:preconditioner(p)=MULTICOLOR_DILU\n&quot;</span>; <span class="comment">//!&lt; Converge mal...</span></div>
<div class="line"><span class="lineno">  985</span>                  }</div>
<div class="line"><span class="lineno">  986</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a5f603c229087d42c8bb2fee48290526f">gpu_</a>)</div>
<div class="line"><span class="lineno">  987</span>                  {</div>
<div class="line"><span class="lineno">  988</span>                    add_option(<span class="stringliteral">&quot;pc_type&quot;</span>,<span class="stringliteral">&quot;ilu&quot;</span>);</div>
<div class="line"><span class="lineno">  989</span>                    add_option(<span class="stringliteral">&quot;pc_factor_mat_solver_type&quot;</span>,<span class="stringliteral">&quot;cusparse&quot;</span>);</div>
<div class="line"><span class="lineno">  990</span>                    add_option(<span class="stringliteral">&quot;pc_factor_levels&quot;</span>,(<a class="code hl_class" href="classNom.html">Nom</a>)level.value());</div>
<div class="line"><span class="lineno">  991</span>                  }</div>
<div class="line"><span class="lineno">  992</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  993</span>                  {</div>
<div class="line"><span class="lineno">  994</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error: CHANGES in the PETSc 3.6 version: Removed -pc_hypre_type euclid due to bit-rot.&quot;</span></div>
<div class="line"><span class="lineno">  995</span>                         &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  996</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;So the ILU { level k } preconditioner no longer available. &quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  997</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Change your data file.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  998</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno">  999</span>                  }</div>
<div class="line"><span class="lineno"> 1000</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1001</span>              }</div>
<div class="line"><span class="lineno"> 1002</span>            <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno"> 1003</span>              {</div>
<div class="line"><span class="lineno"> 1004</span>                PCSetType(PreconditionneurPetsc_, PCSOR);</div>
<div class="line"><span class="lineno"> 1005</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>) <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>(<span class="stringliteral">&quot;SSOR is not available on GPU, try GS (Gauss Seidel)&quot;</span>);</div>
<div class="line"><span class="lineno"> 1006</span>                <span class="keywordflow">if</span> (omega.value()&gt;=1. &amp;&amp; omega.value()&lt;=2.)</div>
<div class="line"><span class="lineno"> 1007</span>                  {</div>
<div class="line"><span class="lineno"> 1008</span>                    PCSORSetOmega(PreconditionneurPetsc_, omega.value());</div>
<div class="line"><span class="lineno"> 1009</span>                  }</div>
<div class="line"><span class="lineno"> 1010</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1011</span>                  {</div>
<div class="line"><span class="lineno"> 1012</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;omega value for SSOR should be between 1 and 2&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1013</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno"> 1014</span>                  }</div>
<div class="line"><span class="lineno"> 1015</span>                pc_supported_on_gpu_by_amgx=0;</div>
<div class="line"><span class="lineno"> 1016</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(level);</div>
<div class="line"><span class="lineno"> 1017</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(epsilon);</div>
<div class="line"><span class="lineno"> 1018</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(ordering);</div>
<div class="line"><span class="lineno"> 1019</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1020</span>              }</div>
<div class="line"><span class="lineno"> 1021</span>            <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno"> 1022</span>              {</div>
<div class="line"><span class="lineno"> 1023</span>                PCSetType(PreconditionneurPetsc_, PCEISENSTAT);</div>
<div class="line"><span class="lineno"> 1024</span>                <span class="keywordflow">if</span> (omega.value()&gt;=1. &amp;&amp; omega.value()&lt;=2.)</div>
<div class="line"><span class="lineno"> 1025</span>                  {</div>
<div class="line"><span class="lineno"> 1026</span>                    PCEisenstatSetOmega(PreconditionneurPetsc_, omega.value());</div>
<div class="line"><span class="lineno"> 1027</span>                  }</div>
<div class="line"><span class="lineno"> 1028</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1029</span>                  {</div>
<div class="line"><span class="lineno"> 1030</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;omega value for EISENSTAT should be between 1 and 2&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1031</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno"> 1032</span>                  }</div>
<div class="line"><span class="lineno"> 1033</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(level);</div>
<div class="line"><span class="lineno"> 1034</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(epsilon);</div>
<div class="line"><span class="lineno"> 1035</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(ordering);</div>
<div class="line"><span class="lineno"> 1036</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1037</span>              }</div>
<div class="line"><span class="lineno"> 1038</span>            <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno"> 1039</span>              {</div>
<div class="line"><span class="lineno"> 1040</span>                PCSetType(PreconditionneurPetsc_, PCHYPRE);</div>
<div class="line"><span class="lineno"> 1041</span>                PCHYPRESetType(PreconditionneurPetsc_, <span class="stringliteral">&quot;parasails&quot;</span>);</div>
<div class="line"><span class="lineno"> 1042</span>                add_option(<span class="stringliteral">&quot;pc_hypre_parasails_nlevels&quot;</span>,(<a class="code hl_class" href="classNom.html">Nom</a>)level.value());     <span class="comment">//!&lt; Higher values of level [&gt;=0] leads to more accurate, but more expensive preconditioners (default 1)</span></div>
<div class="line"><span class="lineno"> 1043</span>                add_option(<span class="stringliteral">&quot;pc_hypre_parasails_thresh&quot;</span>,(<a class="code hl_class" href="classNom.html">Nom</a>)epsilon.value());   <span class="comment">//!&lt; Lower values of eps [0-1] leads to more accurate, but more expensive preconditioners (default 0.1)</span></div>
<div class="line"><span class="lineno"> 1044</span>                add_option(<span class="stringliteral">&quot;pc_hypre_parasails_sym&quot;</span>,<span class="stringliteral">&quot;SPD&quot;</span>); <span class="comment">//!&lt; Matrice symetrique definie positive</span></div>
<div class="line"><span class="lineno"> 1045</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(omega);</div>
<div class="line"><span class="lineno"> 1046</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(ordering);</div>
<div class="line"><span class="lineno"> 1047</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1048</span>              }</div>
<div class="line"><span class="lineno"> 1049</span>            <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno"> 1050</span>              {</div>
<div class="line"><span class="lineno"> 1051</span>                PCSetType(PreconditionneurPetsc_, PCHYPRE);</div>
<div class="line"><span class="lineno"> 1052</span>                PCHYPRESetType(PreconditionneurPetsc_, <span class="stringliteral">&quot;pilut&quot;</span>);</div>
<div class="line"><span class="lineno"> 1053</span>                add_option(<span class="stringliteral">&quot;pc_hypre_pilut_factorrowsize&quot;</span>,(<a class="code hl_class" href="classNom.html">Nom</a>)level.value());        <span class="comment">//!&lt; Maximum nonzeros retained in each row of L and U (default 20)</span></div>
<div class="line"><span class="lineno"> 1054</span>                add_option(<span class="stringliteral">&quot;pc_hypre_pilut_tol&quot;</span>,(<a class="code hl_class" href="classNom.html">Nom</a>)epsilon.value());                <span class="comment">//!&lt; Values below the value are dropped in L and U (default 1.e-7)</span></div>
<div class="line"><span class="lineno"> 1055</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(omega);</div>
<div class="line"><span class="lineno"> 1056</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(ordering);</div>
<div class="line"><span class="lineno"> 1057</span><span class="comment">// </span></div>
<div class="line"><span class="lineno"> 1058</span><span class="comment">// ERROR VALGRIND</span></div>
<div class="line"><span class="lineno"> 1059</span><span class="comment">// Cerr &lt;&lt; &quot;Error VALGRIND with PETSc Dual Threashold Incomplete LU factorization.&quot; &lt;&lt; finl;</span></div>
<div class="line"><span class="lineno"> 1060</span><span class="comment">// Cerr &lt;&lt; &quot;So the PILUT { level k epsilon thresh } preconditioner no longer available. &quot; &lt;&lt; finl;</span></div>
<div class="line"><span class="lineno"> 1061</span><span class="comment">// Cerr &lt;&lt; &quot;Change your data file.&quot; &lt;&lt; finl;</span></div>
<div class="line"><span class="lineno"> 1062</span><span class="comment">// Process::exit();</span></div>
<div class="line"><span class="lineno"> 1063</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1064</span>              }</div>
<div class="line"><span class="lineno"> 1065</span>            <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno"> 1066</span>              {</div>
<div class="line"><span class="lineno"> 1067</span>                PCSetType(PreconditionneurPetsc_, PCJACOBI);</div>
<div class="line"><span class="lineno"> 1068</span>                pc_supported_on_gpu_by_petsc=1;</div>
<div class="line"><span class="lineno"> 1069</span>                pc_supported_on_gpu_by_amgx=1;</div>
<div class="line"><span class="lineno"> 1070</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno"> 1071</span>                  {</div>
<div class="line"><span class="lineno"> 1072</span>                    amgx_option += <span class="stringliteral">&quot;s:preconditioner(p)=BLOCK_JACOBI\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1073</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>(<span class="stringliteral">&quot;Diagonal preconditioner on GPU with AmgX is slow to converge. Try GS (Gauss-Seidel) preconditioner.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1074</span>                  }</div>
<div class="line"><span class="lineno"> 1075</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(omega);</div>
<div class="line"><span class="lineno"> 1076</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(level);</div>
<div class="line"><span class="lineno"> 1077</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(epsilon);</div>
<div class="line"><span class="lineno"> 1078</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(ordering);</div>
<div class="line"><span class="lineno"> 1079</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1080</span>              }</div>
<div class="line"><span class="lineno"> 1081</span>            <span class="keywordflow">case</span> 9: <span class="comment">//!&lt; ilu</span></div>
<div class="line"><span class="lineno"> 1082</span>            <span class="keywordflow">case</span> 8: <span class="comment">//!&lt; icc</span></div>
<div class="line"><span class="lineno"> 1083</span>              {</div>
<div class="line"><span class="lineno"> 1084</span>                <span class="keywordflow">if</span> (rang==9) preconditionnement_non_symetrique_ = 1;</div>
<div class="line"><span class="lineno"> 1085</span>                pc_supported_on_gpu_by_amgx=1;</div>
<div class="line"><span class="lineno"> 1086</span>                pc_supported_on_gpu_by_petsc=1;</div>
<div class="line"><span class="lineno"> 1087</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno"> 1088</span>                  amgx_option+=<span class="stringliteral">&quot;s:preconditioner(p)=MULTICOLOR_DILU\n&quot;</span>; <span class="comment">//!&lt; MULTICOLOR_ILU plante...</span></div>
<div class="line"><span class="lineno"> 1089</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1090</span>                  {</div>
<div class="line"><span class="lineno"> 1091</span>                    add_option(<span class="stringliteral">&quot;sub_pc_type&quot;</span>,rang==8 ? <span class="stringliteral">&quot;icc&quot;</span> : <span class="stringliteral">&quot;ilu&quot;</span>);</div>
<div class="line"><span class="lineno"> 1092</span>                    add_option(<span class="stringliteral">&quot;sub_pc_factor_levels&quot;</span>,(<a class="code hl_class" href="classNom.html">Nom</a>)level.value());</div>
<div class="line"><span class="lineno"> 1093</span><span class="comment">// On fixe le precondtionnement non symetrique pour appliquer eventuellement un ordering autre que celui par defaut (natural)</span></div>
<div class="line"><span class="lineno"> 1094</span><span class="comment">// Un ordering rcm peut ameliorer par exemple la convergence</span></div>
<div class="line"><span class="lineno"> 1095</span><span class="comment">// Voir le remplissage de la matrice avec -mat_view_draw -draw_pause -1</span></div>
<div class="line"><span class="lineno"> 1096</span>                    <span class="keywordflow">if</span> (ordering.value()!=<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1097</span>                      {</div>
<div class="line"><span class="lineno"> 1098</span>                        add_option(<span class="stringliteral">&quot;sub_pc_factor_mat_ordering_type&quot;</span>,ordering.value());</div>
<div class="line"><span class="lineno"> 1099</span><span class="comment">// Le preconditionnement natural (defaut) ne necessite pas une matrice de preconditionnement symetrique, les autres si:</span></div>
<div class="line"><span class="lineno"> 1100</span>                        preconditionnement_non_symetrique_=1;</div>
<div class="line"><span class="lineno"> 1101</span>                      }</div>
<div class="line"><span class="lineno"> 1102</span> </div>
<div class="line"><span class="lineno"> 1103</span>                  }</div>
<div class="line"><span class="lineno"> 1104</span>                PCSetType(PreconditionneurPetsc_, PCBJACOBI);</div>
<div class="line"><span class="lineno"> 1105</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(omega);</div>
<div class="line"><span class="lineno"> 1106</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(epsilon);</div>
<div class="line"><span class="lineno"> 1107</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1108</span>              }</div>
<div class="line"><span class="lineno"> 1109</span>            <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno"> 1110</span>              {</div>
<div class="line"><span class="lineno"> 1111</span>                PCSetType(PreconditionneurPetsc_, PCHYPRE);</div>
<div class="line"><span class="lineno"> 1112</span>                PCHYPRESetType(PreconditionneurPetsc_, <span class="stringliteral">&quot;boomeramg&quot;</span>); <span class="comment">//!&lt; Classical C-AMG Changement pc_hypre_boomeramg_relax_type_all pour PETSc 3.10, la matrice de preconditionnement etant seqaij, symetric-SOR/jacobi (defaut) provoque KSP_DIVERGED_INDEFINITE_PC Voir: https://lists.mcs.anl.gov/mailman/htdig/petsc-users/2012-December/015922.html</span></div>
<div class="line"><span class="lineno"> 1113</span><span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1114</span><span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1115</span><span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1116</span>                add_option(<span class="stringliteral">&quot;pc_hypre_boomeramg_relax_type_all&quot;</span>, <span class="stringliteral">&quot;Jacobi&quot;</span>);</div>
<div class="line"><span class="lineno"> 1117</span><span class="comment">// Voir https://mooseframework.inl.gov/application_development/hypre.html</span></div>
<div class="line"><span class="lineno"> 1118</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==3) <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Warning, on massive parallel calculation for best performance, consider playing with -pc_hypre_boomeramg_strong_threshold 0.7 or 0.8 or 0.9&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1119</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(omega);</div>
<div class="line"><span class="lineno"> 1120</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(level);</div>
<div class="line"><span class="lineno"> 1121</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(epsilon);</div>
<div class="line"><span class="lineno"> 1122</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(ordering);</div>
<div class="line"><span class="lineno"> 1123</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1124</span><span class="comment">                add_option(&quot;pc_hypre_boomeramg_max_iter&quot;,&quot;1&quot;);</span></div>
<div class="line"><span class="lineno"> 1125</span><span class="comment">                add_option(&quot;pc_hypre_boomeramg_strong_threshold&quot;,&quot;0.7&quot;);</span></div>
<div class="line"><span class="lineno"> 1126</span><span class="comment">                add_option(&quot;pc_hypre_boomeramg_grid_sweeps_up&quot;,&quot;1&quot;);</span></div>
<div class="line"><span class="lineno"> 1127</span><span class="comment">                add_option(&quot;pc_hypre_boomeramg_grid_sweeps_down&quot;,&quot;1&quot;);</span></div>
<div class="line"><span class="lineno"> 1128</span><span class="comment">                add_option(&quot;pc_hypre_boomeramg_agg_nl&quot;,&quot;2&quot;);</span></div>
<div class="line"><span class="lineno"> 1129</span><span class="comment">                add_option(&quot;pc_hypre_boomeramg_agg_num_paths&quot;,&quot;1&quot;);</span></div>
<div class="line"><span class="lineno"> 1130</span><span class="comment">                add_option(&quot;pc_hypre_boomeramg_max_levels&quot;,&quot;25&quot;);</span></div>
<div class="line"><span class="lineno"> 1131</span><span class="comment">                add_option(&quot;pc_hypre_boomeramg_coarsen_type&quot;,&quot;HMIS&quot;);</span></div>
<div class="line"><span class="lineno"> 1132</span><span class="comment">                add_option(&quot;pc_hypre_boomeramg_interp_type&quot;,&quot;ext+i&quot;);</span></div>
<div class="line"><span class="lineno"> 1133</span><span class="comment">                add_option(&quot;pc_hypre_boomeramg_P_max&quot;,&quot;2&quot;);</span></div>
<div class="line"><span class="lineno"> 1134</span><span class="comment">// Page 16: https://prace-ri.eu/wp-content/uploads/WP294-PETSc4FOAM-A-Library-to-plug-in-PETSc-into-the-OpenFOAM-Framework.pdf</span></div>
<div class="line"><span class="lineno"> 1135</span><span class="comment">                add_option(&quot;pc_hypre_boomeramg_truncfactor&quot;,&quot;0.2&quot;);*/</span></div>
<div class="line"><span class="lineno"> 1136</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1137</span>              }</div>
<div class="line"><span class="lineno"> 1138</span>            <span class="keywordflow">case</span> 10: <span class="comment">//!&lt; Classical AMG</span></div>
<div class="line"><span class="lineno"> 1139</span>            <span class="keywordflow">case</span> 11: <span class="comment">//!&lt; Aggregated AMG</span></div>
<div class="line"><span class="lineno"> 1140</span>              {</div>
<div class="line"><span class="lineno"> 1141</span>                pc_supported_on_gpu_by_amgx=1;</div>
<div class="line"><span class="lineno"> 1142</span>                pc_supported_on_gpu_by_petsc=1;</div>
<div class="line"><span class="lineno"> 1143</span>                preconditionnement_non_symetrique_ = 1;</div>
<div class="line"><span class="lineno"> 1144</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno"> 1145</span>                  {</div>
<div class="line"><span class="lineno"> 1146</span>                    amgx_option+=<span class="stringliteral">&quot;s:preconditioner(p)=AMG\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1147</span>                    amgx_option+=<span class="stringliteral">&quot;s:use_scalar_norm=1\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1148</span>                    amgx_option+=<span class="stringliteral">&quot;p:error_scaling=0\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1149</span>                    amgx_option+=<span class="stringliteral">&quot;p:print_grid_stats=1\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1150</span>                    amgx_option+=<span class="stringliteral">&quot;p:max_iters=1\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1151</span>                    amgx_option+=<span class="stringliteral">&quot;p:cycle=V\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1152</span>                    amgx_option+=<span class="stringliteral">&quot;p:min_coarse_rows=2\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1153</span>                    amgx_option+=<span class="stringliteral">&quot;p:max_levels=100\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1154</span>                    amgx_option+=<span class="stringliteral">&quot;p:smoother(smoother)=BLOCK_JACOBI\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1155</span>                    amgx_option+=<span class="stringliteral">&quot;p:presweeps=1\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1156</span>                    amgx_option+=<span class="stringliteral">&quot;p:postsweeps=1\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1157</span>                    amgx_option+=<span class="stringliteral">&quot;p:coarsest_sweeps=1\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1158</span>                    amgx_option+=<span class="stringliteral">&quot;p:coarse_solver=DENSE_LU_SOLVER\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1159</span>                    amgx_option+=<span class="stringliteral">&quot;p:dense_lu_num_rows=2\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1160</span>                    <span class="keywordflow">if</span> (rang==10) <span class="comment">//!&lt; C-AMG</span></div>
<div class="line"><span class="lineno"> 1161</span>                      {</div>
<div class="line"><span class="lineno"> 1162</span>                        amgx_option+=<span class="stringliteral">&quot;p:algorithm=CLASSICAL\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1163</span>                        amgx_option+=<span class="stringliteral">&quot;p:selector=HMIS\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1164</span>                        amgx_option+=<span class="stringliteral">&quot;p:interpolator=D2\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1165</span>                        amgx_option+=<span class="stringliteral">&quot;p:strength=AHAT\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1166</span>                      }</div>
<div class="line"><span class="lineno"> 1167</span>                    <span class="keywordflow">else</span> <span class="comment">//!&lt; SA-AMG</span></div>
<div class="line"><span class="lineno"> 1168</span>                      {</div>
<div class="line"><span class="lineno"> 1169</span>                        amgx_option+=<span class="stringliteral">&quot;p:algorithm=AGGREGATION\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1170</span>                        amgx_option+=<span class="stringliteral">&quot;p:selector=SIZE_2\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1171</span>                        amgx_option+=<span class="stringliteral">&quot;p:max_matching_iterations=100000\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1172</span>                        amgx_option+=<span class="stringliteral">&quot;p:max_unassigned_percentage=0.0\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1173</span>                      }</div>
<div class="line"><span class="lineno"> 1174</span>                    amgx_option+=<span class="stringliteral">&quot;smoother:relaxation_factor=0.8\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1175</span>                  }</div>
<div class="line"><span class="lineno"> 1176</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1177</span>                  {</div>
<div class="line"><span class="lineno"> 1178</span><span class="comment">// ToDo : trouver des parametres pour PETSc afin d&#39;avoir une comparaison possible CPU vs GPU (meme its par exemple):</span></div>
<div class="line"><span class="lineno"> 1179</span>                    add_option(<span class="stringliteral">&quot;pc_type&quot;</span>,<span class="stringliteral">&quot;gamg&quot;</span>);</div>
<div class="line"><span class="lineno"> 1180</span>                    <span class="keywordflow">if</span> (rang==10) <span class="comment">//!&lt; C-AMG</span></div>
<div class="line"><span class="lineno"> 1181</span>                      {</div>
<div class="line"><span class="lineno"> 1182</span>                        add_option(<span class="stringliteral">&quot;pc_gamg_type&quot;</span>,<span class="stringliteral">&quot;classical&quot;</span>);</div>
<div class="line"><span class="lineno"> 1183</span>                      }</div>
<div class="line"><span class="lineno"> 1184</span>                    <span class="keywordflow">else</span> <span class="comment">//!&lt; SA-AMG</span></div>
<div class="line"><span class="lineno"> 1185</span>                      {</div>
<div class="line"><span class="lineno"> 1186</span>                        add_option(<span class="stringliteral">&quot;pc_gamg_type&quot;</span>,<span class="stringliteral">&quot;agg&quot;</span>);</div>
<div class="line"><span class="lineno"> 1187</span>                        add_option(<span class="stringliteral">&quot;pc_gamg_agg_nsmooths&quot;</span>,<span class="stringliteral">&quot;0&quot;</span>);</div>
<div class="line"><span class="lineno"> 1188</span><span class="comment">// add_option(&quot;pc_gamg_agg_nsmooths&quot;,&quot;1&quot;); //Crash</span></div>
<div class="line"><span class="lineno"> 1189</span>                      }</div>
<div class="line"><span class="lineno"> 1190</span>                  }</div>
<div class="line"><span class="lineno"> 1191</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1192</span>              }</div>
<div class="line"><span class="lineno"> 1193</span>            <span class="keywordflow">case</span> 12:</div>
<div class="line"><span class="lineno"> 1194</span>              {</div>
<div class="line"><span class="lineno"> 1195</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>) <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>(<span class="stringliteral">&quot;GS (Gauss-Seidel) not available yet.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1196</span>                <span class="keywordflow">if</span> (omega.value()&lt;0 || omega.value()&gt;2)</div>
<div class="line"><span class="lineno"> 1197</span>                  {</div>
<div class="line"><span class="lineno"> 1198</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Relaxation value omega for GS should be between 0 and 2&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1199</span>                    <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno"> 1200</span>                  }</div>
<div class="line"><span class="lineno"> 1201</span>                pc_supported_on_gpu_by_amgx=1;</div>
<div class="line"><span class="lineno"> 1202</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a>)</div>
<div class="line"><span class="lineno"> 1203</span>                  {</div>
<div class="line"><span class="lineno"> 1204</span>                    amgx_option+=<span class="stringliteral">&quot;s:preconditioner(p)=GS\n&quot;</span>; <span class="comment">//!&lt; Non documente... amgx_option+=&quot;s:preconditioner(p)=MULTICOLOR_GS\n&quot;; // MULTICOLOR_GS lent dans AmgX ?</span></div>
<div class="line"><span class="lineno"> 1205</span><span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1206</span>                    <a class="code hl_class" href="classNom.html">Nom</a> relaxation_factor=<span class="stringliteral">&quot;p:relaxation_factor=&quot;</span>; <span class="comment">//!&lt; Defaut 0.9</span></div>
<div class="line"><span class="lineno"> 1207</span>                    relaxation_factor+=<a class="code hl_class" href="classNom.html">Nom</a>(omega.value());</div>
<div class="line"><span class="lineno"> 1208</span>                    amgx_option+=relaxation_factor+<span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1209</span>                    <span class="keywordflow">if</span> (matrice_symetrique_) amgx_option+=<span class="stringliteral">&quot;p:symmetric_GS=1\n&quot;</span>;</div>
<div class="line"><span class="lineno"> 1210</span>                  }</div>
<div class="line"><span class="lineno"> 1211</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(level);</div>
<div class="line"><span class="lineno"> 1212</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(epsilon);</div>
<div class="line"><span class="lineno"> 1213</span>                <a class="code hl_function" href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a>(ordering);</div>
<div class="line"><span class="lineno"> 1214</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1215</span>              }</div>
<div class="line"><span class="lineno"> 1216</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1217</span>              {</div>
<div class="line"><span class="lineno"> 1218</span>                <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; pc &lt;&lt; <span class="stringliteral">&quot; : preconditioner not officially recognized by TRUST among those possible for the moment:&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1219</span>                <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; les_precond &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1220</span>                <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You can try to access directly to Petsc preconditioners with the command line.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1221</span>                <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;See the reference manual of Petsc to do this.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1222</span>                <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno"> 1223</span>              }</div>
<div class="line"><span class="lineno"> 1224</span>            }</div>
<div class="line"><span class="lineno"> 1225</span>        }</div>
<div class="line"><span class="lineno"> 1226</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1227</span>        {</div>
<div class="line"><span class="lineno"> 1228</span>          <span class="keywordflow">if</span> (!<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>)</div>
<div class="line"><span class="lineno"> 1229</span>            {</div>
<div class="line"><span class="lineno"> 1230</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You forgot to define a preconditioner with the keyword precond.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1231</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;If you don&#39;t want a preconditioner, add for the solver definition:&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1232</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;precond null&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1233</span>              <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno"> 1234</span>            }</div>
<div class="line"><span class="lineno"> 1235</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1236</span>            {</div>
<div class="line"><span class="lineno"> 1237</span><span class="comment">// Pour un solveur direct le preconditionner EST le solveur:</span></div>
<div class="line"><span class="lineno"> 1238</span>              pc_supported_on_gpu_by_petsc = solver_supported_on_gpu_by_petsc;</div>
<div class="line"><span class="lineno"> 1239</span>              pc_supported_on_gpu_by_amgx = solver_supported_on_gpu_by_amgx;</div>
<div class="line"><span class="lineno"> 1240</span>            }</div>
<div class="line"><span class="lineno"> 1241</span>        }</div>
<div class="line"><span class="lineno"> 1242</span><span class="comment">// On verifie que les preconditionneurs sont supportes sur GPU:</span></div>
<div class="line"><span class="lineno"> 1243</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a5f603c229087d42c8bb2fee48290526f">gpu_</a> &amp;&amp; pc_supported_on_gpu_by_petsc==0)</div>
<div class="line"><span class="lineno"> 1244</span>        {</div>
<div class="line"><span class="lineno"> 1245</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; les_precond[rang] &lt;&lt; <span class="stringliteral">&quot; is not supported yet by PETSc on GPU.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1246</span>          <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno"> 1247</span>        }</div>
<div class="line"><span class="lineno"> 1248</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a> &amp;&amp; pc_supported_on_gpu_by_amgx==0)</div>
<div class="line"><span class="lineno"> 1249</span>        {</div>
<div class="line"><span class="lineno"> 1250</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; les_precond[rang] &lt;&lt; <span class="stringliteral">&quot; is not supported yet by AmgX on GPU.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1251</span>          <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno"> 1252</span>        }</div>
<div class="line"><span class="lineno"> 1253</span>    }</div>
<div class="line"><span class="lineno"> 1254</span> </div>
<div class="line"><span class="lineno"> 1255</span><span class="comment">// On fixe des parametres du solveur et du preconditionneur selon que l&#39;on ait un solveur direct ou iteratif</span></div>
<div class="line"><span class="lineno"> 1256</span><span class="comment">// KSPSetInitialGuessNonzero : Resout Ax=B en supposant x nul ou non</span></div>
<div class="line"><span class="lineno"> 1257</span><span class="comment">// KSPSetTolerances : Pour fixer les criteres de convergence du solveur iteratif</span></div>
<div class="line"><span class="lineno"> 1258</span>  <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>)</div>
<div class="line"><span class="lineno"> 1259</span>    {</div>
<div class="line"><span class="lineno"> 1260</span>      KSPSetInitialGuessNonzero(SolveurPetsc_, PETSC_FALSE);</div>
<div class="line"><span class="lineno"> 1261</span>      PCSetType(PreconditionneurPetsc_, PCLU);</div>
<div class="line"><span class="lineno"> 1262</span>    }</div>
<div class="line"><span class="lineno"> 1263</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1264</span>    {</div>
<div class="line"><span class="lineno"> 1265</span>      KSPSetInitialGuessNonzero(SolveurPetsc_, PETSC_TRUE);</div>
<div class="line"><span class="lineno"> 1266</span>      <span class="keywordflow">if</span> (convergence_with_nb_it_max_)</div>
<div class="line"><span class="lineno"> 1267</span>        {</div>
<div class="line"><span class="lineno"> 1268</span>          <span class="keywordflow">if</span> (convergence_with_seuil)</div>
<div class="line"><span class="lineno"> 1269</span>            {</div>
<div class="line"><span class="lineno"> 1270</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You can only define solver convergence either by seuil or by nb_it_max.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1271</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;So suppress seuil keyword or nb_it_max keyword.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1272</span>              <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno"> 1273</span>            }</div>
<div class="line"><span class="lineno"> 1274</span><span class="comment">// Convergence is defined with nb_it_max, the norm is checked after nb_it_max iterations:</span></div>
<div class="line"><span class="lineno"> 1275</span>          seuil_ = <a class="code hl_define" href="Double_8h.html#ae0ee0cebfad5968da0ad6cc7a49e16b6">DMAXFLOAT</a>;</div>
<div class="line"><span class="lineno"> 1276</span>          add_option(<span class="stringliteral">&quot;ksp_check_norm_iteration&quot;</span>,(<a class="code hl_class" href="classNom.html">Nom</a>)(nb_it_max_-1));</div>
<div class="line"><span class="lineno"> 1277</span>          nb_it_max_ = <a class="code hl_define" href="Solv__Petsc_8h.html#a6781e64c30c60e9d2a75349c3546c14b">NB_IT_MAX_DEFINED</a>;</div>
<div class="line"><span class="lineno"> 1278</span>        }</div>
<div class="line"><span class="lineno"> 1279</span><span class="comment">// Convergence si residu(it) &lt; MAX (seuil_relatif_ * residu(0), seuil_);</span></div>
<div class="line"><span class="lineno"> 1280</span>      <span class="keywordflow">if</span> (seuil_==0 &amp;&amp; seuil_relatif_==0) seuil_=1.e-12; <span class="comment">//!&lt; Si aucun seuil defini, on prend un seuil absolu de 1.e-12 (comme avant)</span></div>
<div class="line"><span class="lineno"> 1281</span>      KSPSetTolerances(SolveurPetsc_, seuil_relatif_, seuil_, (divtol_==0 ? PETSC_DEFAULT : divtol_), nb_it_max_);</div>
<div class="line"><span class="lineno"> 1282</span>    }</div>
<div class="line"><span class="lineno"> 1283</span><span class="comment">// Change le calcul du test de convergence relative (||Ax-b||/||Ax(0)-b|| au lieu de ||Ax-b||/||b||)</span></div>
<div class="line"><span class="lineno"> 1284</span><span class="comment">// Peu utilisee dans TRUST car on utilise la convergence sur la norme absolue</span></div>
<div class="line"><span class="lineno"> 1285</span><span class="comment">// Mais cela corrige une erreur KSP_DIVERGED_DTOL quand ||Ax-b||/||b||&gt;10000=div_tol par defaut dans PETSc (rencontree sur Etude REV_4)</span></div>
<div class="line"><span class="lineno"> 1286</span><span class="comment">// add_option(sys, &quot;ksp_converged_use_initial_residual_norm&quot;,1); // Before PETSc 3.5</span></div>
<div class="line"><span class="lineno"> 1287</span>  KSPConvergedDefaultSetUIRNorm(SolveurPetsc_); <span class="comment">//!&lt; After PETSc 3.5, a function is available</span></div>
<div class="line"><span class="lineno"> 1288</span> </div>
<div class="line"><span class="lineno"> 1289</span><span class="comment">// Surcharge eventuelle par la ligne de commande</span></div>
<div class="line"><span class="lineno"> 1290</span>  KSPSetOptionsPrefix(SolveurPetsc_, option_prefix_);</div>
<div class="line"><span class="lineno"> 1291</span>  KSPSetFromOptions(SolveurPetsc_);</div>
<div class="line"><span class="lineno"> 1292</span>  PCSetOptionsPrefix(PreconditionneurPetsc_, option_prefix_);</div>
<div class="line"><span class="lineno"> 1293</span>  PCSetFromOptions(PreconditionneurPetsc_);</div>
<div class="line"><span class="lineno"> 1294</span> </div>
<div class="line"><span class="lineno"> 1295</span><span class="comment">// Setting the names:</span></div>
<div class="line"><span class="lineno"> 1296</span>  KSPType type_ksp;</div>
<div class="line"><span class="lineno"> 1297</span>  KSPGetType(SolveurPetsc_, &amp;type_ksp);</div>
<div class="line"><span class="lineno"> 1298</span>  type_ksp_=(<a class="code hl_class" href="classNom.html">Nom</a>)type_ksp;</div>
<div class="line"><span class="lineno"> 1299</span> </div>
<div class="line"><span class="lineno"> 1300</span>  PCType type_pc;</div>
<div class="line"><span class="lineno"> 1301</span>  PCGetType(PreconditionneurPetsc_, &amp;type_pc);</div>
<div class="line"><span class="lineno"> 1302</span>  type_pc_=(<a class="code hl_class" href="classNom.html">Nom</a>)type_pc;</div>
<div class="line"><span class="lineno"> 1303</span> </div>
<div class="line"><span class="lineno"> 1304</span><span class="comment">// Creation du fichier de config .amgx (NB: les objets PETSc sont crees mais ne seront pas utilises)</span></div>
<div class="line"><span class="lineno"> 1305</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a> &amp;&amp; <a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><span class="lineno"> 1306</span>    {</div>
<div class="line"><span class="lineno"> 1307</span>      <a class="code hl_class" href="classSFichier.html">SFichier</a> s(<a class="code hl_function" href="classSolv__Petsc.html#af626ce7ac5babfaf8333057766ac15cf">config</a>());</div>
<div class="line"><span class="lineno"> 1308</span><span class="comment">// Syntax: See https://github.com/NVIDIA/AMGX/raw/master/doc/AMGX_Reference.pdf</span></div>
<div class="line"><span class="lineno"> 1309</span>      s &lt;&lt; <span class="stringliteral">&quot;# AmgX config file&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a> &lt;&lt; <span class="stringliteral">&quot;config_version=2&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a> &lt;&lt; amgx_option;</div>
<div class="line"><span class="lineno"> 1310</span>      <span class="keywordflow">if</span> (!amgx_option.contient(<span class="stringliteral">&quot;s:print_config&quot;</span>))     s &lt;&lt; <span class="stringliteral">&quot;s:print_config=1&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1311</span>      <span class="keywordflow">if</span> (!amgx_option.contient(<span class="stringliteral">&quot;s:store_res_history&quot;</span>)) s &lt;&lt; <span class="stringliteral">&quot;s:store_res_history=1&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1312</span>      <span class="keywordflow">if</span> (!amgx_option.contient(<span class="stringliteral">&quot;s:monitor_residual&quot;</span>))  s &lt;&lt; <span class="stringliteral">&quot;s:monitor_residual=1&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1313</span>      <span class="keywordflow">if</span> (!amgx_option.contient(<span class="stringliteral">&quot;s:print_solve_stats&quot;</span>)) s &lt;&lt; <span class="stringliteral">&quot;s:print_solve_stats=1&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1314</span>      <span class="keywordflow">if</span> (!amgx_option.contient(<span class="stringliteral">&quot;s:obtain_timings&quot;</span>))    s &lt;&lt; <span class="stringliteral">&quot;s:obtain_timings=1&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1315</span>      <span class="keywordflow">if</span> (!amgx_option.contient(<span class="stringliteral">&quot;s:max_iters&quot;</span>))         s &lt;&lt; <span class="stringliteral">&quot;s:max_iters=10000&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>; <span class="comment">//!&lt; 100 par defaut trop bas...</span></div>
<div class="line"><span class="lineno"> 1316</span>      s &lt;&lt; <span class="stringliteral">&quot;# determinism_flag=1&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>; <span class="comment">//!&lt; Plus lent de 15% mais resultat deterministique et repetable</span></div>
<div class="line"><span class="lineno"> 1317</span>      s &lt;&lt; <span class="stringliteral">&quot;# communicator=MPI_DIRECT&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>; <span class="comment">//!&lt; MPI_CUDA aware</span></div>
<div class="line"><span class="lineno"> 1318</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Writing the AmgX config file: &quot;</span> &lt;&lt; <a class="code hl_function" href="classSolv__Petsc.html#af626ce7ac5babfaf8333057766ac15cf">config</a>() &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1319</span>    }</div>
<div class="line"><span class="lineno"> 1320</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1321</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error, the code is not built with PETSc support.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1322</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Contact TRUST support.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1323</span>  <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno"> 1324</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1325</span> </div>
<div class="line"><span class="lineno"> 1326</span>}</div>
<div class="ttc" id="aCast_8h_html_a9632e68536db6c29c2b754cb55381fbe"><div class="ttname"><a href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a></div><div class="ttdeci">#define sub_type(T, r)</div><div class="ttdef"><b>Definition:</b> <a href="Cast_8h_source.html#l00047">Cast.h:47</a></div></div>
<div class="ttc" id="aCast_8h_html_ad116a7acb85c9c91e5687c44941a0d0c"><div class="ttname"><a href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a></div><div class="ttdeci">#define ref_cast(T, r)</div><div class="ttdef"><b>Definition:</b> <a href="Cast_8h_source.html#l00052">Cast.h:52</a></div></div>
<div class="ttc" id="aDouble_8h_html_ae0ee0cebfad5968da0ad6cc7a49e16b6"><div class="ttname"><a href="Double_8h.html#ae0ee0cebfad5968da0ad6cc7a49e16b6">DMAXFLOAT</a></div><div class="ttdeci">#define DMAXFLOAT</div><div class="ttdef"><b>Definition:</b> <a href="Double_8h_source.html#l00064">Double.h:64</a></div></div>
<div class="ttc" id="aEntreeSortie_8h_html_a5ebb6b5243d6167369bddecb78d0b5b8"><div class="ttname"><a href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a></div><div class="ttdeci">#define Cerr</div><div class="ttdef"><b>Definition:</b> <a href="EntreeSortie_8h_source.html#l00025">EntreeSortie.h:25</a></div></div>
<div class="ttc" id="aEntreeSortie_8h_html_a7f716d3c5b6411631d5d0700ead09467"><div class="ttname"><a href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a></div><div class="ttdeci">const Separateur finl</div></div>
<div class="ttc" id="aSolv__Petsc_8cpp_html_a7316e7bc8604a4493102b9edb122675d"><div class="ttname"><a href="Solv__Petsc_8cpp.html#a7316e7bc8604a4493102b9edb122675d">check_not_defined</a></div><div class="ttdeci">void check_not_defined(option o)</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8cpp_source.html#l00059">Solv_Petsc.cpp:59</a></div></div>
<div class="ttc" id="aSolv__Petsc_8h_html_a5a0a487c7e0e114f4d92a88e2a5808b6"><div class="ttname"><a href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a></div><div class="ttdeci">solveur_direct_</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00034">Solv_Petsc.h:34</a></div></div>
<div class="ttc" id="aSolv__Petsc_8h_html_a5a0a487c7e0e114f4d92a88e2a5808b6a1cb49f862e7fcd552eed7f0145c86db1"><div class="ttname"><a href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6a1cb49f862e7fcd552eed7f0145c86db1">mumps</a></div><div class="ttdeci">@ mumps</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00034">Solv_Petsc.h:34</a></div></div>
<div class="ttc" id="aSolv__Petsc_8h_html_a5a0a487c7e0e114f4d92a88e2a5808b6a1ff272a9a5361e482e6748be5e449bbd"><div class="ttname"><a href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6a1ff272a9a5361e482e6748be5e449bbd">cli</a></div><div class="ttdeci">@ cli</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00034">Solv_Petsc.h:34</a></div></div>
<div class="ttc" id="aSolv__Petsc_8h_html_a5a0a487c7e0e114f4d92a88e2a5808b6aa663c1c6ebfd318f067db896735d4481"><div class="ttname"><a href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6aa663c1c6ebfd318f067db896735d4481">pastix</a></div><div class="ttdeci">@ pastix</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00034">Solv_Petsc.h:34</a></div></div>
<div class="ttc" id="aSolv__Petsc_8h_html_a5a0a487c7e0e114f4d92a88e2a5808b6aaf77cfaeac95d5bb680e1b2603d23ae1"><div class="ttname"><a href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6aaf77cfaeac95d5bb680e1b2603d23ae1">petsc</a></div><div class="ttdeci">@ petsc</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00034">Solv_Petsc.h:34</a></div></div>
<div class="ttc" id="aSolv__Petsc_8h_html_a5a0a487c7e0e114f4d92a88e2a5808b6abc3895945aa136c66ea71a53a6fae6c7"><div class="ttname"><a href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6abc3895945aa136c66ea71a53a6fae6c7">cholmod</a></div><div class="ttdeci">@ cholmod</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00034">Solv_Petsc.h:34</a></div></div>
<div class="ttc" id="aSolv__Petsc_8h_html_a5a0a487c7e0e114f4d92a88e2a5808b6ad25605924f9b1643dcc298a4eba5a84f"><div class="ttname"><a href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6ad25605924f9b1643dcc298a4eba5a84f">umfpack</a></div><div class="ttdeci">@ umfpack</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00034">Solv_Petsc.h:34</a></div></div>
<div class="ttc" id="aSolv__Petsc_8h_html_a5a0a487c7e0e114f4d92a88e2a5808b6ae182fa5e69fe3b70815223024f19cd1b"><div class="ttname"><a href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6ae182fa5e69fe3b70815223024f19cd1b">superlu_dist</a></div><div class="ttdeci">@ superlu_dist</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00034">Solv_Petsc.h:34</a></div></div>
<div class="ttc" id="aSolv__Petsc_8h_html_a6781e64c30c60e9d2a75349c3546c14b"><div class="ttname"><a href="Solv__Petsc_8h.html#a6781e64c30c60e9d2a75349c3546c14b">NB_IT_MAX_DEFINED</a></div><div class="ttdeci">#define NB_IT_MAX_DEFINED</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00174">Solv_Petsc.h:174</a></div></div>
<div class="ttc" id="aSource__Generique__Face__PolyMAC_8cpp_html_a7d7b5d77a3caa1af70f5e1c9108de5a1"><div class="ttname"><a href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a></div><div class="ttdeci">double valeur(const DoubleTab &amp;valeurs_champ, int elem1, int elem2, const int &amp;compo)</div><div class="ttdef"><b>Definition:</b> <a href="Source__Generique__Face__PolyMAC_8cpp_source.html#l00038">Source_Generique_Face_PolyMAC.cpp:38</a></div></div>
<div class="ttc" id="aclassComm__Group__MPI_html"><div class="ttname"><a href="classComm__Group__MPI.html">Comm_Group_MPI</a></div><div class="ttdoc">: Classe Comm_Group_MPI, derivee de la classe abstraite Comm_Group. Cette classe represente un groupe...</div><div class="ttdef"><b>Definition:</b> <a href="Comm__Group__MPI_8h_source.html#l00034">Comm_Group_MPI.h:35</a></div></div>
<div class="ttc" id="aclassEChaine_html"><div class="ttname"><a href="classEChaine.html">EChaine</a></div><div class="ttdoc">Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...</div><div class="ttdef"><b>Definition:</b> <a href="EChaine_8h_source.html#l00032">EChaine.h:33</a></div></div>
<div class="ttc" id="aclassEFichier_html"><div class="ttname"><a href="classEFichier.html">EFichier</a></div><div class="ttdoc">Fichier en lecture Cette classe est a la classe C++ ifstream ce que la classe Entree est a la classe ...</div><div class="ttdef"><b>Definition:</b> <a href="EFichier_8h_source.html#l00031">EFichier.h:32</a></div></div>
<div class="ttc" id="aclassMotcle_html"><div class="ttname"><a href="classMotcle.html">Motcle</a></div><div class="ttdoc">Une chaine de caractere (Nom) en majuscules.</div><div class="ttdef"><b>Definition:</b> <a href="Motcle_8h_source.html#l00027">Motcle.h:28</a></div></div>
<div class="ttc" id="aclassMotcles_html"><div class="ttname"><a href="classMotcles.html">Motcles</a></div><div class="ttdoc">Un tableau d'objets de la classe Motcle.</div><div class="ttdef"><b>Definition:</b> <a href="Motcle_8h_source.html#l00070">Motcle.h:71</a></div></div>
<div class="ttc" id="aclassObjet__U_html_a3e23491c01f2f39245fb6f3b6d6d9b17"><div class="ttname"><a href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a></div><div class="ttdeci">static int dimension</div><div class="ttdef"><b>Definition:</b> <a href="Objet__U_8h_source.html#l00073">Objet_U.h:73</a></div></div>
<div class="ttc" id="aclassObjet__U_html_a469dbcad1d4a98a67e4246dce8e264ad"><div class="ttname"><a href="classObjet__U.html#a469dbcad1d4a98a67e4246dce8e264ad">Objet_U::nommer</a></div><div class="ttdeci">virtual void nommer(const Nom &amp;)</div><div class="ttdoc">Donne un nom a l'Objet_U Methode virtuelle a surcharger.</div><div class="ttdef"><b>Definition:</b> <a href="Objet__U_8cpp_source.html#l00439">Objet_U.cpp:439</a></div></div>
<div class="ttc" id="aclassObjet__U_html_a622f9039952e1be36aee2ac0c48955fc"><div class="ttname"><a href="classObjet__U.html#a622f9039952e1be36aee2ac0c48955fc">Objet_U::disable_TU</a></div><div class="ttdeci">static int disable_TU</div><div class="ttdoc">Flag to disable the writing of the .TU files.</div><div class="ttdef"><b>Definition:</b> <a href="Objet__U_8h_source.html#l00109">Objet_U.h:109</a></div></div>
<div class="ttc" id="aclassPE__Groups_html_a6fe714bb78ca65d4731c8b95db492172"><div class="ttname"><a href="classPE__Groups.html#a6fe714bb78ca65d4731c8b95db492172">PE_Groups::get_nb_groups</a></div><div class="ttdeci">static const int &amp; get_nb_groups()</div><div class="ttdef"><b>Definition:</b> <a href="PE__Groups_8cpp_source.html#l00180">PE_Groups.cpp:180</a></div></div>
<div class="ttc" id="aclassPE__Groups_html_ae6ca0277a58f2ab34ebfb3216578fa75"><div class="ttname"><a href="classPE__Groups.html#ae6ca0277a58f2ab34ebfb3216578fa75">PE_Groups::current_group</a></div><div class="ttdeci">static const Comm_Group &amp; current_group()</div><div class="ttdoc">renvoie une reference au groupe de processeurs actif courant</div><div class="ttdef"><b>Definition:</b> <a href="PE__Groups_8h_source.html#l00050">PE_Groups.h:50</a></div></div>
<div class="ttc" id="aclassProcess_html_a6bf692ce58d9578aa62ac3c07b8caaa1"><div class="ttname"><a href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a></div><div class="ttdeci">static int nproc()</div><div class="ttdoc">renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00099">Process.cpp:99</a></div></div>
<div class="ttc" id="aclassProcess_html_acd052b99706c577f8a5b6656217cf4c2"><div class="ttname"><a href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a></div><div class="ttdeci">static int je_suis_maitre()</div><div class="ttdoc">renvoie 1 si on est sur le processeur maitre du groupe courant (c'est a dire me() == 0),...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00085">Process.cpp:85</a></div></div>
<div class="ttc" id="aclassSFichier_html"><div class="ttname"><a href="classSFichier.html">SFichier</a></div><div class="ttdoc">Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...</div><div class="ttdef"><b>Definition:</b> <a href="SFichier_8h_source.html#l00030">SFichier.h:31</a></div></div>
<div class="ttc" id="aclassSolv__Petsc_html_a1d87d8f7f3be6d318bc343e11059cde2"><div class="ttname"><a href="classSolv__Petsc.html#a1d87d8f7f3be6d318bc343e11059cde2">Solv_Petsc::ignore_new_nonzero_</a></div><div class="ttdeci">bool ignore_new_nonzero_</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00167">Solv_Petsc.h:167</a></div></div>
<div class="ttc" id="aclassSolv__Petsc_html_a45df7a11f976ea94cbb622ae8fcbd181"><div class="ttname"><a href="classSolv__Petsc.html#a45df7a11f976ea94cbb622ae8fcbd181">Solv_Petsc::allow_realloc_</a></div><div class="ttdeci">bool allow_realloc_</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00169">Solv_Petsc.h:169</a></div></div>
<div class="ttc" id="aclassSolv__Petsc_html_a5f603c229087d42c8bb2fee48290526f"><div class="ttname"><a href="classSolv__Petsc.html#a5f603c229087d42c8bb2fee48290526f">Solv_Petsc::gpu_</a></div><div class="ttdeci">bool gpu_</div><div class="ttdoc">Utilisation des solveurs GPU de PETSc.</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00162">Solv_Petsc.h:162</a></div></div>
<div class="ttc" id="aclassSolv__Petsc_html_a74dac05c9ed8acbc0642cfee0d750f4e"><div class="ttname"><a href="classSolv__Petsc.html#a74dac05c9ed8acbc0642cfee0d750f4e">Solv_Petsc::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdoc">Timing.</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00171">Solv_Petsc.h:171</a></div></div>
<div class="ttc" id="aclassSolv__Petsc_html_a895816a337ad6bc6fcdfb82037e6a837"><div class="ttname"><a href="classSolv__Petsc.html#a895816a337ad6bc6fcdfb82037e6a837">Solv_Petsc::rebuild_matrix_</a></div><div class="ttdeci">bool rebuild_matrix_</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00168">Solv_Petsc.h:168</a></div></div>
<div class="ttc" id="aclassSolv__Petsc_html_acc3475bd78fb4ceace2d10ff68de1dd8"><div class="ttname"><a href="classSolv__Petsc.html#acc3475bd78fb4ceace2d10ff68de1dd8">Solv_Petsc::numero_solveur</a></div><div class="ttdeci">static int numero_solveur</div><div class="ttdoc">Compte les solveurs crees et utilises pour le prefix des options.</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00095">Solv_Petsc.h:95</a></div></div>
<div class="ttc" id="aclassSolv__Petsc_html_af13cee34da6194e79945d3a950ee2ed0"><div class="ttname"><a href="classSolv__Petsc.html#af13cee34da6194e79945d3a950ee2ed0">Solv_Petsc::clean_matrix_</a></div><div class="ttdeci">bool clean_matrix_</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00170">Solv_Petsc.h:170</a></div></div>
<div class="ttc" id="aclassSolv__Petsc_html_af626ce7ac5babfaf8333057766ac15cf"><div class="ttname"><a href="classSolv__Petsc.html#af626ce7ac5babfaf8333057766ac15cf">Solv_Petsc::config</a></div><div class="ttdeci">const Nom config()</div><div class="ttdoc">Nom du fichier de config eventuel.</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8cpp_source.html#l01327">Solv_Petsc.cpp:1327</a></div></div>
<div class="ttc" id="aclassSolveurSys__base_html_a0ea6281a5c0ad2cf572d421e661d370c"><div class="ttname"><a href="classSolveurSys__base.html#a0ea6281a5c0ad2cf572d421e661d370c">SolveurSys_base::set_reuse_preconditioner</a></div><div class="ttdeci">void set_reuse_preconditioner(bool flag)</div><div class="ttdef"><b>Definition:</b> <a href="SolveurSys__base_8h_source.html#l00063">SolveurSys_base.h:63</a></div></div>
<div class="ttc" id="aclassSolveurSys__base_html_a6435c5b83312da8f782eeeab564b4061"><div class="ttname"><a href="classSolveurSys__base.html#a6435c5b83312da8f782eeeab564b4061">SolveurSys_base::limpr</a></div><div class="ttdeci">int limpr() const</div><div class="ttdef"><b>Definition:</b> <a href="SolveurSys__base_8h_source.html#l00040">SolveurSys_base.h:40</a></div></div>
<div class="ttc" id="aclassSolveurSys__base_html_a824322fe6a2c03aa986b8152aefcf14b"><div class="ttname"><a href="classSolveurSys__base.html#a824322fe6a2c03aa986b8152aefcf14b">SolveurSys_base::save_matrice_</a></div><div class="ttdeci">int save_matrice_</div><div class="ttdoc">Drapeau pour savoir si un stockage disque est a refaire.</div><div class="ttdef"><b>Definition:</b> <a href="SolveurSys__base_8h_source.html#l00068">SolveurSys_base.h:68</a></div></div>
<div class="ttc" id="aclassSolveurSys__base_html_a987e97740c779c1ab4192c3c1f1bbd5d"><div class="ttname"><a href="classSolveurSys__base.html#a987e97740c779c1ab4192c3c1f1bbd5d">SolveurSys_base::fixer_limpr</a></div><div class="ttdeci">void fixer_limpr(int l)</div><div class="ttdef"><b>Definition:</b> <a href="SolveurSys__base_8h_source.html#l00037">SolveurSys_base.h:37</a></div></div>
<div class="ttc" id="aclassoption__double_html"><div class="ttname"><a href="classoption__double.html">option_double</a></div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00343">Solv_Petsc.h:344</a></div></div>
<div class="ttc" id="aclassoption__int_html"><div class="ttname"><a href="classoption__int.html">option_int</a></div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00327">Solv_Petsc.h:328</a></div></div>
<div class="ttc" id="aclassoption__string_html"><div class="ttname"><a href="classoption__string.html">option_string</a></div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00311">Solv_Petsc.h:312</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Solv__Petsc_8h_source.html#l00169">allow_realloc_</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00163">amgx_</a>, <a class="el" href="EntreeSortie_8h_source.html#l00025">Cerr</a>, <a class="el" href="Solv__Petsc_8cpp_source.html#l00059">check_not_defined()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00034">cholmod</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00170">clean_matrix_</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00034">cli</a>, <a class="el" href="Solv__Petsc_8cpp_source.html#l01327">config()</a>, <a class="el" href="PE__Groups_8h_source.html#l00050">PE_Groups::current_group()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00307">option::defined</a>, <a class="el" href="Objet__U_8h_source.html#l00073">Objet_U::dimension</a>, <a class="el" href="Objet__U_8h_source.html#l00109">Objet_U::disable_TU</a>, <a class="el" href="Double_8h_source.html#l00064">DMAXFLOAT</a>, <a class="el" href="Entree__Fichier__base_8cpp_source.html#l00121">Entree_Fichier_base::eof()</a>, <a class="el" href="Process_8cpp_source.html#l00213">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="SolveurSys__base_8h_source.html#l00037">SolveurSys_base::fixer_limpr()</a>, <a class="el" href="Entree__Fichier__base_8cpp_source.html#l00050">Entree_Fichier_base::get_ifstream()</a>, <a class="el" href="PE__Groups_8cpp_source.html#l00180">PE_Groups::get_nb_groups()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00162">gpu_</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00167">ignore_new_nonzero_</a>, <a class="el" href="Process_8cpp_source.html#l00085">Process::je_suis_maitre()</a>, <a class="el" href="SolveurSys__base_8h_source.html#l00040">SolveurSys_base::limpr()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00034">mumps</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00308">option::name</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00174">NB_IT_MAX_DEFINED</a>, <a class="el" href="Objet__U_8cpp_source.html#l00304">Objet_U::nom_du_cas()</a>, <a class="el" href="Objet__U_8cpp_source.html#l00439">Objet_U::nommer()</a>, <a class="el" href="Process_8cpp_source.html#l00099">Process::nproc()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00095">numero_solveur</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00034">pastix</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00034">petsc</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00161">read_matrix_</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00168">rebuild_matrix_</a>, <a class="el" href="Cast_8h_source.html#l00052">ref_cast</a>, <a class="el" href="SolveurSys__base_8h_source.html#l00068">SolveurSys_base::save_matrice_</a>, <a class="el" href="Motcle_8cpp_source.html#l00466">Motcles::search()</a>, <a class="el" href="SolveurSys__base_8h_source.html#l00063">SolveurSys_base::set_reuse_preconditioner()</a>, <a class="el" href="Cast_8h_source.html#l00047">sub_type</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00034">superlu_dist</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00034">umfpack</a>, <a class="el" href="Source__Generique__Face__PolyMAC_8cpp_source.html#l00038">valeur()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00321">option_string::value()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00337">option_int::value()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00353">option_double::value()</a>, and <a class="el" href="Solv__Petsc_8h_source.html#l00171">verbose</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__AMGX_8cpp_source.html#l00029">Solv_AMGX::readOn()</a>, <a class="el" href="Solv__Petsc_8cpp_source.html#l00053">readOn()</a>, and <a class="el" href="Solv__Petsc__GPU_8cpp_source.html#l00028">Solv_Petsc_GPU::readOn()</a>.</p>

</div>
</div>
<a id="a1dcbcf1f662e6b6fcb02186c0d3a23bc" name="a1dcbcf1f662e6b6fcb02186c0d3a23bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dcbcf1f662e6b6fcb02186c0d3a23bc">&#9670;&nbsp;</a></span>cree_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classObjet__U.html">Objet_U</a> * Solv_Petsc::cree_instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l00043">43</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>

</div>
</div>
<a id="a75b407153404293649016ec3ed8b0573" name="a75b407153404293649016ec3ed8b0573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b407153404293649016ec3ed8b0573">&#9670;&nbsp;</a></span>duplique()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Solv_Petsc::duplique </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classObjet__U.html#a0308f5615fd7101a52a11f6c49b5f7bd">Objet_U</a>.</p>

<p>Reimplemented in <a class="el" href="classSolv__Petsc__GPU.html#ad2f6e7838aa31cebe09370f39477374a">Solv_Petsc_GPU</a>.</p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l00043">43</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>

</div>
</div>
<a id="a1ad2eaad6183ae4f5e7bac6f383eba3e" name="a1ad2eaad6183ae4f5e7bac6f383eba3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ad2eaad6183ae4f5e7bac6f383eba3e">&#9670;&nbsp;</a></span>get_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> * Solv_Petsc::get_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Donne des informations sur le type de l'<a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>const Type_info*<br  />
 Signification: structure regroupant les informations sur le type de l'<a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a><br  />
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classObjet__U.html#af07b49700ce0ff8197f29a8c6471b510">Objet_U</a>.</p>

<p>Reimplemented in <a class="el" href="classSolv__Petsc__GPU.html#a53f80c4100492f79717a0c1215fc51c6">Solv_Petsc_GPU</a>.</p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l00043">43</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>

</div>
</div>
<a id="a087b00129cb3d32c0dc80b82448cc0b3" name="a087b00129cb3d32c0dc80b82448cc0b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a087b00129cb3d32c0dc80b82448cc0b3">&#9670;&nbsp;</a></span>info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> * Solv_Petsc::info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l00043">43</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>

</div>
</div>
<a id="a912caf777872fe5a8373d2ab60eaf5d5" name="a912caf777872fe5a8373d2ab60eaf5d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912caf777872fe5a8373d2ab60eaf5d5">&#9670;&nbsp;</a></span>printOn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSortie.html">Sortie</a> &amp; Solv_Petsc::printOn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ecriture de l'objet sur un flot de sortie<br  />
Methode a surcharger. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers,...">Sortie</a>&amp;<br  />
 Signification: flot de sortie modifie<br  />
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classObjet__U.html#af73113dc3d3e0dc9709e33ae566f5130">Objet_U</a>.</p>

<p>Reimplemented in <a class="el" href="classSolv__Petsc__GPU.html#a86516c7e657924e4ca2c94aec6b1281c">Solv_Petsc_GPU</a>.</p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l00046">46</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>{</div>
<div class="line"><span class="lineno">   48</span>  s &lt;&lt; <a class="code hl_variable" href="classSolv__Petsc.html#a7a8cc27d5092ae780209ddb0059a2e29">chaine_lue_</a>;</div>
<div class="line"><span class="lineno">   49</span>  <span class="keywordflow">return</span> s;</div>
<div class="line"><span class="lineno">   50</span>}</div>
<div class="ttc" id="aclassSolv__Petsc_html_a7a8cc27d5092ae780209ddb0059a2e29"><div class="ttname"><a href="classSolv__Petsc.html#a7a8cc27d5092ae780209ddb0059a2e29">Solv_Petsc::chaine_lue_</a></div><div class="ttdeci">Nom chaine_lue_</div><div class="ttdoc">Chaine des mots cles lus.</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00160">Solv_Petsc.h:160</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Solv__Petsc_8h_source.html#l00160">chaine_lue_</a>.</p>

</div>
</div>
<a id="a82157eea6e4a861588f486f61a4ec442" name="a82157eea6e4a861588f486f61a4ec442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82157eea6e4a861588f486f61a4ec442">&#9670;&nbsp;</a></span>read_matrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Solv_Petsc::read_matrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00056">56</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>  {</div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classSolv__Petsc.html#a9c92c7b3025ccb3f301489141a442211">read_matrix_</a> == 1;</div>
<div class="line"><span class="lineno">   59</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Solv__Petsc_8h_source.html#l00161">read_matrix_</a>.</p>

</div>
</div>
<a id="ae2e6bea59fb50506590a3e23df7582ec" name="ae2e6bea59fb50506590a3e23df7582ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2e6bea59fb50506590a3e23df7582ec">&#9670;&nbsp;</a></span>readOn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEntree.html">Entree</a> &amp; Solv_Petsc::readOn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEntree.html">Entree</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lecture d'un <a class="el" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a> sur un flot d'entree<br  />
Methode a surcharger. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree&lt;br&gt;(fichier,...">Entree</a>&amp; s<br  />
 Signification: flot d'entree modifie<br  />
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classObjet__U.html#a6f4c7788efee2dce629ebd1628b73288">Objet_U</a>.</p>

<p>Reimplemented in <a class="el" href="classSolv__Petsc__GPU.html#a92755ed3a85922d37acd97f662d70b2d">Solv_Petsc_GPU</a>.</p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l00053">53</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>{</div>
<div class="line"><span class="lineno">   55</span>  <a class="code hl_function" href="classSolv__Petsc.html#a35a8ad922fb450f5b693f9ce1e31875c">create_solver</a>(is);</div>
<div class="line"><span class="lineno">   56</span>  <span class="keywordflow">return</span> is;</div>
<div class="line"><span class="lineno">   57</span>}</div>
<div class="ttc" id="aclassSolv__Petsc_html_a35a8ad922fb450f5b693f9ce1e31875c"><div class="ttname"><a href="classSolv__Petsc.html#a35a8ad922fb450f5b693f9ce1e31875c">Solv_Petsc::create_solver</a></div><div class="ttdeci">void create_solver(Entree &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8cpp_source.html#l00080">Solv_Petsc.cpp:80</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">create_solver()</a>.</p>

</div>
</div>
<a id="a34cc0b975e06dc6df27f2cc6d89da2dd" name="a34cc0b975e06dc6df27f2cc6d89da2dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34cc0b975e06dc6df27f2cc6d89da2dd">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Solv_Petsc::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00192">192</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  193</span>{</div>
<div class="line"><span class="lineno">  194</span><span class="preprocessor">#ifdef PETSCKSP_H</span></div>
<div class="line"><span class="lineno">  195</span>  <span class="keywordflow">if</span> (SolveurPetsc_!=NULL)</div>
<div class="line"><span class="lineno">  196</span>    {</div>
<div class="line"><span class="lineno">  197</span>      KSPDestroy(&amp;SolveurPetsc_);</div>
<div class="line"><span class="lineno">  198</span>      finalize();</div>
<div class="line"><span class="lineno">  199</span>    }</div>
<div class="line"><span class="lineno">  200</span>  <span class="keywordflow">if</span> (MatricePetsc_!=NULL)</div>
<div class="line"><span class="lineno">  201</span>    {</div>
<div class="line"><span class="lineno">  202</span><span class="comment">// Destruction des vecteurs</span></div>
<div class="line"><span class="lineno">  203</span>      VecDestroy(&amp;SecondMembrePetsc_);</div>
<div class="line"><span class="lineno">  204</span>      VecDestroy(&amp;SolutionPetsc_);</div>
<div class="line"><span class="lineno">  205</span>      <span class="keywordflow">if</span> (LocalSolutionPetsc_!=NULL)</div>
<div class="line"><span class="lineno">  206</span>        {</div>
<div class="line"><span class="lineno">  207</span>          VecDestroy(&amp;LocalSolutionPetsc_);</div>
<div class="line"><span class="lineno">  208</span>          VecScatterDestroy(&amp;VecScatter_);</div>
<div class="line"><span class="lineno">  209</span>        }</div>
<div class="line"><span class="lineno">  210</span><span class="comment">// Destruction matrice</span></div>
<div class="line"><span class="lineno">  211</span>      MatDestroy(&amp;MatricePetsc_);</div>
<div class="line"><span class="lineno">  212</span><span class="comment">// Destruction DM</span></div>
<div class="line"><span class="lineno">  213</span>      <span class="keywordflow">if</span> (dm_!=NULL)</div>
<div class="line"><span class="lineno">  214</span>        DMDestroy(&amp;dm_);</div>
<div class="line"><span class="lineno">  215</span>    }</div>
<div class="line"><span class="lineno">  216</span>  initialize();</div>
<div class="line"><span class="lineno">  217</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  218</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8h_source.html#l00186">~Solv_Petsc()</a>.</p>

</div>
</div>
<a id="ad03765ac5cfa376cc07d872e44c8bc71" name="ad03765ac5cfa376cc07d872e44c8bc71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad03765ac5cfa376cc07d872e44c8bc71">&#9670;&nbsp;</a></span>resoudre_systeme() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Solv_Petsc::resoudre_systeme </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMatrice__Base.html">Matrice_Base</a> &amp;&#160;</td>
          <td class="paramname"><em>la_matrice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;&#160;</td>
          <td class="paramname"><em>secmem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;&#160;</td>
          <td class="paramname"><em>solution</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classSolveurSys__base.html#a7c520c3aa574c8be3d3f27d4f700eac2">SolveurSys_base</a>.</p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l01573">1573</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1574</span>{</div>
<div class="line"><span class="lineno"> 1575</span><span class="preprocessor">#ifdef PETSCKSP_H</span></div>
<div class="line"><span class="lineno"> 1576</span><span class="comment">// Si on utilise un solver petsc on le signale pour les stats finales</span></div>
<div class="line"><span class="lineno"> 1577</span>  <a class="code hl_function" href="Statistiques_8h.html#a3c199d09f12b2698e7ad0894e2dd7835">statistiques</a>().<a class="code hl_function" href="classStatistiques.html#affcd058809786918ed173aaf681d0843">begin_count</a>(<a class="code hl_variable" href="stat__counters_8cpp.html#a1374e3dd206f6a5ece6b44542e3edc34">solv_sys_petsc_counter_</a>);</div>
<div class="line"><span class="lineno"> 1578</span>  <a class="code hl_function" href="Statistiques_8h.html#a3c199d09f12b2698e7ad0894e2dd7835">statistiques</a>().<a class="code hl_function" href="classStatistiques.html#a0faf52d1b518f5b0b2177f22efcc222d">end_count</a>(<a class="code hl_variable" href="stat__counters_8cpp.html#a1374e3dd206f6a5ece6b44542e3edc34">solv_sys_petsc_counter_</a>,1,1);</div>
<div class="line"><span class="lineno"> 1579</span>  <span class="keywordtype">double</span> start = <a class="code hl_function" href="classStatistiques.html#afce574b1c6577fa642d288f6a6bd0253">Statistiques::get_time_now</a>();</div>
<div class="line"><span class="lineno"> 1580</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classSolveurSys__base.html#aa44ff49115a0f04ac30317a7a06aad4d">nouvelle_matrice</a>())</div>
<div class="line"><span class="lineno"> 1581</span>    {</div>
<div class="line"><span class="lineno"> 1582</span>      matrice_symetrique_ = 1;      <span class="comment">//!&lt; On suppose que la matrice est symetrique</span></div>
<div class="line"><span class="lineno"> 1583</span> </div>
<div class="line"><span class="lineno"> 1584</span><span class="comment">// Construction de la numerotation globale:</span></div>
<div class="line"><span class="lineno"> 1585</span>      construit_renum(secmem);</div>
<div class="line"><span class="lineno"> 1586</span> </div>
<div class="line"><span class="lineno"> 1587</span><span class="comment">// Matrice morse intermedaire de conversion</span></div>
<div class="line"><span class="lineno"> 1588</span>      <a class="code hl_class" href="classMatrice__Morse.html">Matrice_Morse</a> matrice_morse_intermediaire;</div>
<div class="line"><span class="lineno"> 1589</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a9c92c7b3025ccb3f301489141a442211">read_matrix_</a>)</div>
<div class="line"><span class="lineno"> 1590</span>        {</div>
<div class="line"><span class="lineno"> 1591</span><span class="comment">// New in 1.6.9, it is possible to read the matrix</span></div>
<div class="line"><span class="lineno"> 1592</span><span class="comment">// Read the PETSc matrix</span></div>
<div class="line"><span class="lineno"> 1593</span>          RestoreMatrixFromFile();</div>
<div class="line"><span class="lineno"> 1594</span>          <span class="keywordtype">int</span> nb_local_rows, nb_local_cols;</div>
<div class="line"><span class="lineno"> 1595</span>          MatGetLocalSize(MatricePetsc_, &amp;nb_local_rows, &amp;nb_local_cols);</div>
<div class="line"><span class="lineno"> 1596</span>          <span class="keywordflow">if</span> (nb_local_rows != nb_items_to_keep_)</div>
<div class="line"><span class="lineno"> 1597</span>            {</div>
<div class="line"><span class="lineno"> 1598</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The matrix read has &quot;</span> &lt;&lt; nb_local_rows &lt;&lt; <span class="stringliteral">&quot; local columns whereas&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1599</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;the RHS/Solution vectors have a size of &quot;</span> &lt;&lt; nb_items_to_keep_ &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1600</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Check your data file or the file containing the PETSc matrix.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1601</span>              <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno"> 1602</span>            }</div>
<div class="line"><span class="lineno"> 1603</span>        }</div>
<div class="line"><span class="lineno"> 1604</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classMatrice__Petsc.html">Matrice_Petsc</a>, la_matrice))</div>
<div class="line"><span class="lineno"> 1605</span>        {</div>
<div class="line"><span class="lineno"> 1606</span><span class="comment">// Matrice deja au format Petsc</span></div>
<div class="line"><span class="lineno"> 1607</span>          MatricePetsc_ = <a class="code hl_define" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code hl_class" href="classMatrice__Petsc.html">Matrice_Petsc</a>, la_matrice).getMat();</div>
<div class="line"><span class="lineno"> 1608</span>          <a class="code hl_variable" href="classSolv__Petsc.html#a9c92c7b3025ccb3f301489141a442211">read_matrix_</a> = 1; <span class="comment">//!&lt; flag reutilise comme si on avait lu la matrice</span></div>
<div class="line"><span class="lineno"> 1609</span>        }</div>
<div class="line"><span class="lineno"> 1610</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classMatrice__Morse__Sym.html">Matrice_Morse_Sym</a>, la_matrice))</div>
<div class="line"><span class="lineno"> 1611</span>        {</div>
<div class="line"><span class="lineno"> 1612</span><span class="comment">// Exemple: matrice de pression en VEFPreP1B</span></div>
<div class="line"><span class="lineno"> 1613</span>          <span class="keyword">const</span> <a class="code hl_class" href="classMatrice__Morse__Sym.html">Matrice_Morse_Sym</a>&amp; matrice_morse_sym = <a class="code hl_define" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code hl_class" href="classMatrice__Morse__Sym.html">Matrice_Morse_Sym</a>, la_matrice);</div>
<div class="line"><span class="lineno"> 1614</span>          assert(matrice_morse_sym.<a class="code hl_function" href="classMatrice__Sym.html#a8d800deeea9f4aea802d15cd1c3c83f2">get_est_definie</a>());</div>
<div class="line"><span class="lineno"> 1615</span>          <a class="code hl_function" href="ILU_8cpp.html#af795a7defe79185059ecd10e52645585">MorseSymToMorse</a>(matrice_morse_sym, matrice_morse_intermediaire);</div>
<div class="line"><span class="lineno"> 1616</span>        }</div>
<div class="line"><span class="lineno"> 1617</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classMatrice__Bloc__Sym.html">Matrice_Bloc_Sym</a>, la_matrice))</div>
<div class="line"><span class="lineno"> 1618</span>        {</div>
<div class="line"><span class="lineno"> 1619</span><span class="comment">// Exemple : matrice de pression en VEF P0+P1+Pa</span></div>
<div class="line"><span class="lineno"> 1620</span>          <span class="keyword">const</span> <a class="code hl_class" href="classMatrice__Bloc__Sym.html">Matrice_Bloc_Sym</a>&amp; matrice = <a class="code hl_define" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code hl_class" href="classMatrice__Bloc__Sym.html">Matrice_Bloc_Sym</a>, la_matrice);</div>
<div class="line"><span class="lineno"> 1621</span><span class="comment">// Conversion de la matrice Matrice_Bloc_Sym au format Matrice_Morse_Sym</span></div>
<div class="line"><span class="lineno"> 1622</span>          <a class="code hl_class" href="classMatrice__Morse__Sym.html">Matrice_Morse_Sym</a> matrice_morse_sym;</div>
<div class="line"><span class="lineno"> 1623</span>          matrice.<a class="code hl_function" href="classMatrice__Bloc__Sym.html#a1172616f6ad371ad161d740c0426e226">BlocSymToMatMorseSym</a>(matrice_morse_sym);</div>
<div class="line"><span class="lineno"> 1624</span>          <a class="code hl_function" href="ILU_8cpp.html#af795a7defe79185059ecd10e52645585">MorseSymToMorse</a>(matrice_morse_sym, matrice_morse_intermediaire);</div>
<div class="line"><span class="lineno"> 1625</span>          matrice_morse_sym.<a class="code hl_function" href="classMatrice__Morse.html#ae95f9ed88a8a3fc637cd2a705cead9c8">dimensionner</a>(0, 0); <span class="comment">//!&lt; Destruction de la matrice morse sym desormais inutile</span></div>
<div class="line"><span class="lineno"> 1626</span>        }</div>
<div class="line"><span class="lineno"> 1627</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classMatrice__Morse.html">Matrice_Morse</a>, la_matrice))</div>
<div class="line"><span class="lineno"> 1628</span>        {</div>
<div class="line"><span class="lineno"> 1629</span><span class="comment">// Exemple : matrice implicite</span></div>
<div class="line"><span class="lineno"> 1630</span>          matrice_symetrique_ = 0;</div>
<div class="line"><span class="lineno"> 1631</span>        }</div>
<div class="line"><span class="lineno"> 1632</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classMatrice__Bloc.html">Matrice_Bloc</a>, la_matrice))</div>
<div class="line"><span class="lineno"> 1633</span>        {</div>
<div class="line"><span class="lineno"> 1634</span><span class="comment">// Exemple : matrice de pression en VDF</span></div>
<div class="line"><span class="lineno"> 1635</span>          <span class="keyword">const</span> <a class="code hl_class" href="classMatrice__Bloc.html">Matrice_Bloc</a>&amp; matrice_bloc = <a class="code hl_define" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code hl_class" href="classMatrice__Bloc.html">Matrice_Bloc</a>, la_matrice);</div>
<div class="line"><span class="lineno"> 1636</span>          <span class="keywordflow">if</span> (!<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classMatrice__Morse__Sym.html">Matrice_Morse_Sym</a>, matrice_bloc.<a class="code hl_function" href="classMatrice__Bloc.html#a76a5691fecfea8b4dd877d2c449a7f21">get_bloc</a>(0, 0).<a class="code hl_function" href="classDeriv__Matrice__Base.html#a6d78a97ea87044a4b8c0cc2c6609f3e0">valeur</a>()))</div>
<div class="line"><span class="lineno"> 1637</span>            matrice_symetrique_ = 0;</div>
<div class="line"><span class="lineno"> 1638</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1639</span>            {</div>
<div class="line"><span class="lineno"> 1640</span><span class="comment">// Pour un solveur direct, operation si la matrice n&#39;est pas definie (en incompressible VDF, rien n&#39;etait fait...)</span></div>
<div class="line"><span class="lineno"> 1641</span>              <a class="code hl_class" href="classMatrice__Morse__Sym.html">Matrice_Morse_Sym</a>&amp; mat00 = <a class="code hl_define" href="Cast_8h.html#ad3836a067c92103af8df5ad8f35959a6">ref_cast_non_const</a>(<a class="code hl_class" href="classMatrice__Morse__Sym.html">Matrice_Morse_Sym</a>, matrice_bloc.<a class="code hl_function" href="classMatrice__Bloc.html#a76a5691fecfea8b4dd877d2c449a7f21">get_bloc</a>(0, 0).<a class="code hl_function" href="classDeriv__Matrice__Base.html#a6d78a97ea87044a4b8c0cc2c6609f3e0">valeur</a>());</div>
<div class="line"><span class="lineno"> 1642</span>              <span class="keywordflow">if</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a> &amp;&amp; mat00.<a class="code hl_function" href="classMatrice__Sym.html#a8d800deeea9f4aea802d15cd1c3c83f2">get_est_definie</a>() == 0 &amp;&amp; <a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><span class="lineno"> 1643</span>                mat00(0, 0) *= 2;</div>
<div class="line"><span class="lineno"> 1644</span>            }</div>
<div class="line"><span class="lineno"> 1645</span>          matrice_bloc.<a class="code hl_function" href="classMatrice__Bloc.html#a6ad236a4f9434ce657390294a874c5a0">BlocToMatMorse</a>(matrice_morse_intermediaire);</div>
<div class="line"><span class="lineno"> 1646</span>        }</div>
<div class="line"><span class="lineno"> 1647</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1648</span>        {</div>
<div class="line"><span class="lineno"> 1649</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Solv_Petsc : Warning, we do not know yet treat a matrix of type &quot;</span> &lt;&lt; la_matrice.<a class="code hl_function" href="classObjet__U.html#a58289bb63283588d31dc69b87b3f1d55">que_suis_je</a>()</div>
<div class="line"><span class="lineno"> 1650</span>               &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1651</span>          <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><span class="lineno"> 1652</span>        }</div>
<div class="line"><span class="lineno"> 1653</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a74dac05c9ed8acbc0642cfee0d750f4e">verbose</a>) <a class="code hl_define" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <span class="stringliteral">&quot;[Petsc] Time to convert matrix: \t&quot;</span> &lt;&lt; <a class="code hl_function" href="classStatistiques.html#afce574b1c6577fa642d288f6a6bd0253">Statistiques::get_time_now</a>() - start &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1654</span> </div>
<div class="line"><span class="lineno"> 1655</span><span class="comment">// Verification stockage de la matrice</span></div>
<div class="line"><span class="lineno"> 1656</span>      check_aij(matrice_morse_intermediaire);</div>
<div class="line"><span class="lineno"> 1657</span> </div>
<div class="line"><span class="lineno"> 1658</span>      <span class="keywordtype">bool</span> la_matrice_est_morse_non_symetrique =</div>
<div class="line"><span class="lineno"> 1659</span>        <a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classMatrice__Morse.html">Matrice_Morse</a>, la_matrice) &amp;&amp; !<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classMatrice__Morse__Sym.html">Matrice_Morse_Sym</a>, la_matrice);</div>
<div class="line"><span class="lineno"> 1660</span>      <span class="keyword">const</span> <a class="code hl_class" href="classMatrice__Morse.html">Matrice_Morse</a>&amp; matrice_morse = la_matrice_est_morse_non_symetrique ? <a class="code hl_define" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code hl_class" href="classMatrice__Morse.html">Matrice_Morse</a>, la_matrice)</div>
<div class="line"><span class="lineno"> 1661</span>                                           : matrice_morse_intermediaire;</div>
<div class="line"><span class="lineno"> 1662</span> </div>
<div class="line"><span class="lineno"> 1663</span><span class="comment">// Verification stencil de la matrice</span></div>
<div class="line"><span class="lineno"> 1664</span>      nouveau_stencil_ = (MatricePetsc_ == NULL ? true : check_stencil(matrice_morse));</div>
<div class="line"><span class="lineno"> 1665</span> </div>
<div class="line"><span class="lineno"> 1666</span>      <span class="keywordflow">if</span> (SecondMembrePetsc_ == NULL)</div>
<div class="line"><span class="lineno"> 1667</span>        {</div>
<div class="line"><span class="lineno"> 1668</span><span class="comment">// Build x and b during the first matrix creation</span></div>
<div class="line"><span class="lineno"> 1669</span>          Create_vectors(secmem);</div>
<div class="line"><span class="lineno"> 1670</span><span class="comment">// Creation de Champs (fields) pour pouvoir utiliser des preconditionneurs PCFIELDSPLIT</span></div>
<div class="line"><span class="lineno"> 1671</span>          Create_DM(secmem);</div>
<div class="line"><span class="lineno"> 1672</span>        }</div>
<div class="line"><span class="lineno"> 1673</span><span class="comment">// Construit ou update la matrice</span></div>
<div class="line"><span class="lineno"> 1674</span>      <span class="keywordflow">if</span> (nouveau_stencil_)</div>
<div class="line"><span class="lineno"> 1675</span>        Create_objects(matrice_morse, secmem.<a class="code hl_function" href="classTRUSTVect.html#a649c67413e5406c514742aa39dd791b9">line_size</a>());</div>
<div class="line"><span class="lineno"> 1676</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1677</span>        Update_matrix(MatricePetsc_, matrice_morse);</div>
<div class="line"><span class="lineno"> 1678</span>      <span class="comment">/* reglage de BlockSize avec le line_size() du second membre */</span></div>
<div class="line"><span class="lineno"> 1679</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="classSolveurSys__base.html#a6435c5b83312da8f782eeeab564b4061">limpr</a>() == 1)</div>
<div class="line"><span class="lineno"> 1680</span>        {</div>
<div class="line"><span class="lineno"> 1681</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <span class="stringliteral">&quot;Order of the PETSc matrix : &quot;</span> &lt;&lt; nb_rows_tot_ &lt;&lt; <span class="stringliteral">&quot; (~ &quot;</span></div>
<div class="line"><span class="lineno"> 1682</span>               &lt;&lt; (petsc_cpus_selection_ ? (int) (nb_rows_tot_ / petsc_nb_cpus_) : nb_rows_)</div>
<div class="line"><span class="lineno"> 1683</span>               &lt;&lt; <span class="stringliteral">&quot; unknowns per PETSc process ) &quot;</span> &lt;&lt; (nouveau_stencil_ ? <span class="stringliteral">&quot;New stencil.&quot;</span> : <span class="stringliteral">&quot;Same stencil.&quot;</span>) &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1684</span>        }</div>
<div class="line"><span class="lineno"> 1685</span>    }</div>
<div class="line"><span class="lineno"> 1686</span>  start = <a class="code hl_function" href="classStatistiques.html#afce574b1c6577fa642d288f6a6bd0253">Statistiques::get_time_now</a>();</div>
<div class="line"><span class="lineno"> 1687</span><span class="comment">// Assemblage du second membre et de la solution</span></div>
<div class="line"><span class="lineno"> 1688</span><span class="comment">// ToDo calculer ix au moment de item_to_keep_</span></div>
<div class="line"><span class="lineno"> 1689</span>  <span class="keywordtype">int</span> size=secmem.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><span class="lineno"> 1690</span>  <span class="keywordtype">int</span> colonne_globale=decalage_local_global_;</div>
<div class="line"><span class="lineno"> 1691</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> ix(size);</div>
<div class="line"><span class="lineno"> 1692</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;size; i++)</div>
<div class="line"><span class="lineno"> 1693</span>    <span class="keywordflow">if</span> (items_to_keep_[i])</div>
<div class="line"><span class="lineno"> 1694</span>      {</div>
<div class="line"><span class="lineno"> 1695</span>        ix[i] = colonne_globale;</div>
<div class="line"><span class="lineno"> 1696</span>        colonne_globale++;</div>
<div class="line"><span class="lineno"> 1697</span>      }</div>
<div class="line"><span class="lineno"> 1698</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1699</span>      ix[i] = -1;</div>
<div class="line"><span class="lineno"> 1700</span>  VecSetOption(SecondMembrePetsc_, VEC_IGNORE_NEGATIVE_INDICES, PETSC_TRUE);</div>
<div class="line"><span class="lineno"> 1701</span>  VecSetValues(SecondMembrePetsc_, size, ix.addr(), secmem.<a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">addr</a>(), INSERT_VALUES);</div>
<div class="line"><span class="lineno"> 1702</span>  VecSetOption(SolutionPetsc_, VEC_IGNORE_NEGATIVE_INDICES, PETSC_TRUE);</div>
<div class="line"><span class="lineno"> 1703</span>  VecSetValues(SolutionPetsc_, size, ix.addr(), solution.<a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">addr</a>(), INSERT_VALUES);</div>
<div class="line"><span class="lineno"> 1704</span>  VecAssemblyBegin(SecondMembrePetsc_);</div>
<div class="line"><span class="lineno"> 1705</span>  VecAssemblyEnd(SecondMembrePetsc_);</div>
<div class="line"><span class="lineno"> 1706</span>  VecAssemblyBegin(SolutionPetsc_);</div>
<div class="line"><span class="lineno"> 1707</span>  VecAssemblyEnd(SolutionPetsc_);</div>
<div class="line"><span class="lineno"> 1708</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a74dac05c9ed8acbc0642cfee0d750f4e">verbose</a>) <a class="code hl_define" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <span class="stringliteral">&quot;[Petsc] Time to update vectors: \t&quot;</span> &lt;&lt; <a class="code hl_function" href="classStatistiques.html#afce574b1c6577fa642d288f6a6bd0253">Statistiques::get_time_now</a>() - start &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1709</span> </div>
<div class="line"><span class="lineno"> 1710</span><span class="comment">// VecView(SecondMembrePetsc_,PETSC_VIEWER_STDOUT_WORLD);</span></div>
<div class="line"><span class="lineno"> 1711</span><span class="comment">// VecView(SolutionPetsc_,PETSC_VIEWER_STDOUT_WORLD);</span></div>
<div class="line"><span class="lineno"> 1712</span> </div>
<div class="line"><span class="lineno"> 1713</span><span class="comment">// Save the matrix and the RHS</span></div>
<div class="line"><span class="lineno"> 1714</span><span class="comment">// if the matrix has changed...</span></div>
<div class="line"><span class="lineno"> 1715</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classSolveurSys__base.html#aa44ff49115a0f04ac30317a7a06aad4d">nouvelle_matrice</a>())</div>
<div class="line"><span class="lineno"> 1716</span>    {</div>
<div class="line"><span class="lineno"> 1717</span>      start = <a class="code hl_function" href="classStatistiques.html#afce574b1c6577fa642d288f6a6bd0253">Statistiques::get_time_now</a>();</div>
<div class="line"><span class="lineno"> 1718</span>      <span class="keywordflow">if</span> (save_matrix_==1)</div>
<div class="line"><span class="lineno"> 1719</span>        SaveObjectsToFile();</div>
<div class="line"><span class="lineno"> 1720</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (save_matrix_==2)</div>
<div class="line"><span class="lineno"> 1721</span>        {</div>
<div class="line"><span class="lineno"> 1722</span><span class="comment">// Format matrix market ToDo : method</span></div>
<div class="line"><span class="lineno"> 1723</span>          <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>() &gt; 1) <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>(<span class="stringliteral">&quot;Error, matrix market format is not available yet in parallel.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1724</span>          <a class="code hl_class" href="classNom.html">Nom</a> filename(<a class="code hl_function" href="classObjet__U.html#a7c27c4f80259eeef76ff8fe2d3bc61f7">Objet_U::nom_du_cas</a>());</div>
<div class="line"><span class="lineno"> 1725</span>          filename += <span class="stringliteral">&quot;_matrix&quot;</span>;</div>
<div class="line"><span class="lineno"> 1726</span>          filename += (<a class="code hl_class" href="classNom.html">Nom</a>) <a class="code hl_variable" href="classSolv__Petsc.html#a7384c2681936b980c3fa393793e47e87">instance</a>;</div>
<div class="line"><span class="lineno"> 1727</span>          filename += <span class="stringliteral">&quot;.mtx&quot;</span>;</div>
<div class="line"><span class="lineno"> 1728</span>          <a class="code hl_class" href="classSFichier.html">SFichier</a> mtx(filename);</div>
<div class="line"><span class="lineno"> 1729</span>          mtx.precision(14);</div>
<div class="line"><span class="lineno"> 1730</span>          mtx.setf(ios::scientific);</div>
<div class="line"><span class="lineno"> 1731</span>          PetscInt rows;</div>
<div class="line"><span class="lineno"> 1732</span>          <span class="keyword">const</span> PetscInt *ia, *ja;</div>
<div class="line"><span class="lineno"> 1733</span>          PetscBool done;</div>
<div class="line"><span class="lineno"> 1734</span>          MatGetRowIJ(MatricePetsc_, 0, PETSC_FALSE, PETSC_FALSE, &amp;rows, &amp;ia, &amp;ja, &amp;done);</div>
<div class="line"><span class="lineno"> 1735</span>          <span class="keywordflow">if</span> (!done) <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>(<span class="stringliteral">&quot;Error in MatGetRowIJ&quot;</span>);</div>
<div class="line"><span class="lineno"> 1736</span>          PetscScalar *v;</div>
<div class="line"><span class="lineno"> 1737</span>          MatType mat_type;</div>
<div class="line"><span class="lineno"> 1738</span>          MatGetType(MatricePetsc_, &amp;mat_type);</div>
<div class="line"><span class="lineno"> 1739</span>          <a class="code hl_class" href="classNom.html">Nom</a> type;</div>
<div class="line"><span class="lineno"> 1740</span>          <span class="keywordflow">if</span> (strcmp(mat_type, MATSEQAIJ) == 0)</div>
<div class="line"><span class="lineno"> 1741</span>            {</div>
<div class="line"><span class="lineno"> 1742</span>              type = <span class="stringliteral">&quot;general&quot;</span>;</div>
<div class="line"><span class="lineno"> 1743</span>              MatSeqAIJGetArray(MatricePetsc_, &amp;v);</div>
<div class="line"><span class="lineno"> 1744</span>            }</div>
<div class="line"><span class="lineno"> 1745</span>          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(mat_type, MATSEQSBAIJ) == 0)</div>
<div class="line"><span class="lineno"> 1746</span>            {</div>
<div class="line"><span class="lineno"> 1747</span>              type = <span class="stringliteral">&quot;symmetric&quot;</span>;</div>
<div class="line"><span class="lineno"> 1748</span>              MatSeqSBAIJGetArray(MatricePetsc_, &amp;v);</div>
<div class="line"><span class="lineno"> 1749</span>            }</div>
<div class="line"><span class="lineno"> 1750</span>          <span class="keywordflow">else</span> <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>(<span class="stringliteral">&quot;Matrix type not supported.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1751</span>          mtx &lt;&lt; <span class="stringliteral">&quot;%%MatrixMarket matrix coordinate real &quot;</span> &lt;&lt; type &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1752</span>          <span class="keywordtype">bool</span> vectors = <span class="keyword">false</span>; <span class="comment">//!&lt; Ecriture des vecteurs supporte par AmgX mais cela ne marche pas encore</span></div>
<div class="line"><span class="lineno"> 1753</span>          <span class="keywordflow">if</span> (vectors)</div>
<div class="line"><span class="lineno"> 1754</span>            {</div>
<div class="line"><span class="lineno"> 1755</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Matrix (&quot;</span> &lt;&lt; rows &lt;&lt; <span class="stringliteral">&quot; lines) written into file with RHS and solution: &quot;</span> &lt;&lt; filename &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1756</span>              mtx &lt;&lt; <span class="stringliteral">&quot;%%matrix rhs solution&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1757</span>            }</div>
<div class="line"><span class="lineno"> 1758</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1759</span>            {</div>
<div class="line"><span class="lineno"> 1760</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Matrix (&quot;</span> &lt;&lt; rows &lt;&lt; <span class="stringliteral">&quot; lines) written into file: &quot;</span> &lt;&lt; filename &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1761</span>              mtx &lt;&lt; <span class="stringliteral">&quot;%%matrix&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1762</span>            }</div>
<div class="line"><span class="lineno"> 1763</span>          mtx &lt;&lt; rows &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; rows &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ia[rows] &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1764</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> row=0; row&lt;rows; row++)</div>
<div class="line"><span class="lineno"> 1765</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=ia[row]; j&lt;ia[row+1]; j++)</div>
<div class="line"><span class="lineno"> 1766</span>              mtx &lt;&lt; row+1 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; ja[j]+1 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; v[j] &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1767</span>          <span class="keywordflow">if</span> (vectors)</div>
<div class="line"><span class="lineno"> 1768</span>            {</div>
<div class="line"><span class="lineno"> 1769</span>              mtx &lt;&lt; <span class="stringliteral">&quot;%%&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a> &lt;&lt; <span class="stringliteral">&quot;%% optional rhs &quot;</span> &lt;&lt; secmem.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>() &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1770</span>              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; secmem.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>(); i++)</div>
<div class="line"><span class="lineno"> 1771</span>                mtx &lt;&lt; secmem(i) &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1772</span>              mtx &lt;&lt; <span class="stringliteral">&quot;%%&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a> &lt;&lt; <span class="stringliteral">&quot;%% optional solution &quot;</span> &lt;&lt; solution.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>() &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1773</span>              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; solution.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>(); i++)</div>
<div class="line"><span class="lineno"> 1774</span>                mtx &lt;&lt; solution(i) &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1775</span>            }</div>
<div class="line"><span class="lineno"> 1776</span>          <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1777</span>            {</div>
<div class="line"><span class="lineno"> 1778</span><span class="comment">// Provisoire: sauve un vector Petsc</span></div>
<div class="line"><span class="lineno"> 1779</span>              PetscViewer viewer;</div>
<div class="line"><span class="lineno"> 1780</span>              <a class="code hl_class" href="classNom.html">Nom</a> rhs_filename(<a class="code hl_function" href="classObjet__U.html#a7c27c4f80259eeef76ff8fe2d3bc61f7">Objet_U::nom_du_cas</a>());</div>
<div class="line"><span class="lineno"> 1781</span>              rhs_filename += <span class="stringliteral">&quot;_rhs&quot;</span>;</div>
<div class="line"><span class="lineno"> 1782</span>              rhs_filename += (<a class="code hl_class" href="classNom.html">Nom</a>) <a class="code hl_variable" href="classSolv__Petsc.html#a7384c2681936b980c3fa393793e47e87">instance</a>;</div>
<div class="line"><span class="lineno"> 1783</span>              rhs_filename += <span class="stringliteral">&quot;.petsc&quot;</span>;</div>
<div class="line"><span class="lineno"> 1784</span>              PetscViewerBinaryOpen(PETSC_COMM_WORLD,rhs_filename,FILE_MODE_WRITE,&amp;viewer);</div>
<div class="line"><span class="lineno"> 1785</span>              VecView(SecondMembrePetsc_, viewer);</div>
<div class="line"><span class="lineno"> 1786</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Save RHS into &quot;</span> &lt;&lt; rhs_filename &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1787</span>              PetscViewerDestroy(&amp;viewer);</div>
<div class="line"><span class="lineno"> 1788</span>            }</div>
<div class="line"><span class="lineno"> 1789</span>        }</div>
<div class="line"><span class="lineno"> 1790</span>      <span class="keywordflow">if</span> (save_matrix_ &amp;&amp; <a class="code hl_variable" href="classSolv__Petsc.html#a74dac05c9ed8acbc0642cfee0d750f4e">verbose</a>) <a class="code hl_define" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <span class="stringliteral">&quot;[Petsc] Time to write matrix: \t&quot;</span> &lt;&lt; <a class="code hl_function" href="classStatistiques.html#afce574b1c6577fa642d288f6a6bd0253">Statistiques::get_time_now</a>() - start &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1791</span>    }</div>
<div class="line"><span class="lineno"> 1792</span><span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1793</span><span class="comment">// Solve the linear system</span></div>
<div class="line"><span class="lineno"> 1794</span><span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1795</span>  PetscLogStagePush(KSPSolve_Stage_);</div>
<div class="line"><span class="lineno"> 1796</span>  <span class="keywordtype">int</span> size_residu = nb_it_max_ + 1;</div>
<div class="line"><span class="lineno"> 1797</span><span class="comment">// DoubleTrav residu(size_residu); // bad_alloc sur gros cas, curie pourquoi ?</span></div>
<div class="line"><span class="lineno"> 1798</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfDouble</a> residu(size_residu);</div>
<div class="line"><span class="lineno"> 1799</span>  <span class="keywordtype">int</span> nbiter = solve(residu);</div>
<div class="line"><span class="lineno"> 1800</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classSolveurSys__base.html#a6435c5b83312da8f782eeeab564b4061">limpr</a>()&gt;-1)</div>
<div class="line"><span class="lineno"> 1801</span>    {</div>
<div class="line"><span class="lineno"> 1802</span>      <span class="keywordtype">double</span> residu_relatif=(residu[0]&gt;0?residu[nbiter]/residu[0]:residu[nbiter]);</div>
<div class="line"><span class="lineno"> 1803</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a> &lt;&lt; <span class="stringliteral">&quot;Final residue: &quot;</span> &lt;&lt; residu[nbiter] &lt;&lt; <span class="stringliteral">&quot; ( &quot;</span> &lt;&lt; residu_relatif &lt;&lt; <span class="stringliteral">&quot; )&quot;</span>&lt;&lt;<a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1804</span>    }</div>
<div class="line"><span class="lineno"> 1805</span> </div>
<div class="line"><span class="lineno"> 1806</span><span class="comment">// Recuperation de la solution</span></div>
<div class="line"><span class="lineno"> 1807</span>  start = <a class="code hl_function" href="classStatistiques.html#afce574b1c6577fa642d288f6a6bd0253">Statistiques::get_time_now</a>();</div>
<div class="line"><span class="lineno"> 1808</span><span class="comment">// ToDo un seul VecGetValues comme VecSetValues</span></div>
<div class="line"><span class="lineno"> 1809</span>  <span class="keywordflow">if</span> (different_partition_)</div>
<div class="line"><span class="lineno"> 1810</span>    {</div>
<div class="line"><span class="lineno"> 1811</span><span class="comment">// TRUST and PETSc has different partition, a local vector LocalSolutionPetsc_ is gathered from the global vector SolutionPetsc_ :</span></div>
<div class="line"><span class="lineno"> 1812</span>      VecScatterBegin(VecScatter_, SolutionPetsc_, LocalSolutionPetsc_, INSERT_VALUES, SCATTER_FORWARD);</div>
<div class="line"><span class="lineno"> 1813</span>      VecScatterEnd  (VecScatter_, SolutionPetsc_, LocalSolutionPetsc_, INSERT_VALUES, SCATTER_FORWARD);</div>
<div class="line"><span class="lineno"> 1814</span><span class="comment">// Use the local vector to get the solution:</span></div>
<div class="line"><span class="lineno"> 1815</span>      <span class="keywordtype">int</span> colonne_locale=0;</div>
<div class="line"><span class="lineno"> 1816</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;size; i++)</div>
<div class="line"><span class="lineno"> 1817</span>        <span class="keywordflow">if</span> (items_to_keep_[i])</div>
<div class="line"><span class="lineno"> 1818</span>          {</div>
<div class="line"><span class="lineno"> 1819</span>            VecGetValues(LocalSolutionPetsc_, 1, &amp;colonne_locale, &amp;solution(i));</div>
<div class="line"><span class="lineno"> 1820</span>            colonne_locale++;</div>
<div class="line"><span class="lineno"> 1821</span>          }</div>
<div class="line"><span class="lineno"> 1822</span>      assert(nb_rows_==colonne_locale);</div>
<div class="line"><span class="lineno"> 1823</span>    }</div>
<div class="line"><span class="lineno"> 1824</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1825</span>    {</div>
<div class="line"><span class="lineno"> 1826</span><span class="comment">// TRUST and PETSc has same partition, local solution can be accessed from the global vector:</span></div>
<div class="line"><span class="lineno"> 1827</span>      VecGetValues(SolutionPetsc_, size, ix.addr(), solution.<a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">addr</a>());</div>
<div class="line"><span class="lineno"> 1828</span>    }</div>
<div class="line"><span class="lineno"> 1829</span>  solution.<a class="code hl_function" href="classTRUSTVect.html#a7df489e59381e175b1df9cef48355fe5">echange_espace_virtuel</a>();</div>
<div class="line"><span class="lineno"> 1830</span>  <a class="code hl_function" href="classSolveurSys__base.html#afcf2c99ad548e18c61cdade93a2e1978">fixer_nouvelle_matrice</a>(0);</div>
<div class="line"><span class="lineno"> 1831</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a74dac05c9ed8acbc0642cfee0d750f4e">verbose</a>) <a class="code hl_define" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a> &lt;&lt; <span class="stringliteral">&quot;[Petsc] Time to update solution: \t&quot;</span> &lt;&lt; <a class="code hl_function" href="classStatistiques.html#afce574b1c6577fa642d288f6a6bd0253">Statistiques::get_time_now</a>() - start &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1832</span><span class="comment">// Calcul du vrai residu sur matrice initiale sur GPU:</span></div>
<div class="line"><span class="lineno"> 1833</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a4a4d7d01f00900e4c2ad771be5e6725b">amgx_</a> || <a class="code hl_variable" href="classSolv__Petsc.html#a5f603c229087d42c8bb2fee48290526f">gpu_</a> || controle_residu_)</div>
<div class="line"><span class="lineno"> 1834</span>    {</div>
<div class="line"><span class="lineno"> 1835</span>      <a class="code hl_class" href="classTRUSTVect.html">DoubleVect</a> <a class="code hl_function" href="Op__Grad__EF_8cpp.html#abc0897c211f7aa4541da5833388f868b">test</a>(secmem);</div>
<div class="line"><span class="lineno"> 1836</span>      <a class="code hl_function" href="Op__Grad__EF_8cpp.html#abc0897c211f7aa4541da5833388f868b">test</a>*=-1;</div>
<div class="line"><span class="lineno"> 1837</span>      la_matrice.<a class="code hl_function" href="classMatrice__Base.html#aed652de189a541ffa30f802e407696cd">ajouter_multvect</a>(solution,<a class="code hl_function" href="Op__Grad__EF_8cpp.html#abc0897c211f7aa4541da5833388f868b">test</a>);</div>
<div class="line"><span class="lineno"> 1838</span>      <span class="keywordtype">double</span> vrai_residu = <a class="code hl_function" href="TRUSTVect__tools_8tpp.html#a60579f2b9c6e65cce8d02f72f2ee653e">mp_norme_vect</a>(<a class="code hl_function" href="Op__Grad__EF_8cpp.html#abc0897c211f7aa4541da5833388f868b">test</a>);</div>
<div class="line"><span class="lineno"> 1839</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="classSolv__Petsc.html#a74dac05c9ed8acbc0642cfee0d750f4e">verbose</a>) <a class="code hl_define" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <span class="stringliteral">&quot;||Ax-b||=&quot;</span> &lt;&lt; vrai_residu &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1840</span><span class="comment">// Verification de la solution sur la matrice initiale</span></div>
<div class="line"><span class="lineno"> 1841</span>      <span class="keywordflow">if</span> (nbiter&gt;0 &amp;&amp; <a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><span class="lineno"> 1842</span>        {</div>
<div class="line"><span class="lineno"> 1843</span>          <span class="keywordtype">double</span> precision_machine=1.e-12;</div>
<div class="line"><span class="lineno"> 1844</span>          <span class="keywordflow">if</span> (residu[0]&gt;0 &amp;&amp; residu[nbiter]/residu[0]&gt;precision_machine &amp;&amp; vrai_residu&gt;10*residu[nbiter])</div>
<div class="line"><span class="lineno"> 1845</span>            {</div>
<div class="line"><span class="lineno"> 1846</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error, computed solution x is false !&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1847</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;True residual (&quot;</span> &lt;&lt; vrai_residu &lt;&lt; <span class="stringliteral">&quot;) is much higher than convergence residual (&quot;</span> &lt;&lt; residu[nbiter] &lt;&lt; <span class="stringliteral">&quot;) !&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno"> 1848</span>              <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><span class="lineno"> 1849</span>            }</div>
<div class="line"><span class="lineno"> 1850</span>        }</div>
<div class="line"><span class="lineno"> 1851</span>    }</div>
<div class="line"><span class="lineno"> 1852</span>  <span class="keywordflow">return</span> nbiter;</div>
<div class="line"><span class="lineno"> 1853</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1854</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1855</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1856</span>}</div>
<div class="ttc" id="aCast_8h_html_ad3836a067c92103af8df5ad8f35959a6"><div class="ttname"><a href="Cast_8h.html#ad3836a067c92103af8df5ad8f35959a6">ref_cast_non_const</a></div><div class="ttdeci">#define ref_cast_non_const(T, r)</div><div class="ttdef"><b>Definition:</b> <a href="Cast_8h_source.html#l00055">Cast.h:55</a></div></div>
<div class="ttc" id="aEntreeSortie_8h_html_a1007c2f57f1c8fc7334a3f62aab08414"><div class="ttname"><a href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a></div><div class="ttdeci">#define Cout</div><div class="ttdef"><b>Definition:</b> <a href="EntreeSortie_8h_source.html#l00026">EntreeSortie.h:26</a></div></div>
<div class="ttc" id="aILU_8cpp_html_af795a7defe79185059ecd10e52645585"><div class="ttname"><a href="ILU_8cpp.html#af795a7defe79185059ecd10e52645585">MorseSymToMorse</a></div><div class="ttdeci">void MorseSymToMorse(const Matrice_Morse_Sym &amp;MS, Matrice_Morse &amp;M)</div><div class="ttdef"><b>Definition:</b> <a href="ILU_8cpp_source.html#l00049">ILU.cpp:49</a></div></div>
<div class="ttc" id="aOp__Grad__EF_8cpp_html_abc0897c211f7aa4541da5833388f868b"><div class="ttname"><a href="Op__Grad__EF_8cpp.html#abc0897c211f7aa4541da5833388f868b">test</a></div><div class="ttdeci">void test(const DoubleTab &amp;pression, DoubleTab &amp;grad, const Op_Grad_EF &amp;op)</div><div class="ttdef"><b>Definition:</b> <a href="Op__Grad__EF_8cpp_source.html#l00092">Op_Grad_EF.cpp:92</a></div></div>
<div class="ttc" id="aStatistiques_8h_html_a3c199d09f12b2698e7ad0894e2dd7835"><div class="ttname"><a href="Statistiques_8h.html#a3c199d09f12b2698e7ad0894e2dd7835">statistiques</a></div><div class="ttdeci">Statistiques &amp; statistiques()</div><div class="ttdef"><b>Definition:</b> <a href="Statistiques_8h_source.html#l00183">Statistiques.h:183</a></div></div>
<div class="ttc" id="aTRUSTVect__tools_8tpp_html_a60579f2b9c6e65cce8d02f72f2ee653e"><div class="ttname"><a href="TRUSTVect__tools_8tpp.html#a60579f2b9c6e65cce8d02f72f2ee653e">mp_norme_vect</a></div><div class="ttdeci">int mp_norme_vect(const TRUSTVect&lt; int &gt; &amp;vx)=delete</div><div class="ttdoc">forbidden</div></div>
<div class="ttc" id="aclassDeriv__Matrice__Base_html_a6d78a97ea87044a4b8c0cc2c6609f3e0"><div class="ttname"><a href="classDeriv__Matrice__Base.html#a6d78a97ea87044a4b8c0cc2c6609f3e0">Deriv_Matrice_Base::valeur</a></div><div class="ttdeci">const Matrice_Base &amp; valeur() const</div><div class="ttdef"><b>Definition:</b> <a href="Deriv__Matrice__Base_8h_source.html#l00021">Deriv_Matrice_Base.h:21</a></div></div>
<div class="ttc" id="aclassMatrice__Base_html_aed652de189a541ffa30f802e407696cd"><div class="ttname"><a href="classMatrice__Base.html#aed652de189a541ffa30f802e407696cd">Matrice_Base::ajouter_multvect</a></div><div class="ttdeci">virtual DoubleVect &amp; ajouter_multvect(const DoubleVect &amp;x, DoubleVect &amp;r) const</div><div class="ttdoc">Operation de multiplication-accumulation (saxpy) matrice vecteur. Operation: r = r + A*x.</div><div class="ttdef"><b>Definition:</b> <a href="Matrice__Base_8h_source.html#l00215">Matrice_Base.h:216</a></div></div>
<div class="ttc" id="aclassMatrice__Bloc__Sym_html"><div class="ttname"><a href="classMatrice__Bloc__Sym.html">Matrice_Bloc_Sym</a></div><div class="ttdef"><b>Definition:</b> <a href="Matrice__Bloc__Sym_8h_source.html#l00061">Matrice_Bloc_Sym.h:62</a></div></div>
<div class="ttc" id="aclassMatrice__Bloc__Sym_html_a1172616f6ad371ad161d740c0426e226"><div class="ttname"><a href="classMatrice__Bloc__Sym.html#a1172616f6ad371ad161d740c0426e226">Matrice_Bloc_Sym::BlocSymToMatMorseSym</a></div><div class="ttdeci">void BlocSymToMatMorseSym(Matrice_Morse_Sym &amp;mat) const</div><div class="ttdef"><b>Definition:</b> <a href="Matrice__Bloc__Sym_8cpp_source.html#l00142">Matrice_Bloc_Sym.cpp:142</a></div></div>
<div class="ttc" id="aclassMatrice__Bloc_html"><div class="ttname"><a href="classMatrice__Bloc.html">Matrice_Bloc</a></div><div class="ttdef"><b>Definition:</b> <a href="Matrice__Bloc_8h_source.html#l00048">Matrice_Bloc.h:49</a></div></div>
<div class="ttc" id="aclassMatrice__Bloc_html_a6ad236a4f9434ce657390294a874c5a0"><div class="ttname"><a href="classMatrice__Bloc.html#a6ad236a4f9434ce657390294a874c5a0">Matrice_Bloc::BlocToMatMorse</a></div><div class="ttdeci">void BlocToMatMorse(Matrice_Morse &amp;matrix) const</div><div class="ttdef"><b>Definition:</b> <a href="Matrice__Bloc_8cpp_source.html#l00627">Matrice_Bloc.cpp:627</a></div></div>
<div class="ttc" id="aclassMatrice__Bloc_html_a76a5691fecfea8b4dd877d2c449a7f21"><div class="ttname"><a href="classMatrice__Bloc.html#a76a5691fecfea8b4dd877d2c449a7f21">Matrice_Bloc::get_bloc</a></div><div class="ttdeci">virtual const Matrice &amp; get_bloc(int i, int j) const</div><div class="ttdef"><b>Definition:</b> <a href="Matrice__Bloc_8cpp_source.html#l00559">Matrice_Bloc.cpp:559</a></div></div>
<div class="ttc" id="aclassMatrice__Morse__Sym_html"><div class="ttname"><a href="classMatrice__Morse__Sym.html">Matrice_Morse_Sym</a></div><div class="ttdoc">Classe Matrice_Morse_Sym Represente une matrice M (creuse) symetrique stockee au format Morse Symetri...</div><div class="ttdef"><b>Definition:</b> <a href="Matrice__Morse__Sym_8h_source.html#l00036">Matrice_Morse_Sym.h:37</a></div></div>
<div class="ttc" id="aclassMatrice__Morse_html"><div class="ttname"><a href="classMatrice__Morse.html">Matrice_Morse</a></div><div class="ttdoc">Classe Matrice_Morse Represente une matrice M (creuse), non necessairement carree stockee au format M...</div><div class="ttdef"><b>Definition:</b> <a href="Matrice__Morse_8h_source.html#l00050">Matrice_Morse.h:51</a></div></div>
<div class="ttc" id="aclassMatrice__Morse_html_ae95f9ed88a8a3fc637cd2a705cead9c8"><div class="ttname"><a href="classMatrice__Morse.html#ae95f9ed88a8a3fc637cd2a705cead9c8">Matrice_Morse::dimensionner</a></div><div class="ttdeci">void dimensionner(int n, int nnz)</div><div class="ttdoc">Size the matrix with n lines and n columns and nnz zero-values coefficients.</div><div class="ttdef"><b>Definition:</b> <a href="Matrice__Morse_8cpp_source.html#l00338">Matrice_Morse.cpp:338</a></div></div>
<div class="ttc" id="aclassMatrice__Petsc_html"><div class="ttname"><a href="classMatrice__Petsc.html">Matrice_Petsc</a></div><div class="ttdef"><b>Definition:</b> <a href="Matrice__Petsc_8h_source.html#l00021">Matrice_Petsc.h:22</a></div></div>
<div class="ttc" id="aclassMatrice__Sym_html_a8d800deeea9f4aea802d15cd1c3c83f2"><div class="ttname"><a href="classMatrice__Sym.html#a8d800deeea9f4aea802d15cd1c3c83f2">Matrice_Sym::get_est_definie</a></div><div class="ttdeci">int get_est_definie() const</div><div class="ttdef"><b>Definition:</b> <a href="Matrice__Sym_8cpp_source.html#l00020">Matrice_Sym.cpp:20</a></div></div>
<div class="ttc" id="aclassObjet__U_html_a58289bb63283588d31dc69b87b3f1d55"><div class="ttname"><a href="classObjet__U.html#a58289bb63283588d31dc69b87b3f1d55">Objet_U::que_suis_je</a></div><div class="ttdeci">const Nom &amp; que_suis_je() const</div><div class="ttdoc">renvoie la chaine identifiant la classe.</div><div class="ttdef"><b>Definition:</b> <a href="Objet__U_8cpp_source.html#l00126">Objet_U.cpp:126</a></div></div>
<div class="ttc" id="aclassSolveurSys__base_html_aa44ff49115a0f04ac30317a7a06aad4d"><div class="ttname"><a href="classSolveurSys__base.html#aa44ff49115a0f04ac30317a7a06aad4d">SolveurSys_base::nouvelle_matrice</a></div><div class="ttdeci">int nouvelle_matrice() const</div><div class="ttdef"><b>Definition:</b> <a href="SolveurSys__base_8h_source.html#l00048">SolveurSys_base.h:48</a></div></div>
<div class="ttc" id="aclassSolveurSys__base_html_afcf2c99ad548e18c61cdade93a2e1978"><div class="ttname"><a href="classSolveurSys__base.html#afcf2c99ad548e18c61cdade93a2e1978">SolveurSys_base::fixer_nouvelle_matrice</a></div><div class="ttdeci">void fixer_nouvelle_matrice(int i)</div><div class="ttdef"><b>Definition:</b> <a href="SolveurSys__base_8h_source.html#l00049">SolveurSys_base.h:49</a></div></div>
<div class="ttc" id="aclassStatistiques_html_a0faf52d1b518f5b0b2177f22efcc222d"><div class="ttname"><a href="classStatistiques.html#a0faf52d1b518f5b0b2177f22efcc222d">Statistiques::end_count</a></div><div class="ttdeci">void end_count(const Stat_Counter_Id &amp;counter_id, int quantity=0, int count=1, bool track_comm=true)</div><div class="ttdoc">Arret du compteur counter_id. On ajoute quantity a la somme des 'quantity' (par defaut 0) stockees po...</div><div class="ttdef"><b>Definition:</b> <a href="Statistiques_8h_source.html#l00230">Statistiques.h:230</a></div></div>
<div class="ttc" id="aclassStatistiques_html_afce574b1c6577fa642d288f6a6bd0253"><div class="ttname"><a href="classStatistiques.html#afce574b1c6577fa642d288f6a6bd0253">Statistiques::get_time_now</a></div><div class="ttdeci">static double get_time_now()</div><div class="ttdoc">Cette methode renvoie un temps en secondes depuis une origine qui depend de la methode de mesure de l...</div><div class="ttdef"><b>Definition:</b> <a href="Statistiques_8cpp_source.html#l00242">Statistiques.cpp:242</a></div></div>
<div class="ttc" id="aclassStatistiques_html_affcd058809786918ed173aaf681d0843"><div class="ttname"><a href="classStatistiques.html#affcd058809786918ed173aaf681d0843">Statistiques::begin_count</a></div><div class="ttdeci">void begin_count(const Stat_Counter_Id &amp;counter_id, bool track_comm=true)</div><div class="ttdef"><b>Definition:</b> <a href="Statistiques_8h_source.html#l00212">Statistiques.h:212</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html"><div class="ttname"><a href="classTRUSTArray.html">TRUSTArray&lt; int &gt;</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a12099f562e7ea212f5f2cbffab78b8e8"><div class="ttname"><a href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">TRUSTArray::addr</a></div><div class="ttdeci">_TYPE_ * addr()</div><div class="ttdoc">!&lt;</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00181">TRUSTArray.tpp:181</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_ac03d475a56970fcc19cf624a0353e42e"><div class="ttname"><a href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">TRUSTArray::size_array</a></div><div class="ttdeci">int size_array() const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00195">TRUSTArray.tpp:195</a></div></div>
<div class="ttc" id="aclassTRUSTVect_html"><div class="ttname"><a href="classTRUSTVect.html">TRUSTVect&lt; double &gt;</a></div></div>
<div class="ttc" id="aclassTRUSTVect_html_a649c67413e5406c514742aa39dd791b9"><div class="ttname"><a href="classTRUSTVect.html#a649c67413e5406c514742aa39dd791b9">TRUSTVect::line_size</a></div><div class="ttdeci">int line_size() const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTVect_8tpp_source.html#l00064">TRUSTVect.tpp:64</a></div></div>
<div class="ttc" id="aclassTRUSTVect_html_a7df489e59381e175b1df9cef48355fe5"><div class="ttname"><a href="classTRUSTVect.html#a7df489e59381e175b1df9cef48355fe5">TRUSTVect::echange_espace_virtuel</a></div><div class="ttdeci">virtual void echange_espace_virtuel()</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTVect_8tpp_source.html#l00267">TRUSTVect.tpp:267</a></div></div>
<div class="ttc" id="astat__counters_8cpp_html_a1374e3dd206f6a5ece6b44542e3edc34"><div class="ttname"><a href="stat__counters_8cpp.html#a1374e3dd206f6a5ece6b44542e3edc34">solv_sys_petsc_counter_</a></div><div class="ttdeci">Stat_Counter_Id solv_sys_petsc_counter_</div><div class="ttdef"><b>Definition:</b> <a href="stat__counters_8cpp_source.html#l00044">stat_counters.cpp:44</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="TRUSTArray_8tpp_source.html#l00181">TRUSTArray&lt; _TYPE_ &gt;::addr()</a>, <a class="el" href="Matrice__Base_8h_source.html#l00216">Matrice_Base::ajouter_multvect()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00163">amgx_</a>, <a class="el" href="Statistiques_8h_source.html#l00212">Statistiques::begin_count()</a>, <a class="el" href="Matrice__Bloc__Sym_8cpp_source.html#l00142">Matrice_Bloc_Sym::BlocSymToMatMorseSym()</a>, <a class="el" href="Matrice__Bloc_8cpp_source.html#l00627">Matrice_Bloc::BlocToMatMorse()</a>, <a class="el" href="EntreeSortie_8h_source.html#l00025">Cerr</a>, <a class="el" href="EntreeSortie_8h_source.html#l00026">Cout</a>, <a class="el" href="Matrice__Morse_8cpp_source.html#l00338">Matrice_Morse::dimensionner()</a>, <a class="el" href="TRUSTVect_8tpp_source.html#l00267">TRUSTVect&lt; _TYPE_ &gt;::echange_espace_virtuel()</a>, <a class="el" href="Statistiques_8h_source.html#l00230">Statistiques::end_count()</a>, <a class="el" href="Process_8cpp_source.html#l00213">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="SolveurSys__base_8h_source.html#l00049">SolveurSys_base::fixer_nouvelle_matrice()</a>, <a class="el" href="Matrice__Bloc_8cpp_source.html#l00559">Matrice_Bloc::get_bloc()</a>, <a class="el" href="Matrice__Sym_8cpp_source.html#l00020">Matrice_Sym::get_est_definie()</a>, <a class="el" href="Statistiques_8cpp_source.html#l00242">Statistiques::get_time_now()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00162">gpu_</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00094">instance</a>, <a class="el" href="Process_8cpp_source.html#l00085">Process::je_suis_maitre()</a>, <a class="el" href="SolveurSys__base_8h_source.html#l00040">SolveurSys_base::limpr()</a>, <a class="el" href="TRUSTVect_8tpp_source.html#l00064">TRUSTVect&lt; _TYPE_ &gt;::line_size()</a>, <a class="el" href="ILU_8cpp_source.html#l00049">MorseSymToMorse()</a>, <a class="el" href="TRUSTVect__tools_8tpp.html#a60579f2b9c6e65cce8d02f72f2ee653e">mp_norme_vect()</a>, <a class="el" href="Objet__U_8cpp_source.html#l00304">Objet_U::nom_du_cas()</a>, <a class="el" href="SolveurSys__base_8h_source.html#l00048">SolveurSys_base::nouvelle_matrice()</a>, <a class="el" href="Process_8cpp_source.html#l00099">Process::nproc()</a>, <a class="el" href="Sortie__Fichier__base_8cpp_source.html#l00137">Sortie_Fichier_base::precision()</a>, <a class="el" href="Objet__U_8cpp_source.html#l00126">Objet_U::que_suis_je()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00161">read_matrix_</a>, <a class="el" href="Cast_8h_source.html#l00052">ref_cast</a>, <a class="el" href="Cast_8h_source.html#l00055">ref_cast_non_const</a>, <a class="el" href="Sortie__Fichier__base_8cpp_source.html#l00148">Sortie_Fichier_base::setf()</a>, <a class="el" href="TRUSTArray_8tpp_source.html#l00195">TRUSTArray&lt; _TYPE_ &gt;::size_array()</a>, <a class="el" href="stat__counters_8cpp_source.html#l00044">solv_sys_petsc_counter_</a>, <a class="el" href="Statistiques_8h_source.html#l00183">statistiques()</a>, <a class="el" href="Cast_8h_source.html#l00047">sub_type</a>, <a class="el" href="Op__Grad__EF_8cpp_source.html#l00092">test()</a>, <a class="el" href="Deriv__Matrice__Base_8h_source.html#l00021">Deriv_Matrice_Base::valeur()</a>, and <a class="el" href="Solv__Petsc_8h_source.html#l00171">verbose</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8h_source.html#l00050">resoudre_systeme()</a>.</p>

</div>
</div>
<a id="a4a56ff0c43aee8adfb40a7229b7fafe0" name="a4a56ff0c43aee8adfb40a7229b7fafe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a56ff0c43aee8adfb40a7229b7fafe0">&#9670;&nbsp;</a></span>resoudre_systeme() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Solv_Petsc::resoudre_systeme </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMatrice__Base.html">Matrice_Base</a> &amp;&#160;</td>
          <td class="paramname"><em>M</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="TRUSTTabs__forward_8h.html#ab90b6bf485b540422eb702cd1bc0b88c">DoubleVect</a> &amp;&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>niter_max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classSolveurSys__base.html#a8c42bf5160d595afada02074ccc7f91e">SolveurSys_base</a>.</p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00050">50</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   51</span>  {</div>
<div class="line"><span class="lineno">   52</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="classSolv__Petsc.html#ad03765ac5cfa376cc07d872e44c8bc71">resoudre_systeme</a>(M,A,B);</div>
<div class="line"><span class="lineno">   53</span>  };</div>
<div class="ttc" id="aclassSolv__Petsc_html_ad03765ac5cfa376cc07d872e44c8bc71"><div class="ttname"><a href="classSolv__Petsc.html#ad03765ac5cfa376cc07d872e44c8bc71">Solv_Petsc::resoudre_systeme</a></div><div class="ttdeci">int resoudre_systeme(const Matrice_Base &amp;, const DoubleVect &amp;, DoubleVect &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8cpp_source.html#l01573">Solv_Petsc.cpp:1573</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="Solv__Petsc_8cpp_source.html#l01573">resoudre_systeme()</a>.</p>

</div>
</div>
<a id="a43744d82ddacef9206d3ff4110d87a0e" name="a43744d82ddacef9206d3ff4110d87a0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43744d82ddacef9206d3ff4110d87a0e">&#9670;&nbsp;</a></span>self_cast() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSolv__Petsc.html">Solv_Petsc</a> &amp; Solv_Petsc::self_cast </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l00043">43</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>

</div>
</div>
<a id="a2342bd9d6104c4b2b3bad510c80dfa62" name="a2342bd9d6104c4b2b3bad510c80dfa62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2342bd9d6104c4b2b3bad510c80dfa62">&#9670;&nbsp;</a></span>self_cast() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSolv__Petsc.html">Solv_Petsc</a> &amp; Solv_Petsc::self_cast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classObjet__U.html">Objet_U</a> &amp;&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l00043">43</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>

</div>
</div>
<a id="a481f3c404780440eaa22fdefef4aecbe" name="a481f3c404780440eaa22fdefef4aecbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a481f3c404780440eaa22fdefef4aecbe">&#9670;&nbsp;</a></span>solveur_direct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Solv_Petsc::solveur_direct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classSolveurSys__base.html#aea9eaa90ad23a5dfcace9d6cd74de4ea">SolveurSys_base</a>.</p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00045">45</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>  {</div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">return</span> (<a class="code hl_enumeration" href="Solv__Petsc_8h.html#a5a0a487c7e0e114f4d92a88e2a5808b6">solveur_direct_</a>&gt;0);</div>
<div class="line"><span class="lineno">   48</span>  };</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa01b7d68d3a006f48be8f5175d966110" name="aa01b7d68d3a006f48be8f5175d966110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa01b7d68d3a006f48be8f5175d966110">&#9670;&nbsp;</a></span>taille_memoire()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned Solv_Petsc::taille_memoire </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classObjet__U.html#a0ee0946339f09a2c73c09fcda71c3be2">Objet_U</a>.</p>

<p>Reimplemented in <a class="el" href="classSolv__Petsc__GPU.html#a2ace891224abe8f811c87ccd69b7420f">Solv_Petsc_GPU</a>.</p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8cpp_source.html#l00043">43</a> of file <a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a45df7a11f976ea94cbb622ae8fcbd181" name="a45df7a11f976ea94cbb622ae8fcbd181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45df7a11f976ea94cbb622ae8fcbd181">&#9670;&nbsp;</a></span>allow_realloc_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Solv_Petsc::allow_realloc_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00169">169</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">create_solver()</a>.</p>

</div>
</div>
<a id="a4a4d7d01f00900e4c2ad771be5e6725b" name="a4a4d7d01f00900e4c2ad771be5e6725b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a4d7d01f00900e4c2ad771be5e6725b">&#9670;&nbsp;</a></span>amgx_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Solv_Petsc::amgx_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utilisation des solveurs GPU de AMGX. </p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00163">163</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8cpp_source.html#l01327">config()</a>, <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">create_solver()</a>, <a class="el" href="Solv__Petsc_8cpp_source.html#l01573">resoudre_systeme()</a>, and <a class="el" href="Solv__AMGX_8h_source.html#l00030">Solv_AMGX::Solv_AMGX()</a>.</p>

</div>
</div>
<a id="a7244784294055ac6cd06c16d5d7264e7" name="a7244784294055ac6cd06c16d5d7264e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7244784294055ac6cd06c16d5d7264e7">&#9670;&nbsp;</a></span>amgx_initialized_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Solv_Petsc::amgx_initialized_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Amgx initialise Options dev: </p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00165">165</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

</div>
</div>
<a id="a7a8cc27d5092ae780209ddb0059a2e29" name="a7a8cc27d5092ae780209ddb0059a2e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a8cc27d5092ae780209ddb0059a2e29">&#9670;&nbsp;</a></span>chaine_lue_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNom.html">Nom</a> Solv_Petsc::chaine_lue_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Chaine des mots cles lus. </p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00160">160</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__AMGX_8cpp_source.html#l00023">Solv_AMGX::printOn()</a>, <a class="el" href="Solv__Petsc_8cpp_source.html#l00046">printOn()</a>, and <a class="el" href="Solv__Petsc__GPU_8cpp_source.html#l00021">Solv_Petsc_GPU::printOn()</a>.</p>

</div>
</div>
<a id="af13cee34da6194e79945d3a950ee2ed0" name="af13cee34da6194e79945d3a950ee2ed0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af13cee34da6194e79945d3a950ee2ed0">&#9670;&nbsp;</a></span>clean_matrix_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Solv_Petsc::clean_matrix_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00170">170</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">create_solver()</a>.</p>

</div>
</div>
<a id="a5f603c229087d42c8bb2fee48290526f" name="a5f603c229087d42c8bb2fee48290526f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f603c229087d42c8bb2fee48290526f">&#9670;&nbsp;</a></span>gpu_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Solv_Petsc::gpu_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utilisation des solveurs GPU de PETSc. </p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00162">162</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">create_solver()</a>, <a class="el" href="Solv__Petsc_8cpp_source.html#l01573">resoudre_systeme()</a>, and <a class="el" href="Solv__Petsc__GPU_8h_source.html#l00025">Solv_Petsc_GPU::Solv_Petsc_GPU()</a>.</p>

</div>
</div>
<a id="a1d87d8f7f3be6d318bc343e11059cde2" name="a1d87d8f7f3be6d318bc343e11059cde2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d87d8f7f3be6d318bc343e11059cde2">&#9670;&nbsp;</a></span>ignore_new_nonzero_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Solv_Petsc::ignore_new_nonzero_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00167">167</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">create_solver()</a>.</p>

</div>
</div>
<a id="ad42f3219e151e30710029b64f9f3b5b7" name="ad42f3219e151e30710029b64f9f3b5b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad42f3219e151e30710029b64f9f3b5b7">&#9670;&nbsp;</a></span>info_obj</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> Solv_Petsc::info_obj</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00039">39</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

</div>
</div>
<a id="a7384c2681936b980c3fa393793e47e87" name="a7384c2681936b980c3fa393793e47e87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7384c2681936b980c3fa393793e47e87">&#9670;&nbsp;</a></span>instance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Solv_Petsc::instance =-1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Nombre d'instances en cours de la classe. </p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00094">94</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8cpp_source.html#l01573">resoudre_systeme()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00176">Solv_Petsc()</a>, and <a class="el" href="Solv__Petsc_8h_source.html#l00186">~Solv_Petsc()</a>.</p>

</div>
</div>
<a id="acc3475bd78fb4ceace2d10ff68de1dd8" name="acc3475bd78fb4ceace2d10ff68de1dd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc3475bd78fb4ceace2d10ff68de1dd8">&#9670;&nbsp;</a></span>numero_solveur</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Solv_Petsc::numero_solveur =0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compte les solveurs crees et utilises pour le prefix des options. </p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00095">95</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">create_solver()</a>.</p>

</div>
</div>
<a id="a9c92c7b3025ccb3f301489141a442211" name="a9c92c7b3025ccb3f301489141a442211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c92c7b3025ccb3f301489141a442211">&#9670;&nbsp;</a></span>read_matrix_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Solv_Petsc::read_matrix_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read constant matrix in a file. </p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00161">161</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">create_solver()</a>, <a class="el" href="Solv__Petsc_8h_source.html#l00056">read_matrix()</a>, <a class="el" href="Solv__Petsc_8cpp_source.html#l01573">resoudre_systeme()</a>, and <a class="el" href="Solv__Petsc_8h_source.html#l00176">Solv_Petsc()</a>.</p>

</div>
</div>
<a id="a895816a337ad6bc6fcdfb82037e6a837" name="a895816a337ad6bc6fcdfb82037e6a837"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895816a337ad6bc6fcdfb82037e6a837">&#9670;&nbsp;</a></span>rebuild_matrix_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Solv_Petsc::rebuild_matrix_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00168">168</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">create_solver()</a>.</p>

</div>
</div>
<a id="aa05df5e1a45d2e1edff22af140336a05" name="aa05df5e1a45d2e1edff22af140336a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05df5e1a45d2e1edff22af140336a05">&#9670;&nbsp;</a></span>solveur_direct_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Solv_Petsc::solveur_direct_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pour savoir si l'on manipule un solveur direct et non iteratif. </p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00159">159</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

</div>
</div>
<a id="a74dac05c9ed8acbc0642cfee0d750f4e" name="a74dac05c9ed8acbc0642cfee0d750f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74dac05c9ed8acbc0642cfee0d750f4e">&#9670;&nbsp;</a></span>verbose</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Solv_Petsc::verbose = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timing. </p>

<p class="definition">Definition at line <a class="el" href="Solv__Petsc_8h_source.html#l00171">171</a> of file <a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Solv__Petsc_8cpp_source.html#l00080">create_solver()</a>, and <a class="el" href="Solv__Petsc_8cpp_source.html#l01573">resoudre_systeme()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/Kernel/Math/SolvSys/<a class="el" href="Solv__Petsc_8h_source.html">Solv_Petsc.h</a></li>
<li>src/Kernel/Math/SolvSys/<a class="el" href="Solv__Petsc_8cpp_source.html">Solv_Petsc.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 29 2022 11:12:01 for TRUST by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
