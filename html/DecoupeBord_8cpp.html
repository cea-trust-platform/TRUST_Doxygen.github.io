<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Geometrie/DecoupeBord.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">src/Kernel/Geometrie/DecoupeBord.cpp File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="DecoupeBord_8h_source.html">DecoupeBord.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="EFichier_8h_source.html">EFichier.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Vect__ArrOfInt_8h_source.html">Vect_ArrOfInt.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Param_8h_source.html">Param.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="SFichier_8h_source.html">SFichier.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Parser__U_8h_source.html">Parser_U.h</a>&gt;</code><br/>
</div>
<p><a href="DecoupeBord_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DecoupeBord_8cpp.html#ac8f07144d72f473d62ac8bbdb2b3d8dc">create_listb_from_domaine2</a> (const <a class="el" href="classDomaine.html">Domaine</a> &amp;dom1, const <a class="el" href="classDomaine.html">Domaine</a> &amp;dom2, const <a class="el" href="classNoms.html">Noms</a> &amp;nomdec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DecoupeBord_8cpp.html#afa1802e58b547e59fafd9005a549b9c0">create_listb_from_xyz</a> (const <a class="el" href="classDomaine.html">Domaine</a> &amp;dom1, const <a class="el" href="classNoms.html">Noms</a> &amp;nomdec, const <a class="el" href="classNoms.html">Noms</a> &amp;expr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DecoupeBord_8cpp.html#ad532e38ac7f62c1bac91128170cac8f2">create_listb_naif</a> (const <a class="el" href="classDomaine.html">Domaine</a> &amp;dom1, const <a class="el" href="classNoms.html">Noms</a> &amp;nomdec, const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;nbdec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DecoupeBord_8cpp.html#a38be9186cae5df934a38ae713716f3b0">create_listb_geom</a> (const <a class="el" href="classDomaine.html">Domaine</a> &amp;dom1, const <a class="el" href="classNoms.html">Noms</a> &amp;nomdec, const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;nbdec)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DecoupeBord_8cpp.html#a77d83831acd9983ed1b67053d594985b">DecoupeBordbases</a> [1] = { &amp;( <a class="el" href="classInterprete__geometrique__base.html">Interprete_geometrique_base</a> ::info_obj)}</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac8f07144d72f473d62ac8bbdb2b3d8dc"></a><!-- doxytag: member="DecoupeBord.cpp::create_listb_from_domaine2" ref="ac8f07144d72f473d62ac8bbdb2b3d8dc" args="(const Domaine &amp;dom1, const Domaine &amp;dom2, const Noms &amp;nomdec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void create_listb_from_domaine2 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>dom1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>dom2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classNoms.html">Noms</a> &amp;&#160;</td>
          <td class="paramname"><em>nomdec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; centre de gravite face de fr1</p>
<p>&lt; centre de gravite face de fr2</p>
<p>&lt; Generation de Liste_faces_associees</p>
<p>&lt; centre de gravite de la face1 (non divise par nb_som_face)</p>
<p>&lt; Ecriture des fichiers de sortie </p>
</p>

<p>Definition at line <a class="el" href="DecoupeBord_8cpp_source.html#l00042">42</a> of file <a class="el" href="DecoupeBord_8cpp_source.html">DecoupeBord.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Sortie__Fichier__base_8cpp_source.html#l00126">Sortie_Fichier_base::close()</a>, <a class="el" href="Domaine_8h_source.html#l00500">Domaine::coord_sommets()</a>, <a class="el" href="IntTab_8h_source.html#l00233">IntTab::dimension()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Zone_8h_source.html#l00840">Zone::frontiere()</a>, <a class="el" href="Frontiere_8h_source.html#l00155">Frontiere::le_nom()</a>, <a class="el" href="Domaine_8h_source.html#l00204">Domaine::le_nom()</a>, <a class="el" href="Frontiere_8h_source.html#l00114">Frontiere::nb_faces()</a>, <a class="el" href="Zone_8h_source.html#l00618">Zone::nb_front_Cl()</a>, <a class="el" href="Zone_8cpp_source.html#l01300">Zone::rang_frontiere()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="Noms_8cpp_source.html#l00067">Noms::search()</a>, <a class="el" href="Vect_8h_source.html#l00026">VECT</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="DecoupeBord_8cpp_source.html#l00434">DecoupeBord::interpreter_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xs1=dom1.<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>();
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone1=dom1.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xs2=dom2.<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>();
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone2=dom2.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);

  <span class="keywordtype">int</span> nbfr=zone1.<a class="code" href="classZone.html#a9bf185c52ad1809d954bba670d9aed8a" title="Renvoie le nombre de bords + le nombre de raccords + le nombre de faces frontieres internes...">nb_front_Cl</a>();

  <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> listb(dom1.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>()+<span class="stringliteral">&quot;.boundary_list&quot;</span>);

  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;nbfr; l++)
    {
      <span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; fr1=zone1.<a class="code" href="classZone.html#ac338b119d4b0bc4f510a223b9086fe5e">frontiere</a>(l);
      <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nomfr1=fr1.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>();
      <span class="keywordtype">int</span> l2=zone2.<a class="code" href="classZone.html#a93fa9d16e258964f17006b5d92194dae">rang_frontiere</a>(nomfr1);

      <span class="keywordflow">if</span>(l2&lt;0)
        {
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; The domains &quot;</span> &lt;&lt; dom1.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; dom2.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt; <span class="stringliteral">&quot; do not have the same names of boundaries &quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;nomfr1&lt;&lt;<span class="stringliteral">&quot; not found in &quot;</span>&lt;&lt;dom1.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Make sure they were generated in a similar way (almost to the mesh size) &quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
          <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
        }
      <span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; fr2=zone2.<a class="code" href="classZone.html#ac338b119d4b0bc4f510a223b9086fe5e">frontiere</a>(l2);

      <span class="keywordflow">if</span> (nomdec.<a class="code" href="classNoms.html#abfb5d6c835f10f136fffb8c30c4fc2b5">search</a>(nomfr1)!=-1)
        {
          <span class="keywordtype">int</span> nbfaces1=fr1.<a class="code" href="classFrontiere.html#aa073fe9dbdddde59471ee7032b256aa2" title="Renvoie le nombre de faces de la frontiere.">nb_faces</a>();
          <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; sommets_face1 = (<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>,fr1)).les_sommets_des_faces();

          <span class="keywordtype">int</span> nbfaces2=fr2.<a class="code" href="classFrontiere.html#aa073fe9dbdddde59471ee7032b256aa2" title="Renvoie le nombre de faces de la frontiere.">nb_faces</a>();
          <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; sommets_face2 = (<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>,fr2)).les_sommets_des_faces();

          <a class="code" href="Vect_8h.html#adc7c7b04809c9aec2cb897cd2ef06378">VECT</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>) faces_associees(nbfaces2);

          <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> xg1(<a class="code" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>::dimension); <span class="comment">//!&lt; centre de gravite face de fr1</span>
<span class="comment"></span>          <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> xg2(<a class="code" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>::dimension); <span class="comment">//!&lt; centre de gravite face de fr2</span>
<span class="comment"></span>
          <span class="keywordtype">int</span> face1,face2,i,j;
          <span class="keywordtype">int</span> nb_som_face=sommets_face1.dimension(1);


          for (face1=0; face1&lt;nbfaces1; face1++) <span class="comment">//!&lt; Generation de Liste_faces_associees</span>
<span class="comment"></span>            {
              xg1=0.;

              <span class="keywordflow">for</span> (i=0; i&lt;nb_som_face; i++)
                <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; j++)
                  xg1(j)+=xs1(sommets_face1(face1,i),j);  <span class="comment">//!&lt; centre de gravite de la face1 (non divise par nb_som_face)</span>
<span class="comment"></span>
<span class="comment">// recherche de la face de dom2 correspondante</span>

              <span class="keywordtype">double</span> dist_min=1.e6;
              <span class="keywordtype">int</span>           face_min=-1;

              <span class="keywordflow">for</span> (face2=0; face2&lt;nbfaces2; face2++)
                {
                  xg2=0.;

                  <span class="keywordflow">for</span> (i=0; i&lt;nb_som_face; i++)
                    <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; j++)
                      xg2(j)+=xs2(sommets_face2(face2,i),j);  <span class="comment">//centre de gravite de la face2 (non divise par nb_som_face)</span>

                  <span class="keywordtype">double</span> dist=0.;

                  <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; j++) dist+=(xg2(j)-xg1(j))*(xg2(j)-xg1(j));

                  <span class="keywordflow">if</span>(dist&lt;dist_min)
                    {
                      dist_min=dist ;
                      face_min=face2;
                    }
                }

              faces_associees[face_min].set_smart_resize(1);
              faces_associees[face_min].append_array(face1);
            }

          <span class="keywordflow">for</span> (face2=0; face2&lt;nbfaces2; face2++) <span class="comment">//!&lt; Ecriture des fichiers de sortie</span>
<span class="comment"></span>            {
              <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nomfic(nomfr1);
              nomfic+=<span class="stringliteral">&quot;%&quot;</span>;
              <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> n;
              n=face2;
              nomfic+=n;
              <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> s(nomfic);
              s&lt;&lt;faces_associees[face2]&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
              listb&lt;&lt;nomfic&lt;&lt;finl;
              s.close();
            }

        }
    }

  listb.close();
}
</pre></div>
</div>
</div>
<a class="anchor" id="afa1802e58b547e59fafd9005a549b9c0"></a><!-- doxytag: member="DecoupeBord.cpp::create_listb_from_xyz" ref="afa1802e58b547e59fafd9005a549b9c0" args="(const Domaine &amp;dom1, const Noms &amp;nomdec, const Noms &amp;expr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void create_listb_from_xyz </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>dom1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classNoms.html">Noms</a> &amp;&#160;</td>
          <td class="paramname"><em>nomdec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classNoms.html">Noms</a> &amp;&#160;</td>
          <td class="paramname"><em>expr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; dimensionnement en dur qui devrait suffire</p>
<p>&lt; centre de gravite face de fr1</p>
<p>&lt; Generation de Liste_faces_associees</p>
<p>&lt; centre de gravite de la face1 (non divise par nb_som_face)</p>
<p>&lt; Ecriture des fichiers de sortie </p>
</p>

<p>Definition at line <a class="el" href="DecoupeBord_8cpp_source.html#l00140">140</a> of file <a class="el" href="DecoupeBord_8cpp_source.html">DecoupeBord.cpp</a>.</p>

<p>References <a class="el" href="Parser__U_8h_source.html#l00154">Parser_U::addVar()</a>, <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Sortie__Fichier__base_8cpp_source.html#l00126">Sortie_Fichier_base::close()</a>, <a class="el" href="Domaine_8h_source.html#l00500">Domaine::coord_sommets()</a>, <a class="el" href="IntTab_8h_source.html#l00233">IntTab::dimension()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="Parser__U_8h_source.html#l00120">Parser_U::eval()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Zone_8h_source.html#l00840">Zone::frontiere()</a>, <a class="el" href="Frontiere_8h_source.html#l00155">Frontiere::le_nom()</a>, <a class="el" href="Domaine_8h_source.html#l00204">Domaine::le_nom()</a>, <a class="el" href="Double_8h_source.html#l00180">max()</a>, <a class="el" href="Frontiere_8h_source.html#l00114">Frontiere::nb_faces()</a>, <a class="el" href="Zone_8h_source.html#l00618">Zone::nb_front_Cl()</a>, <a class="el" href="Parser__U_8h_source.html#l00111">Parser_U::parseString()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="Noms_8cpp_source.html#l00067">Noms::search()</a>, <a class="el" href="Parser__U_8h_source.html#l00145">Parser_U::setNbVar()</a>, <a class="el" href="Parser__U_8h_source.html#l00165">Parser_U::setString()</a>, <a class="el" href="Parser__U_8h_source.html#l00128">Parser_U::setVar()</a>, <a class="el" href="vect__impl_8h_source.html#l00057">vect_impl::size()</a>, <a class="el" href="Vect_8h_source.html#l00026">VECT</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="DecoupeBord_8cpp_source.html#l00285">create_listb_geom()</a>, and <a class="el" href="DecoupeBord_8cpp_source.html#l00434">DecoupeBord::interpreter_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> n1=nomdec.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>();
  <span class="keywordtype">int</span> n2=expr.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>();
  <span class="keywordflow">if</span>(n1!=n2)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;The numbers of boundaries in &#39;bords_a_decouper&#39; and &#39;condition_geometrique&#39; have to be the same&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }

  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xs1=dom1.<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>();
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone1=dom1.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
  <a class="code" href="classParser__U.html" title="classe Parser_U Version de la classe Parser, derivant de Objet_U. Elle permet lors de son utilisation...">Parser_U</a> parser;
  parser.<a class="code" href="classParser__U.html#a3ff44eabf641cbcea9ca59f84167e2c1">setNbVar</a>(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>);
  parser.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;x&quot;</span>);
  parser.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;y&quot;</span>);
  <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>==3)
    parser.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;z&quot;</span>);


  <span class="keywordtype">int</span> nbfr=zone1.<a class="code" href="classZone.html#a9bf185c52ad1809d954bba670d9aed8a" title="Renvoie le nombre de bords + le nombre de raccords + le nombre de faces frontieres internes...">nb_front_Cl</a>();

  <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> listb(dom1.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>()+<span class="stringliteral">&quot;.boundary_list&quot;</span>);

  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;nbfr; l++)
    {
      <span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; fr1=zone1.<a class="code" href="classZone.html#ac338b119d4b0bc4f510a223b9086fe5e">frontiere</a>(l);
      <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nomfr1=fr1.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>();

      <span class="keywordtype">int</span> inc=nomdec.<a class="code" href="classNoms.html#abfb5d6c835f10f136fffb8c30c4fc2b5">search</a>(nomfr1);
      <span class="keywordflow">if</span> (inc!=-1)
        {
          <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> expr2(expr[inc]);
          parser.<a class="code" href="classParser__U.html#a25d581b85688da391aa64117abf0a073">setString</a>(expr2);
          parser.<a class="code" href="classParser__U.html#a441c2fd29f5d4370c0c7b6a1cdfe56d5">parseString</a>();

          <span class="keywordtype">int</span> nbfaces1=fr1.<a class="code" href="classFrontiere.html#aa073fe9dbdddde59471ee7032b256aa2" title="Renvoie le nombre de faces de la frontiere.">nb_faces</a>();
          <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; sommets_face1 = (<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>,fr1)).les_sommets_des_faces();



          <a class="code" href="Vect_8h.html#adc7c7b04809c9aec2cb897cd2ef06378">VECT</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>) faces_associees(1000); <span class="comment">//!&lt; dimensionnement en dur qui devrait suffire</span>
<span class="comment"></span>
          <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> xg1(<a class="code" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>::dimension); <span class="comment">//!&lt; centre de gravite face de fr1</span>
<span class="comment"></span>
          <span class="keywordtype">int</span> face1,i,j;
          <span class="keywordtype">int</span> nb_som_face=sommets_face1.dimension(1);
          <span class="keywordtype">int</span> nb=0;


          for (face1=0; face1&lt;nbfaces1; face1++) <span class="comment">//!&lt; Generation de Liste_faces_associees</span>
<span class="comment"></span>            {
              xg1=0.;

              <span class="keywordflow">for</span> (i=0; i&lt;nb_som_face; i++)
                <span class="keywordflow">for</span> (j=0; j&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; j++)
                  xg1(j)+=xs1(sommets_face1(face1,i),j);  <span class="comment">//!&lt; centre de gravite de la face1 (non divise par nb_som_face)</span>
<span class="comment"></span>              xg1/=nb_som_face;
              parser.<a class="code" href="classParser__U.html#a13c377b32b6c3ced39a14f83f94a8828">setVar</a>(<span class="stringliteral">&quot;x&quot;</span>,xg1(0));

              parser.<a class="code" href="classParser__U.html#a13c377b32b6c3ced39a14f83f94a8828">setVar</a>(<span class="stringliteral">&quot;y&quot;</span>,xg1(1));
              <span class="keywordflow">if</span> (Objet_U::dimension==3)
                parser.<a class="code" href="classParser__U.html#a13c377b32b6c3ced39a14f83f94a8828">setVar</a>(<span class="stringliteral">&quot;z&quot;</span>,xg1(2));
              <span class="keywordtype">double</span> res=parser.<a class="code" href="classParser__U.html#a61605bc1b85e466f884f1739e811b6b4">eval</a>();
              <span class="keywordtype">int</span> face_min=(int)(res+0.5);
              nb=<a class="code" href="Double_8h.html#a1c45761573e6cbc97cfacac78d905016">max</a>(nb,face_min);
<span class="comment">// faces_associees.dimensionner_force(nb+1);</span>
              faces_associees[face_min].<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
              faces_associees[face_min].<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(face1);
<span class="comment">// Cerr &lt;&lt; face1 &lt;&lt; &quot; associee a &quot; &lt;&lt; face_min &lt;&lt; finl;</span>
            }

          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face2=0; face2&lt;nb+1; face2++) <span class="comment">//!&lt; Ecriture des fichiers de sortie</span>
<span class="comment"></span>            {
              <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nomfic(nomfr1);
              nomfic+=<span class="stringliteral">&quot;%&quot;</span>;
              <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> n;
              n=face2;
              nomfic+=n;
              <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> s(nomfic);
              s&lt;&lt;faces_associees[face2]&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
              listb&lt;&lt;nomfic&lt;&lt;finl;
              s.close();
            }
        }
    }

  listb.close();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a38be9186cae5df934a38ae713716f3b0"></a><!-- doxytag: member="DecoupeBord.cpp::create_listb_geom" ref="a38be9186cae5df934a38ae713716f3b0" args="(const Domaine &amp;dom1, const Noms &amp;nomdec, const ArrOfInt &amp;nbdec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void create_listb_geom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>dom1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classNoms.html">Noms</a> &amp;&#160;</td>
          <td class="paramname"><em>nomdec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>nbdec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; plan x=cste</p>
<p>&lt; plan y=cste</p>
<p>&lt; plan z=cste </p>
</p>

<p>Definition at line <a class="el" href="DecoupeBord_8cpp_source.html#l00285">285</a> of file <a class="el" href="DecoupeBord_8cpp_source.html">DecoupeBord.cpp</a>.</p>

<p>References <a class="el" href="Parser__U_8h_source.html#l00154">Parser_U::addVar()</a>, <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Domaine_8h_source.html#l00500">Domaine::coord_sommets()</a>, <a class="el" href="DecoupeBord_8cpp_source.html#l00140">create_listb_from_xyz()</a>, <a class="el" href="DoubleTab_8h_source.html#l00243">DoubleTab::dimension()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="Double_8h_source.html#l00218">dmax()</a>, <a class="el" href="Double_8h_source.html#l00237">dmin()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Zone_8h_source.html#l00840">Zone::frontiere()</a>, <a class="el" href="Frontiere_8h_source.html#l00155">Frontiere::le_nom()</a>, <a class="el" href="Domaine_8h_source.html#l00577">Domaine::les_sommets()</a>, <a class="el" href="Frontiere_8h_source.html#l00114">Frontiere::nb_faces()</a>, <a class="el" href="Zone_8h_source.html#l00618">Zone::nb_front_Cl()</a>, <a class="el" href="Parser__U_8h_source.html#l00111">Parser_U::parseString()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="Noms_8cpp_source.html#l00067">Noms::search()</a>, <a class="el" href="Parser__U_8h_source.html#l00145">Parser_U::setNbVar()</a>, <a class="el" href="Parser__U_8h_source.html#l00165">Parser_U::setString()</a>, <a class="el" href="vect__impl_8h_source.html#l00057">vect_impl::size()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="DecoupeBord_8cpp_source.html#l00434">DecoupeBord::interpreter_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span>((<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>)!=3)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;nb_parts_geom has been defined for dimension 3 only&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }

  <span class="keywordtype">int</span> n1=nomdec.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>();
  <span class="keywordtype">int</span> n2=nbdec.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  <span class="keywordflow">if</span>((2*n1)!=n2)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The &#39;nb_parts_geom&#39; has to be twice the  number of boundaries in &#39;bords_a_decouper&#39; : check your data file&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }

  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xs=dom1.<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>();
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone=dom1.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
  <span class="keywordtype">int</span> nbfr=zone.<a class="code" href="classZone.html#a9bf185c52ad1809d954bba670d9aed8a" title="Renvoie le nombre de bords + le nombre de raccords + le nombre de faces frontieres internes...">nb_front_Cl</a>();

  <a class="code" href="classParser__U.html" title="classe Parser_U Version de la classe Parser, derivant de Objet_U. Elle permet lors de son utilisation...">Parser_U</a> parser;
  parser.<a class="code" href="classParser__U.html#a3ff44eabf641cbcea9ca59f84167e2c1">setNbVar</a>(3);
  parser.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;x&quot;</span>);
  parser.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;y&quot;</span>);
  parser.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;z&quot;</span>);
  <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> expr_tot(n1);

  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;nbfr; l++)
    {
      <span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; fr=zone.<a class="code" href="classZone.html#ac338b119d4b0bc4f510a223b9086fe5e">frontiere</a>(l);
      <span class="keywordtype">int</span> nbfaces=fr.<a class="code" href="classFrontiere.html#aa073fe9dbdddde59471ee7032b256aa2" title="Renvoie le nombre de faces de la frontiere.">nb_faces</a>();
      <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nomfr=fr.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>();
      <span class="keywordtype">int</span> inc=nomdec.<a class="code" href="classNoms.html#abfb5d6c835f10f136fffb8c30c4fc2b5">search</a>(nomfr);
      <span class="keywordflow">if</span> (inc!=-1)
        {
          <span class="keywordtype">int</span> nb1=nbdec[2*inc];
          <span class="keywordtype">int</span> nb2=nbdec[2*inc+1];

          <span class="keywordflow">if</span> (nbfaces!=0)
            {

<span class="comment">// int nbfaces=fr.nb_faces();</span>
              <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; sommets_face = (<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>,fr)).les_sommets_des_faces();
              <span class="keywordtype">int</span> nb_som_face=dom1.<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>().<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);

              <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> coord_min(3);
              coord_min=1e6;
              <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> coord_max(3);
              coord_max=-1e6;

              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=0; face&lt;nbfaces; face++)
                {
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_som_face; i++)
                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;3; j++)
                      {
                        coord_min(j) = <a class="code" href="Double_8h.html#a04e03b7aad55468a8b8eae326087338a">dmin</a>(coord_min(j),xs(sommets_face(face,i),j));
                        coord_max(j) = <a class="code" href="Double_8h.html#aec69e4c89b77badf104ae9d6ae393b2c">dmax</a>(coord_max(j),xs(sommets_face(face,i),j));
                      }
                }

              <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> expr=<span class="stringliteral">&quot;0.+&quot;</span>;

              <span class="keywordflow">if</span>(coord_min(0)==coord_max(0)) <span class="comment">//!&lt; plan x=cste</span>
<span class="comment"></span>                {
                  <span class="keywordtype">double</span> dy=(coord_max(1)-coord_min(1))/nb1;
                  <span class="keywordtype">double</span> dz=(coord_max(2)-coord_min(2))/nb2;

                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=1; j&lt;nb1; j++)
                    {
                      <span class="keywordtype">double</span> pas=j*dy;
                      expr+=<span class="stringliteral">&quot;(y&gt;&quot;</span>;
                      expr+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(pas);
                      expr+=<span class="stringliteral">&quot;)+&quot;</span>;
                    }
                  expr+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(nb1);
                  expr+=<span class="stringliteral">&quot;*(&quot;</span>;
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=1; k&lt;nb2; k++)
                    {
                      <span class="keywordtype">double</span> pas=k*dz;
                      expr+=<span class="stringliteral">&quot;(z&gt;&quot;</span>;
                      expr+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(pas);
                      expr+=<span class="stringliteral">&quot;)+&quot;</span>;
                    }
                }
              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (coord_min(1)==coord_max(1)) <span class="comment">//!&lt; plan y=cste</span>
<span class="comment"></span>                {
                  <span class="keywordtype">double</span> dx=(coord_max(0)-coord_min(0))/nb1;
                  <span class="keywordtype">double</span> dz=(coord_max(2)-coord_min(2))/nb2;

                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;nb1; i++)
                    {
                      <span class="keywordtype">double</span> pas=i*dx;
                      expr+=<span class="stringliteral">&quot;(x&gt;&quot;</span>;
                      expr+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(pas);
                      expr+=<span class="stringliteral">&quot;)+&quot;</span>;
                    }
                  expr+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(nb1);
                  expr+=<span class="stringliteral">&quot;*(&quot;</span>;
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=1; k&lt;nb2; k++)
                    {
                      <span class="keywordtype">double</span> pas=k*dz;
                      expr+=<span class="stringliteral">&quot;(z&gt;&quot;</span>;
                      expr+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(pas);
                      expr+=<span class="stringliteral">&quot;)+&quot;</span>;
                    }
                }
              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (coord_min(2)==coord_max(2)) <span class="comment">//!&lt; plan z=cste</span>
<span class="comment"></span>                {
                  <span class="keywordtype">double</span> dx=(coord_max(0)-coord_min(0))/nb1;
                  <span class="keywordtype">double</span> dy=(coord_max(1)-coord_min(1))/nb2;

                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=1; i&lt;nb1; i++)
                    {
                      <span class="keywordtype">double</span> pas=i*dx;
                      expr+=<span class="stringliteral">&quot;(x&gt;&quot;</span>;
                      expr+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(pas);
                      expr+=<span class="stringliteral">&quot;)+&quot;</span>;
                    }
                  expr+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(nb1);
                  expr+=<span class="stringliteral">&quot;*(&quot;</span>;
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=1; j&lt;nb2; j++)
                    {
                      <span class="keywordtype">double</span> pas=j*dy;
                      expr+=<span class="stringliteral">&quot;(y&gt;&quot;</span>;
                      expr+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(pas);
                      expr+=<span class="stringliteral">&quot;)+&quot;</span>;
                    }
                }
              <span class="keywordflow">else</span>
                {
                  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;the boundary &quot;</span>&lt;&lt;nomfr&lt;&lt;<span class="stringliteral">&quot; is not plane : nb_parts_geom can&#39;t be used&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
                  <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
                }

              expr+=<span class="stringliteral">&quot;0.)&quot;</span>;
              <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;fontiere : &quot;</span>&lt;&lt;nomfr&lt;&lt;<span class="stringliteral">&quot; -  expression : &quot;</span> &lt;&lt;expr&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
              parser.<a class="code" href="classParser__U.html#a25d581b85688da391aa64117abf0a073">setString</a>(expr);
              parser.<a class="code" href="classParser__U.html#a441c2fd29f5d4370c0c7b6a1cdfe56d5">parseString</a>();
              expr_tot[inc]=expr;

            }<span class="comment">//if (nbfaces!=0)</span>
        }<span class="comment">//if (inc!=-1)</span>
    }<span class="comment">//for (int l=0;l&lt;nbfr;l++)</span>

  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;create_listb_from_xyz ....  &quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
  <a class="code" href="DecoupeBord_8cpp.html#afa1802e58b547e59fafd9005a549b9c0">create_listb_from_xyz</a>(dom1,nomdec,expr_tot);
  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot; ... ok &quot;</span>&lt;&lt;finl;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad532e38ac7f62c1bac91128170cac8f2"></a><!-- doxytag: member="DecoupeBord.cpp::create_listb_naif" ref="ad532e38ac7f62c1bac91128170cac8f2" args="(const Domaine &amp;dom1, const Noms &amp;nomdec, const ArrOfInt &amp;nbdec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void create_listb_naif </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>dom1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classNoms.html">Noms</a> &amp;&#160;</td>
          <td class="paramname"><em>nomdec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>nbdec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DecoupeBord_8cpp_source.html#l00230">230</a> of file <a class="el" href="DecoupeBord_8cpp_source.html">DecoupeBord.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Sortie__Fichier__base_8cpp_source.html#l00126">Sortie_Fichier_base::close()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Frontiere_8h_source.html#l00155">Frontiere::le_nom()</a>, <a class="el" href="Domaine_8h_source.html#l00204">Domaine::le_nom()</a>, <a class="el" href="Double_8h_source.html#l00199">min()</a>, <a class="el" href="Frontiere_8h_source.html#l00114">Frontiere::nb_faces()</a>, <a class="el" href="Zone_8h_source.html#l00618">Zone::nb_front_Cl()</a>, <a class="el" href="Noms_8cpp_source.html#l00067">Noms::search()</a>, <a class="el" href="vect__impl_8h_source.html#l00057">vect_impl::size()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="DecoupeBord_8cpp_source.html#l00434">DecoupeBord::interpreter_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> n1=nomdec.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>();
  <span class="keywordtype">int</span> n2=nbdec.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  <span class="keywordflow">if</span>(n1!=n2)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The numbers of boundaries in &#39;bords_a_decouper&#39; and &#39;nb_parts_naif&#39; are not the same : check your data file&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }

  <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> listb(dom1.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>()+<span class="stringliteral">&quot;.boundary_list&quot;</span>);
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone=dom1.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
  <span class="keywordtype">int</span> nbfr=zone.<a class="code" href="classZone.html#a9bf185c52ad1809d954bba670d9aed8a" title="Renvoie le nombre de bords + le nombre de raccords + le nombre de faces frontieres internes...">nb_front_Cl</a>();
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> l=0; l&lt;nbfr; l++)
    {
      <span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; fr=zone.frontiere(l);
      <span class="keywordtype">int</span> nbfaces=fr.<a class="code" href="classFrontiere.html#aa073fe9dbdddde59471ee7032b256aa2" title="Renvoie le nombre de faces de la frontiere.">nb_faces</a>();
      <span class="keywordtype">int</span> compt=0;
      <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nomfr=fr.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>();
      <span class="keywordtype">int</span> inc=nomdec.<a class="code" href="classNoms.html#abfb5d6c835f10f136fffb8c30c4fc2b5">search</a>(nomfr);
      <span class="keywordflow">if</span> (inc!=-1)
        {
          <span class="keywordtype">int</span> nb=nbdec[inc];
          nb=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(nb,nbfaces);
          <span class="keywordflow">if</span> (nbfaces!=0)
            {
              <span class="keywordtype">int</span> nc=nbfaces/nb;

<span class="comment">// Cerr&lt;&lt;nbfaces&lt;&lt;finl;</span>
              <span class="keywordflow">if</span> ((nb*nc)&lt;nbfaces) nc++;
<span class="comment">// Cerr&lt;&lt;&quot;nc &quot;&lt;&lt;nc&lt;&lt;finl;</span>
              <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;nomfr&lt;&lt;<span class="stringliteral">&quot; splitting in &quot;</span>&lt;&lt;nb&lt;&lt;<span class="stringliteral">&quot; parts, average number of faces &quot;</span>&lt;&lt;nbfaces/(1.*nb)&lt;&lt;finl;
<span class="comment">// Cerr&lt;&lt;&quot;nombre moyen de faces  &quot;&lt;&lt;nc&lt;&lt;&quot; bord decoupe &quot;&lt;&lt;nomfr&lt;&lt;&quot; en &quot;&lt;&lt;nbfaces/nc&lt;&lt;&quot; parties&quot;&lt;&lt;finl;</span>
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb; i++)
                {
                  <span class="keywordflow">if</span> (i==nb-1) nc=nbfaces-compt;
                  <a class="code" href="classIntVect.html">IntVect</a> p(nc);
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;nc; j++) p[j]=compt++;
                  <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nomfic(nomfr);
                  nomfic+=<span class="stringliteral">&quot;%&quot;</span>;
                  <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> n;
                  n=i;
                  nomfic+=n;
                  <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> s(nomfic);
                  s&lt;&lt;p&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
                  listb&lt;&lt;nomfic&lt;&lt;finl;
                  s.close();
                }
            }

        }
    }
  listb.close();
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a77d83831acd9983ed1b67053d594985b"></a><!-- doxytag: member="DecoupeBord.cpp::DecoupeBordbases" ref="a77d83831acd9983ed1b67053d594985b" args="[1]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a>* <a class="el" href="DecoupeBord_8cpp.html#a77d83831acd9983ed1b67053d594985b">DecoupeBordbases</a>[1] = { &amp;( <a class="el" href="classInterprete__geometrique__base.html">Interprete_geometrique_base</a> ::info_obj)}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DecoupeBord_8cpp_source.html#l00030">30</a> of file <a class="el" href="DecoupeBord_8cpp_source.html">DecoupeBord.cpp</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:49 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
