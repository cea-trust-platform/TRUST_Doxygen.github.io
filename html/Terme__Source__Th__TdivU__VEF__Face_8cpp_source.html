<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/VEF/Sources/Terme_Source_Th_TdivU_VEF_Face.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/VEF/Sources/Terme_Source_Th_TdivU_VEF_Face.cpp</div>  </div>
</div>
<div class="contents">
<a href="Terme__Source__Th__TdivU__VEF__Face_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Terme_Source_Th_TdivU_VEF_Face.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/VEF/Sources</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/patch_168/1</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Terme__Source__Th__TdivU__VEF__Face_8h.html">Terme_Source_Th_TdivU_VEF_Face.h</a>&gt;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Probleme__base_8h.html">Probleme_base.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Convection__Diffusion__std_8h.html">Convection_Diffusion_std.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Op__Conv__Muscl__VEF__Face_8h.html">Op_Conv_Muscl_VEF_Face.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="EChaine_8h.html">EChaine.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Milieu__base_8h.html">Milieu_base.h</a>&gt;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a><a class="code" href="Terme__Source__Th__TdivU__VEF__Face_8cpp.html#aa6ba01633310272374dcd587983e5ca8">00031</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html" title="class Terme_Source_Th_TdivU_VEF_Face">Terme_Source_Th_TdivU_VEF_Face</a>,<span class="stringliteral">&quot;Source_Th_TdivU_VEF_P1NC&quot;</span>,<a class="code" href="classSource__base.html" title="classe Source_base Un objet Source_base est un terme apparaissant au second membre d&#39;une equation...">Source_base</a>);
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="comment"></span>
<a name="l00035"></a>00035 <span class="comment">////!&lt; printOn </span>
<a name="l00036"></a>00036 <span class="comment"></span><span class="comment">//</span>
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a502d60cb8536c5e2e5668c974eed982c">00038</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a502d60cb8536c5e2e5668c974eed982c" title="NE FAIT RIEN A surcharger dans les classes derivees. Imprime la source sur un flot de sortie...">Terme_Source_Th_TdivU_VEF_Face::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; s )<span class="keyword"> const</span>
<a name="l00039"></a>00039 <span class="keyword"></span>{
<a name="l00040"></a>00040   <span class="keywordflow">return</span> s &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() ;
<a name="l00041"></a>00041 }
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="comment"></span>
<a name="l00044"></a>00044 <span class="comment">////!&lt; readOn </span>
<a name="l00045"></a>00045 <span class="comment"></span><span class="comment">//</span>
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#ad8d1ef805fe00a0918c0808fe017c3d7">00047</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#ad8d1ef805fe00a0918c0808fe017c3d7" title="NE FAIT RIEN A surcharger dans les classes derivees. Lecture d&#39;un terme source sur un flot d&#39;entree...">Terme_Source_Th_TdivU_VEF_Face::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; s )
<a name="l00048"></a>00048 {
<a name="l00049"></a>00049   <span class="keywordflow">return</span> s ;
<a name="l00050"></a>00050 }
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a183025720514c7e4bc0ee271a5169718">00052</a> <span class="keywordtype">void</span> <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a183025720514c7e4bc0ee271a5169718">Terme_Source_Th_TdivU_VEF_Face::associer_pb</a>(<span class="keyword">const</span> <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; pb)
<a name="l00053"></a>00053 {
<a name="l00054"></a>00054   <span class="keywordtype">int</span> nb_eqn = pb.<a class="code" href="classProbleme__base.html#abefceb0ac0d0b35d42a4daaa82a95f59">nombre_d_equations</a>();
<a name="l00055"></a>00055   <span class="keywordtype">int</span> ok_vit=0;
<a name="l00056"></a>00056   <span class="keywordtype">int</span> ok_temp=0;
<a name="l00057"></a>00057   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_eqn; i++)
<a name="l00058"></a>00058     {
<a name="l00059"></a>00059       <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; eqn = pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(i);
<a name="l00060"></a>00060       <span class="keywordflow">if</span>  (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classNavier__Stokes__std.html" title="classe Navier_Stokes_std Cette classe porte les termes de l&#39;equation de la dynamique pour un fluide s...">Navier_Stokes_std</a>,eqn))
<a name="l00061"></a>00061         {
<a name="l00062"></a>00062           ok_vit = 1;
<a name="l00063"></a>00063         }
<a name="l00064"></a>00064       <span class="keywordflow">if</span>  (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classConvection__Diffusion__std.html" title="classe Convection_Diffusion_std Cette classe est la base des equations modelisant le transport d&#39;un s...">Convection_Diffusion_std</a>,eqn))
<a name="l00065"></a>00065         {
<a name="l00066"></a>00066           ok_temp = 1;
<a name="l00067"></a>00067         }
<a name="l00068"></a>00068     }
<a name="l00069"></a>00069 
<a name="l00070"></a>00070   <span class="keywordflow">if</span> (!ok_vit)
<a name="l00071"></a>00071     {
<a name="l00072"></a>00072       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error TRUST in &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()  &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00073"></a>00073       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Hydraulic equation not found&quot;</span> &lt;&lt; finl;
<a name="l00074"></a>00074       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00075"></a>00075     }
<a name="l00076"></a>00076   <span class="keywordflow">if</span> (!ok_temp)
<a name="l00077"></a>00077     {
<a name="l00078"></a>00078       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error TRUST in &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()  &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00079"></a>00079       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Thermal equation not found&quot;</span> &lt;&lt; finl;
<a name="l00080"></a>00080       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00081"></a>00081     }
<a name="l00082"></a>00082 }
<a name="l00083"></a><a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a700604171e3bcabba6b9c93b90b51b8b">00083</a> <span class="keywordtype">void</span> <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a700604171e3bcabba6b9c93b90b51b8b">Terme_Source_Th_TdivU_VEF_Face::associer_eqn_t</a>()
<a name="l00084"></a>00084 {
<a name="l00085"></a>00085   <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a4baafedb60b8af1efb3417d1c5f4b5ce">eqn_t</a> = <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>();
<a name="l00086"></a>00086 }
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a6fd2743c55474858c1701b5252516118">00088</a> <span class="keywordtype">void</span> <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a6fd2743c55474858c1701b5252516118">Terme_Source_Th_TdivU_VEF_Face::associer_zones</a>(<span class="keyword">const</span> <a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; zone_dis,
<a name="l00089"></a>00089                                                     <span class="keyword">const</span> <a class="code" href="classZone__Cl__dis.html" title="classe Zone_Cl_dis Classe generique de la hierarchie des conditions aux limites discretisees. Un objet Zone_Cl_dis peut referencer n&#39;importe quel derivant de Zone_Cl_dis_base. La plupart des methodes appellent les methodes de l&#39;objet Probleme sous-jacent via la methode valeur() declaree grace a la macro Declare_deriv().;">Zone_Cl_dis</a>&amp; zone_Cl_dis)
<a name="l00090"></a>00090 {
<a name="l00091"></a>00091 }
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a4e678866d226ce56c196380ca5328c92">00093</a> <span class="keywordtype">void</span> <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a4e678866d226ce56c196380ca5328c92" title="Met a jour les references internes a l&#39;objet Source_base. Appelle 2 methodes virtuelles pures protege...">Terme_Source_Th_TdivU_VEF_Face::completer</a>()
<a name="l00094"></a>00094 {
<a name="l00095"></a>00095   <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a4e678866d226ce56c196380ca5328c92" title="Met a jour les references internes a l&#39;objet Source_base. Appelle 2 methodes virtuelles pures protege...">Source_base::completer</a>();
<a name="l00096"></a>00096   <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a700604171e3bcabba6b9c93b90b51b8b">associer_eqn_t</a>();
<a name="l00097"></a>00097 
<a name="l00098"></a>00098   <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a1dd449fe0fc917660ea8f2385b3ce92e">zone_cl_mod_</a>=0;
<a name="l00099"></a>00099 }
<a name="l00100"></a><a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a5fad5efd097837ebc793de33a5eba076">00100</a> <span class="keywordtype">void</span> <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a5fad5efd097837ebc793de33a5eba076">Terme_Source_Th_TdivU_VEF_Face::modifier_zone_cl</a>()
<a name="l00101"></a>00101 {
<a name="l00102"></a>00102   <span class="keywordflow">if</span> (<a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a1dd449fe0fc917660ea8f2385b3ce92e">zone_cl_mod_</a>) <span class="keywordflow">return</span>;
<a name="l00103"></a>00103   <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a1dd449fe0fc917660ea8f2385b3ce92e">zone_cl_mod_</a>=1;
<a name="l00104"></a>00104   <a class="code" href="classZone__Cl__dis.html" title="classe Zone_Cl_dis Classe generique de la hierarchie des conditions aux limites discretisees. Un objet Zone_Cl_dis peut referencer n&#39;importe quel derivant de Zone_Cl_dis_base. La plupart des methodes appellent les methodes de l&#39;objet Probleme sous-jacent via la methode valeur() declaree grace a la macro Declare_deriv().;">Zone_Cl_dis</a>&amp; ma_zonecl=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__Cl__dis.html" title="classe Zone_Cl_dis Classe generique de la hierarchie des conditions aux limites discretisees. Un objet Zone_Cl_dis peut referencer n&#39;importe quel derivant de Zone_Cl_dis_base. La plupart des methodes appellent les methodes de l&#39;objet Probleme sous-jacent via la methode valeur() declaree grace a la macro Declare_deriv().;">Zone_Cl_dis</a>,<a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a0010f22e9430622c7e236dfd61a56b53">ma_zonecl_</a>);
<a name="l00105"></a>00105   ma_zonecl=<a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a4baafedb60b8af1efb3417d1c5f4b5ce">eqn_t</a>.<a class="code" href="classRef__Equation__base.html#a7bb6fb60cb55bef0eef1b0e8718300a4">valeur</a>().<a class="code" href="classEquation__base.html#af265fe0ea30868eb2176a0c887e4efab" title="Renvoie la zone des conditions aux limite discretisee associee a l&#39;equation.">zone_Cl_dis</a>();
<a name="l00106"></a>00106   <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a29d1af22b8779ed34751f452545a672c">zonecl_sa</a>=<a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a4baafedb60b8af1efb3417d1c5f4b5ce">eqn_t</a>.<a class="code" href="classRef__Equation__base.html#a7bb6fb60cb55bef0eef1b0e8718300a4">valeur</a>().<a class="code" href="classEquation__base.html#af265fe0ea30868eb2176a0c887e4efab" title="Renvoie la zone des conditions aux limite discretisee associee a l&#39;equation.">zone_Cl_dis</a>().<a class="code" href="classDeriv__Zone__Cl__dis__base.html#a6b56880f00b604e1f13970ec6d5bc077">valeur</a>();
<a name="l00107"></a>00107   <a class="code" href="classConds__lim.html">Conds_lim</a>&amp; condlims=ma_zonecl.<a class="code" href="classZone__Cl__dis.html#aafbd0525703e23200e31796bcd4fcac6" title="Appel a l&#39;objet sous-jacent Renvoie la i-ieme condition aux limites. (version const)">les_conditions_limites</a>();
<a name="l00108"></a>00108   <a class="code" href="classConds__lim.html">Conds_lim</a>&amp; condlims_sa=<a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a29d1af22b8779ed34751f452545a672c">zonecl_sa</a>.<a class="code" href="classRef__Zone__Cl__dis__base.html#af819ff89339b747793277e38ad6f7cc1">valeur</a>().<a class="code" href="classZone__Cl__dis__base.html#af75e0ed7786863e4d333bfb29d67c323" title="Renvoie la i-ieme condition aux limites. (version const)">les_conditions_limites</a>();
<a name="l00109"></a>00109   <span class="keywordtype">int</span> nb=condlims.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>();
<a name="l00110"></a>00110 
<a name="l00111"></a>00111   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb*0; i++)
<a name="l00112"></a>00112     {
<a name="l00113"></a>00113       condlims[i]= condlims_sa[i];
<a name="l00114"></a>00114 <span class="comment">// Cerr&lt;&lt;(int)( &amp;condlims[i].valeur())&lt;&lt;&quot; addr &quot;&lt;&lt;(int) &amp;condlims_sa[i].valeur()&lt;&lt;finl;</span>
<a name="l00115"></a>00115     }
<a name="l00116"></a>00116   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb; i++)
<a name="l00117"></a>00117     {
<a name="l00118"></a>00118       <a class="code" href="classCond__lim__base.html" title="classe Cond_lim_base Classe de base pour la hierarchie des classes qui representent les differentes c...">Cond_lim_base</a>&amp; la_cl=condlims_sa[i].valeur();
<a name="l00119"></a>00119       <span class="keywordtype">int</span> modif=0;
<a name="l00120"></a>00120       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> new_cl;
<a name="l00121"></a>00121       <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classPeriodique.html" title="classe Periodique Cette classe represente une condition aux limites periodique. On peut specifier une...">Periodique</a>,la_cl)||<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classSymetrie.html" title="classe Symetrie Sur les faces de symetrie on a les proprietes suivantes: - composante normale de la v...">Symetrie</a>,la_cl))
<a name="l00122"></a>00122         {
<a name="l00123"></a>00123           ;
<a name="l00124"></a>00124         }
<a name="l00125"></a>00125       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classNeumann__homogene.html" title="Classe Neumann_homogene Cette classe est la classe de base de la hierarchie des conditions aux limite...">Neumann_homogene</a>,la_cl)||<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classNeumann.html" title="Classe Neumann Cette classe est la classe de base de la hierarchie des conditions aux limites de type...">Neumann</a>,la_cl)||<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classNeumann__val__ext.html" title="Classe Neumann_val_ext Cette classe est la classe de base de la hierarchie des conditions aux limites...">Neumann_val_ext</a>,la_cl)||<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classEchange__impose__base.html" title="classe Echange_impose_base: Cette condition limite sert uniquement pour l&#39;equation d&#39;energie...">Echange_impose_base</a>,la_cl))
<a name="l00126"></a>00126         {
<a name="l00127"></a>00127           modif=1;
<a name="l00128"></a>00128           new_cl=<span class="stringliteral">&quot;Frontiere_ouverte T_ext Champ_front_uniforme 1 1&quot;</span>;
<a name="l00129"></a>00129         }
<a name="l00130"></a>00130       <span class="keywordflow">else</span> <span class="keywordflow">if</span>  (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classDirichlet__homogene.html" title="Classe Dirichlet_homogene Cette classe est la classe de base de la hierarchie des conditions aux limi...">Dirichlet_homogene</a>,la_cl)||<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classDirichlet.html" title="classe Dirichlet Cette classe est la classe de base de la hierarchie des conditions aux limites de ty...">Dirichlet</a>,la_cl))
<a name="l00131"></a>00131         {
<a name="l00132"></a>00132           modif=1;
<a name="l00133"></a>00133           new_cl=<span class="stringliteral">&quot;Frontiere_ouverte_temperature_imposee Champ_front_uniforme 1 1&quot;</span>;
<a name="l00134"></a>00134         }
<a name="l00135"></a>00135       <span class="keywordflow">else</span>
<a name="l00136"></a>00136         {
<a name="l00137"></a>00137           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;surcharge de la cl &quot;</span>&lt;&lt;la_cl.<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()&lt;&lt;<span class="stringliteral">&quot;pas codee dans &quot;</span>&lt;&lt;__FILE__&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00138"></a>00138           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00139"></a>00139         }
<a name="l00140"></a>00140       <span class="keywordflow">if</span> (modif)
<a name="l00141"></a>00141         {
<a name="l00142"></a>00142           <a class="code" href="classEChaine.html" title="Une entree dont la source est une chaine de caracteres. Le constructeur cree sa propre copie de la ch...">EChaine</a> cons(<span class="stringliteral">&quot;Frontiere_ouverte T_ext Champ_front_uniforme 1 1&quot;</span>);
<a name="l00143"></a>00143 <span class="comment">// EChaine cons(&quot;symetrie&quot;);</span>
<a name="l00144"></a>00144           <a class="code" href="classFrontiere__dis__base.html" title="classe Frontiere_dis_base Classe representant une frontiere discretisee. Les objets Frontiere_dis_bas...">Frontiere_dis_base</a>&amp; frdis=condlims[i].valeur().frontiere_dis();
<a name="l00145"></a>00145           cons&gt;&gt;condlims[i];
<a name="l00146"></a>00146           <a class="code" href="classCond__lim__base.html" title="classe Cond_lim_base Classe de base pour la hierarchie des classes qui representent les differentes c...">Cond_lim_base</a>&amp; cl_m=condlims[i].valeur();
<a name="l00147"></a>00147 
<a name="l00148"></a>00148           cl_m.<a class="code" href="classCond__lim__base.html#a64f59bb4967d6bee01b42fa006797266" title="Associe la frontiere a l&#39;objet. L&#39;objet Frontiere_dis_base est en fait associe au membre Champ_front ...">associer_fr_dis_base</a>(frdis);
<a name="l00149"></a>00149           cl_m.<a class="code" href="classCond__lim__base.html#ac3d1bcf8652b65f67a1c201082536c2f" title="NE FAIT RIEN A surcharger dans les classes derivees.">completer</a>();
<a name="l00150"></a>00150 
<a name="l00151"></a>00151         }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     }
<a name="l00154"></a>00154 }
<a name="l00155"></a>00155 
<a name="l00156"></a><a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#ab510d6227a7be6f82b82a1db68075894">00156</a> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#ab510d6227a7be6f82b82a1db68075894">Terme_Source_Th_TdivU_VEF_Face::ajouter</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; resu)<span class="keyword"> const</span>
<a name="l00157"></a>00157 <span class="keyword"></span>{
<a name="l00158"></a>00158   <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html" title="class Terme_Source_Th_TdivU_VEF_Face">Terme_Source_Th_TdivU_VEF_Face</a>&amp; me_non_const=<a class="code" href="Cast_8h.html#ad3836a067c92103af8df5ad8f35959a6">ref_cast_non_const</a>(<a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html" title="class Terme_Source_Th_TdivU_VEF_Face">Terme_Source_Th_TdivU_VEF_Face</a>,*<span class="keyword">this</span>);
<a name="l00159"></a>00159   me_non_const.<a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a5fad5efd097837ebc793de33a5eba076">modifier_zone_cl</a>();
<a name="l00160"></a>00160   <span class="keywordflow">if</span>(resu.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() &gt; 1)
<a name="l00161"></a>00161     {
<a name="l00162"></a>00162       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()  &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00163"></a>00163       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The source term Source_Th_TdivU_VEF_P1NC is only dedicated to thermal equation&quot;</span> &lt;&lt; finl;
<a name="l00164"></a>00164       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00165"></a>00165     }
<a name="l00166"></a>00166   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; temperature=<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a28ef3d411d12cb5684ac5e799efb7d24" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs au temps courant.">valeurs</a>();
<a name="l00167"></a>00167   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces = temperature.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0);
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 <span class="comment">// Calcul de TdivU d&#39;apres le schema de convection</span>
<a name="l00170"></a>00170   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> temp(temperature);
<a name="l00171"></a>00171   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> TdivU(resu);
<a name="l00172"></a>00172   TdivU=0.;
<a name="l00173"></a>00173   temp=1.;
<a name="l00174"></a>00174   <span class="keyword">const</span> <a class="code" href="classOperateur.html" title="classe Operateur Classe generique de la hierarchie des operateurs. Cette classe generique est particu...">Operateur</a>&amp; Op_conv=<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#a8406eaa10e61a27e9a2e1cacea253c3e">operateur</a>(1);
<a name="l00175"></a>00175   <a class="code" href="classOperateur__base.html" title="classe Operateur_base Classe est la base de la hierarchie des objets representant un operateur utilis...">Operateur_base</a>&amp; optype=<a class="code" href="Cast_8h.html#ad3836a067c92103af8df5ad8f35959a6">ref_cast_non_const</a>(<a class="code" href="classOperateur__base.html" title="classe Operateur_base Classe est la base de la hierarchie des objets representant un operateur utilis...">Operateur_base</a>,Op_conv.<a class="code" href="classOperateur.html#a1f3e24efd9b54d05821e731fe4bd6027">l_op_base</a>());
<a name="l00176"></a>00176 <span class="comment">// We save the boundary fluxes:</span>
<a name="l00177"></a>00177   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> flux_bords_backup = optype.<a class="code" href="classOperateur__base.html#ab547b37ace0f04931f6f09fcfa8fae0c">flux_bords</a>();
<a name="l00178"></a>00178   optype.<a class="code" href="classOperateur__base.html#abeae344e1c003e50fe421afdffa50d4e">associer_zone_cl_dis</a>(<a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a0010f22e9430622c7e236dfd61a56b53">ma_zonecl_</a>);
<a name="l00179"></a>00179   Op_conv.<a class="code" href="classOperateur.html#accdf61cf1e33fb42e9eb06f1c501422b">ajouter</a>(temp,TdivU);
<a name="l00180"></a>00180   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face&lt;nb_faces; face++)
<a name="l00181"></a>00181     {
<a name="l00182"></a>00182       TdivU[face]*=temperature(face);
<a name="l00183"></a>00183     }
<a name="l00184"></a>00184   <span class="keywordflow">if</span> (<a class="code" href="DoubleVect_8cpp.html#adcc29a107bd1ad77828da317da293203">mp_max_vect</a>(TdivU)==0)
<a name="l00185"></a>00185     {
<a name="l00186"></a>00186       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00187"></a>00187       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;******* Warning *******&quot;</span> &lt;&lt; finl;
<a name="l00188"></a>00188       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You are using source term TdivU into one transport equation.&quot;</span> &lt;&lt; finl;
<a name="l00189"></a>00189       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;It seems useless cause TdivU=0&quot;</span> &lt;&lt; finl;
<a name="l00190"></a>00190       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;May be the advection operator is calculated with the non-conservative formulation.&quot;</span> &lt;&lt; finl;
<a name="l00191"></a>00191     }
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 <span class="comment">// la partie en TdivU est un bout de l&#39;operateur de convection -&gt; il doit etre multiplie par rhoCp</span>
<a name="l00194"></a>00194   <span class="keyword">const</span> <span class="keywordtype">double</span> rhoCp = <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#a181e9899e2d927eb14c835d9d9334f46">milieu</a>().<a class="code" href="classMilieu__base.html#a174d49eab1db7dfce83578b227f4e702" title="Renvoie la capacite calorifique du milieu. (version const)">capacite_calorifique</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0, 0) * <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#a181e9899e2d927eb14c835d9d9334f46">milieu</a>().<a class="code" href="classMilieu__base.html#a46a9a4bfb046ed22d0f267b6c052889f" title="Renvoie la masse volumique du milieu. (version const)">masse_volumique</a>().<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>()(0, 0);
<a name="l00195"></a>00195   TdivU *= rhoCp;
<a name="l00196"></a>00196   resu-=TdivU;
<a name="l00197"></a>00197 <span class="comment">// on remet la bonne zone_cl_dis</span>
<a name="l00198"></a>00198   optype.<a class="code" href="classOperateur__base.html#abeae344e1c003e50fe421afdffa50d4e">associer_zone_cl_dis</a>(<a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#a29d1af22b8779ed34751f452545a672c">zonecl_sa</a>.<a class="code" href="classRef__Zone__Cl__dis__base.html#af819ff89339b747793277e38ad6f7cc1">valeur</a>());
<a name="l00199"></a>00199 <span class="comment">// We reset flux_bords</span>
<a name="l00200"></a>00200   optype.<a class="code" href="classOperateur__base.html#ab547b37ace0f04931f6f09fcfa8fae0c">flux_bords</a>() = flux_bords_backup;
<a name="l00201"></a>00201   <span class="keywordflow">return</span> resu;
<a name="l00202"></a>00202 }
<a name="l00203"></a>00203 
<a name="l00204"></a><a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#afe90d639a84a0682e04a4b634bfd9e8b">00204</a> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#afe90d639a84a0682e04a4b634bfd9e8b">Terme_Source_Th_TdivU_VEF_Face::calculer</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; resu)<span class="keyword"> const</span>
<a name="l00205"></a>00205 <span class="keyword"></span>{
<a name="l00206"></a>00206   resu = 0.;
<a name="l00207"></a>00207   <span class="keywordflow">return</span> <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#ab510d6227a7be6f82b82a1db68075894">ajouter</a>(resu);
<a name="l00208"></a>00208 }
<a name="l00209"></a>00209 
<a name="l00210"></a><a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#ac0fac5904d1a2bca6919c7c227937f64">00210</a> <span class="keywordtype">void</span> <a class="code" href="classTerme__Source__Th__TdivU__VEF__Face.html#ac0fac5904d1a2bca6919c7c227937f64" title="NE FAIT RIEN A surcharger dans les classes derivees. Mise a jour en temps du terme source...">Terme_Source_Th_TdivU_VEF_Face::mettre_a_jour</a>(<span class="keywordtype">double</span> temps)
<a name="l00211"></a>00211 {
<a name="l00212"></a>00212   ;
<a name="l00213"></a>00213 }
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:44 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
