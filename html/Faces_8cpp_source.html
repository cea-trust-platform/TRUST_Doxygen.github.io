<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Geometrie/Faces.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Geometrie/Faces.cpp</div>  </div>
</div>
<div class="contents">
<a href="Faces_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2019, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Faces.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Geometrie</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/40</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Faces_8h.html">Faces.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Faces2_8h.html">Faces2.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="DomaineAxi1d_8h.html">DomaineAxi1d.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="communications_8h.html">communications.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Linear__algebra__tools__impl_8h.html">Linear_algebra_tools_impl.h</a>&gt;</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 
<a name="l00030"></a><a class="code" href="Faces_8cpp.html#af9482ea201e90c4abbda053cc0c0fd1d">00030</a> <a class="code" href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a>(<a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>,<span class="stringliteral">&quot;Faces&quot;</span>,<a class="code" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>);
<a name="l00031"></a><a class="code" href="classFaces.html#a4bafbfc55496d38a274dfc034c45f27f">00031</a> <a class="code" href="classFaces.html#a4bafbfc55496d38a274dfc034c45f27f">Faces::Faces</a>():nb_som_face(0) { }
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="comment">// Precondition:</span>
<a name="l00035"></a>00035 <span class="comment">// Parametre: Sortie&amp; s</span>
<a name="l00036"></a>00036 <span class="comment">// Signification: un flot de sortie</span>
<a name="l00037"></a>00037 <span class="comment">// Valeurs par defaut:</span>
<a name="l00038"></a>00038 <span class="comment">// Contraintes:</span>
<a name="l00039"></a>00039 <span class="comment">// Acces: entree/sortie</span>
<a name="l00040"></a>00040 <span class="comment">// Exception:</span>
<a name="l00041"></a>00041 <span class="comment">// Effets de bord:</span>
<a name="l00042"></a>00042 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00043"></a>00043 <span class="comment">//</span>
<a name="l00044"></a>00044 <span class="comment">//</span>
<a name="l00045"></a>00045 <span class="comment">//</span>
<a name="l00046"></a>00046 <span class="comment">//</span>
<a name="l00047"></a>00047 <span class="comment">//</span>
<a name="l00048"></a>00048 <span class="comment">//</span>
<a name="l00049"></a>00049 <span class="comment">//</span><span class="comment"></span>
<a name="l00050"></a>00050 <span class="comment">//! Ecrit les faces sur un flots de sortie.&lt;br&gt;On ecrit:&lt;br&gt;- le type des faces&lt;br&gt;- les sommets&lt;br&gt;- les voisins&lt;br&gt;On ecrit juste le type Faces::vide_0D, si le nombre de&lt;br&gt;faces est nul.</span>
<a name="l00051"></a>00051 <span class="comment"></span><span class="comment">/** \return Sortie\&amp;&lt;br&gt;</span>
<a name="l00052"></a>00052 <span class="comment">Signification: le flot de sortie modifie&lt;br&gt;</span>
<a name="l00053"></a>00053 <span class="comment">Contraintes: */</span>
<a name="l00054"></a><a class="code" href="classFaces.html#a6e6433449cc7fb187a67160c3ddfa923">00054</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classFaces.html#a6e6433449cc7fb187a67160c3ddfa923" title="Ecrit les faces sur un flots de sortie. On ecrit: - le type des faces - les sommets - les voisins On ...">Faces::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; s )<span class="keyword"> const</span>
<a name="l00055"></a>00055 <span class="keyword"></span>{
<a name="l00056"></a>00056   <span class="keywordflow">if</span>(<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>()==0)
<a name="l00057"></a>00057     s &lt;&lt; <span class="stringliteral">&quot;vide_0D&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00058"></a>00058   <span class="keywordflow">else</span>
<a name="l00059"></a>00059     {
<a name="l00060"></a>00060       s &lt;&lt; (<a class="code" href="classFaces.html#afc77159e92d83fed0244262ead77d111" title="Renvoie un objet de Type_Face representant le type de nom specifie. Les noms de types reconnus sont: ...">type</a>(<a class="code" href="classFaces.html#a9d53215bfc5454b87c02ee38a7bdc4b1">type_face_</a>)) &lt;&lt; finl;
<a name="l00061"></a>00061       s &lt;&lt;  <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>;
<a name="l00062"></a>00062       s &lt;&lt; <a class="code" href="classFaces.html#a2fdabb6146cce8324b4d3d7982f968c8">faces_voisins</a>;
<a name="l00063"></a>00063     }
<a name="l00064"></a>00064   <span class="keywordflow">return</span> s ;
<a name="l00065"></a>00065 }
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <span class="comment">// Precondition:</span>
<a name="l00068"></a>00068 <span class="comment">// Parametre: Sortie&amp; s</span>
<a name="l00069"></a>00069 <span class="comment">// Signification: un flot de sortie</span>
<a name="l00070"></a>00070 <span class="comment">// Valeurs par defaut:</span>
<a name="l00071"></a>00071 <span class="comment">// Contraintes:</span>
<a name="l00072"></a>00072 <span class="comment">// Acces: entree/sortie</span>
<a name="l00073"></a>00073 <span class="comment">// Exception:</span>
<a name="l00074"></a>00074 <span class="comment">// Effets de bord:</span>
<a name="l00075"></a>00075 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00076"></a>00076 <span class="comment">//</span>
<a name="l00077"></a>00077 <span class="comment">//</span>
<a name="l00078"></a>00078 <span class="comment">//</span>
<a name="l00079"></a>00079 <span class="comment">//</span>
<a name="l00080"></a>00080 <span class="comment">//</span>
<a name="l00081"></a>00081 <span class="comment">//</span>
<a name="l00082"></a>00082 <span class="comment">//</span><span class="comment"></span>
<a name="l00083"></a>00083 <span class="comment">//! Ecrit les faces sur un flots de sortie.&lt;br&gt;On ecrit:&lt;br&gt;- le type des faces&lt;br&gt;- les sommets&lt;br&gt;- les voisins&lt;br&gt;On ecrit juste le type Faces::vide_0D, si le nombre de&lt;br&gt;faces est nul.</span>
<a name="l00084"></a>00084 <span class="comment"></span><span class="comment">/** \return Sortie\&amp;&lt;br&gt;</span>
<a name="l00085"></a>00085 <span class="comment">Signification: le flot de sortie modifie&lt;br&gt;</span>
<a name="l00086"></a>00086 <span class="comment">Contraintes: */</span>
<a name="l00087"></a><a class="code" href="classFaces.html#aec4166000e8b3e750f888a2856bdbbf1">00087</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classFaces.html#aec4166000e8b3e750f888a2856bdbbf1" title="Ecrit les faces sur un flots de sortie. On ecrit: - le type des faces - les sommets - les voisins On ...">Faces::ecrit</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; s )<span class="keyword"> const</span>
<a name="l00088"></a>00088 <span class="keyword"></span>{
<a name="l00089"></a>00089   <span class="keywordflow">if</span>(<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>()==0)
<a name="l00090"></a>00090     s &lt;&lt; <span class="stringliteral">&quot;vide_0D&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00091"></a>00091   <span class="keywordflow">else</span>
<a name="l00092"></a>00092     {
<a name="l00093"></a>00093       s &lt;&lt; (<a class="code" href="classFaces.html#afc77159e92d83fed0244262ead77d111" title="Renvoie un objet de Type_Face representant le type de nom specifie. Les noms de types reconnus sont: ...">type</a>(<a class="code" href="classFaces.html#a9d53215bfc5454b87c02ee38a7bdc4b1">type_face_</a>)) &lt;&lt; finl;
<a name="l00094"></a>00094       <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>.<a class="code" href="classIntTab.html#a8f3db153c10005d44b92c7e3c1fdd62b" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(s);
<a name="l00095"></a>00095       <a class="code" href="classFaces.html#a2fdabb6146cce8324b4d3d7982f968c8">faces_voisins</a>.<a class="code" href="classIntTab.html#a8f3db153c10005d44b92c7e3c1fdd62b" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(s);
<a name="l00096"></a>00096     }
<a name="l00097"></a>00097   <span class="keywordflow">return</span> s ;
<a name="l00098"></a>00098 }
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 <span class="comment">// Precondition:</span>
<a name="l00101"></a>00101 <span class="comment">// Parametre: Entree&amp; s</span>
<a name="l00102"></a>00102 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00103"></a>00103 <span class="comment">// Valeurs par defaut:</span>
<a name="l00104"></a>00104 <span class="comment">// Contraintes:</span>
<a name="l00105"></a>00105 <span class="comment">// Acces: entree/sortie</span>
<a name="l00106"></a>00106 <span class="comment">// Exception:</span>
<a name="l00107"></a>00107 <span class="comment">// Effets de bord:</span>
<a name="l00108"></a>00108 <span class="comment">// Postcondition:</span>
<a name="l00109"></a>00109 <span class="comment">//</span>
<a name="l00110"></a>00110 <span class="comment">//</span>
<a name="l00111"></a>00111 <span class="comment">//</span>
<a name="l00112"></a>00112 <span class="comment">//</span>
<a name="l00113"></a>00113 <span class="comment">//</span>
<a name="l00114"></a>00114 <span class="comment">//</span>
<a name="l00115"></a>00115 <span class="comment">//</span>
<a name="l00116"></a>00116 <span class="comment">//</span><span class="comment"></span>
<a name="l00117"></a>00117 <span class="comment">//! Lit les specifications d&#39;un objet face a&lt;br&gt;partir d&#39;un flot d&#39;entree.&lt;br&gt;On lit:&lt;br&gt;- le type des faces&lt;br&gt;- les sommets&lt;br&gt;- les voisins&lt;br&gt;Et on reordonne les sommets.&lt;br&gt;Cree un objets Faces avec 0 faces si le type est &quot;vide_0D&quot;</span>
<a name="l00118"></a>00118 <span class="comment"></span><span class="comment">/** \return Entree\&amp;&lt;br&gt;</span>
<a name="l00119"></a>00119 <span class="comment">Signification: le flot d&#39;entree modifie&lt;br&gt;</span>
<a name="l00120"></a>00120 <span class="comment">Contraintes: */</span>
<a name="l00121"></a><a class="code" href="classFaces.html#a23bc51e6eeae342ac1536f9f48c32381">00121</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classFaces.html#a23bc51e6eeae342ac1536f9f48c32381" title="Lit les specifications d&#39;un objet face a partir d&#39;un flot d&#39;entree. On lit: - le type des faces - les...">Faces::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; s)
<a name="l00122"></a>00122 {
<a name="l00123"></a>00123   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> typ;
<a name="l00124"></a>00124   s &gt;&gt; typ;
<a name="l00125"></a>00125   <a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(typ);
<a name="l00126"></a>00126   <span class="keywordflow">if</span> (typ != <span class="stringliteral">&quot;vide_0D&quot;</span>)
<a name="l00127"></a>00127     {
<a name="l00128"></a>00128 <span class="comment">// Les sommets et faces ne sont ecrits que si le type n&#39;est pas vide:</span>
<a name="l00129"></a>00129       s &gt;&gt; <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>;
<a name="l00130"></a>00130       s &gt;&gt; <a class="code" href="classFaces.html#a2fdabb6146cce8324b4d3d7982f968c8">faces_voisins</a>;
<a name="l00131"></a>00131     }
<a name="l00132"></a>00132   <span class="keywordflow">else</span>
<a name="l00133"></a>00133     {
<a name="l00134"></a>00134 <span class="comment">// pour ne pas planter betement la suite qui suppose nb_dim()==2 et line_size_ &gt; 0</span>
<a name="l00135"></a>00135       <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0,1);
<a name="l00136"></a>00136       <a class="code" href="classFaces.html#a2fdabb6146cce8324b4d3d7982f968c8">faces_voisins</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0,2);
<a name="l00137"></a>00137     }
<a name="l00138"></a>00138   <span class="keywordflow">return</span> s;
<a name="l00139"></a>00139 }
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 <span class="comment">// Precondition:</span>
<a name="l00143"></a>00143 <span class="comment">// Parametre: Entree&amp; s</span>
<a name="l00144"></a>00144 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00145"></a>00145 <span class="comment">// Valeurs par defaut:</span>
<a name="l00146"></a>00146 <span class="comment">// Contraintes:</span>
<a name="l00147"></a>00147 <span class="comment">// Acces: entree/sortie</span>
<a name="l00148"></a>00148 <span class="comment">// Exception:</span>
<a name="l00149"></a>00149 <span class="comment">// Effets de bord:</span>
<a name="l00150"></a>00150 <span class="comment">// Postcondition:</span>
<a name="l00151"></a>00151 <span class="comment">//</span>
<a name="l00152"></a>00152 <span class="comment">//</span>
<a name="l00153"></a>00153 <span class="comment">//</span>
<a name="l00154"></a>00154 <span class="comment">//</span>
<a name="l00155"></a>00155 <span class="comment">//</span>
<a name="l00156"></a>00156 <span class="comment">//</span>
<a name="l00157"></a>00157 <span class="comment">//</span>
<a name="l00158"></a>00158 <span class="comment">//</span><span class="comment"></span>
<a name="l00159"></a>00159 <span class="comment">//! Lit les specifications d&#39;un objet face a&lt;br&gt;partir d&#39;un flot d&#39;entree.&lt;br&gt;On lit:&lt;br&gt;- le type des faces&lt;br&gt;- les sommets&lt;br&gt;- les voisins&lt;br&gt;Et on reordonne les sommets.&lt;br&gt;Ne fait rien si le type lu est &quot;vide_0D&quot;</span>
<a name="l00160"></a>00160 <span class="comment"></span><span class="comment">/** \return Entree\&amp;&lt;br&gt;</span>
<a name="l00161"></a>00161 <span class="comment">Signification: le flot d&#39;entree modifie&lt;br&gt;</span>
<a name="l00162"></a>00162 <span class="comment">Contraintes: */</span>
<a name="l00163"></a><a class="code" href="classFaces.html#ad94beff6d4103e64c1452cd13d1b3d6e">00163</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classFaces.html#ad94beff6d4103e64c1452cd13d1b3d6e" title="Lit les specifications d&#39;un objet face a partir d&#39;un flot d&#39;entree. On lit: - le type des faces - les...">Faces::lit</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; s)
<a name="l00164"></a>00164 {
<a name="l00165"></a>00165   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> typ;
<a name="l00166"></a>00166   s &gt;&gt; typ;
<a name="l00167"></a>00167   <span class="keywordflow">if</span>(typ!=<span class="stringliteral">&quot;vide_0D&quot;</span>)
<a name="l00168"></a>00168     {
<a name="l00169"></a>00169       <a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(typ);
<a name="l00170"></a>00170       <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>.<a class="code" href="classIntTab.html#a49f17e879dc8defd3061fe05307fa2dc" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(s);
<a name="l00171"></a>00171       <a class="code" href="classFaces.html#a2fdabb6146cce8324b4d3d7982f968c8">faces_voisins</a>.<a class="code" href="classIntTab.html#a49f17e879dc8defd3061fe05307fa2dc" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(s);
<a name="l00172"></a>00172       <a class="code" href="classFaces.html#a4007a9edeba60b1933d61221d18854e8" title="Reordonne les faces. (on ne reordonne que les quadrangles)">reordonner</a>();
<a name="l00173"></a>00173     }
<a name="l00174"></a>00174   <span class="keywordflow">else</span>
<a name="l00175"></a>00175     {
<a name="l00176"></a>00176       <a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(typ);
<a name="l00177"></a>00177       <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0,0);
<a name="l00178"></a>00178       <a class="code" href="classFaces.html#a2fdabb6146cce8324b4d3d7982f968c8">faces_voisins</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0,2);
<a name="l00179"></a>00179     }
<a name="l00180"></a>00180   <span class="keywordflow">return</span> s ;
<a name="l00181"></a>00181 }
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 <span class="comment">// Precondition:</span>
<a name="l00184"></a>00184 <span class="comment">// Parametre: Motcle&amp; mot</span>
<a name="l00185"></a>00185 <span class="comment">// Signification: le mot clef representant un type de face</span>
<a name="l00186"></a>00186 <span class="comment">// Valeurs par defaut:</span>
<a name="l00187"></a>00187 <span class="comment">// Contraintes: reference constante</span>
<a name="l00188"></a>00188 <span class="comment">// les valeurs de type reconnus sont:</span>
<a name="l00189"></a>00189 <span class="comment">// &quot;vide_0D&quot;</span>
<a name="l00190"></a>00190 <span class="comment">// &quot;point_1D&quot;</span>
<a name="l00191"></a>00191 <span class="comment">// &quot;point_1D_axi&quot;</span>
<a name="l00192"></a>00192 <span class="comment">// &quot;segment_2D&quot;</span>
<a name="l00193"></a>00193 <span class="comment">// &quot;triangle_3D&quot;</span>
<a name="l00194"></a>00194 <span class="comment">// &quot;quadrangle_3D&quot;</span>
<a name="l00195"></a>00195 <span class="comment">// &quot;segment_2D_axi&quot;</span>
<a name="l00196"></a>00196 <span class="comment">// &quot;quadrangle_3D_axi&quot;</span>
<a name="l00197"></a>00197 <span class="comment">// &quot;quadrilatere_2D_axi&quot;</span>
<a name="l00198"></a>00198 <span class="comment">// Acces: entree</span>
<a name="l00199"></a>00199 <span class="comment">// Exception: type de face non reconnu</span>
<a name="l00200"></a>00200 <span class="comment">// Effets de bord:</span>
<a name="l00201"></a>00201 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00202"></a>00202 <span class="comment">//</span>
<a name="l00203"></a>00203 <span class="comment">//</span>
<a name="l00204"></a>00204 <span class="comment">//</span>
<a name="l00205"></a>00205 <span class="comment">//</span>
<a name="l00206"></a>00206 <span class="comment">//</span>
<a name="l00207"></a>00207 <span class="comment">//</span>
<a name="l00208"></a>00208 <span class="comment">//</span>
<a name="l00209"></a>00209 <span class="comment">//</span>
<a name="l00210"></a>00210 <span class="comment">//</span>
<a name="l00211"></a>00211 <span class="comment">//</span>
<a name="l00212"></a>00212 <span class="comment">//</span>
<a name="l00213"></a>00213 <span class="comment">//</span><span class="comment"></span>
<a name="l00214"></a>00214 <span class="comment">//! Renvoie un objet de Type_Face representant&lt;br&gt;le type de nom specifie.&lt;br&gt;Les noms de types reconnus sont:&lt;br&gt;&quot;vide_0D&quot;&lt;br&gt;&quot;point_1D&quot;&lt;br&gt;&quot;point_1D_axi&quot;&lt;br&gt;&quot;segment_2D&quot;&lt;br&gt;&quot;triangle_3D&quot;&lt;br&gt;&quot;quadrangle_3D&quot;&lt;br&gt;&quot;segment_2D_axi&quot;&lt;br&gt;&quot;quadrangle_3D_axi&quot;&lt;br&gt;&quot;quadrilatere_2D_axi&quot;</span>
<a name="l00215"></a>00215 <span class="comment"></span><span class="comment">/** \return Type_Face&lt;br&gt;</span>
<a name="l00216"></a>00216 <span class="comment">Signification: le type de face correspondant au parametre mo&lt;br&gt;</span>
<a name="l00217"></a>00217 <span class="comment">Contraintes: */</span>
<a name="l00218"></a><a class="code" href="classFaces.html#afc77159e92d83fed0244262ead77d111">00218</a> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a> <a class="code" href="classFaces.html#afc77159e92d83fed0244262ead77d111" title="Renvoie un objet de Type_Face representant le type de nom specifie. Les noms de types reconnus sont: ...">Faces::type</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; mot)<span class="keyword"> const</span>
<a name="l00219"></a>00219 <span class="keyword"></span>{
<a name="l00220"></a>00220   <a class="code" href="classMotcles.html" title="Un tableau d&#39;objets de la classe Motcle.">Motcles</a> les_mots(10);
<a name="l00221"></a>00221   {
<a name="l00222"></a>00222     les_mots[0]=<span class="stringliteral">&quot;vide_0D&quot;</span>;
<a name="l00223"></a>00223     les_mots[1]=<span class="stringliteral">&quot;point_1D&quot;</span>;
<a name="l00224"></a>00224     les_mots[2]=<span class="stringliteral">&quot;point_1D_axi&quot;</span>;
<a name="l00225"></a>00225     les_mots[3]=<span class="stringliteral">&quot;segment_2D&quot;</span>;
<a name="l00226"></a>00226     les_mots[4]=<span class="stringliteral">&quot;triangle_3D&quot;</span>;
<a name="l00227"></a>00227     les_mots[5]=<span class="stringliteral">&quot;quadrangle_3D&quot;</span>;
<a name="l00228"></a>00228     les_mots[6]=<span class="stringliteral">&quot;segment_2D_axi&quot;</span>;
<a name="l00229"></a>00229     les_mots[7]=<span class="stringliteral">&quot;quadrangle_3D_axi&quot;</span>;
<a name="l00230"></a>00230     les_mots[8]=<span class="stringliteral">&quot;quadrilatere_2D_axi&quot;</span>;
<a name="l00231"></a>00231     les_mots[9]=<span class="stringliteral">&quot;polygone_3d&quot;</span>;
<a name="l00232"></a>00232   }
<a name="l00233"></a>00233   <span class="keywordtype">int</span> rang=les_mots.<a class="code" href="classMotcles.html#afecd68f73e904bc129022a236ff6ab15">search</a>(mot);
<a name="l00234"></a>00234   <span class="keywordflow">switch</span>(rang)
<a name="l00235"></a>00235     {
<a name="l00236"></a>00236     <span class="keywordflow">case</span>  0 :
<a name="l00237"></a>00237       <span class="keywordflow">return</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458af5a5c15f80ef779d90f83960f4064a01">Faces::vide_0D</a>;
<a name="l00238"></a>00238     <span class="keywordflow">case</span>  1 :
<a name="l00239"></a>00239       <span class="keywordflow">return</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a711b36882200129cf20323d3a1e74d80">Faces::point_1D</a>;
<a name="l00240"></a>00240     <span class="keywordflow">case</span>  2 :
<a name="l00241"></a>00241       <span class="keywordflow">return</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a7b811ae7eda72b3a3e8ddead423a307b">Faces::point_1D_axi</a>;
<a name="l00242"></a>00242     <span class="keywordflow">case</span>  3 :
<a name="l00243"></a>00243       <span class="keywordflow">return</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458ae7a86ec0ef1d9a27992dece86ab45ba6">Faces::segment_2D</a>;
<a name="l00244"></a>00244     <span class="keywordflow">case</span>  4 :
<a name="l00245"></a>00245       <span class="keywordflow">return</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a8d0ad1b612ea277393c4ce895b4ce0af">Faces::triangle_3D</a>;
<a name="l00246"></a>00246     <span class="keywordflow">case</span>  5 :
<a name="l00247"></a>00247       <span class="keywordflow">return</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a9ecc5c802b34fa6bed080df0c4c72ab6">Faces::quadrangle_3D</a>;
<a name="l00248"></a>00248     <span class="keywordflow">case</span>  6 :
<a name="l00249"></a>00249       <span class="keywordflow">return</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458aba4d49a99fe199bf2429e4ee1f3e9fb8">Faces::segment_2D_axi</a>;
<a name="l00250"></a>00250     <span class="keywordflow">case</span>  7 :
<a name="l00251"></a>00251       <span class="keywordflow">return</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a803df3361a4d6add0a79efe10c1e767e">Faces::quadrangle_3D_axi</a>;
<a name="l00252"></a>00252     <span class="keywordflow">case</span>  8 :
<a name="l00253"></a>00253       <span class="keywordflow">return</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a906e0f70cd8ea102963e0c88ffe84e12">Faces::quadrilatere_2D_axi</a>;
<a name="l00254"></a>00254     <span class="keywordflow">case</span> 9 :
<a name="l00255"></a>00255       <span class="keywordflow">return</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458acd0805076816031c49c07ac5aeacb10c">Faces::polygone_3D</a>;
<a name="l00256"></a>00256     <span class="keywordflow">default</span> :
<a name="l00257"></a>00257       {
<a name="l00258"></a>00258         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;In the area number &quot;</span> &lt;&lt; <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>() &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; mot &lt;&lt; <span class="stringliteral">&quot; is not a type of face.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00259"></a>00259         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Check your splitting.&quot;</span> &lt;&lt; finl;
<a name="l00260"></a>00260 <span class="comment">// Si mot est vide c&#39;est que l&#39;on tente de relire des Zones creees avec une version anterieure a la 1.5.1</span>
<a name="l00261"></a>00261         <span class="keywordflow">if</span> (mot==<span class="stringliteral">&quot;&quot;</span>)
<a name="l00262"></a>00262           {
<a name="l00263"></a>00263             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Your splitting seems to have been done with a TRUST version 1.5 or earlier. Since&quot;</span> &lt;&lt; finl;
<a name="l00264"></a>00264             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;the 1.5.1, the files format of .Zones containing the splitting of your mesh has evolved.&quot;</span> &lt;&lt; finl;
<a name="l00265"></a>00265             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You must therefore rebuild the splitting of your mesh with TRUST version 1.5.1 or newer.&quot;</span> &lt;&lt;
<a name="l00266"></a>00266                  finl;
<a name="l00267"></a>00267           }
<a name="l00268"></a>00268         <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00269"></a>00269       }
<a name="l00270"></a>00270     }
<a name="l00271"></a>00271 <span class="comment">// pour le compilo :</span>
<a name="l00272"></a>00272   <span class="keywordflow">return</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a711b36882200129cf20323d3a1e74d80">Faces::point_1D</a>;
<a name="l00273"></a>00273 }
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 <span class="comment">// Precondition:</span>
<a name="l00276"></a>00276 <span class="comment">// Parametre: Type_Face&amp; typ</span>
<a name="l00277"></a>00277 <span class="comment">// Signification: un type de face</span>
<a name="l00278"></a>00278 <span class="comment">// Valeurs par defaut:</span>
<a name="l00279"></a>00279 <span class="comment">// Contraintes: reference constante</span>
<a name="l00280"></a>00280 <span class="comment">// les types reconnus sont:</span>
<a name="l00281"></a>00281 <span class="comment">// Faces::vide_0D</span>
<a name="l00282"></a>00282 <span class="comment">// Faces::point_1D</span>
<a name="l00283"></a>00283 <span class="comment">// Faces::point_1D_axi</span>
<a name="l00284"></a>00284 <span class="comment">// Faces::segment_2D</span>
<a name="l00285"></a>00285 <span class="comment">// segment2D_axi</span>
<a name="l00286"></a>00286 <span class="comment">// Faces::triangle_3D</span>
<a name="l00287"></a>00287 <span class="comment">// Faces::quadrangle_3D</span>
<a name="l00288"></a>00288 <span class="comment">// Faces::quadrangle_3D_axi</span>
<a name="l00289"></a>00289 <span class="comment">// Faces::quadrilatere_2D_axi</span>
<a name="l00290"></a>00290 <span class="comment">// Acces: entree</span>
<a name="l00291"></a>00291 <span class="comment">// Exception: type de face non reconnu</span>
<a name="l00292"></a>00292 <span class="comment">// Effets de bord:</span>
<a name="l00293"></a>00293 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00294"></a>00294 <span class="comment">//</span>
<a name="l00295"></a>00295 <span class="comment">//</span><span class="comment"></span>
<a name="l00296"></a>00296 <span class="comment">//! Renvoie le nom associe a un type de face.&lt;br&gt;(inverse de Type_Face Faces::type(const Motcle\&amp; ) const)</span>
<a name="l00297"></a>00297 <span class="comment"></span><span class="comment">/** \return Motcle\&amp;&lt;br&gt;</span>
<a name="l00298"></a>00298 <span class="comment">Signification: le nom correspondant au type speficie en parametre&lt;br&gt;</span>
<a name="l00299"></a>00299 <span class="comment">Contraintes: */</span>
<a name="l00300"></a><a class="code" href="classFaces.html#aebf1f0172411faa0d0fab070e676942f">00300</a> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; <a class="code" href="classFaces.html#afc77159e92d83fed0244262ead77d111" title="Renvoie un objet de Type_Face representant le type de nom specifie. Les noms de types reconnus sont: ...">Faces::type</a>(<span class="keyword">const</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a>&amp; typ)<span class="keyword"> const</span>
<a name="l00301"></a>00301 <span class="keyword"></span>{
<a name="l00302"></a>00302   <span class="keyword">static</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> mot;
<a name="l00303"></a>00303   <span class="keywordflow">switch</span>(typ)
<a name="l00304"></a>00304     {
<a name="l00305"></a>00305     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458af5a5c15f80ef779d90f83960f4064a01">Faces::vide_0D</a> :
<a name="l00306"></a>00306       mot=<span class="stringliteral">&quot;vide_0D&quot;</span>;
<a name="l00307"></a>00307       <span class="keywordflow">break</span>;
<a name="l00308"></a>00308     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a711b36882200129cf20323d3a1e74d80">Faces::point_1D</a> :
<a name="l00309"></a>00309       mot=<span class="stringliteral">&quot;point_1D&quot;</span>;
<a name="l00310"></a>00310       <span class="keywordflow">break</span>;
<a name="l00311"></a>00311     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a7b811ae7eda72b3a3e8ddead423a307b">Faces::point_1D_axi</a> :
<a name="l00312"></a>00312       mot=<span class="stringliteral">&quot;point_1D_axi&quot;</span>;
<a name="l00313"></a>00313       <span class="keywordflow">break</span>;
<a name="l00314"></a>00314     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458ae7a86ec0ef1d9a27992dece86ab45ba6">Faces::segment_2D</a> :
<a name="l00315"></a>00315       mot=<span class="stringliteral">&quot;segment_2D&quot;</span>;
<a name="l00316"></a>00316       <span class="keywordflow">break</span>;
<a name="l00317"></a>00317     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458aba4d49a99fe199bf2429e4ee1f3e9fb8">Faces::segment_2D_axi</a> :
<a name="l00318"></a>00318       mot=<span class="stringliteral">&quot;segment_2D_axi&quot;</span>;
<a name="l00319"></a>00319       <span class="keywordflow">break</span>;
<a name="l00320"></a>00320     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a8d0ad1b612ea277393c4ce895b4ce0af">Faces::triangle_3D</a> :
<a name="l00321"></a>00321       mot=<span class="stringliteral">&quot;triangle_3D&quot;</span>;
<a name="l00322"></a>00322       <span class="keywordflow">break</span>;
<a name="l00323"></a>00323     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a9ecc5c802b34fa6bed080df0c4c72ab6">Faces::quadrangle_3D</a> :
<a name="l00324"></a>00324       mot=<span class="stringliteral">&quot;quadrangle_3D&quot;</span>;
<a name="l00325"></a>00325       <span class="keywordflow">break</span>;
<a name="l00326"></a>00326     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a803df3361a4d6add0a79efe10c1e767e">Faces::quadrangle_3D_axi</a> :
<a name="l00327"></a>00327       mot=<span class="stringliteral">&quot;quadrangle_3D_axi&quot;</span>;
<a name="l00328"></a>00328       <span class="keywordflow">break</span>;
<a name="l00329"></a>00329     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a906e0f70cd8ea102963e0c88ffe84e12">Faces::quadrilatere_2D_axi</a> :
<a name="l00330"></a>00330       mot=<span class="stringliteral">&quot;quadrilatere_2D_axi&quot;</span>;
<a name="l00331"></a>00331       <span class="keywordflow">break</span>;
<a name="l00332"></a>00332     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458acd0805076816031c49c07ac5aeacb10c">Faces::polygone_3D</a>:
<a name="l00333"></a>00333       mot=<span class="stringliteral">&quot;polygone_3D&quot;</span>;
<a name="l00334"></a>00334       <span class="keywordflow">break</span>;
<a name="l00335"></a>00335     <span class="keywordflow">default</span> :
<a name="l00336"></a>00336       {
<a name="l00337"></a>00337         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error TRUST in Motcle&amp; Faces::type(const Type_Face&amp; typ)&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00338"></a>00338         <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00339"></a>00339       }
<a name="l00340"></a>00340     }
<a name="l00341"></a>00341   <span class="keywordflow">return</span> mot;
<a name="l00342"></a>00342 }
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 <span class="comment">// Precondition:</span>
<a name="l00345"></a>00345 <span class="comment">// Parametre: IntTab&amp; sommet</span>
<a name="l00346"></a>00346 <span class="comment">// Signification: le tableau des sommets a ajouter</span>
<a name="l00347"></a>00347 <span class="comment">// Valeurs par defaut:</span>
<a name="l00348"></a>00348 <span class="comment">// Contraintes: reference constante</span>
<a name="l00349"></a>00349 <span class="comment">// Acces: entree</span>
<a name="l00350"></a>00350 <span class="comment">// </span>
<a name="l00351"></a>00351 <span class="comment">// Signification:</span>
<a name="l00352"></a>00352 <span class="comment">// Contraintes:</span>
<a name="l00353"></a>00353 <span class="comment">// Exception: les sommets specifies n&#39;ont pas la bonne dimension (1D,2D,3D)</span>
<a name="l00354"></a>00354 <span class="comment">// Effets de bord:</span>
<a name="l00355"></a>00355 <span class="comment">// Postcondition:</span>
<a name="l00356"></a>00356 <span class="comment">//</span>
<a name="l00357"></a>00357 <span class="comment">//</span><span class="comment"></span>
<a name="l00358"></a>00358 <span class="comment">//! Ajoute des faces.&lt;br&gt;Ajouter des faces revient a ajouter des sommets.</span>
<a name="l00359"></a><a class="code" href="classFaces.html#a158c8034f3b7b65aba2dd8b2549c9049">00359</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFaces.html#a158c8034f3b7b65aba2dd8b2549c9049" title="Ajoute des faces. Ajouter des faces revient a ajouter des sommets.">Faces::ajouter</a>(<span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; tab_sommet)
<a name="l00360"></a>00360 {
<a name="l00361"></a>00361   assert(<a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1)==tab_sommet.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1));
<a name="l00362"></a>00362   <span class="keywordtype">int</span> oldsz=<a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00363"></a>00363   <span class="keywordtype">int</span> addsz=tab_sommet.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00364"></a>00364   <a class="code" href="classFaces.html#aa3112928fe6cd95eb6c3394fd53c3cb1" title="(Re-)dimensionne les faces On redimensionne les voisins en consequence. Les sommets implicitement ajo...">dimensionner</a>(oldsz+addsz);
<a name="l00365"></a>00365   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;addsz; i++)
<a name="l00366"></a>00366     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;tab_sommet.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1); j++)
<a name="l00367"></a>00367       <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>(oldsz+i,j)=tab_sommet(i,j);
<a name="l00368"></a>00368 }
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 <span class="comment">// Precondition:</span>
<a name="l00371"></a>00371 <span class="comment">// Parametre: int i</span>
<a name="l00372"></a>00372 <span class="comment">// Signification: le nouveau nombre de face</span>
<a name="l00373"></a>00373 <span class="comment">// Valeurs par defaut:</span>
<a name="l00374"></a>00374 <span class="comment">// Contraintes:</span>
<a name="l00375"></a>00375 <span class="comment">// Acces:</span>
<a name="l00376"></a>00376 <span class="comment">// Exception:</span>
<a name="l00377"></a>00377 <span class="comment">// Effets de bord:</span>
<a name="l00378"></a>00378 <span class="comment">// Postcondition:</span>
<a name="l00379"></a>00379 <span class="comment">//</span>
<a name="l00380"></a>00380 <span class="comment">//</span>
<a name="l00381"></a>00381 <span class="comment">//</span><span class="comment"></span>
<a name="l00382"></a>00382 <span class="comment">//! (Re-)dimensionne les faces&lt;br&gt;On redimensionne les voisins en consequence.&lt;br&gt;Les sommets implicitement ajoutes sont initialises a -1.</span>
<a name="l00383"></a>00383 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00384"></a>00384 <span class="comment">Signification: le nouveau nombre de face&lt;br&gt;</span>
<a name="l00385"></a>00385 <span class="comment">Contraintes: */</span>
<a name="l00386"></a><a class="code" href="classFaces.html#aa3112928fe6cd95eb6c3394fd53c3cb1">00386</a> <span class="keywordtype">int</span> <a class="code" href="classFaces.html#aa3112928fe6cd95eb6c3394fd53c3cb1" title="(Re-)dimensionne les faces On redimensionne les voisins en consequence. Les sommets implicitement ajo...">Faces::dimensionner</a>(<span class="keywordtype">int</span> i)
<a name="l00387"></a>00387 {
<a name="l00388"></a>00388   <span class="keywordtype">int</span> oldsz=<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>();
<a name="l00389"></a>00389   <span class="keywordtype">int</span> nombre_som_faces=<a class="code" href="classFaces.html#a1361d27e4c8b239c48de671fad23428c" title="Renvoie le nombre de sommet par face.">nb_som_faces</a>();
<a name="l00390"></a>00390   <span class="keywordflow">if</span> (<a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>.<a class="code" href="classIntVect.html#ad90cfd411cbbd631ccf1935bb36f7c40" title="Identique a size_reelle()">size</a>()!=0) <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>.<a class="code" href="classIntVect.html#a3cf024bd4448d83eb0466d0b39fcd79b" title="detach the vector.">detach_vect</a>(); <span class="comment">//!&lt; Fixed bug: To have the possibility of merging borders after discretization</span>
<a name="l00391"></a>00391 <span class="comment"></span>  <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(i,nombre_som_faces);
<a name="l00392"></a>00392   <a class="code" href="classFaces.html#a2fdabb6146cce8324b4d3d7982f968c8">faces_voisins</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(i, 2);
<a name="l00393"></a>00393   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=oldsz; j&lt;i; j++)
<a name="l00394"></a>00394     {
<a name="l00395"></a>00395       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> k=0; k&lt;nombre_som_faces; k++)
<a name="l00396"></a>00396         <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>(j,k)=-1;
<a name="l00397"></a>00397       <a class="code" href="classFaces.html#a2fdabb6146cce8324b4d3d7982f968c8">faces_voisins</a>(j,0)=<a class="code" href="classFaces.html#a2fdabb6146cce8324b4d3d7982f968c8">faces_voisins</a>(j,1)=-1;
<a name="l00398"></a>00398     }
<a name="l00399"></a>00399   <span class="keywordflow">return</span> i;
<a name="l00400"></a>00400 }
<a name="l00401"></a>00401 
<a name="l00402"></a>00402 <span class="comment">// Precondition:</span>
<a name="l00403"></a>00403 <span class="comment">// Parametre: int nb_faces_joint</span>
<a name="l00404"></a>00404 <span class="comment">// Signification: le nombre de faces representant des Joints</span>
<a name="l00405"></a>00405 <span class="comment">// Valeurs par defaut:</span>
<a name="l00406"></a>00406 <span class="comment">// Contraintes:</span>
<a name="l00407"></a>00407 <span class="comment">// Acces:</span>
<a name="l00408"></a>00408 <span class="comment">// </span>
<a name="l00409"></a>00409 <span class="comment">// Signification:</span>
<a name="l00410"></a>00410 <span class="comment">// Contraintes:</span>
<a name="l00411"></a>00411 <span class="comment">// Exception:</span>
<a name="l00412"></a>00412 <span class="comment">// Effets de bord:</span>
<a name="l00413"></a>00413 <span class="comment">// Postcondition:</span>
<a name="l00414"></a>00414 <span class="comment">//</span><span class="comment"></span>
<a name="l00415"></a>00415 <span class="comment">//! Initialise les voisins des faces joints a -1</span>
<a name="l00416"></a><a class="code" href="classFaces.html#a35b4fcf205168a0ce03a3e0cba6900ca">00416</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFaces.html#a35b4fcf205168a0ce03a3e0cba6900ca" title="Initialise les voisins des faces joints a -1.">Faces::initialiser_faces_joint</a>(<span class="keywordtype">int</span> nb_faces_joint)
<a name="l00417"></a>00417 {
<a name="l00418"></a>00418   <span class="keywordtype">int</span> i;
<a name="l00419"></a>00419   <span class="keywordflow">for</span>(i=0; i&lt;nb_faces_joint; i++)
<a name="l00420"></a>00420 <span class="comment">// faces_voisins(i,0)=faces_voisins(i,1)=-2;</span>
<a name="l00421"></a>00421     <a class="code" href="classFaces.html#a2fdabb6146cce8324b4d3d7982f968c8">faces_voisins</a>(i,0)=<a class="code" href="classFaces.html#a2fdabb6146cce8324b4d3d7982f968c8">faces_voisins</a>(i,1)=-1;
<a name="l00422"></a>00422 }
<a name="l00423"></a>00423 
<a name="l00424"></a>00424 <span class="comment">// Precondition:</span>
<a name="l00425"></a>00425 <span class="comment">// Parametre: int nb_faces_joint</span>
<a name="l00426"></a>00426 <span class="comment">// Signification: le nombre de faces representant des Joints</span>
<a name="l00427"></a>00427 <span class="comment">// Valeurs par defaut:</span>
<a name="l00428"></a>00428 <span class="comment">// Contraintes:</span>
<a name="l00429"></a>00429 <span class="comment">// Acces:</span>
<a name="l00430"></a>00430 <span class="comment">// </span>
<a name="l00431"></a>00431 <span class="comment">// Signification:</span>
<a name="l00432"></a>00432 <span class="comment">// Contraintes:</span>
<a name="l00433"></a>00433 <span class="comment">// Exception:</span>
<a name="l00434"></a>00434 <span class="comment">// Effets de bord:</span>
<a name="l00435"></a>00435 <span class="comment">// Postcondition:</span>
<a name="l00436"></a>00436 <span class="comment">//</span><span class="comment"></span>
<a name="l00437"></a>00437 <span class="comment">//! Initialise les sommets des faces joints a -1</span>
<a name="l00438"></a><a class="code" href="classFaces.html#a4cfdd9186c7ba9261a8eb0a07e578376">00438</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFaces.html#a4cfdd9186c7ba9261a8eb0a07e578376" title="Initialise les sommets des faces joints a -1.">Faces::initialiser_sommets_faces_joint</a>(<span class="keywordtype">int</span> nb_faces_joint)
<a name="l00439"></a>00439 {
<a name="l00440"></a>00440   <span class="keywordtype">int</span> i;
<a name="l00441"></a>00441   <span class="keywordflow">for</span>(i=0; i&lt;nb_faces_joint; i++)
<a name="l00442"></a>00442     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> k=0; k&lt;<a class="code" href="classFaces.html#a1361d27e4c8b239c48de671fad23428c" title="Renvoie le nombre de sommet par face.">nb_som_faces</a>(); k++)
<a name="l00443"></a>00443 <span class="comment">// sommets(i,k)=-2;</span>
<a name="l00444"></a>00444       <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>(i,k)=-1;
<a name="l00445"></a>00445 }
<a name="l00446"></a>00446 
<a name="l00447"></a>00447 <span class="comment">// Precondition:</span>
<a name="l00448"></a>00448 <span class="comment">// Parametre: Motcle&amp; typ</span>
<a name="l00449"></a>00449 <span class="comment">// Signification: le type a donner aux faces</span>
<a name="l00450"></a>00450 <span class="comment">// Valeurs par defaut:</span>
<a name="l00451"></a>00451 <span class="comment">// Contraintes: reference constante</span>
<a name="l00452"></a>00452 <span class="comment">// Acces: entree</span>
<a name="l00453"></a>00453 <span class="comment">// </span>
<a name="l00454"></a>00454 <span class="comment">// Signification:</span>
<a name="l00455"></a>00455 <span class="comment">// Contraintes:</span>
<a name="l00456"></a>00456 <span class="comment">// Exception:</span>
<a name="l00457"></a>00457 <span class="comment">// Effets de bord:</span>
<a name="l00458"></a>00458 <span class="comment">// Postcondition:</span>
<a name="l00459"></a>00459 <span class="comment">//</span><span class="comment"></span>
<a name="l00460"></a>00460 <span class="comment">//! Type les faces</span>
<a name="l00461"></a><a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2">00461</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">Faces::typer</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; typ)
<a name="l00462"></a>00462 {
<a name="l00463"></a>00463   <a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(<a class="code" href="classFaces.html#afc77159e92d83fed0244262ead77d111" title="Renvoie un objet de Type_Face representant le type de nom specifie. Les noms de types reconnus sont: ...">type</a>(typ));
<a name="l00464"></a>00464 }
<a name="l00465"></a>00465 
<a name="l00466"></a>00466 <span class="comment">// Precondition:</span>
<a name="l00467"></a>00467 <span class="comment">// Parametre: Type_Face&amp; typ</span>
<a name="l00468"></a>00468 <span class="comment">// Signification: le type a donner aux faces</span>
<a name="l00469"></a>00469 <span class="comment">// Valeurs par defaut:</span>
<a name="l00470"></a>00470 <span class="comment">// Contraintes: reference constante</span>
<a name="l00471"></a>00471 <span class="comment">// Acces: entree</span>
<a name="l00472"></a>00472 <span class="comment">// </span>
<a name="l00473"></a>00473 <span class="comment">// Signification:</span>
<a name="l00474"></a>00474 <span class="comment">// Contraintes:</span>
<a name="l00475"></a>00475 <span class="comment">// Exception: type de face inconnu</span>
<a name="l00476"></a>00476 <span class="comment">// Effets de bord:</span>
<a name="l00477"></a>00477 <span class="comment">// Postcondition:</span>
<a name="l00478"></a>00478 <span class="comment">//</span><span class="comment"></span>
<a name="l00479"></a>00479 <span class="comment">//! Type les faces</span>
<a name="l00480"></a><a class="code" href="classFaces.html#aec26ce2abfdb5e594aacc675386a21e3">00480</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">Faces::typer</a>(<span class="keyword">const</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a>&amp; typ)
<a name="l00481"></a>00481 {
<a name="l00482"></a>00482   <a class="code" href="classFaces.html#a9d53215bfc5454b87c02ee38a7bdc4b1">type_face_</a> = typ;
<a name="l00483"></a>00483 <span class="comment">// int axi_ = 0;</span>
<a name="l00484"></a>00484   <span class="keywordflow">switch</span>(typ)
<a name="l00485"></a>00485     {
<a name="l00486"></a>00486     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458af5a5c15f80ef779d90f83960f4064a01">Faces::vide_0D</a> :
<a name="l00487"></a>00487       <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>=0;
<a name="l00488"></a>00488       <span class="keywordflow">break</span>;
<a name="l00489"></a>00489     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a711b36882200129cf20323d3a1e74d80">Faces::point_1D</a> :
<a name="l00490"></a>00490     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a7b811ae7eda72b3a3e8ddead423a307b">Faces::point_1D_axi</a> :
<a name="l00491"></a>00491       <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>=1;
<a name="l00492"></a>00492       <span class="keywordflow">break</span>;
<a name="l00493"></a>00493     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458ae7a86ec0ef1d9a27992dece86ab45ba6">Faces::segment_2D</a> :
<a name="l00494"></a>00494       <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>=2;
<a name="l00495"></a>00495       <span class="keywordflow">break</span>;
<a name="l00496"></a>00496     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458aba4d49a99fe199bf2429e4ee1f3e9fb8">Faces::segment_2D_axi</a> :
<a name="l00497"></a>00497       <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>=2; <span class="comment">//axi_=1;</span>
<a name="l00498"></a>00498       <span class="keywordflow">break</span>;
<a name="l00499"></a>00499     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a8d0ad1b612ea277393c4ce895b4ce0af">Faces::triangle_3D</a> :
<a name="l00500"></a>00500       <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>=3;
<a name="l00501"></a>00501       <span class="keywordflow">break</span>;
<a name="l00502"></a>00502     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a9ecc5c802b34fa6bed080df0c4c72ab6">Faces::quadrangle_3D</a> :
<a name="l00503"></a>00503       <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>=4;
<a name="l00504"></a>00504       <span class="keywordflow">break</span>;
<a name="l00505"></a>00505     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a803df3361a4d6add0a79efe10c1e767e">Faces::quadrangle_3D_axi</a> :
<a name="l00506"></a>00506       <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>=4; <span class="comment">//axi_=1;</span>
<a name="l00507"></a>00507       <span class="keywordflow">break</span>;
<a name="l00508"></a>00508     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a906e0f70cd8ea102963e0c88ffe84e12">Faces::quadrilatere_2D_axi</a> :
<a name="l00509"></a>00509       <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>=2; <span class="comment">//axi_=1;</span>
<a name="l00510"></a>00510       <span class="keywordflow">break</span>;
<a name="l00511"></a>00511     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458acd0805076816031c49c07ac5aeacb10c">Faces::polygone_3D</a>:
<a name="l00512"></a>00512       <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>=-1; <span class="comment">//!&lt; sera fixe plus tard</span>
<a name="l00513"></a>00513 <span class="comment"></span>      <span class="keywordflow">break</span>;
<a name="l00514"></a>00514     <span class="keywordflow">default</span> :
<a name="l00515"></a>00515       {
<a name="l00516"></a>00516         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error TRUST in Faces::typer(const Motcle&amp; typ)&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00517"></a>00517         <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00518"></a>00518       }
<a name="l00519"></a>00519     }
<a name="l00520"></a>00520   <span class="comment">/* TroisDto2D marche pas</span>
<a name="l00521"></a>00521 <span class="comment">     if (axi_==1 &amp;&amp; bidim_axi!=1 &amp;&amp; axi!=1)</span>
<a name="l00522"></a>00522 <span class="comment">     {</span>
<a name="l00523"></a>00523 <span class="comment">     Cerr &lt;&lt; &quot;The mesh contains faces that show that is a revolution mesh.&quot; &lt;&lt; finl;</span>
<a name="l00524"></a>00524 <span class="comment">     Cerr &lt;&lt; &quot;Add Bidim_axi or Axi in your data file.&quot; &lt;&lt; finl;</span>
<a name="l00525"></a>00525 <span class="comment">     exit();</span>
<a name="l00526"></a>00526 <span class="comment">     } */</span>
<a name="l00527"></a>00527   <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>&lt;<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(3,<a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>))
<a name="l00528"></a>00528     {
<a name="l00529"></a>00529       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You are in dimension &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00530"></a>00530       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;and the mesh contains faces with &quot;</span> &lt;&lt; <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a> &lt;&lt; <span class="stringliteral">&quot; nodes.&quot;</span> &lt;&lt; finl;
<a name="l00531"></a>00531       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;and this seems to be a mesh of dimension &quot;</span> &lt;&lt; <a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(3,<a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>) &lt;&lt; <span class="stringliteral">&quot; ...&quot;</span> &lt;&lt; finl;
<a name="l00532"></a>00532       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00533"></a>00533     }
<a name="l00534"></a>00534 }
<a name="l00535"></a>00535 
<a name="l00536"></a>00536 
<a name="l00537"></a>00537 <span class="comment">// Precondition:</span>
<a name="l00538"></a>00538 <span class="comment">// Parametre: int face</span>
<a name="l00539"></a>00539 <span class="comment">// Signification: l&#39;indice de la face a completer</span>
<a name="l00540"></a>00540 <span class="comment">// Valeurs par defaut:</span>
<a name="l00541"></a>00541 <span class="comment">// Contraintes:</span>
<a name="l00542"></a>00542 <span class="comment">// Acces:</span>
<a name="l00543"></a>00543 <span class="comment">// Parametre: int num_elem</span>
<a name="l00544"></a>00544 <span class="comment">// Signification: le numero de l&#39;element voisin de la face</span>
<a name="l00545"></a>00545 <span class="comment">// Valeurs par defaut:</span>
<a name="l00546"></a>00546 <span class="comment">// Contraintes:</span>
<a name="l00547"></a>00547 <span class="comment">// Acces:</span>
<a name="l00548"></a>00548 <span class="comment">// </span>
<a name="l00549"></a>00549 <span class="comment">// Signification:</span>
<a name="l00550"></a>00550 <span class="comment">// Contraintes:</span>
<a name="l00551"></a>00551 <span class="comment">// Exception: face deja complete</span>
<a name="l00552"></a>00552 <span class="comment">// Effets de bord:</span>
<a name="l00553"></a>00553 <span class="comment">// Postcondition:</span>
<a name="l00554"></a>00554 <span class="comment">//</span>
<a name="l00555"></a>00555 <span class="comment">//</span><span class="comment"></span>
<a name="l00556"></a>00556 <span class="comment">//! Complete la face specifie: met a jour&lt;br&gt;ses voisins.</span>
<a name="l00557"></a><a class="code" href="classFaces.html#abb37700f63e4658240309d748f38244a">00557</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFaces.html#abb37700f63e4658240309d748f38244a" title="Complete la face specifie: met a jour ses voisins.">Faces::completer</a>(<span class="keywordtype">int</span> face, <span class="keywordtype">int</span> num_elem)
<a name="l00558"></a>00558 {
<a name="l00559"></a>00559   <span class="keywordflow">if</span> ( <a class="code" href="classFaces.html#aa4c932a03838b3ee81d00e3359379933" title="Renvoie le numero du i-ieme voisin de face.">voisin</a>(face,0) == -1)
<a name="l00560"></a>00560     <a class="code" href="classFaces.html#aa4c932a03838b3ee81d00e3359379933" title="Renvoie le numero du i-ieme voisin de face.">voisin</a>(face, 0) = num_elem;
<a name="l00561"></a>00561   <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classFaces.html#aa4c932a03838b3ee81d00e3359379933" title="Renvoie le numero du i-ieme voisin de face.">voisin</a>(face,1) == -1)
<a name="l00562"></a>00562     <a class="code" href="classFaces.html#aa4c932a03838b3ee81d00e3359379933" title="Renvoie le numero du i-ieme voisin de face.">voisin</a>(face, 1) = num_elem;
<a name="l00563"></a>00563   <span class="keywordflow">else</span>
<a name="l00564"></a>00564     {
<a name="l00565"></a>00565       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00566"></a>00566       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Problem for the face number &quot;</span> &lt;&lt; face &lt;&lt; <span class="stringliteral">&quot; and the cell &quot;</span> &lt;&lt; num_elem &lt;&lt; finl;
<a name="l00567"></a>00567       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Indeed, the face already belongs to the cells &quot;</span> &lt;&lt; <a class="code" href="classFaces.html#aa4c932a03838b3ee81d00e3359379933" title="Renvoie le numero du i-ieme voisin de face.">voisin</a>(face, 0) &lt;&lt; <span class="stringliteral">&quot; and &quot;</span> &lt;&lt; <a class="code" href="classFaces.html#aa4c932a03838b3ee81d00e3359379933" title="Renvoie le numero du i-ieme voisin de face.">voisin</a>(face, 1) &lt;&lt; finl;
<a name="l00568"></a>00568       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The nodes of this face are:&quot;</span> &lt;&lt; finl;
<a name="l00569"></a>00569       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>; i++)
<a name="l00570"></a>00570         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Node &quot;</span> &lt;&lt; <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face,i) &lt;&lt; finl;
<a name="l00571"></a>00571       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Check your mesh. Perhaps some cells &quot;</span> &lt;&lt; finl;
<a name="l00572"></a>00572       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;are defined 2 times.&quot;</span> &lt;&lt; finl;
<a name="l00573"></a>00573       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00574"></a>00574     }
<a name="l00575"></a>00575 }
<a name="l00576"></a>00576 
<a name="l00577"></a>00577 <span class="comment">// Precondition:</span>
<a name="l00578"></a>00578 <span class="comment">// Parametre: DoubleVect&amp; surfaces</span>
<a name="l00579"></a>00579 <span class="comment">// Signification: le vecteur contenant la surface de chacune</span>
<a name="l00580"></a>00580 <span class="comment">// des faces.</span>
<a name="l00581"></a>00581 <span class="comment">// Valeurs par defaut:</span>
<a name="l00582"></a>00582 <span class="comment">// Contraintes:</span>
<a name="l00583"></a>00583 <span class="comment">// Acces: sortie</span>
<a name="l00584"></a>00584 <span class="comment">// </span>
<a name="l00585"></a>00585 <span class="comment">// Signification:</span>
<a name="l00586"></a>00586 <span class="comment">// Contraintes:</span>
<a name="l00587"></a>00587 <span class="comment">// Exception: type de face non reconnu</span>
<a name="l00588"></a>00588 <span class="comment">// Exception: calcul de la surface de ce type de face non code</span>
<a name="l00589"></a>00589 <span class="comment">// Exception: calcul de surface errone (surface &lt;= 0)</span>
<a name="l00590"></a>00590 <span class="comment">// Exception: type de face ne correspondant pas a la dimension d&#39;espace</span>
<a name="l00591"></a>00591 <span class="comment">// Effets de bord:</span>
<a name="l00592"></a>00592 <span class="comment">// Postcondition:</span>
<a name="l00593"></a>00593 <span class="comment">//</span><span class="comment"></span>
<a name="l00594"></a>00594 <span class="comment">//! Calcule la surface des faces</span>
<a name="l00595"></a><a class="code" href="classFaces.html#a8143c6ab93f3350b3f1370d6616953c9">00595</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFaces.html#a8143c6ab93f3350b3f1370d6616953c9" title="Calcule la surface des faces.">Faces::calculer_surfaces</a>(<a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; surfaces)<span class="keyword"> const</span>
<a name="l00596"></a>00596 <span class="keyword"></span>{
<a name="l00597"></a>00597   surfaces.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classFaces.html#a6fa5bebeaf7f9e8de2fc68759168bf7d" title="Renvoie le nombre total de Faces i.e. Le nombre de faces reelles et virtuelles sur le processeur cour...">nb_faces_tot</a>());
<a name="l00598"></a>00598   <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom=<a class="code" href="classFaces.html#a7e46f548445fdb23cfe26bdbceb7776d" title="Renvoie la zone associee.">zone</a>().<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>();
<a name="l00599"></a>00599 <span class="comment">// Verification qu&#39;en coordonnees cylindriques, r est bien positif</span>
<a name="l00600"></a>00600   <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#ad9b82ace9d4c7902ec704b6a78f76991">axi</a> || <a class="code" href="classObjet__U.html#a9a47c1add9760324894500792c17a178">bidim_axi</a>)
<a name="l00601"></a>00601     {
<a name="l00602"></a>00602       <span class="keywordtype">int</span> nb_som = dom.<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>().<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00603"></a>00603       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_som; i++)
<a name="l00604"></a>00604         {
<a name="l00605"></a>00605           <span class="keywordflow">if</span> (dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(i,0)&lt;0)
<a name="l00606"></a>00606             {
<a name="l00607"></a>00607               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;In axisymmetric, the coordinates of the mesh according to radius&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00608"></a>00608               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;ie along X, can not be negatives.&quot;</span> &lt;&lt; finl;
<a name="l00609"></a>00609               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The revolution axis must be at x=0.&quot;</span> &lt;&lt; finl;
<a name="l00610"></a>00610               <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00611"></a>00611             }
<a name="l00612"></a>00612         }
<a name="l00613"></a>00613     }
<a name="l00614"></a>00614   <span class="keywordflow">switch</span>(<a class="code" href="classFaces.html#a9d53215bfc5454b87c02ee38a7bdc4b1">type_face_</a>)
<a name="l00615"></a>00615     {
<a name="l00616"></a>00616     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458ae7a86ec0ef1d9a27992dece86ab45ba6">Faces::segment_2D</a> :
<a name="l00617"></a>00617       {
<a name="l00618"></a>00618         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==2);
<a name="l00619"></a>00619         <span class="keywordtype">double</span> delta0, delta1;
<a name="l00620"></a>00620         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face &lt;<a class="code" href="classFaces.html#a6fa5bebeaf7f9e8de2fc68759168bf7d" title="Renvoie le nombre total de Faces i.e. Le nombre de faces reelles et virtuelles sur le processeur cour...">nb_faces_tot</a>(); face++)
<a name="l00621"></a>00621           {
<a name="l00622"></a>00622             delta0=(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 0) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,1), 0));
<a name="l00623"></a>00623             delta0*=delta0;
<a name="l00624"></a>00624             delta1=(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 1) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,1), 1));
<a name="l00625"></a>00625             delta1*=delta1;
<a name="l00626"></a>00626             surfaces(face)=sqrt(delta0+delta1);
<a name="l00627"></a>00627             <span class="keywordflow">if</span>(surfaces(face)==0.)
<a name="l00628"></a>00628               {
<a name="l00629"></a>00629                 <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;area(&quot;</span>&lt;&lt;face&lt;&lt;<span class="stringliteral">&quot;)=0 ! Check your mesh.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00630"></a>00630                 <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00631"></a>00631               }
<a name="l00632"></a>00632           }
<a name="l00633"></a>00633         <span class="keywordflow">break</span>;
<a name="l00634"></a>00634       }
<a name="l00635"></a>00635     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a906e0f70cd8ea102963e0c88ffe84e12">Faces::quadrilatere_2D_axi</a> :
<a name="l00636"></a>00636       {
<a name="l00637"></a>00637         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==2);
<a name="l00638"></a>00638         <span class="keywordtype">double</span> r0,r1,z0,z1,delta_r,delta_z;
<a name="l00639"></a>00639         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face &lt;<a class="code" href="classFaces.html#a6fa5bebeaf7f9e8de2fc68759168bf7d" title="Renvoie le nombre total de Faces i.e. Le nombre de faces reelles et virtuelles sur le processeur cour...">nb_faces_tot</a>(); face++)
<a name="l00640"></a>00640           {
<a name="l00641"></a>00641             r0 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 0);
<a name="l00642"></a>00642             r1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,1), 0);
<a name="l00643"></a>00643             delta_r=<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(r1-r0);
<a name="l00644"></a>00644             <span class="keywordflow">if</span> ( <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(delta_r,0) ) <span class="comment">//!&lt;  faces de direction r</span>
<a name="l00645"></a>00645 <span class="comment"></span>              {
<a name="l00646"></a>00646                 z0 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 1);
<a name="l00647"></a>00647                 z1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,1), 1);
<a name="l00648"></a>00648                 delta_z=<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(z1-z0);
<a name="l00649"></a>00649                 surfaces(face) = 2*<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>*r0*delta_z;
<a name="l00650"></a>00650               }
<a name="l00651"></a>00651             <span class="keywordflow">else</span> <span class="comment">//face de direction z</span>
<a name="l00652"></a>00652               {
<a name="l00653"></a>00653                 surfaces(face) = 2*<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>*0.5*(r1+r0)*delta_r;
<a name="l00654"></a>00654               }
<a name="l00655"></a>00655           }
<a name="l00656"></a>00656         <span class="keywordflow">break</span>;
<a name="l00657"></a>00657       }
<a name="l00658"></a>00658 
<a name="l00659"></a>00659     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458aba4d49a99fe199bf2429e4ee1f3e9fb8">Faces::segment_2D_axi</a> :
<a name="l00660"></a>00660       {
<a name="l00661"></a>00661         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==2);
<a name="l00662"></a>00662         <span class="keywordtype">double</span> r0,r1,teta0,teta1,d_teta;
<a name="l00663"></a>00663         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face &lt;<a class="code" href="classFaces.html#a6fa5bebeaf7f9e8de2fc68759168bf7d" title="Renvoie le nombre total de Faces i.e. Le nombre de faces reelles et virtuelles sur le processeur cour...">nb_faces_tot</a>(); face++)
<a name="l00664"></a>00664           {
<a name="l00665"></a>00665             r0 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 0);
<a name="l00666"></a>00666             r1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,1), 0);
<a name="l00667"></a>00667             <span class="keywordflow">if</span> ( <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(r0,r1) ) <span class="comment">//!&lt; surface = r0*abs(teta1-teta0)</span>
<a name="l00668"></a>00668 <span class="comment"></span>              {
<a name="l00669"></a>00669                 teta0 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 1);
<a name="l00670"></a>00670                 teta1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,1), 1);
<a name="l00671"></a>00671                 d_teta = <a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(teta1-teta0);
<a name="l00672"></a>00672                 <span class="keywordflow">if</span>(d_teta &gt; <a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>) d_teta=2.*<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>-d_teta;
<a name="l00673"></a>00673                 surfaces(face)=r0*d_teta;
<a name="l00674"></a>00674               }
<a name="l00675"></a>00675             <span class="keywordflow">else</span> <span class="comment">//!&lt;  surface = r1-r2</span>
<a name="l00676"></a>00676 <span class="comment"></span>              surfaces(face)=<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(r1-r0);
<a name="l00677"></a>00677           }
<a name="l00678"></a>00678         <span class="keywordflow">break</span>;
<a name="l00679"></a>00679       }
<a name="l00680"></a>00680     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a8d0ad1b612ea277393c4ce895b4ce0af">Faces::triangle_3D</a> :
<a name="l00681"></a>00681       {
<a name="l00682"></a>00682         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==3);
<a name="l00683"></a>00683 
<a name="l00684"></a>00684         <span class="keywordtype">double</span> delta0, delta1, delta2;
<a name="l00685"></a>00685         <span class="keywordtype">double</span> longueur0, longueur1;
<a name="l00686"></a>00686         <span class="keywordtype">double</span> <a class="code" href="Zone__CoviMAC_8h.html#aa24d8c7ee8fd93e2360821d3636ec69d">prod</a>,sa;
<a name="l00687"></a>00687 
<a name="l00688"></a>00688         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face &lt;<a class="code" href="classFaces.html#a6fa5bebeaf7f9e8de2fc68759168bf7d" title="Renvoie le nombre total de Faces i.e. Le nombre de faces reelles et virtuelles sur le processeur cour...">nb_faces_tot</a>(); face++)
<a name="l00689"></a>00689           {
<a name="l00690"></a>00690             prod=0;
<a name="l00691"></a>00691             delta0=(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,1), 0) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 0));
<a name="l00692"></a>00692             delta1=(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,1), 1) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 1));
<a name="l00693"></a>00693             delta2=(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,1), 2) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 2));
<a name="l00694"></a>00694             longueur0=(delta0*delta0+delta1*delta1+delta2*delta2);
<a name="l00695"></a>00695             sa=delta0;
<a name="l00696"></a>00696             delta0=(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,2), 0) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 0));
<a name="l00697"></a>00697             prod=sa*delta0;
<a name="l00698"></a>00698             sa=delta1;
<a name="l00699"></a>00699             delta1=(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,2), 1) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 1));
<a name="l00700"></a>00700             prod+=sa*delta1;
<a name="l00701"></a>00701             sa=delta2;
<a name="l00702"></a>00702             delta2=(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,2), 2) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 2));
<a name="l00703"></a>00703             prod+=sa*delta2;
<a name="l00704"></a>00704             longueur1=(delta0*delta0+delta1*delta1+delta2*delta2);
<a name="l00705"></a>00705             surfaces(face)=0.5*(sqrt(longueur0*longueur1-prod*prod));
<a name="l00706"></a>00706             <span class="keywordflow">if</span>(surfaces(face)==0.)
<a name="l00707"></a>00707               {
<a name="l00708"></a>00708                 <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;area(&quot;</span>&lt;&lt;face&lt;&lt;<span class="stringliteral">&quot;)=0 ! Check your mesh.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00709"></a>00709                 <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00710"></a>00710               }
<a name="l00711"></a>00711           }
<a name="l00712"></a>00712         <span class="keywordflow">break</span>;
<a name="l00713"></a>00713       }
<a name="l00714"></a>00714     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a9ecc5c802b34fa6bed080df0c4c72ab6">Faces::quadrangle_3D</a> :
<a name="l00715"></a>00715       {
<a name="l00716"></a>00716 <span class="comment">// On se base sur Hexa_VEF::normale():</span>
<a name="l00717"></a>00717         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face &lt;<a class="code" href="classFaces.html#a6fa5bebeaf7f9e8de2fc68759168bf7d" title="Renvoie le nombre total de Faces i.e. Le nombre de faces reelles et virtuelles sur le processeur cour...">nb_faces_tot</a>(); face++)
<a name="l00718"></a>00718           {
<a name="l00719"></a>00719             <span class="keywordtype">int</span> n0 = <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face, 0);
<a name="l00720"></a>00720             <span class="keywordtype">int</span> n1 = <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face, 1);
<a name="l00721"></a>00721             <span class="keywordtype">int</span> n2 = <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face, 2);
<a name="l00722"></a>00722             <span class="keywordtype">int</span> n3 = <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face, 3);
<a name="l00723"></a>00723 <span class="comment">// NB: Dans un prisme, il y&#39;a aussi des triangles comme faces... Donc:</span>
<a name="l00724"></a>00724             <span class="keywordflow">if</span> (n3&lt;0) n3 = n2;
<a name="l00725"></a>00725 
<a name="l00726"></a>00726             <span class="keywordtype">double</span> x1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n0, 0) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n1, 0);
<a name="l00727"></a>00727             <span class="keywordtype">double</span> y1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n0, 1) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n1, 1);
<a name="l00728"></a>00728             <span class="keywordtype">double</span> z1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n0, 2) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n1, 2);
<a name="l00729"></a>00729 
<a name="l00730"></a>00730             <span class="keywordtype">double</span> x2 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n3, 0) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n1, 0);
<a name="l00731"></a>00731             <span class="keywordtype">double</span> y2 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n3, 1) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n1, 1);
<a name="l00732"></a>00732             <span class="keywordtype">double</span> z2 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n3, 2) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n1, 2);
<a name="l00733"></a>00733 
<a name="l00734"></a>00734             <span class="keywordtype">double</span> nx = (y1*z2 - y2*z1)/2;
<a name="l00735"></a>00735             <span class="keywordtype">double</span> ny = (-x1*z2 + x2*z1)/2;
<a name="l00736"></a>00736             <span class="keywordtype">double</span> nz = (x1*y2 - x2*y1)/2;
<a name="l00737"></a>00737 
<a name="l00738"></a>00738             x1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n0,0) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n2,0);
<a name="l00739"></a>00739             y1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n0,1) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n2,1);
<a name="l00740"></a>00740             z1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n0,2) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n2,2);
<a name="l00741"></a>00741 
<a name="l00742"></a>00742             x2 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n3,0) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n2,0);
<a name="l00743"></a>00743             y2 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n3,1) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n2,1);
<a name="l00744"></a>00744             z2 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n3,2) - dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(n2,2);
<a name="l00745"></a>00745 
<a name="l00746"></a>00746             nx -= (y1*z2 - y2*z1)/2;
<a name="l00747"></a>00747             ny -= (-x1*z2 + x2*z1)/2;
<a name="l00748"></a>00748             nz -= (x1*y2 - x2*y1)/2;
<a name="l00749"></a>00749 
<a name="l00750"></a>00750             surfaces(face)=sqrt(nx*nx+ny*ny+nz*nz);
<a name="l00751"></a>00751           }
<a name="l00752"></a>00752         <span class="keywordflow">break</span>;
<a name="l00753"></a>00753       }
<a name="l00754"></a>00754     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a803df3361a4d6add0a79efe10c1e767e">Faces::quadrangle_3D_axi</a> :
<a name="l00755"></a>00755       {
<a name="l00756"></a>00756         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==3);
<a name="l00757"></a>00757         <span class="keywordtype">double</span> r0,r1,teta0,teta1,teta2,z0,z2,d_teta,delta_r;
<a name="l00758"></a>00758         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face &lt;<a class="code" href="classFaces.html#a6fa5bebeaf7f9e8de2fc68759168bf7d" title="Renvoie le nombre total de Faces i.e. Le nombre de faces reelles et virtuelles sur le processeur cour...">nb_faces_tot</a>(); face++)
<a name="l00759"></a>00759           {
<a name="l00760"></a>00760             r0 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 0);
<a name="l00761"></a>00761             r1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,1), 0);
<a name="l00762"></a>00762             delta_r = <a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(r1 - r0);
<a name="l00763"></a>00763             <span class="keywordflow">if</span> ( <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(r0,r1) )
<a name="l00764"></a>00764               {
<a name="l00765"></a>00765                 teta0 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 1);
<a name="l00766"></a>00766                 teta1 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,1), 1);
<a name="l00767"></a>00767                 z0 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 2);
<a name="l00768"></a>00768                 z2 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,2), 2);
<a name="l00769"></a>00769                 d_teta = <a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(teta1-teta0);
<a name="l00770"></a>00770                 <span class="keywordflow">if</span>(d_teta &gt; <a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>) d_teta=2.*<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>-d_teta;
<a name="l00771"></a>00771                 surfaces(face)=r0*d_teta*<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(z2-z0);
<a name="l00772"></a>00772               }
<a name="l00773"></a>00773             <span class="keywordflow">else</span>
<a name="l00774"></a>00774               {
<a name="l00775"></a>00775                 teta0 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 1);
<a name="l00776"></a>00776                 teta2 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,2), 1);
<a name="l00777"></a>00777                 <span class="keywordflow">if</span> (teta0 == teta2)
<a name="l00778"></a>00778                   {
<a name="l00779"></a>00779                     z0 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 2);
<a name="l00780"></a>00780                     z2 = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,2), 2);
<a name="l00781"></a>00781                     surfaces(face) = delta_r*<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(z2-z0);
<a name="l00782"></a>00782                   }
<a name="l00783"></a>00783                 <span class="keywordflow">else</span>
<a name="l00784"></a>00784                   {
<a name="l00785"></a>00785                     d_teta=<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(teta2-teta0);
<a name="l00786"></a>00786                     <span class="keywordflow">if</span>(d_teta &gt; <a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>) d_teta=2.*<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>-d_teta;
<a name="l00787"></a>00787                     surfaces(face) = 0.5*(r0+r1)*d_teta*delta_r;
<a name="l00788"></a>00788                   }
<a name="l00789"></a>00789               }
<a name="l00790"></a>00790           }
<a name="l00791"></a>00791         <span class="keywordflow">break</span>;
<a name="l00792"></a>00792       }
<a name="l00793"></a>00793     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a711b36882200129cf20323d3a1e74d80">Faces::point_1D</a>:
<a name="l00794"></a>00794     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458af5a5c15f80ef779d90f83960f4064a01">Faces::vide_0D</a> :
<a name="l00795"></a>00795       {
<a name="l00796"></a>00796         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face &lt;<a class="code" href="classFaces.html#a6fa5bebeaf7f9e8de2fc68759168bf7d" title="Renvoie le nombre total de Faces i.e. Le nombre de faces reelles et virtuelles sur le processeur cour...">nb_faces_tot</a>(); face++)
<a name="l00797"></a>00797           surfaces(face) = 1.0;
<a name="l00798"></a>00798 
<a name="l00799"></a>00799         <span class="keywordflow">break</span>;
<a name="l00800"></a>00800       }
<a name="l00801"></a>00801     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a7b811ae7eda72b3a3e8ddead423a307b">Faces::point_1D_axi</a>:
<a name="l00802"></a>00802       {
<a name="l00803"></a>00803         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==3);
<a name="l00804"></a>00804 
<a name="l00805"></a>00805         <span class="keyword">const</span> <a class="code" href="classDomaineAxi1d.html" title=": class DomaineAxi1d &lt;Description of class DomaineAxi1d&gt;">DomaineAxi1d</a>&amp; domax = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classDomaineAxi1d.html" title=": class DomaineAxi1d &lt;Description of class DomaineAxi1d&gt;">DomaineAxi1d</a>,dom);
<a name="l00806"></a>00806 
<a name="l00807"></a>00807         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face &lt;<a class="code" href="classFaces.html#a6fa5bebeaf7f9e8de2fc68759168bf7d" title="Renvoie le nombre total de Faces i.e. Le nombre de faces reelles et virtuelles sur le processeur cour...">nb_faces_tot</a>(); face++)
<a name="l00808"></a>00808           {
<a name="l00809"></a>00809             <span class="keywordtype">int</span> elem = <a class="code" href="classFaces.html#aa4c932a03838b3ee81d00e3359379933" title="Renvoie le numero du i-ieme voisin de face.">voisin</a>(face,0)==-1 ? <a class="code" href="classFaces.html#aa4c932a03838b3ee81d00e3359379933" title="Renvoie le numero du i-ieme voisin de face.">voisin</a>(face,1) : <a class="code" href="classFaces.html#aa4c932a03838b3ee81d00e3359379933" title="Renvoie le numero du i-ieme voisin de face.">voisin</a>(face,0);
<a name="l00810"></a>00810 
<a name="l00811"></a>00811             <span class="keywordtype">double</span> x0 = domax.<a class="code" href="classDomaineAxi1d.html#a42e0b37749462e80f48eff0a34dc0007">origine_repere</a>(elem,0);
<a name="l00812"></a>00812             <span class="keywordtype">double</span> y0 = domax.<a class="code" href="classDomaineAxi1d.html#a42e0b37749462e80f48eff0a34dc0007">origine_repere</a>(elem,1);
<a name="l00813"></a>00813             <span class="keywordtype">double</span> x = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 0);
<a name="l00814"></a>00814             <span class="keywordtype">double</span> y = dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face ,0), 1);
<a name="l00815"></a>00815 
<a name="l00816"></a>00816             <span class="keywordtype">double</span> r = sqrt((x-x0)*(x-x0)+(y-y0)*(y-y0));
<a name="l00817"></a>00817             surfaces(face) = 2.*<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>*r;
<a name="l00818"></a>00818           }
<a name="l00819"></a>00819         <span class="keywordflow">break</span>;
<a name="l00820"></a>00820       }
<a name="l00821"></a>00821     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458acd0805076816031c49c07ac5aeacb10c">Faces::polygone_3D</a>:
<a name="l00822"></a>00822       {
<a name="l00823"></a>00823         <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord=dom.<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>();
<a name="l00824"></a>00824         <span class="keywordtype">int</span> nmax=<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>().<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00825"></a>00825         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face &lt;<a class="code" href="classFaces.html#a6fa5bebeaf7f9e8de2fc68759168bf7d" title="Renvoie le nombre total de Faces i.e. Le nombre de faces reelles et virtuelles sur le processeur cour...">nb_faces_tot</a>(); face++)
<a name="l00826"></a>00826           {
<a name="l00827"></a>00827             <span class="keywordtype">double</span> n0=0,n1=0,n2=0;
<a name="l00828"></a>00828             <span class="keywordtype">int</span> n=nmax-1;
<a name="l00829"></a>00829             <span class="keywordflow">while</span> (n &gt;= 0 &amp;&amp; <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face,n)==-1) n--;
<a name="l00830"></a>00830             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i0=0; i0&lt;=n; i0++)
<a name="l00831"></a>00831               {
<a name="l00832"></a>00832 
<a name="l00833"></a>00833                 <span class="keywordtype">int</span> ip1_0=0;
<a name="l00834"></a>00834                 <span class="keywordflow">if</span> (i0&lt;n) ip1_0=i0+1;
<a name="l00835"></a>00835                 <span class="keywordtype">int</span> i=<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face,i0);
<a name="l00836"></a>00836                 <span class="keywordtype">int</span> ip1=<a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face,ip1_0);
<a name="l00837"></a>00837                 n0+=coord(i,1)*coord(ip1,2)-coord(i,2)*coord(ip1,1);
<a name="l00838"></a>00838                 n1+=coord(i,2)*coord(ip1,0)-coord(i,0)*coord(ip1,2);
<a name="l00839"></a>00839                 n2+=coord(i,0)*coord(ip1,1)-coord(i,1)*coord(ip1,0);
<a name="l00840"></a>00840               }
<a name="l00841"></a>00841             surfaces(face)=sqrt(n0*n0+n1*n1+n2*n2)/2.;
<a name="l00842"></a>00842           }
<a name="l00843"></a>00843         <span class="keywordflow">break</span>;
<a name="l00844"></a>00844       }
<a name="l00845"></a>00845     <span class="keywordflow">default</span> :
<a name="l00846"></a>00846       {
<a name="l00847"></a>00847         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error TRUST in type of Faces not recognized &quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00848"></a>00848         <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00849"></a>00849       }
<a name="l00850"></a>00850     }
<a name="l00851"></a>00851 }
<a name="l00852"></a>00852 
<a name="l00853"></a>00853 
<a name="l00854"></a>00854 <span class="comment">// Precondition:</span>
<a name="l00855"></a>00855 <span class="comment">// Parametre:     DoubleTab&amp; xv</span>
<a name="l00856"></a>00856 <span class="comment">// Signification: tableau contenant les coordonnees des centres de gravite</span>
<a name="l00857"></a>00857 <span class="comment">// de chaque face. xv(i,j) contient la coordonnee j du</span>
<a name="l00858"></a>00858 <span class="comment">// centre de gravite de la i-ieme face.</span>
<a name="l00859"></a>00859 <span class="comment">// On resize le tableau xv et on lui affecte le descripteur</span>
<a name="l00860"></a>00860 <span class="comment">// parallele du tableau des sommets avant de le remplir.</span>
<a name="l00861"></a>00861 <span class="comment">//</span><span class="comment"></span>
<a name="l00862"></a>00862 <span class="comment">//! Calcule les centres de gravite de chaque face.</span>
<a name="l00863"></a><a class="code" href="classFaces.html#aff1f39c3e63c21260ab8c49497dd3a3f">00863</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFaces.html#aff1f39c3e63c21260ab8c49497dd3a3f" title="Calcule les centres de gravite de chaque face.">Faces::calculer_centres_gravite</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xv)<span class="keyword"> const</span>
<a name="l00864"></a>00864 <span class="keyword"></span>{
<a name="l00865"></a>00865 <span class="comment">// Le tableau xv est dimensionne dans ::calculer_centres_gravite</span>
<a name="l00866"></a>00866   <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom=<a class="code" href="classFaces.html#a7e46f548445fdb23cfe26bdbceb7776d" title="Renvoie la zone associee.">zone</a>().<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>();
<a name="l00867"></a>00867   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord=dom.<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>();<a class="code" href="classFaces.html#aff1f39c3e63c21260ab8c49497dd3a3f" title="Calcule les centres de gravite de chaque face."></a>
<a name="l00868"></a>00868 <a class="code" href="classFaces.html#aff1f39c3e63c21260ab8c49497dd3a3f" title="Calcule les centres de gravite de chaque face.">  ::calculer_centres_gravite</a>(xv, <a class="code" href="classFaces.html#a9d53215bfc5454b87c02ee38a7bdc4b1">type_face_</a>,
<a name="l00869"></a>00869                              coord, <a class="code" href="classFaces.html#a55477330f186969bd3df3e0df4f1e8c0">sommets</a>);
<a name="l00870"></a>00870 }
<a name="l00871"></a>00871 
<a name="l00872"></a>00872 
<a name="l00873"></a><a class="code" href="Faces_8h.html#af622ced5ede4f76ccd1288c37ecc7898">00873</a> <span class="keywordtype">void</span> <a class="code" href="Faces_8cpp.html#af622ced5ede4f76ccd1288c37ecc7898">calculer_centres_gravite</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xv,
<a name="l00874"></a>00874                               <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a> type_face_,
<a name="l00875"></a>00875                               <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord,
<a name="l00876"></a>00876                               <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; sommet)
<a name="l00877"></a>00877 {
<a name="l00878"></a>00878   <span class="keywordtype">int</span> nb_faces_tot = sommet.<a class="code" href="classIntTab.html#a71e9b9ddc1793094b1b3f109377952b1" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0);
<a name="l00879"></a>00879   <span class="keywordtype">int</span> dim = coord.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00880"></a>00880   xv.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_faces_tot, dim);
<a name="l00881"></a>00881 <span class="comment">// Copie le descripteur parallele du tableau sommet:</span>
<a name="l00882"></a>00882   xv.<a class="code" href="classDoubleTab.html#a2f40241acb678b0dd0dac7ee4f421b1d" title="associe le md_vector au vecteur (voir DoubleVect::set_md_vector()) dimension(0) sera initialise a md_...">set_md_vector</a>(sommet.<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>());
<a name="l00883"></a>00883 
<a name="l00884"></a>00884   <span class="keywordflow">if</span>(nb_faces_tot!=0)
<a name="l00885"></a>00885     {
<a name="l00886"></a>00886       <span class="keywordtype">int</span> nb_som_faces=sommet.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00887"></a>00887       <span class="keywordtype">double</span> inv=1./nb_som_faces;
<a name="l00888"></a>00888       <span class="keywordtype">int</span> k, som;
<a name="l00889"></a>00889       xv = 0;
<a name="l00890"></a>00890       <span class="keywordflow">if</span>(<a class="code" href="classObjet__U.html#ad9b82ace9d4c7902ec704b6a78f76991">Objet_U::axi</a>)
<a name="l00891"></a>00891         {
<a name="l00892"></a>00892           <span class="keywordflow">switch</span>(type_face_)
<a name="l00893"></a>00893             {
<a name="l00894"></a>00894             <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458aba4d49a99fe199bf2429e4ee1f3e9fb8">Faces::segment_2D_axi</a> :
<a name="l00895"></a>00895               {
<a name="l00896"></a>00896                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=0; face&lt;nb_faces_tot; face++)
<a name="l00897"></a>00897                   {
<a name="l00898"></a>00898                     <span class="keywordflow">for</span>(som=0; som &lt; nb_som_faces; som++)
<a name="l00899"></a>00899                       xv(face, 0)+=coord(sommet(face ,som), 0);
<a name="l00900"></a>00900                     <span class="keywordtype">double</span> teta_0=coord(sommet(face ,0), 1);
<a name="l00901"></a>00901                     <span class="keywordtype">double</span> teta_1=coord(sommet(face ,1), 1);
<a name="l00902"></a>00902                     <span class="keywordtype">double</span> teta_min=<a class="code" href="Double_8h.html#a04e03b7aad55468a8b8eae326087338a">dmin</a>(teta_1, teta_0);
<a name="l00903"></a>00903                     <span class="keywordtype">double</span> teta_max=<a class="code" href="Double_8h.html#aec69e4c89b77badf104ae9d6ae393b2c">dmax</a>(teta_1, teta_0);
<a name="l00904"></a>00904                     <span class="keywordtype">double</span> d_teta=teta_max-teta_min;
<a name="l00905"></a>00905                     <span class="keywordflow">if</span>( (teta_min==0.) &amp;&amp; (d_teta&gt;<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>) )
<a name="l00906"></a>00906                       {
<a name="l00907"></a>00907                         teta_min+=2.*<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;
<a name="l00908"></a>00908                       }
<a name="l00909"></a>00909                     {
<a name="l00910"></a>00910                       xv(face, 1)+=(teta_min+teta_max);
<a name="l00911"></a>00911                     }
<a name="l00912"></a>00912                   }
<a name="l00913"></a>00913                 <span class="keywordflow">break</span>;
<a name="l00914"></a>00914               }
<a name="l00915"></a>00915             <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a803df3361a4d6add0a79efe10c1e767e">Faces::quadrangle_3D_axi</a> :
<a name="l00916"></a>00916               {
<a name="l00917"></a>00917                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=0; face&lt;nb_faces_tot; face++)
<a name="l00918"></a>00918                   {
<a name="l00919"></a>00919                     <span class="keywordflow">for</span>(som=0; som &lt; nb_som_faces; som++)
<a name="l00920"></a>00920                       xv(face, 0)+=coord(sommet(face ,som), 0);
<a name="l00921"></a>00921                     <span class="keywordflow">for</span>(som=0; som &lt; nb_som_faces; som++)
<a name="l00922"></a>00922                       xv(face, 2)+=coord(sommet(face ,som), 2);
<a name="l00923"></a>00923                     <span class="keywordtype">double</span> teta_0=coord(sommet(face ,0), 1);
<a name="l00924"></a>00924                     <span class="keywordtype">double</span> teta_1=coord(sommet(face ,1), 1);
<a name="l00925"></a>00925                     <span class="keywordtype">double</span> teta_2=coord(sommet(face ,2), 1);
<a name="l00926"></a>00926                     <span class="keywordtype">double</span> teta_3=coord(sommet(face ,3), 1);
<a name="l00927"></a>00927                     <span class="keywordtype">double</span> teta_min=<a class="code" href="Double_8h.html#a04e03b7aad55468a8b8eae326087338a">dmin</a>(teta_1, teta_0);
<a name="l00928"></a>00928                     teta_min=<a class="code" href="Double_8h.html#a04e03b7aad55468a8b8eae326087338a">dmin</a>(teta_min, teta_2);
<a name="l00929"></a>00929                     teta_min=<a class="code" href="Double_8h.html#a04e03b7aad55468a8b8eae326087338a">dmin</a>(teta_min, teta_3);
<a name="l00930"></a>00930                     <span class="keywordtype">double</span> teta_max=<a class="code" href="Double_8h.html#aec69e4c89b77badf104ae9d6ae393b2c">dmax</a>(teta_1, teta_0);
<a name="l00931"></a>00931                     teta_max=<a class="code" href="Double_8h.html#aec69e4c89b77badf104ae9d6ae393b2c">dmax</a>(teta_min, teta_2);
<a name="l00932"></a>00932                     teta_max=<a class="code" href="Double_8h.html#aec69e4c89b77badf104ae9d6ae393b2c">dmax</a>(teta_min, teta_3);
<a name="l00933"></a>00933                     <span class="keywordtype">double</span> d_teta=teta_max-teta_min;
<a name="l00934"></a>00934                     <span class="keywordflow">if</span>( (teta_min==0.) &amp;&amp; (d_teta&gt;<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>) )
<a name="l00935"></a>00935                       {
<a name="l00936"></a>00936                         <span class="keywordflow">if</span>(teta_0==0.) teta_0+=2.*<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;
<a name="l00937"></a>00937                         <span class="keywordflow">if</span>(teta_1==0.) teta_1+=2.*<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;
<a name="l00938"></a>00938                         <span class="keywordflow">if</span>(teta_2==0.) teta_2+=2.*<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;
<a name="l00939"></a>00939                         <span class="keywordflow">if</span>(teta_3==0.) teta_3+=2.*<a class="code" href="Double_8h.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>;
<a name="l00940"></a>00940                       }
<a name="l00941"></a>00941                     {
<a name="l00942"></a>00942                       xv(face, 1)+=(teta_0+teta_1+teta_2+teta_3) ;
<a name="l00943"></a>00943                     }
<a name="l00944"></a>00944                   }
<a name="l00945"></a>00945                 <span class="keywordflow">break</span>;
<a name="l00946"></a>00946               }
<a name="l00947"></a>00947             <span class="keywordflow">default</span>:
<a name="l00948"></a>00948               {
<a name="l00949"></a>00949                 <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Face type number &quot;</span> &lt;&lt; (int)type_face_ &lt;&lt; <span class="stringliteral">&quot; not provided in Faces::calculer_centres_gravite&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00950"></a>00950                 <span class="keywordflow">break</span>;
<a name="l00951"></a>00951               }
<a name="l00952"></a>00952             }
<a name="l00953"></a>00953           xv*=inv;
<a name="l00954"></a>00954         }
<a name="l00955"></a>00955       <span class="keywordflow">else</span>
<a name="l00956"></a>00956         {
<a name="l00957"></a>00957           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=0; face&lt;nb_faces_tot; face++)
<a name="l00958"></a>00958             {
<a name="l00959"></a>00959               <span class="keywordtype">int</span> nb_som=nb_som_faces;
<a name="l00960"></a>00960               <span class="keywordflow">while</span> (sommet(face,nb_som-1)==-1) nb_som--;
<a name="l00961"></a>00961 
<a name="l00962"></a>00962               inv=1./nb_som;
<a name="l00963"></a>00963               <span class="keywordflow">for</span>(k=0; k&lt;dim; k++)
<a name="l00964"></a>00964                 <span class="keywordflow">for</span>(som=0; som &lt; nb_som; som++)
<a name="l00965"></a>00965                   xv(face, k)+=coord(sommet(face ,som), k);
<a name="l00966"></a>00966               <span class="keywordflow">for</span>(k=0; k&lt;dim; k++)
<a name="l00967"></a>00967                 xv(face, k)*=inv;
<a name="l00968"></a>00968             }
<a name="l00969"></a>00969         }
<a name="l00970"></a>00970     }
<a name="l00971"></a>00971 }
<a name="l00972"></a>00972 
<a name="l00973"></a>00973 <span class="comment">// Precondition:</span>
<a name="l00974"></a>00974 <span class="comment">// Parametre:</span>
<a name="l00975"></a>00975 <span class="comment">// Signification:</span>
<a name="l00976"></a>00976 <span class="comment">// Valeurs par defaut:</span>
<a name="l00977"></a>00977 <span class="comment">// Contraintes:</span>
<a name="l00978"></a>00978 <span class="comment">// Acces:</span>
<a name="l00979"></a>00979 <span class="comment">// </span>
<a name="l00980"></a>00980 <span class="comment">// Signification:</span>
<a name="l00981"></a>00981 <span class="comment">// Contraintes:</span>
<a name="l00982"></a>00982 <span class="comment">// Exception: type de face non reconnu</span>
<a name="l00983"></a>00983 <span class="comment">// Effets de bord:</span>
<a name="l00984"></a>00984 <span class="comment">// Postcondition:</span>
<a name="l00985"></a>00985 <span class="comment">//</span>
<a name="l00986"></a>00986 <span class="comment">//</span><span class="comment"></span>
<a name="l00987"></a>00987 <span class="comment">//! Reordonne les faces.&lt;br&gt;(on ne reordonne que les quadrangles)</span>
<a name="l00988"></a><a class="code" href="classFaces.html#a4007a9edeba60b1933d61221d18854e8">00988</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFaces.html#a4007a9edeba60b1933d61221d18854e8" title="Reordonne les faces. (on ne reordonne que les quadrangles)">Faces::reordonner</a>()
<a name="l00989"></a>00989 {
<a name="l00990"></a>00990 <span class="comment">// Cerr &lt;&lt; &quot;Faces::reordonner()&quot; &lt;&lt; finl;</span>
<a name="l00991"></a>00991   <span class="keywordflow">switch</span>(<a class="code" href="classFaces.html#a9d53215bfc5454b87c02ee38a7bdc4b1">type_face_</a>)
<a name="l00992"></a>00992     {
<a name="l00993"></a>00993     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a711b36882200129cf20323d3a1e74d80">Faces::point_1D</a> :
<a name="l00994"></a>00994     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a7b811ae7eda72b3a3e8ddead423a307b">Faces::point_1D_axi</a> :
<a name="l00995"></a>00995       {
<a name="l00996"></a>00996         <span class="keywordflow">break</span>;
<a name="l00997"></a>00997       }
<a name="l00998"></a>00998     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458ae7a86ec0ef1d9a27992dece86ab45ba6">Faces::segment_2D</a> :
<a name="l00999"></a>00999       {
<a name="l01000"></a>01000 <span class="comment">// on peut avoir des bords de maillage triangulaire en 3D</span>
<a name="l01001"></a>01001         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>&gt;=2);
<a name="l01002"></a>01002         <span class="keywordflow">break</span>;
<a name="l01003"></a>01003       }
<a name="l01004"></a>01004     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a906e0f70cd8ea102963e0c88ffe84e12">Faces::quadrilatere_2D_axi</a> :
<a name="l01005"></a>01005       {
<a name="l01006"></a>01006         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==2);
<a name="l01007"></a>01007         <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; mazone=<a class="code" href="classFaces.html#a7e46f548445fdb23cfe26bdbceb7776d" title="Renvoie la zone associee.">zone</a>();
<a name="l01008"></a>01008         <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom=mazone.<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>();
<a name="l01009"></a>01009         <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> S(2);
<a name="l01010"></a>01010         <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> NS(2);
<a name="l01011"></a>01011         <span class="keywordtype">int</span> i;
<a name="l01012"></a>01012         <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; nombre_faces=<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>();
<a name="l01013"></a>01013         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face &lt; nombre_faces; face++)
<a name="l01014"></a>01014           {
<a name="l01015"></a>01015             NS=-1;
<a name="l01016"></a>01016             <span class="keywordflow">for</span>(i=0; i&lt;2; i++)
<a name="l01017"></a>01017               S(i) = <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face, i);
<a name="l01018"></a>01018             assert( S(0) &gt;=0 );
<a name="l01019"></a>01019             assert( S(1) &gt;=0 );
<a name="l01020"></a>01020             <span class="keywordflow">if</span> (dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(0), 0) &gt; dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(1), 0))
<a name="l01021"></a>01021               {
<a name="l01022"></a>01022                 NS(0)=S(1);
<a name="l01023"></a>01023                 NS(1)=S(0);
<a name="l01024"></a>01024               }
<a name="l01025"></a>01025             <span class="keywordflow">else</span>
<a name="l01026"></a>01026               {
<a name="l01027"></a>01027                 NS(0)=S(0);
<a name="l01028"></a>01028                 NS(1)=S(1);
<a name="l01029"></a>01029               }
<a name="l01030"></a>01030 
<a name="l01031"></a>01031             <span class="keywordflow">for</span>(i=0; i&lt;2; i++)
<a name="l01032"></a>01032               {
<a name="l01033"></a>01033                 assert(NS(i)!=-1);
<a name="l01034"></a>01034                 <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face, i)=NS(i);
<a name="l01035"></a>01035               }
<a name="l01036"></a>01036           }
<a name="l01037"></a>01037         <span class="keywordflow">break</span>;
<a name="l01038"></a>01038       }
<a name="l01039"></a>01039     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458aba4d49a99fe199bf2429e4ee1f3e9fb8">Faces::segment_2D_axi</a> :
<a name="l01040"></a>01040       {
<a name="l01041"></a>01041         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==2);
<a name="l01042"></a>01042         <span class="keywordflow">break</span>;
<a name="l01043"></a>01043       }
<a name="l01044"></a>01044     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a8d0ad1b612ea277393c4ce895b4ce0af">Faces::triangle_3D</a> :
<a name="l01045"></a>01045       {
<a name="l01046"></a>01046         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==3);
<a name="l01047"></a>01047         <span class="keywordflow">break</span>;
<a name="l01048"></a>01048       }
<a name="l01049"></a>01049     <span class="keywordflow">case</span>  <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a9ecc5c802b34fa6bed080df0c4c72ab6">Faces::quadrangle_3D</a> :
<a name="l01050"></a>01050       {
<a name="l01051"></a>01051         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==3);
<a name="l01052"></a>01052         <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; mazone=<a class="code" href="classFaces.html#a7e46f548445fdb23cfe26bdbceb7776d" title="Renvoie la zone associee.">zone</a>();
<a name="l01053"></a>01053         <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom=mazone.<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>();
<a name="l01054"></a>01054         <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> S(4);
<a name="l01055"></a>01055         <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> NS(4);
<a name="l01056"></a>01056         <span class="keywordtype">int</span> i;
<a name="l01057"></a>01057         <span class="keywordtype">double</span> xmin, ymin, zmin;
<a name="l01058"></a>01058         <span class="keywordtype">double</span> xmax, ymax, zmax;
<a name="l01059"></a>01059         <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; nombre_faces=<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>();
<a name="l01060"></a>01060         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face &lt; nombre_faces; face++)
<a name="l01061"></a>01061           {
<a name="l01062"></a>01062             NS=-1;
<a name="l01063"></a>01063             <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01064"></a>01064               {
<a name="l01065"></a>01065                 S(i) = <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face, i);
<a name="l01066"></a>01066                 assert( S(i) &gt;=0 );
<a name="l01067"></a>01067               }
<a name="l01068"></a>01068             <span class="keywordflow">if</span> (1)
<a name="l01069"></a>01069               {
<a name="l01070"></a>01070 <span class="comment">// adaptation de Hexaedre_VEF::reordonne</span>
<a name="l01071"></a>01071                 <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord=dom.<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>();
<a name="l01072"></a>01072                 <span class="keywordtype">int</span> s0=S(0);
<a name="l01073"></a>01073                 <span class="keywordtype">int</span> s1=S(1);
<a name="l01074"></a>01074                 <span class="keywordtype">int</span> s2=S(2);
<a name="l01075"></a>01075                 <span class="keywordtype">int</span> s3=S(3);
<a name="l01076"></a>01076                 <span class="keywordtype">double</span> x03=coord(s3,0)-coord(s0,0);
<a name="l01077"></a>01077                 <span class="keywordtype">double</span> y03=coord(s3,1)-coord(s0,1);
<a name="l01078"></a>01078                 <span class="keywordtype">double</span> z03=coord(s3,2)-coord(s0,2);
<a name="l01079"></a>01079                 <span class="keywordtype">double</span> x02=coord(s2,0)-coord(s0,0);
<a name="l01080"></a>01080                 <span class="keywordtype">double</span> y02=coord(s2,1)-coord(s0,1);
<a name="l01081"></a>01081                 <span class="keywordtype">double</span> z02=coord(s2,2)-coord(s0,2);
<a name="l01082"></a>01082 
<a name="l01083"></a>01083                 <span class="keywordtype">double</span> x01=coord(s1,0)-coord(s0,0);
<a name="l01084"></a>01084                 <span class="keywordtype">double</span> y01=coord(s1,1)-coord(s0,1);
<a name="l01085"></a>01085                 <span class="keywordtype">double</span> z01=coord(s1,2)-coord(s0,2);
<a name="l01086"></a>01086 
<a name="l01087"></a>01087                 <a class="code" href="classVecteur3.html">Vecteur3</a> OA(x01,y01,z01);
<a name="l01088"></a>01088                 <a class="code" href="classVecteur3.html">Vecteur3</a> OB(x03,y03,z03);
<a name="l01089"></a>01089                 <a class="code" href="classVecteur3.html">Vecteur3</a> OC(x02,y02,z02);
<a name="l01090"></a>01090 
<a name="l01091"></a>01091                 <a class="code" href="classVecteur3.html">Vecteur3</a> nplan, nmedian;
<a name="l01092"></a>01092 <span class="comment">// rectangle C B</span>
<a name="l01093"></a>01093 <span class="comment">// O A</span>
<a name="l01094"></a>01094 <span class="comment">// calcul de n= OA ^ OC</span>
<a name="l01095"></a>01095                 <a class="code" href="classVecteur3.html#a5fff26b06fb58ea97cfd2e2e8f9c3d0f">Vecteur3::produit_vectoriel</a>(OA,OC,nplan);
<a name="l01096"></a>01096 <span class="comment">// calcul de la normale nmedian du plan (OB,n)</span>
<a name="l01097"></a>01097                 <a class="code" href="classVecteur3.html#a5fff26b06fb58ea97cfd2e2e8f9c3d0f">Vecteur3::produit_vectoriel</a>(OB,nplan,nmedian);
<a name="l01098"></a>01098 
<a name="l01099"></a>01099 <span class="comment">// on regarde si les points A et C sont bien de part et d&#39;autre du plan</span>
<a name="l01100"></a>01100                 <span class="keywordtype">double</span> psC=<a class="code" href="classVecteur3.html#a13d4a2f0fe07e384704d1917942892d0">Vecteur3::produit_scalaire</a>(nmedian,OA);
<a name="l01101"></a>01101                 <span class="keywordtype">double</span> psA=<a class="code" href="classVecteur3.html#a13d4a2f0fe07e384704d1917942892d0">Vecteur3::produit_scalaire</a>(nmedian,OC);
<a name="l01102"></a>01102 
<a name="l01103"></a>01103                 <span class="keywordflow">if</span> (psA*psC&gt;0)
<a name="l01104"></a>01104                   {
<a name="l01105"></a>01105 <span class="comment">// inversion des sommets 2 et 3</span>
<a name="l01106"></a>01106                     <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face,2)=S(3);
<a name="l01107"></a>01107                     <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face,3)=S(2);
<a name="l01108"></a>01108                     <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Permutation of local nodes 2 and 3 on the face &quot;</span> &lt;&lt;face&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01109"></a>01109 
<a name="l01110"></a>01110                   }
<a name="l01111"></a>01111               }
<a name="l01112"></a>01112             <span class="keywordflow">else</span>
<a name="l01113"></a>01113               {
<a name="l01114"></a>01114 
<a name="l01115"></a>01115                 xmin=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(0), 0), dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(1), 0));
<a name="l01116"></a>01116                 xmin=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(xmin, dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(2), 0));
<a name="l01117"></a>01117                 xmax=<a class="code" href="Double_8h.html#a1c45761573e6cbc97cfacac78d905016">max</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(0), 0), dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(1), 0));
<a name="l01118"></a>01118                 xmax=<a class="code" href="Double_8h.html#a1c45761573e6cbc97cfacac78d905016">max</a>(xmax, dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(2), 0));
<a name="l01119"></a>01119                 ymin=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(0), 1), dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(1), 1));
<a name="l01120"></a>01120                 ymin=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(ymin, dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(2), 1));
<a name="l01121"></a>01121                 ymax=<a class="code" href="Double_8h.html#a1c45761573e6cbc97cfacac78d905016">max</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(0), 1), dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(1), 1));
<a name="l01122"></a>01122                 ymax=<a class="code" href="Double_8h.html#a1c45761573e6cbc97cfacac78d905016">max</a>(ymax, dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(2), 1));
<a name="l01123"></a>01123                 zmin=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(0), 2), dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(1), 2));
<a name="l01124"></a>01124                 zmin=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(zmin, dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(2), 2));
<a name="l01125"></a>01125                 zmax=<a class="code" href="Double_8h.html#a1c45761573e6cbc97cfacac78d905016">max</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(0), 2), dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(1), 2));
<a name="l01126"></a>01126                 zmax=<a class="code" href="Double_8h.html#a1c45761573e6cbc97cfacac78d905016">max</a>(zmax, dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(2), 2));
<a name="l01127"></a>01127 
<a name="l01128"></a>01128                 <span class="keywordflow">if</span>(<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(zmin, zmax))
<a name="l01129"></a>01129                   {
<a name="l01130"></a>01130                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01131"></a>01131                       <span class="keywordflow">if</span> ( <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 0),xmin) &amp;&amp; <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 1),ymin))
<a name="l01132"></a>01132                         NS(0)=S(i);
<a name="l01133"></a>01133                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01134"></a>01134                       <span class="keywordflow">if</span> ( !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 0),xmin) &amp;&amp; <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 1),ymin))
<a name="l01135"></a>01135                         NS(1)=S(i);
<a name="l01136"></a>01136                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01137"></a>01137                       <span class="keywordflow">if</span> ( <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 0),xmin) &amp;&amp; !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 1),ymin))
<a name="l01138"></a>01138                         NS(2)=S(i);
<a name="l01139"></a>01139                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01140"></a>01140                       <span class="keywordflow">if</span> ( !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 0),xmin) &amp;&amp; !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 1),ymin))
<a name="l01141"></a>01141                         NS(3)=S(i);
<a name="l01142"></a>01142                   }
<a name="l01143"></a>01143                 <span class="keywordflow">if</span>(<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(ymin, ymax))
<a name="l01144"></a>01144                   {
<a name="l01145"></a>01145                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01146"></a>01146                       <span class="keywordflow">if</span> ( <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 0),xmin) &amp;&amp; <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 2),zmin))
<a name="l01147"></a>01147                         NS(0)=S(i);
<a name="l01148"></a>01148                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01149"></a>01149                       <span class="keywordflow">if</span> ( !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 0),xmin) &amp;&amp; <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 2),zmin))
<a name="l01150"></a>01150                         NS(1)=S(i);
<a name="l01151"></a>01151                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01152"></a>01152                       <span class="keywordflow">if</span> ( <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 0),xmin) &amp;&amp; !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 2),zmin))
<a name="l01153"></a>01153                         NS(2)=S(i);
<a name="l01154"></a>01154                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01155"></a>01155                       <span class="keywordflow">if</span> ( !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 0),xmin) &amp;&amp; !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 2),zmin))
<a name="l01156"></a>01156                         NS(3)=S(i);
<a name="l01157"></a>01157                   }
<a name="l01158"></a>01158                 <span class="keywordflow">if</span>(<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(xmin, xmax))
<a name="l01159"></a>01159                   {
<a name="l01160"></a>01160                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01161"></a>01161                       <span class="keywordflow">if</span> ( <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 1),ymin) &amp;&amp; <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 2),zmin))
<a name="l01162"></a>01162                         NS(0)=S(i);
<a name="l01163"></a>01163                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01164"></a>01164                       <span class="keywordflow">if</span> ( !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 1),ymin) &amp;&amp; <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 2),zmin))
<a name="l01165"></a>01165                         NS(1)=S(i);
<a name="l01166"></a>01166                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01167"></a>01167                       <span class="keywordflow">if</span> ( <a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 1),ymin) &amp;&amp; !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 2),zmin))
<a name="l01168"></a>01168                         NS(2)=S(i);
<a name="l01169"></a>01169                     <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01170"></a>01170                       <span class="keywordflow">if</span> ( !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 1),ymin) &amp;&amp; !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dom.<a class="code" href="classDomaine.html#a716f7248439ab8ec62d3e033ddfede41" title="Renvoie la j-ieme coordonnee du i-ieme noeud.">coord</a>(S(i), 2),zmin))
<a name="l01171"></a>01171                         NS(3)=S(i);
<a name="l01172"></a>01172                   }
<a name="l01173"></a>01173 
<a name="l01174"></a>01174                 <span class="keywordflow">for</span>(i=0; i&lt;4; i++)
<a name="l01175"></a>01175                   {
<a name="l01176"></a>01176                     assert(NS(i)!=-1);
<a name="l01177"></a>01177                     <a class="code" href="classFaces.html#abac5c946cee7423e80cef0a110f1007b" title="Renvoie le numero du j-ieme sommet de la i-ieme face.">sommet</a>(face, i)=NS(i);
<a name="l01178"></a>01178                   }
<a name="l01179"></a>01179               }
<a name="l01180"></a>01180           }
<a name="l01181"></a>01181         <span class="keywordflow">break</span>;
<a name="l01182"></a>01182       }
<a name="l01183"></a>01183     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a803df3361a4d6add0a79efe10c1e767e">Faces::quadrangle_3D_axi</a> :
<a name="l01184"></a>01184       {
<a name="l01185"></a>01185         assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==3);
<a name="l01186"></a>01186         <span class="keywordflow">break</span>;
<a name="l01187"></a>01187       }
<a name="l01188"></a>01188     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458acd0805076816031c49c07ac5aeacb10c">Faces::polygone_3D</a>:
<a name="l01189"></a>01189       assert(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==3);
<a name="l01190"></a>01190       <span class="keywordflow">break</span>;
<a name="l01191"></a>01191     <span class="keywordflow">default</span> :
<a name="l01192"></a>01192       {
<a name="l01193"></a>01193         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error TRUST in type of Faces not recognized &quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01194"></a>01194         <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l01195"></a>01195       }
<a name="l01196"></a>01196     }
<a name="l01197"></a>01197 <span class="comment">// Cerr &lt;&lt; &quot;Faces::reordonner() ok&quot; &lt;&lt; finl;</span>
<a name="l01198"></a>01198 }
<a name="l01199"></a>01199 
<a name="l01200"></a>01200 <span class="comment">// Precondition:</span>
<a name="l01201"></a>01201 <span class="comment">// Parametre: Faces&amp; faces</span>
<a name="l01202"></a>01202 <span class="comment">// Signification: les faces avec lesquel on compare l&#39;objet</span>
<a name="l01203"></a>01203 <span class="comment">// Valeurs par defaut:</span>
<a name="l01204"></a>01204 <span class="comment">// Contraintes: reference cosntante</span>
<a name="l01205"></a>01205 <span class="comment">// Acces: entree</span>
<a name="l01206"></a>01206 <span class="comment">// Parametre: IntVect&amp; renum</span>
<a name="l01207"></a>01207 <span class="comment">// Signification: le vecteur renumerotation</span>
<a name="l01208"></a>01208 <span class="comment">// - renum est de taille 1 et renum contient -1</span>
<a name="l01209"></a>01209 <span class="comment">// si il n&#39;y pas le meme nombre de face dans l&#39;objet</span>
<a name="l01210"></a>01210 <span class="comment">// que dans le parametre faces.</span>
<a name="l01211"></a>01211 <span class="comment">// - renum autant d&#39;elements que de nombre de face sinon.</span>
<a name="l01212"></a>01212 <span class="comment">// et renum(i) = le rang de la face i du parametre faces</span>
<a name="l01213"></a>01213 <span class="comment">// dans l&#39;objet courant</span>
<a name="l01214"></a>01214 <span class="comment">// Valeurs par defaut:</span>
<a name="l01215"></a>01215 <span class="comment">// Contraintes:</span>
<a name="l01216"></a>01216 <span class="comment">// Acces: sortie</span>
<a name="l01217"></a>01217 <span class="comment">// Exception:</span>
<a name="l01218"></a>01218 <span class="comment">// Effets de bord:</span>
<a name="l01219"></a>01219 <span class="comment">// Postcondition:</span>
<a name="l01220"></a>01220 <span class="comment">//</span>
<a name="l01221"></a>01221 <span class="comment">//</span><span class="comment"></span>
<a name="l01222"></a>01222 <span class="comment">//! Compare l&#39;objet Faces passe en parametre avec&lt;br&gt;l&#39;objet Faces lui-meme (this)</span>
<a name="l01223"></a>01223 <span class="comment"></span><span class="comment">/** \return IntVect\&amp;&lt;br&gt;</span>
<a name="l01224"></a>01224 <span class="comment">Signification:&lt;br&gt;</span>
<a name="l01225"></a>01225 <span class="comment">Contraintes: */</span>
<a name="l01226"></a><a class="code" href="classFaces.html#a7a0312ddd49904ccdee653b8a9d07ebb">01226</a> <a class="code" href="classIntVect.html">IntVect</a>&amp; <a class="code" href="classFaces.html#a7a0312ddd49904ccdee653b8a9d07ebb" title="Compare l&#39;objet Faces passe en parametre avec l&#39;objet Faces lui-meme (this)">Faces::compare</a>(<span class="keyword">const</span> <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; faces, <a class="code" href="classIntVect.html">IntVect</a>&amp; renum)
<a name="l01227"></a>01227 {
<a name="l01228"></a>01228   <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; la_zone=<a class="code" href="classFaces.html#a7e46f548445fdb23cfe26bdbceb7776d" title="Renvoie la zone associee.">zone</a>();
<a name="l01229"></a>01229   <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; sa_zone=faces.<a class="code" href="classFaces.html#a7e46f548445fdb23cfe26bdbceb7776d" title="Renvoie la zone associee.">zone</a>();
<a name="l01230"></a>01230   <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domaine=la_zone.<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>();
<a name="l01231"></a>01231   <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; son_domaine=sa_zone.<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>();
<a name="l01232"></a>01232   <span class="keywordflow">if</span> ( (<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>() != faces.<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>()) || ( <a class="code" href="classFaces.html#a9d53215bfc5454b87c02ee38a7bdc4b1">type_face_</a> != faces.<a class="code" href="classFaces.html#a9d53215bfc5454b87c02ee38a7bdc4b1">type_face_</a>) )
<a name="l01233"></a>01233     {
<a name="l01234"></a>01234       renum.<a class="code" href="classIntVect.html#a5900779fd9a3f9a82c68007a42b87d98" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(1);
<a name="l01235"></a>01235       renum=-1;
<a name="l01236"></a>01236       <span class="keywordflow">return</span> renum;
<a name="l01237"></a>01237     }
<a name="l01238"></a>01238   <span class="keywordflow">if</span>(domaine.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() == son_domaine.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>())
<a name="l01239"></a>01239     {
<a name="l01240"></a>01240 <span class="comment">// il suffit de comparer les numeros des sommets :</span>
<a name="l01241"></a>01241       <a class="code" href="classIntLists.html" title="Un tableau de listes de type IntList.">IntLists</a> listes;
<a name="l01242"></a>01242       <span class="keywordtype">int</span> premier=0;
<a name="l01243"></a>01243       <span class="keywordtype">int</span> numerol, face, ok, rang;
<a name="l01244"></a>01244       <span class="keywordflow">for</span>(face=0; face&lt;<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>(); face++)
<a name="l01245"></a>01245         {
<a name="l01246"></a>01246           numerol=<a class="code" href="Faces2_8cpp.html#ad6d86d794af3ee91ee530d7798304abf" title="Fonction hors classe Renvoie le numero du plus petit (au sens de la numerotation des sommets) sommet ...">ppsf</a>(*<span class="keyword">this</span>, face, <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>);
<a name="l01247"></a>01247           listes[numerol].add(premier++);
<a name="l01248"></a>01248         }
<a name="l01249"></a>01249       <span class="keywordflow">for</span>(face=0; face&lt;<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>(); face++)
<a name="l01250"></a>01250         {
<a name="l01251"></a>01251           numerol=<a class="code" href="Faces2_8cpp.html#ad6d86d794af3ee91ee530d7798304abf" title="Fonction hors classe Renvoie le numero du plus petit (au sens de la numerotation des sommets) sommet ...">ppsf</a>(faces, face, <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>);
<a name="l01252"></a>01252           <a class="code" href="classIntList__Curseur.html" title="List_Curseur de reels int precision.">IntList_Curseur</a> curseur(listes[numerol]);
<a name="l01253"></a>01253           ok=1;
<a name="l01254"></a>01254           <span class="keywordflow">while</span> (curseur &amp;&amp; ok)
<a name="l01255"></a>01255             {
<a name="l01256"></a>01256               rang=curseur.<a class="code" href="classIntList__Curseur.html#a1c1121b2d0e2b29c02e121543ab728e8" title="retourne la valeur du curseur">valeur</a>();
<a name="l01257"></a>01257               ok=!<a class="code" href="Faces2_8cpp.html#a45f26ea1c30b9b00e7ba13e01347c6b8" title="Fonction hors classe Compare 2 faces de 2 ensembles de faces f1 et f2 et Renvoie 1 si elles sont egal...">same</a>(faces, face, *<span class="keyword">this</span>, rang, <a class="code" href="classFaces.html#a8b49950e3a052aa14dc945596fea7d65">nb_som_face</a>);
<a name="l01258"></a>01258               <span class="keywordflow">if</span>(!ok)
<a name="l01259"></a>01259                 {
<a name="l01260"></a>01260 <span class="comment">// &quot;face==rang&quot;</span>
<a name="l01261"></a>01261                   renum(face)=rang;
<a name="l01262"></a>01262                 }
<a name="l01263"></a>01263               <span class="keywordflow">else</span>
<a name="l01264"></a>01264                 ++curseur;
<a name="l01265"></a>01265             }
<a name="l01266"></a>01266           <span class="keywordflow">if</span>(!curseur)
<a name="l01267"></a>01267             {
<a name="l01268"></a>01268               renum.<a class="code" href="classIntVect.html#a5900779fd9a3f9a82c68007a42b87d98" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(1);
<a name="l01269"></a>01269               renum=-1;
<a name="l01270"></a>01270               <span class="keywordflow">return</span> renum;
<a name="l01271"></a>01271             }
<a name="l01272"></a>01272         }
<a name="l01273"></a>01273     }
<a name="l01274"></a>01274   <span class="keywordflow">else</span>
<a name="l01275"></a>01275     {
<a name="l01276"></a>01276 <span class="comment">// il faut comparer les coordonnees des sommets :</span>
<a name="l01277"></a>01277     }
<a name="l01278"></a>01278   <span class="keywordflow">return</span> renum;
<a name="l01279"></a>01279 }
<a name="l01280"></a>01280 
<a name="l01281"></a>01281 
<a name="l01282"></a>01282 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:18 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
