<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Champs_dis/Champ_implementation_P0.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Champs_dis/Champ_implementation_P0.cpp</div>  </div>
</div>
<div class="contents">
<a href="Champ__implementation__P0_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Champ_implementation_P0.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Champs_dis</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/29</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Champ__implementation__P0_8h.html">Champ_implementation_P0.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Domaine_8h.html">Domaine.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Check__espace__virtuel_8h.html">Check_espace_virtuel.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VF_8h.html">Zone_VF.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Champ__base_8h.html">Champ_base.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Uniforme__Morceaux_8h.html">Champ_Uniforme_Morceaux.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Uniforme_8h.html">Champ_Uniforme.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Fonc__Morceaux_8h.html">Champ_Fonc_Morceaux.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Don__Fonc__txyz_8h.html">Champ_Don_Fonc_txyz.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Fonc__t_8h.html">Champ_Fonc_t.h</a>&gt;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a><a class="code" href="classChamp__implementation__P0.html#a8bf66cbabfec826dc3e012e6eb4526fe">00034</a> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; <a class="code" href="classChamp__implementation__P0.html#a8bf66cbabfec826dc3e012e6eb4526fe">Champ_implementation_P0::valeur_a_elem</a>(<span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; position, <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; result, <span class="keywordtype">int</span> poly)<span class="keyword"> const</span>
<a name="l00035"></a>00035 <span class="keyword"></span>{
<a name="l00036"></a>00036   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch_base       = <a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>();
<a name="l00037"></a>00037   <span class="keywordtype">int</span>            nb_components = ch_base.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00038"></a>00038   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp;  values        = ch_base.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
<a name="l00039"></a>00039 
<a name="l00040"></a>00040   assert(result.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == nb_components);
<a name="l00041"></a>00041   assert(poly&gt;=0);
<a name="l00042"></a>00042   assert(poly&lt;values.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0));
<a name="l00043"></a>00043   assert(values.<a class="code" href="classDoubleTab.html#ae6dda48778e7107e1beb723beef1f75b" title="Returns the number of dimensions of the array (&gt;= 1)">nb_dim</a>() == 2);
<a name="l00044"></a>00044   assert(values.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1) == nb_components);
<a name="l00045"></a>00045 
<a name="l00046"></a>00046   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_components; i++)
<a name="l00047"></a>00047     result(i) = values(poly,i);
<a name="l00048"></a>00048 
<a name="l00049"></a>00049   <span class="keywordflow">return</span> result;
<a name="l00050"></a>00050 }
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="classChamp__implementation__P0.html#acee95ac31938167ceb628e38155ab01b">00052</a> <span class="keywordtype">double</span> <a class="code" href="classChamp__implementation__P0.html#acee95ac31938167ceb628e38155ab01b">Champ_implementation_P0::valeur_a_elem_compo</a>(<span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; position, <span class="keywordtype">int</span> poly, <span class="keywordtype">int</span> ncomp)<span class="keyword"> const</span>
<a name="l00053"></a>00053 <span class="keyword"></span>{
<a name="l00054"></a>00054   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch_base       = <a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>();
<a name="l00055"></a>00055   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp;  values        = ch_base.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
<a name="l00056"></a>00056 
<a name="l00057"></a>00057   assert(ncomp&gt;=0);
<a name="l00058"></a>00058   assert(ncomp&lt;ch_base.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>());
<a name="l00059"></a>00059   assert(poly&gt;=0);
<a name="l00060"></a>00060   assert(poly&lt;values.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0));
<a name="l00061"></a>00061 
<a name="l00062"></a>00062   <span class="keywordtype">double</span> result = 0;
<a name="l00063"></a>00063 
<a name="l00064"></a>00064   assert(values.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() == ch_base.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>());
<a name="l00065"></a>00065   result = values(poly,ncomp);
<a name="l00066"></a>00066 
<a name="l00067"></a>00067   <span class="keywordflow">return</span> result;
<a name="l00068"></a>00068 }
<a name="l00069"></a>00069 
<a name="l00070"></a><a class="code" href="classChamp__implementation__P0.html#a7ad6b878ac59825a41216f3a284daacc">00070</a> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; <a class="code" href="classChamp__implementation__P0.html#a7ad6b878ac59825a41216f3a284daacc">Champ_implementation_P0::valeur_aux_elems</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; positions, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; polys, <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; result)<span class="keyword"> const</span>
<a name="l00071"></a>00071 <span class="keyword"></span>{
<a name="l00072"></a>00072   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch_base       = <a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>();
<a name="l00073"></a>00073   <span class="keywordtype">int</span>            nb_components = ch_base.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00074"></a>00074   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp;  values        = ch_base.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
<a name="l00075"></a>00075   <span class="keywordtype">int</span> nb_polys = polys.<a class="code" href="classIntVect.html#ad90cfd411cbbd631ccf1935bb36f7c40" title="Identique a size_reelle()">size</a>();
<a name="l00076"></a>00076 
<a name="l00077"></a>00077   <span class="keywordflow">if</span> (nb_polys==0)
<a name="l00078"></a>00078     <span class="keywordflow">return</span> result;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="comment">// TODO : FIXME</span>
<a name="l00081"></a>00081 <span class="comment">// For FT the resize should be done in its good position and not here ...</span>
<a name="l00082"></a>00082   <span class="keywordflow">if</span> (result.<a class="code" href="classDoubleTab.html#ae6dda48778e7107e1beb723beef1f75b" title="Returns the number of dimensions of the array (&gt;= 1)">nb_dim</a>() == 1 ) result.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_polys,1);
<a name="l00083"></a>00083 
<a name="l00084"></a>00084   assert(values.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() == nb_components);
<a name="l00085"></a>00085   assert(result.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() == nb_components || nb_components == 1);
<a name="l00086"></a>00086 
<a name="l00087"></a>00087   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_polys; i++)
<a name="l00088"></a>00088     {
<a name="l00089"></a>00089       <span class="keywordtype">int</span> cell = polys(i);
<a name="l00090"></a>00090       assert(cell&lt;values.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0));
<a name="l00091"></a>00091 
<a name="l00092"></a>00092       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; result.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>(); j++)
<a name="l00093"></a>00093         <span class="keywordflow">if</span> (cell != -1)
<a name="l00094"></a>00094           result(i, j) = values.<a class="code" href="classDoubleTab.html#ae6dda48778e7107e1beb723beef1f75b" title="Returns the number of dimensions of the array (&gt;= 1)">nb_dim</a>() == 1 ? values(cell) : values(cell, (result.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() == nb_components) * j); <span class="comment">//!&lt; Some post-processed fields can have nb_dim() == 1</span>
<a name="l00095"></a>00095 <span class="comment"></span>    }
<a name="l00096"></a>00096 
<a name="l00097"></a>00097   <span class="keywordflow">return</span> result;
<a name="l00098"></a>00098 }
<a name="l00099"></a>00099 
<a name="l00100"></a><a class="code" href="classChamp__implementation__P0.html#aed117852afe95059410024bda15de31c">00100</a> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; <a class="code" href="classChamp__implementation__P0.html#aed117852afe95059410024bda15de31c">Champ_implementation_P0::valeur_aux_elems_compo</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; positions, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; polys, <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; result, <span class="keywordtype">int</span> ncomp)<span class="keyword"> const</span>
<a name="l00101"></a>00101 <span class="keyword"></span>{
<a name="l00102"></a>00102   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch_base       = <a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>();
<a name="l00103"></a>00103   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp;  values        = ch_base.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
<a name="l00104"></a>00104 
<a name="l00105"></a>00105   <span class="keywordtype">int</span> nb_polys = polys.<a class="code" href="classIntVect.html#ad90cfd411cbbd631ccf1935bb36f7c40" title="Identique a size_reelle()">size</a>();
<a name="l00106"></a>00106 
<a name="l00107"></a>00107   assert(ncomp&gt;=0);
<a name="l00108"></a>00108   assert(ncomp&lt;ch_base.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>());
<a name="l00109"></a>00109   assert(result.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == nb_polys);
<a name="l00110"></a>00110 
<a name="l00111"></a>00111   assert(values.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() == ch_base.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>());
<a name="l00112"></a>00112   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_polys; i++)
<a name="l00113"></a>00113     {
<a name="l00114"></a>00114       <span class="keywordtype">int</span> cell = polys(i);
<a name="l00115"></a>00115       assert(cell&lt;values.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0));
<a name="l00116"></a>00116       <span class="keywordflow">if</span> (cell!=-1)
<a name="l00117"></a>00117         result(i) = values(cell,ncomp);
<a name="l00118"></a>00118 <span class="comment">// result(i) = (cell == -1) ? 0 : values(cell,ncomp);</span>
<a name="l00119"></a>00119     }
<a name="l00120"></a>00120 
<a name="l00121"></a>00121   <span class="keywordflow">return</span> result;
<a name="l00122"></a>00122 }
<a name="l00123"></a>00123 
<a name="l00124"></a><a class="code" href="classChamp__implementation__P0.html#ad9f0cae40425e2c1a84b9ea7bb5d0b64">00124</a> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; <a class="code" href="classChamp__implementation__P0.html#ad9f0cae40425e2c1a84b9ea7bb5d0b64">Champ_implementation_P0::remplir_coord_noeuds</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; positions)<span class="keyword"> const</span>
<a name="l00125"></a>00125 <span class="keyword"></span>{
<a name="l00126"></a>00126   <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone = <a class="code" href="classChamp__implementation__base.html#a25450317f64965ccdb136cfbec406b8a">get_zone_geom</a>();
<a name="l00127"></a>00127   positions.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(zone.<a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>(), <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>);
<a name="l00128"></a>00128   zone.<a class="code" href="classZone.html#ad8104f9be27f9c357e345b281a79064e" title="Calcule les centres de gravites des elements de la zone.">calculer_centres_gravite</a>(positions);
<a name="l00129"></a>00129   <span class="keywordflow">return</span> positions;
<a name="l00130"></a>00130 }
<a name="l00131"></a>00131 
<a name="l00132"></a><a class="code" href="classChamp__implementation__P0.html#a149f5bc904c2928ee1eaa3e5a8cb71b4">00132</a> <span class="keywordtype">int</span> <a class="code" href="classChamp__implementation__P0.html#a149f5bc904c2928ee1eaa3e5a8cb71b4">Champ_implementation_P0::remplir_coord_noeuds_et_polys</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; positions, <a class="code" href="classIntVect.html">IntVect</a>&amp; polys)<span class="keyword"> const</span>
<a name="l00133"></a>00133 <span class="keyword"></span>{
<a name="l00134"></a>00134   <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone = <a class="code" href="classChamp__implementation__base.html#a25450317f64965ccdb136cfbec406b8a">get_zone_geom</a>();
<a name="l00135"></a>00135   <span class="keywordtype">int</span> nb_elem = zone.<a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>();
<a name="l00136"></a>00136   polys.<a class="code" href="classIntVect.html#a5900779fd9a3f9a82c68007a42b87d98" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_elem);
<a name="l00137"></a>00137   <a class="code" href="classChamp__implementation__P0.html#ad9f0cae40425e2c1a84b9ea7bb5d0b64">remplir_coord_noeuds</a>(positions);
<a name="l00138"></a>00138   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;nb_elem; i++)
<a name="l00139"></a>00139     {
<a name="l00140"></a>00140       polys(i)=i;
<a name="l00141"></a>00141     }
<a name="l00142"></a>00142   <span class="keywordflow">return</span> 1;
<a name="l00143"></a>00143 }
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="classChamp__implementation__P0.html#a9b8b5f5240a26d44fac72124ddddac05">00145</a> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; <a class="code" href="classChamp__implementation__P0.html#a9b8b5f5240a26d44fac72124ddddac05">Champ_implementation_P0::valeur_aux_sommets_impl</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; result)<span class="keyword"> const</span>
<a name="l00146"></a>00146 <span class="keyword"></span>{
<a name="l00147"></a>00147   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch_base       = <a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>();
<a name="l00148"></a>00148   <span class="keywordtype">int</span>            nb_components = ch_base.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00149"></a>00149   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp;  values        = ch_base.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
<a name="l00150"></a>00150 
<a name="l00151"></a>00151   <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone              = <a class="code" href="classChamp__implementation__base.html#a25450317f64965ccdb136cfbec406b8a">get_zone_geom</a>();
<a name="l00152"></a>00152   <span class="keywordtype">int</span>      nb_cells          = zone.<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
<a name="l00153"></a>00153   <span class="keywordtype">int</span>      nb_nodes          = zone.<a class="code" href="classZone.html#ad340f571f81fa5c2e028b88c00b5c2ca" title="Renvoie le nombre de sommets de la zone.">nb_som</a>();
<a name="l00154"></a>00154   <span class="keywordtype">int</span>      nb_nodes_per_cell = zone.<a class="code" href="classZone.html#ae0b34a93b9ae8146df2d1884157afe9f" title="Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...">nb_som_elem</a>();
<a name="l00155"></a>00155 
<a name="l00156"></a>00156   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> count(nb_nodes);
<a name="l00157"></a>00157 
<a name="l00158"></a>00158   assert((result.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0) == nb_nodes)||(result.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0) == nb_nodes));
<a name="l00159"></a>00159 
<a name="l00160"></a>00160   result = 0;
<a name="l00161"></a>00161   count  = 0;
<a name="l00162"></a>00162 
<a name="l00163"></a>00163   assert(result.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() == nb_components);
<a name="l00164"></a>00164   assert(values.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() == nb_components);
<a name="l00165"></a>00165 
<a name="l00166"></a>00166   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_cells; i++)
<a name="l00167"></a>00167     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;nb_nodes_per_cell; j++)
<a name="l00168"></a>00168       {
<a name="l00169"></a>00169         <span class="keywordtype">int</span> node = zone.<a class="code" href="classZone.html#aa164c00997bc77a365a6da57bbec29ce" title="Renvoie le numero (global) j-ieme sommet du i-ieme element.">sommet_elem</a>(i,j);
<a name="l00170"></a>00170         <span class="keywordflow">if</span> (node &lt; nb_nodes)
<a name="l00171"></a>00171           {
<a name="l00172"></a>00172             count[node]++;
<a name="l00173"></a>00173             <span class="keywordflow">if</span> ( values.<a class="code" href="classDoubleTab.html#ae6dda48778e7107e1beb723beef1f75b" title="Returns the number of dimensions of the array (&gt;= 1)">nb_dim</a>() == 1 ) <span class="comment">//!&lt; TODO : FIXME : champ porosite doit etre un DoubleTab</span>
<a name="l00174"></a>00174 <span class="comment"></span>              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;nb_components; k++) result(node,k) += values(i);
<a name="l00175"></a>00175             <span class="keywordflow">else</span>
<a name="l00176"></a>00176               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;nb_components; k++) result(node,k) += values(i,k);
<a name="l00177"></a>00177           }
<a name="l00178"></a>00178       }
<a name="l00179"></a>00179   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_nodes; i++) <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;nb_components; j++) result(i,j) /= count[i];
<a name="l00180"></a>00180 
<a name="l00181"></a>00181   <span class="keywordflow">return</span> result;
<a name="l00182"></a>00182 }
<a name="l00183"></a>00183 
<a name="l00184"></a><a class="code" href="classChamp__implementation__P0.html#a1580776750ce830891a5d74f7566d180">00184</a> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; <a class="code" href="classChamp__implementation__P0.html#a1580776750ce830891a5d74f7566d180">Champ_implementation_P0::valeur_aux_sommets_compo_impl</a>(<a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; result, <span class="keywordtype">int</span> ncomp)<span class="keyword"> const</span>
<a name="l00185"></a>00185 <span class="keyword"></span>{
<a name="l00186"></a>00186   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch_base       = <a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>();
<a name="l00187"></a>00187   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp;  values        = ch_base.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
<a name="l00188"></a>00188 
<a name="l00189"></a>00189   <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone              = <a class="code" href="classChamp__implementation__base.html#a25450317f64965ccdb136cfbec406b8a">get_zone_geom</a>();
<a name="l00190"></a>00190   <span class="keywordtype">int</span>      nb_cells          = zone.<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
<a name="l00191"></a>00191   <span class="keywordtype">int</span>      nb_nodes          = zone.<a class="code" href="classZone.html#ad340f571f81fa5c2e028b88c00b5c2ca" title="Renvoie le nombre de sommets de la zone.">nb_som</a>();
<a name="l00192"></a>00192   <span class="keywordtype">int</span>      nb_nodes_per_cell = zone.<a class="code" href="classZone.html#ae0b34a93b9ae8146df2d1884157afe9f" title="Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...">nb_som_elem</a>();
<a name="l00193"></a>00193 
<a name="l00194"></a>00194   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> count(nb_nodes);
<a name="l00195"></a>00195 <span class="comment">// dvq ajout result=0;</span>
<a name="l00196"></a>00196   result=0;
<a name="l00197"></a>00197   assert(ncomp&gt;=0);
<a name="l00198"></a>00198   assert(ncomp&lt;ch_base.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>());
<a name="l00199"></a>00199   assert(result.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == nb_nodes);
<a name="l00200"></a>00200   assert(values.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() == ch_base.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>());
<a name="l00201"></a>00201 
<a name="l00202"></a>00202   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_cells; i++)
<a name="l00203"></a>00203     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;nb_nodes_per_cell; j++)
<a name="l00204"></a>00204       {
<a name="l00205"></a>00205         <span class="keywordtype">int</span> node = zone.<a class="code" href="classZone.html#aa164c00997bc77a365a6da57bbec29ce" title="Renvoie le numero (global) j-ieme sommet du i-ieme element.">sommet_elem</a>(i,j);
<a name="l00206"></a>00206         <span class="keywordflow">if</span> (node &lt; nb_nodes)
<a name="l00207"></a>00207           {
<a name="l00208"></a>00208             count[node]++;
<a name="l00209"></a>00209             result(node) += values(i,ncomp);
<a name="l00210"></a>00210           }
<a name="l00211"></a>00211       }
<a name="l00212"></a>00212   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_nodes; i++)
<a name="l00213"></a>00213     result(i) /= count[i];
<a name="l00214"></a>00214 
<a name="l00215"></a>00215   <span class="keywordflow">return</span> result;
<a name="l00216"></a>00216 }
<a name="l00217"></a>00217 
<a name="l00218"></a>00218 
<a name="l00219"></a><a class="code" href="classChamp__implementation__P0.html#a9325d6be4db35cf624669f6ffa838215">00219</a> <span class="keywordtype">int</span> <a class="code" href="classChamp__implementation__P0.html#a9325d6be4db35cf624669f6ffa838215">Champ_implementation_P0::imprime_P0</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os, <span class="keywordtype">int</span> ncomp)<span class="keyword"> const</span>
<a name="l00220"></a>00220 <span class="keyword"></span>{
<a name="l00221"></a>00221   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; cha=<a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>();
<a name="l00222"></a>00222   <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; la_zone=<a class="code" href="classChamp__implementation__base.html#a25450317f64965ccdb136cfbec406b8a">get_zone_geom</a>();
<a name="l00223"></a>00223   <span class="keywordtype">int</span> nb_elem_tot = la_zone.<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
<a name="l00224"></a>00224   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; val = cha.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
<a name="l00225"></a>00225   <span class="keywordtype">int</span> elem;
<a name="l00226"></a>00226 <span class="comment">// On recalcule les centres de gravite :</span>
<a name="l00227"></a>00227   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> pos_centre;
<a name="l00228"></a>00228   la_zone.<a class="code" href="classZone.html#ad8104f9be27f9c357e345b281a79064e" title="Calcule les centres de gravites des elements de la zone.">calculer_centres_gravite</a>(pos_centre);
<a name="l00229"></a>00229   os &lt;&lt; nb_elem_tot &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00230"></a>00230   <span class="keywordflow">for</span> (elem=0; elem&lt;nb_elem_tot; elem++)
<a name="l00231"></a>00231     {
<a name="l00232"></a>00232       <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>==3)
<a name="l00233"></a>00233         os &lt;&lt; pos_centre(elem,0) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; pos_centre(elem,1) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; pos_centre(elem,2) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> ;
<a name="l00234"></a>00234       <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>==2)
<a name="l00235"></a>00235         os &lt;&lt; pos_centre(elem,0) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; pos_centre(elem,1) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> ;
<a name="l00236"></a>00236       os &lt;&lt; val(elem,ncomp) &lt;&lt; finl;
<a name="l00237"></a>00237     }
<a name="l00238"></a>00238   os &lt;&lt; finl;
<a name="l00239"></a>00239   <a class="code" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <span class="stringliteral">&quot;Champ_P0_implementation::imprime_P0 END &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; &quot;</span> &lt;&lt; finl;
<a name="l00240"></a>00240   <span class="keywordflow">return</span> 1;
<a name="l00241"></a>00241 }
<a name="l00242"></a>00242 
<a name="l00243"></a><a class="code" href="classChamp__implementation__P0.html#aa32ed48fa60c6367400174c255e8c207">00243</a> <span class="keywordtype">int</span> <a class="code" href="classChamp__implementation__P0.html#aa32ed48fa60c6367400174c255e8c207">Champ_implementation_P0::affecter_</a>(<span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch)
<a name="l00244"></a>00244 {
<a name="l00245"></a>00245 <span class="comment">// if (le_champ().a_une_zone_dis_base() &amp;&amp; ch.a_une_zone_dis_base() &amp;&amp; le_champ().zone_dis_base()==ch.zone_dis_base())</span>
<a name="l00246"></a>00246 <span class="comment">// Plus general en comparant la zone:</span>
<a name="l00247"></a>00247 <span class="comment">// Ajout de Champ_Uniforme_Morceaux/Champ_Fonc_Morceaux/Champ_Don_Fonc_txyz qui sont aux elements</span>
<a name="l00248"></a>00248   <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme__Morceaux.html" title="classe Champ_Uniforme_Morceaux Cette classe represente champ constant par morceaux dans l&#39;espace et c...">Champ_Uniforme_Morceaux</a>, ch) || <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Fonc__Morceaux.html" title="classe Champ_Fonc_Morceaux Cette classe represente un champ prenant par morceaux des valuers fonction...">Champ_Fonc_Morceaux</a>, ch) || <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Don__Fonc__txyz.html" title="class Champ_Don_Fonc_txyz Cette classe represente un champ de donnees fonction des variables d&#39;espace...">Champ_Don_Fonc_txyz</a>, ch) ||
<a name="l00249"></a>00249       (<a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>().a_une_zone_dis_base() &amp;&amp; ch.<a class="code" href="classChamp__base.html#a785d38f7072276cb2810e378c1a0b65e">a_une_zone_dis_base</a>() &amp;&amp; <a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>().<a class="code" href="classChamp__base.html#a298ee24f3efdf2f60f39a13966a20bcd">zone_dis_base</a>().<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>()==ch.<a class="code" href="classChamp__base.html#a298ee24f3efdf2f60f39a13966a20bcd">zone_dis_base</a>().<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>()))
<a name="l00250"></a>00250     {
<a name="l00251"></a>00251 <span class="comment">// Meme support donc on utilise une methode plus rapide pour affecter_</span>
<a name="l00252"></a>00252 <span class="comment">// que la methode generale dans Champ_Fonc_base::affecter_ ou Champ_Inc_base::affecter_</span>
<a name="l00253"></a>00253       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> noeuds;
<a name="l00254"></a>00254       <a class="code" href="classIntVect.html">IntVect</a> polys;
<a name="l00255"></a>00255       <a class="code" href="classChamp__implementation__P0.html#a149f5bc904c2928ee1eaa3e5a8cb71b4">remplir_coord_noeuds_et_polys</a>(noeuds, polys);
<a name="l00256"></a>00256       ch.<a class="code" href="classChamp__base.html#a43eede56d800b44980b8534a1845c9a5" title="provoque une erreur ! doit etre surchargee par les classes derivees non virtuelle pure par commodite ...">valeur_aux_elems</a>(noeuds, polys, <a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>().valeurs());
<a name="l00257"></a>00257       <span class="keywordflow">return</span> 1;
<a name="l00258"></a>00258     }
<a name="l00259"></a>00259   <span class="keywordflow">else</span>
<a name="l00260"></a>00260     {
<a name="l00261"></a>00261       <span class="keywordflow">if</span> ((<a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>().zone_dis_base().zone().nb_elem()&gt;10000) &amp;&amp; (!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>, ch)))
<a name="l00262"></a>00262         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Warning (if called each time step): computing field &quot;</span> &lt;&lt; <a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>().<a class="code" href="classField__base.html#ae1377124eabe8387aced762115b062bb" title="Renvoie le nom du champ.">le_nom</a>() &lt;&lt; <span class="stringliteral">&quot; on domain &quot;</span> &lt;&lt; <a class="code" href="classChamp__implementation__P0.html#ad2ebf7cafdaaed7c30ac8cd765d60b0c">le_champ</a>().<a class="code" href="classChamp__base.html#a298ee24f3efdf2f60f39a13966a20bcd">zone_dis_base</a>().<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt; <span class="stringliteral">&quot; is not optimized... &quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00263"></a>00263       <span class="keywordflow">return</span> 0;
<a name="l00264"></a>00264     }
<a name="l00265"></a>00265 }
<a name="l00266"></a>00266 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:13 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
