<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: DomaineCutter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">DomaineCutter Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="DomaineCutter" --><!-- doxytag: inherits="Objet_U" -->
<p>Classe outil permettant de generer des sous-domaines pour un calcul parallele<br/>
a partir d'un domaine de depart (domaine_global) et d'un tableau de decoupage<br/>
des elements de ce domaine (elem_part).<br/>
Voir aussi <a class="el" href="classPartitionneur__base.html" title="Classe de base des partitionneurs de domaine&lt;br&gt;(pour decouper un maillage avant un calcul parallele)...">Partitionneur_base</a>.  
 <a href="classDomaineCutter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for DomaineCutter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classDomaineCutter.png" usemap="#DomaineCutter_map" alt=""/>
  <map id="DomaineCutter_map" name="DomaineCutter_map">
<area href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob..." alt="Objet_U" shape="rect" coords="0,56,95,80"/>
<area href="classProcess.html" title="Classe de base de TRUST (notamment Objet_U). Elle fournit quelques services de base accessibles de pa..." alt="Process" shape="rect" coords="0,0,95,24"/>
</map>
 </div></div>

<p><a href="classDomaineCutter-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a0bbc973c7219042f38b13b7db0f00afe">DomaineCutter</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructeur par defaut (structure vide)  <a href="#a0bbc973c7219042f38b13b7db0f00afe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a444b0f88508b57622f00746958d54504">~DomaineCutter</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#aced2272b5d196cc7b9822281914c9080">taille_memoire</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a05d12f50c6e18a95ef955a7f4f7067cc">duplique</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a2e74f9c3c7ab2ee38d55559e3145111a">get_info</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne des informations sur le type de l'Objet_U.  <a href="#a2e74f9c3c7ab2ee38d55559e3145111a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a700d1294c0ad188e96dcfbd5903ae974">initialiser</a> (const <a class="el" href="classDomaine.html">Domaine</a> &amp;domaine_global, const <a class="el" href="classIntVect.html">IntVect</a> &amp;elem_part, const int nb_parts, const int epaisseur_joint, const <a class="el" href="classNoms.html">Noms</a> &amp;bords_periodiques, const int permissif=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare les structures de donnees pour la construction<br/>
des sous-domaines en fonction d'un decoupage fourni dans elem_part.<br/>
Parametre: domaine_global<br/>
Signification: le domaine a decouper (doit avoir une zone). On prend une ref<br/>
a ce domaine (il doit donc rester valide).<br/>
Parametre: elem_part<br/>
Signification: pour chaque element, numero du sous-domaine auquel il appartient,<br/>
avec 0 &lt;= elem_part[i] &lt; nb_parts. Attention, on prend une ref a ce tableau, on<br/>
ne fait pas une copie local. Le tableau doit continuer a exister jusqu'a ce qu'on<br/>
a fini d'utiliser <a class="el" href="classDomaineCutter.html" title="Classe outil permettant de generer des sous-domaines pour un calcul parallele a partir d&#39;un domaine d...">DomaineCutter</a>.<br/>
Parametre: nb_parts<br/>
Signification: nombre total de sous-domaines<br/>
Parametre: les_faces<br/>
Parametre: epaisseur_joint.  <a href="#a700d1294c0ad188e96dcfbd5903ae974"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a25ed06d3770465a4e4208555f4e5f5d2">reset</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">annule toutes les references et vide les tableaux  <a href="#a25ed06d3770465a4e4208555f4e5f5d2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a151d632d05724329525a5b05385ac2c1">construire_sous_domaine</a> (const int part, <a class="el" href="classDomaineCutter__Correspondance.html">DomaineCutter_Correspondance</a> &amp;correspondance_, <a class="el" href="classDomaine.html">Domaine</a> &amp;sous_domaine_, const <a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a> *som_raccord=NULL) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remplit la structure "correspondance" et le "sous_domaine"<br/>
pour la partie "part". On cherche les sommets qui appartiennent a la sous-partie,<br/>
on calcule les tableaux de renumerotation des sommets et des elements entre numero<br/>
global et numero local (structure correspondance), on remplit les structures de<br/>
sous_domaine (sommets, elements, frontieres, joints, etc).<br/>
Attention: sous_domaine doit etre un objet vierge (ne pas contenir de zone)  <a href="#a151d632d05724329525a5b05385ac2c1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#ad7f0b2de1b78ce436891b8e223c942cb">construire_sous_domaine</a> (const int part, <a class="el" href="classDomaine.html">Domaine</a> &amp;sous_domaine_) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a77aab8be2856e40a5788398e36f411cc">ecrire_zones</a> (const <a class="el" href="classNom.html">Nom</a> &amp;basename, const <a class="el" href="classDecouper.html#a6185c781230e9987f8d0ed3deba63c77">Decouper::ZonesFileOutputType</a> format, <a class="el" href="classIntVect.html">IntVect</a> &amp;elem_part, const int &amp;reorder, const <a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a> *som_raccord=NULL)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Generation de tous les sous-domaines du calcul et ecriture sur disque des<br/>
fichiers basename_000n.Zones pour 0 &lt;= n &lt; nb_parties_.<br/>
Si des "sous-zones" sont definies (dans le champ domaine.ss_zones()),<br/>
on genere aussi un fichier par sous-zone.  <a href="#a77aab8be2856e40a5788398e36f411cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classNoms.html">Noms</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#aad518dae11c71eb4205ddf214fe348b5">bords_internes</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classObjet__U.html">Objet_U</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a7478750733c0158d2d8b5613c4163f89">cree_instance</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a352a5da558d62de3e17dd51cab874203">info</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne des informations sur le type de l'Objet_U.  <a href="#a352a5da558d62de3e17dd51cab874203"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classDomaineCutter.html">DomaineCutter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a429149ee8c78963f541e04f6f9aaa77a">self_cast</a> (<a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classDomaineCutter.html">DomaineCutter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#afb1fd0ca16459c4265add63392f5b35e">self_cast</a> (const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">methode ajoutee pour caster en python  <a href="#afb1fd0ca16459c4265add63392f5b35e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classType__info.html">Type_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#aa50de045c9faab7e4e2341ff7f1ed242">info_obj</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a22fd81987dad44caafd02ce43815c9d5">printOn</a> (<a class="el" href="classSortie.html">Sortie</a> &amp;x) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Appel invalide. exit.  <a href="#a22fd81987dad44caafd02ce43815c9d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classEntree.html">Entree</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a03d30ce2cf6a1da0a73ee068b4e85fec">readOn</a> (<a class="el" href="classEntree.html">Entree</a> &amp;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Appel invalide. exit.  <a href="#a03d30ce2cf6a1da0a73ee068b4e85fec"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a2a1da80e63599c4e43955a05e24d4ce7">construire_faces_bords_ssdom</a> (const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;liste_inverse_sommets, const int partie, <a class="el" href="classZone.html">Zone</a> &amp;zone_partie) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a0d823ebe378eb13f8ebe8a95410f6565">construire_faces_raccords_ssdom</a> (const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;liste_inverse_sommets, const int partie, <a class="el" href="classZone.html">Zone</a> &amp;zone_partie) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructions des raccords de la sous_partie a partir des raccords<br/>
du domaine global.<br/>
Les <a class="el" href="classRaccord__local__homogene.html" title="Classe Raccord_local_homogene Cette classe represente un Raccord_local ou les maillages de part et d&#39;...">Raccord_local_homogene</a> sont transformes en <a class="el" href="classRaccord__distant__homogene.html">Raccord_distant_homogene</a>.  <a href="#a0d823ebe378eb13f8ebe8a95410f6565"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#aba35bd15f234dc72046ca3281e47afbc">construire_faces_internes_ssdom</a> (const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;liste_inverse_sommets, const int partie, <a class="el" href="classZone.html">Zone</a> &amp;zone_partie) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#adfdcdff976a3d5638a3b1f7b66e81826">construire_sommets_joints_ssdom</a> (const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;liste_sommets, const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;liste_inverse_sommets, const int partie, const <a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a> *som_raccord, <a class="el" href="classZone.html">Zone</a> &amp;zone_partie) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creation des joints et construction des listes et des<br/>
tableaux de sommets joints pour tous les joints de<br/>
la partie part. Les sommets du joint avec le "PEvoisin" sont<br/>
les sommets de la partie "part" qui sont aussi un sommet d'un<br/>
element appartenant au PEvoisin.<br/>
Les joints apparaissent dans la liste dans l'ordre croissant des PEs.<br/>
Note: Les faces que l'on va creer ensuite utilisent forcement<br/>
des sommets que l'on va trouver ici.<br/>
Propriete : Les sommets du joint sont classes dans l'ordre croissant<br/>
de leur numero local, donc dans l'ordre croissant de<br/>
leur numero global (voir Remplir_Numeros_Sommets)  <a href="#adfdcdff976a3d5638a3b1f7b66e81826"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#adf1b1154ac181e0fc367e7d78cedecaa">construire_faces_joints_ssdom</a> (const int partie, const <a class="el" href="classDomaineCutter__Correspondance.html">DomaineCutter_Correspondance</a> &amp;correspondance, <a class="el" href="classZone.html">Zone</a> &amp;zone_partie) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a9a64f400c752faa582fd92995665b60f">construire_elements_distants_ssdom</a> (const int partie, const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;liste_sommets, const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;liste_inverse_elements, <a class="el" href="classZone.html">Zone</a> &amp;zone_partie) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">calcul et remplissage de<br/>
zone_partie.joint(i).set_joint_item(Joint::ELEMENT).set_items_distants()<br/>
(liste des elements distants).<br/>
Eventuellement, de nouveaux joints sont crees.<br/>
Historique: methode codee en janvier 2006 par B.Mathieu. Je croyais que c'etait<br/>
trop complique de determiner les elements distants au moment du scatter et j'ai<br/>
fini par trouver comment faire. Du coup la methode ci-dessous n'est plus utilisee<br/>
en temps normal. En cas de probleme, on peut la reactiver: en theorie elle donne<br/>
exactement le meme resultat que l'algorithme code dans <a class="el" href="classScatter.html#a589c34e38a91b69c2e4b43c77bf2bd9d" title="Remplissage du tableau &quot;espace_distant()&quot; des elements dans les joints. C&#39;est ici qu&#39;on determine l...">Scatter::calculer_espace_distant_elements</a>.<br/>
Attention, elle ne fait rien de special pour le bords periodiques...  <a href="#a9a64f400c752faa582fd92995665b60f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a6915956c4d26e4de8bb8f82c848108d0">writeData</a> (const <a class="el" href="classDomaine.html">Domaine</a> &amp;sous_domaine, <a class="el" href="classSortie.html">Sortie</a> &amp;os) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classDomaineCutter.html">DomaineCutter</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a730003ff4a1d8213ab32049817336697">operator=</a> (const <a class="el" href="classDomaineCutter.html">DomaineCutter</a> &amp;dc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Appel invalide. exit.  <a href="#a730003ff4a1d8213ab32049817336697"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a095f50f81778d6e78fd0c71f45b63340">DomaineCutter</a> (const <a class="el" href="classDomaineCutter.html">DomaineCutter</a> &amp;dc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Appel invalide. exit.  <a href="#a095f50f81778d6e78fd0c71f45b63340"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRef__Domaine.html">Ref_Domaine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">ref_domaine_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRef__IntVect.html">Ref_IntVect</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a9da3c1aef1b48f6d6566abbee7dbcb85">ref_elem_part_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNoms.html">Noms</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a78746f6428e7647f1eb79292c66c7147">liste_bords_periodiques_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a53b94536327688de8d72b5a36c2cf173">epaisseur_joint_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a6269ac4cb6130e39c5c5be181253fad5">som_elem_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#abd0e4e1397f134880628a61dd7e629e7">liste_elems_sous_domaines_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#a396245cb32fa5d410b790146a274d4a8">voisins_bords_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classNoms.html">Noms</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDomaineCutter.html#ad12026aab58f8a6670fe1415dfe5324e">bords_a_pb_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Classe outil permettant de generer des sous-domaines pour un calcul parallele<br/>
a partir d'un domaine de depart (domaine_global) et d'un tableau de decoupage<br/>
des elements de ce domaine (elem_part).<br/>
Voir aussi <a class="el" href="classPartitionneur__base.html" title="Classe de base des partitionneurs de domaine&lt;br&gt;(pour decouper un maillage avant un calcul parallele)...">Partitionneur_base</a>. </p>

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00040">40</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0bbc973c7219042f38b13b7db0f00afe"></a><!-- doxytag: member="DomaineCutter::DomaineCutter" ref="a0bbc973c7219042f38b13b7db0f00afe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DomaineCutter::DomaineCutter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructeur par defaut (structure vide) </p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00962">962</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="DomaineCutter_8h_source.html#l00106">epaisseur_joint_</a>, and <a class="el" href="DomaineCutter_8h_source.html#l00104">nb_parties_</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a> = -1;
  <a class="code" href="classDomaineCutter.html#a53b94536327688de8d72b5a36c2cf173">epaisseur_joint_</a> = -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a444b0f88508b57622f00746958d54504"></a><!-- doxytag: member="DomaineCutter::~DomaineCutter" ref="a444b0f88508b57622f00746958d54504" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DomaineCutter::~DomaineCutter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00039">39</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a095f50f81778d6e78fd0c71f45b63340"></a><!-- doxytag: member="DomaineCutter::DomaineCutter" ref="a095f50f81778d6e78fd0c71f45b63340" args="(const DomaineCutter &amp;dc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DomaineCutter::DomaineCutter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDomaineCutter.html">DomaineCutter</a> &amp;&#160;</td>
          <td class="paramname"><em>dc</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Appel invalide. exit. </p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00049">49</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>.</p>
<div class="fragment"><pre class="fragment">                                                   : <a class="code" href="classObjet__U.html#a9041817b5b0efa434474f7185fc01a7f" title="Constructeur par defaut : attribue un numero d&#39;identifiant unique a l&#39;objet (object_id_), et enregistre l&#39;objet en &quot;memoire&quot; en lui donnant un numero _num_obj_. L&#39;object_id_ et tres pratique pour debugger...">Objet_U</a>(dc)
{
  <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aad518dae11c71eb4205ddf214fe348b5"></a><!-- doxytag: member="DomaineCutter::bords_internes" ref="aad518dae11c71eb4205ddf214fe348b5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classNoms.html">Noms</a>&amp; DomaineCutter::bords_internes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00063">63</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

<p>References <a class="el" href="DomaineCutter_8h_source.html#l00114">bords_a_pb_</a>.</p>

<p>Referenced by <a class="el" href="Create__domain__from__sous__zone_8cpp_source.html#l00045">Create_domain_from_sous_zone::interpreter_()</a>.</p>
<div class="fragment"><pre class="fragment">  {
    <span class="keywordflow">return</span> <a class="code" href="classDomaineCutter.html#ad12026aab58f8a6670fe1415dfe5324e">bords_a_pb_</a>;
  }
</pre></div>
</div>
</div>
<a class="anchor" id="a9a64f400c752faa582fd92995665b60f"></a><!-- doxytag: member="DomaineCutter::construire_elements_distants_ssdom" ref="a9a64f400c752faa582fd92995665b60f" args="(const int partie, const ArrOfInt &amp;liste_sommets, const ArrOfInt &amp;liste_inverse_elements, Zone &amp;zone_partie) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::construire_elements_distants_ssdom </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>partie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>liste_sommets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>liste_inverse_elements</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classZone.html">Zone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone_partie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>calcul et remplissage de<br/>
zone_partie.joint(i).set_joint_item(Joint::ELEMENT).set_items_distants()<br/>
(liste des elements distants).<br/>
Eventuellement, de nouveaux joints sont crees.<br/>
Historique: methode codee en janvier 2006 par B.Mathieu. Je croyais que c'etait<br/>
trop complique de determiner les elements distants au moment du scatter et j'ai<br/>
fini par trouver comment faire. Du coup la methode ci-dessous n'est plus utilisee<br/>
en temps normal. En cas de probleme, on peut la reactiver: en theorie elle donne<br/>
exactement le meme resultat que l'algorithme code dans <a class="el" href="classScatter.html#a589c34e38a91b69c2e4b43c77bf2bd9d" title="Remplissage du tableau &quot;espace_distant()&quot; des elements dans les joints. C&#39;est ici qu&#39;on determine l...">Scatter::calculer_espace_distant_elements</a>.<br/>
Attention, elle ne fait rien de special pour le bords periodiques... </p>

<p><p>&lt; Sommets de depart </p>
</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00517">517</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="DomaineCutter_8cpp_source.html#l00396">ajouter_joints()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00355">ArrOfInt::append_array()</a>, <a class="el" href="Scatter_8cpp_source.html#l00778">array_trier_retirer_doublons()</a>, <a class="el" href="IntTab_8h_source.html#l00233">IntTab::dimension()</a>, <a class="el" href="Joint_8h_source.html#l00066">Joint::ELEMENT</a>, <a class="el" href="DomaineCutter_8h_source.html#l00106">epaisseur_joint_</a>, <a class="el" href="Joint__Items_8cpp_source.html#l00049">Joint_Items::items_communs()</a>, <a class="el" href="Zone_8h_source.html#l00909">Zone::joint()</a>, <a class="el" href="Joint_8cpp_source.html#l00186">Joint::joint_item()</a>, <a class="el" href="Zone_8h_source.html#l00957">Zone::joint_of_pe()</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="Zone_8h_source.html#l00550">Zone::nb_joints()</a>, <a class="el" href="ArrOfInt_8cpp_source.html#l00897">ArrOfInt::ordonne_array()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00432">parcourir_epaisseurs_elements()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00097">ref_domaine_</a>, <a class="el" href="DomaineCutter_8h_source.html#l00100">ref_elem_part_</a>, <a class="el" href="ArrOfInt_8h_source.html#l00240">ArrOfInt::resize_array()</a>, <a class="el" href="Joint__Items_8cpp_source.html#l00073">Joint_Items::set_items_distants()</a>, <a class="el" href="Joint_8cpp_source.html#l00159">Joint::set_joint_item()</a>, <a class="el" href="ArrOfInt_8cpp_source.html#l00443">ArrOfInt::set_smart_resize()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00108">som_elem_</a>, <a class="el" href="Joint_8h_source.html#l00066">Joint::SOMMET</a>, <a class="el" href="Ref__IntVect_8h_source.html#l00029">Ref_IntVect::valeur()</a>, <a class="el" href="Ref__Domaine_8h_source.html#l00032">Ref_Domaine::valeur()</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l01115">construire_sous_domaine()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone          = <a class="code" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">ref_domaine_</a>.<a class="code" href="classRef__Domaine.html#a89e1c374ada79faa2c7e9a76c3393ad8">valeur</a>().<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elements    = zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
  <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; elem_part = <a class="code" href="classDomaineCutter.html#a9da3c1aef1b48f6d6566abbee7dbcb85">ref_elem_part_</a>.<a class="code" href="classRef__IntVect.html#a1c7959efd862b8dd91818c78820c31b2">valeur</a>();

  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som_elem = elements.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);

<span class="comment">// Premiere etape: chercher les elements virtuels de la sous-partie</span>
<span class="comment">// (elements des autres parties situes dans l&#39;epaisseur de joint en partant</span>
<span class="comment">// des sommets de joint).</span>
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> elements_virtuels;
  {
<span class="comment">// Construction d&#39;un tableau contenant tous les sommets de tous les joints</span>
    <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> sommets_joint;
    sommets_joint.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = zone_partie.<a class="code" href="classZone.html#ab096afb61e89705709a4ae6d3576a644" title="Renvoie le nombre de joints de la zone.">nb_joints</a>();
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)
      {
        <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; sommets = zone_partie.<a class="code" href="classZone.html#acec4c61032df8b55a95f9e7197ef6e3c" title="Renvoie le i-ieme joint de la zone&lt;br&gt;(version const)">joint</a>(i_joint).<a class="code" href="classJoint.html#a3f49fb1150967b436a115a7373ab27a0" title="Renvoie les informations de joint pour le type demande.">joint_item</a>(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).<a class="code" href="classJoint__Items.html#a435fb1629f6dafb089605913517e73c4" title="Voir items_communs_.">items_communs</a>();
        <span class="keyword">const</span> <span class="keywordtype">int</span> n = sommets.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)
          {
            <span class="keyword">const</span> <span class="keywordtype">int</span> sommet_local = sommets[i];
            <span class="keyword">const</span> <span class="keywordtype">int</span> sommet_global = liste_sommets[sommet_local];
            sommets_joint.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(sommet_global);
          }
      }

    <a class="code" href="DomaineCutter_8cpp.html#ad7049d16e9165a0d702924537dffe3e3" title="A partir d&#39;une liste de sommets de depart (liste_sommets_depart), on parcourt les elements voisins de...">parcourir_epaisseurs_elements</a>(elements, <a class="code" href="classDomaineCutter.html#a6269ac4cb6130e39c5c5be181253fad5">som_elem_</a>, elem_part,
                                  sommets_joint, <span class="comment">//!&lt; Sommets de depart</span>
<span class="comment"></span>                                  partie, <span class="comment">/* ignorer les elements de la partie locale */</span>
                                  <a class="code" href="classDomaineCutter.html#a53b94536327688de8d72b5a36c2cf173">epaisseur_joint_</a>,
                                  elements_virtuels);
  }
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_elements_virtuels = elements_virtuels.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<span class="comment">// Construire la liste des numeros de zones voisines et ajouter les joints manquants:</span>
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> parties_voisines;
  {
    parties_voisines.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_elements_virtuels; i++)
      {
        <span class="keyword">const</span> <span class="keywordtype">int</span> elem = elements_virtuels[i];
        <span class="keyword">const</span> <span class="keywordtype">int</span> part = elem_part[elem];
        parties_voisines.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(part);
      }
    <a class="code" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709" title="Methode outil pour retirer les doublons dans un tableau.">array_trier_retirer_doublons</a>(parties_voisines);
    <a class="code" href="DomaineCutter_8cpp.html#aa231b6022b4a942b392a39d991b8ffd3" title="Pour chaque pe mentionne dans le tableau &quot;voisins&quot;, si un joint avec ce pe n&#39;existe par encore dans...">ajouter_joints</a>(zone_partie, parties_voisines, <a class="code" href="classDomaineCutter.html#a53b94536327688de8d72b5a36c2cf173">epaisseur_joint_</a>);
  }

<span class="comment">// Pour chaque partie voisine, chercher les elements distants:</span>
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_parties_voisines = parties_voisines.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> sommets_depart;
  sommets_depart.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_part = 0; i_part &lt; nb_parties_voisines; i_part++)
    {
      <span class="keyword">const</span> <span class="keywordtype">int</span> partie_voisine = parties_voisines[i_part];
      sommets_depart.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(0);
<span class="comment">// Liste des sommets des elements virtuels de la partie voisine:</span>
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_elem = 0; i_elem &lt; nb_elements_virtuels; i_elem++)
        {
          <span class="keyword">const</span> <span class="keywordtype">int</span> elem = elements_virtuels[i_elem];
          <span class="keywordflow">if</span> (elem_part(elem) == partie_voisine)
            {
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_som_elem; i++)
                {
                  <span class="keyword">const</span> <span class="keywordtype">int</span> som = elements(elem, i);
                  sommets_depart.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(som);
                }
            }
        }

<span class="comment">// Recherche des elements voisins de cette liste:</span>
      <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> elements_distants;
      <a class="code" href="DomaineCutter_8cpp.html#ad7049d16e9165a0d702924537dffe3e3" title="A partir d&#39;une liste de sommets de depart (liste_sommets_depart), on parcourt les elements voisins de...">parcourir_epaisseurs_elements</a>(elements, <a class="code" href="classDomaineCutter.html#a6269ac4cb6130e39c5c5be181253fad5">som_elem_</a>, elem_part,
                                    sommets_depart,
                                    partie_voisine, <span class="comment">/* ignorer les elements de la partie voisine */</span>
                                    <a class="code" href="classDomaineCutter.html#a53b94536327688de8d72b5a36c2cf173">epaisseur_joint_</a>,
                                    elements_distants);

<span class="comment">// Retirer de la liste les elements qui ne sont pas dans la partie locale:</span>
      {
        <span class="keywordtype">int</span> count = 0;
        <span class="keyword">const</span> <span class="keywordtype">int</span> n = elements_distants.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)
          {
            <span class="keyword">const</span> <span class="keywordtype">int</span> elem = elements_distants[i];
            <span class="keywordflow">if</span> (elem_part[elem] == partie &amp;&amp; elem &lt; elements.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0) )
              elements_distants[count++] = elem;
          }
        elements_distants.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(count);
      }
<span class="comment">// Traduire les indices des elements en indices locaux sur le sous-domaine.</span>
      {
        <span class="keyword">const</span> <span class="keywordtype">int</span> n = elements_distants.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)
          {
            <span class="keyword">const</span> <span class="keywordtype">int</span> elem = elements_distants[i];
            <span class="keyword">const</span> <span class="keywordtype">int</span> renum = liste_inverse_elements[elem];
            elements_distants[i] = renum;
          }
      }
<span class="comment">// Trier les elements dans l&#39;ordre croissant des indices</span>
      elements_distants.<a class="code" href="classArrOfInt.html#abb0f48cf5a4be4b70edcc90baaebd521" title="Tri des valeurs du tableau dans l&#39;ordre croissant. La fonction utilisee est qsort de stdlib (elle est...">ordonne_array</a>();
<span class="comment">// Stocker la liste des elements distants dans le joint</span>
      <a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>&amp;     joint = zone_partie.<a class="code" href="classZone.html#a30b91002d3555eed44930b95b48df04f">joint_of_pe</a>(partie_voisine);
      joint.<a class="code" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de" title="Renvoie les informations de joint pour un type d&#39;item geometrique donne, pour remplissage des structu...">set_joint_item</a>(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code" href="classJoint__Items.html#a13add264f4ad36ef4bddbfc1b7bdb817" title="Renvoie le tableau items_distants_ pour le remplir Voir Scatter::calculer_espace_distant, Scatter::calculer_espace_distant_faces_frontieres, Scatter::calculer_espace_distant_elements.">set_items_distants</a>() = elements_distants;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2a1da80e63599c4e43955a05e24d4ce7"></a><!-- doxytag: member="DomaineCutter::construire_faces_bords_ssdom" ref="a2a1da80e63599c4e43955a05e24d4ce7" args="(const ArrOfInt &amp;liste_inverse_sommets, const int partie, Zone &amp;zone_partie) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::construire_faces_bords_ssdom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>liste_inverse_sommets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>partie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classZone.html">Zone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone_partie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00298">298</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="Bords_8h_source.html#l00030">List_Bord::add()</a>, <a class="el" href="Frontiere_8cpp_source.html#l00093">Frontiere::associer_zone()</a>, <a class="el" href="List_8h_source.html#l00028">CONST_LIST_CURSEUR</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00245">construire_liste_faces_sous_domaine()</a>, <a class="el" href="Static__Int__Lists_8cpp_source.html#l00109">Static_Int_Lists::copy_list_to_array()</a>, <a class="el" href="Frontiere_8h_source.html#l00175">Frontiere::faces()</a>, <a class="el" href="Zone_8h_source.html#l01059">Zone::faces_bord()</a>, <a class="el" href="Frontiere_8h_source.html#l00155">Frontiere::le_nom()</a>, <a class="el" href="Faces_8h_source.html#l00268">Faces::les_sommets()</a>, <a class="el" href="Frontiere_8cpp_source.html#l00113">Frontiere::nommer()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00097">ref_domaine_</a>, <a class="el" href="DomaineCutter_8h_source.html#l00100">ref_elem_part_</a>, <a class="el" href="Faces_8h_source.html#l00133">Faces::type_face()</a>, <a class="el" href="Faces_8cpp_source.html#l00461">Faces::typer()</a>, <a class="el" href="Ref__IntVect_8h_source.html#l00029">Ref_IntVect::valeur()</a>, <a class="el" href="Ref__Domaine_8h_source.html#l00032">Ref_Domaine::valeur()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00113">voisins_bords_</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l01115">construire_sous_domaine()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone = <a class="code" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">ref_domaine_</a>.<a class="code" href="classRef__Domaine.html#a89e1c374ada79faa2c7e9a76c3393ad8">valeur</a>().<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
  <a class="code" href="List_8h.html#add189d7375e577842ac891b09afc6d4b">CONST_LIST_CURSEUR</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a> <span class="comment">/*difference*/</span>) curseur(zone.faces_bord()<span class="comment">/*difference*/</span>);
  <span class="keywordtype">int</span> i_fr = 0;
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> elements_voisins;
  for (; curseur; ++curseur)
    {

      <span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; frontiere = curseur.valeur();
      <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front_partie =
        zone_partie.<a class="code" href="classZone.html#a4bc04163903c004c5c1383eaa5fa844d" title="Renvoie la liste des bords de la zone. (version const)">faces_bord</a>()<span class="comment">/*difference*/</span>.<a class="code" href="classList__Bord.html#a61386a2f94d915253bcec812ce0735c3">add</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>()<span class="comment">/*difference*/</span>);
      front_partie.<a class="code" href="classFrontiere.html#a714e3cc26d7e59f3a65d80de23ea21ac" title="Donne un nom a la frontiere.">nommer</a>(frontiere.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>());
      front_partie.<a class="code" href="classFrontiere.html#af927b5d4fc1fd086ba91e916f61badee" title="Associe la frontiere a la zone dont elle depend.">associer_zone</a>(zone_partie);
      front_partie.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(frontiere.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>());
      <a class="code" href="classDomaineCutter.html#a396245cb32fa5d410b790146a274d4a8">voisins_bords_</a>.<a class="code" href="classStatic__Int__Lists.html#ac5f80aca1def83653c95221f391b916d" title="copie la i-ieme liste dans le tableau fourni Le tableau array doit etre resizable.">copy_list_to_array</a>(i_fr, elements_voisins);
      <a class="code" href="DomaineCutter_8cpp.html#a343028ad4896bd87bade3f9076b098b5" title="Pour une liste de &quot;faces&quot; de la zone globale, compter le nombre de faces incluses dans la partie &quot;...">construire_liste_faces_sous_domaine</a>(elements_voisins,
                                          <a class="code" href="classDomaineCutter.html#a9da3c1aef1b48f6d6566abbee7dbcb85">ref_elem_part_</a>.<a class="code" href="classRef__IntVect.html#a1c7959efd862b8dd91818c78820c31b2">valeur</a>(),
                                          partie,
                                          frontiere.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>(),
                                          liste_inverse_sommets,
                                          front_partie.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>());
      i_fr++;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aba35bd15f234dc72046ca3281e47afbc"></a><!-- doxytag: member="DomaineCutter::construire_faces_internes_ssdom" ref="aba35bd15f234dc72046ca3281e47afbc" args="(const ArrOfInt &amp;liste_inverse_sommets, const int partie, Zone &amp;zone_partie) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::construire_faces_internes_ssdom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>liste_inverse_sommets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>partie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classZone.html">Zone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone_partie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00362">362</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="Faces__Internes_8h_source.html#l00030">List_Faces_Interne::add()</a>, <a class="el" href="Frontiere_8cpp_source.html#l00093">Frontiere::associer_zone()</a>, <a class="el" href="List_8h_source.html#l00028">CONST_LIST_CURSEUR</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00245">construire_liste_faces_sous_domaine()</a>, <a class="el" href="Static__Int__Lists_8cpp_source.html#l00109">Static_Int_Lists::copy_list_to_array()</a>, <a class="el" href="Frontiere_8h_source.html#l00175">Frontiere::faces()</a>, <a class="el" href="Zone_8h_source.html#l01176">Zone::faces_int()</a>, <a class="el" href="Frontiere_8h_source.html#l00155">Frontiere::le_nom()</a>, <a class="el" href="Faces_8h_source.html#l00268">Faces::les_sommets()</a>, <a class="el" href="Zone_8h_source.html#l00531">Zone::nb_bords()</a>, <a class="el" href="Zone_8h_source.html#l00569">Zone::nb_raccords()</a>, <a class="el" href="Frontiere_8cpp_source.html#l00113">Frontiere::nommer()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00097">ref_domaine_</a>, <a class="el" href="DomaineCutter_8h_source.html#l00100">ref_elem_part_</a>, <a class="el" href="Faces_8h_source.html#l00133">Faces::type_face()</a>, <a class="el" href="Faces_8cpp_source.html#l00461">Faces::typer()</a>, <a class="el" href="Ref__IntVect_8h_source.html#l00029">Ref_IntVect::valeur()</a>, <a class="el" href="Ref__Domaine_8h_source.html#l00032">Ref_Domaine::valeur()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00113">voisins_bords_</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l01115">construire_sous_domaine()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">// Rappel : les faces internes sont des &quot;frontieres&quot; a l&#39;interieur du domaine</span>
<span class="comment">// (par exemple une plaque d&#39;epaisseur nulle dans l&#39;ecoulement)</span>
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone = <a class="code" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">ref_domaine_</a>.<a class="code" href="classRef__Domaine.html#a89e1c374ada79faa2c7e9a76c3393ad8">valeur</a>().<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
  <a class="code" href="List_8h.html#add189d7375e577842ac891b09afc6d4b">CONST_LIST_CURSEUR</a>(<a class="code" href="classFaces__Interne.html" title="Classe Faces_Interne La classe sert a representer un ensemble de faces qui sont internes d&#39;un point d...">Faces_Interne</a><span class="comment">/*difference*/</span>) curseur(zone.faces_int()<span class="comment">/*difference*/</span>);
  <span class="keywordtype">int</span> i_fr = zone.nb_bords()+zone.nb_raccords();
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> elements_voisins;

  for (; curseur; ++curseur)
    {

      <span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; frontiere = curseur.valeur();
      <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front_partie =
        zone_partie.<a class="code" href="classZone.html#ad1d5f91adfa5e56003ce778cab9610e8" title="Renvoie la liste des faces internes de la zone. (version const)">faces_int</a>()<span class="comment">/*difference*/</span>.<a class="code" href="classList__Faces__Interne.html#a9f9ca7e4ddbeddbf18666234ed5e888e">add</a>(<a class="code" href="classFaces__Interne.html" title="Classe Faces_Interne La classe sert a representer un ensemble de faces qui sont internes d&#39;un point d...">Faces_Interne</a>()<span class="comment">/*difference*/</span>);
      front_partie.<a class="code" href="classFrontiere.html#a714e3cc26d7e59f3a65d80de23ea21ac" title="Donne un nom a la frontiere.">nommer</a>(frontiere.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>());
      front_partie.<a class="code" href="classFrontiere.html#af927b5d4fc1fd086ba91e916f61badee" title="Associe la frontiere a la zone dont elle depend.">associer_zone</a>(zone_partie);
      front_partie.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(frontiere.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>());
      <a class="code" href="classDomaineCutter.html#a396245cb32fa5d410b790146a274d4a8">voisins_bords_</a>.<a class="code" href="classStatic__Int__Lists.html#ac5f80aca1def83653c95221f391b916d" title="copie la i-ieme liste dans le tableau fourni Le tableau array doit etre resizable.">copy_list_to_array</a>(i_fr, elements_voisins);
      <a class="code" href="DomaineCutter_8cpp.html#a343028ad4896bd87bade3f9076b098b5" title="Pour une liste de &quot;faces&quot; de la zone globale, compter le nombre de faces incluses dans la partie &quot;...">construire_liste_faces_sous_domaine</a>(elements_voisins,
                                          <a class="code" href="classDomaineCutter.html#a9da3c1aef1b48f6d6566abbee7dbcb85">ref_elem_part_</a>.<a class="code" href="classRef__IntVect.html#a1c7959efd862b8dd91818c78820c31b2">valeur</a>(),
                                          partie,
                                          frontiere.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>(),
                                          liste_inverse_sommets,
                                          front_partie.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>());
      i_fr++;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="adf1b1154ac181e0fc367e7d78cedecaa"></a><!-- doxytag: member="DomaineCutter::construire_faces_joints_ssdom" ref="adf1b1154ac181e0fc367e7d78cedecaa" args="(const int partie, const DomaineCutter_Correspondance &amp;correspondance, Zone &amp;zone_partie) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::construire_faces_joints_ssdom </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>partie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDomaineCutter__Correspondance.html">DomaineCutter_Correspondance</a> &amp;&#160;</td>
          <td class="paramname"><em>correspondance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classZone.html">Zone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone_partie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; Voir *suite*</p>
<p>&lt; Non =&gt; cette face n'est pas sur un joint </p>
</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00736">736</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="ArrOfInt_8h_source.html#l00355">ArrOfInt::append_array()</a>, <a class="el" href="IntTab_8h_source.html#l00233">IntTab::dimension()</a>, <a class="el" href="Joint_8cpp_source.html#l00075">Joint::dimensionner()</a>, <a class="el" href="Frontiere_8h_source.html#l00175">Frontiere::faces()</a>, <a class="el" href="Zone_8h_source.html#l01098">Zone::faces_joint()</a>, <a class="el" href="Connectivite__som__elem_8cpp_source.html#l00108">find_adjacent_elements()</a>, <a class="el" href="Static__Int__Lists_8h_source.html#l00106">Static_Int_Lists::get_list_size()</a>, <a class="el" href="DomaineCutter__Correspondance_8cpp_source.html#l00049">DomaineCutter_Correspondance::get_liste_inverse_elements()</a>, <a class="el" href="DomaineCutter__Correspondance_8cpp_source.html#l00044">DomaineCutter_Correspondance::get_liste_inverse_sommets()</a>, <a class="el" href="DomaineCutter__Correspondance_8cpp_source.html#l00039">DomaineCutter_Correspondance::get_liste_sommets()</a>, <a class="el" href="Elem__geom__base_8cpp_source.html#l00265">Elem_geom_base::get_tab_faces_sommets_locaux()</a>, <a class="el" href="Joint__Items_8cpp_source.html#l00049">Joint_Items::items_communs()</a>, <a class="el" href="Joint_8cpp_source.html#l00186">Joint::joint_item()</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="Faces_8h_source.html#l00268">Faces::les_sommets()</a>, <a class="el" href="Zone_8h_source.html#l00300">Zone::nb_elem()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00104">nb_parties_</a>, <a class="el" href="Zone_8cpp_source.html#l00586">Zone::nb_som()</a>, <a class="el" href="Joint_8cpp_source.html#l00099">Joint::PEvoisin()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="DomaineCutter_8h_source.html#l00097">ref_domaine_</a>, <a class="el" href="DomaineCutter_8h_source.html#l00100">ref_elem_part_</a>, <a class="el" href="IntTab_8cpp_source.html#l00353">IntTab::resize()</a>, <a class="el" href="ArrOfInt_8cpp_source.html#l00443">ArrOfInt::set_smart_resize()</a>, <a class="el" href="ArrOfBit_8h_source.html#l00064">ArrOfBit::setbit()</a>, <a class="el" href="liste_8cpp_source.html#l00175">liste::size()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00108">som_elem_</a>, <a class="el" href="Joint_8h_source.html#l00066">Joint::SOMMET</a>, <a class="el" href="ArrOfBit_8h_source.html#l00073">ArrOfBit::testsetbit()</a>, <a class="el" href="Zone_8h_source.html#l00491">Zone::type_elem()</a>, <a class="el" href="Raffiner__Simplexes_8cpp_source.html#l00183">type_elem()</a>, <a class="el" href="Elem__geom_8h_source.html#l00443">Elem_geom::type_face()</a>, <a class="el" href="Frontiere_8cpp_source.html#l00156">Frontiere::typer_faces()</a>, <a class="el" href="Ref__Domaine_8h_source.html#l00032">Ref_Domaine::valeur()</a>, <a class="el" href="Ref__IntVect_8h_source.html#l00029">Ref_IntVect::valeur()</a>, <a class="el" href="Elem__geom_8h_source.html#l00044">Deriv_Elem_geom_base::valeur()</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l01115">construire_sous_domaine()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_sommets_ssdom = zone_partie.<a class="code" href="classZone.html#ad340f571f81fa5c2e028b88c00b5c2ca" title="Renvoie le nombre de sommets de la zone.">nb_som</a>();
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_elem_ssdom = zone_partie.<a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>();
  <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; liste_sommets = correspondance.<a class="code" href="classDomaineCutter__Correspondance.html#af011cabc695d3332f85f9fdfe9981b1d">get_liste_sommets</a>();
  <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; liste_inverse_elements = correspondance.<a class="code" href="classDomaineCutter__Correspondance.html#a44cd509510f178b4b194b84744b1efbf">get_liste_inverse_elements</a>();
  <span class="keyword">const</span> <a class="code" href="classStatic__Int__Lists.html" title="Cette classe permet de stocker des listes d&#39;entiers accessibles en temps constant. La taille des listes ne peut pas changer sans perdre le contenu (ce sont des listes statiques). Exemple: Static_Int_List l; ArrOfInt tailles(3); tailles[0] = 2; tailles[1] = 3; tailles[2] = 0; // On reserve la memoire pour trois listes de taille 2, 3 et 0: l.set_list_sizes(tailles); // On affecte une valeur au deuxieme element de la premiere liste: l.set_value(0,1,765); // Affiche la valeur Cout &lt;&lt; l(0,1);.">Static_Int_Lists</a>&amp; som_elem = <a class="code" href="classDomaineCutter.html#a6269ac4cb6130e39c5c5be181253fad5">som_elem_</a>;

<span class="comment">// Premiere etape: reperage des &quot;elements de joint&quot; (elements de la &quot;partie&quot;</span>
<span class="comment">// possedant un sommet de joint), et marquage des sommets de joint</span>
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> liste_elements_joint;
  <a class="code" href="classArrOfBit.html">ArrOfBit</a> drapeaux_sommets_joints(nb_sommets_ssdom);
  {
<span class="comment">// Pour l&#39;instant, on utilise les joints en const...</span>
    <span class="keyword">const</span> <a class="code" href="classJoints.html" title="Classe Joints Cette classe represente une liste d&#39;objet de type Joint.">Joints</a>&amp; joints_partie = zone_partie.<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>();

    drapeaux_sommets_joints = 0;
    liste_elements_joint.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);

<span class="comment">// Marqueurs: pour chaque element du sous-domaine, est-il deja dans la liste ?</span>
    <a class="code" href="classArrOfBit.html">ArrOfBit</a> drapeaux_elements(nb_elem_ssdom);
    drapeaux_elements = 0;
<span class="comment">// Boucle sur tous les sommets de joint</span>
    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints_partie.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
    <span class="keywordtype">int</span> i_joint;
    <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)
      {
        <span class="keyword">const</span> <a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>&amp; joint = joints_partie[i_joint];
        <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; sommets_du_joint = joint.<a class="code" href="classJoint.html#a3f49fb1150967b436a115a7373ab27a0" title="Renvoie les informations de joint pour le type demande.">joint_item</a>(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).<a class="code" href="classJoint__Items.html#a435fb1629f6dafb089605913517e73c4" title="Voir items_communs_.">items_communs</a>();
        <span class="keyword">const</span> <span class="keywordtype">int</span> n = sommets_du_joint.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
        <span class="keywordtype">int</span> i;
        <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)
          {
            <span class="keyword">const</span> <span class="keywordtype">int</span> i_sommet_local = sommets_du_joint[i];
            <span class="keyword">const</span> <span class="keywordtype">int</span> i_sommet_global = liste_sommets[i_sommet_local];
            <span class="keyword">const</span> <span class="keywordtype">int</span> nb_elem_voisins = som_elem.<a class="code" href="classStatic__Int__Lists.html#adbf6903737c3c30bf87e05b29f5a5b56" title="renvoie le nombre d&#39;elements de la liste i">get_list_size</a>(i_sommet_global);
<span class="comment">// Marquage du sommet de joint dans le sous-domaine</span>
            drapeaux_sommets_joints.setbit(i_sommet_local);
            <span class="keywordtype">int</span> j;
            <span class="keywordflow">for</span> (j = 0; j &lt; nb_elem_voisins; j++)
              {
                <span class="keyword">const</span> <span class="keywordtype">int</span> i_elem_global = som_elem(i_sommet_global, j);
                <span class="keyword">const</span> <span class="keywordtype">int</span> i_elem_local = liste_inverse_elements[i_elem_global];
<span class="comment">// On ajoute l&#39;element a la liste d&#39;elements joint s&#39;il est dans ma partie</span>
<span class="comment">// et s&#39;il n&#39;est pas encore dans la liste.</span>
                <span class="keywordflow">if</span> (i_elem_local &gt;= 0)
                  <span class="keywordflow">if</span> (! drapeaux_elements.testsetbit(i_elem_local))
                    liste_elements_joint.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(i_elem_global);
              }
          }
      }
  }

<span class="comment">// Deuxieme etape: pour chaque element de joint, construction de ses</span>
<span class="comment">// faces et on regarde si la face a un element voisin dans une autre partie.</span>
<span class="comment">// Si oui, c&#39;est une face de joint</span>

<span class="comment">// Tableau des indices des sommets de toutes les faces de joint</span>
<span class="comment">// (tous joints confondus, indices de sommets dans le sous-domaine)</span>
  <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> faces_joints;
<span class="comment">// Pour chaque face de joint, numero du sous-domaine voisin par cette face</span>
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> faces_pe_voisins;
<span class="comment">// Pour chaque processeur, nombre de faces de joint avec ce proc.</span>
<span class="comment">// (on initialise a zero)</span>
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> nb_faces_joints(<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>);
  {
    faces_joints.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
    faces_pe_voisins.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);

<span class="comment">// Indices des sommets des faces sur l&#39;element de reference</span>
    <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> faces_element_reference;
    <span class="keyword">const</span> <a class="code" href="classElem__geom__base.html" title="Classe Elem_geom_base Cette classe est la classe de base pour la definition d&#39;elements geometriques c...">Elem_geom_base</a>&amp; <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a> = zone_partie.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classDeriv__Elem__geom__base.html#a384b487459a33f9f521fb16539ec81de">valeur</a>();
    <span class="keywordtype">int</span> is_regular = type_elem.<a class="code" href="classElem__geom__base.html#a9993267e98ef97472d3a5ef9c3c67882" title="remplit le tableau faces_som_local(i,j) qui donne pour 0 &lt;= i &lt; nb_faces() et 0 &lt;= j &lt; nb_som_face(i) le ...">get_tab_faces_sommets_locaux</a>(faces_element_reference);
<span class="comment">// On ne sait pas traiter les elements non reguliers</span>
    <span class="keywordflow">if</span> (!is_regular)
      {
<span class="comment">// Cerr &lt;&lt; &quot;DomaineCutter::faces_joints Error: non-regular elements not supported&quot; &lt;&lt; finl;</span>
        <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classPoly__geom__base.html" title=": class Poly_geom_base &lt;Description of class Poly_geom_base&gt;">Poly_geom_base</a>,type_elem).get_tab_faces_sommets_locaux(faces_element_reference,0);
<span class="comment">// exit();</span>
      }

    <span class="keywordtype">int</span> nb_faces_elem       = faces_element_reference.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_sommets_par_face = faces_element_reference.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
    faces_joints.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0, nb_sommets_par_face); <span class="comment">//!&lt; Voir *suite*</span>
<span class="comment"></span>    <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; liste_inverse_sommets = correspondance.<a class="code" href="classDomaineCutter__Correspondance.html#a5db92357e90fc70fff3699211571bf94">get_liste_inverse_sommets</a>();
    <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; elem_part = <a class="code" href="classDomaineCutter.html#a9da3c1aef1b48f6d6566abbee7dbcb85">ref_elem_part_</a>.<a class="code" href="classRef__IntVect.html#a1c7959efd862b8dd91818c78820c31b2">valeur</a>();
<span class="comment">// Sommets des elements du maillage global</span>
    <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domaine = <a class="code" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">ref_domaine_</a>.<a class="code" href="classRef__Domaine.html#a89e1c374ada79faa2c7e9a76c3393ad8">valeur</a>();
    <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elem_som = domaine.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();

    <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> une_face(nb_sommets_par_face);
    <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> elements_voisins;
    elements_voisins.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);

<span class="comment">// Boucle sur les elements de joint</span>
    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_elem_joints = liste_elements_joint.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
    <span class="keywordtype">int</span> i_elem_joint;
    <span class="keywordflow">for</span> (i_elem_joint = 0; i_elem_joint &lt; nb_elem_joints; i_elem_joint++)
      {
<span class="comment">// Indice de l&#39;element dans le domaine global</span>
        <span class="keyword">const</span> <span class="keywordtype">int</span> i_elem_global = liste_elements_joint[i_elem_joint];
<span class="comment">// Boucle sur les faces de l&#39;element</span>
        <span class="keywordtype">int</span> i_face;
        <span class="keywordflow">if</span> (!is_regular)
          {
<span class="comment">// global ou non ????????</span>
            <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classPoly__geom__base.html" title=": class Poly_geom_base &lt;Description of class Poly_geom_base&gt;">Poly_geom_base</a>,type_elem).get_tab_faces_sommets_locaux(faces_element_reference,liste_inverse_elements[i_elem_global]);
            nb_faces_elem       = faces_element_reference.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
            <span class="keywordflow">while</span> ( faces_element_reference(nb_faces_elem-1,0)==-1)
              nb_faces_elem--;
          }
        <span class="keywordflow">for</span> (i_face = 0; i_face &lt; nb_faces_elem; i_face++)
          {
<span class="comment">// Construction de la face</span>
            <span class="keywordtype">int</span> i;
            <span class="keywordtype">int</span> face_ok = 1;
            <span class="keywordflow">for</span> (i = 0; i &lt; nb_sommets_par_face; i++)
              {
                <span class="keyword">const</span> <span class="keywordtype">int</span> i_ref = faces_element_reference(i_face, i);
                <span class="keywordflow">if</span> (i_ref&lt;0)
                  {
                    une_face[i] = i_ref;
                  }
                <span class="keywordflow">else</span>
                  {
                    <span class="keyword">const</span> <span class="keywordtype">int</span> i_som = elem_som(i_elem_global, i_ref);
                    une_face[i] = i_som;
<span class="comment">// Indice du sommet dans le sous-domaine</span>

                    <span class="keywordflow">if</span> (i_som&gt;-1)
                      {
                        <span class="keyword">const</span> <span class="keywordtype">int</span> i_som_local = liste_inverse_sommets(i_som);
                        <span class="keywordflow">if</span>(i_som_local&gt;0)
                          {
<span class="comment">// Le sommet est-il sur un joint ?</span>
                            <span class="keywordflow">if</span> (drapeaux_sommets_joints[i_som_local] == 0)
                              face_ok = 0; <span class="comment">//!&lt; Non =&gt; cette face n&#39;est pas sur un joint</span>
<span class="comment"></span>                          }
                      }
                  }
              }
<span class="comment">// Premier test pour eliminer tout de suite la face</span>
<span class="comment">// si tous ses sommets ne sont pas des sommets de joint.</span>
            <span class="keywordflow">if</span> (face_ok)
              {
<span class="comment">// Recherche des elements voisins de cette face</span>
                <a class="code" href="Connectivite__som__elem_8cpp.html#afccbadf5344a16154a56b33dbddf88c1" title="Cherche les elements qui contiennent tous les sommets du tableau sommets_to_find (permet de trouver l...">find_adjacent_elements</a>(som_elem, une_face, elements_voisins);
<span class="comment">// Recherche d&#39;un element voisin qui n&#39;est pas dans ma partie</span>
                <span class="keyword">const</span> <span class="keywordtype">int</span> nb_elem_voisins = elements_voisins.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
                <span class="keywordtype">int</span> PEvoisin = -1;
                <span class="keywordflow">for</span> (i = 0; i &lt; nb_elem_voisins; i++)
                  {
                    <span class="keyword">const</span> <span class="keywordtype">int</span> i_elem_glob = elements_voisins[i];
                    PEvoisin = elem_part[i_elem_glob];
                    <span class="keywordflow">if</span> (PEvoisin != partie)
                      <span class="keywordflow">break</span>;
                  }
                <span class="keywordflow">if</span> (i &lt; nb_elem_voisins)
                  {
<span class="comment">// J&#39;ai une face de joint, je l&#39;ajoute au tableau</span>
                    faces_pe_voisins.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(PEvoisin);
                    <span class="keyword">const</span> <span class="keywordtype">int</span> n = faces_joints.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
                    faces_joints.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n+1, nb_sommets_par_face);
                    <span class="keywordflow">for</span> (i = 0; i &lt; nb_sommets_par_face; i++)
                      {
                        <span class="keyword">const</span> <span class="keywordtype">int</span> i_som_global = une_face[i];
                        <span class="keywordflow">if</span> (i_som_global&gt;-1)
                          {
                            <span class="keyword">const</span> <span class="keywordtype">int</span> i_som_local = liste_inverse_sommets[i_som_global];
                            faces_joints(n, i) = i_som_local;
                          }
                        <span class="keywordflow">else</span>
                          faces_joints(n, i) = -1;
                      }
                    nb_faces_joints[PEvoisin]++;
                  }
              }
          }
      }
  }

<span class="comment">// Troisieme etape: ajout des faces dans les joints</span>
  {
<span class="comment">// Le type des faces de joint</span>
    <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone_globale = <a class="code" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">ref_domaine_</a>.<a class="code" href="classRef__Domaine.html#a89e1c374ada79faa2c7e9a76c3393ad8">valeur</a>().<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
    <span class="keyword">const</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a>&amp; type_face_joint = zone_globale.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classElem__geom.html#a80ae8c21d0d7e74956065006519370c6" title="Appel a l&#39;objet sous-jacent Renvoie le i-eme type de face de l&#39;element geometrique.">type_face</a>();
<span class="comment">// On va modifier les joints:</span>
    <a class="code" href="classJoints.html" title="Classe Joints Cette classe represente une liste d&#39;objet de type Joint.">Joints</a>&amp; joints_partie = zone_partie.<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>();
    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints_partie.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
    <span class="keywordtype">int</span> i_joint;

    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces_joints_tot = faces_joints.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<span class="comment">// *suite* : tableau de dimension 2 meme s&#39;il n&#39;y a pas de faces</span>
    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_sommets_par_face = faces_joints.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);

    <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)
      {
<span class="comment">// Typage des faces et allocation memoire</span>
        <a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>&amp; joint = joints_partie[i_joint];
        joint.<a class="code" href="classFrontiere.html#a982b45717b0c01579000d7a707b27672" title="Type les faces de la frontiere.">typer_faces</a>(type_face_joint);
        joint.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>().<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0, nb_sommets_par_face);
        <span class="keyword">const</span> <span class="keywordtype">int</span> PE_voisin = joint.<a class="code" href="classJoint.html#a0952bc5c7805434ccd8cd5c9b01e3747" title="Renvoie PEvoisin (numero de la zone voisine)">PEvoisin</a>();
        <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces = nb_faces_joints[PE_voisin];
        joint.<a class="code" href="classJoint.html#aea854b6ff4ed73bae948775e6f6b2564" title="Dimensionne la frontiere, i.e. fixe son nombre de faces.">dimensionner</a>(nb_faces);
<span class="comment">// Remplissage du tableau de faces</span>
        <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; faces = joint.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>();
        <span class="keywordtype">int</span> i;
        <span class="keywordtype">int</span> k = 0;
        <span class="keywordflow">for</span> (i = 0; i &lt; nb_faces_joints_tot; i++)
          {
            <span class="keyword">const</span> <span class="keywordtype">int</span> face_pe = faces_pe_voisins[i];
            <span class="keywordflow">if</span> (face_pe == PE_voisin)
              {
                <span class="keywordtype">int</span> j;
                <span class="keywordflow">for</span> (j = 0; j &lt; nb_sommets_par_face; j++)
                  faces(k, j) = faces_joints(i,j);
                k++;
              }
          }
      }
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0d823ebe378eb13f8ebe8a95410f6565"></a><!-- doxytag: member="DomaineCutter::construire_faces_raccords_ssdom" ref="a0d823ebe378eb13f8ebe8a95410f6565" args="(const ArrOfInt &amp;liste_inverse_sommets, const int partie, Zone &amp;zone_partie) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::construire_faces_raccords_ssdom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>liste_inverse_sommets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>partie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classZone.html">Zone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone_partie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructions des raccords de la sous_partie a partir des raccords<br/>
du domaine global.<br/>
Les <a class="el" href="classRaccord__local__homogene.html" title="Classe Raccord_local_homogene Cette classe represente un Raccord_local ou les maillages de part et d&#39;...">Raccord_local_homogene</a> sont transformes en <a class="el" href="classRaccord__distant__homogene.html">Raccord_distant_homogene</a>. </p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00329">329</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="Raccords_8h_source.html#l00034">List_Raccord::add()</a>, <a class="el" href="Frontiere_8cpp_source.html#l00093">Frontiere::associer_zone()</a>, <a class="el" href="List_8h_source.html#l00028">CONST_LIST_CURSEUR</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00245">construire_liste_faces_sous_domaine()</a>, <a class="el" href="Static__Int__Lists_8cpp_source.html#l00109">Static_Int_Lists::copy_list_to_array()</a>, <a class="el" href="Frontiere_8h_source.html#l00175">Frontiere::faces()</a>, <a class="el" href="Zone_8h_source.html#l01137">Zone::faces_raccord()</a>, <a class="el" href="Frontiere_8h_source.html#l00155">Frontiere::le_nom()</a>, <a class="el" href="Faces_8h_source.html#l00268">Faces::les_sommets()</a>, <a class="el" href="Zone_8h_source.html#l00531">Zone::nb_bords()</a>, <a class="el" href="Frontiere_8cpp_source.html#l00113">Frontiere::nommer()</a>, <a class="el" href="Objet__U_8cpp_source.html#l00132">Objet_U::que_suis_je()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00097">ref_domaine_</a>, <a class="el" href="DomaineCutter_8h_source.html#l00100">ref_elem_part_</a>, <a class="el" href="Faces_8h_source.html#l00133">Faces::type_face()</a>, <a class="el" href="Faces_8cpp_source.html#l00461">Faces::typer()</a>, <a class="el" href="Deriv___8cpp_source.html#l00091">Deriv_::typer()</a>, <a class="el" href="Ref__IntVect_8h_source.html#l00029">Ref_IntVect::valeur()</a>, <a class="el" href="Raccord_8h_source.html#l00028">Deriv_Raccord_base::valeur()</a>, <a class="el" href="Ref__Domaine_8h_source.html#l00032">Ref_Domaine::valeur()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00113">voisins_bords_</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l01115">construire_sous_domaine()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone = <a class="code" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">ref_domaine_</a>.<a class="code" href="classRef__Domaine.html#a89e1c374ada79faa2c7e9a76c3393ad8">valeur</a>().<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
  <a class="code" href="List_8h.html#add189d7375e577842ac891b09afc6d4b">CONST_LIST_CURSEUR</a>(<a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>) curseur(zone.faces_raccord());
  <span class="keywordtype">int</span> i_fr = zone.nb_bords();
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> elements_voisins;
  for (; curseur; ++curseur)
    {

      <span class="keyword">const</span> <a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>&amp; raccord = curseur.<a class="code" href="classDeriv__Raccord__base.html#a00893b6e21deda193b9f429651361f14">valeur</a>();
      <span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; frontiere = raccord.<a class="code" href="classDeriv__Raccord__base.html#a00893b6e21deda193b9f429651361f14">valeur</a>();
      <a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>&amp; raccord_partie = zone_partie.<a class="code" href="classZone.html#ac2a20fe8fa5529c7eefd418b43c0131c" title="Renvoie la liste des racoords de la zone. (version const)">faces_raccord</a>().<a class="code" href="classList__Raccord.html#ac995f4b0d89ff514917a9a1c5c213fd7">add</a>(<a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>());
      <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type_raccord = frontiere.<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
      <span class="keywordflow">if</span> (type_raccord == <span class="stringliteral">&quot;Raccord_local_homogene&quot;</span>)
        type_raccord = <span class="stringliteral">&quot;Raccord_distant_homogene&quot;</span>;
      raccord_partie.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(type_raccord);
      <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front_partie = raccord_partie.<a class="code" href="classDeriv__Raccord__base.html#a00893b6e21deda193b9f429651361f14">valeur</a>();
      front_partie.<a class="code" href="classFrontiere.html#a714e3cc26d7e59f3a65d80de23ea21ac" title="Donne un nom a la frontiere.">nommer</a>(frontiere.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>());
      front_partie.<a class="code" href="classFrontiere.html#af927b5d4fc1fd086ba91e916f61badee" title="Associe la frontiere a la zone dont elle depend.">associer_zone</a>(zone_partie);
      front_partie.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(frontiere.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>());
      <a class="code" href="classDomaineCutter.html#a396245cb32fa5d410b790146a274d4a8">voisins_bords_</a>.<a class="code" href="classStatic__Int__Lists.html#ac5f80aca1def83653c95221f391b916d" title="copie la i-ieme liste dans le tableau fourni Le tableau array doit etre resizable.">copy_list_to_array</a>(i_fr, elements_voisins);
      <a class="code" href="DomaineCutter_8cpp.html#a343028ad4896bd87bade3f9076b098b5" title="Pour une liste de &quot;faces&quot; de la zone globale, compter le nombre de faces incluses dans la partie &quot;...">construire_liste_faces_sous_domaine</a>(elements_voisins,
                                          <a class="code" href="classDomaineCutter.html#a9da3c1aef1b48f6d6566abbee7dbcb85">ref_elem_part_</a>.<a class="code" href="classRef__IntVect.html#a1c7959efd862b8dd91818c78820c31b2">valeur</a>(),
                                          partie,
                                          frontiere.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>(),
                                          liste_inverse_sommets,
                                          front_partie.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>());
      i_fr++;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="adfdcdff976a3d5638a3b1f7b66e81826"></a><!-- doxytag: member="DomaineCutter::construire_sommets_joints_ssdom" ref="adfdcdff976a3d5638a3b1f7b66e81826" args="(const ArrOfInt &amp;liste_sommets, const ArrOfInt &amp;liste_inverse_sommets, const int partie, const Static_Int_Lists *som_raccord, Zone &amp;zone_partie) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::construire_sommets_joints_ssdom </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>liste_sommets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>liste_inverse_sommets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>partie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a> *&#160;</td>
          <td class="paramname"><em>som_raccord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classZone.html">Zone</a> &amp;&#160;</td>
          <td class="paramname"><em>zone_partie</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creation des joints et construction des listes et des<br/>
tableaux de sommets joints pour tous les joints de<br/>
la partie part. Les sommets du joint avec le "PEvoisin" sont<br/>
les sommets de la partie "part" qui sont aussi un sommet d'un<br/>
element appartenant au PEvoisin.<br/>
Les joints apparaissent dans la liste dans l'ordre croissant des PEs.<br/>
Note: Les faces que l'on va creer ensuite utilisent forcement<br/>
des sommets que l'on va trouver ici.<br/>
Propriete : Les sommets du joint sont classes dans l'ordre croissant<br/>
de leur numero local, donc dans l'ordre croissant de<br/>
leur numero global (voir Remplir_Numeros_Sommets) </p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00643">643</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="Joints_8h_source.html#l00028">List_Joint::add()</a>, <a class="el" href="Joint_8cpp_source.html#l00092">Joint::affecte_epaisseur()</a>, <a class="el" href="Joint_8cpp_source.html#l00085">Joint::affecte_PEvoisin()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00355">ArrOfInt::append_array()</a>, <a class="el" href="Scatter_8cpp_source.html#l00778">array_trier_retirer_doublons()</a>, <a class="el" href="Frontiere_8cpp_source.html#l00093">Frontiere::associer_zone()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00106">epaisseur_joint_</a>, <a class="el" href="Zone_8h_source.html#l01098">Zone::faces_joint()</a>, <a class="el" href="Static__Int__Lists_8h_source.html#l00106">Static_Int_Lists::get_list_size()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00104">nb_parties_</a>, <a class="el" href="Frontiere_8cpp_source.html#l00113">Frontiere::nommer()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00100">ref_elem_part_</a>, <a class="el" href="ArrOfInt_8h_source.html#l00240">ArrOfInt::resize_array()</a>, <a class="el" href="Joint__Items_8cpp_source.html#l00056">Joint_Items::set_items_communs()</a>, <a class="el" href="Joint_8cpp_source.html#l00159">Joint::set_joint_item()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00108">som_elem_</a>, <a class="el" href="Joint_8h_source.html#l00066">Joint::SOMMET</a>, <a class="el" href="Ref__IntVect_8h_source.html#l00029">Ref_IntVect::valeur()</a>, and <a class="el" href="Vect_8h_source.html#l00026">VECT</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l01115">construire_sous_domaine()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classJoints.html" title="Classe Joints Cette classe represente une liste d&#39;objet de type Joint.">Joints</a>&amp; les_joints = zone_partie.<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>();

  <span class="keyword">const</span> <span class="keywordtype">int</span> parts = <a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>;
  <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; elem_part = <a class="code" href="classDomaineCutter.html#a9da3c1aef1b48f6d6566abbee7dbcb85">ref_elem_part_</a>.<a class="code" href="classRef__IntVect.html#a1c7959efd862b8dd91818c78820c31b2">valeur</a>();
  <span class="keyword">const</span> <a class="code" href="classStatic__Int__Lists.html" title="Cette classe permet de stocker des listes d&#39;entiers accessibles en temps constant. La taille des listes ne peut pas changer sans perdre le contenu (ce sont des listes statiques). Exemple: Static_Int_List l; ArrOfInt tailles(3); tailles[0] = 2; tailles[1] = 3; tailles[2] = 0; // On reserve la memoire pour trois listes de taille 2, 3 et 0: l.set_list_sizes(tailles); // On affecte une valeur au deuxieme element de la premiere liste: l.set_value(0,1,765); // Affiche la valeur Cout &lt;&lt; l(0,1);.">Static_Int_Lists</a>&amp; som_elem = <a class="code" href="classDomaineCutter.html#a6269ac4cb6130e39c5c5be181253fad5">som_elem_</a>;

<span class="comment">// Liste de sommets de joint (toutes parties confondues, un sommet peut</span>
<span class="comment">// apparaitre plusieurs fois dans le tableau, une fois par pe voisin au maximum)</span>
<span class="comment">// C&#39;est le numero global du sommet</span>
  <a class="code" href="Vect_8h.html#adc7c7b04809c9aec2cb897cd2ef06378">VECT</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>) joints_sommets(parts);
  {
<span class="comment">// Pour append_array :</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; parts; i++)
      joints_sommets[i].set_smart_resize(1);
  }

<span class="comment">// Algorithme : boucle sur les sommets de la partie.</span>
<span class="comment">// Pour chaque sommet du sous-domaine &quot;p&quot;, on cherche les PEs auxquels appartiennent</span>
<span class="comment">// les elements voisins du sommet, et, s&#39;il y a un PE voisin different de &quot;p&quot;,</span>
<span class="comment">// on ajoute ce sommet aux joints avec ces PEs.</span>

  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_sommets = liste_sommets.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();

  <span class="keywordtype">int</span> i_sommet;
<span class="comment">// i = indice local du sommet dans le sous-domaine</span>
  <span class="keywordflow">for</span> (i_sommet = 0; i_sommet &lt; nb_sommets; i_sommet++)
    {
<span class="comment">// Numero global du sommet</span>
      <span class="keywordtype">int</span> sommet = liste_sommets[i_sommet];
<span class="comment">// Boucle sur les elements voisins du sommet i</span>
      <span class="keywordtype">int</span> nb_elements_voisins = som_elem.<a class="code" href="classStatic__Int__Lists.html#adbf6903737c3c30bf87e05b29f5a5b56" title="renvoie le nombre d&#39;elements de la liste i">get_list_size</a>(sommet);
      <span class="keywordtype">int</span> i;
      <span class="keywordflow">for</span> (i = 0; i &lt; nb_elements_voisins; i++)
        {
          <span class="keywordtype">int</span> elem = som_elem(sommet, i);
          <span class="keywordtype">int</span> PEvoisin = elem_part[elem];
<span class="comment">// Faut-il ajouter ce sommet aux sommets du joint avec le PEvoisin ?</span>
          <span class="keywordflow">if</span> (PEvoisin != partie)
            joints_sommets[PEvoisin].<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(sommet);
        }
<span class="comment">// boucle sur les procs connectes au sommet par un raccord</span>
      <span class="keywordflow">if</span> (som_raccord) <span class="keywordflow">for</span> (i = 0; i &lt; som_raccord-&gt;<a class="code" href="classStatic__Int__Lists.html#adbf6903737c3c30bf87e05b29f5a5b56" title="renvoie le nombre d&#39;elements de la liste i">get_list_size</a>(sommet); i++)
          <span class="keywordflow">if</span> ((*som_raccord)(sommet, i) != partie) joints_sommets[(*som_raccord)(sommet, i)].append_array(sommet);
    }

<span class="comment">// Creation des joints : dans l&#39;ordre croissant du PE voisin</span>
  <span class="keywordtype">int</span> PEvoisin;
  <span class="keywordflow">for</span> (PEvoisin = 0; PEvoisin &lt; parts; PEvoisin++)
    {
      <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; sommets = joints_sommets[PEvoisin];
      <span class="keywordflow">if</span> (sommets.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() &gt; 0)
        {
<span class="comment">// Trier les sommets de joint par ordre croissant de l&#39;indice global</span>
<span class="comment">// (donc toutes les listes sur les processeurs voisins seront ordonnees</span>
<span class="comment">// de la meme facon) et retirer les doublons</span>
          <a class="code" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709" title="Methode outil pour retirer les doublons dans un tableau.">array_trier_retirer_doublons</a>(sommets);
          <span class="keyword">const</span> <span class="keywordtype">int</span> nb_sommets2 = sommets.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();

<span class="comment">// On cree un nouveau joint</span>
          <a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>&amp; joint = les_joints.<a class="code" href="classList__Joint.html#af5bca88a907fbe4086842805696cfe2f">add</a>(<a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>());
          <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_joint(<span class="stringliteral">&quot;Joint_&quot;</span>);
          <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_numero(PEvoisin);
          nom_joint+=nom_numero;
          joint.<a class="code" href="classFrontiere.html#a714e3cc26d7e59f3a65d80de23ea21ac" title="Donne un nom a la frontiere.">nommer</a>(nom_joint);
          joint.<a class="code" href="classJoint.html#a130c206de5fddabf173bb3e4604cefa3" title="Fixe l&#39;epaisseur du joint.">affecte_epaisseur</a>(<a class="code" href="classDomaineCutter.html#a53b94536327688de8d72b5a36c2cf173">epaisseur_joint_</a>);
          joint.<a class="code" href="classFrontiere.html#af927b5d4fc1fd086ba91e916f61badee" title="Associe la frontiere a la zone dont elle depend.">associer_zone</a>(zone_partie);
          joint.<a class="code" href="classJoint.html#a3c4ef6a648dd0b5d4aa072a1f4e3c64e" title="Fixe le numero du PE voisin.">affecte_PEvoisin</a>(PEvoisin);
          <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; sommets_locaux = joint.<a class="code" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de" title="Renvoie les informations de joint pour un type d&#39;item geometrique donne, pour remplissage des structu...">set_joint_item</a>(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).<a class="code" href="classJoint__Items.html#aa01c4601d506c658f4f1d45e66951ce0" title="Renvoie le tableau items_communs_ pour le remplir. (BM: ce tableau n&#39;est pas encore rempli)...">set_items_communs</a>();
          sommets_locaux.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(nb_sommets2);
<span class="comment">// Remplissage du tableau (transformation en indice local de sommet)</span>
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_sommets2; i++)
            {
              <span class="keyword">const</span> <span class="keywordtype">int</span> indice_global = sommets[i];
              <span class="keyword">const</span> <span class="keywordtype">int</span> indice_local = liste_inverse_sommets[indice_global];

              assert(indice_local &gt;= 0);
              sommets_locaux[i] = indice_local;
            }
        }
    }

}
</pre></div>
</div>
</div>
<a class="anchor" id="a151d632d05724329525a5b05385ac2c1"></a><!-- doxytag: member="DomaineCutter::construire_sous_domaine" ref="a151d632d05724329525a5b05385ac2c1" args="(const int part, DomaineCutter_Correspondance &amp;correspondance_, Domaine &amp;sous_domaine_, const Static_Int_Lists *som_raccord=NULL) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::construire_sous_domaine </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDomaineCutter__Correspondance.html">DomaineCutter_Correspondance</a> &amp;&#160;</td>
          <td class="paramname"><em>correspondance_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>sous_domaine_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a> *&#160;</td>
          <td class="paramname"><em>som_raccord</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remplit la structure "correspondance" et le "sous_domaine"<br/>
pour la partie "part". On cherche les sommets qui appartiennent a la sous-partie,<br/>
on calcule les tableaux de renumerotation des sommets et des elements entre numero<br/>
global et numero local (structure correspondance), on remplit les structures de<br/>
sous_domaine (sommets, elements, frontieres, joints, etc).<br/>
Attention: sous_domaine doit etre un objet vierge (ne pas contenir de zone) </p>

<p><p>&lt; To print NbElemDist informations </p>
</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l01115">1115</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="Domaine_8cpp_source.html#l00392">Domaine::add()</a>, <a class="el" href="Zone_8cpp_source.html#l00489">Zone::associer_domaine()</a>, <a class="el" href="Elem__geom_8h_source.html#l00087">Elem_geom::associer_zone()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00517">construire_elements_distants_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00192">construire_elems_sous_domaine()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00298">construire_faces_bords_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00362">construire_faces_internes_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00736">construire_faces_joints_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00329">construire_faces_raccords_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00091">construire_liste_sommets_sousdomaine()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00643">construire_sommets_joints_ssdom()</a>, <a class="el" href="Domaine_8h_source.html#l00500">Domaine::coord_sommets()</a>, <a class="el" href="Static__Int__Lists_8cpp_source.html#l00109">Static_Int_Lists::copy_list_to_array()</a>, <a class="el" href="Joint_8h_source.html#l00066">Joint::ELEMENT</a>, <a class="el" href="Zone_8h_source.html#l01098">Zone::faces_joint()</a>, <a class="el" href="Zone_8h_source.html#l00909">Zone::joint()</a>, <a class="el" href="Zone_8h_source.html#l00363">Zone::le_nom()</a>, <a class="el" href="Domaine_8h_source.html#l00204">Domaine::le_nom()</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="Domaine_8h_source.html#l00577">Domaine::les_sommets()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00110">liste_elems_sous_domaines_</a>, <a class="el" href="DomaineCutter__Correspondance_8h_source.html#l00053">DomaineCutter_Correspondance::liste_inverse_elements_</a>, <a class="el" href="DomaineCutter__Correspondance_8h_source.html#l00050">DomaineCutter_Correspondance::liste_inverse_sommets_</a>, <a class="el" href="DomaineCutter__Correspondance_8h_source.html#l00046">DomaineCutter_Correspondance::liste_sommets_</a>, <a class="el" href="Zone_8h_source.html#l00550">Zone::nb_joints()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00104">nb_parties_</a>, <a class="el" href="Domaine_8cpp_source.html#l00177">Domaine::nb_som_tot()</a>, <a class="el" href="Domaine_8h_source.html#l00242">Domaine::nb_zones()</a>, <a class="el" href="Zone_8h_source.html#l00382">Zone::nommer()</a>, <a class="el" href="Domaine_8h_source.html#l00223">Domaine::nommer()</a>, <a class="el" href="DomaineCutter__Correspondance_8h_source.html#l00043">DomaineCutter_Correspondance::partie_</a>, <a class="el" href="Decouper_8h_source.html#l00046">Decouper::print_more_infos</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="DomaineCutter_8h_source.html#l00097">ref_domaine_</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00167">remplir_coordsommets_sous_domaine()</a>, <a class="el" href="Joint__Items_8cpp_source.html#l00073">Joint_Items::set_items_distants()</a>, <a class="el" href="Joint_8cpp_source.html#l00159">Joint::set_joint_item()</a>, <a class="el" href="Cast_8h_source.html#l00054">sub_type</a>, <a class="el" href="Scatter_8cpp_source.html#l00752">Scatter::trier_les_joints()</a>, <a class="el" href="Zone_8h_source.html#l00491">Zone::type_elem()</a>, <a class="el" href="Elem__geom_8h_source.html#l00044">Deriv_Elem_geom_base::valeur()</a>, <a class="el" href="Ref__Domaine_8h_source.html#l00032">Ref_Domaine::valeur()</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8h_source.html#l00056">construire_sous_domaine()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01268">ecrire_zones()</a>, and <a class="el" href="Create__domain__from__sous__zone_8cpp_source.html#l00045">Create_domain_from_sous_zone::interpreter_()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">// L&#39;objet doit etre initialise:</span>
  assert(<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a> &gt;= 0);
<span class="comment">// Pas de zone dans sous_domaine</span>
  assert(sous_domaine.nb_zones() == 0);
<span class="comment">// Numero de partie valide</span>
  assert(part &gt;= 0 &amp;&amp; part &lt; <a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>);

  correspondance.partie_ = part;

  <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domaine = <a class="code" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">ref_domaine_</a>.<a class="code" href="classRef__Domaine.html#a89e1c374ada79faa2c7e9a76c3393ad8">valeur</a>();
  <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp;     zone    = domaine.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);

  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> elements_sous_partie;
  <a class="code" href="classDomaineCutter.html#abd0e4e1397f134880628a61dd7e629e7">liste_elems_sous_domaines_</a>.<a class="code" href="classStatic__Int__Lists.html#ac5f80aca1def83653c95221f391b916d" title="copie la i-ieme liste dans le tableau fourni Le tableau array doit etre resizable.">copy_list_to_array</a>(part, elements_sous_partie);

<span class="comment">// Preparation du sous_domaine</span>
<span class="comment">// sous_domaine.reset(); /* reset n&#39;existe pas encore... */</span>
  sous_domaine.nommer(domaine.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>());
<span class="comment">// On cree une zone pour le domaine</span>
  <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a> new_empty_zone;
  <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone_partie = sous_domaine.add(new_empty_zone);
<span class="comment">// Nom de la zone</span>
  {
    <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_zone = zone.<a class="code" href="classZone.html#aad29ea7a38564404cc0417383233aaf0" title="Renvoie le nom de la zone.">le_nom</a>();
    zone_partie.<a class="code" href="classZone.html#ad9cedce77314d4aa1d84a12958079b0e" title="Donne un nom a la zone.">nommer</a>(nom_zone);
  }
  zone_partie.<a class="code" href="classZone.html#a68a215145852861f2d513c959f52a1a5" title="Specifie le domaine dont la zone fait partie.">associer_domaine</a>(sous_domaine);
  <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classPoly__geom__base.html" title=": class Poly_geom_base &lt;Description of class Poly_geom_base&gt;">Poly_geom_base</a>,zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classDeriv__Elem__geom__base.html#a384b487459a33f9f521fb16539ec81de">valeur</a>()))
    <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classPoly__geom__base.html" title=": class Poly_geom_base &lt;Description of class Poly_geom_base&gt;">Poly_geom_base</a>,zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classDeriv__Elem__geom__base.html#a384b487459a33f9f521fb16539ec81de">valeur</a>()).build_reduced(zone_partie.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>(), elements_sous_partie);
  <span class="keywordflow">else</span>
    zone_partie.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>() = zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>();
  zone_partie.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classElem__geom.html#a52107168bd97e24d851ca5f667c575e5" title="Appel a l&#39;objet sous-jacent Associe l&#39;element geometrique a sa zone.">associer_zone</a>(zone_partie);

  <a class="code" href="DomaineCutter_8cpp.html#a864ba9bfc1dd181f22111636ac9cd45d" title="Creation de la liste des sommets du sous-domaine &quot;partie&quot;. C&#39;est l&#39;ensemble des sommets des element...">construire_liste_sommets_sousdomaine</a>(domaine.<a class="code" href="classDomaine.html#a394e61cf1993665886de0fbbd0c0178e" title="Renvoie le nombre total de sommets.">nb_som_tot</a>(),
                                       zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>(),
                                       elements_sous_partie,
                                       part,
                                       som_raccord,
                                       correspondance.liste_sommets_ <span class="comment">/* write */</span>,
                                       correspondance.liste_inverse_sommets_ <span class="comment">/* write */</span>);

  <a class="code" href="DomaineCutter_8cpp.html#adf74c004dd180d3a955e02b71acd8c52">remplir_coordsommets_sous_domaine</a>(domaine.<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>(),
                                    correspondance.liste_sommets_,
                                    sous_domaine.les_sommets() <span class="comment">/* write */</span>);
  <a class="code" href="DomaineCutter_8cpp.html#a0182ac071592d0b622994493f6c2a9a3">construire_elems_sous_domaine</a>(zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>(),
                                elements_sous_partie,
                                correspondance.liste_inverse_sommets_,
                                zone_partie.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>() <span class="comment">/* write */</span>,
                                correspondance.liste_inverse_elements_ <span class="comment">/* write */</span>);
  {
    <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; l_som     = correspondance.liste_sommets_;
    <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; l_inv_som = correspondance.liste_inverse_sommets_;
    <a class="code" href="classDomaineCutter.html#a2a1da80e63599c4e43955a05e24d4ce7">construire_faces_bords_ssdom</a>   (l_inv_som, part, zone_partie);
    <a class="code" href="classDomaineCutter.html#a0d823ebe378eb13f8ebe8a95410f6565" title="Constructions des raccords de la sous_partie a partir des raccords du domaine global. Les Raccord_local_homogene sont transformes en Raccord_distant_homogene.">construire_faces_raccords_ssdom</a>(l_inv_som, part, zone_partie);
    <a class="code" href="classDomaineCutter.html#aba35bd15f234dc72046ca3281e47afbc">construire_faces_internes_ssdom</a>(l_inv_som, part, zone_partie);
    <a class="code" href="classDomaineCutter.html#adfdcdff976a3d5638a3b1f7b66e81826" title="Creation des joints et construction des listes et des tableaux de sommets joints pour tous les joints...">construire_sommets_joints_ssdom</a>(l_som, l_inv_som, part, som_raccord, zone_partie);
  }

  <a class="code" href="classDomaineCutter.html#adf1b1154ac181e0fc367e7d78cedecaa">construire_faces_joints_ssdom</a>(part, correspondance, zone_partie);

<span class="comment">// if som_raccord is used (for DecouperMulti), then construire_elements_distants_ssdom()</span>
<span class="comment">// can lead to the creation of empty joints -&gt; it must not be called</span>
  <span class="keywordtype">int</span> compute_items_distants= <a class="code" href="classDecouper.html#a3547db48cde6991d341216127bff3091">Decouper::print_more_infos</a> &amp;&amp; !som_raccord; <span class="comment">//!&lt; To print NbElemDist informations</span>
<span class="comment"></span>  <span class="keywordflow">if</span> (compute_items_distants)
    {
<span class="comment">// Cet algorithme sequentiel n&#39;est pas utilise en temps normal, sauf si</span>
<span class="comment">// on veut tester l&#39;algorithme parallele dans Scatter.cpp</span>
<span class="comment">// voir  CHECK_ALGO_ESPACE_VIRTUEL dans Scatter.cpp (Benoit Mathieu)</span>
      <a class="code" href="classDomaineCutter.html#a9a64f400c752faa582fd92995665b60f" title="calcul et remplissage de zone_partie.joint(i).set_joint_item(Joint::ELEMENT).set_items_distants() (li...">construire_elements_distants_ssdom</a>(part,
                                         correspondance.liste_sommets_,
                                         correspondance.liste_inverse_elements_,
                                         zone_partie);
    }
  <span class="keywordflow">else</span>
    {
<span class="comment">// Initialiser des joints vides (sinon assert en debug car les joints ne sont pas initialises)</span>
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ij = 0; ij &lt; zone_partie.<a class="code" href="classZone.html#ab096afb61e89705709a4ae6d3576a644" title="Renvoie le nombre de joints de la zone.">nb_joints</a>(); ij++)
        {
          <a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>&amp;     joint = zone_partie.<a class="code" href="classZone.html#acec4c61032df8b55a95f9e7197ef6e3c" title="Renvoie le i-ieme joint de la zone&lt;br&gt;(version const)">joint</a>(ij);
          joint.<a class="code" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de" title="Renvoie les informations de joint pour un type d&#39;item geometrique donne, pour remplissage des structu...">set_joint_item</a>(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code" href="classJoint__Items.html#a13add264f4ad36ef4bddbfc1b7bdb817" title="Renvoie le tableau items_distants_ pour le remplir Voir Scatter::calculer_espace_distant, Scatter::calculer_espace_distant_faces_frontieres, Scatter::calculer_espace_distant_elements.">set_items_distants</a>();
        }
    }
  <a class="code" href="classScatter.html#ac5dd6d7661490708649976cde509f480" title="Tri des joints dans l&#39;ordre croissant des processeurs.">Scatter::trier_les_joints</a>(zone_partie.<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>());
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad7f0b2de1b78ce436891b8e223c942cb"></a><!-- doxytag: member="DomaineCutter::construire_sous_domaine" ref="ad7f0b2de1b78ce436891b8e223c942cb" args="(const int part, Domaine &amp;sous_domaine_) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::construire_sous_domaine </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>sous_domaine_</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00056">56</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

<p>References <a class="el" href="DomaineCutter_8cpp_source.html#l01115">construire_sous_domaine()</a>.</p>
<div class="fragment"><pre class="fragment">  {
    <a class="code" href="classDomaineCutter__Correspondance.html" title="Classe outil contenant la correspondance entre les indices de sommets et d&#39;elements du domaine global...">DomaineCutter_Correspondance</a>  correspondance;
    <a class="code" href="classDomaineCutter.html#a151d632d05724329525a5b05385ac2c1" title="Remplit la structure &quot;correspondance&quot; et le &quot;sous_domaine&quot; pour la partie &quot;part&quot;. On cherche les somm...">construire_sous_domaine</a>(part,correspondance,sous_domaine_);
  };
</pre></div>
</div>
</div>
<a class="anchor" id="a7478750733c0158d2d8b5613c4163f89"></a><!-- doxytag: member="DomaineCutter::cree_instance" ref="a7478750733c0158d2d8b5613c4163f89" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classObjet__U.html">Objet_U</a> * DomaineCutter::cree_instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00039">39</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a05d12f50c6e18a95ef955a7f4f7067cc"></a><!-- doxytag: member="DomaineCutter::duplique" ref="a05d12f50c6e18a95ef955a7f4f7067cc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int DomaineCutter::duplique </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classObjet__U.html#a0308f5615fd7101a52a11f6c49b5f7bd">Objet_U</a>.</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00039">39</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a77aab8be2856e40a5788398e36f411cc"></a><!-- doxytag: member="DomaineCutter::ecrire_zones" ref="a77aab8be2856e40a5788398e36f411cc" args="(const Nom &amp;basename, const Decouper::ZonesFileOutputType format, IntVect &amp;elem_part, const int &amp;reorder, const Static_Int_Lists *som_raccord=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::ecrire_zones </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classNom.html">Nom</a> &amp;&#160;</td>
          <td class="paramname"><em>basename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDecouper.html#a6185c781230e9987f8d0ed3deba63c77">Decouper::ZonesFileOutputType</a>&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classIntVect.html">IntVect</a> &amp;&#160;</td>
          <td class="paramname"><em>elem_part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>reorder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a> *&#160;</td>
          <td class="paramname"><em>som_raccord</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Generation de tous les sous-domaines du calcul et ecriture sur disque des<br/>
fichiers basename_000n.Zones pour 0 &lt;= n &lt; nb_parties_.<br/>
Si des "sous-zones" sont definies (dans le champ domaine.ss_zones()),<br/>
on genere aussi un fichier par sous-zone. </p>

<p><p>&lt; create HDF5 file only once!</p>
<p>&lt; Premiere partie, on ecrase le fichier</p>
<p>&lt; Mode append</p>
<p>&lt; involves communication: do it only if requested </p>
</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l01268">1268</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="Noms_8cpp_source.html#l00024">Vect_Nom::add()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00371">ArrOfInt::addr()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00355">ArrOfInt::append_array()</a>, <a class="el" href="Decouper_8h_source.html#l00042">Decouper::BINARY_MULTIPLE</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00978">calculer_listes_elements_sous_domaines()</a>, <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="FichierHDF_8cpp_source.html#l00037">FichierHDF::close()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01210">construire_nom_fichier_sous_domaine()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01115">construire_sous_domaine()</a>, <a class="el" href="EntreeSortie_8h_source.html#l00033">Cout</a>, <a class="el" href="FichierHDF_8cpp_source.html#l00035">FichierHDF::create()</a>, <a class="el" href="FichierHDF_8cpp_source.html#l00041">FichierHDF::create_and_fill_dataset_SW()</a>, <a class="el" href="IntVect_8cpp_source.html#l00276">IntVect::echange_espace_virtuel()</a>, <a class="el" href="Joint_8h_source.html#l00066">Joint::ELEMENT</a>, <a class="el" href="communications_8cpp_source.html#l00200">envoyer()</a>, <a class="el" href="communications_8cpp_source.html#l00375">envoyer_broadcast()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="arch_8h_source.html#l00075">F77NAME</a>, <a class="el" href="Zone_8h_source.html#l01098">Zone::faces_joint()</a>, <a class="el" href="FichierHDF_8cpp_source.html#l00042">FichierHDF::fill_dataset()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Sortie__Brute_8cpp_source.html#l00052">Sortie_Brute::get_size()</a>, <a class="el" href="Decouper_8h_source.html#l00042">Decouper::HDF5_SINGLE</a>, <a class="el" href="arch_8h_source.html#l00051">IOS_OPEN_MODE</a>, <a class="el" href="Joint__Items_8cpp_source.html#l00049">Joint_Items::items_communs()</a>, <a class="el" href="Joint__Items_8cpp_source.html#l00063">Joint_Items::items_distants()</a>, <a class="el" href="Process_8cpp_source.html#l00095">Process::je_suis_maitre()</a>, <a class="el" href="Joint_8cpp_source.html#l00186">Joint::joint_item()</a>, <a class="el" href="Sous__Zone_8h_source.html#l00107">Sous_Zone::le_nom()</a>, <a class="el" href="List_8h_source.html#l00026">LIST</a>, <a class="el" href="DomaineCutter_8h_source.html#l00110">liste_elems_sous_domaines_</a>, <a class="el" href="DomaineCutter__Correspondance_8h_source.html#l00053">DomaineCutter_Correspondance::liste_inverse_elements_</a>, <a class="el" href="DoubleVect_8cpp_source.html#l00773">local_max_vect()</a>, <a class="el" href="DoubleVect_8cpp_source.html#l00660">local_min_vect()</a>, <a class="el" href="Process_8cpp_source.html#l00117">Process::me()</a>, <a class="el" href="Process_8cpp_source.html#l00156">Process::mp_max()</a>, <a class="el" href="Zone_8h_source.html#l00300">Zone::nb_elem()</a>, <a class="el" href="Sous__Zone_8h_source.html#l00167">Sous_Zone::nb_elem_tot()</a>, <a class="el" href="Frontiere_8h_source.html#l00114">Frontiere::nb_faces()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00104">nb_parties_</a>, <a class="el" href="Domaine_8cpp_source.html#l00184">Domaine::nb_som()</a>, <a class="el" href="Postraitement_8cpp_source.html#l00119">nom_fichier()</a>, <a class="el" href="Nom_8cpp_source.html#l00566">Nom::nom_me()</a>, <a class="el" href="Process_8cpp_source.html#l00109">Process::nproc()</a>, <a class="el" href="Sortie__Fichier__base_8cpp_source.html#l00161">Sortie_Fichier_base::ouvrir()</a>, <a class="el" href="Joint_8cpp_source.html#l00099">Joint::PEvoisin()</a>, <a class="el" href="Decouper_8h_source.html#l00046">Decouper::print_more_infos</a>, <a class="el" href="communications_8cpp_source.html#l00246">recevoir()</a>, <a class="el" href="Ref_8h_source.html#l00026">REF</a>, <a class="el" href="DomaineCutter_8h_source.html#l00097">ref_domaine_</a>, <a class="el" href="Static__Int__Lists_8cpp_source.html#l00026">Static_Int_Lists::reset()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00240">ArrOfInt::resize_array()</a>, <a class="el" href="Sortie_8cpp_source.html#l00584">Sortie::set_bin()</a>, <a class="el" href="ArrOfInt_8cpp_source.html#l00443">ArrOfInt::set_smart_resize()</a>, <a class="el" href="liste_8cpp_source.html#l00175">liste::size()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, <a class="el" href="IntVect_8h_source.html#l00121">IntVect::size_reelle()</a>, <a class="el" href="Joint_8h_source.html#l00066">Joint::SOMMET</a>, <a class="el" href="Domaine_8h_source.html#l00608">Domaine::ss_zones()</a>, <a class="el" href="Ref__Domaine_8h_source.html#l00032">Ref_Domaine::valeur()</a>, <a class="el" href="Vect_8h_source.html#l00026">VECT</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01254">writeData()</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="Decouper_8cpp_source.html#l00142">ecrire_sous_zones()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert(<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a> &gt;= 0);
  <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domaine = <a class="code" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">ref_domaine_</a>.<a class="code" href="classRef__Domaine.html#a89e1c374ada79faa2c7e9a76c3393ad8">valeur</a>();
  <a class="code" href="classDomaineCutter__Correspondance.html" title="Classe outil contenant la correspondance entre les indices de sommets et d&#39;elements du domaine global...">DomaineCutter_Correspondance</a> dc_correspondance;

<span class="comment">// Needed for HDF5 Zones output:</span>
<span class="preprocessor">#ifdef MPI_</span>
<span class="preprocessor"></span>  <a class="code" href="classFichierHDFPar.html" title="Parallel collective version of FichierHDF, to be used for all concurrent reading/writing on HDF files...">FichierHDFPar</a> fic_hdf;
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>  <a class="code" href="classFichierHDF.html" title="This abstract class provides all the functionalities to open and manipulate HDF files and related con...">FichierHDF</a> fic_hdf;
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>  <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_fichier_hdf5(basename);
  nom_fichier_hdf5+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;.Zones&quot;</span>);
  nom_fichier_hdf5 = nom_fichier_hdf5.nom_me(<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>, <span class="stringliteral">&quot;p&quot;</span>, 1);

<span class="comment">// Build temp arrays to eventually reorder the partition numbering</span>
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> ia(<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>+1);
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> ja;
  ja.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  <span class="keywordtype">int</span> nnz=0;
  ia[0]=1;

<span class="comment">// To detect my parts (when running in parallel)</span>
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> myZones(<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>);
  myZones = 0;
  <a class="code" href="Vect_8h.html#adc7c7b04809c9aec2cb897cd2ef06378">VECT</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>) otherProcZones(<a class="code" href="classProcess.html" title="Classe de base de TRUST (notamment Objet_U). Elle fournit quelques services de base accessibles de pa...">Process</a>::<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">nproc</a>());

<span class="comment">// if some zones are splitted between multiple procs,</span>
<span class="comment">// we assign consecutive indices to each of its fragment</span>
<span class="comment">// (reading the .Zones files during Scatter will be more efficient)</span>
<span class="comment">// Possible values for zones_index[part]:</span>
<span class="comment">// -2    : means that part is detained by multiple procs but not by me</span>
<span class="comment">// -1    : means that part is detained by a single proc</span>
<span class="comment">// i &gt;=0 : means that my proc detains the i-th fragment of part</span>
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> zones_index(<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>);
  zones_index = -2;

  const <span class="keywordtype">int</span> nbelem = domaine.zone(0).nb_elem();

  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; &quot;Generation of &quot; &lt;&lt; nb_parties_ &lt;&lt; &quot; parts:&quot; &lt;&lt; finl;
  <a class="code" href="classIntVect.html">IntVect</a> EdgeCut(nb_parties_);
  <a class="code" href="Vect_8h.html#adc7c7b04809c9aec2cb897cd2ef06378">VECT</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>) Neighbours(nb_parties_);
<span class="comment">// 2 loops if reorder=1</span>
  for (<span class="keywordtype">int</span> loop=0; loop&lt;1+reorder; loop++)
    {
      <span class="keywordflow">if</span> (reorder)
        {
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;====================================&quot;</span> &lt;&lt; finl;
          <span class="keywordflow">if</span> (loop==0)
            <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;FIRST PASS, analyzing the partition:&quot;</span> &lt;&lt; finl;
          <span class="keywordflow">else</span>
            <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;SECOND PASS, after reordering the partition:&quot;</span> &lt;&lt; finl;
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;====================================&quot;</span> &lt;&lt; finl;
        }

      <span class="keywordflow">if</span>(loop == reorder)
        {
<span class="comment">// check to see which part is shared between multiple processors:</span>
<span class="comment">// 1- everyone sends the number of the parts that belong to them to the master process</span>
<span class="comment">// 2- master process will assign a unique positive number to each fragment of a shared zone</span>
<span class="comment">// 3- if a part is owned by a single process, it is indicated with the index -1</span>
<span class="comment">// 4- the master process scatters the indices to all the proc</span>
          <a class="code" href="Vect_8h.html#adc7c7b04809c9aec2cb897cd2ef06378">VECT</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>) zones_indices(<a class="code" href="classProcess.html" title="Classe de base de TRUST (notamment Objet_U). Elle fournit quelques services de base accessibles de pa...">Process</a>::nproc());

          for(<span class="keywordtype">int</span> i=0; i &lt; nbelem; i++)
            {
              <span class="keyword">const</span> <span class="keywordtype">int</span> part = elem_part[i];
              myZones[part] = 1;
            }

          <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p=0; p&lt;<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>(); p++)
            {
              <span class="keywordflow">if</span>(p==0)
                otherProcZones[p] = myZones;
              <span class="keywordflow">else</span>
                {
                  otherProcZones[p].<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(nb_parties_);
                  otherProcZones[p] = 0;
                }
            }
          <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">Process::je_suis_maitre</a>())
            {
              <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p=0; p&lt;<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>(); p++)
                {
                  zones_indices[p].resize_array(nb_parties_);
                  zones_indices[p] = -2;
                  <span class="keywordflow">if</span>(p!=0)
                    <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(otherProcZones[p], p, 0, p+2001);
                }

              <span class="keywordflow">for</span>(<span class="keywordtype">int</span> part=0; part&lt;<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>; part++)
                {
                  <span class="keywordtype">int</span> s = 0;
                  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> proc=0; proc &lt; <a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>(); proc++)
                    {
                      <span class="keywordflow">if</span>(otherProcZones[proc][part])
                        zones_indices[proc][part] = s++;
                    }

                  <span class="keywordflow">if</span>(s&lt;=1)
                    {
                      <span class="keywordflow">if</span>(s==0)   <span class="comment">//empty part: master process will write it</span>
                        myZones[part] = 1;

<span class="comment">// part is detained by a single proc</span>
                      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> proc=0; proc &lt; <a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>(); proc++)
                        zones_indices[proc][part] = -1;
                    }
                }

              <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p=0; p&lt;<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>(); p++)
                {
                  <span class="keywordflow">if</span>(p==0)
                    zones_index = zones_indices[p];
                  <span class="keywordflow">else</span>
                    <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(zones_indices[p], 0, p, p+2002);
                }
            }
          <span class="keywordflow">else</span>
            {
              <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(myZones, <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(), 0, <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>()+2001);
              <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(zones_index, 0, <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(), <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>()+2002);
            }

          <span class="keywordflow">if</span> (format == <a class="code" href="classDecouper.html#a6185c781230e9987f8d0ed3deba63c77ab6eb35dc70963341302e570b944c7b44">Decouper::HDF5_SINGLE</a>)  <span class="comment">//!&lt; create HDF5 file only once!</span>
<span class="comment"></span>            {
              fic_hdf.<a class="code" href="classFichierHDF.html#ae8d1c1444d9d7ac5d0bef32feaa050df">create</a>(nom_fichier_hdf5);
              <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>() &gt; 1)
                {
<span class="comment">// creating datasets</span>
                  <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> dataset_names;
                  <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">Process::je_suis_maitre</a>())
                    {
                      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> part=0; part&lt;<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>; part++)
                        {
                          <span class="keywordflow">if</span>(zones_index[part] == -1)
                            {
                              std::string dname = <span class="stringliteral">&quot;/zone_&quot;</span>  + std::to_string(part);
                              <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> dataset_name(dname.c_str());
                              dataset_names.<a class="code" href="classVect__Nom.html#ae20c0d0842c00756c1a2610fe0ca471f">add</a>(dataset_name);
                            }
                          <span class="keywordflow">else</span>
                            {
                              <span class="keywordflow">for</span>(<span class="keywordtype">int</span> proc=0; proc &lt; <a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>(); proc++)
                                {
                                  <span class="keywordflow">if</span>(zones_indices[proc][part] &gt;=0)
                                    {
                                      std::string dname = <span class="stringliteral">&quot;/zone_&quot;</span>  + std::to_string(part) + <span class="stringliteral">&quot;_&quot;</span> + std::to_string(zones_indices[proc][part]);
                                      <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> dataset_name(dname.c_str());
                                      dataset_names.<a class="code" href="classVect__Nom.html#ae20c0d0842c00756c1a2610fe0ca471f">add</a>(dataset_name);
                                    }
                                }
                            }
                        }

                    }

<span class="comment">// estimation of an upper bound of the datasets&#39; size</span>
                  <span class="keywordtype">int</span> ipart = 0;
                  <span class="keywordflow">while</span>(!myZones[ipart]) ipart++;
                  <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a> dom_tmp;
                  <a class="code" href="classDomaineCutter.html#a151d632d05724329525a5b05385ac2c1" title="Remplit la structure &quot;correspondance&quot; et le &quot;sous_domaine&quot; pour la partie &quot;part&quot;. On cherche les somm...">construire_sous_domaine</a>(ipart, dc_correspondance, dom_tmp);
                  <a class="code" href="classSortie__Brute.html" title="This derived class of Sortie stacks whatever it receives in an internal binary buffer. Data can be accessed through get_data().">Sortie_Brute</a> os_tmp;
                  <a class="code" href="classDomaineCutter.html#a6915956c4d26e4de8bb8f82c848108d0">writeData</a>(dom_tmp, os_tmp);
                  <span class="keywordtype">long</span> sz_ = os_tmp.<a class="code" href="classSortie__Brute.html#a6f6dbbd9d0b7795ee205279b59c643bd">get_size</a>();
                  sz_ *= 1.5;
                  sz_ = <a class="code" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d" title="Calcule le max de x sur tous les processeurs du groupe courant. Remarques : Cette methode doit etre a...">Process::mp_max</a>(sz_);
                  <a class="code" href="communications_8cpp.html#a2335b36078ae87e23dab400a6e129a3c">envoyer_broadcast</a>(dataset_names,0);
                  fic_hdf.create_datasets(dataset_names, sz_);
                }
            }

        }
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_part = 0; i_part &lt; <a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>; i_part++)
        {
          <span class="keywordflow">if</span>(!myZones[i_part])
            <span class="keywordflow">continue</span>;

          assert(zones_index[i_part] &gt; -2);
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Construction of part number &quot;</span> &lt;&lt; i_part &lt;&lt; finl;
          <span class="keywordflow">if</span>(zones_index[i_part] &gt;= 0)
            <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;This part is shared between multiple processors&quot;</span> &lt;&lt; finl;

          <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a> sous_domaine;
          <a class="code" href="classDomaineCutter.html#a151d632d05724329525a5b05385ac2c1" title="Remplit la structure &quot;correspondance&quot; et le &quot;sous_domaine&quot; pour la partie &quot;part&quot;. On cherche les somm...">construire_sous_domaine</a>(i_part, dc_correspondance, sous_domaine, som_raccord);
<span class="comment">// On affiche quelques informations...</span>
          {
            <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone = sous_domaine.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
            <span class="keyword">const</span> <a class="code" href="classJoints.html" title="Classe Joints Cette classe represente une liste d&#39;objet de type Joint.">Joints</a>&amp; joints = zone.<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>();
            <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; nb_joints = joints.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
            <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Number of nodes    : &quot;</span> &lt;&lt; sous_domaine.<a class="code" href="classDomaine.html#abc4abc8b8db5bebeb161fae4162a89ce" title="Renvoie le nombre de sommets.">nb_som</a>() &lt;&lt; finl;
            <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Number of elements : &quot;</span> &lt;&lt; zone.<a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>() &lt;&lt; finl;
            <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Number of joints   : &quot;</span> &lt;&lt; nb_joints &lt;&lt; finl;
<span class="comment">// char s[200];</span>
            <span class="keywordtype">int</span> nbfaces_total=0;
            <span class="keywordtype">int</span> nbelemdist_total=0;
            <span class="keywordtype">int</span> nbsom_total=0;
            Neighbours[i_part].resize_array(0);
            Neighbours[i_part].resize_array(nb_joints);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_joints; i++)
              {
                <span class="keyword">const</span> <a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>&amp; joint = joints[i];
                <span class="keyword">const</span> <span class="keywordtype">int</span> pe = joint.<a class="code" href="classJoint.html#a0952bc5c7805434ccd8cd5c9b01e3747" title="Renvoie PEvoisin (numero de la zone voisine)">PEvoisin</a>();
                Neighbours[i_part][i] = pe;
                <span class="keyword">const</span> <span class="keywordtype">int</span> nbsom = joint.<a class="code" href="classJoint.html#a3f49fb1150967b436a115a7373ab27a0" title="Renvoie les informations de joint pour le type demande.">joint_item</a>(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).<a class="code" href="classJoint__Items.html#a435fb1629f6dafb089605913517e73c4" title="Voir items_communs_.">items_communs</a>().<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
                nbsom_total+=nbsom;
                <span class="keyword">const</span> <span class="keywordtype">int</span> nbfaces = joint.<a class="code" href="classFrontiere.html#aa073fe9dbdddde59471ee7032b256aa2" title="Renvoie le nombre de faces de la frontiere.">nb_faces</a>();
                nbfaces_total+=nbfaces;
                <span class="keyword">const</span> <span class="keywordtype">int</span> nbelemdist = joint.<a class="code" href="classJoint.html#a3f49fb1150967b436a115a7373ab27a0" title="Renvoie les informations de joint pour le type demande.">joint_item</a>(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code" href="classJoint__Items.html#ae51b330de79fcaae9c88166e3eee7cb8" title="Voir items_distants_.">items_distants</a>().<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
                nbelemdist_total+=nbelemdist;
<span class="comment">// Beurk: sprintf pas beau et dangereux, mais c&#39;est plus simple...</span>
                assert(<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>)==<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
                <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt; <span class="stringliteral">&quot;  Joint &quot;</span>&lt;&lt;i&lt;&lt;<span class="stringliteral">&quot; PeVoisin &quot;</span>&lt;&lt;pe&lt;&lt;<span class="stringliteral">&quot; NbSommets &quot;</span>&lt;&lt;nbsom&lt;&lt;<span class="stringliteral">&quot; NbFaces &quot;</span>&lt;&lt;nbfaces;
                <span class="keywordflow">if</span> (<a class="code" href="classDecouper.html#a3547db48cde6991d341216127bff3091">Decouper::print_more_infos</a>) <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot; NbElemDist &quot;</span>&lt;&lt;nbelemdist;
                <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;finl;
              }
            <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;               Total:    NbSommets &quot;</span>&lt;&lt;nbsom_total&lt;&lt;<span class="stringliteral">&quot; NbFaces &quot;</span>&lt;&lt;nbfaces_total;
            <span class="keywordflow">if</span> (<a class="code" href="classDecouper.html#a3547db48cde6991d341216127bff3091">Decouper::print_more_infos</a>) <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot; NbElemDist &quot;</span>&lt;&lt;nbelemdist_total;
            EdgeCut(i_part)=nbfaces_total;
            <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;finl;

          }
          <span class="keywordflow">if</span> (reorder &amp;&amp; loop==0)
            {
              <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone = sous_domaine.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
              <span class="keyword">const</span> <a class="code" href="classJoints.html" title="Classe Joints Cette classe represente une liste d&#39;objet de type Joint.">Joints</a>&amp; joints = zone.<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>();
              <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; nb_joints = joints.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<span class="comment">// Resize ja:</span>
              ja.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(nnz+nb_joints+1);
<span class="comment">// Fortran numerotation:</span>
              ja[nnz]=i_part+1;
              nnz++;
              ia[i_part+1]=ia[i_part]+1;
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_joints; i++)
                {
                  <span class="keyword">const</span> <span class="keywordtype">int</span> pe = joints[i].PEvoisin();
                  ja[nnz] = pe+1;
                  nnz++;
                  ia[i_part+1]++;
                }
            }
          <span class="keywordflow">else</span>
            {
<span class="comment">// Write .Zones file(s):</span>
              <span class="keywordflow">if</span> (format == <a class="code" href="classDecouper.html#a6185c781230e9987f8d0ed3deba63c77abb1fd046c875d348a8c0a151ca4a060a">Decouper::BINARY_MULTIPLE</a>)
                {
                  <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> <a class="code" href="Postraitement_8cpp.html#a2014b0b7ca4c8b7161754648bb234d56">nom_fichier</a>(basename);
                  <a class="code" href="Postraitement_8cpp.html#a2014b0b7ca4c8b7161754648bb234d56">nom_fichier</a>+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;.Zones&quot;</span>);
<span class="comment">// nom_fichier = nom_fichier.nom_me(i_part);</span>
                  <a class="code" href="DomaineCutter_8cpp.html#a9e5238b7b86ba22c11d18274d708a57d" title="Build the name of the &quot;.Zones&quot; file for a given proc and a domain. If partie == -1 a single filename ...">construire_nom_fichier_sous_domaine</a>(basename,i_part, nb_parties_, zones_index[i_part], <a class="code" href="Postraitement_8cpp.html#a2014b0b7ca4c8b7161754648bb234d56">nom_fichier</a>);
                  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Writing part &quot;</span> &lt;&lt; i_part &lt;&lt; <span class="stringliteral">&quot; into the &quot;</span>
                       &lt;&lt; (format == <a class="code" href="classDecouper.html#a6185c781230e9987f8d0ed3deba63c77abb1fd046c875d348a8c0a151ca4a060a">Decouper::BINARY_MULTIPLE</a> ? <span class="stringliteral">&quot;binary&quot;</span> : <span class="stringliteral">&quot;ascii&quot;</span>)
                       &lt;&lt; <span class="stringliteral">&quot; file &quot;</span> &lt;&lt; <a class="code" href="Postraitement_8cpp.html#a2014b0b7ca4c8b7161754648bb234d56">nom_fichier</a> &lt;&lt; finl;
                  <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> os;
                  <span class="keywordflow">if</span> (format == <a class="code" href="classDecouper.html#a6185c781230e9987f8d0ed3deba63c77abb1fd046c875d348a8c0a151ca4a060a">Decouper::BINARY_MULTIPLE</a>)
                    os.<a class="code" href="classSortie.html#a1b830c79a55971e0ae7281d13e06cb44" title="Change le mode d&#39;ecriture du fichier. Cette methode peut etre appelee n&#39;importe quand. Attention cependant pour les fichiers Ecrire_Fichier_Partage : il faut faire le changement uniquement au debut de l&#39;ecriture d&#39;un bloc, juste apres syncfile() (sinon, mauvaise traduction des retours a la ligne lors du syncfile suivant).">set_bin</a>(1);
                  <span class="keyword">const</span> <span class="keywordtype">int</span> ok = os.ouvrir(<a class="code" href="Postraitement_8cpp.html#a2014b0b7ca4c8b7161754648bb234d56">nom_fichier</a>);
                  <span class="keywordflow">if</span> (!ok)
                    {
                      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;DomaineCutter::ecrire_zones : Error while opening file &quot;</span> &lt;&lt; finl;
                      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
                    }
                  <a class="code" href="classDomaineCutter.html#a6915956c4d26e4de8bb8f82c848108d0">writeData</a>(sous_domaine, os);
                }
              <span class="keywordflow">else</span> <span class="keywordflow">if</span> (format == <a class="code" href="classDecouper.html#a6185c781230e9987f8d0ed3deba63c77ab6eb35dc70963341302e570b944c7b44">Decouper::HDF5_SINGLE</a>)
                {
                  <a class="code" href="classSortie__Brute.html" title="This derived class of Sortie stacks whatever it receives in an internal binary buffer. Data can be accessed through get_data().">Sortie_Brute</a> os_hdf;
                  <a class="code" href="classDomaineCutter.html#a6915956c4d26e4de8bb8f82c848108d0">writeData</a>(sous_domaine, os_hdf);

                  std::string dname = <span class="stringliteral">&quot;/zone_&quot;</span> + std::to_string(i_part);
                  <span class="keywordflow">if</span>(zones_index[i_part] &gt;=0)
                    dname += <span class="stringliteral">&quot;_&quot;</span> + std::to_string(zones_index[i_part]);
                  <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> datasetname(dname.c_str());
                  <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>() &gt; 1)
                    fic_hdf.<a class="code" href="classFichierHDF.html#a4a6063ebd4afc5bac8d24f4ceb60bf62">fill_dataset</a>(datasetname, os_hdf);
                  <span class="keywordflow">else</span>
                    fic_hdf.<a class="code" href="classFichierHDF.html#a7ba14e3b21aaca1de6d4473ccd3a5a66">create_and_fill_dataset_SW</a>(datasetname, os_hdf);

                }
              <span class="keywordflow">else</span>
                {
                  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;DomaineCutter::ecrire_zones : Unsupported output file type!&quot;</span> &lt;&lt; finl;
                  <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>(1);
                }
            }

<span class="comment">// Ecritures des fichiers sous-zones .ssz</span>
          <span class="keyword">const</span> <a class="code" href="List_8h.html#a3149526fb499ddb08728c87daa32c5ad">LIST</a>(<a class="code" href="Ref_8h.html#aab5720a5c34da14028d0745e386aaa01">REF</a>(<a class="code" href="classSous__Zone.html" title="Classe Sous_Zone Represente une sous zone volumique i.e un sous ensemble de polyedres d&#39;un objet de t...">Sous_Zone</a>)) &amp; liste_sous_zones = domaine.<a class="code" href="classDomaine.html#a6499cd6407eb6e5ac5e12891bd1afcb1">ss_zones</a>();
          <span class="keyword">const</span> <span class="keywordtype">int</span> nb_sous_zones = liste_sous_zones.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
          <span class="keywordflow">if</span> (nb_sous_zones&gt;0)
            {
              <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Writing of files .ssz ...&quot;</span> &lt;&lt; finl;
<span class="comment">// Un fichier par sous-zone, dans chaque fichier on trouve toutes les parties...</span>
<span class="comment">// Si on est en train d&#39;ecrire la premiere partie, on efface le fichier</span>
              <a class="code" href="arch_8h.html#a58aa6cef3a754a92479a2fb744a5f538" title="Gestion des dependances machines pour l&#39;appel a FORTRAN La macro F77DECLARE(TOTO) permet de declarer ...">IOS_OPEN_MODE</a> mode;
              <span class="keywordflow">if</span> (i_part == 0)
                mode = ios::out; <span class="comment">//!&lt; Premiere partie, on ecrase le fichier</span>
<span class="comment"></span>              <span class="keywordflow">else</span>
                mode = (ios::out | ios::app); <span class="comment">//!&lt; Mode append</span>
<span class="comment"></span>
<span class="comment">// Boucle sur les sous-zones</span>
              <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; liste_inverse_elements = dc_correspondance.<a class="code" href="classDomaineCutter__Correspondance.html#abc0eef8c08a9f18f2fd41a2ccbc6972a">liste_inverse_elements_</a>;

              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_sous_zone = 0; i_sous_zone &lt; nb_sous_zones; i_sous_zone++)
                {
<span class="comment">// Indices des elements du sous-domaine qui sont dans la sous-zone:</span>
                  <span class="keyword">const</span> <a class="code" href="classSous__Zone.html" title="Classe Sous_Zone Represente une sous zone volumique i.e un sous ensemble de polyedres d&#39;un objet de t...">Sous_Zone</a>&amp; sous_zone = liste_sous_zones[i_sous_zone];
                  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> elements;
                  {
                    <span class="keyword">const</span> <span class="keywordtype">int</span> n = sous_zone.<a class="code" href="classSous__Zone.html#a4266863124b1b4ce971ac57a6ec746e9" title="Returns the subzone number of elements (real+virtual elements in parallel)">nb_elem_tot</a>();
                    elements.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
                    <span class="keywordtype">int</span> i;
                    <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)
                      {
                        <span class="keyword">const</span> <span class="keywordtype">int</span> i_elem_global = sous_zone[i];
                        <span class="keyword">const</span> <span class="keywordtype">int</span> i_elem_local = liste_inverse_elements[i_elem_global];
                        <span class="keywordflow">if</span> (i_elem_local &gt;= 0)
                          elements.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(i_elem_local);
                      }
                  }
                  <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> <a class="code" href="Postraitement_8cpp.html#a2014b0b7ca4c8b7161754648bb234d56">nom_fichier</a>(sous_zone.<a class="code" href="classSous__Zone.html#af05a7f18787ee39875bddf131f4b3d29" title="Renvoie le nom de la sous-zone.">le_nom</a>() + <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;.ssz&quot;</span>));
                  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Subarea &quot;</span> &lt;&lt; i_sous_zone
                       &lt;&lt; <span class="stringliteral">&quot;  file_name &quot;</span> &lt;&lt; <a class="code" href="Postraitement_8cpp.html#a2014b0b7ca4c8b7161754648bb234d56">nom_fichier</a>
                       &lt;&lt; <span class="stringliteral">&quot;  nb_elements in this part &quot;</span> &lt;&lt; elements.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>()
                       &lt;&lt; finl;
<span class="comment">// Le fichier sous-zones est toujours en ascii</span>
                  <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> os;
                  <span class="keyword">const</span> <span class="keywordtype">int</span> ok = os.<a class="code" href="classSortie__Fichier__base.html#a7e75e18ed580cd4d45912ec202caa2b2">ouvrir</a>(<a class="code" href="Postraitement_8cpp.html#a2014b0b7ca4c8b7161754648bb234d56">nom_fichier</a>, mode);
                  <span class="keywordflow">if</span> (!ok)
                    {
                      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;DomaineCutter::ecrire_zones :\n Error while opening file&quot;</span>
                           &lt;&lt; <a class="code" href="Postraitement_8cpp.html#a2014b0b7ca4c8b7161754648bb234d56">nom_fichier</a> &lt;&lt; finl;
                      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
                    }
                  os &lt;&lt; elements;
                }
            }
        }
      <span class="keywordflow">if</span> (reorder &amp;&amp; loop==0)
        {
<span class="comment">// Reduce the bandwith of a the matrix connectivity between parts:</span>
<span class="comment">// ToDo forcer a ne pas changer la partition 0 !</span>
          <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> riord(nb_parties_+1);
          <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> levels(nb_parties_+1);
          <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> mask(nb_parties_+1);
          <span class="keywordtype">int</span> maskval = 1;
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_part=0 ; i_part&lt;nb_parties_+1; i_part++)
            mask[i_part] = maskval;
          <span class="keywordtype">int</span> init=1;
          <span class="keywordtype">int</span> nlev;
          <a class="code" href="arch_8h.html#a9b91c72ded7de2f0b393ea75de53929b">F77NAME</a>(PERPHN)(&amp;<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>, ja.<a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(), ia.addr(), &amp;init, mask.addr(), &amp;maskval, &amp;nlev, riord.addr(), levels.addr());

<span class="comment">// Renumber the elem_part array:</span>
          <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> renum(nb_parties_);
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_part=0; i_part &lt; <a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>; i_part++)
            renum[riord[i_part]-1]=i_part;
          <span class="keywordtype">int</span> size=elem_part.<a class="code" href="classIntVect.html#ae17a73660093eb1d4e90fd8d0ec52670" title="Taille de l&#39;espace &quot;reel&quot; du vecteur. (si md_vector_ est nul, cette valeur est identique a size_arr...">size_reelle</a>();
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;size; i++)
            elem_part[i]=renum[elem_part[i]];
          elem_part.<a class="code" href="classIntVect.html#ad12bea67621d1a0ee82b27c9a37ca4ef">echange_espace_virtuel</a>();
<span class="comment">// Rebuild the liste_elems_sous_domaines_</span>
          <a class="code" href="classDomaineCutter.html#abd0e4e1397f134880628a61dd7e629e7">liste_elems_sous_domaines_</a>.<a class="code" href="classStatic__Int__Lists.html#a0e0e3ede72f4efb729798d17e42f0294" title="detruit toutes les listes">reset</a>();
          <a class="code" href="DomaineCutter_8cpp.html#a89001120b42a3a2021e912f973f795b9">calculer_listes_elements_sous_domaines</a>(elem_part, nb_parties_, nbelem, <a class="code" href="classDomaineCutter.html#abd0e4e1397f134880628a61dd7e629e7">liste_elems_sous_domaines_</a>);
        }

      <span class="comment">/*</span>
<span class="comment">      // Print statistics exactly as Fluent:</span>
<span class="comment">      // http://combust.hit.edu.cn:8080/fluent/Fluent60_help/html/ug/node984.htm</span>
<span class="comment">      Cerr &lt;&lt; &quot;&gt;&gt; Partitions:&quot; &lt;&lt; finl;</span>
<span class="comment">      Cerr &lt;&lt; &quot;</span>
<span class="comment">               P   Cells I-Cells Cell Ratio  Faces I-Faces Face Ratio Neighbors&quot; &lt;&lt; finl;</span>
<span class="comment"></span>
<span class="comment">               0     134      10      0.075    217      10      0.046         1</span>
<span class="comment">               1     137      19      0.139    222      19      0.086         2</span>
<span class="comment">               2     134      19      0.142    218      19      0.087         2</span>
<span class="comment">               3     137      10      0.073    223      10      0.045         1</span>
<span class="comment">      Cerr &lt;&lt; &quot;------&quot; &lt;&lt; finl;</span>
<span class="comment">      Cerr &lt;&lt; &quot;Partition count             = &quot; &lt;&lt; nb_parties_ &lt;&lt; finl;</span>
<span class="comment">      Cerr &lt;&lt; &quot;Cell variation              = (134 - 138)</span>
<span class="comment">      Cerr &lt;&lt; &quot;Mean cell variation         = (  -1.1% -    1.1%)</span>
<span class="comment">      Cerr &lt;&lt; &quot;Intercell variation         = (10 - 19)</span>
<span class="comment">      Cerr &lt;&lt; &quot;Intercell ratio variation   = (   7.3% -   14.2%);</span>
<span class="comment">      Cerr &lt;&lt; &quot;Global intercell ratio      =   10.7%</span>
<span class="comment">      Cerr &lt;&lt; &quot;Face variation              = (217 - 223)</span>
<span class="comment">      Cerr &lt;&lt; &quot;Interface variation         = (10 - 19)</span>
<span class="comment">      Cerr &lt;&lt; &quot;Interface ratio variation   = (   4.5% -    8.7%)</span>
<span class="comment">      Cerr &lt;&lt; &quot;Global interface ratio      =    3.4%</span>
<span class="comment">      Cerr &lt;&lt; &quot;Neighbor variation          = (1 - 2) */</span>
    }

<span class="comment">// if my part is shared with other procs, then my whole part may contain joints that I don&#39;t have</span>
<span class="comment">// calling mp_sum wouldn&#39;t be correct though, because the shared joints would be counted several times</span>
<span class="comment">// so we need to gather neighbours of each part</span>
  <span class="keywordflow">if</span> (<a class="code" href="classDecouper.html#a3547db48cde6991d341216127bff3091">Decouper::print_more_infos</a>)   <span class="comment">//!&lt; involves communication: do it only if requested</span>
<span class="comment"></span>    {
      <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">Process::je_suis_maitre</a>())
        {
          <span class="keywordflow">for</span>(<span class="keywordtype">int</span> proc=1; proc&lt;<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>(); proc++)
            {
              <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i_part=0; i_part&lt;<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>; i_part++)
                {
                  <span class="keywordflow">if</span>(otherProcZones[proc][i_part])
                    {
                      <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> tmp_neighbours;
                      tmp_neighbours.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
                      <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(tmp_neighbours, proc, 0, proc+2003);

                      Neighbours[i_part].set_smart_resize(1);
                      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;tmp_neighbours.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>(); i++)
                        Neighbours[i_part].append_array(tmp_neighbours[i]);
                    }
                }
              <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> tmp_edge_cut(nb_parties_);
              tmp_edge_cut = 0;
              <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(tmp_edge_cut, proc, 0, proc+2008);

              <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i_part=0; i_part&lt;<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>; i_part++)
                EdgeCut(i_part) += tmp_edge_cut(i_part);

            }

          <a class="code" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <span class="stringliteral">&quot;\nQuality of partitioning --------------------------------------------&quot;</span> &lt;&lt; finl;
          <span class="keywordtype">int</span> total_edge_cut = 0;
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_part=0; i_part&lt;<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>; i_part++)
            total_edge_cut+=EdgeCut(i_part);
          <a class="code" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <span class="stringliteral">&quot;Total number of edge-cut (faces shared by processes) : &quot;</span> &lt;&lt; total_edge_cut &lt;&lt; finl;
          <span class="keywordflow">if</span> (total_edge_cut&gt;0)
            {
              <span class="keywordtype">double</span> mean_edgecut_zone = total_edge_cut / <a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>;
              <span class="keywordtype">int</span> max_edgecut_zone = <a class="code" href="DoubleVect_8cpp.html#a17be200c713a7031ede99b28391daa52">local_min_vect</a>(EdgeCut);
              <span class="keywordtype">int</span> min_edgecut_zone = <a class="code" href="DoubleVect_8cpp.html#a6471e7e85cb0b00b67bd7ca9bb362371">local_max_vect</a>(EdgeCut);

              <span class="keywordtype">double</span> load_imbalance = double(max_edgecut_zone / mean_edgecut_zone);
              <a class="code" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <span class="stringliteral">&quot;Number of edge-cut per Zone (min/mean/max) : &quot;</span> &lt;&lt; min_edgecut_zone  &lt;&lt; <span class="stringliteral">&quot; / &quot;</span>
                   &lt;&lt; (int) (mean_edgecut_zone) &lt;&lt; <span class="stringliteral">&quot; / &quot;</span> &lt;&lt; max_edgecut_zone  &lt;&lt; <span class="stringliteral">&quot; Load imbalance: &quot;</span> &lt;&lt; load_imbalance
                   &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; finl;
            }

          <span class="keywordtype">int</span> mean_neighbours = 0;
          <span class="keywordtype">int</span> min_neighbours = <a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>;
          <span class="keywordtype">int</span> max_neighbours = 0;
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_part = 0; i_part &lt; <a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>; i_part++)
            {
              Neighbours[i_part].array_trier_retirer_doublons();
              <span class="keywordtype">int</span> nb_neighbours = Neighbours[i_part].size_array();
              mean_neighbours += nb_neighbours;
              <span class="keywordflow">if</span>(nb_neighbours &lt; min_neighbours)   min_neighbours = nb_neighbours;
              <span class="keywordflow">if</span>(nb_neighbours &gt; max_neighbours)   max_neighbours = nb_neighbours;
            }

          mean_neighbours/=<a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>;
          <span class="keywordflow">if</span> (mean_neighbours&gt;0)
            {
              <span class="keywordtype">double</span> load_imbalance = double(max_neighbours / mean_neighbours);
              <a class="code" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a> &lt;&lt; <span class="stringliteral">&quot;Number of neighbours per Zone (min/mean/max) : &quot;</span> &lt;&lt; min_neighbours &lt;&lt; <span class="stringliteral">&quot; / &quot;</span>
                   &lt;&lt; (int) (mean_neighbours) &lt;&lt; <span class="stringliteral">&quot; / &quot;</span> &lt;&lt;max_neighbours &lt;&lt; <span class="stringliteral">&quot; Load imbalance: &quot;</span> &lt;&lt; load_imbalance
                   &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; finl;
            }
        }
      <span class="keywordflow">else</span>
        {
          <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i_part=0; i_part &lt; <a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a>; i_part++)
            <span class="keywordflow">if</span>(myZones[i_part])
              <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(Neighbours[i_part], <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(), 0, <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>()+2003);
          <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(EdgeCut, <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(), 0, <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>()+2008);
        }
    }

  <span class="keywordflow">if</span> (format == <a class="code" href="classDecouper.html#a6185c781230e9987f8d0ed3deba63c77ab6eb35dc70963341302e570b944c7b44">Decouper::HDF5_SINGLE</a>)
    fic_hdf.<a class="code" href="classFichierHDF.html#ac5d8eb389ee60109c2d60029f442487f">close</a>();

}
</pre></div>
</div>
</div>
<a class="anchor" id="a2e74f9c3c7ab2ee38d55559e3145111a"></a><!-- doxytag: member="DomaineCutter::get_info" ref="a2e74f9c3c7ab2ee38d55559e3145111a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> * DomaineCutter::get_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Donne des informations sur le type de l'Objet_U. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>const Type_info*<br/>
 Signification: structure regroupant les informations sur le type de l'Objet_U<br/>
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classObjet__U.html#a92f70e55703d825c289d7923c67a9e80">Objet_U</a>.</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00039">39</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a352a5da558d62de3e17dd51cab874203"></a><!-- doxytag: member="DomaineCutter::info" ref="a352a5da558d62de3e17dd51cab874203" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> * DomaineCutter::info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Donne des informations sur le type de l'Objet_U. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>const Type_info*<br/>
 Signification: structure regroupant les informations sur le type de l'Objet_U<br/>
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classObjet__U.html#a2cd5f1de143963c90c6e705ed65b02a5">Objet_U</a>.</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00039">39</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a700d1294c0ad188e96dcfbd5903ae974"></a><!-- doxytag: member="DomaineCutter::initialiser" ref="a700d1294c0ad188e96dcfbd5903ae974" args="(const Domaine &amp;domaine_global, const IntVect &amp;elem_part, const int nb_parts, const int epaisseur_joint, const Noms &amp;bords_periodiques, const int permissif=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::initialiser </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>domaine_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classIntVect.html">IntVect</a> &amp;&#160;</td>
          <td class="paramname"><em>elem_part</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>nb_parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>epaisseur_joint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classNoms.html">Noms</a> &amp;&#160;</td>
          <td class="paramname"><em>bords_periodiques</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>permissif</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prepare les structures de donnees pour la construction<br/>
des sous-domaines en fonction d'un decoupage fourni dans elem_part.<br/>
Parametre: domaine_global<br/>
Signification: le domaine a decouper (doit avoir une zone). On prend une ref<br/>
a ce domaine (il doit donc rester valide).<br/>
Parametre: elem_part<br/>
Signification: pour chaque element, numero du sous-domaine auquel il appartient,<br/>
avec 0 &lt;= elem_part[i] &lt; nb_parts. Attention, on prend une ref a ce tableau, on<br/>
ne fait pas une copie local. Le tableau doit continuer a exister jusqu'a ce qu'on<br/>
a fini d'utiliser <a class="el" href="classDomaineCutter.html" title="Classe outil permettant de generer des sous-domaines pour un calcul parallele a partir d&#39;un domaine d...">DomaineCutter</a>.<br/>
Parametre: nb_parts<br/>
Signification: nombre total de sous-domaines<br/>
Parametre: les_faces<br/>
Parametre: epaisseur_joint. </p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l01066">1066</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="DomaineCutter_8h_source.html#l00114">bords_a_pb_</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01002">calculer_elements_voisins_bords()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00978">calculer_listes_elements_sous_domaines()</a>, <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Connectivite__som__elem_8cpp_source.html#l00042">construire_connectivite_som_elem()</a>, <a class="el" href="IntTab_8h_source.html#l00233">IntTab::dimension()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00106">epaisseur_joint_</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00102">liste_bords_periodiques_</a>, <a class="el" href="DomaineCutter_8h_source.html#l00110">liste_elems_sous_domaines_</a>, <a class="el" href="ArrOfDouble_8cpp_source.html#l00814">max_array()</a>, <a class="el" href="ArrOfDouble_8cpp_source.html#l00792">min_array()</a>, <a class="el" href="Zone_8h_source.html#l00319">Zone::nb_elem_tot()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00104">nb_parties_</a>, <a class="el" href="Domaine_8cpp_source.html#l00177">Domaine::nb_som_tot()</a>, <a class="el" href="Domaine_8h_source.html#l00242">Domaine::nb_zones()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00097">ref_domaine_</a>, <a class="el" href="DomaineCutter_8h_source.html#l00100">ref_elem_part_</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00969">reset()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, <a class="el" href="DomaineCutter_8h_source.html#l00108">som_elem_</a>, <a class="el" href="DomaineCutter_8h_source.html#l00113">voisins_bords_</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="Decouper_8cpp_source.html#l00142">ecrire_sous_zones()</a>, and <a class="el" href="Create__domain__from__sous__zone_8cpp_source.html#l00045">Create_domain_from_sous_zone::interpreter_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert(nb_parts &gt;= 0);
  assert(domaine_global.<a class="code" href="classDomaine.html#a9f3fc389a1310d1fc8b4b27976855376" title="Renvoie le nombre de zone du domaine.">nb_zones</a>() == 1);
  assert(elem_part.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() == domaine_global.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>());
  assert(<a class="code" href="ArrOfDouble_8cpp.html#a95241fccf4bed7fb7a4e2340b7735f14" title="Retourne la valeur maximale.">max_array</a>(elem_part) &lt; nb_parts);
  <span class="keywordflow">if</span> (<a class="code" href="ArrOfDouble_8cpp.html#abd3998749a1a8dab00dd6ac1798327fb" title="Retourne la valeur minimale.">min_array</a>(elem_part)&lt;0)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in DomaineCutter::initialiser&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The built partition has a default.&quot;</span> &lt;&lt; finl;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Try to change the partition tool or try changing some partitioning options.&quot;</span> &lt;&lt; finl;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Contact TRUST support if you are still unsuccessful with your tries.&quot;</span> &lt;&lt; finl;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }
  <a class="code" href="classDomaineCutter.html#a25ed06d3770465a4e4208555f4e5f5d2" title="annule toutes les references et vide les tableaux">reset</a>();

  <a class="code" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">ref_domaine_</a> = domaine_global;
  <a class="code" href="classDomaineCutter.html#a9da3c1aef1b48f6d6566abbee7dbcb85">ref_elem_part_</a> = elem_part;
  <a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a> = nb_parts;
  <a class="code" href="classDomaineCutter.html#a53b94536327688de8d72b5a36c2cf173">epaisseur_joint_</a> = epaisseur_joint;
  <a class="code" href="classDomaineCutter.html#a78746f6428e7647f1eb79292c66c7147">liste_bords_periodiques_</a> = liste_bords_periodiques;

  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elems = domaine_global.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som = domaine_global.<a class="code" href="classDomaine.html#a394e61cf1993665886de0fbbd0c0178e" title="Renvoie le nombre total de sommets.">nb_som_tot</a>();
  <a class="code" href="Connectivite__som__elem_8cpp.html#a82161461a228e43ae236c31101ff3ce6" title="construction de la structure som_elem pour la zone donnee On cree pour chaque sommet i la liste des e...">construire_connectivite_som_elem</a>(nb_som, elems, <a class="code" href="classDomaineCutter.html#a6269ac4cb6130e39c5c5be181253fad5">som_elem_</a>,
                                   1 <span class="comment">/* inclure les elems virtuels */</span>);

  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Search of neighboring elements of boundary faces&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
  <a class="code" href="DomaineCutter_8cpp.html#ad5a2c9a3de10b2385c5d6387060dc628">calculer_elements_voisins_bords</a>(domaine_global, <a class="code" href="classDomaineCutter.html#a6269ac4cb6130e39c5c5be181253fad5">som_elem_</a>, <a class="code" href="classDomaineCutter.html#a396245cb32fa5d410b790146a274d4a8">voisins_bords_</a>,elem_part,permissif,<a class="code" href="classDomaineCutter.html#ad12026aab58f8a6670fe1415dfe5324e">bords_a_pb_</a>);
  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Construction of lists of elements per subdomain&quot;</span> &lt;&lt; finl;
  <a class="code" href="DomaineCutter_8cpp.html#a89001120b42a3a2021e912f973f795b9">calculer_listes_elements_sous_domaines</a>(elem_part, nb_parts, elems.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0), <a class="code" href="classDomaineCutter.html#abd0e4e1397f134880628a61dd7e629e7">liste_elems_sous_domaines_</a>);
<span class="comment">// calculer_listes_elements_sous_domaines(elem_part, nb_parts, liste_elems_sous_domaines_);</span>

}
</pre></div>
</div>
</div>
<a class="anchor" id="a730003ff4a1d8213ab32049817336697"></a><!-- doxytag: member="DomaineCutter::operator=" ref="a730003ff4a1d8213ab32049817336697" args="(const DomaineCutter &amp;dc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classDomaineCutter.html">DomaineCutter</a> &amp; DomaineCutter::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDomaineCutter.html">DomaineCutter</a> &amp;&#160;</td>
          <td class="paramname"><em>dc</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Appel invalide. exit. </p>

<p><p>&lt; pour le compilateur </p>
</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00042">42</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
  <span class="keywordflow">return</span> *<span class="keyword">this</span>; <span class="comment">//!&lt; pour le compilateur</span>
<span class="comment"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a22fd81987dad44caafd02ce43815c9d5"></a><!-- doxytag: member="DomaineCutter::printOn" ref="a22fd81987dad44caafd02ce43815c9d5" args="(Sortie &amp;x) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSortie.html">Sortie</a> &amp; DomaineCutter::printOn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Appel invalide. exit. </p>

<p><p>&lt; pour le compilateur </p>
</p>

<p>Reimplemented from <a class="el" href="classObjet__U.html#a68f520bd9ba3e848370861d6610720b5">Objet_U</a>.</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00055">55</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, and <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error : DomaineCutter::printOn should not be used.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
  <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
  <span class="keywordflow">return</span> os; <span class="comment">//!&lt; pour le compilateur</span>
<span class="comment"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a03d30ce2cf6a1da0a73ee068b4e85fec"></a><!-- doxytag: member="DomaineCutter::readOn" ref="a03d30ce2cf6a1da0a73ee068b4e85fec" args="(Entree &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEntree.html">Entree</a> &amp; DomaineCutter::readOn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEntree.html">Entree</a> &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Appel invalide. exit. </p>

<p><p>&lt; pour le compilateur </p>
</p>

<p>Reimplemented from <a class="el" href="classObjet__U.html#a6f4c7788efee2dce629ebd1628b73288">Objet_U</a>.</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00063">63</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, and <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error : DomaineCutter::readOn should not be used.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
  <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
  <span class="keywordflow">return</span> s; <span class="comment">//!&lt; pour le compilateur</span>
<span class="comment"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a25ed06d3770465a4e4208555f4e5f5d2"></a><!-- doxytag: member="DomaineCutter::reset" ref="a25ed06d3770465a4e4208555f4e5f5d2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>annule toutes les references et vide les tableaux </p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00969">969</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="DomaineCutter_8h_source.html#l00106">epaisseur_joint_</a>, <a class="el" href="DomaineCutter_8h_source.html#l00104">nb_parties_</a>, <a class="el" href="DomaineCutter_8h_source.html#l00097">ref_domaine_</a>, <a class="el" href="DomaineCutter_8h_source.html#l00100">ref_elem_part_</a>, <a class="el" href="Static__Int__Lists_8cpp_source.html#l00026">Static_Int_Lists::reset()</a>, <a class="el" href="Ref___8cpp_source.html#l00072">Ref_::reset()</a>, and <a class="el" href="DomaineCutter_8h_source.html#l00108">som_elem_</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l01066">initialiser()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">ref_domaine_</a>.<a class="code" href="classRef__.html#aefc8130f02e22c692853dd435cbd1c18" title="Annule la ref.">reset</a>();
  <a class="code" href="classDomaineCutter.html#a9da3c1aef1b48f6d6566abbee7dbcb85">ref_elem_part_</a>.<a class="code" href="classRef__.html#aefc8130f02e22c692853dd435cbd1c18" title="Annule la ref.">reset</a>();
  <a class="code" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">nb_parties_</a> = -1;
  <a class="code" href="classDomaineCutter.html#a53b94536327688de8d72b5a36c2cf173">epaisseur_joint_</a> = -1;
  <a class="code" href="classDomaineCutter.html#a6269ac4cb6130e39c5c5be181253fad5">som_elem_</a>.<a class="code" href="classStatic__Int__Lists.html#a0e0e3ede72f4efb729798d17e42f0294" title="detruit toutes les listes">reset</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="afb1fd0ca16459c4265add63392f5b35e"></a><!-- doxytag: member="DomaineCutter::self_cast" ref="afb1fd0ca16459c4265add63392f5b35e" args="(const Objet_U &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classDomaineCutter.html">DomaineCutter</a> &amp; DomaineCutter::self_cast </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>methode ajoutee pour caster en python </p>

<p>Reimplemented from <a class="el" href="classObjet__U.html#a7649d31257abd7201779dc8834b60114">Objet_U</a>.</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00039">39</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a429149ee8c78963f541e04f6f9aaa77a"></a><!-- doxytag: member="DomaineCutter::self_cast" ref="a429149ee8c78963f541e04f6f9aaa77a" args="(Objet_U &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDomaineCutter.html">DomaineCutter</a> &amp; DomaineCutter::self_cast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classObjet__U.html">Objet_U</a> &amp;&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classObjet__U.html#a0855255348dd588fb71f27f8bf6a127e">Objet_U</a>.</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00039">39</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aced2272b5d196cc7b9822281914c9080"></a><!-- doxytag: member="DomaineCutter::taille_memoire" ref="aced2272b5d196cc7b9822281914c9080" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned DomaineCutter::taille_memoire </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classObjet__U.html#a0ee0946339f09a2c73c09fcda71c3be2">Objet_U</a>.</p>

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l00039">39</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6915956c4d26e4de8bb8f82c848108d0"></a><!-- doxytag: member="DomaineCutter::writeData" ref="a6915956c4d26e4de8bb8f82c848108d0" args="(const Domaine &amp;sous_domaine, Sortie &amp;os) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DomaineCutter::writeData </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>sous_domaine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td>
          <td class="paramname"><em>os</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8cpp_source.html#l01254">1254</a> of file <a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a>.</p>

<p>References <a class="el" href="DomaineCutter_8h_source.html#l00102">liste_bords_periodiques_</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l01268">ecrire_zones()</a>.</p>
<div class="fragment"><pre class="fragment">{
  os &lt;&lt; sous_domaine;
<span class="comment">// Benoit Mathieu: Scatter a besoin de la liste des bords periodiques pour le</span>
<span class="comment">// calcul des elements distants. Je l&#39;ecris apres le domaine dans le fichier .Zones.</span>
<span class="comment">// Pas genial mais c&#39;est pour depanner en attendant mieux.</span>
  os &lt;&lt; <a class="code" href="classDomaineCutter.html#a78746f6428e7647f1eb79292c66c7147">liste_bords_periodiques_</a>;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ad12026aab58f8a6670fe1415dfe5324e"></a><!-- doxytag: member="DomaineCutter::bords_a_pb_" ref="ad12026aab58f8a6670fe1415dfe5324e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNoms.html">Noms</a> <a class="el" href="classDomaineCutter.html#ad12026aab58f8a6670fe1415dfe5324e">DomaineCutter::bords_a_pb_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00114">114</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8h_source.html#l00063">bords_internes()</a>, and <a class="el" href="DomaineCutter_8cpp_source.html#l01066">initialiser()</a>.</p>

</div>
</div>
<a class="anchor" id="a53b94536327688de8d72b5a36c2cf173"></a><!-- doxytag: member="DomaineCutter::epaisseur_joint_" ref="a53b94536327688de8d72b5a36c2cf173" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDomaineCutter.html#a53b94536327688de8d72b5a36c2cf173">DomaineCutter::epaisseur_joint_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00106">106</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l00517">construire_elements_distants_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00643">construire_sommets_joints_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00962">DomaineCutter()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01066">initialiser()</a>, and <a class="el" href="DomaineCutter_8cpp_source.html#l00969">reset()</a>.</p>

</div>
</div>
<a class="anchor" id="aa50de045c9faab7e4e2341ff7f1ed242"></a><!-- doxytag: member="DomaineCutter::info_obj" ref="aa50de045c9faab7e4e2341ff7f1ed242" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> <a class="el" href="classDomaineCutter.html#aa50de045c9faab7e4e2341ff7f1ed242">DomaineCutter::info_obj</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classObjet__U.html#ac389f735fb0169a49f40006203f110c6">Objet_U</a>.</p>

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00042">42</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

</div>
</div>
<a class="anchor" id="a78746f6428e7647f1eb79292c66c7147"></a><!-- doxytag: member="DomaineCutter::liste_bords_periodiques_" ref="a78746f6428e7647f1eb79292c66c7147" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNoms.html">Noms</a> <a class="el" href="classDomaineCutter.html#a78746f6428e7647f1eb79292c66c7147">DomaineCutter::liste_bords_periodiques_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00102">102</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l01066">initialiser()</a>, and <a class="el" href="DomaineCutter_8cpp_source.html#l01254">writeData()</a>.</p>

</div>
</div>
<a class="anchor" id="abd0e4e1397f134880628a61dd7e629e7"></a><!-- doxytag: member="DomaineCutter::liste_elems_sous_domaines_" ref="abd0e4e1397f134880628a61dd7e629e7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a> <a class="el" href="classDomaineCutter.html#abd0e4e1397f134880628a61dd7e629e7">DomaineCutter::liste_elems_sous_domaines_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00110">110</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l01115">construire_sous_domaine()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01268">ecrire_zones()</a>, and <a class="el" href="DomaineCutter_8cpp_source.html#l01066">initialiser()</a>.</p>

</div>
</div>
<a class="anchor" id="adfc8d69793fb022d36d9e95f90777165"></a><!-- doxytag: member="DomaineCutter::nb_parties_" ref="adfc8d69793fb022d36d9e95f90777165" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classDomaineCutter.html#adfc8d69793fb022d36d9e95f90777165">DomaineCutter::nb_parties_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00104">104</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l00736">construire_faces_joints_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00643">construire_sommets_joints_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01115">construire_sous_domaine()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00962">DomaineCutter()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01268">ecrire_zones()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01066">initialiser()</a>, and <a class="el" href="DomaineCutter_8cpp_source.html#l00969">reset()</a>.</p>

</div>
</div>
<a class="anchor" id="afceb976e349529db27883bdf2a52d60c"></a><!-- doxytag: member="DomaineCutter::ref_domaine_" ref="afceb976e349529db27883bdf2a52d60c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRef__Domaine.html">Ref_Domaine</a> <a class="el" href="classDomaineCutter.html#afceb976e349529db27883bdf2a52d60c">DomaineCutter::ref_domaine_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00097">97</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l00517">construire_elements_distants_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00298">construire_faces_bords_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00362">construire_faces_internes_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00736">construire_faces_joints_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00329">construire_faces_raccords_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01115">construire_sous_domaine()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01268">ecrire_zones()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01066">initialiser()</a>, and <a class="el" href="DomaineCutter_8cpp_source.html#l00969">reset()</a>.</p>

</div>
</div>
<a class="anchor" id="a9da3c1aef1b48f6d6566abbee7dbcb85"></a><!-- doxytag: member="DomaineCutter::ref_elem_part_" ref="a9da3c1aef1b48f6d6566abbee7dbcb85" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRef__IntVect.html">Ref_IntVect</a> <a class="el" href="classDomaineCutter.html#a9da3c1aef1b48f6d6566abbee7dbcb85">DomaineCutter::ref_elem_part_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00100">100</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l00517">construire_elements_distants_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00298">construire_faces_bords_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00362">construire_faces_internes_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00736">construire_faces_joints_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00329">construire_faces_raccords_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00643">construire_sommets_joints_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01066">initialiser()</a>, and <a class="el" href="DomaineCutter_8cpp_source.html#l00969">reset()</a>.</p>

</div>
</div>
<a class="anchor" id="a6269ac4cb6130e39c5c5be181253fad5"></a><!-- doxytag: member="DomaineCutter::som_elem_" ref="a6269ac4cb6130e39c5c5be181253fad5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a> <a class="el" href="classDomaineCutter.html#a6269ac4cb6130e39c5c5be181253fad5">DomaineCutter::som_elem_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00108">108</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l00517">construire_elements_distants_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00736">construire_faces_joints_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00643">construire_sommets_joints_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l01066">initialiser()</a>, and <a class="el" href="DomaineCutter_8cpp_source.html#l00969">reset()</a>.</p>

</div>
</div>
<a class="anchor" id="a396245cb32fa5d410b790146a274d4a8"></a><!-- doxytag: member="DomaineCutter::voisins_bords_" ref="a396245cb32fa5d410b790146a274d4a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classStatic__Int__Lists.html">Static_Int_Lists</a> <a class="el" href="classDomaineCutter.html#a396245cb32fa5d410b790146a274d4a8">DomaineCutter::voisins_bords_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="DomaineCutter_8h_source.html#l00113">113</a> of file <a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a>.</p>

<p>Referenced by <a class="el" href="DomaineCutter_8cpp_source.html#l00298">construire_faces_bords_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00362">construire_faces_internes_ssdom()</a>, <a class="el" href="DomaineCutter_8cpp_source.html#l00329">construire_faces_raccords_ssdom()</a>, and <a class="el" href="DomaineCutter_8cpp_source.html#l01066">initialiser()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/Kernel/Geometrie/<a class="el" href="DomaineCutter_8h_source.html">DomaineCutter.h</a></li>
<li>src/Kernel/Geometrie/<a class="el" href="DomaineCutter_8cpp_source.html">DomaineCutter.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:36:36 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
