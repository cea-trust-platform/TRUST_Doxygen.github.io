<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/ThHyd/Dilatable/Quasi_Compressible/VEF/EDO_Pression_th_VEF.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/ThHyd/Dilatable/Quasi_Compressible/VEF/EDO_Pression_th_VEF.cpp</div>  </div>
</div>
<div class="contents">
<a href="EDO__Pression__th__VEF_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        EDO_Pression_th_VEF.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/ThHyd/Dilatable/Quasi_Compressible/VEF</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/36</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="EDO__Pression__th__VEF_8h.html">EDO_Pression_th_VEF.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Domaine_8h.html">Domaine.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Zone__Cl__VEF_8h.html">Zone_Cl_VEF.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Periodique_8h.html">Periodique.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VEF__PreP1b_8h.html">Zone_VEF_PreP1b.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Sortie__libre__pression__imposee__QC_8h.html">Sortie_libre_pression_imposee_QC.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Debog_8h.html">Debog.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Navier__Stokes__std_8h.html">Navier_Stokes_std.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Schema__Temps__base_8h.html">Schema_Temps_base.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="Loi__Etat__Multi__GP__QC_8h.html">Loi_Etat_Multi_GP_QC.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="Porosites__champ_8h.html">Porosites_champ.h</a>&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VEF_8h.html">Zone_VEF.h</a>&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;<a class="code" href="Champ__P1NC_8h.html">Champ_P1NC.h</a>&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;<a class="code" href="Check__espace__virtuel_8h.html">Check_espace_virtuel.h</a>&gt;</span>
<a name="l00037"></a><a class="code" href="EDO__Pression__th__VEF_8cpp.html#a5208ca0cc9cff7ce447962391e9a0b4d">00037</a> <a class="code" href="Declare__Base_8h.html#a279604f97959498f17b67e986dfd4486">Implemente_base_sans_constructeur</a>(<a class="code" href="classEDO__Pression__th__VEF.html" title="classe EDO_Pression_th_VEF Cette classe represente l&#39;EDO sur la pression associee au schema de de cal...">EDO_Pression_th_VEF</a>,<span class="stringliteral">&quot;EDO_Pression_th_VEF&quot;</span>,<a class="code" href="classEDO__Pression__th__base.html" title="classe EDO_Pression_th_base Cette classe est la base de la hierarchie des EDO sur la pression associe...">EDO_Pression_th_base</a>);
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="classEDO__Pression__th__VEF.html#a9e05681c1daa8522c6bd0c0a707d1717">00039</a> <a class="code" href="classEDO__Pression__th__VEF.html#a9e05681c1daa8522c6bd0c0a707d1717">EDO_Pression_th_VEF::EDO_Pression_th_VEF</a>() : M0(-1.) { }
<a name="l00040"></a>00040 
<a name="l00041"></a><a class="code" href="classEDO__Pression__th__VEF.html#a4de843b6102fd81622f26b01af75f6f3">00041</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classEDO__Pression__th__VEF.html#a4de843b6102fd81622f26b01af75f6f3" title="Ecriture de l&#39;objet sur un flot de sortie Methode a surcharger.">EDO_Pression_th_VEF::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00042"></a>00042 <span class="keyword"></span>{
<a name="l00043"></a>00043   <span class="keywordflow">return</span> <a class="code" href="classEDO__Pression__th__VEF.html#a4de843b6102fd81622f26b01af75f6f3" title="Ecriture de l&#39;objet sur un flot de sortie Methode a surcharger.">EDO_Pression_th_base::printOn</a>(os);
<a name="l00044"></a>00044 }
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="classEDO__Pression__th__VEF.html#ab8a70681269aab8797d8dfa8d3f354c9">00046</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classEDO__Pression__th__VEF.html#ab8a70681269aab8797d8dfa8d3f354c9" title="Lecture d&#39;un Objet_U sur un flot d&#39;entree Methode a surcharger.">EDO_Pression_th_VEF::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00047"></a>00047 {
<a name="l00048"></a>00048   <span class="keywordflow">return</span> <a class="code" href="classEDO__Pression__th__VEF.html#ab8a70681269aab8797d8dfa8d3f354c9" title="Lecture d&#39;un Objet_U sur un flot d&#39;entree Methode a surcharger.">EDO_Pression_th_base::readOn</a>(is);
<a name="l00049"></a>00049 }
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="comment">// Precondition:</span>
<a name="l00052"></a>00052 <span class="comment">// Parametre: Zone_dis&amp; zone</span>
<a name="l00053"></a>00053 <span class="comment">// Signification: zone</span>
<a name="l00054"></a>00054 <span class="comment">// Valeurs par defaut:</span>
<a name="l00055"></a>00055 <span class="comment">// Contraintes: reference constante</span>
<a name="l00056"></a>00056 <span class="comment">// Acces: entree</span>
<a name="l00057"></a>00057 <span class="comment">// Parametre: Zone_Cl_dis&amp; zone_cl</span>
<a name="l00058"></a>00058 <span class="comment">// Signification: zone cl</span>
<a name="l00059"></a>00059 <span class="comment">// Valeurs par defaut:</span>
<a name="l00060"></a>00060 <span class="comment">// Contraintes: reference constante</span>
<a name="l00061"></a>00061 <span class="comment">// Acces: entree</span>
<a name="l00062"></a>00062 <span class="comment">// Exception:</span>
<a name="l00063"></a>00063 <span class="comment">// Effets de bord:</span>
<a name="l00064"></a>00064 <span class="comment">// Postcondition:</span>
<a name="l00065"></a>00065 <span class="comment">//</span><span class="comment"></span>
<a name="l00066"></a>00066 <span class="comment">//! Associe les zones a l&#39;EDO</span>
<a name="l00067"></a>00067 <span class="comment"></span><span class="comment">/** \return double&lt;br&gt;</span>
<a name="l00068"></a>00068 <span class="comment">Signification:&lt;br&gt;</span>
<a name="l00069"></a>00069 <span class="comment">Contraintes: */</span>
<a name="l00070"></a><a class="code" href="classEDO__Pression__th__VEF.html#a29741da9083b5809f6877559e1e3bc2e">00070</a> <span class="keywordtype">void</span>  <a class="code" href="classEDO__Pression__th__VEF.html#a29741da9083b5809f6877559e1e3bc2e" title="Associe les zones a l&#39;EDO.">EDO_Pression_th_VEF::associer_zones</a>(<span class="keyword">const</span> <a class="code" href="classZone__dis.html" title="classe Zone_dis Classe generique de la hierarchie des zones discretisees. Un objet de type Zone_dis p...">Zone_dis</a>&amp; zone, <span class="keyword">const</span> <a class="code" href="classZone__Cl__dis.html" title="classe Zone_Cl_dis Classe generique de la hierarchie des conditions aux limites discretisees. Un objet Zone_Cl_dis peut referencer n&#39;importe quel derivant de Zone_Cl_dis_base. La plupart des methodes appellent les methodes de l&#39;objet Probleme sous-jacent via la methode valeur() declaree grace a la macro Declare_deriv().;">Zone_Cl_dis</a>&amp; zone_cl)
<a name="l00071"></a>00071 {
<a name="l00072"></a>00072   <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a> = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VEF.html" title="class Zone_VEF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VEF</a>,zone.<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>());
<a name="l00073"></a>00073   <a class="code" href="classEDO__Pression__th__VEF.html#a154bc34efa7599e9bed41244b9d2fd4b">la_zone_Cl</a> = zone_cl;
<a name="l00074"></a>00074 }
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="comment">// Precondition:</span>
<a name="l00077"></a>00077 <span class="comment">// Parametre:</span>
<a name="l00078"></a>00078 <span class="comment">// Signification:</span>
<a name="l00079"></a>00079 <span class="comment">// Valeurs par defaut:</span>
<a name="l00080"></a>00080 <span class="comment">// Contraintes:</span>
<a name="l00081"></a>00081 <span class="comment">// Acces:</span>
<a name="l00082"></a>00082 <span class="comment">// </span>
<a name="l00083"></a>00083 <span class="comment">// Signification:</span>
<a name="l00084"></a>00084 <span class="comment">// Contraintes:</span>
<a name="l00085"></a>00085 <span class="comment">// Exception:</span>
<a name="l00086"></a>00086 <span class="comment">// Effets de bord:</span>
<a name="l00087"></a>00087 <span class="comment">// Postcondition:</span>
<a name="l00088"></a>00088 <span class="comment">//</span><span class="comment"></span>
<a name="l00089"></a>00089 <span class="comment">//! Complete l&#39;EDO : calcule rho sur les faces</span>
<a name="l00090"></a><a class="code" href="classEDO__Pression__th__VEF.html#abfbdc38a26cda3981d6dcf301a0db63a">00090</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classEDO__Pression__th__VEF.html#abfbdc38a26cda3981d6dcf301a0db63a" title="Complete l&#39;EDO : calcule rho sur les faces.">EDO_Pression_th_VEF::completer</a>()
<a name="l00091"></a>00091 {
<a name="l00092"></a>00092   <span class="keywordflow">if</span> (!<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VEF__PreP1b.html">Zone_VEF_PreP1b</a>,<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>.<a class="code" href="classRef__Zone__VEF.html#aafd9a5ee1a76f290c9c6b5447b0c8d30">valeur</a>()).get_alphaE())
<a name="l00093"></a>00093     {
<a name="l00094"></a>00094       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Le modele quasi compressible ne fonctionne pas encore avec cette discretisation.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00095"></a>00095       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;En VEF, la discretisation doit avoir le support P0. Donc utiliser P1Bulle ou P0P1.&quot;</span> &lt;&lt; finl;
<a name="l00096"></a>00096       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00097"></a>00097     }
<a name="l00098"></a>00098   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_ICh = <a class="code" href="classEDO__Pression__th__base.html#ad52ab473794b83d2608f4f70e0a5bf37">le_fluide_</a>-&gt;inco_chaleur().valeurs();
<a name="l00099"></a>00099   <span class="keywordtype">double</span> Pth=<a class="code" href="classEDO__Pression__th__base.html#ad52ab473794b83d2608f4f70e0a5bf37">le_fluide_</a>-&gt;pression_th();
<a name="l00100"></a>00100   <a class="code" href="classEDO__Pression__th__VEF.html#adbaa57da9db40c2457a19c19a4a8bd3e" title="la masse totale initiale">M0</a>=<a class="code" href="classEDO__Pression__th__VEF.html#af95b014722ad9eac4b590a29901729bd">masse_totale</a>(Pth,tab_ICh);
<a name="l00101"></a>00101   <a class="code" href="classEDO__Pression__th__base.html#ad52ab473794b83d2608f4f70e0a5bf37">le_fluide_</a>-&gt;checkTraitementPth(<a class="code" href="classEDO__Pression__th__VEF.html#a154bc34efa7599e9bed41244b9d2fd4b">la_zone_Cl</a>);
<a name="l00102"></a>00102 }
<a name="l00103"></a>00103 
<a name="l00104"></a><a class="code" href="classEDO__Pression__th__VEF.html#a4a520d3e7f8dead96318a94a80e9a63b">00104</a> <span class="keywordtype">void</span> <a class="code" href="classEDO__Pression__th__VEF.html#a4a520d3e7f8dead96318a94a80e9a63b">EDO_Pression_th_VEF::calculer_grad</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; inco, <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; grad)
<a name="l00105"></a>00105 {
<a name="l00106"></a>00106   assert(0);
<a name="l00107"></a>00107   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; face_voisins = <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;face_voisins();
<a name="l00108"></a>00108   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; face_normales = <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;face_normales();
<a name="l00109"></a>00109   <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes_entrelaces = <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;volumes_entrelaces();
<a name="l00110"></a>00110   <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes_entrelaces_Cl = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__Cl__VEF.html">Zone_Cl_VEF</a>,<a class="code" href="classEDO__Pression__th__VEF.html#a154bc34efa7599e9bed41244b9d2fd4b">la_zone_Cl</a>-&gt;<a class="code" href="classRef__Zone__Cl__dis.html#a8f0066283a89a05229209f62323fe7d0">valeur</a>()).volumes_entrelaces_Cl();
<a name="l00111"></a>00111 
<a name="l00112"></a>00112   <span class="keywordtype">double</span> diff;
<a name="l00113"></a>00113   <span class="keywordtype">int</span> face,comp1;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="comment">// Gradient d&#39;un champ scalaire localise aux centres des elements</span>
<a name="l00116"></a>00116 <span class="comment">// On initialise grad a zero</span>
<a name="l00117"></a>00117   grad = 0;
<a name="l00118"></a>00118   <span class="keywordflow">if</span> (1==1)
<a name="l00119"></a>00119     {
<a name="l00120"></a>00120       <span class="keywordtype">int</span> elem1,elem2;
<a name="l00121"></a>00121 <span class="comment">// On traite les faces des joints:</span>
<a name="l00122"></a>00122       <span class="keywordflow">for</span> (face=0; face&lt;<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;nb_faces_joint(); face++)
<a name="l00123"></a>00123         {
<a name="l00124"></a>00124           elem1 = face_voisins(face,0);
<a name="l00125"></a>00125           <span class="keywordflow">if</span> (elem1==-1)
<a name="l00126"></a>00126             elem1 = face_voisins(face,1);
<a name="l00127"></a>00127           diff = -inco[elem1];
<a name="l00128"></a>00128           <span class="keywordflow">for</span> (comp1=0; comp1&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; comp1++)
<a name="l00129"></a>00129             grad(face,comp1) = diff*face_normales(face,comp1);
<a name="l00130"></a>00130         }
<a name="l00131"></a>00131 
<a name="l00132"></a>00132 <span class="comment">// On traite les conditions limites</span>
<a name="l00133"></a>00133 <span class="comment">// Seule la condition aux limites de type Periodicite modifie le gradient</span>
<a name="l00134"></a>00134       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n_bord=0; n_bord&lt;<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;nb_front_Cl(); n_bord++)
<a name="l00135"></a>00135         {
<a name="l00136"></a>00136           <span class="keyword">const</span> <a class="code" href="classCond__lim.html" title="classe Cond_lim Classe generique servant a representer n&#39;importe quelle classe derivee de la classe C...">Cond_lim</a>&amp; la_cl = <a class="code" href="classEDO__Pression__th__VEF.html#a154bc34efa7599e9bed41244b9d2fd4b">la_zone_Cl</a>-&gt;les_conditions_limites(n_bord);
<a name="l00137"></a>00137           <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classPeriodique.html" title="classe Periodique Cette classe represente une condition aux limites periodique. On peut specifier une...">Periodique</a>,la_cl.<a class="code" href="classDeriv__Cond__lim__base.html#a482c910c704f6f51065a8b7d25acf48a">valeur</a>()))
<a name="l00138"></a>00138             {
<a name="l00139"></a>00139 <span class="comment">// const Periodique&amp; la_cl_perio = (Periodique&amp;) la_cl.valeur();</span>
<a name="l00140"></a>00140               <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; le_bord = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,la_cl.<a class="code" href="classCond__lim.html#a5b2d24809cee07727006a891d4ce8d22" title="Appel a l&#39;objet sous-jacent Renvoie la frontiere discretisee associee a la condition aux limites...">frontiere_dis</a>());
<a name="l00141"></a>00141               <span class="keywordtype">int</span> num1 = le_bord.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>();
<a name="l00142"></a>00142               <span class="keywordtype">int</span> num2 = num1 + le_bord.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00143"></a>00143               <span class="keywordflow">for</span> (face=num1; face&lt;num2; face++)
<a name="l00144"></a>00144                 {
<a name="l00145"></a>00145                   elem1 = face_voisins(face,0);
<a name="l00146"></a>00146                   elem2 = face_voisins(face,1);
<a name="l00147"></a>00147                   diff = inco[elem2] - inco[elem1];
<a name="l00148"></a>00148                   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> comp2=0; comp2&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; comp2++)
<a name="l00149"></a>00149                     grad(face,comp2) = diff*face_normales(face,comp2);
<a name="l00150"></a>00150                 }
<a name="l00151"></a>00151             }
<a name="l00152"></a>00152         }
<a name="l00153"></a>00153 
<a name="l00154"></a>00154 <span class="comment">// On traite les faces internes</span>
<a name="l00155"></a>00155 <span class="comment">// Cerr &lt;&lt; &quot;Faces internes.&quot; &lt;&lt; finl;</span>
<a name="l00156"></a>00156       <span class="keywordflow">for</span> (face=<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;premiere_face_int(); face&lt;<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;nb_faces(); face++)
<a name="l00157"></a>00157         {
<a name="l00158"></a>00158           elem1 = face_voisins(face,0);
<a name="l00159"></a>00159           elem2 = face_voisins(face,1);
<a name="l00160"></a>00160           diff = inco[elem2] - inco[elem1];
<a name="l00161"></a>00161           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> comp=0; comp&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; comp++)
<a name="l00162"></a>00162             grad(face,comp) = diff*face_normales(face,comp);
<a name="l00163"></a>00163         }
<a name="l00164"></a>00164 <span class="comment">// On divise par le volume!!!</span>
<a name="l00165"></a>00165       <span class="keywordtype">int</span> premiere_fac_std=<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;premiere_face_std();
<a name="l00166"></a>00166       <span class="keywordflow">for</span> (face=0; face&lt;premiere_fac_std; face++)
<a name="l00167"></a>00167         {
<a name="l00168"></a>00168           <span class="keywordflow">if</span> (volumes_entrelaces_Cl(face)!=0)
<a name="l00169"></a>00169             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> comp=0; comp&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; comp++)
<a name="l00170"></a>00170               grad(face,comp) /=volumes_entrelaces_Cl(face);
<a name="l00171"></a>00171           <span class="keywordflow">else</span>
<a name="l00172"></a>00172             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> comp=0; comp&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; comp++)
<a name="l00173"></a>00173               grad(face,comp) =0.;
<a name="l00174"></a>00174         }
<a name="l00175"></a>00175       <span class="keywordflow">for</span> (face=premiere_fac_std; face&lt;<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;nb_faces(); face++)
<a name="l00176"></a>00176         {
<a name="l00177"></a>00177           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> comp=0; comp&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; comp++)
<a name="l00178"></a>00178             grad(face,comp) /=volumes_entrelaces(face);
<a name="l00179"></a>00179         }
<a name="l00180"></a>00180     }
<a name="l00181"></a>00181   <span class="keywordflow">else</span>
<a name="l00182"></a>00182     {
<a name="l00183"></a>00183       <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>==2)
<a name="l00184"></a>00184         {
<a name="l00185"></a>00185           <span class="keywordtype">int</span> elem, nb_som = <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;zone().nb_som();
<a name="l00186"></a>00186           <span class="keywordtype">int</span> som,nsom, nse = <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;zone().nb_som_elem();
<a name="l00187"></a>00187           <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; som_elem = <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;zone().les_elems();
<a name="l00188"></a>00188           <span class="keywordtype">int</span> s0,s1,elem0,elem1;
<a name="l00189"></a>00189           <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; face_sommets = <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;face_sommets();
<a name="l00190"></a>00190           <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord_sommets = <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;zone().domaine().coord_sommets();
<a name="l00191"></a>00191           <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xp = <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;xp();
<a name="l00192"></a>00192 <span class="comment">// const DoubleTab&amp; xv = la_zone-&gt;xv();</span>
<a name="l00193"></a>00193           <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> incosom(nb_som);
<a name="l00194"></a>00194           <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> volsom(nb_som);
<a name="l00195"></a>00195           incosom = 0;
<a name="l00196"></a>00196           volsom = 0;
<a name="l00197"></a>00197           <span class="keywordtype">double</span> v,inc;
<a name="l00198"></a>00198 <span class="comment">// calcul de P aux sommets</span>
<a name="l00199"></a>00199           <span class="keywordflow">for</span> (elem=0 ; elem&lt;<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;nb_elem() ; elem++)
<a name="l00200"></a>00200             {
<a name="l00201"></a>00201               v = <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;volumes(elem);
<a name="l00202"></a>00202               inc = inco[elem];
<a name="l00203"></a>00203               <span class="keywordflow">for</span> (som=0 ; som&lt;nse ; som++)
<a name="l00204"></a>00204                 {
<a name="l00205"></a>00205                   nsom = som_elem(elem,som);
<a name="l00206"></a>00206                   incosom(nsom) += v*inc;
<a name="l00207"></a>00207                   volsom(nsom) += v;
<a name="l00208"></a>00208                 }
<a name="l00209"></a>00209             }
<a name="l00210"></a>00210           <span class="keywordflow">for</span> (nsom=0 ; nsom&lt;nb_som ; nsom++)
<a name="l00211"></a>00211             {
<a name="l00212"></a>00212               incosom(nsom) /= volsom(nsom);
<a name="l00213"></a>00213             }
<a name="l00214"></a>00214           <span class="keywordtype">double</span> xs0,ys0,xs1,ys1,xe0,ye0,xe1,ye1, ds,de;
<a name="l00215"></a>00215 <span class="comment">// faces de bord</span>
<a name="l00216"></a>00216           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n_bord=0; n_bord&lt;<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;nb_front_Cl(); n_bord++)
<a name="l00217"></a>00217             {
<a name="l00218"></a>00218               <span class="keyword">const</span> <a class="code" href="classCond__lim.html" title="classe Cond_lim Classe generique servant a representer n&#39;importe quelle classe derivee de la classe C...">Cond_lim</a>&amp; la_cl = <a class="code" href="classEDO__Pression__th__VEF.html#a154bc34efa7599e9bed41244b9d2fd4b">la_zone_Cl</a>-&gt;les_conditions_limites(n_bord);
<a name="l00219"></a>00219 
<a name="l00220"></a>00220               <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; le_bord = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,la_cl.<a class="code" href="classCond__lim.html#a5b2d24809cee07727006a891d4ce8d22" title="Appel a l&#39;objet sous-jacent Renvoie la frontiere discretisee associee a la condition aux limites...">frontiere_dis</a>());
<a name="l00221"></a>00221               <span class="keywordtype">int</span> num1 = le_bord.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>();
<a name="l00222"></a>00222               <span class="keywordtype">int</span> num2 = num1 + le_bord.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00223"></a>00223               <span class="keywordflow">for</span> (face=num1; face&lt;num2; face++)
<a name="l00224"></a>00224                 {
<a name="l00225"></a>00225                   s0 = face_sommets(face,0);
<a name="l00226"></a>00226                   s1 = face_sommets(face,1);
<a name="l00227"></a>00227                   xs0 = coord_sommets(s0,0);
<a name="l00228"></a>00228                   ys0 = coord_sommets(s0,1);
<a name="l00229"></a>00229                   xs1 = coord_sommets(s1,0);
<a name="l00230"></a>00230                   ys1 = coord_sommets(s1,1);
<a name="l00231"></a>00231                   v = volumes_entrelaces(face);
<a name="l00232"></a>00232                   ds = (incosom(s1) - incosom(s0))/((xs1-xs0)*(xs1-xs0) + (ys1-ys0)*(ys1-ys0));
<a name="l00233"></a>00233                   grad(face,0) = v* (ds*(xs1-xs0));
<a name="l00234"></a>00234                   grad(face,1) = v* (ds*(ys1-ys0));
<a name="l00235"></a>00235                 }
<a name="l00236"></a>00236             }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 <span class="comment">// faces internes</span>
<a name="l00239"></a>00239           <span class="keywordflow">for</span> (face=<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;premiere_face_int() ; face&lt;<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;nb_faces(); face++)
<a name="l00240"></a>00240             {
<a name="l00241"></a>00241               s0 = face_sommets(face,0);
<a name="l00242"></a>00242               s1 = face_sommets(face,1);
<a name="l00243"></a>00243               elem0 = face_voisins(face,0);
<a name="l00244"></a>00244               elem1 = face_voisins(face,1);
<a name="l00245"></a>00245               xs0 = coord_sommets(s0,0);
<a name="l00246"></a>00246               ys0 = coord_sommets(s0,1);
<a name="l00247"></a>00247               xs1 = coord_sommets(s1,0);
<a name="l00248"></a>00248               ys1 = coord_sommets(s1,1);
<a name="l00249"></a>00249               xe0 = xp(elem0,0);
<a name="l00250"></a>00250               ye0 = xp(elem0,1);
<a name="l00251"></a>00251               xe1 = xp(elem1,0);
<a name="l00252"></a>00252               ye1 = xp(elem1,1);
<a name="l00253"></a>00253               v = volumes_entrelaces(face);
<a name="l00254"></a>00254               ds = (incosom(s1) - incosom(s0))/((xs1-xs0)*(xs1-xs0) + (ys1-ys0)*(ys1-ys0));
<a name="l00255"></a>00255               de = (inco(elem1) - inco(elem0))/((xe1-xe0)*(xe1-xe0) + (ye1-ye0)*(ye1-ye0));
<a name="l00256"></a>00256               grad(face,0) = v* (ds*(xs1-xs0) + de*(xe1-xe0));
<a name="l00257"></a>00257               grad(face,1) = v* (ds*(ys1-ys0) + de*(ye1-ye0));
<a name="l00258"></a>00258             }
<a name="l00259"></a>00259         }
<a name="l00260"></a>00260       <span class="keywordflow">else</span>
<a name="l00261"></a>00261         {
<a name="l00262"></a>00262           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;ATTENTION : gradient de l&#39;inco mal calcule en 3D&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00263"></a>00263         }
<a name="l00264"></a>00264     }
<a name="l00265"></a>00265 }
<a name="l00266"></a>00266 
<a name="l00267"></a><a class="code" href="classEDO__Pression__th__VEF.html#af95b014722ad9eac4b590a29901729bd">00267</a> <span class="keywordtype">double</span> <a class="code" href="classEDO__Pression__th__VEF.html#af95b014722ad9eac4b590a29901729bd">EDO_Pression_th_VEF::masse_totale</a>(<span class="keywordtype">double</span> P,<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; T)
<a name="l00268"></a>00268 {
<a name="l00269"></a>00269   <span class="keywordtype">int</span> nb_faces = <a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;nb_faces();
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 <span class="comment">// assert(tab.dimension(0)==nb_faces);</span>
<a name="l00272"></a>00272   <span class="keyword">const</span> <a class="code" href="classLoi__Etat__base.html" title="classe Loi_Etat_base Cette classe est la base de la hierarchie des lois d&#39;etat. Elle definit un fluid...">Loi_Etat_base</a>&amp; loi_ = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classLoi__Etat__base.html" title="classe Loi_Etat_base Cette classe est la base de la hierarchie des lois d&#39;etat. Elle definit un fluid...">Loi_Etat_base</a>,<a class="code" href="classEDO__Pression__th__base.html#ad52ab473794b83d2608f4f70e0a5bf37">le_fluide_</a>-&gt;loi_etat().<a class="code" href="classRef__Fluide__Quasi__Compressible.html#ad06d54198ed0f22dd94d6f0f0117a46d">valeur</a>());
<a name="l00273"></a>00273 
<a name="l00274"></a>00274   <a class="code" href="classDoubleVect.html">DoubleVect</a> tmp;
<a name="l00275"></a>00275   tmp.<a class="code" href="classDoubleVect.html#aaccfc72d49151e3105aba476fa9f414b" title="copie de la structure et des valeurs (si opt==COPY_INIT) du tableau v. Attention, v doit vraiment etr...">copy</a>(T, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">ArrOfDouble::NOCOPY_NOINIT</a>); <span class="comment">//!&lt; just copy the structure</span>
<a name="l00276"></a>00276 <span class="comment"></span>  <span class="keywordflow">if</span> (!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classLoi__Etat__Multi__GP__QC.html">Loi_Etat_Multi_GP_QC</a>,loi_))
<a name="l00277"></a>00277     {
<a name="l00278"></a>00278       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_faces; i++)
<a name="l00279"></a>00279         tmp[i] = loi_.<a class="code" href="classLoi__Etat__base.html#ac309faa9532c4b645bafa60d272ebf7f" title="Recalcule la masse volumique.">calculer_masse_volumique</a>(P, T[i]);
<a name="l00280"></a>00280     }
<a name="l00281"></a>00281   <span class="keywordflow">else</span>
<a name="l00282"></a>00282     {
<a name="l00283"></a>00283       <span class="keyword">const</span> <a class="code" href="classLoi__Etat__Multi__GP__QC.html">Loi_Etat_Multi_GP_QC</a>&amp; loi_mel_GP = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classLoi__Etat__Multi__GP__QC.html">Loi_Etat_Multi_GP_QC</a>,loi_);
<a name="l00284"></a>00284       <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Masse_mol_mel = loi_mel_GP.<a class="code" href="classLoi__Etat__Multi__GP__base.html#abe96c5584ea95f2fecc81e02a6caec84">masse_molaire</a>();
<a name="l00285"></a>00285       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_faces; i++)
<a name="l00286"></a>00286         {
<a name="l00287"></a>00287           <span class="keywordtype">double</span> r = 8.3143 / Masse_mol_mel[i];
<a name="l00288"></a>00288           tmp[i] = loi_mel_GP.<a class="code" href="classLoi__Etat__Multi__GP__QC.html#adecb5243bd1d8dd4c417312b9cd0a230" title="Recalcule la masse volumique.">calculer_masse_volumique</a>(P, T[i], r);
<a name="l00289"></a>00289         }
<a name="l00290"></a>00290     }
<a name="l00291"></a>00291   <span class="keyword">const</span> <span class="keywordtype">double</span> M = <a class="code" href="classChamp__P1NC.html#aba71af97e775f8955a6c7e047f32dfe6">Champ_P1NC::calculer_integrale_volumique</a>(<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>.<a class="code" href="classRef__Zone__VEF.html#aafd9a5ee1a76f290c9c6b5447b0c8d30">valeur</a>(), tmp, <a class="code" href="Ok__Perio_8h.html#a9bf45a58409fafbbb3238c96a2461723a7652932bc8025223e37f2c8031843bff">FAUX_EN_PERIO</a>);
<a name="l00292"></a>00292   <span class="keywordflow">return</span> M;
<a name="l00293"></a>00293 }
<a name="l00294"></a>00294 
<a name="l00295"></a><a class="code" href="classEDO__Pression__th__VEF.html#a552b696b82b2b5590ea8a49c7d7aee96">00295</a> <span class="keywordtype">void</span> <a class="code" href="classEDO__Pression__th__VEF.html#a552b696b82b2b5590ea8a49c7d7aee96">EDO_Pression_th_VEF::mettre_a_jour_CL</a>(<span class="keywordtype">double</span> P)
<a name="l00296"></a>00296 {
<a name="l00297"></a>00297   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n_bord=0; n_bord&lt;<a class="code" href="classEDO__Pression__th__VEF.html#a0eb54741c0585a44cabcd04f62ea5feb">la_zone</a>-&gt;nb_front_Cl(); n_bord++)
<a name="l00298"></a>00298     {
<a name="l00299"></a>00299       <span class="keyword">const</span> <a class="code" href="classCond__lim.html" title="classe Cond_lim Classe generique servant a representer n&#39;importe quelle classe derivee de la classe C...">Cond_lim</a>&amp; la_cl = <a class="code" href="classEDO__Pression__th__VEF.html#a154bc34efa7599e9bed41244b9d2fd4b">la_zone_Cl</a>-&gt;les_conditions_limites(n_bord);
<a name="l00300"></a>00300       <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classSortie__libre__pression__imposee__QC.html" title="classe Sortie_libre_pression_imposee Cette classe derive de Neumann_sortie_libre Elle represente une ...">Sortie_libre_pression_imposee_QC</a>, la_cl.<a class="code" href="classDeriv__Cond__lim__base.html#a482c910c704f6f51065a8b7d25acf48a">valeur</a>()))
<a name="l00301"></a>00301         {
<a name="l00302"></a>00302           <a class="code" href="classSortie__libre__pression__imposee__QC.html" title="classe Sortie_libre_pression_imposee Cette classe derive de Neumann_sortie_libre Elle represente une ...">Sortie_libre_pression_imposee_QC</a>&amp; cl = <a class="code" href="Cast_8h.html#ad3836a067c92103af8df5ad8f35959a6">ref_cast_non_const</a>(<a class="code" href="classSortie__libre__pression__imposee__QC.html" title="classe Sortie_libre_pression_imposee Cette classe derive de Neumann_sortie_libre Elle represente une ...">Sortie_libre_pression_imposee_QC</a>,la_cl.<a class="code" href="classDeriv__Cond__lim__base.html#a482c910c704f6f51065a8b7d25acf48a">valeur</a>());
<a name="l00303"></a>00303           cl.<a class="code" href="classSortie__libre__pression__imposee__QC.html#a932a7800ed31623ffc855892f4c846c4" title="fixe la pression thermohydraulique">set_Pth</a>(P);
<a name="l00304"></a>00304         }
<a name="l00305"></a>00305     }
<a name="l00306"></a>00306 }
<a name="l00307"></a>00307 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:32 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
