<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/VDF/Traitement_particulier_NS_Profils_VDF.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/VDF/Traitement_particulier_NS_Profils_VDF.cpp</div>  </div>
</div>
<div class="contents">
<a href="Traitement__particulier__NS__Profils__VDF_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2019, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Traitement_particulier_NS_Profils_VDF.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/VDF</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/21</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Traitement__particulier__NS__Profils__VDF_8h.html">Traitement_particulier_NS_Profils_VDF.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VDF_8h.html">Zone_VDF.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Schema__Temps__base_8h.html">Schema_Temps_base.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Schema__Temps_8h.html">Schema_Temps.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="communications_8h.html">communications.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="SFichier_8h.html">SFichier.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Navier__Stokes__std_8h.html">Navier_Stokes_std.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Mod__turb__hyd__base_8h.html">Mod_turb_hyd_base.h</a>&gt;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a><a class="code" href="Traitement__particulier__NS__Profils__VDF_8cpp.html#a25006bd5038fc6bed1427b8505823840">00032</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html" title="class Trait_part_NS_Profils_VDF This classe enables a particular treatment for computations which hav...">Traitement_particulier_NS_Profils_VDF</a>,<span class="stringliteral">&quot;Traitement_particulier_NS_Profils_VDF&quot;</span>,<a class="code" href="classTraitement__particulier__NS__Profils.html">Traitement_particulier_NS_Profils</a>);
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="comment">// Precondition:</span>
<a name="l00036"></a>00036 <span class="comment">// Parametre: Sortie&amp; is</span>
<a name="l00037"></a>00037 <span class="comment">// Signification: un flot de sortie</span>
<a name="l00038"></a>00038 <span class="comment">// Valeurs par defaut:</span>
<a name="l00039"></a>00039 <span class="comment">// Contraintes:</span>
<a name="l00040"></a>00040 <span class="comment">// Acces: entree/sortie</span>
<a name="l00041"></a>00041 <span class="comment">// Exception:</span>
<a name="l00042"></a>00042 <span class="comment">// Effets de bord:</span>
<a name="l00043"></a>00043 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00044"></a>00044 <span class="comment">//</span>
<a name="l00045"></a>00045 <span class="comment">//</span><span class="comment"></span>
<a name="l00046"></a>00046 <span class="comment">/** \return Sortie\&amp;&lt;br&gt;</span>
<a name="l00047"></a>00047 <span class="comment">Signification: le flot de sortie modifie&lt;br&gt;</span>
<a name="l00048"></a>00048 <span class="comment">Contraintes: */</span>
<a name="l00049"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a80dea85573e3c640a43748886ccca5ad">00049</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a80dea85573e3c640a43748886ccca5ad">Traitement_particulier_NS_Profils_VDF::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; is)<span class="keyword"> const</span>
<a name="l00050"></a>00050 <span class="keyword"></span>{
<a name="l00051"></a>00051   <span class="keywordflow">return</span> is;
<a name="l00052"></a>00052 }
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 <span class="comment">// Precondition:</span>
<a name="l00056"></a>00056 <span class="comment">// Parametre: Entree&amp; is</span>
<a name="l00057"></a>00057 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00058"></a>00058 <span class="comment">// Valeurs par defaut:</span>
<a name="l00059"></a>00059 <span class="comment">// Contraintes:</span>
<a name="l00060"></a>00060 <span class="comment">// Acces: entree/sortie</span>
<a name="l00061"></a>00061 <span class="comment">// Exception:</span>
<a name="l00062"></a>00062 <span class="comment">// Effets de bord:</span>
<a name="l00063"></a>00063 <span class="comment">// Postcondition:</span>
<a name="l00064"></a>00064 <span class="comment">//</span>
<a name="l00065"></a>00065 <span class="comment">//</span><span class="comment"></span>
<a name="l00066"></a>00066 <span class="comment">/** \return Entree\&amp;&lt;br&gt;</span>
<a name="l00067"></a>00067 <span class="comment">Signification: le flot d&#39;entree modifie&lt;br&gt;</span>
<a name="l00068"></a>00068 <span class="comment">Contraintes: */</span>
<a name="l00069"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a7fda97a3d0a05ae2111709a7e6568a7d">00069</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a7fda97a3d0a05ae2111709a7e6568a7d">Traitement_particulier_NS_Profils_VDF::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00070"></a>00070 {
<a name="l00071"></a>00071   <span class="keywordflow">return</span> is;
<a name="l00072"></a>00072 }
<a name="l00073"></a>00073 
<a name="l00074"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#abaebb3815eae1865caf244499aee3ec5">00074</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa810e3b66cf61d36b6fa119ffc895872">Traitement_particulier_NS_Profils_VDF::lire</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00075"></a>00075 {
<a name="l00076"></a>00076   <span class="keywordflow">return</span> <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa810e3b66cf61d36b6fa119ffc895872">Traitement_particulier_NS_Profils::lire</a>(is);
<a name="l00077"></a>00077 }
<a name="l00078"></a>00078 
<a name="l00079"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa810e3b66cf61d36b6fa119ffc895872">00079</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa810e3b66cf61d36b6fa119ffc895872">Traitement_particulier_NS_Profils_VDF::lire</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; motlu, <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00080"></a>00080 {
<a name="l00081"></a>00081   <span class="keywordflow">if</span> (motlu==<span class="stringliteral">&quot;nb_points&quot;</span>)
<a name="l00082"></a>00082     {
<a name="l00083"></a>00083       is &gt;&gt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>;
<a name="l00084"></a>00084     }
<a name="l00085"></a>00085   <span class="keywordflow">else</span>
<a name="l00086"></a>00086     {
<a name="l00087"></a>00087       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error while reading in Traitement_particulier_NS_Profils_VDF::readOn&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00088"></a>00088       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Possible key-words are : nb_points , { and } &quot;</span> &lt;&lt; finl;
<a name="l00089"></a>00089       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;User specified :&quot;</span> &lt;&lt; motlu &lt;&lt; finl;
<a name="l00090"></a>00090       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00091"></a>00091     }
<a name="l00092"></a>00092   <span class="keywordflow">return</span> is;
<a name="l00093"></a>00093 }
<a name="l00094"></a>00094 
<a name="l00095"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a18c18faa675c9e9197cd7cb2ec6691bd">00095</a> <span class="keywordtype">void</span> <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a18c18faa675c9e9197cd7cb2ec6691bd">Traitement_particulier_NS_Profils_VDF::post_traitement_particulier</a>()
<a name="l00096"></a>00096 {
<a name="l00097"></a>00097   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_x_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00098"></a>00098   umoy_x_m=0.;
<a name="l00099"></a>00099   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_y_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00100"></a>00100   umoy_y_m=0.;
<a name="l00101"></a>00101   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_z_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00102"></a>00102   umoy_z_m=0.;
<a name="l00103"></a>00103   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_2_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00104"></a>00104   umoy_2_m=0.;
<a name="l00105"></a>00105   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> vmoy_2_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00106"></a>00106   vmoy_2_m=0.;
<a name="l00107"></a>00107   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> wmoy_2_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00108"></a>00108   wmoy_2_m=0.;
<a name="l00109"></a>00109   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_3_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00110"></a>00110   umoy_3_m=0.;
<a name="l00111"></a>00111   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> vmoy_3_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00112"></a>00112   vmoy_3_m=0.;
<a name="l00113"></a>00113   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> wmoy_3_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00114"></a>00114   wmoy_3_m=0.;
<a name="l00115"></a>00115   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_4_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00116"></a>00116   umoy_4_m=0.;
<a name="l00117"></a>00117   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> vmoy_4_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00118"></a>00118   vmoy_4_m=0.;
<a name="l00119"></a>00119   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> wmoy_4_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00120"></a>00120   wmoy_4_m=0.;
<a name="l00121"></a>00121   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> uv_moy_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00122"></a>00122   uv_moy_m=0.;
<a name="l00123"></a>00123   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> nu_t_inst_m(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00124"></a>00124   nu_t_inst_m=0.;
<a name="l00125"></a>00125 
<a name="l00126"></a>00126   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_x_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00127"></a>00127   umoy_x_p=0.;
<a name="l00128"></a>00128   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_y_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00129"></a>00129   umoy_y_p=0.;
<a name="l00130"></a>00130   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_z_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00131"></a>00131   umoy_z_p=0.;
<a name="l00132"></a>00132   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_2_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00133"></a>00133   umoy_2_p=0.;
<a name="l00134"></a>00134   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> vmoy_2_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00135"></a>00135   vmoy_2_p=0.;
<a name="l00136"></a>00136   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> wmoy_2_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00137"></a>00137   wmoy_2_p=0.;
<a name="l00138"></a>00138   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_3_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00139"></a>00139   umoy_3_p=0.;
<a name="l00140"></a>00140   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> vmoy_3_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00141"></a>00141   vmoy_3_p=0.;
<a name="l00142"></a>00142   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> wmoy_3_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00143"></a>00143   wmoy_3_p=0.;
<a name="l00144"></a>00144   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_4_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00145"></a>00145   umoy_4_p=0.;
<a name="l00146"></a>00146   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> vmoy_4_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00147"></a>00147   vmoy_4_p=0.;
<a name="l00148"></a>00148   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> wmoy_4_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00149"></a>00149   wmoy_4_p=0.;
<a name="l00150"></a>00150   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> uv_moy_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00151"></a>00151   uv_moy_p=0.;
<a name="l00152"></a>00152   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> nu_t_inst_p(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00153"></a>00153   nu_t_inst_p=0.;
<a name="l00154"></a>00154 
<a name="l00155"></a>00155   <span class="keywordtype">double</span> tps = <a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().temps();
<a name="l00156"></a>00156   <span class="keywordflow">if</span> (<a class="code" href="classTraitement__particulier__NS__Profils.html#a3e6d6c761f5c4c72849d3e19a56b2986">oui_u_inst</a> != 0)
<a name="l00157"></a>00157     {
<a name="l00158"></a>00158       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a74cf82cb6e477053d2cf0b58e69520c3">calculer_moyenne_spatiale_vitesse</a>(umoy_x_m,umoy_2_m,umoy_3_m,umoy_4_m,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa6cb75069219d993d8d3a70f75765f84">corresp_u_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a10320774f48aa34cde8f0556796120c4">compt_x_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a120aca9782d3e59872c085163beb46fc">Nxy</a>,0,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a65c40589259028201fc76bda9d9f7e91">xUm</a>);
<a name="l00159"></a>00159       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a74cf82cb6e477053d2cf0b58e69520c3">calculer_moyenne_spatiale_vitesse</a>(umoy_x_p,umoy_2_p,umoy_3_p,umoy_4_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad585fb59b353e05c06ff7defaba81181">corresp_u_p</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a70e9377972b2f9a4f390996501efa8be">compt_x_p</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a120aca9782d3e59872c085163beb46fc">Nxy</a>,0,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5e0ec148671574224455bc1322679cd7">xUp</a>);
<a name="l00160"></a>00160 
<a name="l00161"></a>00161       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a74cf82cb6e477053d2cf0b58e69520c3">calculer_moyenne_spatiale_vitesse</a>(umoy_y_m,vmoy_2_m,vmoy_3_m,vmoy_4_m,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5791b71433b5f905378311776a912f8a">corresp_v_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a939e938d996e94f54e622a9bbad80158">compt_y_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#afffcc0fb24dd95986203d70bfaba9094">Nyy</a>,1,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1c3e35304b451ddba9285542dd7bc7cd">xVm</a>);
<a name="l00162"></a>00162       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a74cf82cb6e477053d2cf0b58e69520c3">calculer_moyenne_spatiale_vitesse</a>(umoy_y_p,vmoy_2_p,vmoy_3_p,vmoy_4_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad66150c2fe81aea076b49959eacf4fe1">corresp_v_p</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a298b2972ad7da21f0973c672da7716f8">compt_y_p</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#afffcc0fb24dd95986203d70bfaba9094">Nyy</a>,1,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1fd2587df01659c11f662adec5d39471">xVp</a>);
<a name="l00163"></a>00163 
<a name="l00164"></a>00164       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a74cf82cb6e477053d2cf0b58e69520c3">calculer_moyenne_spatiale_vitesse</a>(umoy_z_m,wmoy_2_m,wmoy_3_m,wmoy_4_m,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a33ed7a6cc944e7d325dcb5af572baee8">corresp_w_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a016473eae502a3e1cfd67c4b5c9e3b28">compt_z_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a2e6e28ce35a7d1a0ba266a34a110a835">Nzy</a>,2,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad34f0a54405f519d20207e720bab0ea6">xWm</a>);
<a name="l00165"></a>00165       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a74cf82cb6e477053d2cf0b58e69520c3">calculer_moyenne_spatiale_vitesse</a>(umoy_z_p,wmoy_2_p,wmoy_3_p,wmoy_4_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#afb7ed61df361fef7bf3a9d165166afb8">corresp_w_p</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac4573d227837f9a784f317fc9f88b6c4">compt_z_p</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a2e6e28ce35a7d1a0ba266a34a110a835">Nzy</a>,2,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af11b44e7003388c875469e8f0707884c">xWp</a>);
<a name="l00166"></a>00166       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a587b2b6fd24fdd3528967d13a0ad7109">calculer_moyenne_spatiale_uv</a>(uv_moy_m,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af63fcebc719662a04accc3ef17677ab7" title="Correspondance numerotation globale -&gt; numerotation locale dans Yxx.">corresp_uv_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a4031eb0b77d9d980d1ba96901b5451c8" title="Nombre de points a &quot;meme Y&quot; pour chaque grandeur.">compt_uv_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a7fadf8cc84f903e8ea38d3e8d212d3fe">Nuv</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a0771d4feb12c1e0c5204ab09b0c901a5">xUVm</a>);
<a name="l00167"></a>00167       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a587b2b6fd24fdd3528967d13a0ad7109">calculer_moyenne_spatiale_uv</a>(uv_moy_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab3b8d654ea383c4a86eb1bdbd8384469">corresp_uv_p</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a77fd16eaacdfa52b66fd2eef0ee30815">compt_uv_p</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a7fadf8cc84f903e8ea38d3e8d212d3fe">Nuv</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac6f7f846b4283c0dbd9a8c240fd46961" title="Positions des points juste avant et apres.">xUVp</a>);
<a name="l00168"></a>00168       <span class="keyword">static</span> <span class="keywordtype">double</span> temps_dern_post_inst = -100.;
<a name="l00169"></a>00169 
<a name="l00170"></a>00170       <span class="keywordflow">if</span> (<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(tps-temps_dern_post_inst)&gt;=<a class="code" href="classTraitement__particulier__NS__Profils.html#a96d75c107998653cd87868bb39c7bfe8">dt_post_inst</a>)
<a name="l00171"></a>00171         {
<a name="l00172"></a>00172           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab39111f76a108d4c82818879e1f054d5">ecriture_fichiers_moy_spat</a>(umoy_x_m,umoy_2_m,umoy_3_m,umoy_4_m,umoy_x_p,umoy_2_p,umoy_3_p,umoy_4_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a120aca9782d3e59872c085163beb46fc">Nxy</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa9de3c5b51516b12a54949f10ca0bc5d">Yu_m</a>,0);
<a name="l00173"></a>00173           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab39111f76a108d4c82818879e1f054d5">ecriture_fichiers_moy_spat</a>(umoy_y_m,vmoy_2_m,vmoy_3_m,vmoy_4_m,umoy_y_p,vmoy_2_p,vmoy_3_p,vmoy_4_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#afffcc0fb24dd95986203d70bfaba9094">Nyy</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae7d712081bb8cd61759087c1101bec1b">Yv_m</a>,1);
<a name="l00174"></a>00174           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab39111f76a108d4c82818879e1f054d5">ecriture_fichiers_moy_spat</a>(umoy_z_m,wmoy_2_m,wmoy_3_m,wmoy_4_m,umoy_z_p,wmoy_2_p,wmoy_3_p,wmoy_4_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a2e6e28ce35a7d1a0ba266a34a110a835">Nzy</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9e146979ba2fcf3fe5921f662e11afa8">Yw_m</a>,2);
<a name="l00175"></a>00175           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#afb56edc0d25ad777e2a2c75dfd835675">ecriture_fichiers_moy_spat_1col</a>(uv_moy_m,uv_moy_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af92dccfa229f0e4801e1e53a3b217263" title="Coordonnees des points ou est definie la vitesse.">Yuv_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad2550f4f491a5d7dd538cca710491bbf">delta_UVm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a82cea2424eff3f04dd1895d8e58d5bd5" title="Distance (tjrs positive) entre le point avant ou apres et le point du profil, pour faire les interpol...">delta_UVp</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a7fadf8cc84f903e8ea38d3e8d212d3fe">Nuv</a>,3);
<a name="l00176"></a>00176 
<a name="l00177"></a>00177           temps_dern_post_inst = tps;
<a name="l00178"></a>00178         }
<a name="l00179"></a>00179     }
<a name="l00180"></a>00180 
<a name="l00181"></a>00181   <span class="keywordflow">if</span> (<a class="code" href="classTraitement__particulier__NS__Profils.html#acaf9e7d3bc1fde5951c14a8e545d7ef4">oui_profil_nu_t</a> != 0)
<a name="l00182"></a>00182     {
<a name="l00183"></a>00183       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a09e11632e6c4f426b70cfe2272eb8715">calculer_moyenne_spatiale_nut</a>(nu_t_inst_m,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af63fcebc719662a04accc3ef17677ab7" title="Correspondance numerotation globale -&gt; numerotation locale dans Yxx.">corresp_uv_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a4031eb0b77d9d980d1ba96901b5451c8" title="Nombre de points a &quot;meme Y&quot; pour chaque grandeur.">compt_uv_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a7fadf8cc84f903e8ea38d3e8d212d3fe">Nuv</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a0771d4feb12c1e0c5204ab09b0c901a5">xUVm</a>);
<a name="l00184"></a>00184       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a09e11632e6c4f426b70cfe2272eb8715">calculer_moyenne_spatiale_nut</a>(nu_t_inst_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab3b8d654ea383c4a86eb1bdbd8384469">corresp_uv_p</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a77fd16eaacdfa52b66fd2eef0ee30815">compt_uv_p</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a7fadf8cc84f903e8ea38d3e8d212d3fe">Nuv</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac6f7f846b4283c0dbd9a8c240fd46961" title="Positions des points juste avant et apres.">xUVp</a>);
<a name="l00185"></a>00185 
<a name="l00186"></a>00186       <span class="keyword">static</span> <span class="keywordtype">double</span> temps_dern_post_inst_nut = -100.;
<a name="l00187"></a>00187       <span class="keywordflow">if</span> (<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(tps-temps_dern_post_inst_nut)&gt;=<a class="code" href="classTraitement__particulier__NS__Profils.html#a96d75c107998653cd87868bb39c7bfe8">dt_post_inst</a>)
<a name="l00188"></a>00188         {
<a name="l00189"></a>00189           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#afb56edc0d25ad777e2a2c75dfd835675">ecriture_fichiers_moy_spat_1col</a>(nu_t_inst_m,nu_t_inst_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af92dccfa229f0e4801e1e53a3b217263" title="Coordonnees des points ou est definie la vitesse.">Yuv_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad2550f4f491a5d7dd538cca710491bbf">delta_UVm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a82cea2424eff3f04dd1895d8e58d5bd5" title="Distance (tjrs positive) entre le point avant ou apres et le point du profil, pour faire les interpol...">delta_UVp</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a7fadf8cc84f903e8ea38d3e8d212d3fe">Nuv</a>,4);
<a name="l00190"></a>00190           temps_dern_post_inst_nut = tps;
<a name="l00191"></a>00191         }
<a name="l00192"></a>00192     }
<a name="l00193"></a>00193 <span class="comment"></span>
<a name="l00194"></a>00194 <span class="comment">  //////!&lt; Moyenne temporelle*********************************************//</span>
<a name="l00195"></a>00195 <span class="comment"></span>  <span class="keywordflow">if</span> (<a class="code" href="classTraitement__particulier__NS__Profils.html#a83b6b78bbef51f861a4e8fca3244e894">oui_stat</a> != 0)
<a name="l00196"></a>00196     {
<a name="l00197"></a>00197       <span class="keywordtype">double</span> tpsbis = <a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().temps();
<a name="l00198"></a>00198       <span class="keywordflow">if</span> ((tpsbis&gt;=<a class="code" href="classTraitement__particulier__NS__Profils.html#a7e970550e4a8a1e8d71aac53bcf30ee6">temps_deb</a>)&amp;&amp;(tpsbis&lt;=<a class="code" href="classTraitement__particulier__NS__Profils.html#a8758265d6dcac211f89144a30974457d">temps_fin</a>))
<a name="l00199"></a>00199         {
<a name="l00200"></a>00200           <span class="keyword">static</span> <span class="keywordtype">int</span> init_stat_temps = 0;
<a name="l00201"></a>00201           <span class="keywordflow">if</span>((init_stat_temps==0)&amp;&amp;( <a class="code" href="classTraitement__particulier__NS__Profils.html#a0f3642969b930ad2b1f4546ac08319b5">oui_repr</a> != 1))  <span class="comment">//!&lt; si ce n est pas une reprise : sinon valeurs lues dans le fichier de reprise</span>
<a name="l00202"></a>00202 <span class="comment"></span>            {
<a name="l00203"></a>00203               <span class="keywordtype">double</span> dt_v = <a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;schema_temps().pas_de_temps();
<a name="l00204"></a>00204               <a class="code" href="classTraitement__particulier__NS__Profils.html#a7e970550e4a8a1e8d71aac53bcf30ee6">temps_deb</a> = tpsbis-dt_v;
<a name="l00205"></a>00205               init_stat_temps++;
<a name="l00206"></a>00206             }
<a name="l00207"></a>00207 
<a name="l00208"></a>00208           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#ae75bf052663a6b8e072d920501ba6437">u_moy_temp_x</a>,umoy_x_m,umoy_x_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>);
<a name="l00209"></a>00209           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a7f3f6d0edfaf1bb60b8f42a5d9f71001">u_moy_temp_y</a>,umoy_y_m,umoy_y_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>);
<a name="l00210"></a>00210           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a5fe97df8f7b7da6ef3fa0acdf9ae7791">u_moy_temp_z</a>,umoy_z_m,umoy_z_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>);
<a name="l00211"></a>00211 
<a name="l00212"></a>00212           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#aee07d822f3dc7d4970463e7b6804b70a">uv_moy_temp</a>,uv_moy_m,uv_moy_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad2550f4f491a5d7dd538cca710491bbf">delta_UVm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a82cea2424eff3f04dd1895d8e58d5bd5" title="Distance (tjrs positive) entre le point avant ou apres et le point du profil, pour faire les interpol...">delta_UVp</a>);
<a name="l00213"></a>00213 
<a name="l00214"></a>00214           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a2f4433cda3bef9aef5c704f8d0b76b3c">u2_moy_temp</a>,umoy_2_m,umoy_2_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>);
<a name="l00215"></a>00215           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#af9f3e4c74ba9fab8de97c166fe1aaece">v2_moy_temp</a>,vmoy_2_m,vmoy_2_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>);
<a name="l00216"></a>00216           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#ae1ec37a6157345d14dfd91e808b45e58">w2_moy_temp</a>,wmoy_2_m,wmoy_2_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>);
<a name="l00217"></a>00217 
<a name="l00218"></a>00218           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a0fc1f3e3a95c30e1f01359af1fb5d1d3">u3_moy_temp</a>,umoy_3_m,umoy_3_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>);
<a name="l00219"></a>00219           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#afc4886e1bc007e6f214a54eabff4e73b">v3_moy_temp</a>,vmoy_3_m,vmoy_3_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>);
<a name="l00220"></a>00220           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a1e2d02fee9650b72baa431da02f0c057">w3_moy_temp</a>,wmoy_3_m,wmoy_3_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>);
<a name="l00221"></a>00221 
<a name="l00222"></a>00222           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a4190df9b0437c2b2e95cfa55ae49dc34">u4_moy_temp</a>,umoy_4_m,umoy_4_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>);
<a name="l00223"></a>00223           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#aab05633cc810cc5c617b4476fea22998">v4_moy_temp</a>,vmoy_4_m,vmoy_4_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>);
<a name="l00224"></a>00224           <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a11b354475e4956989ac6d51deaf3d585">w4_moy_temp</a>,wmoy_4_m,wmoy_4_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>);
<a name="l00225"></a>00225 
<a name="l00226"></a>00226 
<a name="l00227"></a>00227           <span class="keywordflow">if</span> (<a class="code" href="classTraitement__particulier__NS__Profils.html#acaf9e7d3bc1fde5951c14a8e545d7ef4">oui_profil_nu_t</a> != 0)
<a name="l00228"></a>00228             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">calculer_integrale_temporelle</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a6a50f850ca46824f8869068532ebc700">nu_t_temp</a>,nu_t_inst_m,nu_t_inst_p,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad2550f4f491a5d7dd538cca710491bbf">delta_UVm</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a82cea2424eff3f04dd1895d8e58d5bd5" title="Distance (tjrs positive) entre le point avant ou apres et le point du profil, pour faire les interpol...">delta_UVp</a>);
<a name="l00229"></a>00229 
<a name="l00230"></a>00230           <span class="keyword">static</span> <span class="keywordtype">double</span> temps_dern_post_stat = -100.;
<a name="l00231"></a>00231           <span class="keywordflow">if</span> (<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(tpsbis-temps_dern_post_stat)&gt;=<a class="code" href="classTraitement__particulier__NS__Profils.html#a589d698d4a9fd1b213a1d47180a9f592">dt_post_stat</a>)
<a name="l00232"></a>00232             {
<a name="l00233"></a>00233               <span class="keywordtype">double</span> dt = tpsbis-<a class="code" href="classTraitement__particulier__NS__Profils.html#a7e970550e4a8a1e8d71aac53bcf30ee6">temps_deb</a>;
<a name="l00234"></a>00234 
<a name="l00235"></a>00235               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a24860bb1c3de0bd7979a8561520fb1eb">ecriture_fichiers_moy_temp</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#ae75bf052663a6b8e072d920501ba6437">u_moy_temp_x</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a2f4433cda3bef9aef5c704f8d0b76b3c">u2_moy_temp</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a0fc1f3e3a95c30e1f01359af1fb5d1d3">u3_moy_temp</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a4190df9b0437c2b2e95cfa55ae49dc34">u4_moy_temp</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa9de3c5b51516b12a54949f10ca0bc5d">Yu_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a120aca9782d3e59872c085163beb46fc">Nxy</a>,0,dt);
<a name="l00236"></a>00236               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a24860bb1c3de0bd7979a8561520fb1eb">ecriture_fichiers_moy_temp</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a7f3f6d0edfaf1bb60b8f42a5d9f71001">u_moy_temp_y</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#af9f3e4c74ba9fab8de97c166fe1aaece">v2_moy_temp</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#afc4886e1bc007e6f214a54eabff4e73b">v3_moy_temp</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#aab05633cc810cc5c617b4476fea22998">v4_moy_temp</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae7d712081bb8cd61759087c1101bec1b">Yv_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#afffcc0fb24dd95986203d70bfaba9094">Nyy</a>,1,dt);
<a name="l00237"></a>00237               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a24860bb1c3de0bd7979a8561520fb1eb">ecriture_fichiers_moy_temp</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a5fe97df8f7b7da6ef3fa0acdf9ae7791">u_moy_temp_z</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#ae1ec37a6157345d14dfd91e808b45e58">w2_moy_temp</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a1e2d02fee9650b72baa431da02f0c057">w3_moy_temp</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a11b354475e4956989ac6d51deaf3d585">w4_moy_temp</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9e146979ba2fcf3fe5921f662e11afa8">Yw_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a2e6e28ce35a7d1a0ba266a34a110a835">Nzy</a>,2,dt);
<a name="l00238"></a>00238               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a203115a81a9d0dda5fb2284725e88ee2">ecriture_fichiers_moy_temp_1col</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#aee07d822f3dc7d4970463e7b6804b70a">uv_moy_temp</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af92dccfa229f0e4801e1e53a3b217263" title="Coordonnees des points ou est definie la vitesse.">Yuv_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a7fadf8cc84f903e8ea38d3e8d212d3fe">Nuv</a>,3,dt);
<a name="l00239"></a>00239               <span class="keywordflow">if</span> (<a class="code" href="classTraitement__particulier__NS__Profils.html#acaf9e7d3bc1fde5951c14a8e545d7ef4">oui_profil_nu_t</a> != 0)
<a name="l00240"></a>00240                 <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a203115a81a9d0dda5fb2284725e88ee2">ecriture_fichiers_moy_temp_1col</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a6a50f850ca46824f8869068532ebc700">nu_t_temp</a>,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af92dccfa229f0e4801e1e53a3b217263" title="Coordonnees des points ou est definie la vitesse.">Yuv_m</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a7fadf8cc84f903e8ea38d3e8d212d3fe">Nuv</a>,4,dt);
<a name="l00241"></a>00241               temps_dern_post_stat = tpsbis;
<a name="l00242"></a>00242             }
<a name="l00243"></a>00243         }
<a name="l00244"></a>00244     }
<a name="l00245"></a>00245 }
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 
<a name="l00253"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a81225d18de149a24d5b06311103c355d">00253</a> <span class="keywordtype">void</span> <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a81225d18de149a24d5b06311103c355d">Traitement_particulier_NS_Profils_VDF::init_calcul_moyenne</a>(<span class="keywordtype">void</span>)
<a name="l00254"></a>00254 {
<a name="l00255"></a>00255 <span class="comment">// On va initialiser les differents parametres membres de la classe</span>
<a name="l00256"></a>00256 <span class="comment">// utiles au calcul des differentes moyennes</span>
<a name="l00257"></a>00257 <span class="comment">// Initialisation de : Yu,Yv,Yw,Yuv + compt_x,compt_y,compt_z,compt_uv</span>
<a name="l00258"></a>00258 <span class="comment">// + corresp_u,corresp_v,corresp_w,corresp_uv</span>
<a name="l00259"></a>00259   <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; zdisbase=<a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().zone_dis_base();
<a name="l00260"></a>00260   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zone_VDF=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>, zdisbase);
<a name="l00261"></a>00261 
<a name="l00262"></a>00262   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xv = zone_VDF.<a class="code" href="classZone__VF.html#a918c0885a9b67317fcce3a0535306542">xv</a>();
<a name="l00263"></a>00263   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xp = zone_VDF.<a class="code" href="classZone__VF.html#a87a29f0223c71256a25ee343c9277599">xp</a>();
<a name="l00264"></a>00264 
<a name="l00265"></a>00265   <span class="keywordtype">int</span> nb_faces = zone_VDF.<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>();
<a name="l00266"></a>00266   <span class="keywordtype">int</span> nb_elems = zone_VDF.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>();
<a name="l00267"></a>00267 
<a name="l00268"></a>00268   <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; orientation = zone_VDF.<a class="code" href="classZone__VDF.html#a9a9bd747218e463b3408a3590c12814c" title="inline DoubleVect&amp; Zone_VDF::porosite_face() { return porosite_face_; }">orientation</a>();
<a name="l00269"></a>00269 
<a name="l00270"></a>00270   <span class="keywordtype">int</span> num_face,num_elem,ori,indic_m,indicv_m,indicw_m,indicuv_m,indic_p,indicv_p,indicw_p,indicuv_p,trouve;
<a name="l00271"></a>00271   <span class="keywordtype">int</span> i,j;
<a name="l00272"></a>00272   <span class="keywordtype">double</span> y;
<a name="l00273"></a>00273   j=0;
<a name="l00274"></a>00274   indic_m = indic_p = 0;
<a name="l00275"></a>00275   indicv_m = indicv_p = 0;
<a name="l00276"></a>00276   indicw_m = indicw_p = 0;
<a name="l00277"></a>00277   indicuv_m = indicuv_p = 0;
<a name="l00278"></a>00278 
<a name="l00279"></a>00279 <span class="comment">// initialisation des differentes tailles de tableaux</span>
<a name="l00280"></a>00280   <a class="code" href="classTraitement__particulier__NS__Profils.html#a120aca9782d3e59872c085163beb46fc">Nxy</a>.<a class="code" href="classIntVect.html#a5900779fd9a3f9a82c68007a42b87d98" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00281"></a>00281   <a class="code" href="classTraitement__particulier__NS__Profils.html#afffcc0fb24dd95986203d70bfaba9094">Nyy</a>.<a class="code" href="classIntVect.html#a5900779fd9a3f9a82c68007a42b87d98" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00282"></a>00282   <a class="code" href="classTraitement__particulier__NS__Profils.html#a2e6e28ce35a7d1a0ba266a34a110a835">Nzy</a>.<a class="code" href="classIntVect.html#a5900779fd9a3f9a82c68007a42b87d98" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00283"></a>00283   <a class="code" href="classTraitement__particulier__NS__Profils.html#a7fadf8cc84f903e8ea38d3e8d212d3fe">Nuv</a>.<a class="code" href="classIntVect.html#a5900779fd9a3f9a82c68007a42b87d98" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00284"></a>00284   <a class="code" href="classTraitement__particulier__NS__Profils.html#a120aca9782d3e59872c085163beb46fc">Nxy</a> = <a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>;
<a name="l00285"></a>00285   <a class="code" href="classTraitement__particulier__NS__Profils.html#afffcc0fb24dd95986203d70bfaba9094">Nyy</a> = <a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>;
<a name="l00286"></a>00286   <a class="code" href="classTraitement__particulier__NS__Profils.html#a2e6e28ce35a7d1a0ba266a34a110a835">Nzy</a> = <a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>;
<a name="l00287"></a>00287   <a class="code" href="classTraitement__particulier__NS__Profils.html#a7fadf8cc84f903e8ea38d3e8d212d3fe">Nuv</a> = <a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>;
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 <span class="comment">// dimensionnement aux valeurs rentrees dans le jeu de donnees</span>
<a name="l00290"></a>00290 <span class="comment">// The points before the value of the probe</span>
<a name="l00291"></a>00291   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a65c40589259028201fc76bda9d9f7e91">xUm</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00292"></a>00292   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad34f0a54405f519d20207e720bab0ea6">xWm</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00293"></a>00293   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1c3e35304b451ddba9285542dd7bc7cd">xVm</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00294"></a>00294   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a0771d4feb12c1e0c5204ab09b0c901a5">xUVm</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00295"></a>00295 
<a name="l00296"></a>00296   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00297"></a>00297   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00298"></a>00298   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00299"></a>00299   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad2550f4f491a5d7dd538cca710491bbf">delta_UVm</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 <span class="comment">// The points after the value of the probe</span>
<a name="l00302"></a>00302   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5e0ec148671574224455bc1322679cd7">xUp</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00303"></a>00303   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af11b44e7003388c875469e8f0707884c">xWp</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00304"></a>00304   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1fd2587df01659c11f662adec5d39471">xVp</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00305"></a>00305   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac6f7f846b4283c0dbd9a8c240fd46961" title="Positions des points juste avant et apres.">xUVp</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00306"></a>00306 
<a name="l00307"></a>00307   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00308"></a>00308   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00309"></a>00309   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00310"></a>00310   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a82cea2424eff3f04dd1895d8e58d5bd5" title="Distance (tjrs positive) entre le point avant ou apres et le point du profil, pour faire les interpol...">delta_UVp</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>);
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 <span class="comment">// initialisation</span>
<a name="l00313"></a>00313 <span class="comment">// The points before the value of the probe</span>
<a name="l00314"></a>00314   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa9de3c5b51516b12a54949f10ca0bc5d">Yu_m</a> = -100.;
<a name="l00315"></a>00315   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae7d712081bb8cd61759087c1101bec1b">Yv_m</a> = -100.;
<a name="l00316"></a>00316   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9e146979ba2fcf3fe5921f662e11afa8">Yw_m</a> = -100.;
<a name="l00317"></a>00317   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af92dccfa229f0e4801e1e53a3b217263" title="Coordonnees des points ou est definie la vitesse.">Yuv_m</a> = -100.;
<a name="l00318"></a>00318 
<a name="l00319"></a>00319   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a10320774f48aa34cde8f0556796120c4">compt_x_m</a> = 0;
<a name="l00320"></a>00320   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a939e938d996e94f54e622a9bbad80158">compt_y_m</a> = 0;
<a name="l00321"></a>00321   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a016473eae502a3e1cfd67c4b5c9e3b28">compt_z_m</a> = 0;
<a name="l00322"></a>00322   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a4031eb0b77d9d980d1ba96901b5451c8" title="Nombre de points a &quot;meme Y&quot; pour chaque grandeur.">compt_uv_m</a> = 0;
<a name="l00323"></a>00323 
<a name="l00324"></a>00324   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa6cb75069219d993d8d3a70f75765f84">corresp_u_m</a> = -1;
<a name="l00325"></a>00325   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5791b71433b5f905378311776a912f8a">corresp_v_m</a> = -1;
<a name="l00326"></a>00326   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a33ed7a6cc944e7d325dcb5af572baee8">corresp_w_m</a> = -1;
<a name="l00327"></a>00327   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af63fcebc719662a04accc3ef17677ab7" title="Correspondance numerotation globale -&gt; numerotation locale dans Yxx.">corresp_uv_m</a> = -1;
<a name="l00328"></a>00328 <span class="comment">// The points after the value of the probe</span>
<a name="l00329"></a>00329   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a85b43a3690317a2411b2b1f4da3b2264">Yu_p</a> = -100.;
<a name="l00330"></a>00330   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae09575edda967177966d923602a4a12b">Yv_p</a> = -100.;
<a name="l00331"></a>00331   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a044b8bf06121276eeee8adcca152541c">Yw_p</a> = -100.;
<a name="l00332"></a>00332   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab40046672228127ff1e493732e54b43f">Yuv_p</a> = -100.;
<a name="l00333"></a>00333 
<a name="l00334"></a>00334   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a70e9377972b2f9a4f390996501efa8be">compt_x_p</a> = 0;
<a name="l00335"></a>00335   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a298b2972ad7da21f0973c672da7716f8">compt_y_p</a> = 0;
<a name="l00336"></a>00336   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac4573d227837f9a784f317fc9f88b6c4">compt_z_p</a> = 0;
<a name="l00337"></a>00337   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a77fd16eaacdfa52b66fd2eef0ee30815">compt_uv_p</a> = 0;
<a name="l00338"></a>00338 
<a name="l00339"></a>00339   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad585fb59b353e05c06ff7defaba81181">corresp_u_p</a> = -1;
<a name="l00340"></a>00340   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad66150c2fe81aea076b49959eacf4fe1">corresp_v_p</a> = -1;
<a name="l00341"></a>00341   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#afb7ed61df361fef7bf3a9d165166afb8">corresp_w_p</a> = -1;
<a name="l00342"></a>00342   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab3b8d654ea383c4a86eb1bdbd8384469">corresp_uv_p</a> = -1;
<a name="l00343"></a>00343 
<a name="l00344"></a>00344   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad2550f4f491a5d7dd538cca710491bbf">delta_UVm</a>=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a82cea2424eff3f04dd1895d8e58d5bd5" title="Distance (tjrs positive) entre le point avant ou apres et le point du profil, pour faire les interpol...">delta_UVp</a>=10000000.;
<a name="l00345"></a>00345 
<a name="l00346"></a>00346   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; (int)system(<span class="stringliteral">&quot;mkdir Space_Avg&quot;</span>) &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00347"></a>00347   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; (int)system(<span class="stringliteral">&quot;mkdir Time_Avg&quot;</span>) &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00348"></a>00348 
<a name="l00349"></a>00349 <span class="comment">// remplissage des tableaux ci-dessus</span>
<a name="l00350"></a>00350 
<a name="l00351"></a>00351 <span class="comment">// On cherche tout d&#39;abord les coordonnees des points les plus proches de chaque cote et on les stocke</span>
<a name="l00352"></a>00352   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l00353"></a>00353     {
<a name="l00354"></a>00354 <span class="comment">// Boucle sur les faces</span>
<a name="l00355"></a>00355       <span class="keywordflow">for</span> (num_face=0; num_face&lt;nb_faces; num_face++)
<a name="l00356"></a>00356         {
<a name="l00357"></a>00357           ori = orientation(num_face);
<a name="l00358"></a>00358 
<a name="l00359"></a>00359           <span class="keywordflow">if</span>((xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)-<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i))&gt;=0)
<a name="l00360"></a>00360             {
<a name="l00361"></a>00361               <span class="keywordflow">if</span>(ori==0)
<a name="l00362"></a>00362                 {
<a name="l00363"></a>00363                   <span class="keywordflow">if</span>((xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)-<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i))&lt;<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>(i))
<a name="l00364"></a>00364                     {
<a name="l00365"></a>00365                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5e0ec148671574224455bc1322679cd7">xUp</a>(i)=xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00366"></a>00366                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>(i)=xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)-<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i);
<a name="l00367"></a>00367                     }
<a name="l00368"></a>00368                 }
<a name="l00369"></a>00369               <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ori==2)
<a name="l00370"></a>00370                 {
<a name="l00371"></a>00371                   <span class="keywordflow">if</span>((xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)-<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i))&lt;<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>(i))
<a name="l00372"></a>00372                     {
<a name="l00373"></a>00373                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af11b44e7003388c875469e8f0707884c">xWp</a>(i)=xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00374"></a>00374                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>(i)=xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)-<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i);
<a name="l00375"></a>00375                     }
<a name="l00376"></a>00376                 }
<a name="l00377"></a>00377               <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ori==1)
<a name="l00378"></a>00378                 {
<a name="l00379"></a>00379                   <span class="keywordflow">if</span>((xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)-<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i))&lt;<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>(i))
<a name="l00380"></a>00380                     {
<a name="l00381"></a>00381                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1fd2587df01659c11f662adec5d39471">xVp</a>(i)=xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00382"></a>00382                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>(i)=xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)-<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i);
<a name="l00383"></a>00383                     }
<a name="l00384"></a>00384                 }
<a name="l00385"></a>00385               <span class="keywordflow">else</span>
<a name="l00386"></a>00386                 {
<a name="l00387"></a>00387                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Pb dans Traitement_particulier_NS_Profils_VDF::init_calcul_moyenne&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00388"></a>00388                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Pb avec la direction de la face!&quot;</span> &lt;&lt; finl;
<a name="l00389"></a>00389                   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00390"></a>00390                 }
<a name="l00391"></a>00391             }
<a name="l00392"></a>00392           <span class="keywordflow">else</span>
<a name="l00393"></a>00393             {
<a name="l00394"></a>00394               <span class="keywordflow">if</span>(ori==0)
<a name="l00395"></a>00395                 {
<a name="l00396"></a>00396                   <span class="keywordflow">if</span>((<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i)-xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>))&lt;<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>(i))
<a name="l00397"></a>00397                     {
<a name="l00398"></a>00398                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a65c40589259028201fc76bda9d9f7e91">xUm</a>(i)=xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00399"></a>00399                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>(i)=<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i)-xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00400"></a>00400                     }
<a name="l00401"></a>00401                 }
<a name="l00402"></a>00402               <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ori==2)
<a name="l00403"></a>00403                 {
<a name="l00404"></a>00404                   <span class="keywordflow">if</span>((<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i)-xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>))&lt;<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>(i))
<a name="l00405"></a>00405                     {
<a name="l00406"></a>00406                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad34f0a54405f519d20207e720bab0ea6">xWm</a>(i)=xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00407"></a>00407                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>(i)=<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i)-xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00408"></a>00408                     }
<a name="l00409"></a>00409                 }
<a name="l00410"></a>00410               <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ori==1)
<a name="l00411"></a>00411                 {
<a name="l00412"></a>00412                   <span class="keywordflow">if</span>((<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i)-xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>))&lt;<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>(i))
<a name="l00413"></a>00413                     {
<a name="l00414"></a>00414                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1c3e35304b451ddba9285542dd7bc7cd">xVm</a>(i)=xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00415"></a>00415                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>(i)=<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i)-xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00416"></a>00416                     }
<a name="l00417"></a>00417                 }
<a name="l00418"></a>00418 
<a name="l00419"></a>00419               <span class="keywordflow">else</span>
<a name="l00420"></a>00420                 {
<a name="l00421"></a>00421                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Pb dans Traitement_particulier_NS_Profils_VDF::init_calcul_moyenne&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00422"></a>00422                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Pb avec la direction de la face!&quot;</span> &lt;&lt; finl;
<a name="l00423"></a>00423                   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00424"></a>00424                 }
<a name="l00425"></a>00425             }
<a name="l00426"></a>00426         }
<a name="l00427"></a>00427 
<a name="l00428"></a>00428 
<a name="l00429"></a>00429 <span class="comment">// Boucle sur les elements</span>
<a name="l00430"></a>00430       <span class="keywordflow">for</span> (num_elem=0; num_elem&lt;nb_elems; num_elem++)
<a name="l00431"></a>00431         {
<a name="l00432"></a>00432           <span class="keywordflow">if</span>((xp(num_elem,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)-<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i))&gt;=0)
<a name="l00433"></a>00433             {
<a name="l00434"></a>00434               <span class="keywordflow">if</span>((xp(num_elem,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)-<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i))&lt;<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a82cea2424eff3f04dd1895d8e58d5bd5" title="Distance (tjrs positive) entre le point avant ou apres et le point du profil, pour faire les interpol...">delta_UVp</a>(i))
<a name="l00435"></a>00435                 {
<a name="l00436"></a>00436                   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac6f7f846b4283c0dbd9a8c240fd46961" title="Positions des points juste avant et apres.">xUVp</a>(i)=xp(num_elem,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00437"></a>00437                   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a82cea2424eff3f04dd1895d8e58d5bd5" title="Distance (tjrs positive) entre le point avant ou apres et le point du profil, pour faire les interpol...">delta_UVp</a>(i)=xp(num_elem,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)-<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i);
<a name="l00438"></a>00438                 }
<a name="l00439"></a>00439             }
<a name="l00440"></a>00440           <span class="keywordflow">else</span>
<a name="l00441"></a>00441             {
<a name="l00442"></a>00442               <span class="keywordflow">if</span>((<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i)-xp(num_elem,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>))&lt;<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad2550f4f491a5d7dd538cca710491bbf">delta_UVm</a>(i))
<a name="l00443"></a>00443                 {
<a name="l00444"></a>00444                   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a0771d4feb12c1e0c5204ab09b0c901a5">xUVm</a>(i)=xp(num_elem,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00445"></a>00445                   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad2550f4f491a5d7dd538cca710491bbf">delta_UVm</a>(i)=<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i)-xp(num_elem,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00446"></a>00446                 }
<a name="l00447"></a>00447             }
<a name="l00448"></a>00448         }<span class="comment">//Fin boucle sur les elements</span>
<a name="l00449"></a>00449 
<a name="l00450"></a>00450     }
<a name="l00451"></a>00451 
<a name="l00452"></a>00452   <span class="keywordtype">int</span> numb_del_probes=0;
<a name="l00453"></a>00453 <span class="comment">// Verification des sondes pour voir si elles sont bien toutes definies</span>
<a name="l00454"></a>00454 <span class="comment">// dans le domaine de calcul</span>
<a name="l00455"></a>00455   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l00456"></a>00456     {
<a name="l00457"></a>00457       <span class="keywordflow">if</span>((<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>(i)==10000000)||(<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>(i)==10000000)||
<a name="l00458"></a>00458           (<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>(i)==10000000)||(<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>(i)==10000000)||
<a name="l00459"></a>00459           (<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>(i)==10000000)||(<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>(i)==10000000)||
<a name="l00460"></a>00460           (<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad2550f4f491a5d7dd538cca710491bbf">delta_UVm</a>(i)==10000000)||(<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a82cea2424eff3f04dd1895d8e58d5bd5" title="Distance (tjrs positive) entre le point avant ou apres et le point du profil, pour faire les interpol...">delta_UVp</a>(i)==10000000))
<a name="l00461"></a>00461         {
<a name="l00462"></a>00462           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Probe Number &quot;</span> &lt;&lt; i+1+numb_del_probes &lt;&lt; <span class="stringliteral">&quot; undefined in computational domain.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00463"></a>00463           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;It will be deleted from profile list !&quot;</span> &lt;&lt; finl;
<a name="l00464"></a>00464           n_probes--;
<a name="l00465"></a>00465           numb_del_probes++;
<a name="l00466"></a>00466           <span class="keywordflow">for</span>(j=i; j&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; j++)
<a name="l00467"></a>00467             {
<a name="l00468"></a>00468               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9c77533fb59e59a22420ab4dfbd4203d">delta_Um</a>(j+1);
<a name="l00469"></a>00469               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a6ae5948b5666cf3effcc1ba817ae6536">delta_Up</a>(j+1);
<a name="l00470"></a>00470               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a8b4900102b1993a015c978bf06654222">delta_Wm</a>(j+1);
<a name="l00471"></a>00471               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae6288a825d44b40db1ddd21303a5f986">delta_Wp</a>(j+1);
<a name="l00472"></a>00472               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acdcce67c71f44a345d94fd7dd6e12131">delta_Vm</a>(j+1);
<a name="l00473"></a>00473               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac1122f56a63c2088c04a950117dacfbd">delta_Vp</a>(j+1);
<a name="l00474"></a>00474               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad2550f4f491a5d7dd538cca710491bbf">delta_UVm</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad2550f4f491a5d7dd538cca710491bbf">delta_UVm</a>(j+1);
<a name="l00475"></a>00475               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a82cea2424eff3f04dd1895d8e58d5bd5" title="Distance (tjrs positive) entre le point avant ou apres et le point du profil, pour faire les interpol...">delta_UVp</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a82cea2424eff3f04dd1895d8e58d5bd5" title="Distance (tjrs positive) entre le point avant ou apres et le point du profil, pour faire les interpol...">delta_UVp</a>(j+1);
<a name="l00476"></a>00476               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a65c40589259028201fc76bda9d9f7e91">xUm</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a65c40589259028201fc76bda9d9f7e91">xUm</a>(j+1);
<a name="l00477"></a>00477               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5e0ec148671574224455bc1322679cd7">xUp</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5e0ec148671574224455bc1322679cd7">xUp</a>(j+1);
<a name="l00478"></a>00478               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad34f0a54405f519d20207e720bab0ea6">xWm</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad34f0a54405f519d20207e720bab0ea6">xWm</a>(j+1);
<a name="l00479"></a>00479               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af11b44e7003388c875469e8f0707884c">xWp</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af11b44e7003388c875469e8f0707884c">xWp</a>(j+1);
<a name="l00480"></a>00480               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1c3e35304b451ddba9285542dd7bc7cd">xVm</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1c3e35304b451ddba9285542dd7bc7cd">xVm</a>(j+1);
<a name="l00481"></a>00481               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1fd2587df01659c11f662adec5d39471">xVp</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1fd2587df01659c11f662adec5d39471">xVp</a>(j+1);
<a name="l00482"></a>00482               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a0771d4feb12c1e0c5204ab09b0c901a5">xUVm</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a0771d4feb12c1e0c5204ab09b0c901a5">xUVm</a>(j+1);
<a name="l00483"></a>00483               <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac6f7f846b4283c0dbd9a8c240fd46961" title="Positions des points juste avant et apres.">xUVp</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac6f7f846b4283c0dbd9a8c240fd46961" title="Positions des points juste avant et apres.">xUVp</a>(j+1);
<a name="l00484"></a>00484               <a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(j)=<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(j+1);
<a name="l00485"></a>00485             }
<a name="l00486"></a>00486           i=i-1;
<a name="l00487"></a>00487         }
<a name="l00488"></a>00488     }
<a name="l00489"></a>00489 
<a name="l00490"></a>00490 <span class="comment">// Dimensionnement maintenant que l&#39;on connait le nombre exact de probes</span>
<a name="l00491"></a>00491   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa9de3c5b51516b12a54949f10ca0bc5d">Yu_m</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00492"></a>00492   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae7d712081bb8cd61759087c1101bec1b">Yv_m</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00493"></a>00493   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9e146979ba2fcf3fe5921f662e11afa8">Yw_m</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00494"></a>00494   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af92dccfa229f0e4801e1e53a3b217263" title="Coordonnees des points ou est definie la vitesse.">Yuv_m</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00495"></a>00495 
<a name="l00496"></a>00496   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a10320774f48aa34cde8f0556796120c4">compt_x_m</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00497"></a>00497   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a939e938d996e94f54e622a9bbad80158">compt_y_m</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00498"></a>00498   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a016473eae502a3e1cfd67c4b5c9e3b28">compt_z_m</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00499"></a>00499   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a4031eb0b77d9d980d1ba96901b5451c8" title="Nombre de points a &quot;meme Y&quot; pour chaque grandeur.">compt_uv_m</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00500"></a>00500 
<a name="l00501"></a>00501   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa6cb75069219d993d8d3a70f75765f84">corresp_u_m</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,nb_faces);
<a name="l00502"></a>00502   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5791b71433b5f905378311776a912f8a">corresp_v_m</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,nb_faces);
<a name="l00503"></a>00503   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a33ed7a6cc944e7d325dcb5af572baee8">corresp_w_m</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,nb_faces);
<a name="l00504"></a>00504   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af63fcebc719662a04accc3ef17677ab7" title="Correspondance numerotation globale -&gt; numerotation locale dans Yxx.">corresp_uv_m</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,nb_elems);
<a name="l00505"></a>00505 
<a name="l00506"></a>00506   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a85b43a3690317a2411b2b1f4da3b2264">Yu_p</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00507"></a>00507   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae09575edda967177966d923602a4a12b">Yv_p</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00508"></a>00508   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a044b8bf06121276eeee8adcca152541c">Yw_p</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00509"></a>00509   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab40046672228127ff1e493732e54b43f">Yuv_p</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00510"></a>00510 
<a name="l00511"></a>00511   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a70e9377972b2f9a4f390996501efa8be">compt_x_p</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00512"></a>00512   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a298b2972ad7da21f0973c672da7716f8">compt_y_p</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00513"></a>00513   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac4573d227837f9a784f317fc9f88b6c4">compt_z_p</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00514"></a>00514   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a77fd16eaacdfa52b66fd2eef0ee30815">compt_uv_p</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l00515"></a>00515 
<a name="l00516"></a>00516   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad585fb59b353e05c06ff7defaba81181">corresp_u_p</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,nb_faces);
<a name="l00517"></a>00517   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad66150c2fe81aea076b49959eacf4fe1">corresp_v_p</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,nb_faces);
<a name="l00518"></a>00518   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#afb7ed61df361fef7bf3a9d165166afb8">corresp_w_p</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,nb_faces);
<a name="l00519"></a>00519   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab3b8d654ea383c4a86eb1bdbd8384469">corresp_uv_p</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_probes,nb_elems);
<a name="l00520"></a>00520 
<a name="l00521"></a>00521 
<a name="l00522"></a>00522 
<a name="l00523"></a>00523 
<a name="l00524"></a>00524 
<a name="l00525"></a>00525 <span class="comment">// Impression dans le Cerr pour verifications</span>
<a name="l00526"></a>00526   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00527"></a>00527   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;       UPPER/LOWER BOUNDS FOR PROFILES :&quot;</span> &lt;&lt; finl;
<a name="l00528"></a>00528   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l00529"></a>00529     {
<a name="l00530"></a>00530       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Profile &quot;</span> &lt;&lt; i+1 &lt;&lt; <span class="stringliteral">&quot; : X= &quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i) &lt;&lt; finl;
<a name="l00531"></a>00531       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;xUm= &quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a65c40589259028201fc76bda9d9f7e91">xUm</a>(i) &lt;&lt; <span class="stringliteral">&quot; xUp= &quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5e0ec148671574224455bc1322679cd7">xUp</a>(i) &lt;&lt; finl;
<a name="l00532"></a>00532       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;xElm= &quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a0771d4feb12c1e0c5204ab09b0c901a5">xUVm</a>(i) &lt;&lt; <span class="stringliteral">&quot; xElp= &quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac6f7f846b4283c0dbd9a8c240fd46961" title="Positions des points juste avant et apres.">xUVp</a>(i) &lt;&lt; finl;
<a name="l00533"></a>00533       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; finl;
<a name="l00534"></a>00534     }
<a name="l00535"></a>00535 
<a name="l00536"></a>00536 
<a name="l00537"></a>00537 
<a name="l00538"></a>00538 <span class="comment">// On remplit les tableaux de correspondances</span>
<a name="l00539"></a>00539   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l00540"></a>00540     {
<a name="l00541"></a>00541       indic_m = indic_p = 0;
<a name="l00542"></a>00542       indicv_m = indicv_p = 0;
<a name="l00543"></a>00543       indicw_m = indicw_p = 0;
<a name="l00544"></a>00544       indicuv_m = indicuv_p = 0;
<a name="l00545"></a>00545 <span class="comment">// Boucle sur les faces pour avoir la correspondance pour les composantes de la vitesse.</span>
<a name="l00546"></a>00546       <span class="keywordflow">for</span> (num_face=0; num_face&lt;nb_faces; num_face++)
<a name="l00547"></a>00547         {
<a name="l00548"></a>00548           ori = orientation(num_face);
<a name="l00549"></a>00549           <span class="keywordflow">switch</span>(ori)
<a name="l00550"></a>00550             {
<a name="l00551"></a>00551 <span class="comment">// Pour la composante de vitesse U</span>
<a name="l00552"></a>00552             <span class="keywordflow">case</span> 0:
<a name="l00553"></a>00553               {
<a name="l00554"></a>00554 <span class="comment">// Point avant</span>
<a name="l00555"></a>00555                 <span class="keywordflow">if</span>(xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)==<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a65c40589259028201fc76bda9d9f7e91">xUm</a>(i))
<a name="l00556"></a>00556                   {
<a name="l00557"></a>00557                     y = xv(num_face,3-<a class="code" href="classTraitement__particulier__NS__Profils.html#aac9789a3aa54b448b038832d0605f140">homo_dir</a>-<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00558"></a>00558                     trouve = 0;
<a name="l00559"></a>00559                     <span class="keywordflow">for</span> (j=0; j-(indic_m+1)&lt;0; j++)
<a name="l00560"></a>00560                       {
<a name="l00561"></a>00561                         <span class="keywordflow">if</span> (j==<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>)
<a name="l00562"></a>00562                           {
<a name="l00563"></a>00563                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Erreur dans la valeur du nombre de points pour le traitement particulier&quot;</span>&lt;&lt;finl;
<a name="l00564"></a>00564                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;qui est trop petite dans votre jeu de donnees=&quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a> &lt;&lt; finl;
<a name="l00565"></a>00565                             <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00566"></a>00566                           }
<a name="l00567"></a>00567                         <span class="keywordflow">if</span>(<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(y,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa9de3c5b51516b12a54949f10ca0bc5d">Yu_m</a>(i,j)))
<a name="l00568"></a>00568                           {
<a name="l00569"></a>00569                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa6cb75069219d993d8d3a70f75765f84">corresp_u_m</a>(i,num_face) = j;
<a name="l00570"></a>00570                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a10320774f48aa34cde8f0556796120c4">compt_x_m</a>(i,j) ++;
<a name="l00571"></a>00571                             j=indic_m+1;
<a name="l00572"></a>00572                             trouve = 1;
<a name="l00573"></a>00573                           }
<a name="l00574"></a>00574                       }
<a name="l00575"></a>00575                     <span class="keywordflow">if</span> (trouve==0)
<a name="l00576"></a>00576                       {
<a name="l00577"></a>00577                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa6cb75069219d993d8d3a70f75765f84">corresp_u_m</a>(i,num_face) = indic_m;
<a name="l00578"></a>00578                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#aa9de3c5b51516b12a54949f10ca0bc5d">Yu_m</a>(i,indic_m)=y;
<a name="l00579"></a>00579                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a10320774f48aa34cde8f0556796120c4">compt_x_m</a>(i,indic_m) ++;
<a name="l00580"></a>00580                         indic_m++;
<a name="l00581"></a>00581                       }
<a name="l00582"></a>00582                   }
<a name="l00583"></a>00583 <span class="comment">// Point apres</span>
<a name="l00584"></a>00584                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)==<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5e0ec148671574224455bc1322679cd7">xUp</a>(i))
<a name="l00585"></a>00585                   {
<a name="l00586"></a>00586                     y = xv(num_face,3-<a class="code" href="classTraitement__particulier__NS__Profils.html#aac9789a3aa54b448b038832d0605f140">homo_dir</a>-<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00587"></a>00587                     trouve = 0;
<a name="l00588"></a>00588                     <span class="keywordflow">for</span> (j=0; j-(indic_p+1)&lt;0; j++)
<a name="l00589"></a>00589                       {
<a name="l00590"></a>00590                         <span class="keywordflow">if</span> (j==<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>)
<a name="l00591"></a>00591                           {
<a name="l00592"></a>00592                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Erreur dans la valeur du nombre de points pour le traitement particulier&quot;</span>&lt;&lt;finl;
<a name="l00593"></a>00593                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;qui est trop petite dans votre jeu de donnees=&quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a> &lt;&lt; finl;
<a name="l00594"></a>00594                             <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00595"></a>00595                           }
<a name="l00596"></a>00596                         <span class="keywordflow">if</span>(<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(y,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a85b43a3690317a2411b2b1f4da3b2264">Yu_p</a>(i,j)))
<a name="l00597"></a>00597                           {
<a name="l00598"></a>00598                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad585fb59b353e05c06ff7defaba81181">corresp_u_p</a>(i,num_face) = j;
<a name="l00599"></a>00599                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a70e9377972b2f9a4f390996501efa8be">compt_x_p</a>(i,j) ++;
<a name="l00600"></a>00600                             j=indic_p+1;
<a name="l00601"></a>00601                             trouve = 1;
<a name="l00602"></a>00602                           }
<a name="l00603"></a>00603                       }
<a name="l00604"></a>00604                     <span class="keywordflow">if</span> (trouve==0)
<a name="l00605"></a>00605                       {
<a name="l00606"></a>00606                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad585fb59b353e05c06ff7defaba81181">corresp_u_p</a>(i,num_face) = indic_p;
<a name="l00607"></a>00607                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a85b43a3690317a2411b2b1f4da3b2264">Yu_p</a>(i,indic_p)=y;
<a name="l00608"></a>00608                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a70e9377972b2f9a4f390996501efa8be">compt_x_p</a>(i,indic_p) ++;
<a name="l00609"></a>00609                         indic_p++;
<a name="l00610"></a>00610                       }
<a name="l00611"></a>00611                   }
<a name="l00612"></a>00612                 <span class="keywordflow">break</span>;
<a name="l00613"></a>00613               }
<a name="l00614"></a>00614 <span class="comment">// Pour la composante de vitesse V</span>
<a name="l00615"></a>00615             <span class="keywordflow">case</span> 1 :
<a name="l00616"></a>00616               {
<a name="l00617"></a>00617 <span class="comment">// Point avant</span>
<a name="l00618"></a>00618                 <span class="keywordflow">if</span>(xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)==<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1c3e35304b451ddba9285542dd7bc7cd">xVm</a>(i))
<a name="l00619"></a>00619                   {
<a name="l00620"></a>00620                     y = xv(num_face,3-<a class="code" href="classTraitement__particulier__NS__Profils.html#aac9789a3aa54b448b038832d0605f140">homo_dir</a>-<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00621"></a>00621                     trouve = 0;
<a name="l00622"></a>00622                     <span class="keywordflow">for</span> (j=0; j-(indicv_m+1)&lt;0; j++)
<a name="l00623"></a>00623                       {
<a name="l00624"></a>00624                         <span class="keywordflow">if</span> (j==<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>)
<a name="l00625"></a>00625                           {
<a name="l00626"></a>00626                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Erreur dans la valeur du nombre de points pour le traitement particulier&quot;</span>&lt;&lt;finl;
<a name="l00627"></a>00627                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;qui est trop petite dans votre jeu de donnees=&quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a> &lt;&lt; finl;
<a name="l00628"></a>00628                             <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00629"></a>00629                           }
<a name="l00630"></a>00630                         <span class="keywordflow">if</span>(<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(y,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae7d712081bb8cd61759087c1101bec1b">Yv_m</a>(i,j)))
<a name="l00631"></a>00631                           {
<a name="l00632"></a>00632                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5791b71433b5f905378311776a912f8a">corresp_v_m</a>(i,num_face) = j;
<a name="l00633"></a>00633                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a939e938d996e94f54e622a9bbad80158">compt_y_m</a>(i,j) ++;
<a name="l00634"></a>00634                             j=indicv_m+1;
<a name="l00635"></a>00635                             trouve = 1;
<a name="l00636"></a>00636                           }
<a name="l00637"></a>00637                       }
<a name="l00638"></a>00638                     <span class="keywordflow">if</span> (trouve==0)
<a name="l00639"></a>00639                       {
<a name="l00640"></a>00640                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a5791b71433b5f905378311776a912f8a">corresp_v_m</a>(i,num_face) = indicv_m;
<a name="l00641"></a>00641                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae7d712081bb8cd61759087c1101bec1b">Yv_m</a>(i,indicv_m)=y;
<a name="l00642"></a>00642                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a939e938d996e94f54e622a9bbad80158">compt_y_m</a>(i,indicv_m) ++;
<a name="l00643"></a>00643                         indicv_m++;
<a name="l00644"></a>00644                       }
<a name="l00645"></a>00645                   }
<a name="l00646"></a>00646 <span class="comment">// Point apres</span>
<a name="l00647"></a>00647                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)==<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a1fd2587df01659c11f662adec5d39471">xVp</a>(i))
<a name="l00648"></a>00648                   {
<a name="l00649"></a>00649                     y = xv(num_face,3-<a class="code" href="classTraitement__particulier__NS__Profils.html#aac9789a3aa54b448b038832d0605f140">homo_dir</a>-<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00650"></a>00650                     trouve = 0;
<a name="l00651"></a>00651                     <span class="keywordflow">for</span> (j=0; j-(indicv_p+1)&lt;0; j++)
<a name="l00652"></a>00652                       {
<a name="l00653"></a>00653                         <span class="keywordflow">if</span> (j==<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>)
<a name="l00654"></a>00654                           {
<a name="l00655"></a>00655                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Erreur dans la valeur du nombre de points pour le traitement particulier&quot;</span>&lt;&lt;finl;
<a name="l00656"></a>00656                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;qui est trop petite dans votre jeu de donnees=&quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a> &lt;&lt; finl;
<a name="l00657"></a>00657                             <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00658"></a>00658                           }
<a name="l00659"></a>00659                         <span class="keywordflow">if</span>(<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(y,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae09575edda967177966d923602a4a12b">Yv_p</a>(i,j)))
<a name="l00660"></a>00660                           {
<a name="l00661"></a>00661                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad66150c2fe81aea076b49959eacf4fe1">corresp_v_p</a>(i,num_face) = j;
<a name="l00662"></a>00662                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a298b2972ad7da21f0973c672da7716f8">compt_y_p</a>(i,j) ++;
<a name="l00663"></a>00663                             j=indicv_p+1;
<a name="l00664"></a>00664                             trouve = 1;
<a name="l00665"></a>00665                           }
<a name="l00666"></a>00666                       }
<a name="l00667"></a>00667                     <span class="keywordflow">if</span> (trouve==0)
<a name="l00668"></a>00668                       {
<a name="l00669"></a>00669                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad66150c2fe81aea076b49959eacf4fe1">corresp_v_p</a>(i,num_face) = indicv_p;
<a name="l00670"></a>00670                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ae09575edda967177966d923602a4a12b">Yv_p</a>(i,indicv_p)=y;
<a name="l00671"></a>00671                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a298b2972ad7da21f0973c672da7716f8">compt_y_p</a>(i,indicv_p) ++;
<a name="l00672"></a>00672                         indicv_p++;
<a name="l00673"></a>00673                       }
<a name="l00674"></a>00674                   }
<a name="l00675"></a>00675                 <span class="keywordflow">break</span>;
<a name="l00676"></a>00676               }
<a name="l00677"></a>00677 <span class="comment">// Pour la composante de vitesse W</span>
<a name="l00678"></a>00678             <span class="keywordflow">case</span> 2 :
<a name="l00679"></a>00679               {
<a name="l00680"></a>00680 <span class="comment">// Point avant</span>
<a name="l00681"></a>00681                 <span class="keywordflow">if</span>(xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)==<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ad34f0a54405f519d20207e720bab0ea6">xWm</a>(i))
<a name="l00682"></a>00682                   {
<a name="l00683"></a>00683                     y = xv(num_face,3-<a class="code" href="classTraitement__particulier__NS__Profils.html#aac9789a3aa54b448b038832d0605f140">homo_dir</a>-<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00684"></a>00684                     trouve = 0;
<a name="l00685"></a>00685                     <span class="keywordflow">for</span> (j=0; j-(indicw_m+1)&lt;0; j++)
<a name="l00686"></a>00686                       {
<a name="l00687"></a>00687                         <span class="keywordflow">if</span> (j==<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>)
<a name="l00688"></a>00688                           {
<a name="l00689"></a>00689                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Erreur dans la valeur du nombre de points pour le traitement particulier&quot;</span>&lt;&lt;finl;
<a name="l00690"></a>00690                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;qui est trop petite dans votre jeu de donnees=&quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a> &lt;&lt; finl;
<a name="l00691"></a>00691                             <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00692"></a>00692                           }
<a name="l00693"></a>00693                         <span class="keywordflow">if</span>(<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(y,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9e146979ba2fcf3fe5921f662e11afa8">Yw_m</a>(i,j)))
<a name="l00694"></a>00694                           {
<a name="l00695"></a>00695                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a33ed7a6cc944e7d325dcb5af572baee8">corresp_w_m</a>(i,num_face) = j;
<a name="l00696"></a>00696                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a016473eae502a3e1cfd67c4b5c9e3b28">compt_z_m</a>(i,j) ++;
<a name="l00697"></a>00697                             j=indicw_m+1;
<a name="l00698"></a>00698                             trouve = 1;
<a name="l00699"></a>00699                           }
<a name="l00700"></a>00700                       }
<a name="l00701"></a>00701                     <span class="keywordflow">if</span> (trouve==0)
<a name="l00702"></a>00702                       {
<a name="l00703"></a>00703                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a33ed7a6cc944e7d325dcb5af572baee8">corresp_w_m</a>(i,num_face) = indicw_m;
<a name="l00704"></a>00704                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a9e146979ba2fcf3fe5921f662e11afa8">Yw_m</a>(i,indicw_m)=y;
<a name="l00705"></a>00705                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a016473eae502a3e1cfd67c4b5c9e3b28">compt_z_m</a>(i,indicw_m) ++;
<a name="l00706"></a>00706                         indicw_m++;
<a name="l00707"></a>00707                       }
<a name="l00708"></a>00708                   }
<a name="l00709"></a>00709 <span class="comment">// Point apres</span>
<a name="l00710"></a>00710                 <span class="keywordflow">else</span> <span class="keywordflow">if</span>(xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)==<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af11b44e7003388c875469e8f0707884c">xWp</a>(i))
<a name="l00711"></a>00711                   {
<a name="l00712"></a>00712                     y = xv(num_face,3-<a class="code" href="classTraitement__particulier__NS__Profils.html#aac9789a3aa54b448b038832d0605f140">homo_dir</a>-<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00713"></a>00713                     trouve = 0;
<a name="l00714"></a>00714                     <span class="keywordflow">for</span> (j=0; j-(indicw_p+1)&lt;0; j++)
<a name="l00715"></a>00715                       {
<a name="l00716"></a>00716                         <span class="keywordflow">if</span> (j==<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>)
<a name="l00717"></a>00717                           {
<a name="l00718"></a>00718                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Erreur dans la valeur du nombre de points pour le traitement particulier&quot;</span>&lt;&lt;finl;
<a name="l00719"></a>00719                             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot;qui est trop petite dans votre jeu de donnees=&quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a> &lt;&lt; finl;
<a name="l00720"></a>00720                             <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00721"></a>00721                           }
<a name="l00722"></a>00722                         <span class="keywordflow">if</span>(<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(y,<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a044b8bf06121276eeee8adcca152541c">Yw_p</a>(i,j)))
<a name="l00723"></a>00723                           {
<a name="l00724"></a>00724                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#afb7ed61df361fef7bf3a9d165166afb8">corresp_w_p</a>(i,num_face) = j;
<a name="l00725"></a>00725                             <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac4573d227837f9a784f317fc9f88b6c4">compt_z_p</a>(i,j) ++;
<a name="l00726"></a>00726                             j=indicw_p+1;
<a name="l00727"></a>00727                             trouve = 1;
<a name="l00728"></a>00728                           }
<a name="l00729"></a>00729                       }
<a name="l00730"></a>00730                     <span class="keywordflow">if</span> (trouve==0)
<a name="l00731"></a>00731                       {
<a name="l00732"></a>00732                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#afb7ed61df361fef7bf3a9d165166afb8">corresp_w_p</a>(i,num_face) = indicw_p;
<a name="l00733"></a>00733                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a044b8bf06121276eeee8adcca152541c">Yw_p</a>(i,indicw_p)=y;
<a name="l00734"></a>00734                         <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac4573d227837f9a784f317fc9f88b6c4">compt_z_p</a>(i,indicw_p) ++;
<a name="l00735"></a>00735                         indicw_p++;
<a name="l00736"></a>00736                       }
<a name="l00737"></a>00737                   }
<a name="l00738"></a>00738                 <span class="keywordflow">break</span>;
<a name="l00739"></a>00739               }
<a name="l00740"></a>00740             <span class="keywordflow">default</span> :
<a name="l00741"></a>00741               {
<a name="l00742"></a>00742                 <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Cas de figure impossible...&quot;</span> &lt;&lt; finl;
<a name="l00743"></a>00743                 <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00744"></a>00744                 <span class="keywordflow">break</span>;
<a name="l00745"></a>00745               }
<a name="l00746"></a>00746             }<span class="comment">//Fin du switch</span>
<a name="l00747"></a>00747         }<span class="comment">//Fin de boucle sur faces</span>
<a name="l00748"></a>00748 
<a name="l00749"></a>00749 
<a name="l00750"></a>00750 <span class="comment">// Boucle sur les elements pour table de correspondance pour nu_t et temperature</span>
<a name="l00751"></a>00751       <span class="keywordflow">for</span> (num_elem=0; num_elem&lt;nb_elems; num_elem++)
<a name="l00752"></a>00752         {
<a name="l00753"></a>00753 <span class="comment">// Point avant</span>
<a name="l00754"></a>00754           <span class="keywordflow">if</span>(xp(num_elem,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)==<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a0771d4feb12c1e0c5204ab09b0c901a5">xUVm</a>(i))
<a name="l00755"></a>00755             {
<a name="l00756"></a>00756               y = xp(num_elem,3-<a class="code" href="classTraitement__particulier__NS__Profils.html#aac9789a3aa54b448b038832d0605f140">homo_dir</a>-<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00757"></a>00757               trouve = 0;
<a name="l00758"></a>00758               <span class="keywordflow">for</span> (j=0; j-(indicuv_m+1)&lt;0; j++)
<a name="l00759"></a>00759                 {
<a name="l00760"></a>00760                   <span class="keywordflow">if</span>(y==<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af92dccfa229f0e4801e1e53a3b217263" title="Coordonnees des points ou est definie la vitesse.">Yuv_m</a>(i,j))
<a name="l00761"></a>00761                     {
<a name="l00762"></a>00762                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af63fcebc719662a04accc3ef17677ab7" title="Correspondance numerotation globale -&gt; numerotation locale dans Yxx.">corresp_uv_m</a>(i,num_elem) = j;
<a name="l00763"></a>00763                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a4031eb0b77d9d980d1ba96901b5451c8" title="Nombre de points a &quot;meme Y&quot; pour chaque grandeur.">compt_uv_m</a>(i,j) ++;
<a name="l00764"></a>00764                       j=indicuv_m+1;
<a name="l00765"></a>00765                       trouve = 1;
<a name="l00766"></a>00766                     }
<a name="l00767"></a>00767                 }
<a name="l00768"></a>00768               <span class="keywordflow">if</span> (trouve==0)
<a name="l00769"></a>00769                 {
<a name="l00770"></a>00770                   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af63fcebc719662a04accc3ef17677ab7" title="Correspondance numerotation globale -&gt; numerotation locale dans Yxx.">corresp_uv_m</a>(i,num_elem) = indicuv_m;
<a name="l00771"></a>00771                   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#af92dccfa229f0e4801e1e53a3b217263" title="Coordonnees des points ou est definie la vitesse.">Yuv_m</a>(i,indicuv_m)=y;
<a name="l00772"></a>00772                   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a4031eb0b77d9d980d1ba96901b5451c8" title="Nombre de points a &quot;meme Y&quot; pour chaque grandeur.">compt_uv_m</a>(i,indicuv_m) ++;
<a name="l00773"></a>00773                   indicuv_m++;
<a name="l00774"></a>00774                 }
<a name="l00775"></a>00775             }
<a name="l00776"></a>00776 <span class="comment">// Point apres</span>
<a name="l00777"></a>00777           <span class="keywordflow">if</span>(xp(num_elem,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)==<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ac6f7f846b4283c0dbd9a8c240fd46961" title="Positions des points juste avant et apres.">xUVp</a>(i))
<a name="l00778"></a>00778             {
<a name="l00779"></a>00779               y = xp(num_elem,3-<a class="code" href="classTraitement__particulier__NS__Profils.html#aac9789a3aa54b448b038832d0605f140">homo_dir</a>-<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>);
<a name="l00780"></a>00780               trouve = 0;
<a name="l00781"></a>00781               <span class="keywordflow">for</span> (j=0; j-(indicuv_p+1)&lt;0; j++)
<a name="l00782"></a>00782                 {
<a name="l00783"></a>00783                   <span class="keywordflow">if</span>(y==<a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab40046672228127ff1e493732e54b43f">Yuv_p</a>(i,j))
<a name="l00784"></a>00784                     {
<a name="l00785"></a>00785                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab3b8d654ea383c4a86eb1bdbd8384469">corresp_uv_p</a>(i,num_elem) = j;
<a name="l00786"></a>00786                       <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a77fd16eaacdfa52b66fd2eef0ee30815">compt_uv_p</a>(i,j) ++;
<a name="l00787"></a>00787                       j=indicuv_p+1;
<a name="l00788"></a>00788                       trouve = 1;
<a name="l00789"></a>00789                     }
<a name="l00790"></a>00790                 }
<a name="l00791"></a>00791               <span class="keywordflow">if</span> (trouve==0)
<a name="l00792"></a>00792                 {
<a name="l00793"></a>00793                   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab3b8d654ea383c4a86eb1bdbd8384469">corresp_uv_p</a>(i,num_elem) = indicuv_p;
<a name="l00794"></a>00794                   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab40046672228127ff1e493732e54b43f">Yuv_p</a>(i,indicuv_p)=y;
<a name="l00795"></a>00795                   <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a77fd16eaacdfa52b66fd2eef0ee30815">compt_uv_p</a>(i,indicuv_p) ++;
<a name="l00796"></a>00796                   indicuv_p++;
<a name="l00797"></a>00797                 }
<a name="l00798"></a>00798             }
<a name="l00799"></a>00799         }<span class="comment">//Fin de boucle sur elements</span>
<a name="l00800"></a>00800 
<a name="l00801"></a>00801 
<a name="l00802"></a>00802 <span class="comment">// Verification pour voir si avant et apres le profil on a le meme nombre de points...</span>
<a name="l00803"></a>00803 <span class="comment">// Ce n&#39;est pas le cas si par exemple on a une marche et un profil juste sur l&#39;arete :</span>
<a name="l00804"></a>00804 <span class="comment">// dans ce cas, on a plus de points du cote du bas de la marche que du cote du haut de la marche.</span>
<a name="l00805"></a>00805       <span class="keywordflow">if</span>(indic_p!=indic_m)
<a name="l00806"></a>00806         {
<a name="l00807"></a>00807           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;indic_m = &quot;</span> &lt;&lt; indic_m &lt;&lt; <span class="stringliteral">&quot; != indic_p = &quot;</span> &lt;&lt; indic_p &lt;&lt; finl;
<a name="l00808"></a>00808           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Problem : move profile at position &quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i) &lt;&lt;<span class="stringliteral">&quot; !&quot;</span> &lt;&lt; finl;
<a name="l00809"></a>00809           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00810"></a>00810         }
<a name="l00811"></a>00811       <span class="keywordflow">if</span>(indicv_p!=indicv_m)
<a name="l00812"></a>00812         {
<a name="l00813"></a>00813           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;indicv_m = &quot;</span> &lt;&lt; indicv_m &lt;&lt; <span class="stringliteral">&quot; != indicv_p = &quot;</span> &lt;&lt; indicv_p &lt;&lt; finl;
<a name="l00814"></a>00814           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Problem : move profile at position &quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i) &lt;&lt;<span class="stringliteral">&quot; !&quot;</span> &lt;&lt; finl;
<a name="l00815"></a>00815           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00816"></a>00816         }
<a name="l00817"></a>00817       <span class="keywordflow">if</span>(indicw_p!=indicw_m)
<a name="l00818"></a>00818         {
<a name="l00819"></a>00819           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;indicw_m = &quot;</span> &lt;&lt; indicw_m &lt;&lt; <span class="stringliteral">&quot; != indicw_p = &quot;</span> &lt;&lt; indicw_p &lt;&lt; finl;
<a name="l00820"></a>00820           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Problem : move profile at position &quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i) &lt;&lt;<span class="stringliteral">&quot; !&quot;</span> &lt;&lt; finl;
<a name="l00821"></a>00821           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00822"></a>00822         }
<a name="l00823"></a>00823       <span class="keywordflow">if</span>(indicuv_p!=indicuv_m)
<a name="l00824"></a>00824         {
<a name="l00825"></a>00825           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;indicuv_m = &quot;</span> &lt;&lt; indicuv_m &lt;&lt; <span class="stringliteral">&quot; != indicuv_p = &quot;</span> &lt;&lt; indicuv_p &lt;&lt; finl;
<a name="l00826"></a>00826           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Problem : move profile at position &quot;</span> &lt;&lt; <a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i) &lt;&lt;<span class="stringliteral">&quot; !&quot;</span> &lt;&lt; finl;
<a name="l00827"></a>00827           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00828"></a>00828         }
<a name="l00829"></a>00829 
<a name="l00830"></a>00830       <a class="code" href="classTraitement__particulier__NS__Profils.html#a120aca9782d3e59872c085163beb46fc">Nxy</a>(i) = indic_m;    <span class="comment">//!&lt; nombre de y pour umoy</span>
<a name="l00831"></a>00831 <span class="comment"></span>      <a class="code" href="classTraitement__particulier__NS__Profils.html#afffcc0fb24dd95986203d70bfaba9094">Nyy</a>(i) = indicv_m;
<a name="l00832"></a>00832       <a class="code" href="classTraitement__particulier__NS__Profils.html#a2e6e28ce35a7d1a0ba266a34a110a835">Nzy</a>(i) = indicw_m;
<a name="l00833"></a>00833       <a class="code" href="classTraitement__particulier__NS__Profils.html#a7fadf8cc84f903e8ea38d3e8d212d3fe">Nuv</a>(i) = indicuv_m;  <span class="comment">//!&lt; nombre de y pour uv_moy (et pour nu_t!!)</span>
<a name="l00834"></a>00834 <span class="comment"></span>
<a name="l00835"></a>00835     }<span class="comment">//Fin de boucle sur probes</span>
<a name="l00836"></a>00836 }
<a name="l00837"></a>00837 
<a name="l00838"></a>00838 
<a name="l00839"></a>00839 
<a name="l00840"></a>00840 
<a name="l00841"></a>00841 
<a name="l00842"></a>00842 
<a name="l00843"></a>00843 
<a name="l00844"></a>00844 
<a name="l00845"></a>00845 <span class="comment">// ####################################################################################################################</span>
<a name="l00846"></a>00846 
<a name="l00847"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a09e11632e6c4f426b70cfe2272eb8715">00847</a> <span class="keywordtype">void</span> <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a09e11632e6c4f426b70cfe2272eb8715">Traitement_particulier_NS_Profils_VDF::calculer_moyenne_spatiale_nut</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; u_moy, <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; corresp, <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; compt, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; tab_Nuv, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xUV)
<a name="l00848"></a>00848 {
<a name="l00849"></a>00849   <span class="keywordtype">int</span> i,j;
<a name="l00850"></a>00850   <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; zdisbase=<a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().zone_dis_base();
<a name="l00851"></a>00851   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zone_VDF=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>, zdisbase);
<a name="l00852"></a>00852   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xp = zone_VDF.<a class="code" href="classZone__VF.html#a87a29f0223c71256a25ee343c9277599">xp</a>();
<a name="l00853"></a>00853 
<a name="l00854"></a>00854   <span class="keyword">const</span> <a class="code" href="classRef__Objet__U.html">RefObjU</a>&amp; modele_turbulence = <a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>.<a class="code" href="classRef__Navier__Stokes__std.html#a7cb24862c019165f3841afc64fe94c81">valeur</a>().<a class="code" href="classEquation__base.html#ab0bb5d06bdc91e131dc9d5f9d7b57095">get_modele</a>(<a class="code" href="Equation__base_8h.html#a2c9d34b2cc47e5b2b18347de20a77db5a0fecbd75e0b8b4c37ffd696e173a14c7">TURBULENCE</a>);
<a name="l00855"></a>00855   <span class="keyword">const</span> <a class="code" href="classMod__turb__hyd__base.html" title="Classe Mod_turb_hyd_base Cette classe sert de base a la hierarchie des classes qui representent un mo...">Mod_turb_hyd_base</a>&amp; mod_turb = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classMod__turb__hyd__base.html" title="Classe Mod_turb_hyd_base Cette classe sert de base a la hierarchie des classes qui representent un mo...">Mod_turb_hyd_base</a>,modele_turbulence.<a class="code" href="classRef__Objet__U.html#ad875112c0fd275aa0c0aa710481ab11e">valeur</a>());
<a name="l00856"></a>00856   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; nu_t = mod_turb.<a class="code" href="classMod__turb__hyd__base.html#a10bc51357037ef84800c74ed5e3302d0" title="Renvoie la viscosite turbulente.">viscosite_turbulente</a>()-&gt;<a class="code" href="classChamp__Fonc.html#a60b75eadb0987d488884e24fcb72d1e5" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>();
<a name="l00857"></a>00857 
<a name="l00858"></a>00858   <span class="keywordtype">int</span> nb_elems = zone_VDF.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>();
<a name="l00859"></a>00859   <span class="keywordtype">int</span> num_elem;
<a name="l00860"></a>00860 
<a name="l00861"></a>00861   u_moy = 0.;
<a name="l00862"></a>00862   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l00863"></a>00863     {
<a name="l00864"></a>00864 <span class="comment">// Calcul de nut</span>
<a name="l00865"></a>00865       <span class="keywordflow">for</span> (num_elem=0; num_elem&lt;nb_elems; num_elem++)
<a name="l00866"></a>00866         <span class="keywordflow">if</span>(xp(num_elem,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)==xUV(i))
<a name="l00867"></a>00867           {
<a name="l00868"></a>00868             u_moy(i,corresp(i,num_elem)) += nu_t[num_elem];
<a name="l00869"></a>00869           }
<a name="l00870"></a>00870     } <span class="comment">//!&lt; on a parcouru tous les profils</span>
<a name="l00871"></a>00871 <span class="comment"></span>
<a name="l00872"></a>00872 
<a name="l00873"></a>00873 <span class="comment">// POUR LE PARALLELE</span>
<a name="l00874"></a>00874   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> compt_p(compt);
<a name="l00875"></a>00875   <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(compt_p,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(),0,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>());
<a name="l00876"></a>00876 
<a name="l00877"></a>00877   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_p(u_moy);
<a name="l00878"></a>00878   <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(u_moy_p,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(),0,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>());
<a name="l00879"></a>00879 
<a name="l00880"></a>00880   <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">je_suis_maitre</a>())
<a name="l00881"></a>00881     {
<a name="l00882"></a>00882       <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> compt_tot(compt);
<a name="l00883"></a>00883       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_tot(u_moy);
<a name="l00884"></a>00884 
<a name="l00885"></a>00885       compt_tot=0;
<a name="l00886"></a>00886       u_moy_tot=0.;
<a name="l00887"></a>00887 
<a name="l00888"></a>00888       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p=0; p&lt;<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>(); p++)
<a name="l00889"></a>00889         {
<a name="l00890"></a>00890           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(compt_p,p,0,p);
<a name="l00891"></a>00891           compt_tot+=compt_p;
<a name="l00892"></a>00892 
<a name="l00893"></a>00893           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(u_moy_p,p,0,p);
<a name="l00894"></a>00894           u_moy_tot+=u_moy_p;
<a name="l00895"></a>00895         }
<a name="l00896"></a>00896 
<a name="l00897"></a>00897       <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l00898"></a>00898         <span class="keywordflow">for</span> (j=0; j&lt;tab_Nuv(i); j++)
<a name="l00899"></a>00899           u_moy(i,j) = u_moy_tot(i,j)/compt_tot(i,j);
<a name="l00900"></a>00900 
<a name="l00901"></a>00901     }
<a name="l00902"></a>00902 <span class="comment">// FIN DU PARALLELE</span>
<a name="l00903"></a>00903 
<a name="l00904"></a>00904 }
<a name="l00905"></a>00905 
<a name="l00906"></a>00906 
<a name="l00907"></a>00907 
<a name="l00908"></a>00908 
<a name="l00909"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a74cf82cb6e477053d2cf0b58e69520c3">00909</a> <span class="keywordtype">void</span> <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a74cf82cb6e477053d2cf0b58e69520c3">Traitement_particulier_NS_Profils_VDF::calculer_moyenne_spatiale_vitesse</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; u_moy,<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; u_moy_2,<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; u_moy_3,<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; u_moy_4, <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; corresp, <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; compt, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; NN, <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; ori, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xU)
<a name="l00910"></a>00910 {
<a name="l00911"></a>00911   <span class="keywordtype">int</span> i,j;
<a name="l00912"></a>00912   <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; zdisbase=<a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().zone_dis_base();
<a name="l00913"></a>00913   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zone_VDF=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>, zdisbase);
<a name="l00914"></a>00914   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xv = zone_VDF.<a class="code" href="classZone__VF.html#a918c0885a9b67317fcce3a0535306542">xv</a>();
<a name="l00915"></a>00915 
<a name="l00916"></a>00916   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; vitesse = <a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().valeurs();
<a name="l00917"></a>00917   <span class="keywordtype">int</span> nb_faces = zone_VDF.<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>();
<a name="l00918"></a>00918   <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; orientation = zone_VDF.<a class="code" href="classZone__VDF.html#a9a9bd747218e463b3408a3590c12814c" title="inline DoubleVect&amp; Zone_VDF::porosite_face() { return porosite_face_; }">orientation</a>();
<a name="l00919"></a>00919 
<a name="l00920"></a>00920   <span class="keywordtype">int</span> num_face,ori_face;
<a name="l00921"></a>00921   <span class="keywordtype">double</span> vit;
<a name="l00922"></a>00922 
<a name="l00923"></a>00923   u_moy = 0.;
<a name="l00924"></a>00924   u_moy_2 = 0.;
<a name="l00925"></a>00925 
<a name="l00926"></a>00926   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l00927"></a>00927     {
<a name="l00928"></a>00928       <span class="keywordflow">for</span>(num_face=0; num_face&lt;nb_faces; num_face++)
<a name="l00929"></a>00929         {
<a name="l00930"></a>00930           ori_face = orientation[num_face];
<a name="l00931"></a>00931           <span class="keywordflow">if</span> ((ori_face==ori)&amp;&amp;(xv(num_face,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)==xU(i)))
<a name="l00932"></a>00932             {
<a name="l00933"></a>00933               vit = vitesse[num_face];
<a name="l00934"></a>00934               u_moy(i,corresp(i,num_face)) += vit;
<a name="l00935"></a>00935               u_moy_2(i,corresp(i,num_face)) += vit*vit;
<a name="l00936"></a>00936               u_moy_3(i,corresp(i,num_face)) += vit*vit*vit;
<a name="l00937"></a>00937               u_moy_4(i,corresp(i,num_face)) += vit*vit*vit*vit;
<a name="l00938"></a>00938             }
<a name="l00939"></a>00939         }
<a name="l00940"></a>00940     }<span class="comment">//!&lt; On a parcouru tous les profils</span>
<a name="l00941"></a>00941 <span class="comment"></span>
<a name="l00942"></a>00942 <span class="comment">// POUR LE PARALLELE</span>
<a name="l00943"></a>00943   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> compt_p(compt);
<a name="l00944"></a>00944   <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(compt_p,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(),0,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>());
<a name="l00945"></a>00945 
<a name="l00946"></a>00946   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_p(u_moy);
<a name="l00947"></a>00947   <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(u_moy_p,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(),0,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>());
<a name="l00948"></a>00948 
<a name="l00949"></a>00949   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_2_p(u_moy_2);
<a name="l00950"></a>00950   <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(u_moy_2_p,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(),0,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>());
<a name="l00951"></a>00951 
<a name="l00952"></a>00952   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_3_p(u_moy_3);
<a name="l00953"></a>00953   <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(u_moy_3_p,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(),0,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>());
<a name="l00954"></a>00954 
<a name="l00955"></a>00955   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_4_p(u_moy_4);
<a name="l00956"></a>00956   <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(u_moy_4_p,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(),0,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>());
<a name="l00957"></a>00957 
<a name="l00958"></a>00958   <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">je_suis_maitre</a>())
<a name="l00959"></a>00959     {
<a name="l00960"></a>00960       <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> compt_tot(compt);
<a name="l00961"></a>00961       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_tot(u_moy);
<a name="l00962"></a>00962       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_2_tot(u_moy_2);
<a name="l00963"></a>00963       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_3_tot(u_moy_3);
<a name="l00964"></a>00964       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_4_tot(u_moy_4);
<a name="l00965"></a>00965 
<a name="l00966"></a>00966       compt_tot=0;
<a name="l00967"></a>00967       u_moy_tot=0.;
<a name="l00968"></a>00968       u_moy_2_tot=0.;
<a name="l00969"></a>00969       u_moy_3_tot=0.;
<a name="l00970"></a>00970       u_moy_4_tot=0.;
<a name="l00971"></a>00971 
<a name="l00972"></a>00972       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p=0; p&lt;<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>(); p++)
<a name="l00973"></a>00973         {
<a name="l00974"></a>00974           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(compt_p,p,0,p);
<a name="l00975"></a>00975           compt_tot+=compt_p;
<a name="l00976"></a>00976 
<a name="l00977"></a>00977           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(u_moy_p,p,0,p);
<a name="l00978"></a>00978           u_moy_tot+=u_moy_p;
<a name="l00979"></a>00979 
<a name="l00980"></a>00980           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(u_moy_2_p,p,0,p);
<a name="l00981"></a>00981           u_moy_2_tot+=u_moy_2_p;
<a name="l00982"></a>00982 
<a name="l00983"></a>00983           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(u_moy_3_p,p,0,p);
<a name="l00984"></a>00984           u_moy_3_tot+=u_moy_3_p;
<a name="l00985"></a>00985 
<a name="l00986"></a>00986           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(u_moy_4_p,p,0,p);
<a name="l00987"></a>00987           u_moy_4_tot+=u_moy_4_p;
<a name="l00988"></a>00988         }
<a name="l00989"></a>00989 
<a name="l00990"></a>00990       <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l00991"></a>00991         <span class="keywordflow">for</span> (j=0; j&lt;NN(i); j++)
<a name="l00992"></a>00992           {
<a name="l00993"></a>00993             u_moy(i,j) = u_moy_tot(i,j)/compt_tot(i,j);
<a name="l00994"></a>00994             u_moy_2(i,j) = u_moy_2_tot(i,j)/compt_tot(i,j);
<a name="l00995"></a>00995             u_moy_3(i,j) = u_moy_3_tot(i,j)/compt_tot(i,j);
<a name="l00996"></a>00996             u_moy_4(i,j) = u_moy_4_tot(i,j)/compt_tot(i,j);
<a name="l00997"></a>00997           }
<a name="l00998"></a>00998     }
<a name="l00999"></a>00999 <span class="comment">// FIN DU PARALLELE</span>
<a name="l01000"></a>01000 
<a name="l01001"></a>01001 <span class="comment">// commente par guillaume</span>
<a name="l01002"></a>01002 <span class="comment">// Calcul de uprime2 ou vprime2 ou wprime2</span>
<a name="l01003"></a>01003 <span class="comment">// for (j=0;j&lt;NN(i);j++)</span>
<a name="l01004"></a>01004 <span class="comment">// u_moy_2(i,j) -= u_moy(i,j)*u_moy(i,j);</span>
<a name="l01005"></a>01005 }
<a name="l01006"></a>01006 
<a name="l01007"></a>01007 
<a name="l01008"></a>01008 
<a name="l01009"></a>01009 
<a name="l01010"></a>01010 
<a name="l01011"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a587b2b6fd24fdd3528967d13a0ad7109">01011</a> <span class="keywordtype">void</span> <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a587b2b6fd24fdd3528967d13a0ad7109">Traitement_particulier_NS_Profils_VDF::calculer_moyenne_spatiale_uv</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; uv_moy, <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; corresp, <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; compt, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; NN , <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xUV)
<a name="l01012"></a>01012 {
<a name="l01013"></a>01013   <span class="keywordtype">int</span> i,j;
<a name="l01014"></a>01014   <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; zdisbase=<a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().zone_dis_base();
<a name="l01015"></a>01015   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zone_VDF=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>, zdisbase);
<a name="l01016"></a>01016   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xp = zone_VDF.<a class="code" href="classZone__VF.html#a87a29f0223c71256a25ee343c9277599">xp</a>();
<a name="l01017"></a>01017 
<a name="l01018"></a>01018   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; vitesse = <a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().valeurs();
<a name="l01019"></a>01019   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elem_faces = zone_VDF.<a class="code" href="classZone__VF.html#a067e462dcd3ab92b0f6d945b19e4eb37" title="renvoie le numero de le ieme face de la maille num_elem la facon dont ces faces sont numerotees est l...">elem_faces</a>();
<a name="l01020"></a>01020 
<a name="l01021"></a>01021   <span class="keywordtype">int</span> nb_elems = zone_VDF.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>();
<a name="l01022"></a>01022   <span class="keywordtype">int</span> num_elem;
<a name="l01023"></a>01023   <span class="keywordtype">int</span> face_u_0,face_u_1,face_v_0,face_v_1;
<a name="l01024"></a>01024   <span class="keywordtype">double</span> vitu,vitv;
<a name="l01025"></a>01025 
<a name="l01026"></a>01026   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_cent(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l01027"></a>01027   u_moy_cent= 0.;
<a name="l01028"></a>01028   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> v_moy_cent(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>);
<a name="l01029"></a>01029   v_moy_cent= 0.;
<a name="l01030"></a>01030   uv_moy = 0.;
<a name="l01031"></a>01031 
<a name="l01032"></a>01032   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l01033"></a>01033     {
<a name="l01034"></a>01034 <span class="comment">// Calcul de uv</span>
<a name="l01035"></a>01035       <span class="keywordflow">for</span> (num_elem=0; num_elem&lt;nb_elems; num_elem++)
<a name="l01036"></a>01036         {
<a name="l01037"></a>01037           <span class="keywordflow">if</span>(xp(num_elem,<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)==xUV(i))
<a name="l01038"></a>01038             {
<a name="l01039"></a>01039               face_u_0 = elem_faces(num_elem,0);
<a name="l01040"></a>01040               face_u_1 = elem_faces(num_elem,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l01041"></a>01041               vitu = 0.5*(vitesse[face_u_0]+vitesse[face_u_1]);
<a name="l01042"></a>01042               face_v_0 = elem_faces(num_elem,1);
<a name="l01043"></a>01043               face_v_1 = elem_faces(num_elem,1+<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l01044"></a>01044               vitv = 0.5*(vitesse[face_v_0]+vitesse[face_v_1]);
<a name="l01045"></a>01045               uv_moy(i,corresp(i,num_elem)) += vitu*vitv;
<a name="l01046"></a>01046               u_moy_cent(i,corresp(i,num_elem)) += vitu;
<a name="l01047"></a>01047               v_moy_cent(i,corresp(i,num_elem)) += vitv;
<a name="l01048"></a>01048             }
<a name="l01049"></a>01049         }
<a name="l01050"></a>01050     } <span class="comment">//!&lt; On a parcouru tous les profils</span>
<a name="l01051"></a>01051 <span class="comment"></span>
<a name="l01052"></a>01052 <span class="comment">// POUR LE PARALLELE</span>
<a name="l01053"></a>01053   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> compt_p(compt);
<a name="l01054"></a>01054   <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(compt_p,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(),0,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>());
<a name="l01055"></a>01055 
<a name="l01056"></a>01056   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> uv_moy_p(uv_moy);
<a name="l01057"></a>01057   <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(uv_moy_p,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(),0,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>());
<a name="l01058"></a>01058 
<a name="l01059"></a>01059   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_cent_p(u_moy_cent);
<a name="l01060"></a>01060   <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(u_moy_cent_p,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(),0,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>());
<a name="l01061"></a>01061 
<a name="l01062"></a>01062   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> v_moy_cent_p(v_moy_cent);
<a name="l01063"></a>01063   <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(v_moy_cent_p,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(),0,<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>());
<a name="l01064"></a>01064 
<a name="l01065"></a>01065   <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">je_suis_maitre</a>())
<a name="l01066"></a>01066     {
<a name="l01067"></a>01067       <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> compt_tot(compt);
<a name="l01068"></a>01068       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> uv_moy_tot(uv_moy);
<a name="l01069"></a>01069       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> u_moy_cent_tot(u_moy_cent);
<a name="l01070"></a>01070       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> v_moy_cent_tot(v_moy_cent);
<a name="l01071"></a>01071 
<a name="l01072"></a>01072       compt_tot=0;
<a name="l01073"></a>01073       uv_moy_tot=0.;
<a name="l01074"></a>01074       u_moy_cent_tot=0.;
<a name="l01075"></a>01075       v_moy_cent_tot=0.;
<a name="l01076"></a>01076 
<a name="l01077"></a>01077       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> p=0; p&lt;<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>(); p++)
<a name="l01078"></a>01078         {
<a name="l01079"></a>01079           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(compt_p,p,0,p);
<a name="l01080"></a>01080           compt_tot+=compt_p;
<a name="l01081"></a>01081 
<a name="l01082"></a>01082           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(uv_moy_p,p,0,p);
<a name="l01083"></a>01083           uv_moy_tot+=uv_moy_p;
<a name="l01084"></a>01084 
<a name="l01085"></a>01085           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(u_moy_cent_p,p,0,p);
<a name="l01086"></a>01086           u_moy_cent_tot+=u_moy_cent_p;
<a name="l01087"></a>01087 
<a name="l01088"></a>01088           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(v_moy_cent_p,p,0,p);
<a name="l01089"></a>01089           v_moy_cent_tot+=v_moy_cent_p;
<a name="l01090"></a>01090         }
<a name="l01091"></a>01091 
<a name="l01092"></a>01092       <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l01093"></a>01093         {
<a name="l01094"></a>01094           <span class="keywordflow">for</span> (j=0; j&lt;NN(i); j++)
<a name="l01095"></a>01095             {
<a name="l01096"></a>01096               uv_moy(i,j) = uv_moy_tot(i,j)/compt_tot(i,j);
<a name="l01097"></a>01097               u_moy_cent(i,j) = u_moy_cent_tot(i,j)/compt_tot(i,j);
<a name="l01098"></a>01098               v_moy_cent(i,j) = v_moy_cent_tot(i,j)/compt_tot(i,j);
<a name="l01099"></a>01099               uv_moy(i,j) *= -1.;
<a name="l01100"></a>01100             }
<a name="l01101"></a>01101           <span class="keywordflow">for</span> (j=0; j&lt;NN(i); j++)
<a name="l01102"></a>01102             uv_moy(i,j) += u_moy_cent(i,j)*v_moy_cent(i,j);
<a name="l01103"></a>01103         }
<a name="l01104"></a>01104     }
<a name="l01105"></a>01105 <span class="comment">// FIN DU PARALLELE</span>
<a name="l01106"></a>01106 
<a name="l01107"></a>01107 }
<a name="l01108"></a>01108 
<a name="l01109"></a>01109 
<a name="l01110"></a>01110 
<a name="l01111"></a>01111 
<a name="l01112"></a>01112 
<a name="l01113"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">01113</a> <span class="keywordtype">void</span> <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#acbc6628dd863351d9635dd67d22cd536">Traitement_particulier_NS_Profils_VDF::calculer_integrale_temporelle</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; u_moy_temp, <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_m, <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_p, <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; delta_m, <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; delta_p)
<a name="l01114"></a>01114 {
<a name="l01115"></a>01115   <span class="keywordtype">int</span> i,j;
<a name="l01116"></a>01116   <span class="keywordtype">double</span> dt_v = <a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;schema_temps().pas_de_temps();
<a name="l01117"></a>01117   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy(u_moy_temp);
<a name="l01118"></a>01118 
<a name="l01119"></a>01119   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l01120"></a>01120     {
<a name="l01121"></a>01121       <span class="keywordflow">for</span>(j=0; j&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9d85258ea8f63fae0c2566ee4ad0db51">Nap</a>; j++)
<a name="l01122"></a>01122         {
<a name="l01123"></a>01123           umoy(i,j)=umoy_m(i,j)*delta_m(i)/(delta_m(i)+delta_p(i));
<a name="l01124"></a>01124           umoy(i,j)+=umoy_p(i,j)*delta_p(i)/(delta_m(i)+delta_p(i));
<a name="l01125"></a>01125         }
<a name="l01126"></a>01126     }
<a name="l01127"></a>01127   <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">je_suis_maitre</a>())
<a name="l01128"></a>01128 <span class="comment">//</span>
<a name="l01129"></a>01129     u_moy_temp.<a class="code" href="classDoubleVect.html#a87fba260b7a2a4a051d7a591d19ac11d" title="x+=alpha*y sans echange_espace_virtuel">ajoute_sans_ech_esp_virt</a>(dt_v,umoy);
<a name="l01130"></a>01130 }
<a name="l01131"></a>01131 
<a name="l01132"></a>01132 
<a name="l01133"></a>01133 
<a name="l01134"></a>01134 
<a name="l01135"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab39111f76a108d4c82818879e1f054d5">01135</a> <span class="keywordtype">void</span> <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#ab39111f76a108d4c82818879e1f054d5">Traitement_particulier_NS_Profils_VDF::ecriture_fichiers_moy_spat</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_m,<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_2_m,<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_3_m,<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_4_m, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_p, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_2_p, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_3_p, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_4_p, <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; delta_m, <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; delta_p, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; NN, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Y, <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; ori)
<a name="l01136"></a>01136 {
<a name="l01137"></a>01137   <span class="keywordtype">int</span> i,j;
<a name="l01138"></a>01138 
<a name="l01139"></a>01139   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l01140"></a>01140     {
<a name="l01141"></a>01141       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_fic =<span class="stringliteral">&quot;./Space_Avg/Avg_vel_&quot;</span>;
<a name="l01142"></a>01142       <span class="keywordflow">switch</span>(ori)
<a name="l01143"></a>01143         {
<a name="l01144"></a>01144         <span class="keywordflow">case</span> 0:
<a name="l01145"></a>01145           {
<a name="l01146"></a>01146             nom_fic +=<span class="stringliteral">&quot;U_&quot;</span>;
<a name="l01147"></a>01147             <span class="keywordflow">break</span>;
<a name="l01148"></a>01148           }
<a name="l01149"></a>01149         <span class="keywordflow">case</span> 1:
<a name="l01150"></a>01150           {
<a name="l01151"></a>01151             nom_fic +=<span class="stringliteral">&quot;V_&quot;</span>;
<a name="l01152"></a>01152             <span class="keywordflow">break</span>;
<a name="l01153"></a>01153           }
<a name="l01154"></a>01154         <span class="keywordflow">case</span> 2:
<a name="l01155"></a>01155           {
<a name="l01156"></a>01156             nom_fic +=<span class="stringliteral">&quot;W_&quot;</span>;
<a name="l01157"></a>01157             <span class="keywordflow">break</span>;
<a name="l01158"></a>01158           }
<a name="l01159"></a>01159         }
<a name="l01160"></a>01160       <span class="keywordflow">switch</span>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)
<a name="l01161"></a>01161         {
<a name="l01162"></a>01162         <span class="keywordflow">case</span> 0:
<a name="l01163"></a>01163           {
<a name="l01164"></a>01164             nom_fic +=<span class="stringliteral">&quot;X_&quot;</span>;
<a name="l01165"></a>01165             <span class="keywordflow">break</span>;
<a name="l01166"></a>01166           }
<a name="l01167"></a>01167         <span class="keywordflow">case</span> 1:
<a name="l01168"></a>01168           {
<a name="l01169"></a>01169             nom_fic +=<span class="stringliteral">&quot;Y_&quot;</span>;
<a name="l01170"></a>01170             <span class="keywordflow">break</span>;
<a name="l01171"></a>01171           }
<a name="l01172"></a>01172         <span class="keywordflow">case</span> 2:
<a name="l01173"></a>01173           {
<a name="l01174"></a>01174             nom_fic +=<span class="stringliteral">&quot;Z_&quot;</span>;
<a name="l01175"></a>01175             <span class="keywordflow">break</span>;
<a name="l01176"></a>01176           }
<a name="l01177"></a>01177         }
<a name="l01178"></a>01178       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> pos  = <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i));
<a name="l01179"></a>01179       nom_fic += pos;
<a name="l01180"></a>01180       nom_fic += <span class="stringliteral">&quot;_t_&quot;</span>;
<a name="l01181"></a>01181       <span class="keywordtype">double</span> tps = <a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().temps();
<a name="l01182"></a>01182       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> temps  = <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(tps);
<a name="l01183"></a>01183       nom_fic   += temps;
<a name="l01184"></a>01184       nom_fic   += <span class="stringliteral">&quot;.dat&quot;</span>;
<a name="l01185"></a>01185 
<a name="l01186"></a>01186 <span class="comment">// Pour calculer les interpolations lineaires...</span>
<a name="l01187"></a>01187       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy(umoy_m);
<a name="l01188"></a>01188       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_2(umoy_2_m);
<a name="l01189"></a>01189       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_3(umoy_3_m);
<a name="l01190"></a>01190       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy_4(umoy_4_m);
<a name="l01191"></a>01191 
<a name="l01192"></a>01192       <span class="keywordflow">for</span>(j=0; j&lt;NN(i); j++)
<a name="l01193"></a>01193         {
<a name="l01194"></a>01194           umoy(i,j)=umoy_m(i,j)*delta_m(i)/(delta_m(i)+delta_p(i));
<a name="l01195"></a>01195           umoy(i,j)+=umoy_p(i,j)*delta_p(i)/(delta_m(i)+delta_p(i));
<a name="l01196"></a>01196           umoy_2(i,j)=umoy_2_m(i,j)*delta_m(i)/(delta_m(i)+delta_p(i));
<a name="l01197"></a>01197           umoy_2(i,j)+=umoy_2_p(i,j)*delta_p(i)/(delta_m(i)+delta_p(i));
<a name="l01198"></a>01198           umoy_3(i,j)=umoy_3_m(i,j)*delta_m(i)/(delta_m(i)+delta_p(i));
<a name="l01199"></a>01199           umoy_3(i,j)+=umoy_3_p(i,j)*delta_p(i)/(delta_m(i)+delta_p(i));
<a name="l01200"></a>01200           umoy_4(i,j)=umoy_4_m(i,j)*delta_m(i)/(delta_m(i)+delta_p(i));
<a name="l01201"></a>01201           umoy_4(i,j)+=umoy_4_p(i,j)*delta_p(i)/(delta_m(i)+delta_p(i));
<a name="l01202"></a>01202         }
<a name="l01203"></a>01203       <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">je_suis_maitre</a>())
<a name="l01204"></a>01204         {
<a name="l01205"></a>01205           <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> fic (nom_fic);
<a name="l01206"></a>01206           <span class="keywordtype">double</span> val_moy, val2,val3,val4;
<a name="l01207"></a>01207 
<a name="l01208"></a>01208           fic &lt;&lt; <span class="stringliteral">&quot;# Space Averaged Statistics&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a> ;
<a name="l01209"></a>01209           fic &lt;&lt; <span class="stringliteral">&quot;# Y       &lt;U&gt;       Urms       S=MOY[(u-umoy)^3]/(MOY[(u-umoy)^2])^3/2       F=MOY[(u-umoy)^4]/(MOY[(u-umoy)^2])^2       &quot;</span> &lt;&lt; finl ;
<a name="l01210"></a>01210 
<a name="l01211"></a>01211           <span class="keywordflow">for</span> (j=0; j&lt;NN(i)  ; j++)
<a name="l01212"></a>01212             {
<a name="l01213"></a>01213               val_moy = umoy(i,j);
<a name="l01214"></a>01214 <span class="comment">// Pour eviter NAN, on prend le dmax(,0):</span>
<a name="l01215"></a>01215               val2 = sqrt(<a class="code" href="Double_8h.html#aec69e4c89b77badf104ae9d6ae393b2c">dmax</a>(umoy_2(i,j)-val_moy*val_moy,0));
<a name="l01216"></a>01216 
<a name="l01217"></a>01217               <span class="keywordflow">if</span> (val2 ==0 )
<a name="l01218"></a>01218                 {
<a name="l01219"></a>01219                   val3=0.;
<a name="l01220"></a>01220                   val4=0.;
<a name="l01221"></a>01221                 }
<a name="l01222"></a>01222               <span class="keywordflow">else</span>
<a name="l01223"></a>01223                 {
<a name="l01224"></a>01224                   val3 = umoy_3(i,j)+2*val_moy*val_moy*val_moy-3*umoy_2(i,j)*val_moy;
<a name="l01225"></a>01225                   val3 = val3/pow(val2,3);
<a name="l01226"></a>01226 
<a name="l01227"></a>01227                   val4 = umoy_4(i,j)-4*umoy_3(i,j)*val_moy+6*umoy_2(i,j)*val_moy*val_moy-3*val_moy*val_moy*val_moy*val_moy;
<a name="l01228"></a>01228                   val4 = val4/pow(val2,4);
<a name="l01229"></a>01229                 }
<a name="l01230"></a>01230 
<a name="l01231"></a>01231               <span class="keywordflow">if</span> ((val_moy&lt;0.)&amp;&amp;(<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(val_moy)&lt;1.e-10)) val_moy=0.;
<a name="l01232"></a>01232               fic &lt;&lt; Y (i,j) &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; umoy(i,j) &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; val2 &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; val3 &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; val4 &lt;&lt; finl;
<a name="l01233"></a>01233             }
<a name="l01234"></a>01234           fic.<a class="code" href="classSortie__Fichier__base.html#a8efa6533c9a25aa6c4ee3c5f8783f5f7" title="Force l&#39;ecriture sur disque des donnees dans le tampon Utilise l&#39;implementation de la classe ofstream...">flush</a>();
<a name="l01235"></a>01235           fic.<a class="code" href="classSortie__Fichier__base.html#ac246a47c4438e3183322c20db2a3323c">close</a>();
<a name="l01236"></a>01236         } <span class="comment">//!&lt; Fin du si je suis maitre</span>
<a name="l01237"></a>01237 <span class="comment"></span>    }<span class="comment">//FIN boucle sur les probes</span>
<a name="l01238"></a>01238 }
<a name="l01239"></a>01239 
<a name="l01240"></a>01240 
<a name="l01241"></a>01241 
<a name="l01242"></a>01242 
<a name="l01243"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#afb56edc0d25ad777e2a2c75dfd835675">01243</a> <span class="keywordtype">void</span> <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#afb56edc0d25ad777e2a2c75dfd835675">Traitement_particulier_NS_Profils_VDF::ecriture_fichiers_moy_spat_1col</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_m, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_p, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Y, <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; delta_m, <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; delta_p, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; NN, <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; ori)
<a name="l01244"></a>01244 {
<a name="l01245"></a>01245   <span class="keywordtype">int</span> i,j;
<a name="l01246"></a>01246   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_fic;
<a name="l01247"></a>01247   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l01248"></a>01248     {
<a name="l01249"></a>01249       <span class="keywordflow">switch</span>(ori)
<a name="l01250"></a>01250         {
<a name="l01251"></a>01251         <span class="keywordflow">case</span> 3:
<a name="l01252"></a>01252           {
<a name="l01253"></a>01253             nom_fic =<span class="stringliteral">&quot;./Space_Avg/Avg_vel_uvp_&quot;</span>;
<a name="l01254"></a>01254             <span class="keywordflow">break</span>;
<a name="l01255"></a>01255           }
<a name="l01256"></a>01256         <span class="keywordflow">case</span> 4:
<a name="l01257"></a>01257           {
<a name="l01258"></a>01258             nom_fic =<span class="stringliteral">&quot;./Space_Avg/Avg_nut_&quot;</span>;
<a name="l01259"></a>01259             <span class="keywordflow">break</span>;
<a name="l01260"></a>01260           }
<a name="l01261"></a>01261         }
<a name="l01262"></a>01262       <span class="keywordflow">switch</span>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)
<a name="l01263"></a>01263         {
<a name="l01264"></a>01264         <span class="keywordflow">case</span> 0:
<a name="l01265"></a>01265           {
<a name="l01266"></a>01266             nom_fic +=<span class="stringliteral">&quot;X_&quot;</span>;
<a name="l01267"></a>01267             <span class="keywordflow">break</span>;
<a name="l01268"></a>01268           }
<a name="l01269"></a>01269         <span class="keywordflow">case</span> 1:
<a name="l01270"></a>01270           {
<a name="l01271"></a>01271             nom_fic +=<span class="stringliteral">&quot;Y_&quot;</span>;
<a name="l01272"></a>01272             <span class="keywordflow">break</span>;
<a name="l01273"></a>01273           }
<a name="l01274"></a>01274         <span class="keywordflow">case</span> 2:
<a name="l01275"></a>01275           {
<a name="l01276"></a>01276             nom_fic +=<span class="stringliteral">&quot;Z_&quot;</span>;
<a name="l01277"></a>01277             <span class="keywordflow">break</span>;
<a name="l01278"></a>01278           }
<a name="l01279"></a>01279         }
<a name="l01280"></a>01280       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> pos  = <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i));
<a name="l01281"></a>01281       nom_fic += pos;
<a name="l01282"></a>01282       nom_fic += <span class="stringliteral">&quot;_t_&quot;</span>;
<a name="l01283"></a>01283       <span class="keywordtype">double</span> tps = <a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().temps();
<a name="l01284"></a>01284       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> temps = <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(tps);
<a name="l01285"></a>01285       nom_fic+= temps;
<a name="l01286"></a>01286       nom_fic+= <span class="stringliteral">&quot;.dat&quot;</span>;
<a name="l01287"></a>01287       <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">je_suis_maitre</a>())
<a name="l01288"></a>01288         {
<a name="l01289"></a>01289           <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> fic (nom_fic);
<a name="l01290"></a>01290 
<a name="l01291"></a>01291 <span class="comment">// Pour calculer les interpolations lineaires...</span>
<a name="l01292"></a>01292           <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> umoy(umoy_m);
<a name="l01293"></a>01293           <span class="keywordflow">for</span>(j=0; j&lt;NN(i); j++)
<a name="l01294"></a>01294             {
<a name="l01295"></a>01295               umoy(i,j)=umoy_m(i,j)*delta_m(i)/(delta_m(i)+delta_p(i));
<a name="l01296"></a>01296               umoy(i,j)+=umoy_p(i,j)*delta_p(i)/(delta_m(i)+delta_p(i));
<a name="l01297"></a>01297             }
<a name="l01298"></a>01298 
<a name="l01299"></a>01299           <span class="keywordflow">for</span> (j=0; j&lt;NN(i); j++)
<a name="l01300"></a>01300             fic &lt;&lt; Y (i,j) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; umoy(i,j) &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01301"></a>01301           fic.<a class="code" href="classSortie__Fichier__base.html#a8efa6533c9a25aa6c4ee3c5f8783f5f7" title="Force l&#39;ecriture sur disque des donnees dans le tampon Utilise l&#39;implementation de la classe ofstream...">flush</a>();
<a name="l01302"></a>01302           fic.<a class="code" href="classSortie__Fichier__base.html#ac246a47c4438e3183322c20db2a3323c">close</a>();
<a name="l01303"></a>01303         } <span class="comment">//!&lt; Fin de si je suis maitre</span>
<a name="l01304"></a>01304 <span class="comment"></span>    }<span class="comment">//FIN boucle sur les probes</span>
<a name="l01305"></a>01305 }
<a name="l01306"></a>01306 
<a name="l01307"></a>01307 
<a name="l01308"></a>01308 
<a name="l01309"></a>01309 
<a name="l01310"></a>01310 
<a name="l01311"></a>01311 
<a name="l01312"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a24860bb1c3de0bd7979a8561520fb1eb">01312</a> <span class="keywordtype">void</span> <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a24860bb1c3de0bd7979a8561520fb1eb">Traitement_particulier_NS_Profils_VDF::ecriture_fichiers_moy_temp</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_2, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_3, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy_4, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Y, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; NN, <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; ori, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; dt)
<a name="l01313"></a>01313 {
<a name="l01314"></a>01314   <span class="keywordtype">int</span> i,j;
<a name="l01315"></a>01315 
<a name="l01316"></a>01316   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_fic;
<a name="l01317"></a>01317   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l01318"></a>01318     {
<a name="l01319"></a>01319       nom_fic =<span class="stringliteral">&quot;./Time_Avg/Avg_time_vel_&quot;</span>;
<a name="l01320"></a>01320       <span class="keywordflow">switch</span>(ori)
<a name="l01321"></a>01321         {
<a name="l01322"></a>01322         <span class="keywordflow">case</span> 0:
<a name="l01323"></a>01323           {
<a name="l01324"></a>01324             nom_fic +=<span class="stringliteral">&quot;U_&quot;</span>;
<a name="l01325"></a>01325             <span class="keywordflow">break</span>;
<a name="l01326"></a>01326           }
<a name="l01327"></a>01327         <span class="keywordflow">case</span> 1:
<a name="l01328"></a>01328           {
<a name="l01329"></a>01329             nom_fic +=<span class="stringliteral">&quot;V_&quot;</span>;
<a name="l01330"></a>01330             <span class="keywordflow">break</span>;
<a name="l01331"></a>01331           }
<a name="l01332"></a>01332         <span class="keywordflow">case</span> 2:
<a name="l01333"></a>01333           {
<a name="l01334"></a>01334             nom_fic +=<span class="stringliteral">&quot;W_&quot;</span>;
<a name="l01335"></a>01335             <span class="keywordflow">break</span>;
<a name="l01336"></a>01336           }
<a name="l01337"></a>01337         }
<a name="l01338"></a>01338       <span class="keywordflow">switch</span>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)
<a name="l01339"></a>01339         {
<a name="l01340"></a>01340         <span class="keywordflow">case</span> 0:
<a name="l01341"></a>01341           {
<a name="l01342"></a>01342             nom_fic +=<span class="stringliteral">&quot;X_&quot;</span>;
<a name="l01343"></a>01343             <span class="keywordflow">break</span>;
<a name="l01344"></a>01344           }
<a name="l01345"></a>01345         <span class="keywordflow">case</span> 1:
<a name="l01346"></a>01346           {
<a name="l01347"></a>01347             nom_fic +=<span class="stringliteral">&quot;Y_&quot;</span>;
<a name="l01348"></a>01348             <span class="keywordflow">break</span>;
<a name="l01349"></a>01349           }
<a name="l01350"></a>01350         <span class="keywordflow">case</span> 2:
<a name="l01351"></a>01351           {
<a name="l01352"></a>01352             nom_fic +=<span class="stringliteral">&quot;Z_&quot;</span>;
<a name="l01353"></a>01353             <span class="keywordflow">break</span>;
<a name="l01354"></a>01354           }
<a name="l01355"></a>01355         }
<a name="l01356"></a>01356       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> pos  = <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i));
<a name="l01357"></a>01357       nom_fic += pos;
<a name="l01358"></a>01358       nom_fic += <span class="stringliteral">&quot;_t_&quot;</span>;
<a name="l01359"></a>01359 
<a name="l01360"></a>01360       <span class="keywordtype">double</span> tps = <a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().temps();
<a name="l01361"></a>01361       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> temps = <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(tps);
<a name="l01362"></a>01362       nom_fic+= temps;
<a name="l01363"></a>01363       nom_fic+= <span class="stringliteral">&quot;.dat&quot;</span>;
<a name="l01364"></a>01364       <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">je_suis_maitre</a>())
<a name="l01365"></a>01365         {
<a name="l01366"></a>01366           <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> fic (nom_fic);
<a name="l01367"></a>01367           <span class="keywordtype">double</span> val_moy,val2,val3,val4;
<a name="l01368"></a>01368 
<a name="l01369"></a>01369           fic &lt;&lt; <span class="stringliteral">&quot;# Time Averaged Statistics&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a> ;
<a name="l01370"></a>01370           fic &lt;&lt; <span class="stringliteral">&quot;# Y       &lt;U&gt;       Urms       S=MOY[(u-umoy)^3]/(MOY[(u-umoy)^2])^3/2       F=MOY[(u-umoy)^4]/(MOY[(u-umoy)^2])^2       &quot;</span> &lt;&lt; finl ;
<a name="l01371"></a>01371 
<a name="l01372"></a>01372           <span class="keywordflow">for</span> (j=0; j&lt;NN(i)  ; j++)
<a name="l01373"></a>01373             {
<a name="l01374"></a>01374               val_moy = umoy(i,j)/dt;
<a name="l01375"></a>01375               val2 = umoy_2(i,j)/dt -val_moy*val_moy;
<a name="l01376"></a>01376 <span class="comment">// Pour eviter NAN, on prend le dmax(,0):</span>
<a name="l01377"></a>01377               val2 = sqrt(<a class="code" href="Double_8h.html#aec69e4c89b77badf104ae9d6ae393b2c">dmax</a>(val2,0));
<a name="l01378"></a>01378 
<a name="l01379"></a>01379               <span class="keywordflow">if</span> (val2 ==0 )
<a name="l01380"></a>01380                 {
<a name="l01381"></a>01381                   val3=0.;
<a name="l01382"></a>01382                   val4=0.;
<a name="l01383"></a>01383                 }
<a name="l01384"></a>01384               <span class="keywordflow">else</span>
<a name="l01385"></a>01385                 {
<a name="l01386"></a>01386                   val3 = umoy_3(i,j)/dt+2*val_moy*val_moy*val_moy-3*umoy_2(i,j)/dt*val_moy;
<a name="l01387"></a>01387                   val3 = val3/pow(val2,3);
<a name="l01388"></a>01388 
<a name="l01389"></a>01389                   val4 = umoy_4(i,j)/dt-4*umoy_3(i,j)/dt*val_moy+6*umoy_2(i,j)/dt*val_moy*val_moy-3*val_moy*val_moy*val_moy*val_moy;
<a name="l01390"></a>01390                   val4 = val4/pow(val2,4);
<a name="l01391"></a>01391                 }
<a name="l01392"></a>01392               <span class="keywordflow">if</span> ((val_moy&lt;0.)&amp;&amp;(<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(val_moy)&lt;1.e-10)) val_moy=0.;
<a name="l01393"></a>01393               fic &lt;&lt; Y (i,j) &lt;&lt; <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; val_moy &lt;&lt; <span class="stringliteral">&quot;   &quot;</span>  &lt;&lt; val2 &lt;&lt;  <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; val3 &lt;&lt;  <span class="stringliteral">&quot;   &quot;</span> &lt;&lt; val4 &lt;&lt; finl;
<a name="l01394"></a>01394             }
<a name="l01395"></a>01395           fic.<a class="code" href="classSortie__Fichier__base.html#a8efa6533c9a25aa6c4ee3c5f8783f5f7" title="Force l&#39;ecriture sur disque des donnees dans le tampon Utilise l&#39;implementation de la classe ofstream...">flush</a>();
<a name="l01396"></a>01396           fic.<a class="code" href="classSortie__Fichier__base.html#ac246a47c4438e3183322c20db2a3323c">close</a>();
<a name="l01397"></a>01397         } <span class="comment">//!&lt; Fin de si je suis maitre</span>
<a name="l01398"></a>01398 <span class="comment"></span>    }<span class="comment">//FIN boucle sur les probes</span>
<a name="l01399"></a>01399 }
<a name="l01400"></a>01400 
<a name="l01401"></a>01401 
<a name="l01402"></a>01402 
<a name="l01403"></a>01403 
<a name="l01404"></a><a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a203115a81a9d0dda5fb2284725e88ee2">01404</a> <span class="keywordtype">void</span> <a class="code" href="classTraitement__particulier__NS__Profils__VDF.html#a203115a81a9d0dda5fb2284725e88ee2">Traitement_particulier_NS_Profils_VDF::ecriture_fichiers_moy_temp_1col</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; umoy, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Y, <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; NN, <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; ori, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; dt)
<a name="l01405"></a>01405 {
<a name="l01406"></a>01406   <span class="keywordtype">int</span> i,j;
<a name="l01407"></a>01407   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_fic;
<a name="l01408"></a>01408   <span class="keywordflow">for</span>(i=0; i&lt;<a class="code" href="classTraitement__particulier__NS__Profils.html#a9233bce44c39015381692b47d483ee14">n_probes</a>; i++)
<a name="l01409"></a>01409     {
<a name="l01410"></a>01410       <span class="keywordflow">switch</span>(ori)
<a name="l01411"></a>01411         {
<a name="l01412"></a>01412         <span class="keywordflow">case</span> 3:
<a name="l01413"></a>01413           {
<a name="l01414"></a>01414             nom_fic =<span class="stringliteral">&quot;./Time_Avg/Avg_time_vel_uvp_&quot;</span>;
<a name="l01415"></a>01415             <span class="keywordflow">break</span>;
<a name="l01416"></a>01416           }
<a name="l01417"></a>01417         <span class="keywordflow">case</span> 4:
<a name="l01418"></a>01418           {
<a name="l01419"></a>01419             nom_fic =<span class="stringliteral">&quot;./Time_Avg/Avg_time_nut_&quot;</span>;
<a name="l01420"></a>01420             <span class="keywordflow">break</span>;
<a name="l01421"></a>01421           }
<a name="l01422"></a>01422         }
<a name="l01423"></a>01423       <span class="keywordflow">switch</span>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a9ab99e33e46dfcd270fd65f52d443d4d">dir_profil</a>)
<a name="l01424"></a>01424         {
<a name="l01425"></a>01425         <span class="keywordflow">case</span> 0:
<a name="l01426"></a>01426           {
<a name="l01427"></a>01427             nom_fic +=<span class="stringliteral">&quot;X_&quot;</span>;
<a name="l01428"></a>01428             <span class="keywordflow">break</span>;
<a name="l01429"></a>01429           }
<a name="l01430"></a>01430         <span class="keywordflow">case</span> 1:
<a name="l01431"></a>01431           {
<a name="l01432"></a>01432             nom_fic +=<span class="stringliteral">&quot;Y_&quot;</span>;
<a name="l01433"></a>01433             <span class="keywordflow">break</span>;
<a name="l01434"></a>01434           }
<a name="l01435"></a>01435         <span class="keywordflow">case</span> 2:
<a name="l01436"></a>01436           {
<a name="l01437"></a>01437             nom_fic +=<span class="stringliteral">&quot;Z_&quot;</span>;
<a name="l01438"></a>01438             <span class="keywordflow">break</span>;
<a name="l01439"></a>01439           }
<a name="l01440"></a>01440         }
<a name="l01441"></a>01441       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> pos  = <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<a class="code" href="classTraitement__particulier__NS__Profils.html#a721fdafae38fb58fdb8a6abaab3a2e85">positions</a>(i));
<a name="l01442"></a>01442       nom_fic += pos;
<a name="l01443"></a>01443       nom_fic += <span class="stringliteral">&quot;_t_&quot;</span>;
<a name="l01444"></a>01444       <span class="keywordtype">double</span> tps = <a class="code" href="classTraitement__particulier__NS__base.html#a82ae9a6fa79c277da3c8d7fd5c6d41e7">mon_equation</a>-&gt;inconnue().temps();
<a name="l01445"></a>01445       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> temps = <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(tps);
<a name="l01446"></a>01446       nom_fic+= temps;
<a name="l01447"></a>01447       nom_fic+= <span class="stringliteral">&quot;.dat&quot;</span>;
<a name="l01448"></a>01448       <span class="keywordflow">if</span>(<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">je_suis_maitre</a>())
<a name="l01449"></a>01449         {
<a name="l01450"></a>01450           <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> fic (nom_fic);
<a name="l01451"></a>01451 
<a name="l01452"></a>01452           <span class="keywordflow">for</span> (j=0; j&lt;NN(i)  ; j++)
<a name="l01453"></a>01453             fic &lt;&lt; Y (i,j) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; umoy(i,j)/dt &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01454"></a>01454           fic.<a class="code" href="classSortie__Fichier__base.html#a8efa6533c9a25aa6c4ee3c5f8783f5f7" title="Force l&#39;ecriture sur disque des donnees dans le tampon Utilise l&#39;implementation de la classe ofstream...">flush</a>();
<a name="l01455"></a>01455           fic.<a class="code" href="classSortie__Fichier__base.html#ac246a47c4438e3183322c20db2a3323c">close</a>();
<a name="l01456"></a>01456         } <span class="comment">//!&lt; Fin de si je suis maitre</span>
<a name="l01457"></a>01457 <span class="comment"></span>    }<span class="comment">//FIN boucle sur les probes</span>
<a name="l01458"></a>01458 }
<a name="l01459"></a>01459 
<a name="l01460"></a>01460 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:41 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
