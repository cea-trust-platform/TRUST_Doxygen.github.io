<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/ThHyd/Schemas_Temps/Multi_Sch_ThHyd.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/ThHyd/Schemas_Temps/Multi_Sch_ThHyd.cpp</div>  </div>
</div>
<div class="contents">
<a href="Multi__Sch__ThHyd_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2015 - 2016, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Multi_Sch_ThHyd.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/ThHyd/Schemas_Temps</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/15</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Multi__Sch__ThHyd_8h.html">Multi_Sch_ThHyd.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Probleme__base_8h.html">Probleme_base.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Navier__Stokes__std_8h.html">Navier_Stokes_std.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Param_8h.html">Param.h</a>&gt;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="Multi__Sch__ThHyd_8cpp.html#aee4b82040bbda91e93537dc31ccd7935">00028</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classMulti__Sch__ThHyd.html" title="classe Multi_Sch_ThHyd">Multi_Sch_ThHyd</a>,<span class="stringliteral">&quot;Multi_Schema_ThHyd&quot;</span>,<a class="code" href="classSchema__Temps__base.html" title="classe Schema_Temps_base">Schema_Temps_base</a>);
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">// Precondition:</span>
<a name="l00032"></a>00032 <span class="comment">// Parametre: Sortie&amp; s</span>
<a name="l00033"></a>00033 <span class="comment">// Signification: un flot de sortie</span>
<a name="l00034"></a>00034 <span class="comment">// Valeurs par defaut:</span>
<a name="l00035"></a>00035 <span class="comment">// Contraintes:</span>
<a name="l00036"></a>00036 <span class="comment">// Acces: entree/sortie</span>
<a name="l00037"></a>00037 <span class="comment">// Exception:</span>
<a name="l00038"></a>00038 <span class="comment">// Effets de bord:</span>
<a name="l00039"></a>00039 <span class="comment">// Postcondition:</span>
<a name="l00040"></a>00040 <span class="comment">//</span>
<a name="l00041"></a>00041 <span class="comment">//</span><span class="comment"></span>
<a name="l00042"></a>00042 <span class="comment">//! Simple appel a: Schema_Temps_base::printOn(Sortie\&amp; )&lt;br&gt;Ecrit le schema en temps sur un flot de sortie.</span>
<a name="l00043"></a>00043 <span class="comment"></span><span class="comment">/** \return Sortie\&amp;&lt;br&gt;</span>
<a name="l00044"></a>00044 <span class="comment">Signification: le flot de sortie modifie&lt;br&gt;</span>
<a name="l00045"></a>00045 <span class="comment">Contraintes: */</span>
<a name="l00046"></a><a class="code" href="classMulti__Sch__ThHyd.html#ab8fe3ca714ede364d91a4bf00efb7ec2">00046</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classMulti__Sch__ThHyd.html#ab8fe3ca714ede364d91a4bf00efb7ec2" title="Simple appel a: Schema_Temps_base::printOn(Sortie&amp; ) Ecrit le schema en temps sur un flot de sortie...">Multi_Sch_ThHyd::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; s)<span class="keyword"> const</span>
<a name="l00047"></a>00047 <span class="keyword"></span>{
<a name="l00048"></a>00048   <span class="keywordflow">return</span>  <a class="code" href="classMulti__Sch__ThHyd.html#ab8fe3ca714ede364d91a4bf00efb7ec2" title="Simple appel a: Schema_Temps_base::printOn(Sortie&amp; ) Ecrit le schema en temps sur un flot de sortie...">Schema_Temps_base::printOn</a>(s);
<a name="l00049"></a>00049 }
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="comment">// Precondition:</span>
<a name="l00053"></a>00053 <span class="comment">// Parametre: Entree&amp; s</span>
<a name="l00054"></a>00054 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00055"></a>00055 <span class="comment">// Valeurs par defaut:</span>
<a name="l00056"></a>00056 <span class="comment">// Contraintes:</span>
<a name="l00057"></a>00057 <span class="comment">// Acces: entree/sortie</span>
<a name="l00058"></a>00058 <span class="comment">// Exception:</span>
<a name="l00059"></a>00059 <span class="comment">// Effets de bord:</span>
<a name="l00060"></a>00060 <span class="comment">// Postcondition:</span>
<a name="l00061"></a>00061 <span class="comment">//</span>
<a name="l00062"></a>00062 <span class="comment">//</span><span class="comment"></span>
<a name="l00063"></a>00063 <span class="comment">//! Lit le schema en temps a partir d&#39;un flot d&#39;entree.&lt;br&gt;Simple appel a: Schema_Temps_base::readOn(Entree\&amp; )</span>
<a name="l00064"></a>00064 <span class="comment"></span><span class="comment">/** \return Entree\&amp;&lt;br&gt;</span>
<a name="l00065"></a>00065 <span class="comment">Signification: le flot d&#39;entree modifie&lt;br&gt;</span>
<a name="l00066"></a>00066 <span class="comment">Contraintes: */</span>
<a name="l00067"></a><a class="code" href="classMulti__Sch__ThHyd.html#a7d5dce23ea8e95f65bf452d1a9faa873">00067</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classMulti__Sch__ThHyd.html#a7d5dce23ea8e95f65bf452d1a9faa873" title="Lit le schema en temps a partir d&#39;un flot d&#39;entree. Simple appel a: Schema_Temps_base::readOn(Entree&amp;...">Multi_Sch_ThHyd::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; s)
<a name="l00068"></a>00068 {
<a name="l00069"></a>00069   <a class="code" href="classMulti__Sch__ThHyd.html#a3a5d155f9245a872ae7d916baff001fc">nb_ss_pas_dt</a>=0;
<a name="l00070"></a>00070   <span class="keywordflow">return</span> <a class="code" href="classMulti__Sch__ThHyd.html#a7d5dce23ea8e95f65bf452d1a9faa873" title="Lit le schema en temps a partir d&#39;un flot d&#39;entree. Simple appel a: Schema_Temps_base::readOn(Entree&amp;...">Schema_Temps_base::readOn</a>(s) ;
<a name="l00071"></a>00071 }
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="comment">//</span>
<a name="l00075"></a>00075 <span class="comment">// //</span>
<a name="l00076"></a>00076 <span class="comment">// Caracteristiques du schema //</span>
<a name="l00077"></a>00077 <span class="comment">// //</span>
<a name="l00078"></a>00078 <span class="comment">//</span>
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="comment">//</span>
<a name="l00082"></a>00082 <span class="comment">//</span><span class="comment"></span>
<a name="l00083"></a>00083 <span class="comment">//! Renvoie le nombre de valeurs temporelles a conserver.&lt;br&gt;Ici : le max des deux schemas utilises.</span>
<a name="l00084"></a><a class="code" href="classMulti__Sch__ThHyd.html#a44a27ff41d718423216ff143dfdfa6b1">00084</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classMulti__Sch__ThHyd.html#a44a27ff41d718423216ff143dfdfa6b1" title="Renvoie le nombre de valeurs temporelles a conserver. Ici : le max des deux schemas utilises...">Multi_Sch_ThHyd::nb_valeurs_temporelles</a>()<span class="keyword"> const</span>
<a name="l00085"></a>00085 <span class="keyword"></span>{
<a name="l00086"></a>00086   <span class="keywordflow">return</span> <a class="code" href="Double_8h.html#a1c45761573e6cbc97cfacac78d905016">max</a>(<a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#acbe9f5266e4b4267a53fdbb9157718c5">nb_valeurs_temporelles</a>(),<a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#acbe9f5266e4b4267a53fdbb9157718c5">nb_valeurs_temporelles</a>());
<a name="l00087"></a>00087 }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 <span class="comment">//</span>
<a name="l00091"></a>00091 <span class="comment">//</span><span class="comment"></span>
<a name="l00092"></a>00092 <span class="comment">//! Renvoie le nombre de valeurs temporelles futures.&lt;br&gt;Ici : la valeur commune aux deux schemas utilises.</span>
<a name="l00093"></a><a class="code" href="classMulti__Sch__ThHyd.html#a6d3d1396fa08b4490b94762fb7a34db8">00093</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classMulti__Sch__ThHyd.html#a6d3d1396fa08b4490b94762fb7a34db8" title="Renvoie le nombre de valeurs temporelles futures. Ici : la valeur commune aux deux schemas utilises...">Multi_Sch_ThHyd::nb_valeurs_futures</a>()<span class="keyword"> const</span>
<a name="l00094"></a>00094 <span class="keyword"></span>{
<a name="l00095"></a>00095   <span class="keywordtype">int</span> n=<a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#a9d24dd8112258e09c09a9b58c4b7e335">nb_valeurs_futures</a>();
<a name="l00096"></a>00096   assert (n==<a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#a9d24dd8112258e09c09a9b58c4b7e335">nb_valeurs_futures</a>());
<a name="l00097"></a>00097   <span class="keywordflow">return</span> n;
<a name="l00098"></a>00098 }
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 <span class="comment">//</span>
<a name="l00101"></a>00101 <span class="comment">//</span><span class="comment"></span>
<a name="l00102"></a>00102 <span class="comment">//! Renvoie le le temps a la i-eme valeur future.&lt;br&gt;Ici : la valeur commune aux deux schemas utilises.</span>
<a name="l00103"></a><a class="code" href="classMulti__Sch__ThHyd.html#a12b61bf5397ea4933786f3beb25807d5">00103</a> <span class="comment"></span><span class="keywordtype">double</span> <a class="code" href="classMulti__Sch__ThHyd.html#a12b61bf5397ea4933786f3beb25807d5" title="Renvoie le le temps a la i-eme valeur future. Ici : la valeur commune aux deux schemas utilises...">Multi_Sch_ThHyd::temps_futur</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00104"></a>00104 <span class="keyword"></span>{
<a name="l00105"></a>00105   <span class="keywordtype">double</span> t=<a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#a46d916b7db340c822e87edf21ab77c00">temps_futur</a>(i);
<a name="l00106"></a>00106   assert(t==<a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#a46d916b7db340c822e87edf21ab77c00">temps_futur</a>(i));
<a name="l00107"></a>00107   <span class="keywordflow">return</span> t;
<a name="l00108"></a>00108 }
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 <span class="comment">//</span>
<a name="l00111"></a>00111 <span class="comment">//</span>
<a name="l00112"></a>00112 <span class="comment">//</span><span class="comment"></span>
<a name="l00113"></a>00113 <span class="comment">//! Renvoie le le temps le temps que doivent rendre les champs a&lt;br&gt;l&#39;appel de valeurs()&lt;br&gt;Ici : la valeur commune aux deux schemas utilises.</span>
<a name="l00114"></a><a class="code" href="classMulti__Sch__ThHyd.html#a2db1c2305cfa253a056674c3cbc60ab7">00114</a> <span class="comment"></span><span class="keywordtype">double</span> <a class="code" href="classMulti__Sch__ThHyd.html#a2db1c2305cfa253a056674c3cbc60ab7" title="Renvoie le le temps le temps que doivent rendre les champs a l&#39;appel de valeurs() Ici : la valeur com...">Multi_Sch_ThHyd::temps_defaut</a>()<span class="keyword"> const</span>
<a name="l00115"></a>00115 <span class="keyword"></span>{
<a name="l00116"></a>00116   <span class="keywordtype">double</span> t=<a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#ade057f30f3f9cf15a3e1feb74dd36058">temps_defaut</a>();
<a name="l00117"></a>00117   assert(t==<a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#ade057f30f3f9cf15a3e1feb74dd36058">temps_defaut</a>());
<a name="l00118"></a>00118   <span class="keywordflow">return</span> t;
<a name="l00119"></a>00119 }
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 <span class="comment">//</span>
<a name="l00122"></a>00122 <span class="comment">// //</span>
<a name="l00123"></a>00123 <span class="comment">// Fin des caracteristiques du schema  //</span>
<a name="l00124"></a>00124 <span class="comment">// //</span>
<a name="l00125"></a>00125 <span class="comment">//</span>
<a name="l00126"></a>00126 
<a name="l00127"></a>00127 
<a name="l00128"></a><a class="code" href="classMulti__Sch__ThHyd.html#a6a3856817d5c507f5d74f14001360c55">00128</a> <span class="keywordtype">void</span> <a class="code" href="classMulti__Sch__ThHyd.html#a6a3856817d5c507f5d74f14001360c55">Multi_Sch_ThHyd::completer</a>()
<a name="l00129"></a>00129 {
<a name="l00130"></a>00130   <span class="comment">/*  double dts=dt_;</span>
<a name="l00131"></a>00131 <span class="comment">      dt_=0;</span>
<a name="l00132"></a>00132 <span class="comment">      mettre_a_jour();</span>
<a name="l00133"></a>00133 <span class="comment">      nb_pas_dt_--;</span>
<a name="l00134"></a>00134 <span class="comment">      dt_=dts;</span>
<a name="l00135"></a>00135 <span class="comment">// OC : je comprends pas ces lignes :</span>
<a name="l00136"></a>00136 <span class="comment">  */</span>
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="comment">// OC : je verrai plutot une methode  &quot;completer&quot; de ce genre :</span>
<a name="l00139"></a>00139 
<a name="l00140"></a>00140   <a class="code" href="classSchema__Temps__base.html" title="classe Schema_Temps_base">Schema_Temps_base</a>&amp; le_sch_ns = <a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>();
<a name="l00141"></a>00141   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a80ab163a9f2bfd0234f39480d89d3599">set_temps_init</a>()=<a class="code" href="classSchema__Temps__base.html#a2389e67de1603768ab6b1bd396e0adba" title="Renvoie le temps initial.">temps_init</a>();
<a name="l00142"></a>00142   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a7ad60da48ec8cc6a880176e156aa127a">set_temps_max</a>()=<a class="code" href="classSchema__Temps__base.html#a1c3b1eb35bf0fc0da015c27ec33b710a" title="Renvoie une reference sur le temps maximum.">temps_max</a>();
<a name="l00143"></a>00143   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a7e1f0b8f407c25e07abb8524948e3132">set_temps_courant</a>()=<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>();
<a name="l00144"></a>00144   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#aecd265e12372663240a8b640aed50bf8">set_nb_pas_dt</a>()=<a class="code" href="classSchema__Temps__base.html#a247769eddf9c0bfcaabc50b8dd90d401" title="Renvoie le nombre de pas de temps effectues.">nb_pas_dt</a>();
<a name="l00145"></a>00145   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a171ca241fc9b43596b6949a2d021322b">set_nb_pas_dt_max</a>()=<a class="code" href="classSchema__Temps__base.html#a27bf9c5a67bf4a1ddd036640ebcb26bc" title="Renvoie une reference sur le nombre de pas maxi.">nb_pas_dt_max</a>();
<a name="l00146"></a>00146   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a9c1b55f257238757e1ee2fe593d6fb00">set_dt_min</a>()=<a class="code" href="classSchema__Temps__base.html#a38ad73d948a5c4e103e4e0b486356ab8" title="Renvoie le pas de temps minimum. (version const)">pas_temps_min</a>();
<a name="l00147"></a>00147   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a0a85334fb2fc16ba2926657024d08766">set_dt_max</a>()=<a class="code" href="classSchema__Temps__base.html#a7c52d28f5bb86270c2a33bcc20bb9e6f" title="Renvoie le pas de temps maximum. (version const)">pas_temps_max</a>();
<a name="l00148"></a>00148   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a26d2f7b549565d5325a0d36bf9c49c20">set_dt_sauv</a>()=<a class="code" href="classSchema__Temps__base.html#ab5090823fd985ed5ed39750dd1b97421" title="Renvoie une reference sur le temps de sauvegarde.">temps_sauv</a>();
<a name="l00149"></a>00149   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a6ae3c569d834aabcc54a50949bea1047">set_dt_impr</a>()=<a class="code" href="classSchema__Temps__base.html#af6aa031b964534e111ae195205152d31" title="Renvoie une reference sur le temps d&#39;impression.">temps_impr</a>();
<a name="l00150"></a>00150   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#ac8fc241ed91b55611ac288b708aa8d6b">set_facsec</a>()=<a class="code" href="classSchema__Temps__base.html#a67916ed9aa91f4caa4ed6d978056a253" title="Renvoie le facteur de securite ou multiplicateur de delta_t. Ce facteur est utilise lors de la correc...">facteur_securite_pas</a>();
<a name="l00151"></a>00151   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a9817e8fc2f2bdd54ecafa1beb68f5a08">set_seuil_statio</a>()=<a class="code" href="classSchema__Temps__base.html#a532671e5958266e578affadf1ba5662e" title="Renvoie une reference sur le seuil stationnaire.">seuil_statio</a>();
<a name="l00152"></a>00152   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a0919fb0885a396e98f578047cc1cc5e3">set_stationnaire_atteint</a>()=<a class="code" href="classSchema__Temps__base.html#a5db611d7eb92f49bbc0562e547c5131c" title="Retourne 1 si lors du dernier pas de temps, le probleme n&#39;a pas evolue.">isStationary</a>();
<a name="l00153"></a>00153   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a16099962f544fa12acfdd356e9074caf">set_diffusion_implicite</a>()=<a class="code" href="classSchema__Temps__base.html#af19143270478f1a870292550da641a94" title="Renvoie 1 si le schema en temps a ete lu diffusion_implicite.">diffusion_implicite</a>();
<a name="l00154"></a>00154   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a252b6a0c806a1811dbd7bd7ae5659870">set_seuil_diffusion_implicite</a>()=<a class="code" href="classSchema__Temps__base.html#a9869579e541d8fc1238fc55b2ea97dd2">seuil_diffusion_implicite</a>();
<a name="l00155"></a>00155   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a81ffccf1b42089c6e985f2cdf8e6adb9">set_niter_max_diffusion_implicite</a>()=<a class="code" href="classSchema__Temps__base.html#a6afe4cd1d0f8a4ca12a1948db66d445a" title="Impression ou non de GC implicitation.">niter_max_diffusion_implicite</a>();
<a name="l00156"></a>00156   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a87e20b0327b8edad771be7c2cf52c5c6">set_dt</a>()=<a class="code" href="classSchema__Temps__base.html#a0e4f67ef6086c09434ddc161668077b2" title="Renvoie le pas de temps (delta_t) courant.">pas_de_temps</a>();
<a name="l00157"></a>00157   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a99a79ddbdf00133210538226d72ef06d">set_mode_dt_start</a>()=<a class="code" href="classSchema__Temps__base.html#afbef9c7cb9db7175fddc6ae44a4d589a">mode_dt_start</a>();
<a name="l00158"></a>00158   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#aa47e9e411eda2625104721fe302a9141">set_indice_tps_final_atteint</a>()=<a class="code" href="classSchema__Temps__base.html#a88f1373502db8bffbba45c36a7e6a728">indice_tps_final_atteint</a>();
<a name="l00159"></a>00159   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a39c3649372a02603421fb145af406d0c">set_indice_nb_pas_dt_max_atteint</a>()=<a class="code" href="classSchema__Temps__base.html#acd1beff980f8698c0acfcdcfae58c6a1">indice_nb_pas_dt_max_atteint</a>();
<a name="l00160"></a>00160   le_sch_ns.<a class="code" href="classSchema__Temps__base.html#a4569b9672a3918d32a3b2697b3c0273c">set_lu</a>()=<a class="code" href="classSchema__Temps__base.html#ab726d8fbed5c788fce05b59aab065126">lu</a>();
<a name="l00161"></a>00161 
<a name="l00162"></a>00162   <a class="code" href="classSchema__Temps__base.html" title="classe Schema_Temps_base">Schema_Temps_base</a>&amp; le_sch_scalaires = <a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>();
<a name="l00163"></a>00163   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a80ab163a9f2bfd0234f39480d89d3599">set_temps_init</a>()=<a class="code" href="classSchema__Temps__base.html#a2389e67de1603768ab6b1bd396e0adba" title="Renvoie le temps initial.">temps_init</a>();
<a name="l00164"></a>00164   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a7ad60da48ec8cc6a880176e156aa127a">set_temps_max</a>()=<a class="code" href="classSchema__Temps__base.html#a1c3b1eb35bf0fc0da015c27ec33b710a" title="Renvoie une reference sur le temps maximum.">temps_max</a>();
<a name="l00165"></a>00165   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a7e1f0b8f407c25e07abb8524948e3132">set_temps_courant</a>()=<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>();
<a name="l00166"></a>00166   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#aecd265e12372663240a8b640aed50bf8">set_nb_pas_dt</a>()=<a class="code" href="classSchema__Temps__base.html#a247769eddf9c0bfcaabc50b8dd90d401" title="Renvoie le nombre de pas de temps effectues.">nb_pas_dt</a>();
<a name="l00167"></a>00167   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a171ca241fc9b43596b6949a2d021322b">set_nb_pas_dt_max</a>()=<a class="code" href="classSchema__Temps__base.html#a27bf9c5a67bf4a1ddd036640ebcb26bc" title="Renvoie une reference sur le nombre de pas maxi.">nb_pas_dt_max</a>();
<a name="l00168"></a>00168   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a9c1b55f257238757e1ee2fe593d6fb00">set_dt_min</a>()=<a class="code" href="classSchema__Temps__base.html#a38ad73d948a5c4e103e4e0b486356ab8" title="Renvoie le pas de temps minimum. (version const)">pas_temps_min</a>();
<a name="l00169"></a>00169   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a0a85334fb2fc16ba2926657024d08766">set_dt_max</a>()=<a class="code" href="classSchema__Temps__base.html#a7c52d28f5bb86270c2a33bcc20bb9e6f" title="Renvoie le pas de temps maximum. (version const)">pas_temps_max</a>();
<a name="l00170"></a>00170   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a26d2f7b549565d5325a0d36bf9c49c20">set_dt_sauv</a>()=<a class="code" href="classSchema__Temps__base.html#ab5090823fd985ed5ed39750dd1b97421" title="Renvoie une reference sur le temps de sauvegarde.">temps_sauv</a>();
<a name="l00171"></a>00171   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a6ae3c569d834aabcc54a50949bea1047">set_dt_impr</a>()=<a class="code" href="classSchema__Temps__base.html#af6aa031b964534e111ae195205152d31" title="Renvoie une reference sur le temps d&#39;impression.">temps_impr</a>();
<a name="l00172"></a>00172   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#ac8fc241ed91b55611ac288b708aa8d6b">set_facsec</a>()=<a class="code" href="classSchema__Temps__base.html#a67916ed9aa91f4caa4ed6d978056a253" title="Renvoie le facteur de securite ou multiplicateur de delta_t. Ce facteur est utilise lors de la correc...">facteur_securite_pas</a>();
<a name="l00173"></a>00173   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a9817e8fc2f2bdd54ecafa1beb68f5a08">set_seuil_statio</a>()=<a class="code" href="classSchema__Temps__base.html#a532671e5958266e578affadf1ba5662e" title="Renvoie une reference sur le seuil stationnaire.">seuil_statio</a>();
<a name="l00174"></a>00174   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a0919fb0885a396e98f578047cc1cc5e3">set_stationnaire_atteint</a>()=<a class="code" href="classSchema__Temps__base.html#a5db611d7eb92f49bbc0562e547c5131c" title="Retourne 1 si lors du dernier pas de temps, le probleme n&#39;a pas evolue.">isStationary</a>();
<a name="l00175"></a>00175   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a16099962f544fa12acfdd356e9074caf">set_diffusion_implicite</a>()=<a class="code" href="classSchema__Temps__base.html#af19143270478f1a870292550da641a94" title="Renvoie 1 si le schema en temps a ete lu diffusion_implicite.">diffusion_implicite</a>();
<a name="l00176"></a>00176   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a252b6a0c806a1811dbd7bd7ae5659870">set_seuil_diffusion_implicite</a>()=<a class="code" href="classSchema__Temps__base.html#a9869579e541d8fc1238fc55b2ea97dd2">seuil_diffusion_implicite</a>();
<a name="l00177"></a>00177   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a81ffccf1b42089c6e985f2cdf8e6adb9">set_niter_max_diffusion_implicite</a>()=<a class="code" href="classSchema__Temps__base.html#a6afe4cd1d0f8a4ca12a1948db66d445a" title="Impression ou non de GC implicitation.">niter_max_diffusion_implicite</a>();
<a name="l00178"></a>00178   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a87e20b0327b8edad771be7c2cf52c5c6">set_dt</a>()=<a class="code" href="classSchema__Temps__base.html#a0e4f67ef6086c09434ddc161668077b2" title="Renvoie le pas de temps (delta_t) courant.">pas_de_temps</a>();
<a name="l00179"></a>00179   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a99a79ddbdf00133210538226d72ef06d">set_mode_dt_start</a>()=<a class="code" href="classSchema__Temps__base.html#afbef9c7cb9db7175fddc6ae44a4d589a">mode_dt_start</a>();
<a name="l00180"></a>00180   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#aa47e9e411eda2625104721fe302a9141">set_indice_tps_final_atteint</a>()=<a class="code" href="classSchema__Temps__base.html#a88f1373502db8bffbba45c36a7e6a728">indice_tps_final_atteint</a>();
<a name="l00181"></a>00181   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a39c3649372a02603421fb145af406d0c">set_indice_nb_pas_dt_max_atteint</a>()=<a class="code" href="classSchema__Temps__base.html#acd1beff980f8698c0acfcdcfae58c6a1">indice_nb_pas_dt_max_atteint</a>();
<a name="l00182"></a>00182   le_sch_scalaires.<a class="code" href="classSchema__Temps__base.html#a4569b9672a3918d32a3b2697b3c0273c">set_lu</a>()=<a class="code" href="classSchema__Temps__base.html#ab726d8fbed5c788fce05b59aab065126">lu</a>();
<a name="l00183"></a>00183 }
<a name="l00184"></a>00184 
<a name="l00185"></a><a class="code" href="classMulti__Sch__ThHyd.html#a6931472abf68718f264a4d1421e86cec">00185</a> <span class="keywordtype">int</span> <a class="code" href="classMulti__Sch__ThHyd.html#a6931472abf68718f264a4d1421e86cec" title="Mise a jour du temps courant (t+=dt) et du nombre de pas de temps effectue (nb_pas_dt_++).">Multi_Sch_ThHyd::mettre_a_jour</a>()
<a name="l00186"></a>00186 {
<a name="l00187"></a>00187   <a class="code" href="classMulti__Sch__ThHyd.html#a6931472abf68718f264a4d1421e86cec" title="Mise a jour du temps courant (t+=dt) et du nombre de pas de temps effectue (nb_pas_dt_++).">Schema_Temps_base::mettre_a_jour</a>();
<a name="l00188"></a>00188   <a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classSchema__Temps.html#a19f0218b98a4f54a4598bc5e2ebcde9f" title="Appel a l&#39;objet sous-jacent Mise a jour du temps et du nombre de pas de temps..">mettre_a_jour</a>();
<a name="l00189"></a>00189   <a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classSchema__Temps.html#a19f0218b98a4f54a4598bc5e2ebcde9f" title="Appel a l&#39;objet sous-jacent Mise a jour du temps et du nombre de pas de temps..">mettre_a_jour</a>();
<a name="l00190"></a>00190   <span class="keywordflow">return</span> 1;
<a name="l00191"></a>00191 }
<a name="l00192"></a><a class="code" href="classMulti__Sch__ThHyd.html#a733e6bd74776a28b445a257ae60d32ab">00192</a> <span class="keywordtype">void</span> <a class="code" href="classMulti__Sch__ThHyd.html#a733e6bd74776a28b445a257ae60d32ab">Multi_Sch_ThHyd::set_param</a>(<a class="code" href="classParam.html" title="Defined below in this file.">Param</a>&amp; param)
<a name="l00193"></a>00193 {
<a name="l00194"></a>00194   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;nb_ss_pas_dt&quot;</span>,&amp;<a class="code" href="classMulti__Sch__ThHyd.html#a3a5d155f9245a872ae7d916baff001fc">nb_ss_pas_dt</a>);
<a name="l00195"></a>00195   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;Schema_Temps_NS&quot;</span>,&amp;<a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>);
<a name="l00196"></a>00196   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;Schema_Temps_scalaires&quot;</span>,&amp;<a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>);
<a name="l00197"></a>00197   <a class="code" href="classMulti__Sch__ThHyd.html#a733e6bd74776a28b445a257ae60d32ab">Schema_Temps_base::set_param</a>(param);
<a name="l00198"></a>00198 }
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 <span class="comment">// Precondition:</span>
<a name="l00202"></a>00202 <span class="comment">// Parametre: Equation_base&amp; eqn</span>
<a name="l00203"></a>00203 <span class="comment">// Signification: l&#39;equation que l&#39;on veut faire avancer d&#39;un</span>
<a name="l00204"></a>00204 <span class="comment">// pas de temps</span>
<a name="l00205"></a>00205 <span class="comment">// Valeurs par defaut:</span>
<a name="l00206"></a>00206 <span class="comment">// Contraintes:</span>
<a name="l00207"></a>00207 <span class="comment">// Acces: entree/sortie</span>
<a name="l00208"></a>00208 <span class="comment">// Exception:</span>
<a name="l00209"></a>00209 <span class="comment">// Effets de bord:</span>
<a name="l00210"></a>00210 <span class="comment">// Postcondition:</span>
<a name="l00211"></a>00211 <span class="comment">//</span>
<a name="l00212"></a>00212 <span class="comment">//</span><span class="comment"></span>
<a name="l00213"></a>00213 <span class="comment">//! Effectue un pas de temps d&#39;Euler explicite&lt;br&gt;sur l&#39;equation passee en parametre.</span>
<a name="l00214"></a>00214 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00215"></a>00215 <span class="comment">Signification: renvoie toujours 1&lt;br&gt;</span>
<a name="l00216"></a>00216 <span class="comment">Contraintes: */</span>
<a name="l00217"></a><a class="code" href="classMulti__Sch__ThHyd.html#ae0fac469c2ecfb88a07ac7ca133d568b">00217</a> <span class="keywordtype">int</span> <a class="code" href="classMulti__Sch__ThHyd.html#ae0fac469c2ecfb88a07ac7ca133d568b" title="Effectue un pas de temps d&#39;Euler explicite sur l&#39;equation passee en parametre.">Multi_Sch_ThHyd::faire_un_pas_de_temps_eqn_base</a>(<a class="code" href="classEquation__base.html">Equation_base</a>&amp; eqn)
<a name="l00218"></a>00218 {
<a name="l00219"></a>00219 <span class="comment">// double dtok=dt_;</span>
<a name="l00220"></a>00220   <span class="keywordflow">if</span>(<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classNavier__Stokes__std.html" title="classe Navier_Stokes_std Cette classe porte les termes de l&#39;equation de la dynamique pour un fluide s...">Navier_Stokes_std</a>, eqn))
<a name="l00221"></a>00221     {
<a name="l00222"></a>00222       <a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>-&gt;set_dt()=<a class="code" href="classSchema__Temps__base.html#a0e4f67ef6086c09434ddc161668077b2" title="Renvoie le pas de temps (delta_t) courant.">pas_de_temps</a>();
<a name="l00223"></a>00223       <a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classSchema__Temps.html#a844105a8951f41c80052d32d6f6a6276" title="Appel a l&#39;objet sous-jacent. Effectue un pas de temps sur une equation.">faire_un_pas_de_temps_eqn_base</a>(eqn);
<a name="l00224"></a>00224       <a class="code" href="classSchema__Temps__base.html#a67916ed9aa91f4caa4ed6d978056a253" title="Renvoie le facteur de securite ou multiplicateur de delta_t. Ce facteur est utilise lors de la correc...">facteur_securite_pas</a>()=<a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classSchema__Temps.html#adc03551b84d0986188b768dfb4aee33e" title="Appel a l&#39;objet sous-jacent Renvoie le facteur de securite ou multiplicateur de pas de temps...">facteur_securite_pas</a>();
<a name="l00225"></a>00225     }
<a name="l00226"></a>00226   <span class="keywordflow">else</span>
<a name="l00227"></a>00227     {
<a name="l00228"></a>00228 <span class="comment">// sch_scalaires.preparer_pas_temps();</span>
<a name="l00229"></a>00229       <a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>-&gt;set_dt()=<a class="code" href="classSchema__Temps__base.html#a0e4f67ef6086c09434ddc161668077b2" title="Renvoie le pas de temps (delta_t) courant.">pas_de_temps</a>();
<a name="l00230"></a>00230       <a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classSchema__Temps.html#a844105a8951f41c80052d32d6f6a6276" title="Appel a l&#39;objet sous-jacent. Effectue un pas de temps sur une equation.">faire_un_pas_de_temps_eqn_base</a>(eqn);
<a name="l00231"></a>00231     }
<a name="l00232"></a>00232   <a class="code" href="classSchema__Temps__base.html#a0919fb0885a396e98f578047cc1cc5e3">set_stationnaire_atteint</a>()=<a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#a5db611d7eb92f49bbc0562e547c5131c" title="Retourne 1 si lors du dernier pas de temps, le probleme n&#39;a pas evolue.">isStationary</a>() &amp;&amp; <a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#a5db611d7eb92f49bbc0562e547c5131c" title="Retourne 1 si lors du dernier pas de temps, le probleme n&#39;a pas evolue.">isStationary</a>() ;
<a name="l00233"></a>00233   <span class="keywordflow">return</span> 1;
<a name="l00234"></a>00234 }
<a name="l00235"></a>00235 
<a name="l00236"></a><a class="code" href="classMulti__Sch__ThHyd.html#a26601f88743a5dc8e3375e04aa2b4f19">00236</a> <span class="keywordtype">bool</span> <a class="code" href="classMulti__Sch__ThHyd.html#a26601f88743a5dc8e3375e04aa2b4f19" title="Calculate the U(n+1) unknown for each equation (if solved) of the problem with the selected time sche...">Multi_Sch_ThHyd::iterateTimeStep</a>(<span class="keywordtype">bool</span>&amp; converged)
<a name="l00237"></a>00237 {
<a name="l00238"></a>00238   <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; prob=<a class="code" href="classSchema__Temps__base.html#a6e2edfe46a7f27b6fc8f114d92c35dc2">pb_base</a>();
<a name="l00239"></a>00239   <span class="keywordtype">double</span> temps=<a class="code" href="classSchema__Temps__base.html#ae6dd72bce33a443217b83f56a4da23a2">temps_courant_</a>+<a class="code" href="classSchema__Temps__base.html#a41d96b9bfd9ead46031343c31f9bfe5d" title="Pas de temps de calcul.">dt_</a>;
<a name="l00240"></a>00240   <span class="keywordtype">int</span> nb_eqn=<a class="code" href="classSchema__Temps__base.html#a6e2edfe46a7f27b6fc8f114d92c35dc2">pb_base</a>().<a class="code" href="classProbleme__base.html#abefceb0ac0d0b35d42a4daaa82a95f59">nombre_d_equations</a>();
<a name="l00241"></a>00241   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=nb_eqn-1; i&gt;-1; i--)
<a name="l00242"></a>00242     {
<a name="l00243"></a>00243       <a class="code" href="classEquation__base.html">Equation_base</a>&amp; eqn_i=prob.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(i);
<a name="l00244"></a>00244       <span class="keywordflow">if</span> (eqn_i.<a class="code" href="classEquation__base.html#a0a497f27296625af895ffe40e48d109e">equation_non_resolue</a>())
<a name="l00245"></a>00245         {
<a name="l00246"></a>00246           <a class="code" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a>&lt;&lt; <span class="stringliteral">&quot;====================================================&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00247"></a>00247           <a class="code" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a>&lt;&lt; eqn_i.<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()&lt;&lt;<span class="stringliteral">&quot; equation is not solved.&quot;</span>&lt;&lt;finl;
<a name="l00248"></a>00248           <a class="code" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a>&lt;&lt; <span class="stringliteral">&quot;====================================================&quot;</span> &lt;&lt; finl;
<a name="l00249"></a>00249 <span class="comment">// On calcule une fois la derivee pour avoir les flux bord</span>
<a name="l00250"></a>00250           <span class="keywordflow">if</span> (eqn_i.<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>().<a class="code" href="classSchema__Temps__base.html#a247769eddf9c0bfcaabc50b8dd90d401" title="Renvoie le nombre de pas de temps effectues.">nb_pas_dt</a>()==0)
<a name="l00251"></a>00251             {
<a name="l00252"></a>00252               <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> inconnue_valeurs(eqn_i.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a28ef3d411d12cb5684ac5e799efb7d24" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs au temps courant.">valeurs</a>());
<a name="l00253"></a>00253               eqn_i.<a class="code" href="classEquation__base.html#a97aa87b0cf6205ef437a6774adf1bd47" title="Returns the time derivative of the unknown I of the equation: dI/dt = M-1*(sum(operators(I) + sources...">derivee_en_temps_inco</a>(inconnue_valeurs);
<a name="l00254"></a>00254             }
<a name="l00255"></a>00255         }
<a name="l00256"></a>00256       <span class="keywordflow">else</span>
<a name="l00257"></a>00257         {
<a name="l00258"></a>00258           eqn_i.<a class="code" href="classEquation__base.html#af265fe0ea30868eb2176a0c887e4efab" title="Renvoie la zone des conditions aux limite discretisee associee a l&#39;equation.">zone_Cl_dis</a>().<a class="code" href="classZone__Cl__dis.html#a241a6b48ebc8b6767013dee04c429719" title="Appel a l&#39;objet sous-jacent Effectue une mise a jour en temps des conditions aux limites.">mettre_a_jour</a>(temps);
<a name="l00259"></a>00259           <a class="code" href="classMulti__Sch__ThHyd.html#ae0fac469c2ecfb88a07ac7ca133d568b" title="Effectue un pas de temps d&#39;Euler explicite sur l&#39;equation passee en parametre.">faire_un_pas_de_temps_eqn_base</a>(eqn_i);
<a name="l00260"></a>00260         }
<a name="l00261"></a>00261     }
<a name="l00262"></a>00262   converged=<span class="keyword">true</span>;
<a name="l00263"></a>00263   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 }
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 <span class="comment">// Precondition:</span>
<a name="l00268"></a>00268 <span class="comment">// Parametre:</span>
<a name="l00269"></a>00269 <span class="comment">// Signification:</span>
<a name="l00270"></a>00270 <span class="comment">// Valeurs par defaut:</span>
<a name="l00271"></a>00271 <span class="comment">// Contraintes:</span>
<a name="l00272"></a>00272 <span class="comment">// Acces:</span>
<a name="l00273"></a>00273 <span class="comment">// Exception:</span>
<a name="l00274"></a>00274 <span class="comment">// Effets de bord:</span>
<a name="l00275"></a>00275 <span class="comment">// Postcondition:</span>
<a name="l00276"></a>00276 <span class="comment">//</span><span class="comment"></span>
<a name="l00277"></a>00277 <span class="comment">//! Corrige le pas de temps dt_min &lt;= dt &lt;= dt_max</span>
<a name="l00278"></a>00278 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00279"></a>00279 <span class="comment">Signification: retourne corriger_pas_temps de la classe mere&lt;br&gt;</span>
<a name="l00280"></a>00280 <span class="comment">Contraintes: */</span>
<a name="l00281"></a><a class="code" href="classMulti__Sch__ThHyd.html#aa23dacd255dbea036be91e5f1c2f0a55">00281</a> <span class="keywordtype">bool</span> <a class="code" href="classMulti__Sch__ThHyd.html#aa23dacd255dbea036be91e5f1c2f0a55" title="Corrige le pas de temps dt_min &lt;= dt &lt;= dt_max.">Multi_Sch_ThHyd::corriger_dt_calcule</a>(<span class="keywordtype">double</span>&amp; dt)<span class="keyword"> const</span>
<a name="l00282"></a>00282 <span class="keyword"></span>{
<a name="l00283"></a>00283   <span class="keywordtype">bool</span> ok=<a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#a9b045f8fd0d9066b1904ecb5c97290e3" title="Corrige le pas de temps calcule que l&#39;on passe en parametre et verifie qu&#39;il n&#39;est pas &quot;trop&quot; petit (...">corriger_dt_calcule</a>(dt);
<a name="l00284"></a>00284   ok = ok &amp;&amp; <a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#a9b045f8fd0d9066b1904ecb5c97290e3" title="Corrige le pas de temps calcule que l&#39;on passe en parametre et verifie qu&#39;il n&#39;est pas &quot;trop&quot; petit (...">corriger_dt_calcule</a>(dt);
<a name="l00285"></a>00285   ok = ok &amp;&amp; <a class="code" href="classMulti__Sch__ThHyd.html#aa23dacd255dbea036be91e5f1c2f0a55" title="Corrige le pas de temps dt_min &lt;= dt &lt;= dt_max.">Schema_Temps_base::corriger_dt_calcule</a>(dt);
<a name="l00286"></a>00286   <span class="keywordflow">return</span> ok;
<a name="l00287"></a>00287 }
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 <span class="comment">// Precondition:</span>
<a name="l00291"></a>00291 <span class="comment">// Parametre: double&amp; t</span>
<a name="l00292"></a>00292 <span class="comment">// Signification: la nouvelle valeur du temps courant</span>
<a name="l00293"></a>00293 <span class="comment">// Valeurs par defaut:</span>
<a name="l00294"></a>00294 <span class="comment">// Contraintes: reference constante</span>
<a name="l00295"></a>00295 <span class="comment">// Acces:</span>
<a name="l00296"></a>00296 <span class="comment">// </span>
<a name="l00297"></a>00297 <span class="comment">// Signification:</span>
<a name="l00298"></a>00298 <span class="comment">// Contraintes:</span>
<a name="l00299"></a>00299 <span class="comment">// Exception:</span>
<a name="l00300"></a>00300 <span class="comment">// Effets de bord:</span>
<a name="l00301"></a>00301 <span class="comment">// Postcondition:</span>
<a name="l00302"></a>00302 <span class="comment">//</span>
<a name="l00303"></a>00303 <span class="comment">//</span><span class="comment"></span>
<a name="l00304"></a>00304 <span class="comment">//! Appel a l&#39;objet sous-jacent&lt;br&gt;Change le temps courant</span>
<a name="l00305"></a><a class="code" href="classMulti__Sch__ThHyd.html#afe32374d0ef97b47b6e2e0e2d92332cb">00305</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classMulti__Sch__ThHyd.html#afe32374d0ef97b47b6e2e0e2d92332cb" title="Appel a l&#39;objet sous-jacent Change le temps courant.">Multi_Sch_ThHyd::changer_temps_courant</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; t)
<a name="l00306"></a>00306 {
<a name="l00307"></a>00307   <a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#adcbfea514c4f5d155c8208084d3ffc88" title="Change le temps courant.">changer_temps_courant</a>(t);
<a name="l00308"></a>00308   <a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#adcbfea514c4f5d155c8208084d3ffc88" title="Change le temps courant.">changer_temps_courant</a>(t);
<a name="l00309"></a>00309 
<a name="l00310"></a>00310   <a class="code" href="classMulti__Sch__ThHyd.html#afe32374d0ef97b47b6e2e0e2d92332cb" title="Appel a l&#39;objet sous-jacent Change le temps courant.">Schema_Temps_base::changer_temps_courant</a>(t);
<a name="l00311"></a>00311 }
<a name="l00312"></a>00312 
<a name="l00313"></a>00313 <span class="comment">// Precondition:</span>
<a name="l00314"></a>00314 <span class="comment">// Parametre:</span>
<a name="l00315"></a>00315 <span class="comment">// Signification:</span>
<a name="l00316"></a>00316 <span class="comment">// Valeurs par defaut:</span>
<a name="l00317"></a>00317 <span class="comment">// Contraintes:</span>
<a name="l00318"></a>00318 <span class="comment">// Acces:</span>
<a name="l00319"></a>00319 <span class="comment">// Exception:</span>
<a name="l00320"></a>00320 <span class="comment">// Effets de bord:</span>
<a name="l00321"></a>00321 <span class="comment">// Postcondition:</span>
<a name="l00322"></a>00322 <span class="comment">//</span>
<a name="l00323"></a>00323 <span class="comment">//</span>
<a name="l00324"></a>00324 <span class="comment">//</span>
<a name="l00325"></a>00325 <span class="comment">//</span>
<a name="l00326"></a>00326 <span class="comment">//</span>
<a name="l00327"></a>00327 <span class="comment">//</span>
<a name="l00328"></a>00328 <span class="comment">//</span><span class="comment"></span>
<a name="l00329"></a>00329 <span class="comment">//! Appel a l&#39;objet sous-jacent&lt;br&gt;Renvoie 1 si il y lieu de stopper le calcul pour differente raisons:&lt;br&gt;- le temps final est atteint&lt;br&gt;- le nombre de pas de temps maximum est depasse&lt;br&gt;- l&#39;etat stationnaire est atteint&lt;br&gt;- indicateur d&#39;arret fichier&lt;br&gt;Renvoie 0 sinon</span>
<a name="l00330"></a>00330 <span class="comment"></span><span class="comment">/** \return entier&lt;br&gt;</span>
<a name="l00331"></a>00331 <span class="comment">Signification: 1 si il y a lieu de s&#39;arreter 0 sinon&lt;br&gt;</span>
<a name="l00332"></a>00332 <span class="comment">Contraintes: */</span>
<a name="l00333"></a><a class="code" href="classMulti__Sch__ThHyd.html#a6651ac9e59d45d684c4ae16c70705d45">00333</a> <span class="keywordtype">int</span> <a class="code" href="classMulti__Sch__ThHyd.html#a6651ac9e59d45d684c4ae16c70705d45" title="Appel a l&#39;objet sous-jacent Renvoie 1 si il y lieu de stopper le calcul pour differente raisons: - le...">Multi_Sch_ThHyd::stop</a>()<span class="keyword"> const</span>
<a name="l00334"></a>00334 <span class="keyword"></span>{
<a name="l00335"></a>00335   <span class="keywordtype">int</span> ls2 = <a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#a4231b9b624ea282ee8f9555e9ebc9139" title="Renvoie 1 si il y lieu de stopper le calcul pour differente raisons: - le temps final est atteint - l...">stop</a>();
<a name="l00336"></a>00336   <span class="keywordtype">int</span> ls3 = <a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#a4231b9b624ea282ee8f9555e9ebc9139" title="Renvoie 1 si il y lieu de stopper le calcul pour differente raisons: - le temps final est atteint - l...">stop</a>();
<a name="l00337"></a>00337 
<a name="l00338"></a>00338   <span class="keywordflow">return</span> (ls2 | ls3 | <a class="code" href="classSchema__Temps__base.html#a4231b9b624ea282ee8f9555e9ebc9139" title="Renvoie 1 si il y lieu de stopper le calcul pour differente raisons: - le temps final est atteint - l...">Schema_Temps_base::stop</a>());
<a name="l00339"></a>00339 }
<a name="l00340"></a>00340 
<a name="l00341"></a>00341 
<a name="l00342"></a>00342 
<a name="l00343"></a>00343 <span class="comment">// Precondition:</span>
<a name="l00344"></a>00344 <span class="comment">// Parametre: Sortie&amp; os</span>
<a name="l00345"></a>00345 <span class="comment">// Signification: le flot de sortie</span>
<a name="l00346"></a>00346 <span class="comment">// Valeurs par defaut:</span>
<a name="l00347"></a>00347 <span class="comment">// Contraintes:</span>
<a name="l00348"></a>00348 <span class="comment">// Acces: entree/sortie</span>
<a name="l00349"></a>00349 <span class="comment">// </span>
<a name="l00350"></a>00350 <span class="comment">// Signification:</span>
<a name="l00351"></a>00351 <span class="comment">// Contraintes:</span>
<a name="l00352"></a>00352 <span class="comment">// Exception:</span>
<a name="l00353"></a>00353 <span class="comment">// Effets de bord:</span>
<a name="l00354"></a>00354 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00355"></a>00355 <span class="comment">//</span>
<a name="l00356"></a>00356 <span class="comment">//</span><span class="comment"></span>
<a name="l00357"></a>00357 <span class="comment">//! Appel a l&#39;objet sous-jacent&lt;br&gt;Imprime le schema en temp sur un flot de sortie (si il y a lieu).</span>
<a name="l00358"></a><a class="code" href="classMulti__Sch__ThHyd.html#a11426c24fe207930200fcc910dbdd6e2">00358</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classMulti__Sch__ThHyd.html#a11426c24fe207930200fcc910dbdd6e2" title="Appel a l&#39;objet sous-jacent Imprime le schema en temp sur un flot de sortie (si il y a lieu)...">Multi_Sch_ThHyd::imprimer</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00359"></a>00359 <span class="keyword"></span>{
<a name="l00360"></a>00360   <a class="code" href="classMulti__Sch__ThHyd.html#a0d127aa7e2d1b0b6cfd354ac00c76ec0">sch_ns</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#ae73d6adc67b91d88e6bda286117d6fdb" title="Imprime le pas de temps sur un flot de sortie s&#39;il y a lieu.">imprimer</a>(os);
<a name="l00361"></a>00361   <a class="code" href="classMulti__Sch__ThHyd.html#a4103f146e08b5dc14ad2c3e80a52b865">sch_scalaires</a>.<a class="code" href="classDeriv__Schema__Temps__base.html#aa12c06568dc7f181cd2e8b82d71a37f4">valeur</a>().<a class="code" href="classSchema__Temps__base.html#ae73d6adc67b91d88e6bda286117d6fdb" title="Imprime le pas de temps sur un flot de sortie s&#39;il y a lieu.">imprimer</a>(os);
<a name="l00362"></a>00362 
<a name="l00363"></a>00363   <a class="code" href="classMulti__Sch__ThHyd.html#a11426c24fe207930200fcc910dbdd6e2" title="Appel a l&#39;objet sous-jacent Imprime le schema en temp sur un flot de sortie (si il y a lieu)...">Schema_Temps_base::imprimer</a>(os);
<a name="l00364"></a>00364 }
<a name="l00365"></a>00365 
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:36 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
