<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Math/IntTab.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Math/IntTab.cpp</div>  </div>
</div>
<div class="contents">
<a href="IntTab_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        IntTab.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Math</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/10</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 <span class="comment">// </span>
<a name="l00023"></a>00023 <span class="comment">// WARNING: DO NOT EDIT THIS FILE! Only edit the template file IntTab.cpp.P</span>
<a name="l00024"></a>00024 <span class="comment">// </span>
<a name="l00025"></a>00025 <span class="comment">// </span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="IntTab_8h.html">IntTab.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="MD__Vector__base_8h.html">MD_Vector_base.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Ref__IntTab_8h.html">Ref_IntTab.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Vect__IntTab_8h.html">Vect_IntTab.h</a>&gt;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a><a class="code" href="IntTab_8cpp.html#a1be7fe37f773c5fe95ce7b0e9b13cbcf">00031</a> <a class="code" href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>, <span class="stringliteral">&quot;IntTab&quot;</span>,<a class="code" href="classIntVect.html">IntVect</a>);
<a name="l00032"></a><a class="code" href="IntTab_8cpp.html#acbc6456f667377f218ddbe01927a6105">00032</a> <a class="code" href="MacRef_8h.html#a67b571ae2caa2f388a7d532cf57553fe">Implemente_ref</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>);
<a name="l00033"></a><a class="code" href="IntTab_8cpp.html#a8eb8d482f94424ec31cd868de8935249">00033</a> <a class="code" href="MacVect_8h.html#a0c9b693e7e6836489732c32b7a972a03">Implemente_vect</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>);
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 <span class="comment">// Verifie la coherence entre size_array(), line_size() et les dimensions du tableau</span>
<a name="l00036"></a>00036 <span class="preprocessor">#if MAXDIM_TAB != 4</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span><span class="preprocessor">#error Mettre a jour le code pour MAXDIM_TAB pour CHECK_LINE_SIZE</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00039"></a><a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">00039</a> <span class="preprocessor"></span><span class="preprocessor">#define CHECK_LINE_SIZE                                                        \</span>
<a name="l00040"></a>00040 <span class="preprocessor">  ((line_size() == ((nb_dim_&gt;1)?dimensions_[1]:1)*((nb_dim_&gt;2)?dimensions_[2]:1)*((nb_dim_&gt;3)?dimensions_[3]:1)) \</span>
<a name="l00041"></a>00041 <span class="preprocessor">   &amp;&amp; (line_size() * dimension_tot_0_ == size_array()))</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a>00043 <span class="comment">//</span>
<a name="l00044"></a>00044 <span class="comment">//</span><span class="comment"></span>
<a name="l00045"></a>00045 <span class="comment">//! ecriture d&#39;un tableau sequentiel&lt;br&gt;(idem que IntVect::printOn() on ne sait pas quoi faire de pertinent&lt;br&gt;pour un tableau distribue).</span>
<a name="l00046"></a><a class="code" href="classIntTab.html#a32ab42cbc6be5b8f83e2133aacfbe282">00046</a> <span class="comment"></span><a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classIntTab.html#a32ab42cbc6be5b8f83e2133aacfbe282" title="ecriture d&#39;un tableau sequentiel (idem que IntVect::printOn() on ne sait pas quoi faire de pertinent ...">IntTab::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00047"></a>00047 <span class="keyword"></span>{
<a name="l00048"></a>00048   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00049"></a>00049   <span class="keywordflow">if</span> (<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">nproc</a>() &gt; 1 &amp;&amp; <a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>().non_nul())
<a name="l00050"></a>00050     {
<a name="l00051"></a>00051       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in IntTab::printOn: try to print a parallel vector&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00052"></a>00052       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00053"></a>00053     }
<a name="l00054"></a>00054   os &lt;&lt; <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00055"></a>00055   assert(<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] == <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a>);
<a name="l00056"></a>00056   <span class="keywordflow">if</span> (<a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> &gt; 0)
<a name="l00057"></a>00057     os.<a class="code" href="classSortie.html#aa3f46aaccaff0f83c018784b50d8ea24" title="Methode de bas niveau pour ecrire un tableau d&#39;ints ou reels dans le stream. Dans l&#39;implementation de...">put</a>(<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>, <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>, <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>);
<a name="l00058"></a>00058 
<a name="l00059"></a>00059   <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="Nom_8cpp.html#a0e1ea19fb9fa7881d15d84eff4c090e1">sz</a> = <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00060"></a>00060   os &lt;&lt; sz &lt;&lt; finl;
<a name="l00061"></a>00061   <span class="keyword">const</span> <span class="keywordtype">int</span> l_size = <a class="code" href="classIntVect.html#a5ba680066169c8e057bb3e3b876e4a8c">line_size</a>();
<a name="l00062"></a>00062   <span class="keyword">const</span> <span class="keywordtype">int</span> *data = <a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();
<a name="l00063"></a>00063   <span class="keywordflow">if</span> (sz &gt; 0)
<a name="l00064"></a>00064     os.<a class="code" href="classSortie.html#aa3f46aaccaff0f83c018784b50d8ea24" title="Methode de bas niveau pour ecrire un tableau d&#39;ints ou reels dans le stream. Dans l&#39;implementation de...">put</a>(data, sz, l_size);
<a name="l00065"></a>00065   <span class="keywordflow">return</span> os;
<a name="l00066"></a>00066 }
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="comment">// Precondition: le md_vector_ doit etre nul.</span><span class="comment"></span>
<a name="l00069"></a>00069 <span class="comment">//! lecture d&#39;un tableau sequentiel</span>
<a name="l00070"></a><a class="code" href="classIntTab.html#ac3d58e040e6c3cfb429f6d3a7206bf7e">00070</a> <span class="comment"></span><a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classIntTab.html#ac3d58e040e6c3cfb429f6d3a7206bf7e" title="lecture d&#39;un tableau sequentiel">IntTab::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00071"></a>00071 {
<a name="l00072"></a>00072   <span class="keywordflow">if</span> (<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>().non_nul())
<a name="l00073"></a>00073     {
<a name="l00074"></a>00074 <span class="comment">// Que veut-on faire si on lit dans un vecteur ayant deja une structure parallele ?</span>
<a name="l00075"></a>00075       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in IntTab::readOn: vector has a parallel structure&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00076"></a>00076       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00077"></a>00077     }
<a name="l00078"></a>00078 
<a name="l00079"></a>00079   is &gt;&gt; <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>;
<a name="l00080"></a>00080   <span class="keywordflow">if</span> (nb_dim_ &lt; 1 || nb_dim_ &gt; <a class="code" href="DoubleTab_8h.html#a33188f2eb375dc4641b3e51d55e65efe">MAXDIM_TAB</a>)
<a name="l00081"></a>00081     {
<a name="l00082"></a>00082       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in IntTab::readOn: wrong nb_dim_ = &quot;</span> &lt;&lt; nb_dim_ &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00083"></a>00083       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00084"></a>00084     }
<a name="l00085"></a>00085   is.<a class="code" href="classEntree.html#aa434f5ceb8169e469613d1f6cd1fd99f" title="methode virtuelle pour lire un tableau d&#39;ints ou reels&lt;br&gt;(le tableau doit avoir la bonne dimension: ...">get</a>(<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>, nb_dim_);
<a name="l00086"></a>00086   <span class="keywordflow">if</span> (<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] &lt; 0)
<a name="l00087"></a>00087     {
<a name="l00088"></a>00088       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in IntTab::readOn: wrong dimension(0) = &quot;</span> &lt;&lt; <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00089"></a>00089       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00090"></a>00090     }
<a name="l00091"></a>00091   <span class="keywordtype">int</span> l_size = 1;
<a name="l00092"></a>00092   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>; i++)
<a name="l00093"></a>00093     {
<a name="l00094"></a>00094       <span class="keywordflow">if</span> (<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i] &lt; 0)
<a name="l00095"></a>00095         {
<a name="l00096"></a>00096           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in IntTab::readOn: wrong dimension(&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;) = &quot;</span> &lt;&lt; <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i] &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00097"></a>00097           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00098"></a>00098         }
<a name="l00099"></a>00099       l_size *= <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i];
<a name="l00100"></a>00100     }
<a name="l00101"></a>00101   <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0];
<a name="l00102"></a>00102   <a class="code" href="classIntTab.html#ac3d58e040e6c3cfb429f6d3a7206bf7e" title="lecture d&#39;un tableau sequentiel">IntVect::readOn</a>(is);
<a name="l00103"></a>00103   <a class="code" href="classIntVect.html#a8a67ca1ca7d88412ce7e85a04d0daa03" title="change l&#39;attribut line_size_ du tableau avec n &gt;= 1 n == 0 est autorise uniquement si size_array_ == ...">set_line_size_</a>(l_size);
<a name="l00104"></a>00104   <span class="keywordflow">if</span> (<a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> * l_size != <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>())
<a name="l00105"></a>00105     {
<a name="l00106"></a>00106       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in IntTab::readOn: wrong size_array &quot;</span> &lt;&lt; <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>()
<a name="l00107"></a>00107            &lt;&lt; <span class="stringliteral">&quot;, expected &quot;</span> &lt;&lt; <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> * l_size &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00108"></a>00108       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00109"></a>00109     }
<a name="l00110"></a>00110   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00111"></a>00111   <span class="keywordflow">return</span> is;
<a name="l00112"></a>00112 }
<a name="l00113"></a>00113 
<a name="l00114"></a><a class="code" href="IntTab_8cpp.html#a24dbd61e80deb07a91a34f41026bc5a1">00114</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="IntTab_8cpp.html#a24dbd61e80deb07a91a34f41026bc5a1">init_dimensions</a>(<span class="keywordtype">int</span> * tab)
<a name="l00115"></a>00115 {
<a name="l00116"></a>00116 <span class="preprocessor">#ifndef NDEBUG</span>
<a name="l00117"></a>00117 <span class="preprocessor"></span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="DoubleTab_8h.html#a33188f2eb375dc4641b3e51d55e65efe">MAXDIM_TAB</a>; i++)
<a name="l00118"></a>00118     tab[i] = -1;
<a name="l00119"></a>00119 <span class="preprocessor">#endif</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span>}
<a name="l00121"></a>00121 
<a name="l00122"></a><a class="code" href="classIntTab.html#aaf9dfd5971c7b86ee720e54b65eeb5eb">00122</a> <a class="code" href="classIntTab.html#aaf9dfd5971c7b86ee720e54b65eeb5eb">IntTab::IntTab</a>() :
<a name="l00123"></a>00123   nb_dim_(1), dimension_tot_0_(0)
<a name="l00124"></a>00124 {
<a name="l00125"></a>00125   <a class="code" href="IntTab_8cpp.html#a24dbd61e80deb07a91a34f41026bc5a1">init_dimensions</a>(<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>);
<a name="l00126"></a>00126   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = 0;
<a name="l00127"></a>00127 }
<a name="l00128"></a>00128 
<a name="l00129"></a><a class="code" href="classIntTab.html#a0d5f74185262e918bd13a4eb56e8b45b">00129</a> <a class="code" href="classIntTab.html#aaf9dfd5971c7b86ee720e54b65eeb5eb">IntTab::IntTab</a>(<span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; dbt) :
<a name="l00130"></a>00130   <a class="code" href="classIntVect.html">IntVect</a>(dbt),
<a name="l00131"></a>00131   nb_dim_(dbt.nb_dim_),
<a name="l00132"></a>00132   dimension_tot_0_(dbt.dimension_tot_0_)
<a name="l00133"></a>00133 {
<a name="l00134"></a>00134   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="DoubleTab_8h.html#a33188f2eb375dc4641b3e51d55e65efe">MAXDIM_TAB</a>; i++)
<a name="l00135"></a>00135     <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i] = dbt.<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i];
<a name="l00136"></a>00136 }
<a name="l00137"></a><a class="code" href="IntTab_8cpp.html#a5adc94eddb7b51839bce186f964b0c63">00137</a> <span class="preprocessor">#define PARAM_X</span>
<a name="l00138"></a><a class="code" href="IntTab_8cpp.html#a7ac110386e72148c479a2534414ed3e6">00138</a> <span class="preprocessor"></span><span class="preprocessor">#define PARAM_X2</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span>
<a name="l00140"></a><a class="code" href="classIntTab.html#a2a3c7ca487d0212b1644a3c8fa3c60d6">00140</a> <a class="code" href="classIntTab.html#aaf9dfd5971c7b86ee720e54b65eeb5eb">IntTab::IntTab</a>(<span class="keywordtype">int</span> n <a class="code" href="IntTab_8cpp.html#a5adc94eddb7b51839bce186f964b0c63">PARAM_X</a>)
<a name="l00141"></a>00141   : <a class="code" href="classIntVect.html">IntVect</a>(n <a class="code" href="IntTab_8cpp.html#a7ac110386e72148c479a2534414ed3e6">PARAM_X2</a>),
<a name="l00142"></a>00142     nb_dim_(1),
<a name="l00143"></a>00143     dimension_tot_0_(n)
<a name="l00144"></a>00144 {
<a name="l00145"></a>00145   <a class="code" href="IntTab_8cpp.html#a24dbd61e80deb07a91a34f41026bc5a1">init_dimensions</a>(<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>);
<a name="l00146"></a>00146   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = n;
<a name="l00147"></a>00147 }
<a name="l00148"></a>00148 
<a name="l00149"></a><a class="code" href="classIntTab.html#ae982d3179f9d93a7c57b8824ecfd9197">00149</a> <a class="code" href="classIntTab.html#aaf9dfd5971c7b86ee720e54b65eeb5eb">IntTab::IntTab</a>(<span class="keywordtype">int</span> n1, <span class="keywordtype">int</span> n2 <a class="code" href="IntTab_8cpp.html#a5adc94eddb7b51839bce186f964b0c63">PARAM_X</a>)
<a name="l00150"></a>00150   : <a class="code" href="classIntVect.html">IntVect</a>(n1*n2 <a class="code" href="IntTab_8cpp.html#a7ac110386e72148c479a2534414ed3e6">PARAM_X2</a>),
<a name="l00151"></a>00151     nb_dim_(2),
<a name="l00152"></a>00152     dimension_tot_0_(n1)
<a name="l00153"></a>00153 {
<a name="l00154"></a>00154   assert(n1 &gt;= 0 &amp;&amp; n2 &gt;= 0);
<a name="l00155"></a>00155   <span class="keywordflow">if</span> (n1*n2&lt;0)
<a name="l00156"></a>00156     {
<a name="l00157"></a>00157       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;n1*n2 &gt; 2^31. Error! Contact TRUST support, integer 32 bits limit exceeded with n1=&quot;</span> &lt;&lt; n1 &lt;&lt; <span class="stringliteral">&quot; and n2=&quot;</span> &lt;&lt; n2 &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00158"></a>00158       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00159"></a>00159     }
<a name="l00160"></a>00160   <a class="code" href="IntTab_8cpp.html#a24dbd61e80deb07a91a34f41026bc5a1">init_dimensions</a>(<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>);
<a name="l00161"></a>00161   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0]=n1;
<a name="l00162"></a>00162   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[1]=n2;
<a name="l00163"></a>00163   <a class="code" href="classIntVect.html#a8a67ca1ca7d88412ce7e85a04d0daa03" title="change l&#39;attribut line_size_ du tableau avec n &gt;= 1 n == 0 est autorise uniquement si size_array_ == ...">set_line_size_</a>(n2);
<a name="l00164"></a>00164 }
<a name="l00165"></a>00165 <span class="preprocessor">#ifdef INT_is_64_</span>
<a name="l00166"></a>00166 <span class="preprocessor"></span><a class="code" href="classIntTab.html#aaf9dfd5971c7b86ee720e54b65eeb5eb">IntTab::IntTab</a>(<span class="keywordtype">int</span> n1, <a class="code" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> n2 <a class="code" href="IntTab_8cpp.html#a5adc94eddb7b51839bce186f964b0c63">PARAM_X</a>)
<a name="l00167"></a>00167   : <a class="code" href="classIntVect.html">IntVect</a>(n1*n2 <a class="code" href="IntTab_8cpp.html#a7ac110386e72148c479a2534414ed3e6">PARAM_X2</a>),
<a name="l00168"></a>00168     nb_dim_(2),
<a name="l00169"></a>00169     dimension_tot_0_(n1)
<a name="l00170"></a>00170 {
<a name="l00171"></a>00171   assert(n1 &gt;= 0 &amp;&amp; n2 &gt;= 0);
<a name="l00172"></a>00172   <span class="keywordflow">if</span> (n1*n2&lt;0)
<a name="l00173"></a>00173     {
<a name="l00174"></a>00174       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;n1*n2 &gt; 2^31. Error! Contact TRUST support, integer 32 bits limit exceeded with n1=&quot;</span> &lt;&lt; n1 &lt;&lt; <span class="stringliteral">&quot; and n2=&quot;</span> &lt;&lt;(int) n2 &lt;&lt; finl;
<a name="l00175"></a>00175       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00176"></a>00176     }
<a name="l00177"></a>00177   <a class="code" href="IntTab_8cpp.html#a24dbd61e80deb07a91a34f41026bc5a1">init_dimensions</a>(<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>);
<a name="l00178"></a>00178   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0]=n1;
<a name="l00179"></a>00179   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[1]=n2;
<a name="l00180"></a>00180   <a class="code" href="classIntVect.html#a8a67ca1ca7d88412ce7e85a04d0daa03" title="change l&#39;attribut line_size_ du tableau avec n &gt;= 1 n == 0 est autorise uniquement si size_array_ == ...">set_line_size_</a>(n2);
<a name="l00181"></a>00181 }
<a name="l00182"></a>00182 <span class="preprocessor">#endif</span>
<a name="l00183"></a>00183 <span class="preprocessor"></span>
<a name="l00184"></a><a class="code" href="classIntTab.html#ac9b12688370a37ab00b39f77d9b3ed73">00184</a> <a class="code" href="classIntTab.html#aaf9dfd5971c7b86ee720e54b65eeb5eb">IntTab::IntTab</a>(<span class="keywordtype">int</span> n1, <span class="keywordtype">int</span> n2, <span class="keywordtype">int</span> n3 PARAM_X)
<a name="l00185"></a>00185   : <a class="code" href="classIntVect.html">IntVect</a>(n1*n2*n3 <a class="code" href="IntTab_8cpp.html#a7ac110386e72148c479a2534414ed3e6">PARAM_X2</a>),
<a name="l00186"></a>00186     nb_dim_(3),
<a name="l00187"></a>00187     dimension_tot_0_(n1)
<a name="l00188"></a>00188 {
<a name="l00189"></a>00189   assert(n1 &gt;= 0 &amp;&amp; n2 &gt;= 0 &amp;&amp; n3 &gt;= 0);
<a name="l00190"></a>00190   <span class="keywordflow">if</span> (n1*n2*n3&lt;0)
<a name="l00191"></a>00191     {
<a name="l00192"></a>00192       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;n1*n2*n3 &gt; 2^31. Error! Contact TRUST support, integer 32 bits limit exceeded with n1=&quot;</span> &lt;&lt; n1 &lt;&lt; <span class="stringliteral">&quot; and n2=&quot;</span> &lt;&lt; n2 &lt;&lt; <span class="stringliteral">&quot; and n3=&quot;</span> &lt;&lt; n3 &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00193"></a>00193       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00194"></a>00194     }
<a name="l00195"></a>00195   <a class="code" href="IntTab_8cpp.html#a24dbd61e80deb07a91a34f41026bc5a1">init_dimensions</a>(<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>);
<a name="l00196"></a>00196   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0]=n1;
<a name="l00197"></a>00197   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[1]=n2;
<a name="l00198"></a>00198   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[2]=n3;
<a name="l00199"></a>00199   <a class="code" href="classIntVect.html#a8a67ca1ca7d88412ce7e85a04d0daa03" title="change l&#39;attribut line_size_ du tableau avec n &gt;= 1 n == 0 est autorise uniquement si size_array_ == ...">set_line_size_</a>(n2*n3);
<a name="l00200"></a>00200 }
<a name="l00201"></a>00201 
<a name="l00202"></a><a class="code" href="classIntTab.html#a481a2a875ea97415e54c555478bdbf76">00202</a> <a class="code" href="classIntTab.html#aaf9dfd5971c7b86ee720e54b65eeb5eb">IntTab::IntTab</a>(<span class="keywordtype">int</span> n1, <span class="keywordtype">int</span> n2, <span class="keywordtype">int</span> n3, <span class="keywordtype">int</span> n4 PARAM_X)
<a name="l00203"></a>00203   : <a class="code" href="classIntVect.html">IntVect</a>(n1*n2*n3*n4 <a class="code" href="IntTab_8cpp.html#a7ac110386e72148c479a2534414ed3e6">PARAM_X2</a>),
<a name="l00204"></a>00204     nb_dim_(4),
<a name="l00205"></a>00205     dimension_tot_0_(n1)
<a name="l00206"></a>00206 {
<a name="l00207"></a>00207   assert(n1 &gt;= 0 &amp;&amp; n2 &gt;= 0 &amp;&amp; n3 &gt;= 0 &amp;&amp; n4 &gt;= 0);
<a name="l00208"></a>00208   <span class="keywordflow">if</span> (n1*n2*n3*n4&lt;0)
<a name="l00209"></a>00209     {
<a name="l00210"></a>00210       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;n1*n2*n3*n4 &gt; 2^31. Error! Contact TRUST support, integer 32 bits limit exceeded with n1=&quot;</span> &lt;&lt; n1 &lt;&lt; <span class="stringliteral">&quot; and n2=&quot;</span> &lt;&lt; n2 &lt;&lt; <span class="stringliteral">&quot; and n3=&quot;</span> &lt;&lt; n3 &lt;&lt; <span class="stringliteral">&quot; and n3=&quot;</span> &lt;&lt; n3 &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00211"></a>00211       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00212"></a>00212     }
<a name="l00213"></a>00213   <a class="code" href="IntTab_8cpp.html#a24dbd61e80deb07a91a34f41026bc5a1">init_dimensions</a>(<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>);
<a name="l00214"></a>00214   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0]=n1;
<a name="l00215"></a>00215   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[1]=n2;
<a name="l00216"></a>00216   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[2]=n3;
<a name="l00217"></a>00217   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[3]=n4;
<a name="l00218"></a>00218   <a class="code" href="classIntVect.html#a8a67ca1ca7d88412ce7e85a04d0daa03" title="change l&#39;attribut line_size_ du tableau avec n &gt;= 1 n == 0 est autorise uniquement si size_array_ == ...">set_line_size_</a>(n2*n3*n4);
<a name="l00219"></a>00219 }
<a name="l00220"></a>00220 
<a name="l00221"></a>00221 <span class="comment">// Precondition: le vecteur v doit vraiment etre de type Vect !</span>
<a name="l00222"></a>00222 <span class="comment">// (sinon utiliser IntTab::ref(const IntTab &amp;)</span>
<a name="l00223"></a>00223 <span class="comment">//</span>
<a name="l00224"></a>00224 <span class="comment">//</span>
<a name="l00225"></a>00225 <span class="comment">//</span>
<a name="l00226"></a>00226 <span class="comment">//</span>
<a name="l00227"></a>00227 <span class="comment">//</span><span class="comment"></span>
<a name="l00228"></a>00228 <span class="comment">//! fait pointer le tableau sur le vecteur v et en associant&lt;br&gt;la meme structure parallele.&lt;br&gt;Attention, si line_size du vecteur v est different de 1,&lt;br&gt;on cree un tableau bidimensionnel (on peut avoir un vecteur&lt;br&gt;de ce type si on copie un Tab dans un Vect puis on prend&lt;br&gt;une ref sur ce Vect).</span>
<a name="l00229"></a><a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d">00229</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">IntTab::ref</a>(<span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; v)
<a name="l00230"></a>00230 {
<a name="l00231"></a>00231   assert(v.<a class="code" href="classIntVect.html#a7fb41e29109cda329b88ed5a6483bde8" title="Donne des informations sur le type de l&#39;Objet_U.">get_info</a>() == <a class="code" href="classIntTab.html#ac67599f6de641e639fb9a7838df427d0" title="Donne des informations sur le type de l&#39;Objet_U.">IntVect::info</a>());
<a name="l00232"></a>00232   <a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">IntVect::ref</a>(v);
<a name="l00233"></a>00233   <span class="keyword">const</span> <span class="keywordtype">int</span> l = v.<a class="code" href="classIntVect.html#a5ba680066169c8e057bb3e3b876e4a8c">line_size</a>();
<a name="l00234"></a>00234 <span class="comment">// Attention:</span>
<a name="l00235"></a>00235 <span class="comment">// En prenant la ref, on est oblige de conserver l&#39;attribut line_size</span>
<a name="l00236"></a>00236 <span class="comment">// du Vect (sinon echange_espace_virtuel ne fonctionnera pas car</span>
<a name="l00237"></a>00237 <span class="comment">// on n&#39;aura pas le bon facteur multiplicatif des items geometriques)</span>
<a name="l00238"></a>00238 <span class="comment">// Si on voulait creer un tableau monodimensionnel avec line_size &gt; 1,</span>
<a name="l00239"></a>00239 <span class="comment">// le tableau devient invalide car on n&#39;a plus line_size = produit des</span>
<a name="l00240"></a>00240 <span class="comment">// dimensions &gt; 1.</span>
<a name="l00241"></a>00241 <span class="comment">// On peut le faire a condition de laisser tomber le md_vector_ en</span>
<a name="l00242"></a>00242 <span class="comment">// faisant  tab.ref_array(v) au lieu de  tab.ref(v)</span>
<a name="l00243"></a>00243   <span class="keywordflow">if</span> (l == 1)
<a name="l00244"></a>00244     {
<a name="l00245"></a>00245       <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = 1;
<a name="l00246"></a>00246     }
<a name="l00247"></a>00247   <span class="keywordflow">else</span>
<a name="l00248"></a>00248     {
<a name="l00249"></a>00249       <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = 2;
<a name="l00250"></a>00250       <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[1] = l;
<a name="l00251"></a>00251     }
<a name="l00252"></a>00252   <span class="keywordflow">if</span> (v.<a class="code" href="classIntVect.html#a35e89309e432d5aa6690cd85a3c0e268">size_reelle_ok</a>())
<a name="l00253"></a>00253     {
<a name="l00254"></a>00254       <span class="keywordtype">int</span> <a class="code" href="Nom_8cpp.html#a0e1ea19fb9fa7881d15d84eff4c090e1">sz</a> = v.<a class="code" href="classIntVect.html#ae17a73660093eb1d4e90fd8d0ec52670" title="Taille de l&#39;espace &quot;reel&quot; du vecteur. (si md_vector_ est nul, cette valeur est identique a size_arr...">size_reelle</a>();
<a name="l00255"></a>00255       <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = sz / l;
<a name="l00256"></a>00256     }
<a name="l00257"></a>00257   <span class="keywordflow">else</span>
<a name="l00258"></a>00258     {
<a name="l00259"></a>00259       <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = -1;
<a name="l00260"></a>00260     }
<a name="l00261"></a>00261   <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() / l;
<a name="l00262"></a>00262   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00263"></a>00263 }
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 <span class="comment">//</span>
<a name="l00266"></a>00266 <span class="comment">//</span><span class="comment"></span>
<a name="l00267"></a>00267 <span class="comment">//! fait pointer le tableau sur le tableau t&lt;br&gt;en recuperant la structure parallele. Attention,&lt;br&gt;on fige le tableau qui ne pourra plus etre resize</span>
<a name="l00268"></a><a class="code" href="classIntTab.html#ac0f3b3a64877102152c6dcda1f46d1d7">00268</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">IntTab::ref</a>(<span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; src)
<a name="l00269"></a>00269 {
<a name="l00270"></a>00270   <a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">IntVect::ref</a>(src);
<a name="l00271"></a>00271   <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = src.<a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>;
<a name="l00272"></a>00272   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="DoubleTab_8h.html#a33188f2eb375dc4641b3e51d55e65efe">MAXDIM_TAB</a>; i++)
<a name="l00273"></a>00273     <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i] = src.<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i];
<a name="l00274"></a>00274   <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = src.<a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a>;
<a name="l00275"></a>00275   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00276"></a>00276 }
<a name="l00277"></a>00277 <span class="comment"></span>
<a name="l00278"></a>00278 <span class="comment">//! identique a DoubleVect::ref_data()</span>
<a name="l00279"></a><a class="code" href="classIntTab.html#a9fc9043361eded7804f208d8e1f87f45">00279</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a9fc9043361eded7804f208d8e1f87f45" title="identique a DoubleVect::ref_data()">IntTab::ref_data</a>(<span class="keywordtype">int</span>* ptr, <span class="keywordtype">int</span> new_size)
<a name="l00280"></a>00280 {
<a name="l00281"></a>00281   <a class="code" href="classIntTab.html#a9fc9043361eded7804f208d8e1f87f45" title="identique a DoubleVect::ref_data()">IntVect::ref_data</a>(ptr, new_size);
<a name="l00282"></a>00282   assert(!<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>().non_nul() &amp;&amp; <a class="code" href="classIntVect.html#ae17a73660093eb1d4e90fd8d0ec52670" title="Taille de l&#39;espace &quot;reel&quot; du vecteur. (si md_vector_ est nul, cette valeur est identique a size_arr...">size_reelle</a>() == <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>());
<a name="l00283"></a>00283   <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = 1;
<a name="l00284"></a>00284   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = new_size;
<a name="l00285"></a>00285   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00286"></a>00286 }
<a name="l00287"></a>00287 
<a name="l00288"></a>00288 <span class="comment">//</span>
<a name="l00289"></a>00289 <span class="comment">//</span>
<a name="l00290"></a>00290 <span class="comment">//</span><span class="comment"></span>
<a name="l00291"></a>00291 <span class="comment">//! identique a DoubleVect::ref_array()&lt;br&gt;(cree un tableau monodimensionnel sans structure parallele)&lt;br&gt;Attention, le tableau source et destination sont figes (resize interdit)&lt;br&gt;(voir ArrOfInt::</span>
<a name="l00292"></a><a class="code" href="classIntTab.html#a42dfa6b5dafbf88d38adae8872a0be0b">00292</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a42dfa6b5dafbf88d38adae8872a0be0b" title="identique a DoubleVect::ref_array() (cree un tableau monodimensionnel sans structure parallele) Atten...">IntTab::ref_array</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; src, <span class="keywordtype">int</span> start, <span class="keywordtype">int</span> <a class="code" href="Nom_8cpp.html#a0e1ea19fb9fa7881d15d84eff4c090e1">sz</a>)
<a name="l00293"></a>00293 {
<a name="l00294"></a>00294   <a class="code" href="classIntTab.html#a42dfa6b5dafbf88d38adae8872a0be0b" title="identique a DoubleVect::ref_array() (cree un tableau monodimensionnel sans structure parallele) Atten...">IntVect::ref_array</a>(src, start, sz);
<a name="l00295"></a>00295   assert(!<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>().non_nul() &amp;&amp; <a class="code" href="classIntVect.html#ae17a73660093eb1d4e90fd8d0ec52670" title="Taille de l&#39;espace &quot;reel&quot; du vecteur. (si md_vector_ est nul, cette valeur est identique a size_arr...">size_reelle</a>() == <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>());
<a name="l00296"></a>00296   <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = 1;
<a name="l00297"></a>00297   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>(); <span class="comment">//!&lt; pas sz qui peut valoir -1</span>
<a name="l00298"></a>00298 <span class="comment"></span>  assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00299"></a>00299 }
<a name="l00300"></a>00300 
<a name="l00301"></a>00301 <span class="comment">//</span>
<a name="l00302"></a>00302 <span class="comment">//</span>
<a name="l00303"></a>00303 <span class="comment">//</span>
<a name="l00304"></a>00304 <span class="comment">//</span><span class="comment"></span>
<a name="l00305"></a>00305 <span class="comment">//! fait pointer le tableau sur une sous-partie du tableau t&lt;br&gt;definie par la valeur du premier indice et ne nombre de &quot;lignes&quot; du tableau&lt;br&gt;a recuperer (une ligne = toutes les valeurs tab(i,j,k,...) pour un i donne).&lt;br&gt;Le nombre de dimensions du tableau est le meme que pour t,&lt;br&gt;les dimension(i) pour i&gt;=1 sont les memes et dimension(0) = nb_lines.</span>
<a name="l00306"></a><a class="code" href="classIntTab.html#ad0bba4365de7261eb1cfccdd72d97255">00306</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classIntTab.html#ad0bba4365de7261eb1cfccdd72d97255" title="fait pointer le tableau sur une sous-partie du tableau t definie par la valeur du premier indice et n...">IntTab::ref_tab</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; t, <span class="keywordtype">int</span> start_line, <span class="keywordtype">int</span> nb_lines)
<a name="l00307"></a>00307 {
<a name="l00308"></a>00308   <span class="keywordflow">if</span> (nb_lines &lt; 0)
<a name="l00309"></a>00309     nb_lines = t.<a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> - start_line;
<a name="l00310"></a>00310   assert(start_line &gt;= 0 &amp;&amp; nb_lines &gt;= 0 &amp;&amp; start_line + nb_lines &lt;= t.<a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a>);
<a name="l00311"></a>00311   <span class="keyword">const</span> <span class="keywordtype">int</span> l_size = t.<a class="code" href="classIntVect.html#a5ba680066169c8e057bb3e3b876e4a8c">line_size</a>();
<a name="l00312"></a>00312   <a class="code" href="classIntTab.html#a42dfa6b5dafbf88d38adae8872a0be0b" title="identique a DoubleVect::ref_array() (cree un tableau monodimensionnel sans structure parallele) Atten...">IntVect::ref_array</a>(t, start_line * l_size, nb_lines * l_size);
<a name="l00313"></a>00313   assert(!<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>().non_nul() &amp;&amp; <a class="code" href="classIntVect.html#ae17a73660093eb1d4e90fd8d0ec52670" title="Taille de l&#39;espace &quot;reel&quot; du vecteur. (si md_vector_ est nul, cette valeur est identique a size_arr...">size_reelle</a>() == <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>());
<a name="l00314"></a>00314   <a class="code" href="classIntVect.html#a8a67ca1ca7d88412ce7e85a04d0daa03" title="change l&#39;attribut line_size_ du tableau avec n &gt;= 1 n == 0 est autorise uniquement si size_array_ == ...">set_line_size_</a>(l_size);
<a name="l00315"></a>00315   <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = t.<a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>;
<a name="l00316"></a>00316   <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = nb_lines;
<a name="l00317"></a>00317   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = nb_lines;
<a name="l00318"></a>00318   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; <a class="code" href="DoubleTab_8h.html#a33188f2eb375dc4641b3e51d55e65efe">MAXDIM_TAB</a>; i++)
<a name="l00319"></a>00319     <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i] = t.<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i];
<a name="l00320"></a>00320   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00321"></a>00321 }
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 <span class="comment">//</span><span class="comment"></span>
<a name="l00324"></a>00324 <span class="comment">//! met le tableau dans l&#39;etat obtenu par le constructeur par defaut&lt;br&gt;voir IntVect::reset()</span>
<a name="l00325"></a><a class="code" href="classIntTab.html#ac66710ddde96fe2745f341a0166b3b34">00325</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classIntTab.html#ac66710ddde96fe2745f341a0166b3b34" title="met le tableau dans l&#39;etat obtenu par le constructeur par defaut voir IntVect::reset()">IntTab::reset</a>()
<a name="l00326"></a>00326 {
<a name="l00327"></a>00327   <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = 1;
<a name="l00328"></a>00328   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = 0;
<a name="l00329"></a>00329   <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = 0;
<a name="l00330"></a>00330   <a class="code" href="classIntTab.html#ac66710ddde96fe2745f341a0166b3b34" title="met le tableau dans l&#39;etat obtenu par le constructeur par defaut voir IntVect::reset()">IntVect::reset</a>();
<a name="l00331"></a>00331   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00332"></a>00332 }
<a name="l00333"></a>00333 
<a name="l00334"></a>00334 <span class="comment">//</span><span class="comment"></span>
<a name="l00335"></a>00335 <span class="comment">//! methode virtuelle qui force le tableau a changer de taille.&lt;br&gt;Change aussi nb_dim_ a 1. Equivalent a IntTab::resize(n, opt)</span>
<a name="l00336"></a><a class="code" href="classIntTab.html#aa8b19e31c33993156e0e3cd1f315c1b5">00336</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classIntTab.html#aa8b19e31c33993156e0e3cd1f315c1b5" title="methode virtuelle qui force le tableau a changer de taille. Change aussi nb_dim_ a 1...">IntTab::resize_tab</a>(<span class="keywordtype">int</span> n, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)
<a name="l00337"></a>00337 {
<a name="l00338"></a>00338   <a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n, opt);
<a name="l00339"></a>00339   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00340"></a>00340 }
<a name="l00341"></a>00341 
<a name="l00342"></a>00342 <span class="comment">// Precondition: le tableau ne doit pas avoir de structure parallele</span><span class="comment"></span>
<a name="l00343"></a>00343 <span class="comment">//! change la dimension[0] du tableau en conservant les autres.</span>
<a name="l00344"></a><a class="code" href="classIntTab.html#a425c14e929dedb4760f303ff42a20ee2">00344</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a425c14e929dedb4760f303ff42a20ee2" title="change la dimension[0] du tableau en conservant les autres.">IntTab::resize_dim0</a>(<span class="keywordtype">int</span> n, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)
<a name="l00345"></a>00345 {
<a name="l00346"></a>00346   assert(n &gt;= 0);
<a name="l00347"></a>00347   assert(<a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> * <a class="code" href="classIntVect.html#a5ba680066169c8e057bb3e3b876e4a8c">line_size</a>() == <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>());
<a name="l00348"></a>00348   <a class="code" href="classIntVect.html#afeb7ce24860261482d629416e7bc802a" title="Methode interne de resize (appellee par IntTab::resize(...)) sans precondition sur le type de l&#39;objet...">IntVect::resize_vect_</a>(n * <a class="code" href="classIntVect.html#a5ba680066169c8e057bb3e3b876e4a8c">line_size</a>(), opt);
<a name="l00349"></a>00349   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = n;
<a name="l00350"></a>00350   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00351"></a>00351 }
<a name="l00352"></a>00352 
<a name="l00353"></a><a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38">00353</a> <span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">IntTab::resize</a>(<span class="keywordtype">int</span> n, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)
<a name="l00354"></a>00354 {
<a name="l00355"></a>00355   assert(n &gt;= 0);
<a name="l00356"></a>00356   <a class="code" href="classIntVect.html#a8a67ca1ca7d88412ce7e85a04d0daa03" title="change l&#39;attribut line_size_ du tableau avec n &gt;= 1 n == 0 est autorise uniquement si size_array_ == ...">set_line_size_</a>(1);
<a name="l00357"></a>00357   <a class="code" href="classIntVect.html#afeb7ce24860261482d629416e7bc802a" title="Methode interne de resize (appellee par IntTab::resize(...)) sans precondition sur le type de l&#39;objet...">IntVect::resize_vect_</a>(n, opt);
<a name="l00358"></a>00358   <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = 1;
<a name="l00359"></a>00359   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = n;
<a name="l00360"></a>00360   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00361"></a>00361 }
<a name="l00362"></a>00362 
<a name="l00363"></a><a class="code" href="classIntTab.html#ac2c73b18b9752316fe256344ec0859a1">00363</a> <span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">IntTab::resize</a>(<span class="keywordtype">int</span> n, <span class="keywordtype">int</span> n2, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)
<a name="l00364"></a>00364 {
<a name="l00365"></a>00365   assert(n &gt;= 0 &amp;&amp; n2 &gt;= 0);
<a name="l00366"></a>00366   <a class="code" href="classIntVect.html#a8a67ca1ca7d88412ce7e85a04d0daa03" title="change l&#39;attribut line_size_ du tableau avec n &gt;= 1 n == 0 est autorise uniquement si size_array_ == ...">set_line_size_</a>(n2);
<a name="l00367"></a>00367   <span class="keywordtype">int</span> new_size = n * n2;
<a name="l00368"></a>00368   <span class="keywordflow">if</span> (new_size&lt;0)
<a name="l00369"></a>00369     {
<a name="l00370"></a>00370       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;n1*n2 &gt; 2^31. Error! Contact TRUST support, integer 32 bits limit exceeded with n1=&quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; and n2=&quot;</span> &lt;&lt; n2 &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00371"></a>00371       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00372"></a>00372     }
<a name="l00373"></a>00373 
<a name="l00374"></a>00374   <a class="code" href="classIntVect.html#afeb7ce24860261482d629416e7bc802a" title="Methode interne de resize (appellee par IntTab::resize(...)) sans precondition sur le type de l&#39;objet...">IntVect::resize_vect_</a>(new_size, opt);
<a name="l00375"></a>00375   <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = 2;
<a name="l00376"></a>00376   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = n;
<a name="l00377"></a>00377   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[1] = n2;
<a name="l00378"></a>00378   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00379"></a>00379 }
<a name="l00380"></a>00380 
<a name="l00381"></a><a class="code" href="classIntTab.html#a05e00fe265cb202917ea9a5cb83b8339">00381</a> <span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">IntTab::resize</a>(<span class="keywordtype">int</span> n, <span class="keywordtype">int</span> n2, <span class="keywordtype">int</span> n3, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)
<a name="l00382"></a>00382 {
<a name="l00383"></a>00383   assert(n &gt;= 0 &amp;&amp; n2 &gt;= 0 &amp;&amp; n3 &gt;= 0);
<a name="l00384"></a>00384   <a class="code" href="classIntVect.html#a8a67ca1ca7d88412ce7e85a04d0daa03" title="change l&#39;attribut line_size_ du tableau avec n &gt;= 1 n == 0 est autorise uniquement si size_array_ == ...">set_line_size_</a>(n2 * n3);
<a name="l00385"></a>00385   <span class="keywordtype">int</span> new_size = n * n2 * n3;
<a name="l00386"></a>00386   <span class="keywordflow">if</span> (new_size&lt;0)
<a name="l00387"></a>00387     {
<a name="l00388"></a>00388       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;n1*n2*n3 &gt; 2^31. Error! Contact TRUST support, integer 32 bits limit exceeded with n1=&quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; and n2=&quot;</span> &lt;&lt; n2 &lt;&lt; <span class="stringliteral">&quot; and n3=&quot;</span> &lt;&lt; n3 &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00389"></a>00389       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00390"></a>00390     }
<a name="l00391"></a>00391 
<a name="l00392"></a>00392   <a class="code" href="classIntVect.html#afeb7ce24860261482d629416e7bc802a" title="Methode interne de resize (appellee par IntTab::resize(...)) sans precondition sur le type de l&#39;objet...">IntVect::resize_vect_</a>(new_size, opt);
<a name="l00393"></a>00393   <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = 3;
<a name="l00394"></a>00394   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = n;
<a name="l00395"></a>00395   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[1] = n2;
<a name="l00396"></a>00396   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[2] = n3;
<a name="l00397"></a>00397   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00398"></a>00398 }
<a name="l00399"></a>00399 
<a name="l00400"></a><a class="code" href="classIntTab.html#a56f8a89739940af9977bceb4eccfff22">00400</a> <span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">IntTab::resize</a>(<span class="keywordtype">int</span> n, <span class="keywordtype">int</span> n2, <span class="keywordtype">int</span> n3, <span class="keywordtype">int</span> n4, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)
<a name="l00401"></a>00401 {
<a name="l00402"></a>00402   assert(n &gt;= 0 &amp;&amp; n2 &gt;= 0 &amp;&amp; n3 &gt;= 0 &amp;&amp; n4 &gt;= 0);
<a name="l00403"></a>00403   <a class="code" href="classIntVect.html#a8a67ca1ca7d88412ce7e85a04d0daa03" title="change l&#39;attribut line_size_ du tableau avec n &gt;= 1 n == 0 est autorise uniquement si size_array_ == ...">set_line_size_</a>(n2 * n3 * n4);
<a name="l00404"></a>00404   <span class="keywordtype">int</span> new_size = n * n2 * n3 * n4;
<a name="l00405"></a>00405   <span class="keywordflow">if</span> (new_size&lt;0)
<a name="l00406"></a>00406     {
<a name="l00407"></a>00407       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;n1*n2*n3*n4 &gt; 2^31. Error! Contact TRUST support, integer 32 bits limit exceeded with n1=&quot;</span> &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; and n2=&quot;</span> &lt;&lt; n2 &lt;&lt; <span class="stringliteral">&quot; and n3=&quot;</span> &lt;&lt; n3 &lt;&lt; <span class="stringliteral">&quot; and n4=&quot;</span> &lt;&lt; n4 &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00408"></a>00408       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00409"></a>00409     }
<a name="l00410"></a>00410 
<a name="l00411"></a>00411   <a class="code" href="classIntVect.html#afeb7ce24860261482d629416e7bc802a" title="Methode interne de resize (appellee par IntTab::resize(...)) sans precondition sur le type de l&#39;objet...">IntVect::resize_vect_</a>(new_size, opt);
<a name="l00412"></a>00412   <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = 4;
<a name="l00413"></a>00413   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = n;
<a name="l00414"></a>00414   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[1] = n2;
<a name="l00415"></a>00415   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[2] = n3;
<a name="l00416"></a>00416   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[3] = n4;
<a name="l00417"></a>00417   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00418"></a>00418 }
<a name="l00419"></a>00419 
<a name="l00420"></a>00420 <span class="comment">// Precondition: identiques a IntVect::resize_vect_()</span>
<a name="l00421"></a>00421 <span class="comment">//</span><span class="comment"></span>
<a name="l00422"></a>00422 <span class="comment">//! redimensionne le tableau (nb_dim_ sera egal a tailles.size_array()&lt;br&gt;et dimension(i) a tailles[i].</span>
<a name="l00423"></a><a class="code" href="classIntTab.html#af450dd9227c778e69def44c32b7f66f5">00423</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">IntTab::resize</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; tailles, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)
<a name="l00424"></a>00424 {
<a name="l00425"></a>00425   <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = tailles.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00426"></a>00426   <span class="keywordflow">if</span> (nb_dim_ &lt;= 0 || nb_dim_ &gt; <a class="code" href="DoubleTab_8h.html#a33188f2eb375dc4641b3e51d55e65efe">MAXDIM_TAB</a>)
<a name="l00427"></a>00427     {
<a name="l00428"></a>00428       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Internal error in IntTab::resize(const ArrOfInt &amp; tailles, ...) \n&quot;</span>
<a name="l00429"></a>00429            &lt;&lt; <span class="stringliteral">&quot; wrong dimensions number &quot;</span> &lt;&lt; <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00430"></a>00430       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00431"></a>00431     }
<a name="l00432"></a>00432   <span class="keywordtype">int</span> l_size = 1;
<a name="l00433"></a>00433   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>; i++)
<a name="l00434"></a>00434     {
<a name="l00435"></a>00435       <span class="keyword">const</span> <span class="keywordtype">int</span> n = tailles[i];
<a name="l00436"></a>00436       <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i] = n;
<a name="l00437"></a>00437       <span class="keywordflow">if</span> (i &gt; 0)
<a name="l00438"></a>00438         l_size *= n;
<a name="l00439"></a>00439       <span class="keywordflow">if</span> (n &lt; 0)
<a name="l00440"></a>00440         {
<a name="l00441"></a>00441           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Internal error in IntTab::resize(const ArrOfInt &amp; tailles, ...) \n&quot;</span>
<a name="l00442"></a>00442                &lt;&lt; <span class="stringliteral">&quot; wrong dimensions: &quot;</span> &lt;&lt; tailles &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00443"></a>00443           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00444"></a>00444         }
<a name="l00445"></a>00445     }
<a name="l00446"></a>00446   <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0];
<a name="l00447"></a>00447   <a class="code" href="classIntVect.html#a8a67ca1ca7d88412ce7e85a04d0daa03" title="change l&#39;attribut line_size_ du tableau avec n &gt;= 1 n == 0 est autorise uniquement si size_array_ == ...">set_line_size_</a>(l_size);
<a name="l00448"></a>00448   <a class="code" href="classIntVect.html#afeb7ce24860261482d629416e7bc802a" title="Methode interne de resize (appellee par IntTab::resize(...)) sans precondition sur le type de l&#39;objet...">resize_vect_</a>(<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] * l_size, opt);
<a name="l00449"></a>00449   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00450"></a>00450 }
<a name="l00451"></a>00451 
<a name="l00452"></a>00452 <span class="comment">//</span><span class="comment"></span>
<a name="l00453"></a>00453 <span class="comment">//! copie la structure et les valeurs du tableau src&lt;br&gt;Restrictions et preconditions identiques a IntVect::operator=(const IntVect \&amp; v)</span>
<a name="l00454"></a><a class="code" href="classIntTab.html#adce1e27dda091f5fa8e5ff12c7175cd8">00454</a> <span class="comment"></span><a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; <a class="code" href="classIntTab.html#adce1e27dda091f5fa8e5ff12c7175cd8" title="copie la structure et les valeurs du tableau src Restrictions et preconditions identiques a IntVect::...">IntTab::operator=</a>(<span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; src)
<a name="l00455"></a>00455 {
<a name="l00456"></a>00456   <a class="code" href="classIntTab.html#a3d200d04b7bf53a32c27867c42065a0e">copy</a>(src);
<a name="l00457"></a>00457   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00458"></a>00458 }
<a name="l00459"></a>00459 
<a name="l00460"></a>00460 <span class="comment">//</span>
<a name="l00461"></a>00461 <span class="comment">//</span><span class="comment"></span>
<a name="l00462"></a>00462 <span class="comment">//! copie la structure et les valeurs de src.&lt;br&gt;Attention: appel invalide si src est un type derive de Vect&lt;br&gt;(sinon quoi faire, un tableau unidimensionnel, ou une copie de la structure ?)</span>
<a name="l00463"></a><a class="code" href="classIntTab.html#a31cbcdfa1c7c76c54af494984a35d696">00463</a> <span class="comment"></span><a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; <a class="code" href="classIntTab.html#adce1e27dda091f5fa8e5ff12c7175cd8" title="copie la structure et les valeurs du tableau src Restrictions et preconditions identiques a IntVect::...">IntTab::operator=</a>(<span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; src)
<a name="l00464"></a>00464 {
<a name="l00465"></a>00465   assert(src.<a class="code" href="classIntVect.html#a7fb41e29109cda329b88ed5a6483bde8" title="Donne des informations sur le type de l&#39;Objet_U.">get_info</a>() == <a class="code" href="classIntTab.html#ac67599f6de641e639fb9a7838df427d0" title="Donne des informations sur le type de l&#39;Objet_U.">IntVect::info</a>());
<a name="l00466"></a>00466   <a class="code" href="classIntVect.html#acd0546e78f0d2a4ace47632d89c3853c" title="methode protegee appelable depuis une classe derivee&lt;br&gt;(pas de precondition sur le type derive de *t...">IntVect::copy_</a>(src);
<a name="l00467"></a>00467 <span class="comment">// Idem que dans ref(IntVect) pour le nombre de dimensions du tableau cree</span>
<a name="l00468"></a>00468   <span class="keyword">const</span> <span class="keywordtype">int</span> l = src.<a class="code" href="classIntVect.html#a5ba680066169c8e057bb3e3b876e4a8c">line_size</a>();
<a name="l00469"></a>00469   <span class="keywordflow">if</span> (l == 1)
<a name="l00470"></a>00470     {
<a name="l00471"></a>00471       <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = 1;
<a name="l00472"></a>00472     }
<a name="l00473"></a>00473   <span class="keywordflow">else</span>
<a name="l00474"></a>00474     {
<a name="l00475"></a>00475       <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = 2;
<a name="l00476"></a>00476       <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[1] = l;
<a name="l00477"></a>00477     }
<a name="l00478"></a>00478   <span class="keywordflow">if</span> (src.<a class="code" href="classIntVect.html#a35e89309e432d5aa6690cd85a3c0e268">size_reelle_ok</a>())
<a name="l00479"></a>00479     {
<a name="l00480"></a>00480       <span class="keywordtype">int</span> <a class="code" href="Nom_8cpp.html#a0e1ea19fb9fa7881d15d84eff4c090e1">sz</a> = src.<a class="code" href="classIntVect.html#ae17a73660093eb1d4e90fd8d0ec52670" title="Taille de l&#39;espace &quot;reel&quot; du vecteur. (si md_vector_ est nul, cette valeur est identique a size_arr...">size_reelle</a>();
<a name="l00481"></a>00481       <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = sz / l;
<a name="l00482"></a>00482       assert(sz % l == 0);
<a name="l00483"></a>00483     }
<a name="l00484"></a>00484   <span class="keywordflow">else</span>
<a name="l00485"></a>00485     {
<a name="l00486"></a>00486       <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = -1;
<a name="l00487"></a>00487     }
<a name="l00488"></a>00488   <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() / l;
<a name="l00489"></a>00489   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00490"></a>00490   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00491"></a>00491 }
<a name="l00492"></a>00492 
<a name="l00493"></a><a class="code" href="classIntTab.html#a1b74f2045e669b8f676b782bd2f97a9c">00493</a> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; <a class="code" href="classIntTab.html#adce1e27dda091f5fa8e5ff12c7175cd8" title="copie la structure et les valeurs du tableau src Restrictions et preconditions identiques a IntVect::...">IntTab::operator=</a>(<span class="keywordtype">int</span> d)
<a name="l00494"></a>00494 {
<a name="l00495"></a>00495   <a class="code" href="classIntTab.html#adce1e27dda091f5fa8e5ff12c7175cd8" title="copie la structure et les valeurs du tableau src Restrictions et preconditions identiques a IntVect::...">IntVect::operator=</a>(d);
<a name="l00496"></a>00496   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00497"></a>00497 }
<a name="l00498"></a>00498 
<a name="l00499"></a><a class="code" href="classIntTab.html#a3d200d04b7bf53a32c27867c42065a0e">00499</a> <span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a3d200d04b7bf53a32c27867c42065a0e">IntTab::copy</a>(<span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; src, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)
<a name="l00500"></a>00500 {
<a name="l00501"></a>00501   <span class="keywordflow">if</span> (&amp;src != <span class="keyword">this</span>)
<a name="l00502"></a>00502     {
<a name="l00503"></a>00503       <a class="code" href="classIntVect.html#acd0546e78f0d2a4ace47632d89c3853c" title="methode protegee appelable depuis une classe derivee&lt;br&gt;(pas de precondition sur le type derive de *t...">IntVect::copy_</a>(src, opt);
<a name="l00504"></a>00504       <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> = src.<a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>;
<a name="l00505"></a>00505       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="DoubleTab_8h.html#a33188f2eb375dc4641b3e51d55e65efe">MAXDIM_TAB</a>; i++)
<a name="l00506"></a>00506         <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i] = src.<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[i];
<a name="l00507"></a>00507       <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a> = src.<a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a>;
<a name="l00508"></a>00508       assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00509"></a>00509     }
<a name="l00510"></a>00510 }
<a name="l00511"></a>00511 
<a name="l00512"></a><a class="code" href="classIntTab.html#ad80416d6917d2d526fe5fa8adbae0923">00512</a> <span class="keywordtype">int</span>&amp; <a class="code" href="classIntTab.html#ad80416d6917d2d526fe5fa8adbae0923">IntTab::operator()</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; indice)
<a name="l00513"></a>00513 {
<a name="l00514"></a>00514   assert(indice.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() == <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>);
<a name="l00515"></a>00515 <span class="preprocessor">#if MAXDIM_TAB != 4</span>
<a name="l00516"></a>00516 <span class="preprocessor"></span><span class="preprocessor">#error Mettre a jour le code pour MAXDIM_TAB ici</span>
<a name="l00517"></a>00517 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00518"></a>00518 <span class="preprocessor"></span>  <span class="keywordflow">switch</span>(<a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>)
<a name="l00519"></a>00519     {
<a name="l00520"></a>00520     <span class="keywordflow">case</span> 1:
<a name="l00521"></a>00521       <span class="keywordflow">return</span> <a class="code" href="classIntTab.html#ad80416d6917d2d526fe5fa8adbae0923">operator()</a>(indice[0]);
<a name="l00522"></a>00522     <span class="keywordflow">case</span> 2:
<a name="l00523"></a>00523       <span class="keywordflow">return</span> <a class="code" href="classIntTab.html#ad80416d6917d2d526fe5fa8adbae0923">operator()</a>(indice[0], indice[1]);
<a name="l00524"></a>00524     <span class="keywordflow">case</span> 3:
<a name="l00525"></a>00525       <span class="keywordflow">return</span> <a class="code" href="classIntTab.html#ad80416d6917d2d526fe5fa8adbae0923">operator()</a>(indice[0], indice[1], indice[2]);
<a name="l00526"></a>00526     <span class="keywordflow">default</span>:
<a name="l00527"></a>00527       <span class="keywordflow">return</span> <a class="code" href="classIntTab.html#ad80416d6917d2d526fe5fa8adbae0923">operator()</a>(indice[0], indice[1], indice[2], indice[3]);
<a name="l00528"></a>00528     }
<a name="l00529"></a>00529 }
<a name="l00530"></a><a class="code" href="classIntTab.html#aa46d4e71680a1d25a6c9f029fd1b6d9d">00530</a> <span class="keywordtype">int</span> <a class="code" href="classIntTab.html#ad80416d6917d2d526fe5fa8adbae0923">IntTab::operator()</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; indice)<span class="keyword"> const</span>
<a name="l00531"></a>00531 <span class="keyword"></span>{
<a name="l00532"></a>00532   assert(indice.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() == <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>);
<a name="l00533"></a>00533 <span class="preprocessor">#if MAXDIM_TAB != 4</span>
<a name="l00534"></a>00534 <span class="preprocessor"></span><span class="preprocessor">#error Mettre a jour le code pour MAXDIM_TAB ici</span>
<a name="l00535"></a>00535 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00536"></a>00536 <span class="preprocessor"></span>  <span class="keywordflow">switch</span>(<a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>)
<a name="l00537"></a>00537     {
<a name="l00538"></a>00538     <span class="keywordflow">case</span> 1:
<a name="l00539"></a>00539       <span class="keywordflow">return</span> <a class="code" href="classIntTab.html#ad80416d6917d2d526fe5fa8adbae0923">operator()</a>(indice[0]);
<a name="l00540"></a>00540     <span class="keywordflow">case</span> 2:
<a name="l00541"></a>00541       <span class="keywordflow">return</span> <a class="code" href="classIntTab.html#ad80416d6917d2d526fe5fa8adbae0923">operator()</a>(indice[0], indice[1]);
<a name="l00542"></a>00542     <span class="keywordflow">case</span> 3:
<a name="l00543"></a>00543       <span class="keywordflow">return</span> <a class="code" href="classIntTab.html#ad80416d6917d2d526fe5fa8adbae0923">operator()</a>(indice[0], indice[1], indice[2]);
<a name="l00544"></a>00544     <span class="keywordflow">default</span>:
<a name="l00545"></a>00545       <span class="keywordflow">return</span> <a class="code" href="classIntTab.html#ad80416d6917d2d526fe5fa8adbae0923">operator()</a>(indice[0], indice[1], indice[2], indice[3]);
<a name="l00546"></a>00546     }
<a name="l00547"></a>00547 }
<a name="l00548"></a>00548 
<a name="l00549"></a>00549 <span class="comment">// Precondition: en plus des preconditions de IntVect::set_md_vector(),</span>
<a name="l00550"></a>00550 <span class="comment">// dimension_tot(0) doit etre egal a get_nb_items_tot() du md_vector.</span>
<a name="l00551"></a>00551 <span class="comment">//</span><span class="comment"></span>
<a name="l00552"></a>00552 <span class="comment">//! associe le md_vector au vecteur (voir IntVect::set_md_vector())&lt;br&gt;dimension(0) sera initialise a md_vector...get_nb_items_reels().</span>
<a name="l00553"></a><a class="code" href="classIntTab.html#a02470d5d5921700f4daee05a5b3d2601">00553</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a02470d5d5921700f4daee05a5b3d2601" title="associe le md_vector au vecteur (voir IntVect::set_md_vector()) dimension(0) sera initialise a md_vec...">IntTab::set_md_vector</a>(<span class="keyword">const</span> <a class="code" href="classMD__Vector.html" title=": Cette classe est un DERIV mais l&#39;objet pointe est partage entre plusieurs instances de cette classe...">MD_Vector</a>&amp; md_vector)
<a name="l00554"></a>00554 {
<a name="l00555"></a>00555   <span class="keywordtype">int</span> dim0 = <a class="code" href="classIntTab.html#a924bdeeb67b7a2ec074cdde24df8f454">dimension_tot_0_</a>;
<a name="l00556"></a>00556   <span class="keywordflow">if</span> (md_vector.<a class="code" href="classMD__Vector.html#a4165c00904b7096274e38fdc7ca340f4">non_nul</a>())
<a name="l00557"></a>00557     {
<a name="l00558"></a>00558 <span class="comment">// renvoie -1 si l&#39;appel et invalide:</span>
<a name="l00559"></a>00559       dim0 = md_vector.<a class="code" href="classMD__Vector.html#a41324dfaa7a973091d0a8276908d10e2">valeur</a>().<a class="code" href="classMD__Vector__base.html#ade0ef13d456f8aa11d02f51fd7912145">get_nb_items_reels</a>();
<a name="l00560"></a>00560     }
<a name="l00561"></a>00561   <a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>[0] = dim0;
<a name="l00562"></a>00562   assert(<a class="code" href="IntTab_8cpp.html#ab30be89988524fdb77a416a7754ea49d">CHECK_LINE_SIZE</a>);
<a name="l00563"></a>00563 <span class="comment">// a appeler meme pour un md_vector nul (pour remettre size_reelle_):</span>
<a name="l00564"></a>00564   <a class="code" href="classIntTab.html#a02470d5d5921700f4daee05a5b3d2601" title="associe le md_vector au vecteur (voir IntVect::set_md_vector()) dimension(0) sera initialise a md_vec...">IntVect::set_md_vector</a>(md_vector);
<a name="l00565"></a>00565 }
<a name="l00566"></a>00566 
<a name="l00567"></a><a class="code" href="classIntTab.html#a8f3db153c10005d44b92c7e3c1fdd62b">00567</a> <span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a8f3db153c10005d44b92c7e3c1fdd62b" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">IntTab::ecrit</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00568"></a>00568 <span class="keyword"></span>{
<a name="l00569"></a>00569   os &lt;&lt; <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00570"></a>00570   <span class="keywordflow">if</span> (<a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a> &gt; 0)
<a name="l00571"></a>00571     os.<a class="code" href="classSortie.html#aa3f46aaccaff0f83c018784b50d8ea24" title="Methode de bas niveau pour ecrire un tableau d&#39;ints ou reels dans le stream. Dans l&#39;implementation de...">put</a>(<a class="code" href="classIntTab.html#a2e9fb6f89261cfaff9db89ea8f425d3f">dimensions_</a>, <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>, <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>);
<a name="l00572"></a>00572   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> tmp(<a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>);
<a name="l00573"></a>00573   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>; i++)
<a name="l00574"></a>00574     tmp[i] = <a class="code" href="classIntTab.html#a71e9b9ddc1793094b1b3f109377952b1" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(i);
<a name="l00575"></a>00575   os &lt;&lt; tmp;
<a name="l00576"></a>00576   <a class="code" href="classIntTab.html#a8f3db153c10005d44b92c7e3c1fdd62b" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">IntVect::ecrit</a>(os);
<a name="l00577"></a>00577 }
<a name="l00578"></a>00578 
<a name="l00579"></a><a class="code" href="classIntTab.html#abd235ff907292ffe6f0309cf488ded92">00579</a> <span class="keywordtype">void</span> <a class="code" href="classIntTab.html#abd235ff907292ffe6f0309cf488ded92">IntTab::jump</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00580"></a>00580 {
<a name="l00581"></a>00581   <a class="code" href="classIntTab.html#a49f17e879dc8defd3061fe05307fa2dc" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">IntTab::lit</a>(is, 0 <span class="comment">/* Do not resize&amp;read the array */</span>);
<a name="l00582"></a>00582 }
<a name="l00583"></a>00583 
<a name="l00584"></a>00584 <span class="comment">//</span>
<a name="l00585"></a>00585 <span class="comment">//</span>
<a name="l00586"></a>00586 <span class="comment">//</span><span class="comment"></span>
<a name="l00587"></a>00587 <span class="comment">//! lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;.&lt;br&gt;Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne&lt;br&gt;taille et la bonne structure, sinon erreur !&lt;br&gt;Parameter resize_and_read if the array is sized AND read (by default, yes)</span>
<a name="l00588"></a><a class="code" href="classIntTab.html#a49f17e879dc8defd3061fe05307fa2dc">00588</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classIntTab.html#a49f17e879dc8defd3061fe05307fa2dc" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">IntTab::lit</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is, <span class="keywordtype">int</span> resize_and_read)
<a name="l00589"></a>00589 {
<a name="l00590"></a>00590   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> tmp;
<a name="l00591"></a>00591   is &gt;&gt; tmp;
<a name="l00592"></a>00592   <span class="keywordtype">int</span> ok = 1;
<a name="l00593"></a>00593   <span class="keywordflow">if</span> (tmp.size_array() != <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>)
<a name="l00594"></a>00594     ok = 0;
<a name="l00595"></a>00595   <span class="keywordflow">if</span> (ok)
<a name="l00596"></a>00596     {
<a name="l00597"></a>00597       <span class="keywordflow">if</span> (<a class="code" href="classIntVect.html#a35e89309e432d5aa6690cd85a3c0e268">size_reelle_ok</a>() &amp;&amp; <a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0) != tmp[0])
<a name="l00598"></a>00598         ok = 0;
<a name="l00599"></a>00599       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>; i++)
<a name="l00600"></a>00600         <span class="keywordflow">if</span> (<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(i) != tmp[i])
<a name="l00601"></a>00601           ok = 0;
<a name="l00602"></a>00602     }
<a name="l00603"></a>00603   is &gt;&gt; tmp;
<a name="l00604"></a>00604   <span class="keywordflow">if</span> (ok &amp;&amp; tmp.size_array() != <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>)
<a name="l00605"></a>00605     ok = 0;
<a name="l00606"></a>00606   <span class="keywordflow">if</span> (ok)
<a name="l00607"></a>00607     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classIntTab.html#ac8bcf445f91e08df15de76a0b53e2e81">nb_dim_</a>; i++)
<a name="l00608"></a>00608       <span class="keywordflow">if</span> (<a class="code" href="classIntTab.html#a71e9b9ddc1793094b1b3f109377952b1" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(i) != tmp[i])
<a name="l00609"></a>00609         ok = 0;
<a name="l00610"></a>00610 <span class="comment">// Autorisation ancien format des champs scalaire 183:</span>
<a name="l00611"></a>00611   <span class="keywordflow">if</span> (tmp.size_array()==1 &amp;&amp; nb_dim_==2 &amp;&amp; <a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1)==1 &amp;&amp; <a class="code" href="classIntTab.html#a71e9b9ddc1793094b1b3f109377952b1" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0) == tmp[0])
<a name="l00612"></a>00612     ok = 1;
<a name="l00613"></a>00613   <span class="keywordflow">if</span> (resize_and_read)
<a name="l00614"></a>00614     {
<a name="l00615"></a>00615       <span class="keywordflow">if</span> (<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() == 0 &amp;&amp; (!<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>().<a class="code" href="classMD__Vector.html#a4165c00904b7096274e38fdc7ca340f4">non_nul</a>()))
<a name="l00616"></a>00616         {
<a name="l00617"></a>00617           <a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(tmp, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">NOCOPY_NOINIT</a>);
<a name="l00618"></a>00618         }
<a name="l00619"></a>00619       <span class="keywordflow">else</span>
<a name="l00620"></a>00620         {
<a name="l00621"></a>00621           <span class="keywordflow">if</span> (!ok)
<a name="l00622"></a>00622             {
<a name="l00623"></a>00623 <span class="comment">// Si on cherche a relire un tableau de taille inconnue, le tableau doit</span>
<a name="l00624"></a>00624 <span class="comment">// etre reset() a l&#39;entree. On n&#39;aura pas la structure parallele du tableau !</span>
<a name="l00625"></a>00625               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in IntTab::lit: array has wrong dimensions&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00626"></a>00626               <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00627"></a>00627             }
<a name="l00628"></a>00628         }
<a name="l00629"></a>00629     }
<a name="l00630"></a>00630   <a class="code" href="classIntTab.html#a49f17e879dc8defd3061fe05307fa2dc" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">IntVect::lit</a>(is,resize_and_read);
<a name="l00631"></a>00631 }
<a name="l00632"></a>00632 
<a name="l00633"></a>00633 
<a name="l00634"></a>00634 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:22 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
