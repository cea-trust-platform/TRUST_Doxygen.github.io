<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/VDF/Cond_Lim/Echange_contact_VDF.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/VDF/Cond_Lim/Echange_contact_VDF.cpp</div>  </div>
</div>
<div class="contents">
<a href="Echange__contact__VDF_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Echange_contact_VDF.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/VDF/Cond_Lim</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/32</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Echange__contact__VDF_8h.html">Echange_contact_VDF.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Champ__front__calc_8h.html">Champ_front_calc.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Probleme__base_8h.html">Probleme_base.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Uniforme_8h.html">Champ_Uniforme.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Schema__Euler__Implicite_8h.html">Schema_Euler_Implicite.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Milieu__base_8h.html">Milieu_base.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Modele__turbulence__scal__base_8h.html">Modele_turbulence_scal_base.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VDF_8h.html">Zone_VDF.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Equation__base_8h.html">Equation_base.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="Mod__turb__hyd__base_8h.html">Mod_turb_hyd_base.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="Ref__Turbulence__paroi__scal_8h.html">Ref_Turbulence_paroi_scal.h</a>&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;<a class="code" href="Schema__Comm_8h.html">Schema_Comm.h</a>&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;<a class="code" href="ArrOfBit_8h.html">ArrOfBit.h</a>&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;<a class="code" href="DoubleTrav_8h.html">DoubleTrav.h</a>&gt;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="Echange__contact__VDF_8cpp.html#a94671f0ffb70167c5389f7c754d33115">00038</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classEchange__contact__VDF.html">Echange_contact_VDF</a>,<span class="stringliteral">&quot;Paroi_Echange_contact_VDF&quot;</span>,<a class="code" href="classEchange__global__impose.html" title="Classe Echange_global_impose Cette classe represente le cas particulier de la classe Echange_impose_b...">Echange_global_impose</a>);
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="keywordtype">int</span> <a class="code" href="Echange__contact__PolyMAC_8cpp.html#a57baa099890144a32e48063b438d449e">meme_point2</a>(<span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; a,<span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; b);
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="classEchange__contact__VDF.html#aa618347d6f3cbe13443a6d909f04e3b3">00043</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classEchange__contact__VDF.html#aa618347d6f3cbe13443a6d909f04e3b3" title="Ecrit le type de l&#39;objet sur un flot de sortie.">Echange_contact_VDF::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; s )<span class="keyword"> const</span>
<a name="l00044"></a>00044 <span class="keyword"></span>{
<a name="l00045"></a>00045   <span class="keywordflow">return</span> s &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00046"></a>00046 }
<a name="l00047"></a>00047 
<a name="l00048"></a><a class="code" href="classEchange__contact__VDF.html#af2d280203348a1dab10c0d7445aba0d0">00048</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classEchange__contact__VDF.html#af2d280203348a1dab10c0d7445aba0d0" title="Simple appel a Echange_impose_base::readOn(Entree&amp;) Lit les specifications des conditions aux limites...">Echange_contact_VDF::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; s )
<a name="l00049"></a>00049 {
<a name="l00050"></a>00050   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_pb, nom_bord;
<a name="l00051"></a>00051   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> nom_champ;
<a name="l00052"></a>00052   s &gt;&gt; nom_pb &gt;&gt; nom_bord &gt;&gt; nom_champ &gt;&gt; <a class="code" href="classEchange__contact__VDF.html#a1fd383be30c5927fa8291eac696d901a">h_paroi</a>;
<a name="l00053"></a>00053   <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>().<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Champ_front_calc&quot;</span>);
<a name="l00054"></a>00054   <a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>&amp; ch=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>, <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00055"></a>00055   ch.<a class="code" href="classChamp__front__calc.html#a384d283ccda150286263d0539c541118" title="Cree l&#39;objet Champ_front_calc representant la trace d&#39;un champ inconnue sur une frontiere a partir de...">creer</a>(nom_pb, nom_bord, nom_champ);
<a name="l00056"></a>00056   <a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>().<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Ch_front_var_instationnaire_dep&quot;</span>);
<a name="l00057"></a>00057   <a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>()-&gt;fixer_nb_comp(1);
<a name="l00058"></a>00058   <a class="code" href="classEchange__contact__VDF.html#ae51ff84c8e23ae33131cbf3974683d2b">nom_autre_pb_</a> = nom_pb;
<a name="l00059"></a>00059   <span class="keywordflow">return</span> s ;
<a name="l00060"></a>00060 }
<a name="l00061"></a>00061 
<a name="l00062"></a><a class="code" href="classEchange__contact__VDF.html#a4cede11e4976bc161518b6608f3cca69">00062</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__VDF.html#a4cede11e4976bc161518b6608f3cca69" title="NE FAIT RIEN A surcharger dans les classes derivees.">Echange_contact_VDF::completer</a>()
<a name="l00063"></a>00063 {
<a name="l00064"></a>00064   <a class="code" href="classEchange__contact__VDF.html#a4cede11e4976bc161518b6608f3cca69" title="NE FAIT RIEN A surcharger dans les classes derivees.">Echange_global_impose::completer</a>();
<a name="l00065"></a>00065   <span class="keywordtype">int</span> nb_cases=<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>().<a class="code" href="classSchema__Temps__base.html#acbe9f5266e4b4267a53fdbb9157718c5">nb_valeurs_temporelles</a>();
<a name="l00066"></a>00066   <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>().<a class="code" href="classChamp__front.html#a8534e0d6e67e79c49f851d2de12f2be1" title="Appel a l&#39;objet sous-jacent Associe une frontiere discretisee au champ.">associer_fr_dis_base</a>(<a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>().<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00067"></a>00067   <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>()-&gt;completer();
<a name="l00068"></a>00068   <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>()-&gt;fixer_nb_valeurs_temporelles(nb_cases);
<a name="l00069"></a>00069 }
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 <span class="comment">//</span><span class="comment"></span>
<a name="l00072"></a>00072 <span class="comment">//! Change le i-eme temps futur de la CL.</span>
<a name="l00073"></a><a class="code" href="classEchange__contact__VDF.html#aa0b75cf4976bb5cd5722154c354d0bd4">00073</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classEchange__contact__VDF.html#aa0b75cf4976bb5cd5722154c354d0bd4" title="Change le i-eme temps futur de la CL.">Echange_contact_VDF::changer_temps_futur</a>(<span class="keywordtype">double</span> temps,<span class="keywordtype">int</span> i)
<a name="l00074"></a>00074 {
<a name="l00075"></a>00075   <a class="code" href="classEchange__contact__VDF.html#aa0b75cf4976bb5cd5722154c354d0bd4" title="Change le i-eme temps futur de la CL.">Cond_lim_base::changer_temps_futur</a>(temps,i);
<a name="l00076"></a>00076   <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>()-&gt;changer_temps_futur(temps,i);
<a name="l00077"></a>00077 }
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 <span class="comment">//</span><span class="comment"></span>
<a name="l00080"></a>00080 <span class="comment">//! Tourne la roue de la CL</span>
<a name="l00081"></a><a class="code" href="classEchange__contact__VDF.html#a4e053b39a48b9318e95acc7cbbdfe7cd">00081</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classEchange__contact__VDF.html#a4e053b39a48b9318e95acc7cbbdfe7cd" title="Tourne la roue de la CL.">Echange_contact_VDF::avancer</a>(<span class="keywordtype">double</span> temps)
<a name="l00082"></a>00082 {
<a name="l00083"></a>00083   <span class="keywordtype">int</span> ok=<a class="code" href="classEchange__contact__VDF.html#a4e053b39a48b9318e95acc7cbbdfe7cd" title="Tourne la roue de la CL.">Cond_lim_base::avancer</a>(temps);
<a name="l00084"></a>00084   ok = ok &amp;&amp; <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>()-&gt;avancer(temps);
<a name="l00085"></a>00085   <span class="keywordflow">return</span> ok;
<a name="l00086"></a>00086 }
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 <span class="comment">//</span><span class="comment"></span>
<a name="l00089"></a>00089 <span class="comment">//! Tourne la roue de la CL</span>
<a name="l00090"></a><a class="code" href="classEchange__contact__VDF.html#a351d219d1f1cac4e269e4e26f33232e1">00090</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classEchange__contact__VDF.html#a351d219d1f1cac4e269e4e26f33232e1" title="Tourne la roue de la CL.">Echange_contact_VDF::reculer</a>(<span class="keywordtype">double</span> temps)
<a name="l00091"></a>00091 {
<a name="l00092"></a>00092   <span class="keywordtype">int</span> ok=<a class="code" href="classEchange__contact__VDF.html#a351d219d1f1cac4e269e4e26f33232e1" title="Tourne la roue de la CL.">Cond_lim_base::reculer</a>(temps);
<a name="l00093"></a>00093   ok = ok &amp;&amp; <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>()-&gt;reculer(temps);
<a name="l00094"></a>00094   <span class="keywordflow">return</span> ok;
<a name="l00095"></a>00095 }
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 
<a name="l00098"></a><a class="code" href="Echange__contact__VDF_8h.html#a4750bc0dfd46a9da58be86a8b5b9b631">00098</a> <span class="keywordtype">void</span> <a class="code" href="Echange__contact__VDF_8cpp.html#a4750bc0dfd46a9da58be86a8b5b9b631" title="fin du cas Raccord_local_homogene">calculer_h_local</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab,<span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; une_eqn,<span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zvdf_2,<span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; front_vf,<span class="keyword">const</span> <a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>&amp; le_milieu,<span class="keywordtype">double</span> invhparoi,<span class="keywordtype">int</span> opt)
<a name="l00099"></a>00099 {
<a name="l00100"></a>00100   <a class="code" href="classDoubleVect.html">DoubleVect</a> e;
<a name="l00101"></a>00101   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; face_voisins = zvdf_2.<a class="code" href="classZone__VF.html#a49d4322f5585a8fa95748ca785b70702" title="renvoie l&#39;element voisin de numface dans la direction i. i=0 : dans le sens oppose de l&#39;axe orthogona...">face_voisins</a>();
<a name="l00102"></a>00102   <span class="keywordtype">int</span> i;
<a name="l00103"></a>00103   <span class="keywordtype">int</span> nb_faces=front_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00104"></a>00104   <span class="keywordtype">int</span> nb_comp = le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()-&gt;<a class="code" href="classChamp__Don.html#aa0b82f09287c5934333d540ef77e0059" title="Appel a l&#39;objet sous-jacent Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00105"></a>00105   <span class="keywordtype">int</span> ndeb = front_vf.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>();
<a name="l00106"></a>00106   <span class="keywordtype">int</span> nfin = ndeb + nb_faces;
<a name="l00107"></a>00107   <span class="keywordtype">bool</span> dequiv=<span class="keyword">false</span>;
<a name="l00108"></a>00108 
<a name="l00109"></a>00109   e.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(front_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>());
<a name="l00110"></a>00110 
<a name="l00111"></a>00111   <span class="keyword">const</span> <a class="code" href="classRef__Objet__U.html">RefObjU</a>&amp; modele_turbulence = une_eqn.<a class="code" href="classEquation__base.html#ab0bb5d06bdc91e131dc9d5f9d7b57095">get_modele</a>(<a class="code" href="Equation__base_8h.html#a2c9d34b2cc47e5b2b18347de20a77db5a0fecbd75e0b8b4c37ffd696e173a14c7">TURBULENCE</a>);
<a name="l00112"></a>00112 
<a name="l00113"></a>00113   <span class="keywordflow">if</span> (modele_turbulence.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() &amp;&amp; <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classModele__turbulence__scal__base.html" title="Classe Modele_turbulence_scal_base Cette classe represente un modele de turbulence pour une equation ...">Modele_turbulence_scal_base</a>,modele_turbulence.<a class="code" href="classRef__Objet__U.html#ad875112c0fd275aa0c0aa710481ab11e">valeur</a>()) &amp;&amp; opt!=1 )
<a name="l00114"></a>00114     {
<a name="l00115"></a>00115       <span class="keyword">const</span> <a class="code" href="classModele__turbulence__scal__base.html" title="Classe Modele_turbulence_scal_base Cette classe represente un modele de turbulence pour une equation ...">Modele_turbulence_scal_base</a>&amp; mod_turb_scal = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classModele__turbulence__scal__base.html" title="Classe Modele_turbulence_scal_base Cette classe represente un modele de turbulence pour une equation ...">Modele_turbulence_scal_base</a>,modele_turbulence.<a class="code" href="classRef__Objet__U.html#ad875112c0fd275aa0c0aa710481ab11e">valeur</a>());
<a name="l00116"></a>00116       <span class="keyword">const</span> <a class="code" href="classTurbulence__paroi__scal.html" title="Classe Turbulence_paroi_scal Classe generique de la hierarchie des turbulences au niveau de la paroi...">Turbulence_paroi_scal</a>&amp; loi_par = mod_turb_scal.<a class="code" href="classModele__turbulence__scal__base.html#a3498c3b522536e605fb6810c88adf753" title="Renvoie la loi de turbulence sur la paroi&lt;br&gt;(version const)">loi_paroi</a>();
<a name="l00117"></a>00117       <span class="keywordflow">if</span>( loi_par.valeur().use_equivalent_distance() )
<a name="l00118"></a>00118         {
<a name="l00119"></a>00119           <span class="keywordtype">int</span> boundary_index=-1;
<a name="l00120"></a>00120           dequiv=<span class="keyword">true</span>;
<a name="l00121"></a>00121 <span class="comment">// Looking for the good boundary</span>
<a name="l00122"></a>00122           <span class="keywordtype">int</span> nb_boundaries=zvdf_2.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a9bf185c52ad1809d954bba670d9aed8a" title="Renvoie le nombre de bords + le nombre de raccords + le nombre de faces frontieres internes...">nb_front_Cl</a>();
<a name="l00123"></a>00123           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n_bord=0; n_bord&lt;nb_boundaries; n_bord++)
<a name="l00124"></a>00124             {
<a name="l00125"></a>00125               <span class="keywordflow">if</span> (zvdf_2.<a class="code" href="classZone__VF.html#a45e54622328fcf035535edf96172c1e4" title="renvoie la ieme frontiere_discrete.">front_VF</a>(n_bord).<a class="code" href="classFrontiere__dis__base.html#a5a7eb46dc3af8a7d4225adc1814845d8" title="Renvoie le nom de la frontiere geometrique.">le_nom</a>() == front_vf.<a class="code" href="classFrontiere__dis__base.html#a5a7eb46dc3af8a7d4225adc1814845d8" title="Renvoie le nom de la frontiere geometrique.">le_nom</a>())
<a name="l00126"></a>00126                 boundary_index=n_bord;
<a name="l00127"></a>00127             }
<a name="l00128"></a>00128           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ind_face=0; ind_face&lt;nb_faces; ind_face++)
<a name="l00129"></a>00129             {
<a name="l00130"></a>00130               e(ind_face)=loi_par.valeur().equivalent_distance(boundary_index,ind_face);
<a name="l00131"></a>00131             }
<a name="l00132"></a>00132         }
<a name="l00133"></a>00133     }
<a name="l00134"></a>00134   <span class="keywordflow">if</span>( ! dequiv )
<a name="l00135"></a>00135     {
<a name="l00136"></a>00136       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=ndeb; face&lt;nfin; face++)
<a name="l00137"></a>00137         {
<a name="l00138"></a>00138           e(face-ndeb) = zvdf_2.<a class="code" href="classZone__VDF.html#a369e50f57ce994a9afe43ff2e3ff813b">dist_norm_bord</a>(face);
<a name="l00139"></a>00139         }
<a name="l00140"></a>00140     }
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 <span class="comment">// Calcul de tab = 1/(e/lambda + 1/h_paroi) =1/(e/lambda+invhparoi)</span>
<a name="l00143"></a>00143   <span class="keywordflow">if</span>(!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>().<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00144"></a>00144     {
<a name="l00145"></a>00145       <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; lambda = le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00146"></a>00146       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=ndeb; face&lt;nfin; face++)
<a name="l00147"></a>00147         {
<a name="l00148"></a>00148           <span class="keywordtype">int</span> elem = face_voisins(face,0);
<a name="l00149"></a>00149           <span class="keywordflow">if</span> (elem == -1)
<a name="l00150"></a>00150             elem = face_voisins(face,1);
<a name="l00151"></a>00151           <span class="keywordflow">for</span>(i=0; i&lt;nb_comp; i++)
<a name="l00152"></a>00152             {
<a name="l00153"></a>00153               assert(le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()(elem,i)!=0.);
<a name="l00154"></a>00154               tab(face-ndeb,i) = 1./(e(face-ndeb)/lambda(elem,i)+invhparoi);
<a name="l00155"></a>00155             }
<a name="l00156"></a>00156         }
<a name="l00157"></a>00157     }
<a name="l00158"></a>00158   <span class="keywordflow">else</span>  <span class="comment">//!&lt; la conductivite est un Champ uniforme</span>
<a name="l00159"></a>00159 <span class="comment"></span>    {
<a name="l00160"></a>00160       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=ndeb; face&lt;nfin; face++)
<a name="l00161"></a>00161         {
<a name="l00162"></a>00162           <span class="keywordflow">for</span>(i=0; i&lt;nb_comp; i++)
<a name="l00163"></a>00163             {
<a name="l00164"></a>00164               assert(le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()(0,i)!=0.);
<a name="l00165"></a>00165               tab(face-ndeb,i) = 1./(e(face-ndeb)/le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()(0,i)+invhparoi);
<a name="l00166"></a>00166             }
<a name="l00167"></a>00167         }
<a name="l00168"></a>00168     }
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 } <span class="comment">//!&lt; fin du cas Raccord_local_homogene</span>
<a name="l00171"></a>00171 <span class="comment"></span>
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="Echange__contact__VDF_8cpp.html#aa592d3387d7761865cb63ffe2264d605">00173</a> <span class="keywordtype">void</span> <a class="code" href="Echange__contact__VDF_8cpp.html#aa592d3387d7761865cb63ffe2264d605" title="fin du cas Raccord_distant_homogene">calculer_h_distant</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab,<span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; une_eqn,<span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zvdf_2,<span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; front_vf,<span class="keyword">const</span>    <a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>&amp; le_milieu,<span class="keywordtype">double</span> invhparoi,<span class="keywordtype">int</span> opt,<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nom_racc2)
<a name="l00174"></a>00174 {
<a name="l00175"></a>00175   <a class="code" href="classDoubleVect.html">DoubleVect</a> e;
<a name="l00176"></a>00176   <span class="keywordtype">int</span> i;
<a name="l00177"></a>00177   <span class="keywordtype">int</span> nb_comp = le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()-&gt;<a class="code" href="classChamp__Don.html#aa0b82f09287c5934333d540ef77e0059" title="Appel a l&#39;objet sous-jacent Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00178"></a>00178   <span class="keywordtype">int</span> nb_faces_raccord1 =tab.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0); <span class="comment">//= zone_dis1.zone().raccord(nom_racc1).valeur().nb_faces();</span>
<a name="l00179"></a>00179   <span class="keywordtype">bool</span> dequiv=<span class="keyword">false</span>;
<a name="l00180"></a>00180 
<a name="l00181"></a>00181   <span class="keyword">const</span> <a class="code" href="classRef__Objet__U.html">RefObjU</a>&amp; modele_turbulence = une_eqn.<a class="code" href="classEquation__base.html#ab0bb5d06bdc91e131dc9d5f9d7b57095">get_modele</a>(<a class="code" href="Equation__base_8h.html#a2c9d34b2cc47e5b2b18347de20a77db5a0fecbd75e0b8b4c37ffd696e173a14c7">TURBULENCE</a>);
<a name="l00182"></a>00182   <span class="keywordflow">if</span> (modele_turbulence.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() &amp;&amp; <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classModele__turbulence__scal__base.html" title="Classe Modele_turbulence_scal_base Cette classe represente un modele de turbulence pour une equation ...">Modele_turbulence_scal_base</a>,modele_turbulence.<a class="code" href="classRef__Objet__U.html#ad875112c0fd275aa0c0aa710481ab11e">valeur</a>()) &amp;&amp; opt!=1 )
<a name="l00183"></a>00183     {
<a name="l00184"></a>00184 
<a name="l00185"></a>00185       <span class="keyword">const</span> <a class="code" href="classModele__turbulence__scal__base.html" title="Classe Modele_turbulence_scal_base Cette classe represente un modele de turbulence pour une equation ...">Modele_turbulence_scal_base</a>&amp; mod_turb_scal = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classModele__turbulence__scal__base.html" title="Classe Modele_turbulence_scal_base Cette classe represente un modele de turbulence pour une equation ...">Modele_turbulence_scal_base</a>,modele_turbulence.<a class="code" href="classRef__Objet__U.html#ad875112c0fd275aa0c0aa710481ab11e">valeur</a>());
<a name="l00186"></a>00186       <span class="keyword">const</span> <a class="code" href="classTurbulence__paroi__scal.html" title="Classe Turbulence_paroi_scal Classe generique de la hierarchie des turbulences au niveau de la paroi...">Turbulence_paroi_scal</a>&amp; loi_par = mod_turb_scal.<a class="code" href="classModele__turbulence__scal__base.html#a3498c3b522536e605fb6810c88adf753" title="Renvoie la loi de turbulence sur la paroi&lt;br&gt;(version const)">loi_paroi</a>();
<a name="l00187"></a>00187       <span class="keywordflow">if</span>( loi_par.valeur().use_equivalent_distance() )
<a name="l00188"></a>00188         {
<a name="l00189"></a>00189           dequiv=<span class="keyword">true</span>;
<a name="l00190"></a>00190           <a class="code" href="classDoubleVect.html">DoubleVect</a> d_equiv_tmp;
<a name="l00191"></a>00191           front_vf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#a2993ce1565d3eeda6e2bb9e4aaeca175">trace_face_distant</a>( loi_par.valeur().equivalent_distance_name(d_equiv_tmp,nom_racc2),e);
<a name="l00192"></a>00192 <span class="comment">// const Paroi_scal_hyd_base_VDF&amp; loip = ref_cast(Paroi_scal_hyd_base_VDF,loi_par.valeur());</span>
<a name="l00193"></a>00193 <span class="comment">// front_vf.frontiere().trace_face(loip.d_equiv_nom(d_equiv_tmp,nom_racc2),e);</span>
<a name="l00194"></a>00194         }
<a name="l00195"></a>00195     }
<a name="l00196"></a>00196   <span class="keywordflow">if</span>( ! dequiv )
<a name="l00197"></a>00197     {
<a name="l00198"></a>00198       <a class="code" href="classDoubleVect.html">DoubleVect</a> dist;
<a name="l00199"></a>00199       front_vf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#a2993ce1565d3eeda6e2bb9e4aaeca175">trace_face_distant</a>(zvdf_2.<a class="code" href="classZone__VDF.html#a369e50f57ce994a9afe43ff2e3ff813b">dist_norm_bord</a>(dist,nom_racc2),e);
<a name="l00200"></a>00200     }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 <span class="comment">// Calcul de tab = 1/(e/lambda + 1/h_paroi)=1/(e/lambda + invhparoi)</span>
<a name="l00203"></a>00203 
<a name="l00204"></a>00204   <span class="keywordflow">if</span>(!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>().<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00205"></a>00205     {
<a name="l00206"></a>00206       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> lambda;
<a name="l00207"></a>00207       front_vf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#ab94532afb12eff8bc7f9925d0e8bfc38">trace_elem_distant</a>(le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>(),lambda);
<a name="l00208"></a>00208       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=0; face&lt;nb_faces_raccord1; face++)
<a name="l00209"></a>00209         <span class="keywordflow">for</span>(i=0; i&lt;nb_comp; i++)
<a name="l00210"></a>00210           {
<a name="l00211"></a>00211             assert(lambda(face,i)!=0.);
<a name="l00212"></a>00212             tab(face,i) = 1./(e(face)/lambda(face,i)+invhparoi);
<a name="l00213"></a>00213           }
<a name="l00214"></a>00214     }
<a name="l00215"></a>00215   <span class="keywordflow">else</span>  <span class="comment">//!&lt; la conductivite est un Champ uniforme</span>
<a name="l00216"></a>00216 <span class="comment"></span>    {
<a name="l00217"></a>00217       <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; lambda = le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00218"></a>00218       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=0; face&lt;nb_faces_raccord1; face++)
<a name="l00219"></a>00219         <span class="keywordflow">for</span>(i=0; i&lt;nb_comp; i++)
<a name="l00220"></a>00220           {
<a name="l00221"></a>00221             assert(lambda(0,i)!=0.);
<a name="l00222"></a>00222             tab(face,i) = 1./(e(face)/lambda(0,i)+invhparoi);
<a name="l00223"></a>00223           }
<a name="l00224"></a>00224     }
<a name="l00225"></a>00225 }        <span class="comment">//!&lt; fin du cas Raccord_distant_homogene</span>
<a name="l00226"></a>00226 <span class="comment"></span>
<a name="l00227"></a>00227 
<a name="l00228"></a><a class="code" href="classEchange__contact__VDF.html#aff4430cdf64d02f520dac1f7474b3655">00228</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__VDF.html#aff4430cdf64d02f520dac1f7474b3655">Echange_contact_VDF::calculer_h_mon_pb</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab,<span class="keywordtype">double</span> invhparoi,<span class="keywordtype">int</span> opt)
<a name="l00229"></a>00229 {
<a name="l00230"></a>00230 <span class="comment">// forcement local</span>
<a name="l00231"></a>00231   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; mon_eqn = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>();
<a name="l00232"></a>00232   <span class="keyword">const</span> <a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>&amp; mon_milieu = mon_eqn.<a class="code" href="classEquation__base.html#a181e9899e2d927eb14c835d9d9334f46">milieu</a>();
<a name="l00233"></a>00233   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; ma_zvdf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>,<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().zone_dis().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00234"></a>00234   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; ma_front_vf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00235"></a>00235   <a class="code" href="Echange__contact__VDF_8cpp.html#a4750bc0dfd46a9da58be86a8b5b9b631" title="fin du cas Raccord_local_homogene">calculer_h_local</a>(tab,mon_eqn,ma_zvdf,ma_front_vf,mon_milieu,invhparoi,opt);
<a name="l00236"></a>00236 }
<a name="l00237"></a>00237 
<a name="l00238"></a><a class="code" href="classEchange__contact__VDF.html#a655503d845e7d455bc8fbedadaf457bb">00238</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__VDF.html#a655503d845e7d455bc8fbedadaf457bb">Echange_contact_VDF::calculer_h_autre_pb</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab,<span class="keywordtype">double</span> invhparoi,<span class="keywordtype">int</span> opt)
<a name="l00239"></a>00239 {
<a name="l00240"></a>00240   <a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>&amp; ch=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>, <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00241"></a>00241   <span class="keyword">const</span> <a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>&amp; le_milieu=ch.<a class="code" href="classChamp__front__calc.html#a9207e93ac000a3adc58d45428a368cb6" title="Renvoie le milieu associe a l&#39;equation qui porte le champ inconnue dont on prend la trace...">milieu</a>();
<a name="l00242"></a>00242   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zvdf_2=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>, ch.<a class="code" href="classChamp__front__calc.html#a4d6c59ad9279762d03082f228d41ceb2" title="Renvoie la zone discretisee associee a l&#39;equation qui porte le champ inconnue dont on prend la trace...">zone_dis</a>());
<a name="l00243"></a>00243   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; front_vf=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>, ch.<a class="code" href="classChamp__front__calc.html#ac155878740179b362deaeb348b7deca8" title="Renvoie la frontiere discretisee correspondante au domaine sur lequel prend la trace.">front_dis</a>());
<a name="l00244"></a>00244   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; une_eqn=ch.<a class="code" href="classChamp__front__calc.html#a922bf951b57569ffbc59b0ce1f7e9029" title="Renvoie l&#39;equation associee a l&#39;inconnue dont on prend la trace.">equation</a>();
<a name="l00245"></a>00245   <span class="keywordtype">int</span> nb_comp = le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()-&gt;<a class="code" href="classChamp__Don.html#aa0b82f09287c5934333d540ef77e0059" title="Appel a l&#39;objet sous-jacent Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00246"></a>00246   assert(nb_comp==1);
<a name="l00247"></a>00247 
<a name="l00248"></a>00248   <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; zone_dis1 = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classZone__Cl__dis__base.html#a20ea8fc29bc5a157ee957925db285972" title="Renvoie une reference sur la zone discretisee associee aux conditions aux limites. Cette Zone_dis est associee au travers de l&#39;equation associee et pas directement a l&#39;objet Zone_Cl_dis_base.">zone_dis</a>().<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>();
<a name="l00249"></a>00249   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_racc1=<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>().<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>();
<a name="l00250"></a>00250   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_racc2=ch.<a class="code" href="classChamp__front__calc.html#a9f22970cd448f31b920ced3116a1408e" title="Renvoie le nom du bord sur lequel on calcule la trace.">nom_bord_oppose</a>();
<a name="l00251"></a>00251 
<a name="l00252"></a>00252   <span class="keywordtype">int</span> nb_faces_raccord1 = zone_dis1.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a83ed6844a8fa95eca730acfc873e75e7" title="Renvoie le i-ieme raccord de la zone&lt;br&gt;(version const)">raccord</a>(nom_racc1).<a class="code" href="classDeriv__Raccord__base.html#a00893b6e21deda193b9f429651361f14">valeur</a>().<a class="code" href="classFrontiere.html#aa073fe9dbdddde59471ee7032b256aa2" title="Renvoie le nombre de faces de la frontiere.">nb_faces</a>();
<a name="l00253"></a>00253   <span class="keywordflow">if</span> (tab.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0)!=nb_faces_raccord1
<a name="l00254"></a>00254       ||tab.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1)!=nb_comp)
<a name="l00255"></a>00255     {
<a name="l00256"></a>00256       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Dans Echange_contact_VDF::calculer_h_autre_pb, tab n&#39;est plus dimensionne.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00257"></a>00257       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Le dimensionnement est fait dans Echange_contact_VDF::initialiser.&quot;</span> &lt;&lt; finl;
<a name="l00258"></a>00258       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00259"></a>00259     }
<a name="l00260"></a>00260   <span class="keywordflow">if</span> (zone_dis1.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a83ed6844a8fa95eca730acfc873e75e7" title="Renvoie le i-ieme raccord de la zone&lt;br&gt;(version const)">raccord</a>(nom_racc1).<a class="code" href="classDeriv__Raccord__base.html#a00893b6e21deda193b9f429651361f14">valeur</a>().<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() ==<span class="stringliteral">&quot;Raccord_distant_homogene&quot;</span>)
<a name="l00261"></a>00261     {
<a name="l00262"></a>00262       <a class="code" href="Echange__contact__VDF_8cpp.html#aa592d3387d7761865cb63ffe2264d605" title="fin du cas Raccord_distant_homogene">calculer_h_distant</a>(tab,une_eqn,zvdf_2,front_vf,le_milieu,invhparoi,opt,nom_racc2);
<a name="l00263"></a>00263     }
<a name="l00264"></a>00264   <span class="keywordflow">else</span> <span class="comment">//!&lt; Raccord_local_homogene</span>
<a name="l00265"></a>00265 <span class="comment"></span>    {
<a name="l00266"></a>00266       <a class="code" href="Echange__contact__VDF_8cpp.html#a4750bc0dfd46a9da58be86a8b5b9b631" title="fin du cas Raccord_local_homogene">calculer_h_local</a>(tab,une_eqn,zvdf_2,front_vf,le_milieu,invhparoi,opt);
<a name="l00267"></a>00267     }
<a name="l00268"></a>00268 }
<a name="l00269"></a>00269 
<a name="l00270"></a><a class="code" href="classEchange__contact__VDF.html#ae7df80bce57c4d2893e3823fb5719930">00270</a> <span class="keywordtype">int</span> <a class="code" href="classEchange__contact__VDF.html#ae7df80bce57c4d2893e3823fb5719930" title="Initialisation en debut de calcul. A appeler avant tout calculer_coeffs_echange ou mettre_a_jour Cont...">Echange_contact_VDF::initialiser</a>(<span class="keywordtype">double</span> temps)
<a name="l00271"></a>00271 {
<a name="l00272"></a>00272   <span class="keywordflow">if</span> (!<a class="code" href="classEchange__impose__base.html#af91ea61919a62920c069484d76c67e6c" title="Initialisation en debut de calcul. A appeler avant tout calculer_coeffs_echange ou mettre_a_jour Cont...">Echange_global_impose::initialiser</a>(temps))
<a name="l00273"></a>00273     <span class="keywordflow">return</span> 0;
<a name="l00274"></a>00274 
<a name="l00275"></a>00275   <a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>&amp; ch=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>, <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00276"></a>00276   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; o_eqn = ch.<a class="code" href="classChamp__front__calc.html#a922bf951b57569ffbc59b0ce1f7e9029" title="Renvoie l&#39;equation associee a l&#39;inconnue dont on prend la trace.">equation</a>();
<a name="l00277"></a>00277   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; fvf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>, <a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>()), o_fvf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>, ch.<a class="code" href="classChamp__front__calc.html#ac155878740179b362deaeb348b7deca8" title="Renvoie la frontiere discretisee correspondante au domaine sur lequel prend la trace.">front_dis</a>());
<a name="l00278"></a>00278   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; o_zone = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>, ch.<a class="code" href="classChamp__front__calc.html#a4d6c59ad9279762d03082f228d41ceb2" title="Renvoie la zone discretisee associee a l&#39;equation qui porte le champ inconnue dont on prend la trace...">zone_dis</a>());
<a name="l00279"></a>00279   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; o_f_e = o_zone.face_voisins();
<a name="l00280"></a>00280   <span class="keyword">const</span> <a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>&amp; le_milieu=ch.<a class="code" href="classChamp__front__calc.html#a9207e93ac000a3adc58d45428a368cb6" title="Renvoie le milieu associe a l&#39;equation qui porte le champ inconnue dont on prend la trace...">milieu</a>();
<a name="l00281"></a>00281   <span class="keywordtype">int</span> nb_comp = le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()-&gt;<a class="code" href="classChamp__Don.html#aa0b82f09287c5934333d540ef77e0059" title="Appel a l&#39;objet sous-jacent Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00282"></a>00282   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_racc1=<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>().<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>();
<a name="l00283"></a>00283   <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; zone_dis1 = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classZone__Cl__dis__base.html#a20ea8fc29bc5a157ee957925db285972" title="Renvoie une reference sur la zone discretisee associee aux conditions aux limites. Cette Zone_dis est associee au travers de l&#39;equation associee et pas directement a l&#39;objet Zone_Cl_dis_base.">zone_dis</a>().<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>();
<a name="l00284"></a>00284   <span class="keywordtype">int</span> nb_faces_raccord1 = zone_dis1.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a83ed6844a8fa95eca730acfc873e75e7" title="Renvoie le i-ieme raccord de la zone&lt;br&gt;(version const)">raccord</a>(nom_racc1).<a class="code" href="classDeriv__Raccord__base.html#a00893b6e21deda193b9f429651361f14">valeur</a>().<a class="code" href="classFrontiere.html#aa073fe9dbdddde59471ee7032b256aa2" title="Renvoie le nombre de faces de la frontiere.">nb_faces</a>();
<a name="l00285"></a>00285 
<a name="l00286"></a>00286   <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Champ_front_fonc&quot;</span>);
<a name="l00287"></a>00287   <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>-&gt;fixer_nb_comp(nb_comp);
<a name="l00288"></a>00288   <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>.<a class="code" href="classChamp__front.html#a74caddb39fcac6ade95ec1399fac38b7" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>().<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_faces_raccord1,nb_comp);
<a name="l00289"></a>00289 
<a name="l00290"></a>00290   <span class="keywordflow">if</span> (zone_dis1.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a83ed6844a8fa95eca730acfc873e75e7" title="Renvoie le i-ieme raccord de la zone&lt;br&gt;(version const)">raccord</a>(nom_racc1).<a class="code" href="classDeriv__Raccord__base.html#a00893b6e21deda193b9f429651361f14">valeur</a>().<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() !=<span class="stringliteral">&quot;Raccord_distant_homogene&quot;</span>)
<a name="l00291"></a>00291     <a class="code" href="classEchange__contact__VDF.html#a9fa54bfb504025ddb62ce165aede78e4">verifier_correspondance</a>();
<a name="l00292"></a>00292 
<a name="l00293"></a>00293   <a class="code" href="classEchange__contact__VDF.html#ad76673e0c02c892878e81b12c4c96c5c">autre_h</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_faces_raccord1,nb_comp);
<a name="l00294"></a>00294 
<a name="l00295"></a>00295   ch.<a class="code" href="classChamp__front__calc.html#a38fb2cfc353f54d1a76abdb8cfcec45f" title="Initialise le temps courant et Gpoint.">initialiser</a>(temps,<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().equation().inconnue());
<a name="l00296"></a>00296 
<a name="l00297"></a>00297   <a class="code" href="classEchange__contact__VDF.html#abcbe7a2cee95d13f1f213db67b5b8000">monolithic</a> = <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classSchema__Euler__Implicite.html">Schema_Euler_Implicite</a>, o_eqn.<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>()) ?
<a name="l00298"></a>00298                <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classSchema__Euler__Implicite.html">Schema_Euler_Implicite</a>, o_eqn.<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>()).thermique_monolithique() : 0;
<a name="l00299"></a>00299   <span class="keywordflow">if</span> (!<a class="code" href="classEchange__contact__VDF.html#abcbe7a2cee95d13f1f213db67b5b8000">monolithic</a>) <span class="keywordflow">return</span> 1; <span class="comment">//pas besoin du reste</span>
<a name="l00300"></a>00300   o_zone.init_virt_e_map();
<a name="l00301"></a>00301 
<a name="l00302"></a>00302   <span class="comment">/* src(i) = (proc, j) : source de l&#39;item i de mdv_elem */</span>
<a name="l00303"></a>00303   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> src(0, 2);
<a name="l00304"></a>00304   <a class="code" href="MD__Vector__tools_8cpp.html#aff1ed2791dba1a76fdb300920147cfdf">MD_Vector_tools::creer_tableau_distribue</a>(o_zone.zone().md_vector_elements(), src);
<a name="l00305"></a>00305   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; src.<a class="code" href="classIntTab.html#a71e9b9ddc1793094b1b3f109377952b1" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0); i++) src(i, 0) = <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(), src(i, 1) = i;
<a name="l00306"></a>00306   src.<a class="code" href="classIntVect.html#ad12bea67621d1a0ee82b27c9a37ca4ef">echange_espace_virtuel</a>();
<a name="l00307"></a>00307 
<a name="l00308"></a>00308   <span class="comment">/* o_proc, o_item -&gt; processeur/item de l&#39;element pour chaque face de la frontiere */</span>
<a name="l00309"></a>00309   <a class="code" href="classDoubleTrav.html" title="Tableau de travail a n entrees pour n&lt;= 4 C&#39;est un DoubleTab avec allocation dans un pool de memoire g...">DoubleTrav</a> o_proc, o_item, proc, l_item;
<a name="l00310"></a>00310   o_zone.creer_tableau_faces(o_proc), o_zone.creer_tableau_faces(o_item);
<a name="l00311"></a>00311   fvf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#af0a03f9d949136d1d9a10f4f891c7542" title="Cree un tableau ayant une &quot;ligne&quot; par face de cette frontiere Voir MD_Vector_tools::creer_tableau_dis...">creer_tableau_faces</a>(proc), fvf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#af0a03f9d949136d1d9a10f4f891c7542" title="Cree un tableau ayant une &quot;ligne&quot; par face de cette frontiere Voir MD_Vector_tools::creer_tableau_dis...">creer_tableau_faces</a>(l_item);
<a name="l00312"></a>00312   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; o_fvf.nb_faces(); i++)
<a name="l00313"></a>00313     {
<a name="l00314"></a>00314       <span class="keywordtype">int</span> f = o_fvf.num_face(i), e = o_f_e(f, 0) == -1 ? o_f_e(f, 1) : o_f_e(f, 0);
<a name="l00315"></a>00315       o_proc(f) = src(e, 0), o_item(f) = src(e, 1); <span class="comment">//element</span>
<a name="l00316"></a>00316     }
<a name="l00317"></a>00317 
<a name="l00318"></a>00318 <span class="comment">// projection sur la frontiere locale</span>
<a name="l00319"></a>00319   <span class="keywordflow">if</span> (o_fvf.frontiere().que_suis_je() == <span class="stringliteral">&quot;Raccord_distant_homogene&quot;</span>)
<a name="l00320"></a>00320     o_fvf.frontiere().trace_face_distant(o_proc, proc), o_fvf.frontiere().trace_face_distant(o_item, l_item);
<a name="l00321"></a>00321   <span class="keywordflow">else</span> o_fvf.frontiere().trace_face_local(o_proc, proc), o_fvf.frontiere().trace_face_local(o_item, l_item);
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 <span class="comment">// remplissage</span>
<a name="l00324"></a>00324   <a class="code" href="classEchange__contact__VDF.html#a48a74675a769446ab6fbb22a4616ae86">item</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(fvf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>()), <a class="code" href="classEchange__contact__VDF.html#a48a74675a769446ab6fbb22a4616ae86">item</a> = -1;
<a name="l00325"></a>00325   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; fvf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>(); i++) <span class="keywordflow">if</span> (l_item(i) &gt;= 0)
<a name="l00326"></a>00326       {
<a name="l00327"></a>00327         <span class="keywordflow">if</span> (proc(i) == <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>()) <a class="code" href="classEchange__contact__VDF.html#a48a74675a769446ab6fbb22a4616ae86">item</a>(i) = l_item(i);                     <span class="comment">//item local (reel)</span>
<a name="l00328"></a>00328         <span class="keywordflow">else</span>
<a name="l00329"></a>00329           {
<a name="l00330"></a>00330             <span class="keywordflow">if</span> (o_zone.virt_e_map.count({{ (<span class="keywordtype">int</span>) proc(i), (<span class="keywordtype">int</span>) l_item(i) }}))   <span class="comment">//item local (virtuel)</span>
<a name="l00331"></a>00331             <a class="code" href="classEchange__contact__VDF.html#a48a74675a769446ab6fbb22a4616ae86">item</a>(i) = o_zone.virt_e_map.at({{ (int) proc(i),  (int) l_item(i) }});
<a name="l00332"></a>00332             <span class="keywordflow">else</span> <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>(<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;Echange_contact_VDF : missing element opposite face &quot;</span>) + <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(fvf.<a class="code" href="classFront__VF.html#a3402a19d7e54ed797d2b18e9a47ead1e" title="Renvoie le numero de face de la ieme face du bord.">num_face</a>(i)) + <span class="stringliteral">&quot; in &quot;</span> + fvf.<a class="code" href="classFrontiere__dis__base.html#a5a7eb46dc3af8a7d4225adc1814845d8" title="Renvoie le nom de la frontiere geometrique.">le_nom</a>() + <span class="stringliteral">&quot; ! Have you used Decouper_multi?&quot;</span>);
<a name="l00333"></a>00333           }
<a name="l00334"></a>00334       }
<a name="l00335"></a>00335   <span class="keywordflow">return</span> 1;
<a name="l00336"></a>00336 }
<a name="l00337"></a>00337 
<a name="l00338"></a><a class="code" href="classEchange__contact__VDF.html#a3b7e818a1049678a037c9d004e3e4fe5">00338</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__VDF.html#a3b7e818a1049678a037c9d004e3e4fe5" title="Effectue une mise a jour en temps des conditions aux limites. Lors du premier appel des initialisatio...">Echange_contact_VDF::mettre_a_jour</a>(<span class="keywordtype">double</span> temps)
<a name="l00339"></a>00339 {
<a name="l00340"></a>00340   <a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>&amp; ch=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>, <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00341"></a>00341   <span class="keyword">const</span> <a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>&amp; le_milieu=ch.<a class="code" href="classChamp__front__calc.html#a9207e93ac000a3adc58d45428a368cb6" title="Renvoie le milieu associe a l&#39;equation qui porte le champ inconnue dont on prend la trace...">milieu</a>();
<a name="l00342"></a>00342   <span class="keywordtype">int</span> nb_comp = le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()-&gt;<a class="code" href="classChamp__Don.html#aa0b82f09287c5934333d540ef77e0059" title="Appel a l&#39;objet sous-jacent Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00343"></a>00343   assert(nb_comp==1);
<a name="l00344"></a>00344 
<a name="l00345"></a>00345   <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>().<a class="code" href="classChamp__front.html#a9c511a3e67d27b39b05dbb90ed2ec5c4" title="Appel a l&#39;objet sous-jacent Effectue une mise a jour en temps.">mettre_a_jour</a>(temps);
<a name="l00346"></a>00346 
<a name="l00347"></a>00347   <span class="keywordtype">int</span> is_pb_fluide=0;
<a name="l00348"></a>00348 
<a name="l00349"></a>00349   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; mon_h= <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>-&gt;<a class="code" href="classChamp__front.html#a74caddb39fcac6ade95ec1399fac38b7" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>();
<a name="l00350"></a>00350 
<a name="l00351"></a>00351   <span class="keywordtype">int</span> opt=0;
<a name="l00352"></a>00352   assert(<a class="code" href="classEchange__contact__VDF.html#a1fd383be30c5927fa8291eac696d901a">h_paroi</a>!=0.);
<a name="l00353"></a>00353   <span class="keywordtype">double</span> invhparoi=1./<a class="code" href="classEchange__contact__VDF.html#a1fd383be30c5927fa8291eac696d901a">h_paroi</a>;
<a name="l00354"></a>00354   <a class="code" href="classEchange__contact__VDF.html#a655503d845e7d455bc8fbedadaf457bb">calculer_h_autre_pb</a>( <a class="code" href="classEchange__contact__VDF.html#ad76673e0c02c892878e81b12c4c96c5c">autre_h</a>, invhparoi, opt);
<a name="l00355"></a>00355   <a class="code" href="classEchange__contact__VDF.html#aff4430cdf64d02f520dac1f7474b3655">calculer_h_mon_pb</a>(mon_h,0.,opt);
<a name="l00356"></a>00356 
<a name="l00357"></a>00357   <a class="code" href="classEchange__contact__VDF.html#af6209ce072d8d5b1d941d78c3c7ed293" title="remplit Teta_p utilise T_autre_pb au temps passe en parametre">calculer_Teta_paroi</a>(<a class="code" href="classEchange__contact__VDF.html#a162e2ba9b99ba3e9baf97a161bc75d53">T_wall_</a>,mon_h,<a class="code" href="classEchange__contact__VDF.html#ad76673e0c02c892878e81b12c4c96c5c">autre_h</a>,is_pb_fluide,temps);
<a name="l00358"></a>00358   <a class="code" href="classEchange__contact__VDF.html#a6801d66ce96d786d89438f1f68dccb9c" title="remplit Teta_eq utilise T_autre_pb au temps passe en parametre">calculer_Teta_equiv</a>(<a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>()-&gt;valeurs_au_temps(temps),mon_h,<a class="code" href="classEchange__contact__VDF.html#ad76673e0c02c892878e81b12c4c96c5c">autre_h</a>,is_pb_fluide,temps);
<a name="l00359"></a>00359 <span class="comment">// on a calculer Teta paroi, on peut calculer htot dans himp (= mon_h)</span>
<a name="l00360"></a>00360   <span class="keywordtype">int</span> taille=mon_h.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00361"></a>00361   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii=0; ii&lt;taille; ii++)
<a name="l00362"></a>00362     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> jj=0; jj&lt;nb_comp; jj++)
<a name="l00363"></a>00363       {
<a name="l00364"></a>00364         mon_h(ii,jj)=1./(1./<a class="code" href="classEchange__contact__VDF.html#ad76673e0c02c892878e81b12c4c96c5c">autre_h</a>(ii,jj)+1./mon_h(ii,jj));
<a name="l00365"></a>00365       }
<a name="l00366"></a>00366   <a class="code" href="classEchange__contact__VDF.html#a3b7e818a1049678a037c9d004e3e4fe5" title="Effectue une mise a jour en temps des conditions aux limites. Lors du premier appel des initialisatio...">Echange_global_impose::mettre_a_jour</a>(temps);
<a name="l00367"></a>00367 }
<a name="l00368"></a>00368 
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 <span class="comment">//</span>
<a name="l00371"></a>00371 <span class="comment">//</span><span class="comment"></span>
<a name="l00372"></a>00372 <span class="comment">//! remplit Teta_eq&lt;br&gt;utilise T_autre_pb au temps passe en parametre</span>
<a name="l00373"></a><a class="code" href="classEchange__contact__VDF.html#a6801d66ce96d786d89438f1f68dccb9c">00373</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classEchange__contact__VDF.html#a6801d66ce96d786d89438f1f68dccb9c" title="remplit Teta_eq utilise T_autre_pb au temps passe en parametre">Echange_contact_VDF::calculer_Teta_equiv</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Teta_eq,<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; mon_h,<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; lautre_h,<span class="keywordtype">int</span> i,<span class="keywordtype">double</span> temps)
<a name="l00374"></a>00374 {
<a name="l00375"></a>00375   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; ma_front_vf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00376"></a>00376   <span class="keywordtype">int</span> nb_faces_bord = ma_front_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00377"></a>00377   assert(Teta_eq.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0)==nb_faces_bord);
<a name="l00378"></a>00378   assert(Teta_eq.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1)==1);
<a name="l00379"></a>00379   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; t_autre=<a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>()-&gt;valeurs_au_temps(temps);
<a name="l00380"></a>00380   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> numfa=0; numfa&lt;nb_faces_bord; numfa++)
<a name="l00381"></a>00381     {
<a name="l00382"></a>00382       Teta_eq(numfa,0) = t_autre(numfa,0);
<a name="l00383"></a>00383     }
<a name="l00384"></a>00384   Teta_eq.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00385"></a>00385 }
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 <span class="comment">//</span>
<a name="l00388"></a>00388 <span class="comment">//</span><span class="comment"></span>
<a name="l00389"></a>00389 <span class="comment">//! remplit Teta_p&lt;br&gt;utilise T_autre_pb au temps passe en parametre</span>
<a name="l00390"></a><a class="code" href="classEchange__contact__VDF.html#af6209ce072d8d5b1d941d78c3c7ed293">00390</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classEchange__contact__VDF.html#af6209ce072d8d5b1d941d78c3c7ed293" title="remplit Teta_p utilise T_autre_pb au temps passe en parametre">Echange_contact_VDF::calculer_Teta_paroi</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Teta_p,<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; mon_h,<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; lautre_h,<span class="keywordtype">int</span> i, <span class="keywordtype">double</span> temps)
<a name="l00391"></a>00391 {
<a name="l00392"></a>00392   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; mon_eqn = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>();
<a name="l00393"></a>00393   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; mon_inco=mon_eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a28ef3d411d12cb5684ac5e799efb7d24" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs au temps courant.">valeurs</a>();
<a name="l00394"></a>00394   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; ma_zvdf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>,<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().zone_dis().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00395"></a>00395   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; ma_front_vf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00396"></a>00396   <span class="keywordtype">int</span> ndeb = ma_front_vf.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>();
<a name="l00397"></a>00397   <span class="keywordtype">int</span> nb_faces_bord = ma_front_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00398"></a>00398   <span class="keywordtype">int</span> ind_fac,elem;
<a name="l00399"></a>00399   Teta_p.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_faces_bord,1);
<a name="l00400"></a>00400   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; t_autre=<a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>()-&gt;valeurs_au_temps(temps);
<a name="l00401"></a>00401   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> numfa=0; numfa&lt;nb_faces_bord; numfa++)
<a name="l00402"></a>00402     {
<a name="l00403"></a>00403       ind_fac = numfa+ndeb;
<a name="l00404"></a>00404       <span class="keywordflow">if</span> (ma_zvdf.<a class="code" href="classZone__VF.html#a49d4322f5585a8fa95748ca785b70702" title="renvoie l&#39;element voisin de numface dans la direction i. i=0 : dans le sens oppose de l&#39;axe orthogona...">face_voisins</a>(ind_fac,0)!= -1)
<a name="l00405"></a>00405         elem = ma_zvdf.<a class="code" href="classZone__VF.html#a49d4322f5585a8fa95748ca785b70702" title="renvoie l&#39;element voisin de numface dans la direction i. i=0 : dans le sens oppose de l&#39;axe orthogona...">face_voisins</a>(ind_fac,0);
<a name="l00406"></a>00406       <span class="keywordflow">else</span>
<a name="l00407"></a>00407         elem = ma_zvdf.<a class="code" href="classZone__VF.html#a49d4322f5585a8fa95748ca785b70702" title="renvoie l&#39;element voisin de numface dans la direction i. i=0 : dans le sens oppose de l&#39;axe orthogona...">face_voisins</a>(ind_fac,1);
<a name="l00408"></a>00408 
<a name="l00409"></a>00409       Teta_p(numfa,0) = (mon_h(numfa,0)*mon_inco(elem) + lautre_h(numfa,0)*t_autre(numfa,0))/(mon_h(numfa,0)+lautre_h(numfa,0));
<a name="l00410"></a>00410     }
<a name="l00411"></a>00411 }
<a name="l00412"></a>00412 
<a name="l00413"></a>00413 <span class="comment">// En VDF, les faces de deux raccords doivent etre numerotes de la meme facon</span>
<a name="l00414"></a><a class="code" href="classEchange__contact__VDF.html#a9fa54bfb504025ddb62ce165aede78e4">00414</a> <span class="keywordtype">int</span> <a class="code" href="classEchange__contact__VDF.html#a9fa54bfb504025ddb62ce165aede78e4">Echange_contact_VDF::verifier_correspondance</a>()<span class="keyword"> const</span>
<a name="l00415"></a>00415 <span class="keyword"></span>{
<a name="l00416"></a>00416   <span class="keyword">const</span> <a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>&amp; ch=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>, <a class="code" href="classEchange__contact__VDF.html#add338616240f7abdf5edfa00785bada8">T_autre_pb</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00417"></a>00417   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; ma_zvdf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>,<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().zone_dis().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00418"></a>00418   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; ma_front_vf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00419"></a>00419   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zvdf_2=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>, ch.<a class="code" href="classChamp__front__calc.html#a4d6c59ad9279762d03082f228d41ceb2" title="Renvoie la zone discretisee associee a l&#39;equation qui porte le champ inconnue dont on prend la trace...">zone_dis</a>());
<a name="l00420"></a>00420   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; front_vf=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>, ch.<a class="code" href="classChamp__front__calc.html#ac155878740179b362deaeb348b7deca8" title="Renvoie la frontiere discretisee correspondante au domaine sur lequel prend la trace.">front_dis</a>());
<a name="l00421"></a>00421   <span class="keywordtype">int</span> ndeb = ma_front_vf.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>();
<a name="l00422"></a>00422   <span class="keywordtype">int</span> ndeb2 = front_vf.num_premiere_face();
<a name="l00423"></a>00423   <span class="keywordtype">int</span> nb_faces_bord = ma_front_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00424"></a>00424   <span class="keywordtype">int</span> ind_fac,ind_fac_2;
<a name="l00425"></a>00425   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xv=ma_zvdf.<a class="code" href="classZone__VF.html#a918c0885a9b67317fcce3a0535306542">xv</a>();
<a name="l00426"></a>00426   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xv2=zvdf_2.<a class="code" href="classZone__VF.html#a918c0885a9b67317fcce3a0535306542">xv</a>();
<a name="l00427"></a>00427 
<a name="l00428"></a>00428   <a class="code" href="classDoubleVect.html">DoubleVect</a> x1(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l00429"></a>00429   <a class="code" href="classDoubleVect.html">DoubleVect</a> x2(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l00430"></a>00430   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> numfa=0; numfa&lt;nb_faces_bord; numfa++)
<a name="l00431"></a>00431     {
<a name="l00432"></a>00432       ind_fac = numfa+ndeb;
<a name="l00433"></a>00433       ind_fac_2=numfa+ndeb2;
<a name="l00434"></a>00434       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; k++)
<a name="l00435"></a>00435         {
<a name="l00436"></a>00436           x1[k] = xv(ind_fac,k);
<a name="l00437"></a>00437           x2[k] = xv2(ind_fac_2,k);
<a name="l00438"></a>00438         }
<a name="l00439"></a>00439       <span class="keywordflow">if</span> (!<a class="code" href="Echange__contact__PolyMAC_8cpp.html#a57baa099890144a32e48063b438d449e">meme_point2</a>(x1,x2))
<a name="l00440"></a>00440         {
<a name="l00441"></a>00441           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00442"></a>00442           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Correspondence problem: the two &#39;Raccords&#39; named &quot;</span>&lt;&lt;ma_front_vf.<a class="code" href="classFrontiere__dis__base.html#a5a7eb46dc3af8a7d4225adc1814845d8" title="Renvoie le nom de la frontiere geometrique.">le_nom</a>() &lt;&lt;<span class="stringliteral">&quot; are not facing.&quot;</span>&lt;&lt;finl;
<a name="l00443"></a>00443           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Problem on the following faces:&quot;</span> &lt;&lt; finl;
<a name="l00444"></a>00444           <span class="keywordflow">if</span> ( dimension==2 )
<a name="l00445"></a>00445             {
<a name="l00446"></a>00446               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Coordinates of the face 1: (&quot;</span> &lt;&lt; x1[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; x1[1] &lt;&lt; <span class="stringliteral">&quot;) on the domain &quot;</span> &lt;&lt; ma_zvdf.<a class="code" href="classZone__dis__base.html#a65fdde8e309b6f1f0d8987fa4b9a5b93">domaine_dis</a>().<a class="code" href="classDomaine__dis.html#a5537c5abe880a7149de87f00312ddad3" title="Renvoie une reference sur le Domaine associe au domaine discretise.">domaine</a>().<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt; finl;
<a name="l00447"></a>00447               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Coordinates of the face 2: (&quot;</span> &lt;&lt; x2[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; x2[1] &lt;&lt; <span class="stringliteral">&quot;) on the domain &quot;</span> &lt;&lt; zvdf_2.<a class="code" href="classZone__dis__base.html#a65fdde8e309b6f1f0d8987fa4b9a5b93">domaine_dis</a>().<a class="code" href="classDomaine__dis.html#a5537c5abe880a7149de87f00312ddad3" title="Renvoie une reference sur le Domaine associe au domaine discretise.">domaine</a>().<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>()  &lt;&lt; finl;
<a name="l00448"></a>00448             }
<a name="l00449"></a>00449           <span class="keywordflow">else</span>
<a name="l00450"></a>00450             {
<a name="l00451"></a>00451               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Coordinates of the face 1: (&quot;</span> &lt;&lt; x1[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; x1[1] &lt;&lt; x1[2] &lt;&lt; <span class="stringliteral">&quot;) on the domain &quot;</span> &lt;&lt; ma_zvdf.<a class="code" href="classZone__dis__base.html#a65fdde8e309b6f1f0d8987fa4b9a5b93">domaine_dis</a>().<a class="code" href="classDomaine__dis.html#a5537c5abe880a7149de87f00312ddad3" title="Renvoie une reference sur le Domaine associe au domaine discretise.">domaine</a>().<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt; finl;
<a name="l00452"></a>00452               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Coordinates of the face 2: (&quot;</span> &lt;&lt; x2[0] &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; x2[1] &lt;&lt; x2[2] &lt;&lt; <span class="stringliteral">&quot;) on the domain &quot;</span> &lt;&lt; zvdf_2.<a class="code" href="classZone__dis__base.html#a65fdde8e309b6f1f0d8987fa4b9a5b93">domaine_dis</a>().<a class="code" href="classDomaine__dis.html#a5537c5abe880a7149de87f00312ddad3" title="Renvoie une reference sur le Domaine associe au domaine discretise.">domaine</a>().<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>()  &lt;&lt; finl;
<a name="l00453"></a>00453             }
<a name="l00454"></a>00454           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;\nIn VDF, numbering of faces on each &#39;Raccord&#39; must be identical (to a constant).&quot;</span> &lt;&lt; finl;
<a name="l00455"></a>00455           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The faces of each sub frontier of the boundary &quot;</span> &lt;&lt; ma_front_vf.<a class="code" href="classFrontiere__dis__base.html#a5a7eb46dc3af8a7d4225adc1814845d8" title="Renvoie le nom de la frontiere geometrique.">le_nom</a>() &lt;&lt; <span class="stringliteral">&quot; must be created in the same order on each domain, this process is sensitive to the reading sense of the faces.&quot;</span> &lt;&lt; finl;
<a name="l00456"></a>00456           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00457"></a>00457           <span class="keywordflow">return</span> 0;
<a name="l00458"></a>00458         }
<a name="l00459"></a>00459     }
<a name="l00460"></a>00460   <span class="keywordflow">return</span> 1;
<a name="l00461"></a>00461 }
<a name="l00462"></a>00462 
<a name="l00463"></a><a class="code" href="Echange__contact__VDF_8cpp.html#a57baa099890144a32e48063b438d449e">00463</a> <span class="keywordtype">int</span> <a class="code" href="Echange__contact__PolyMAC_8cpp.html#a57baa099890144a32e48063b438d449e">meme_point2</a>(<span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; x,<span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; y)
<a name="l00464"></a>00464 {
<a name="l00465"></a>00465   <span class="keywordtype">int</span> dim = x.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>();
<a name="l00466"></a>00466   assert(dim==y.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>());
<a name="l00467"></a>00467   <span class="keywordtype">int</span> ind =1;
<a name="l00468"></a>00468   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;dim; k++)
<a name="l00469"></a>00469     <span class="keywordflow">if</span> (<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(x(k)-y(k))&gt;=<a class="code" href="classObjet__U.html#a7447e25c68cc8d3a1c06cf99f0565cff">Objet_U::precision_geom</a>)
<a name="l00470"></a>00470       {
<a name="l00471"></a>00471         ind = 0;
<a name="l00472"></a>00472         <span class="keywordflow">return</span> ind;
<a name="l00473"></a>00473       }
<a name="l00474"></a>00474   <span class="keywordflow">return</span> ind;
<a name="l00475"></a>00475 }
<a name="l00476"></a>00476 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:38 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
