<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/ThHyd/Multiphase/Equations/Masse_Multiphase.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/ThHyd/Multiphase/Equations/Masse_Multiphase.cpp</div>  </div>
</div>
<div class="contents">
<a href="Masse__Multiphase_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Masse_Multiphase.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/ThHyd/Multiphase/Equations</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/27</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Masse__Multiphase_8h.html">Masse_Multiphase.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Pb__Multiphase_8h.html">Pb_Multiphase.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Discret__Thyd_8h.html">Discret_Thyd.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VF_8h.html">Zone_VF.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Domaine_8h.html">Domaine.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Avanc_8h.html">Avanc.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Debog_8h.html">Debog.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Frontiere__dis__base_8h.html">Frontiere_dis_base.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="EcritureLectureSpecial_8h.html">EcritureLectureSpecial.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="DoubleTrav_8h.html">DoubleTrav.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="Matrice__Morse_8h.html">Matrice_Morse.h</a>&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;<a class="code" href="Param_8h.html">Param.h</a>&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;<a class="code" href="Fluide__base_8h.html">Fluide_base.h</a>&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Uniforme_8h.html">Champ_Uniforme.h</a>&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;<a class="code" href="EChaine_8h.html">EChaine.h</a>&gt;</span>
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="Masse__Multiphase_8cpp.html#aa0bae746a8a1b7000194482e8d1b147c">00039</a> <a class="code" href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a>(<a class="code" href="classMasse__Multiphase.html" title="classe Masse_Multiphase Cas particulier de Convection_Diffusion_std pour un fluide quasi conpressible...">Masse_Multiphase</a>,<span class="stringliteral">&quot;Masse_Multiphase&quot;</span>,<a class="code" href="classConvection__Diffusion__std.html" title="classe Convection_Diffusion_std Cette classe est la base des equations modelisant le transport d&#39;un s...">Convection_Diffusion_std</a>);
<a name="l00040"></a>00040 <span class="comment">// XD Masse_Multiphase eqn_base Masse_Multiphase -1 Mass consevation equation for a multi-phase problem where the unknown is the alpha (void fraction)</span>
<a name="l00041"></a>00041 
<a name="l00042"></a><a class="code" href="classMasse__Multiphase.html#af932af746cc31413f1932b5694fa5939">00042</a> <a class="code" href="classMasse__Multiphase.html#af932af746cc31413f1932b5694fa5939">Masse_Multiphase::Masse_Multiphase</a>()
<a name="l00043"></a>00043 {
<a name="l00044"></a>00044   <span class="comment">/*  Noms&amp; nom=champs_compris_.liste_noms_compris();</span>
<a name="l00045"></a>00045 <span class="comment">      nom.dimensionner(1);</span>
<a name="l00046"></a>00046 <span class="comment">      nom[0]=&quot;fraction_massique&quot;;</span>
<a name="l00047"></a>00047 <span class="comment">  */</span>
<a name="l00048"></a>00048 }
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 
<a name="l00051"></a><a class="code" href="classMasse__Multiphase.html#a09c81d98f973c29b596ac7577e6eee23">00051</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classMasse__Multiphase.html#a09c81d98f973c29b596ac7577e6eee23" title="Simple appel a Equation_base::printOn(Sortie&amp;)">Masse_Multiphase::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; is)<span class="keyword"> const</span>
<a name="l00052"></a>00052 <span class="keyword"></span>{
<a name="l00053"></a>00053   <span class="keywordflow">return</span> <a class="code" href="classMasse__Multiphase.html#a09c81d98f973c29b596ac7577e6eee23" title="Simple appel a Equation_base::printOn(Sortie&amp;)">Equation_base::printOn</a>(is);
<a name="l00054"></a>00054 }
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="classMasse__Multiphase.html#a051750359b48c49df750187871f8c360">00056</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classMasse__Multiphase.html#a051750359b48c49df750187871f8c360" title="cf Equation_base::readOn(Entree&amp;)">Masse_Multiphase::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00057"></a>00057 {
<a name="l00058"></a>00058   assert(<a class="code" href="classMasse__Multiphase.html#a5af8d508dd3e891ab3e1d3f6d77cff48">l_inco_ch</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>());
<a name="l00059"></a>00059   assert(<a class="code" href="classMasse__Multiphase.html#a7edd5f16ba02e300252fa91ad7e7af8c">le_fluide</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>());
<a name="l00060"></a>00060   <a class="code" href="classConvection__Diffusion__std.html#aff629b8054c74fb1244b37c79aa6a3bd">terme_convectif</a>.<a class="code" href="classMorEqn.html#a1a6c57edd46cc696aa45c6b01a76e14c" title="Associe une equation a l&#39;objet. Affecte le membre MorEqn::mon_equation avec l&#39;objet passe en parametr...">associer_eqn</a>(*<span class="keyword">this</span>), <a class="code" href="classMasse__Multiphase.html#ab8ba4878d26cb8db927efe13a7b887dd">evanescence</a>.<a class="code" href="classMorEqn.html#a1a6c57edd46cc696aa45c6b01a76e14c" title="Associe une equation a l&#39;objet. Affecte le membre MorEqn::mon_equation avec l&#39;objet passe en parametr...">associer_eqn</a>(*<span class="keyword">this</span>);
<a name="l00061"></a>00061 
<a name="l00062"></a>00062   <a class="code" href="classMasse__Multiphase.html#a051750359b48c49df750187871f8c360" title="cf Equation_base::readOn(Entree&amp;)">Equation_base::readOn</a>(is);
<a name="l00063"></a>00063 
<a name="l00064"></a>00064   <a class="code" href="classConvection__Diffusion__std.html#aff629b8054c74fb1244b37c79aa6a3bd">terme_convectif</a>.<a class="code" href="classOperateur.html#adf6c5f02d4e0bd15282a628c4814d61f">set_fichier</a>(<span class="stringliteral">&quot;Debit&quot;</span>);
<a name="l00065"></a>00065   <a class="code" href="classConvection__Diffusion__std.html#aff629b8054c74fb1244b37c79aa6a3bd">terme_convectif</a>.<a class="code" href="classOperateur.html#abe53b54eda0c886809a704bf79b60aa9">set_description</a>((<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>)<span class="stringliteral">&quot;Mass flow rate=Integral(-alpha*rho*u*ndS) [kg/s] if SI units used&quot;</span>);
<a name="l00066"></a>00066 
<a name="l00067"></a>00067   <a class="code" href="classEquation__base.html#ad687c312e72dcbc783cf597af5927b07">champs_compris_</a>.<a class="code" href="classChamps__compris.html#aae00ca562b7d89ff638fae94d6973fcf">ajoute_champ</a>(<a class="code" href="classMasse__Multiphase.html#a5af8d508dd3e891ab3e1d3f6d77cff48">l_inco_ch</a>);
<a name="l00068"></a>00068   <span class="keywordflow">return</span> is;
<a name="l00069"></a>00069 }
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="classMasse__Multiphase.html#ab8b04f3cc416093f1549b77e6cf23d4f">00071</a> <span class="keywordtype">void</span> <a class="code" href="classMasse__Multiphase.html#ab8b04f3cc416093f1549b77e6cf23d4f">Masse_Multiphase::set_param</a>(<a class="code" href="classParam.html" title="Defined below in this file.">Param</a>&amp; param)
<a name="l00072"></a>00072 {
<a name="l00073"></a>00073   <a class="code" href="classMasse__Multiphase.html#ab8b04f3cc416093f1549b77e6cf23d4f">Equation_base::set_param</a>(param);
<a name="l00074"></a>00074   param.<a class="code" href="classParam.html#a8d8bcddfd8087e577ffbb170c68e4f88">ajouter_non_std</a>(<span class="stringliteral">&quot;convection&quot;</span>,(<span class="keyword">this</span>));
<a name="l00075"></a>00075   param.<a class="code" href="classParam.html#a8d8bcddfd8087e577ffbb170c68e4f88">ajouter_non_std</a>(<span class="stringliteral">&quot;evanescence|vanishing&quot;</span>,(<span class="keyword">this</span>));
<a name="l00076"></a>00076   param.<a class="code" href="classParam.html#a6363f31c467c06512aee2f004abac69d">ajouter_condition</a>(<span class="stringliteral">&quot;is_read_convection&quot;</span>,<span class="stringliteral">&quot;The convection operator must be read, select negligeable type if you want to neglect it.&quot;</span>);
<a name="l00077"></a>00077 }
<a name="l00078"></a>00078 
<a name="l00079"></a><a class="code" href="classMasse__Multiphase.html#a65cb1c5adb596063bb337c3c4b4b5b72">00079</a> <span class="keywordtype">int</span> <a class="code" href="classMasse__Multiphase.html#a65cb1c5adb596063bb337c3c4b4b5b72" title="Lecture des parametres de type non simple d&#39;un objet_U a partir d&#39;un flot d&#39;entree.">Masse_Multiphase::lire_motcle_non_standard</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; mot, <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00080"></a>00080 {
<a name="l00081"></a>00081   <span class="keywordflow">if</span> (mot==<span class="stringliteral">&quot;evanescence&quot;</span>) is &gt;&gt; <a class="code" href="classMasse__Multiphase.html#ab8ba4878d26cb8db927efe13a7b887dd">evanescence</a>;
<a name="l00082"></a>00082   <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="classMasse__Multiphase.html#a65cb1c5adb596063bb337c3c4b4b5b72" title="Lecture des parametres de type non simple d&#39;un objet_U a partir d&#39;un flot d&#39;entree.">Convection_Diffusion_std::lire_motcle_non_standard</a>(mot, is);
<a name="l00083"></a>00083   <span class="keywordflow">return</span> 1;
<a name="l00084"></a>00084 }
<a name="l00085"></a>00085 
<a name="l00086"></a><a class="code" href="classMasse__Multiphase.html#a4b021c1c16c316b40f83c702bc9c46fa">00086</a> <span class="keyword">const</span> <a class="code" href="classOperateur.html" title="classe Operateur Classe generique de la hierarchie des operateurs. Cette classe generique est particu...">Operateur</a>&amp; <a class="code" href="classMasse__Multiphase.html#a4b021c1c16c316b40f83c702bc9c46fa" title="Renvoie l&#39;operateur specifie par son index: renvoie terme_diffusif si i = 0 renvoie terme_convectif s...">Masse_Multiphase::operateur</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00087"></a>00087 <span class="keyword"></span>{
<a name="l00088"></a>00088   <span class="keywordflow">if</span> (i) <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Masse_Multiphase : wrong operator number &quot;</span> &lt;&lt; i &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00089"></a>00089   <span class="keywordflow">return</span> <a class="code" href="classConvection__Diffusion__std.html#aff629b8054c74fb1244b37c79aa6a3bd">terme_convectif</a>;
<a name="l00090"></a>00090 }
<a name="l00091"></a>00091 
<a name="l00092"></a><a class="code" href="classMasse__Multiphase.html#a6ac78380eb9add355331c0a5c8eef2c3">00092</a> <a class="code" href="classOperateur.html" title="classe Operateur Classe generique de la hierarchie des operateurs. Cette classe generique est particu...">Operateur</a>&amp; <a class="code" href="classMasse__Multiphase.html#a4b021c1c16c316b40f83c702bc9c46fa" title="Renvoie l&#39;operateur specifie par son index: renvoie terme_diffusif si i = 0 renvoie terme_convectif s...">Masse_Multiphase::operateur</a>(<span class="keywordtype">int</span> i)
<a name="l00093"></a>00093 {
<a name="l00094"></a>00094   <span class="keywordflow">if</span> (i) <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Masse_Multiphase : wrong operator number &quot;</span> &lt;&lt; i &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00095"></a>00095   <span class="keywordflow">return</span> <a class="code" href="classConvection__Diffusion__std.html#aff629b8054c74fb1244b37c79aa6a3bd">terme_convectif</a>;
<a name="l00096"></a>00096 }
<a name="l00097"></a>00097 
<a name="l00098"></a><a class="code" href="classMasse__Multiphase.html#a3ba1940c3228f6a88b475ad908cfb8c2">00098</a> <span class="keywordtype">void</span> <a class="code" href="classMasse__Multiphase.html#a3ba1940c3228f6a88b475ad908cfb8c2">Masse_Multiphase::dimensionner_matrice_sans_mem</a>(<a class="code" href="classMatrice__Morse.html" title="Classe Matrice_Morse Represente une matrice M (creuse), non necessairement carree stockee au format M...">Matrice_Morse</a>&amp; matrice)
<a name="l00099"></a>00099 {
<a name="l00100"></a>00100   <a class="code" href="classMasse__Multiphase.html#a3ba1940c3228f6a88b475ad908cfb8c2">Equation_base::dimensionner_matrice_sans_mem</a>(matrice);
<a name="l00101"></a>00101   <a class="code" href="classMasse__Multiphase.html#ab8ba4878d26cb8db927efe13a7b887dd">evanescence</a>.<a class="code" href="classDeriv__Operateur__Evanescence__base.html#ac80600f952f8640f7c7ac3f859480f70">valeur</a>().<a class="code" href="classOperateur__base.html#a66ef3c42e72d13fce0852ba92e56be6a" title="NE FAIT RIEN A surcharger dans les classes derivees.">dimensionner</a>(matrice);
<a name="l00102"></a>00102 }
<a name="l00103"></a>00103 
<a name="l00104"></a><a class="code" href="classMasse__Multiphase.html#ae44dea7c872fdcf16e9ee3ce5d179c47">00104</a> <span class="keywordtype">int</span> <a class="code" href="classMasse__Multiphase.html#ae44dea7c872fdcf16e9ee3ce5d179c47">Masse_Multiphase::has_interface_blocs</a>()<span class="keyword"> const</span>
<a name="l00105"></a>00105 <span class="keyword"></span>{
<a name="l00106"></a>00106   <span class="keywordtype">int</span> ok = <a class="code" href="classMasse__Multiphase.html#ae44dea7c872fdcf16e9ee3ce5d179c47">Convection_Diffusion_std::has_interface_blocs</a>();
<a name="l00107"></a>00107   <span class="keywordflow">if</span> (<a class="code" href="classMasse__Multiphase.html#ab8ba4878d26cb8db927efe13a7b887dd">evanescence</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) ok &amp;= <a class="code" href="classMasse__Multiphase.html#ab8ba4878d26cb8db927efe13a7b887dd">evanescence</a>.<a class="code" href="classDeriv__Operateur__Evanescence__base.html#ac80600f952f8640f7c7ac3f859480f70">valeur</a>().<a class="code" href="classOperateur__base.html#add0b573a00ff5807bca488783aeec334">has_interface_blocs</a>();
<a name="l00108"></a>00108   <span class="keywordflow">return</span> ok;
<a name="l00109"></a>00109 }
<a name="l00110"></a>00110 
<a name="l00111"></a>00111 <span class="comment">/* l&#39;evanescence passe en dernier */</span>
<a name="l00112"></a>00112 <span class="keywordtype">void</span> <a class="code" href="classMasse__Multiphase.html#a01f96918cecc491f040045878ffbe864">Masse_Multiphase::dimensionner_blocs</a>(<a class="code" href="Interface__blocs_8h.html#a68e4f5c4505f6b31305de844302660bb">matrices_t</a> matrices, <span class="keyword">const</span> <a class="code" href="Interface__blocs_8h.html#a2d7480bf11fc9f791b1d2839fa30a5c3">tabs_t</a>&amp; semi_impl)<span class="keyword"> const</span>
<a name="l00113"></a>00113 <span class="keyword"></span>{
<a name="l00114"></a>00114   <a class="code" href="classMasse__Multiphase.html#a01f96918cecc491f040045878ffbe864">Equation_base::dimensionner_blocs</a>(matrices, semi_impl);
<a name="l00115"></a>00115   <span class="keywordflow">if</span> (<a class="code" href="classMasse__Multiphase.html#ab8ba4878d26cb8db927efe13a7b887dd">evanescence</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) <a class="code" href="classMasse__Multiphase.html#ab8ba4878d26cb8db927efe13a7b887dd">evanescence</a>.<a class="code" href="classDeriv__Operateur__Evanescence__base.html#ac80600f952f8640f7c7ac3f859480f70">valeur</a>().<a class="code" href="classOperateur__base.html#a1beeeb32ed7ba7f084cf0ff81152d36a">dimensionner_blocs</a>(matrices, semi_impl);
<a name="l00116"></a>00116 }
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 <span class="keywordtype">void</span> <a class="code" href="classMasse__Multiphase.html#af9ab549c5d8b4a9fc79b1b673bd35d76">Masse_Multiphase::assembler_blocs_avec_inertie</a>(<a class="code" href="Interface__blocs_8h.html#a68e4f5c4505f6b31305de844302660bb">matrices_t</a> matrices, <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; secmem, <span class="keyword">const</span> <a class="code" href="Interface__blocs_8h.html#a2d7480bf11fc9f791b1d2839fa30a5c3">tabs_t</a>&amp; semi_impl)<span class="keyword"> const</span>
<a name="l00119"></a>00119 <span class="keyword"></span>{
<a name="l00120"></a>00120   <a class="code" href="classMasse__Multiphase.html#af9ab549c5d8b4a9fc79b1b673bd35d76">Equation_base::assembler_blocs_avec_inertie</a>(matrices, secmem, semi_impl);
<a name="l00121"></a>00121   <span class="keywordflow">if</span> (<a class="code" href="classMasse__Multiphase.html#ab8ba4878d26cb8db927efe13a7b887dd">evanescence</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) <a class="code" href="classMasse__Multiphase.html#ab8ba4878d26cb8db927efe13a7b887dd">evanescence</a>.<a class="code" href="classDeriv__Operateur__Evanescence__base.html#ac80600f952f8640f7c7ac3f859480f70">valeur</a>().<a class="code" href="classOperateur__base.html#a0044e3ee1822094970ba5a32997fbd2a">ajouter_blocs</a>(matrices, secmem, semi_impl);
<a name="l00122"></a>00122 }
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 <span class="comment">// Precondition:</span>
<a name="l00125"></a>00125 <span class="comment">// Parametre: Milieu_base&amp; un_milieu</span>
<a name="l00126"></a>00126 <span class="comment">// Signification:</span>
<a name="l00127"></a>00127 <span class="comment">// Valeurs par defaut:</span>
<a name="l00128"></a>00128 <span class="comment">// Contraintes: reference constante</span>
<a name="l00129"></a>00129 <span class="comment">// doit pourvoir etre force au type &quot;Fluide_base&quot;</span>
<a name="l00130"></a>00130 <span class="comment">// Acces: entree</span>
<a name="l00131"></a>00131 <span class="comment">// </span>
<a name="l00132"></a>00132 <span class="comment">// Signification:</span>
<a name="l00133"></a>00133 <span class="comment">// Contraintes:</span>
<a name="l00134"></a>00134 <span class="comment">// Exception: les proprietes physiques du fluide ne sont pas toutes specifiees</span>
<a name="l00135"></a>00135 <span class="comment">// Effets de bord:</span>
<a name="l00136"></a>00136 <span class="comment">// Postcondition:</span>
<a name="l00137"></a>00137 <span class="comment">//</span>
<a name="l00138"></a>00138 <span class="comment">//</span><span class="comment"></span>
<a name="l00139"></a>00139 <span class="comment">//! Associe un milieu physique a l&#39;equation,&lt;br&gt;le milieu est en fait caste en Fluide_base</span>
<a name="l00140"></a><a class="code" href="classMasse__Multiphase.html#aeba08cea55b860deea5cbf7db2f9d265">00140</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classMasse__Multiphase.html#aeba08cea55b860deea5cbf7db2f9d265" title="Associe un milieu physique a l&#39;equation, le milieu est en fait caste en Fluide_base.">Masse_Multiphase::associer_milieu_base</a>(<span class="keyword">const</span> <a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>&amp; un_milieu)
<a name="l00141"></a>00141 {
<a name="l00142"></a>00142   <span class="keyword">const</span> <a class="code" href="classFluide__base.html" title="classe Fluide_base Cette classe represente un d&#39;un fluide incompressible ainsi que ses proprietes: - ...">Fluide_base</a>&amp; un_fluide = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFluide__base.html" title="classe Fluide_base Cette classe represente un d&#39;un fluide incompressible ainsi que ses proprietes: - ...">Fluide_base</a>,un_milieu);
<a name="l00143"></a>00143   <a class="code" href="classMasse__Multiphase.html#a81b18e2dcd8d09ea0cac658798b45012" title="Associe un fluide de type Fluide_base a l&#39;equation.">associer_fluide</a>(un_fluide);
<a name="l00144"></a>00144 }
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 <span class="comment">// Precondition:</span>
<a name="l00147"></a>00147 <span class="comment">// Parametre:</span>
<a name="l00148"></a>00148 <span class="comment">// Signification:</span>
<a name="l00149"></a>00149 <span class="comment">// Valeurs par defaut:</span>
<a name="l00150"></a>00150 <span class="comment">// Contraintes:</span>
<a name="l00151"></a>00151 <span class="comment">// Acces:</span>
<a name="l00152"></a>00152 <span class="comment">// </span>
<a name="l00153"></a>00153 <span class="comment">// Signification:</span>
<a name="l00154"></a>00154 <span class="comment">// Contraintes:</span>
<a name="l00155"></a>00155 <span class="comment">// Exception:</span>
<a name="l00156"></a>00156 <span class="comment">// Effets de bord:</span>
<a name="l00157"></a>00157 <span class="comment">// Postcondition:</span>
<a name="l00158"></a>00158 <span class="comment">//</span><span class="comment"></span>
<a name="l00159"></a>00159 <span class="comment">//! Associe l inconnue de l equation a la loi d etat,</span>
<a name="l00160"></a><a class="code" href="classMasse__Multiphase.html#aadc3c97b7f1ca1a8632b34c271191d02">00160</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classMasse__Multiphase.html#aadc3c97b7f1ca1a8632b34c271191d02" title="Associe l inconnue de l equation a la loi d etat,.">Masse_Multiphase::completer</a>()
<a name="l00161"></a>00161 {
<a name="l00162"></a>00162   <a class="code" href="classMasse__Multiphase.html#aadc3c97b7f1ca1a8632b34c271191d02" title="Associe l inconnue de l equation a la loi d etat,.">Equation_base::completer</a>();
<a name="l00163"></a>00163   <a class="code" href="classConvection__Diffusion__std.html#aff629b8054c74fb1244b37c79aa6a3bd">terme_convectif</a>.<a class="code" href="classDeriv__Operateur__Conv__base.html#aa721c2abc082bf961c812c62d24ccb2b">valeur</a>().<a class="code" href="classMorEqn.html#a401bef1ceabbe96c329d46dbbb75bff1">check_multiphase_compatibility</a>();
<a name="l00164"></a>00164 }
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 <span class="comment">// Precondition:</span>
<a name="l00167"></a>00167 <span class="comment">// Parametre:</span>
<a name="l00168"></a>00168 <span class="comment">// Signification:</span>
<a name="l00169"></a>00169 <span class="comment">// Valeurs par defaut:</span>
<a name="l00170"></a>00170 <span class="comment">// Contraintes:</span>
<a name="l00171"></a>00171 <span class="comment">// Acces:</span>
<a name="l00172"></a>00172 <span class="comment">// </span>
<a name="l00173"></a>00173 <span class="comment">// Signification:</span>
<a name="l00174"></a>00174 <span class="comment">// Contraintes:</span>
<a name="l00175"></a>00175 <span class="comment">// Exception:</span>
<a name="l00176"></a>00176 <span class="comment">// Effets de bord:</span>
<a name="l00177"></a>00177 <span class="comment">// Postcondition: l&#39;equation est discretisee</span>
<a name="l00178"></a>00178 <span class="comment">//</span><span class="comment"></span>
<a name="l00179"></a>00179 <span class="comment">//! Discretise l&#39;equation.</span>
<a name="l00180"></a><a class="code" href="classMasse__Multiphase.html#af609469e199db96d9be337968b428a40">00180</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classMasse__Multiphase.html#af609469e199db96d9be337968b428a40" title="Discretise l&#39;equation.">Masse_Multiphase::discretiser</a>()
<a name="l00181"></a>00181 {
<a name="l00182"></a>00182   <span class="keywordtype">int</span> nb_valeurs_temp = <a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>().<a class="code" href="classSchema__Temps__base.html#acbe9f5266e4b4267a53fdbb9157718c5">nb_valeurs_temporelles</a>();
<a name="l00183"></a>00183   <span class="keywordtype">double</span> temps = <a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>().<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>();
<a name="l00184"></a>00184   <span class="keyword">const</span> <a class="code" href="classDiscret__Thyd.html" title="classe Discret_Thyd Cette classe est la classe de base representant une discretisation spatiale appli...">Discret_Thyd</a>&amp; dis=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classDiscret__Thyd.html" title="classe Discret_Thyd Cette classe est la classe de base representant une discretisation spatiale appli...">Discret_Thyd</a>, <a class="code" href="classEquation__base.html#a324a761eaad25eb00d18e14764a1362e" title="Renvoie la discretisation associee a l&#39;equation.">discretisation</a>());
<a name="l00185"></a>00185   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Volume fraction discretization&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00186"></a>00186 <span class="comment">// On utilise temperature pour la directive car discretisation identique</span>
<a name="l00187"></a>00187   <span class="keyword">const</span> <a class="code" href="classPb__Multiphase.html" title="classe Pb_Multiphase Cette classe represente un probleme de thermohydraulique multiphase de type &quot;3*...">Pb_Multiphase</a>&amp; pb = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classPb__Multiphase.html" title="classe Pb_Multiphase Cette classe represente un probleme de thermohydraulique multiphase de type &quot;3*...">Pb_Multiphase</a>, <a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>());
<a name="l00188"></a>00188   dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;temperature&quot;</span>,<a class="code" href="classEquation__base.html#a12d97ae801edc18f614523677921346e" title="Renvoie la zone discretisee associee a l&#39;equation.">zone_dis</a>(),<span class="stringliteral">&quot;alpha&quot;</span>,<span class="stringliteral">&quot;sans_dimension&quot;</span>, pb.<a class="code" href="classPb__Multiphase.html#abe4d82264325979f54acf7332f9efc09">nb_phases</a>(),nb_valeurs_temp,temps,<a class="code" href="classMasse__Multiphase.html#a5af8d508dd3e891ab3e1d3f6d77cff48">l_inco_ch</a>);
<a name="l00189"></a>00189   <a class="code" href="classMasse__Multiphase.html#a5af8d508dd3e891ab3e1d3f6d77cff48">l_inco_ch</a>.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>().<a class="code" href="classField__base.html#a740d888da6eb9db6c7b62e65faf2436e" title="Fixer la nature d&#39;un champ: scalaire, multiscalaire, vectoriel. Le type (enumere) Nature_du_champ est...">fixer_nature_du_champ</a>(pb.<a class="code" href="classPb__Multiphase.html#abe4d82264325979f54acf7332f9efc09">nb_phases</a>() == 1 ? <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646ba38e43fd39568540207f625e91bfcb6a3">scalaire</a> : pb.<a class="code" href="classPb__Multiphase.html#abe4d82264325979f54acf7332f9efc09">nb_phases</a>() == <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a> ? <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646ba66d795f4e2fbb5636a3966c73964c5e7">vectoriel</a> : <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646ba5c7919c9af898542b94861e963ade862">multi_scalaire</a>); <span class="comment">//pfft</span>
<a name="l00190"></a>00190   <a class="code" href="classMasse__Multiphase.html#af609469e199db96d9be337968b428a40" title="Discretise l&#39;equation.">Equation_base::discretiser</a>();
<a name="l00191"></a>00191   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; pb.<a class="code" href="classPb__Multiphase.html#abe4d82264325979f54acf7332f9efc09">nb_phases</a>(); i++)
<a name="l00192"></a>00192     <a class="code" href="classMasse__Multiphase.html#a5af8d508dd3e891ab3e1d3f6d77cff48">l_inco_ch</a>.<a class="code" href="classDeriv__Champ__Inc__base.html#a9e0b743a3e124e7114fa977b36b68225">valeur</a>().<a class="code" href="classField__base.html#ac2b194dc5cdc675df21508d28b80b366" title="Fixe le nom de la i-eme composante du champ.">fixer_nom_compo</a>(i, <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;alpha_&quot;</span>) + pb.<a class="code" href="classPb__Multiphase.html#a7c9f751e10ed0f031c64d4345ba10e52">nom_phase</a>(i));
<a name="l00193"></a>00193 
<a name="l00194"></a>00194   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Masse_Multiphase::discretiser() ok&quot;</span> &lt;&lt; finl;
<a name="l00195"></a>00195 }
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 <span class="comment">// Precondition:</span>
<a name="l00198"></a>00198 <span class="comment">// Parametre:</span>
<a name="l00199"></a>00199 <span class="comment">// Signification:</span>
<a name="l00200"></a>00200 <span class="comment">// Valeurs par defaut:</span>
<a name="l00201"></a>00201 <span class="comment">// Contraintes:</span>
<a name="l00202"></a>00202 <span class="comment">// Acces:</span>
<a name="l00203"></a>00203 <span class="comment">// Exception:</span>
<a name="l00204"></a>00204 <span class="comment">// Effets de bord:</span>
<a name="l00205"></a>00205 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00206"></a>00206 <span class="comment">//</span>
<a name="l00207"></a>00207 <span class="comment">//</span>
<a name="l00208"></a>00208 <span class="comment">//</span><span class="comment"></span>
<a name="l00209"></a>00209 <span class="comment">//! Renvoie le milieu physique de l&#39;equation.&lt;br&gt;(un Fluide_base upcaste en Milieu_base)&lt;br&gt;(version const)</span>
<a name="l00210"></a>00210 <span class="comment"></span><span class="comment">/** \return Milieu_base\&amp;&lt;br&gt;</span>
<a name="l00211"></a>00211 <span class="comment">Signification: le Fluide_base upcaste en Milieu_base&lt;br&gt;</span>
<a name="l00212"></a>00212 <span class="comment">Contraintes: reference constante */</span>
<a name="l00213"></a><a class="code" href="classMasse__Multiphase.html#ab0fafbbea4877d325df84e952e9d2a26">00213</a> <span class="keyword">const</span> <a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>&amp; <a class="code" href="classMasse__Multiphase.html#ab0fafbbea4877d325df84e952e9d2a26" title="Renvoie le milieu physique de l&#39;equation. (un Fluide_base upcaste en Milieu_base) (version const)...">Masse_Multiphase::milieu</a>()<span class="keyword"> const</span>
<a name="l00214"></a>00214 <span class="keyword"></span>{
<a name="l00215"></a>00215   <span class="keywordflow">return</span> <a class="code" href="classMasse__Multiphase.html#a07636821031da568ff200ebb33376841" title="Renvoie le fluide incompressible associe a l&#39;equation. (version const)">fluide</a>();
<a name="l00216"></a>00216 }
<a name="l00217"></a>00217 
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="comment">// Precondition:</span>
<a name="l00220"></a>00220 <span class="comment">// Parametre:</span>
<a name="l00221"></a>00221 <span class="comment">// Signification:</span>
<a name="l00222"></a>00222 <span class="comment">// Valeurs par defaut:</span>
<a name="l00223"></a>00223 <span class="comment">// Contraintes:</span>
<a name="l00224"></a>00224 <span class="comment">// Acces:</span>
<a name="l00225"></a>00225 <span class="comment">// Exception:</span>
<a name="l00226"></a>00226 <span class="comment">// Effets de bord:</span>
<a name="l00227"></a>00227 <span class="comment">// Postcondition:</span>
<a name="l00228"></a>00228 <span class="comment">//</span>
<a name="l00229"></a>00229 <span class="comment">//</span><span class="comment"></span>
<a name="l00230"></a>00230 <span class="comment">//! Renvoie le milieu physique de l&#39;equation.&lt;br&gt;(un Fluide_base upcaste en Milieu_base)</span>
<a name="l00231"></a>00231 <span class="comment"></span><span class="comment">/** \return Milieu_base\&amp;&lt;br&gt;</span>
<a name="l00232"></a>00232 <span class="comment">Signification: le Fluide_base upcaste en Milieu_base&lt;br&gt;</span>
<a name="l00233"></a>00233 <span class="comment">Contraintes: */</span>
<a name="l00234"></a><a class="code" href="classMasse__Multiphase.html#a4ba504049f1ffaa2e615193ca428fad7">00234</a> <a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>&amp; <a class="code" href="classMasse__Multiphase.html#ab0fafbbea4877d325df84e952e9d2a26" title="Renvoie le milieu physique de l&#39;equation. (un Fluide_base upcaste en Milieu_base) (version const)...">Masse_Multiphase::milieu</a>()
<a name="l00235"></a>00235 {
<a name="l00236"></a>00236   <span class="keywordflow">return</span> <a class="code" href="classMasse__Multiphase.html#a07636821031da568ff200ebb33376841" title="Renvoie le fluide incompressible associe a l&#39;equation. (version const)">fluide</a>();
<a name="l00237"></a>00237 }
<a name="l00238"></a>00238 
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 <span class="comment">// Precondition:</span>
<a name="l00241"></a>00241 <span class="comment">// Parametre:</span>
<a name="l00242"></a>00242 <span class="comment">// Signification:</span>
<a name="l00243"></a>00243 <span class="comment">// Valeurs par defaut:</span>
<a name="l00244"></a>00244 <span class="comment">// Contraintes:</span>
<a name="l00245"></a>00245 <span class="comment">// Acces:</span>
<a name="l00246"></a>00246 <span class="comment">// Exception: pas de fluide associe a l&#39;eqaution</span>
<a name="l00247"></a>00247 <span class="comment">// Effets de bord:</span>
<a name="l00248"></a>00248 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00249"></a>00249 <span class="comment">//</span>
<a name="l00250"></a>00250 <span class="comment">//</span><span class="comment"></span>
<a name="l00251"></a>00251 <span class="comment">//! Renvoie le fluide incompressible associe a l&#39;equation.&lt;br&gt;(version const)</span>
<a name="l00252"></a>00252 <span class="comment"></span><span class="comment">/** \return Fluide_base\&amp;&lt;br&gt;</span>
<a name="l00253"></a>00253 <span class="comment">Signification: le fluide incompressible associe a l&#39;equation&lt;br&gt;</span>
<a name="l00254"></a>00254 <span class="comment">Contraintes: reference constante */</span>
<a name="l00255"></a><a class="code" href="classMasse__Multiphase.html#a07636821031da568ff200ebb33376841">00255</a> <span class="keyword">const</span> <a class="code" href="classFluide__base.html" title="classe Fluide_base Cette classe represente un d&#39;un fluide incompressible ainsi que ses proprietes: - ...">Fluide_base</a>&amp; <a class="code" href="classMasse__Multiphase.html#a07636821031da568ff200ebb33376841" title="Renvoie le fluide incompressible associe a l&#39;equation. (version const)">Masse_Multiphase::fluide</a>()<span class="keyword"> const</span>
<a name="l00256"></a>00256 <span class="keyword"></span>{
<a name="l00257"></a>00257   <span class="keywordflow">if</span> (!<a class="code" href="classMasse__Multiphase.html#a7edd5f16ba02e300252fa91ad7e7af8c">le_fluide</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00258"></a>00258     {
<a name="l00259"></a>00259       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You forgot to associate the fluid to the problem named &quot;</span> &lt;&lt; <a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#a58bc0b101f3f3f1d8522a9f41f1fad7b" title="surcharge Objet_U::le_nom() Renvoie le nom du probleme">le_nom</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00260"></a>00260       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00261"></a>00261     }
<a name="l00262"></a>00262   <span class="keywordflow">return</span> <a class="code" href="classMasse__Multiphase.html#a7edd5f16ba02e300252fa91ad7e7af8c">le_fluide</a>.<a class="code" href="classRef__Fluide__base.html#a614fc18293b0b3da4f460a857a3b3cb8">valeur</a>();
<a name="l00263"></a>00263 }
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 
<a name="l00266"></a>00266 <span class="comment">// Precondition:</span>
<a name="l00267"></a>00267 <span class="comment">// Parametre:</span>
<a name="l00268"></a>00268 <span class="comment">// Signification:</span>
<a name="l00269"></a>00269 <span class="comment">// Valeurs par defaut:</span>
<a name="l00270"></a>00270 <span class="comment">// Contraintes:</span>
<a name="l00271"></a>00271 <span class="comment">// Acces:</span>
<a name="l00272"></a>00272 <span class="comment">// Exception: pas de fluide associe a l&#39;eqaution</span>
<a name="l00273"></a>00273 <span class="comment">// Effets de bord:</span>
<a name="l00274"></a>00274 <span class="comment">// Postcondition:</span>
<a name="l00275"></a>00275 <span class="comment">//</span><span class="comment"></span>
<a name="l00276"></a>00276 <span class="comment">//! Renvoie le fluide incompressible associe a l&#39;equation.</span>
<a name="l00277"></a>00277 <span class="comment"></span><span class="comment">/** \return Fluide_base\&amp;&lt;br&gt;</span>
<a name="l00278"></a>00278 <span class="comment">Signification: le fluide incompressible associe a l&#39;equation&lt;br&gt;</span>
<a name="l00279"></a>00279 <span class="comment">Contraintes: */</span>
<a name="l00280"></a><a class="code" href="classMasse__Multiphase.html#a319a27f96b7c2c92ad87190515d5c033">00280</a> <a class="code" href="classFluide__base.html" title="classe Fluide_base Cette classe represente un d&#39;un fluide incompressible ainsi que ses proprietes: - ...">Fluide_base</a>&amp; <a class="code" href="classMasse__Multiphase.html#a07636821031da568ff200ebb33376841" title="Renvoie le fluide incompressible associe a l&#39;equation. (version const)">Masse_Multiphase::fluide</a>()
<a name="l00281"></a>00281 {
<a name="l00282"></a>00282   assert(<a class="code" href="classMasse__Multiphase.html#a7edd5f16ba02e300252fa91ad7e7af8c">le_fluide</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>());
<a name="l00283"></a>00283   <span class="keywordflow">return</span> <a class="code" href="classMasse__Multiphase.html#a7edd5f16ba02e300252fa91ad7e7af8c">le_fluide</a>.<a class="code" href="classRef__Fluide__base.html#a614fc18293b0b3da4f460a857a3b3cb8">valeur</a>();
<a name="l00284"></a>00284 }
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 <span class="comment">// Precondition:</span>
<a name="l00287"></a>00287 <span class="comment">// Parametre:</span>
<a name="l00288"></a>00288 <span class="comment">// Signification:</span>
<a name="l00289"></a>00289 <span class="comment">// Valeurs par defaut:</span>
<a name="l00290"></a>00290 <span class="comment">// Contraintes:</span>
<a name="l00291"></a>00291 <span class="comment">// Acces:</span>
<a name="l00292"></a>00292 <span class="comment">// Exception:</span>
<a name="l00293"></a>00293 <span class="comment">// Effets de bord:</span>
<a name="l00294"></a>00294 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00295"></a>00295 <span class="comment">//</span>
<a name="l00296"></a>00296 <span class="comment">//</span><span class="comment"></span>
<a name="l00297"></a>00297 <span class="comment">//! Renvoie le nom du domaine d&#39;application de l&#39;equation.&lt;br&gt;Ici &quot;Thermique&quot;.</span>
<a name="l00298"></a>00298 <span class="comment"></span><span class="comment">/** \return Motcle\&amp;&lt;br&gt;</span>
<a name="l00299"></a>00299 <span class="comment">Signification: le nom du domaine d&#39;application de l&#39;equation&lt;br&gt;</span>
<a name="l00300"></a>00300 <span class="comment">Contraintes: toujours egal a &quot;Thermique&quot; */</span>
<a name="l00301"></a><a class="code" href="classMasse__Multiphase.html#aee0dcc25563c362694ed070dfd060dda">00301</a> <span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; <a class="code" href="classMasse__Multiphase.html#aee0dcc25563c362694ed070dfd060dda" title="Renvoie le nom du domaine d&#39;application de l&#39;equation. Ici &quot;Thermique&quot;.">Masse_Multiphase::domaine_application</a>()<span class="keyword"> const</span>
<a name="l00302"></a>00302 <span class="keyword"></span>{
<a name="l00303"></a>00303   <span class="keyword">static</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> domaine =<span class="stringliteral">&quot;Fraction_volumique&quot;</span>;
<a name="l00304"></a>00304   <span class="keywordflow">return</span> domaine;
<a name="l00305"></a>00305 }
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 <span class="comment">// Precondition:</span>
<a name="l00308"></a>00308 <span class="comment">// Parametre: Fluide_base&amp; un_fluide</span>
<a name="l00309"></a>00309 <span class="comment">// Signification: le milieu a associer a l&#39;equation</span>
<a name="l00310"></a>00310 <span class="comment">// Valeurs par defaut:</span>
<a name="l00311"></a>00311 <span class="comment">// Contraintes: reference constante</span>
<a name="l00312"></a>00312 <span class="comment">// Acces: entree</span>
<a name="l00313"></a>00313 <span class="comment">// </span>
<a name="l00314"></a>00314 <span class="comment">// Signification:</span>
<a name="l00315"></a>00315 <span class="comment">// Contraintes:</span>
<a name="l00316"></a>00316 <span class="comment">// Exception:</span>
<a name="l00317"></a>00317 <span class="comment">// Effets de bord:</span>
<a name="l00318"></a>00318 <span class="comment">// Postcondition: l&#39;equation a un milieu associe</span>
<a name="l00319"></a>00319 <span class="comment">//</span><span class="comment"></span>
<a name="l00320"></a>00320 <span class="comment">//! Associe un fluide de type Fluide_base a l&#39;equation.</span>
<a name="l00321"></a><a class="code" href="classMasse__Multiphase.html#a81b18e2dcd8d09ea0cac658798b45012">00321</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classMasse__Multiphase.html#a81b18e2dcd8d09ea0cac658798b45012" title="Associe un fluide de type Fluide_base a l&#39;equation.">Masse_Multiphase::associer_fluide</a>(<span class="keyword">const</span> <a class="code" href="classFluide__base.html" title="classe Fluide_base Cette classe represente un d&#39;un fluide incompressible ainsi que ses proprietes: - ...">Fluide_base</a>&amp; un_fluide)
<a name="l00322"></a>00322 {
<a name="l00323"></a>00323   assert(<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classFluide__base.html" title="classe Fluide_base Cette classe represente un d&#39;un fluide incompressible ainsi que ses proprietes: - ...">Fluide_base</a>,un_fluide));
<a name="l00324"></a>00324   <a class="code" href="classMasse__Multiphase.html#a7edd5f16ba02e300252fa91ad7e7af8c">le_fluide</a> = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFluide__base.html" title="classe Fluide_base Cette classe represente un d&#39;un fluide incompressible ainsi que ses proprietes: - ...">Fluide_base</a>,un_fluide);
<a name="l00325"></a>00325 }
<a name="l00326"></a>00326 
<a name="l00327"></a><a class="code" href="classMasse__Multiphase.html#a0f4dac5e9afb4f3045e2130538c4cb14">00327</a> <span class="keywordtype">void</span> <a class="code" href="classMasse__Multiphase.html#a0f4dac5e9afb4f3045e2130538c4cb14">Masse_Multiphase::calculer_alpha_rho</a>(<span class="keyword">const</span> <a class="code" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>&amp; obj, <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; val, <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; bval, <a class="code" href="Interface__blocs_8h.html#a2d7480bf11fc9f791b1d2839fa30a5c3">tabs_t</a>&amp; deriv)
<a name="l00328"></a>00328 {
<a name="l00329"></a>00329   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; eqn = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classEquation__base.html">Equation_base</a>, obj);
<a name="l00330"></a>00330   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch_rho = eqn.<a class="code" href="classEquation__base.html#a181e9899e2d927eb14c835d9d9334f46">milieu</a>().<a class="code" href="classMilieu__base.html#a46a9a4bfb046ed22d0f267b6c052889f" title="Renvoie la masse volumique du milieu. (version const)">masse_volumique</a>();
<a name="l00331"></a>00331   <span class="keyword">const</span> <a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>&amp; ch_alpha = eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>(), *pch_rho = <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>, ch_rho) ? &amp;<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>, ch_rho) : NULL;
<a name="l00332"></a>00332   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; alpha = ch_alpha.<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>(), &amp;rho = ch_rho.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
<a name="l00333"></a>00333   <span class="keywordtype">int</span> i, nl = val.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0), n, N = val.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>(), cR = <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>, ch_rho);
<a name="l00334"></a>00334 
<a name="l00335"></a>00335   <span class="comment">/* valeurs du champ */</span>
<a name="l00336"></a>00336   <span class="keywordflow">for</span> (i = 0; i &lt; nl; i++) <span class="keywordflow">for</span> (n = 0; n &lt; N; n++) val(i, n) = alpha(i, n) * rho(!cR * i, n);
<a name="l00337"></a>00337 
<a name="l00338"></a>00338   <span class="comment">/* valeur aux bords */</span>
<a name="l00339"></a>00339   <span class="comment">/* on ne peut utiliser valeur_aux_bords que si ch_rho a une zone_dis_base */</span>
<a name="l00340"></a>00340   ch_rho.<a class="code" href="classChamp__base.html#a785d38f7072276cb2810e378c1a0b65e">a_une_zone_dis_base</a>() ? bval = ch_rho.<a class="code" href="classChamp__base.html#a63e4137abc2801a8861b272bcdf961fe" title="renvoie la valeur du champ aux faces de bord">valeur_aux_bords</a>() : ch_rho.<a class="code" href="classChamp__base.html#a662c5acd14339e93e26b638354decad7" title="Provoque une erreur ! Doit etre surchargee par les classes derivees non virtuelle pure par commodite ...">valeur_aux</a>(<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>, eqn.<a class="code" href="classEquation__base.html#a12d97ae801edc18f614523677921346e" title="Renvoie la zone discretisee associee a l&#39;equation.">zone_dis</a>().<a class="code" href="classDeriv__Zone__dis__base.html#a30ff47fc0684fe134e8c74c35b268941">valeur</a>()).xv_bord(), bval);
<a name="l00341"></a>00341   <a class="code" href="DoubleVect_8cpp.html#ae2081ab8f1947e8400a928ca3b172e29">tab_multiply_any_shape</a>(bval, ch_alpha.<a class="code" href="classChamp__Inc__base.html#a2cd79416efbe173787964966da501ad0" title="renvoie la valeur du champ aux faces de bord">valeur_aux_bords</a>());
<a name="l00342"></a>00342 
<a name="l00343"></a>00343   <span class="comment">/* derivees */</span>
<a name="l00344"></a>00344   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; d_a = deriv[<span class="stringliteral">&quot;alpha&quot;</span>]; <span class="comment">//derivee en alpha : rho</span>
<a name="l00345"></a>00345   <span class="keywordflow">for</span> (d_a.resize(nl, N), i = 0; i &lt; nl; i++) <span class="keywordflow">for</span> (n = 0; n &lt; N; n++) d_a(i, n) = rho(!cR * i , n);
<a name="l00346"></a>00346   <span class="keywordflow">if</span> (pch_rho) <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;&amp;d_c : pch_rho-&gt;derivees()) <span class="comment">//derivees en les dependances de rho</span>
<a name="l00347"></a>00347       {
<a name="l00348"></a>00348         <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; der = deriv[d_c.first];
<a name="l00349"></a>00349         <span class="keywordflow">for</span> (der.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nl, N), i = 0; i &lt; nl; i++) <span class="keywordflow">for</span> (n = 0; n &lt; N; n++) der(i, n) = d_c.second(i, n) * alpha(i, n);
<a name="l00350"></a>00350       }
<a name="l00351"></a>00351 }
<a name="l00352"></a>00352 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:36 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
