<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TRUST: src/Kernel/Geometrie/Scatter.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TRUST<span id="projectnumber">&#160;1.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_4ebb9cf478835123b919db691d6366a3.html">Kernel</a></li><li class="navelem"><a class="el" href="dir_248459fe65344770a2fa593f47170c23.html">Geometrie</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">Scatter.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="Scatter_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/****************************************************************************</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">* Copyright (c) 2022, CEA</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">* All rights reserved.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">*</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">*</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">*</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">*****************************************************************************/</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="Scatter_8h.html">Scatter.h</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;<a class="code" href="Domaine_8h.html">Domaine.h</a>&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="LecFicDistribueBin_8h.html">LecFicDistribueBin.h</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;<a class="code" href="Statistiques_8h.html">Statistiques.h</a>&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;<a class="code" href="TRUSTTabs_8h.html">TRUSTTabs.h</a>&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;<a class="code" href="Connectivite__som__elem_8h.html">Connectivite_som_elem.h</a>&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;<a class="code" href="Schema__Comm_8h.html">Schema_Comm.h</a>&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;<a class="code" href="Faces__builder_8h.html">Faces_builder.h</a>&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span><span class="preprocessor">#include &lt;<a class="code" href="Zone__VF_8h.html">Zone_VF.h</a>&gt;</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &lt;<a class="code" href="Reordonner__faces__periodiques_8h.html">Reordonner_faces_periodiques.h</a>&gt;</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;<a class="code" href="Postraitement__lata_8h.html">Postraitement_lata.h</a>&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &lt;<a class="code" href="communications_8h.html">communications.h</a>&gt;</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &lt;<a class="code" href="MD__Vector__tools_8h.html">MD_Vector_tools.h</a>&gt;</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &lt;<a class="code" href="MD__Vector__std_8h.html">MD_Vector_std.h</a>&gt;</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="preprocessor">#include &lt;unistd.h&gt;</span> <span class="comment">//!&lt; PGI</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &lt;<a class="code" href="Poly__geom__base_8h.html">Poly_geom_base.h</a>&gt;</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="preprocessor">#include &lt;<a class="code" href="Entree__Brute_8h.html">Entree_Brute.h</a>&gt;</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="preprocessor">#include &lt;<a class="code" href="Comm__Group__MPI_8h.html">Comm_Group_MPI.h</a>&gt;</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#include &lt;<a class="code" href="FichierHDFPar_8h.html">FichierHDFPar.h</a>&gt;</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#include &lt;<a class="code" href="LecFicDiffuse_8h.html">LecFicDiffuse.h</a>&gt;</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">#include &lt;<a class="code" href="EFichierBin_8h.html">EFichierBin.h</a>&gt;</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span> </div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="keyword">extern</span> <a class="code hl_class" href="classStat__Counter__Id.html">Stat_Counter_Id</a> <a class="code hl_variable" href="Scatter_8cpp.html#a5aa23d1c4a41bce37e5e06efb5e8c9e1">interprete_scatter_counter_</a>;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="classScatter.html#a002db6ff87448cb33d80b0e2158652a6">   42</a></span><a class="code hl_define" href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a>(<a class="code hl_class" href="classScatter.html">Scatter</a>,<span class="stringliteral">&quot;Scatter&quot;</span>,<a class="code hl_class" href="classInterprete.html">Interprete</a>);</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno"><a class="line" href="classScatter.html#a97e6291a932815a6cafbed40d6c98c4a">   43</a></span><a class="code hl_function" href="classScatter.html#a97e6291a932815a6cafbed40d6c98c4a">Scatter::Scatter</a>()</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>{}</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment">// Precondition:</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="comment">// Parametre: Sortie&amp; os</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="comment">// Signification: un flot de sortie</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="comment">// Valeurs par defaut:</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="comment">// Contraintes:</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment">// Acces: entree/sortie</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><span class="comment">// Exception:</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><span class="comment">// Effets de bord:</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span><span class="comment">//! Simple appel a: Interprete::printOn(Sortie\&amp;)</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="comment"></span><span class="comment">/** \return Sortie\&amp;&lt;br&gt;</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="comment">Signification: le flot de sortie modifie&lt;br&gt;</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="comment">Contraintes: */</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="classScatter.html#a707666d3f618b607a4472c600397e5c3">   60</a></span><a class="code hl_class" href="classSortie.html">Sortie</a>&amp; <a class="code hl_function" href="classScatter.html#a707666d3f618b607a4472c600397e5c3">Scatter::printOn</a>(<a class="code hl_class" href="classSortie.html">Sortie</a>&amp; os)<span class="keyword"> const</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classInterprete.html#a4dc57ee68fca0ece3949ec2a307062e5">Interprete::printOn</a>(os);</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>}</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="comment">// Precondition:</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="comment">// Parametre: Entree&amp; is</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="comment">// Signification: un flot d&#39;entree</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="comment">// Valeurs par defaut:</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment">// Contraintes:</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="comment">// Acces: entree/sortie</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="comment">// Exception:</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment">// Effets de bord:</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="comment">// Postcondition:</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment">//! Simple appel a: Interprete::readOn(Entree\&amp;)</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="comment"></span><span class="comment">/** \return Entree\&amp;&lt;br&gt;</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment">Signification: le flot d&#39;entree modifie&lt;br&gt;</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="comment">Contraintes: */</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="classScatter.html#abada5e896e8ebd6439735c049a2efd14">   80</a></span><a class="code hl_class" href="classEntree.html">Entree</a>&amp; <a class="code hl_function" href="classScatter.html#abada5e896e8ebd6439735c049a2efd14">Scatter::readOn</a>(<a class="code hl_class" href="classEntree.html">Entree</a>&amp; is)</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>{</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classInterprete.html#aa53181fde696cbb695f1db6aaabd75e3">Interprete::readOn</a>(is);</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>}</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="comment">// Description :</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="comment">// Renvoi le domaine associe</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classScatter.html#ac33aacdb609dcc870faeb93500ed017f">   87</a></span><a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; <a class="code hl_function" href="classScatter.html#ac33aacdb609dcc870faeb93500ed017f">Scatter::domaine</a>()</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>{</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classScatter.html#a82a0e561610415e2f6c5615846a96f87">le_domaine</a>.<a class="code hl_function" href="classRef__Domaine.html#a68c3ebe31593f4972f164a92387c713d">valeur</a>();</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>}</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span> </div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a600ea51e50b762812904598f72bc12b6">   92</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="Scatter_8cpp.html#a600ea51e50b762812904598f72bc12b6">dump_lata</a>(<span class="keyword">const</span> <a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom)</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>{</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>  <span class="keyword">const</span> <a class="code hl_class" href="classZone.html">Zone</a>&amp; zone = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0);</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = zone.<a class="code hl_function" href="classZone.html#ab268cec09b34e5f4dd670a5a38fbd37c">nb_joints</a>();</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span> </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>  <span class="keyword">const</span> <a class="code hl_class" href="classComm__Group.html">Comm_Group</a> *cg = 0;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>  <a class="code hl_class" href="classNom.html">Nom</a> nom_fichier_lata(<span class="stringliteral">&quot;espaces_virtuels&quot;</span>);</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>  <a class="code hl_enumeration" href="classPostraitement__lata.html#a5a0f028169251f7e1736d60601ef77f9">Postraitement_lata::Format</a> format = <a class="code hl_enumvalue" href="classPostraitement__lata.html#a5a0f028169251f7e1736d60601ef77f9a3384124d5051d9c93ed5e30a57be2642">Postraitement_lata::BINAIRE</a>;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>  <a class="code hl_function" href="classPostraitement__lata.html#abc98a89de618f6e687b45fe8a21514fd">Postraitement_lata::ecrire_entete</a>(nom_fichier_lata,</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>                                    <span class="stringliteral">&quot;Discretisation_inconnue&quot;</span>,</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>                                    format, cg);</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>  <a class="code hl_function" href="classPostraitement__lata.html#abddde8cf0136be3345a4e3b6b0174997">Postraitement_lata::ecrire_zone</a>(nom_fichier_lata,</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>                                  zone,</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>                                  format, cg);</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span> </div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>  <a class="code hl_function" href="classPostraitement__lata.html#afee90355139907630d3fdc64ce89b0e2">Postraitement_lata::ecrire_temps</a>(nom_fichier_lata,</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>                                   0.,</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>                                   format, cg);</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> n = zone.<a class="code hl_function" href="classZone.html#a8bdea22b5802d97c07acd9e97de5eb88">nb_elem</a>();</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>  <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a> data(n);</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ij = 0; ij &lt; nb_joints; ij++)</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    {</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>      <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; t1 = zone.<a class="code hl_function" href="classZone.html#aef862d7e09cbdf331de0fd1f0ba3b334">joint</a>(ij).<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code hl_function" href="classJoint__Items.html#a59175012728b3e41778c7ae24db94c29">items_distants</a>();</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>      data = 0.;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>      {</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> nt1 = t1.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nt1; i++)</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>          data[t1[i]] += 1;</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>      }</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>      <a class="code hl_function" href="classPostraitement__lata.html#a2a485fe3fbffa5edd261421d1171962d">Postraitement_lata::ecrire_champ</a>(nom_fichier_lata,</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>                                       <a class="code hl_class" href="classNom.html">Nom</a>(<span class="stringliteral">&quot;partition&quot;</span>) + <a class="code hl_class" href="classNom.html">Nom</a>(zone.<a class="code hl_function" href="classZone.html#aef862d7e09cbdf331de0fd1f0ba3b334">joint</a>(ij).<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>()),</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>                                       <a class="code hl_enumvalue" href="classPostraitement__lata.html#a012d35ff1c9b7bb8a7c59587b4c3e4f0addb3b63849292cc4575b2ee02340dded">Postraitement_lata::CHAMP</a>,</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>                                       <span class="charliteral">&#39;I&#39;</span>,</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>                                       dom.<a class="code hl_function" href="classDomaine.html#ad15005332b06c50c8fc55364beb6bd36">le_nom</a>(),</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>                                       <span class="stringliteral">&quot;pb&quot;</span>,</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>                                       0., <span class="comment">/* temps */</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>                                       <a class="code hl_enumvalue" href="classPostraitement__base.html#a6a43e4c7caaafa57902a067e706d56e9a72278646074c45c57de008b5deda3037">Postraitement_base::ELEMENTS</a>,</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>                                       data,</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>                                       format);</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    }</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>}</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="comment">//</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="comment">//</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="comment">//</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="comment">//</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="comment">//</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="comment">//! Lit et complete un domaine parallele selon les motcles lus&lt;br&gt;dans le jeu de donnees. Format:&lt;br&gt;Scatter [debug] file_name domain_name&lt;br&gt;On lit les sommets, les elements et les sommets et faces de joint,&lt;br&gt;On construit les espaces distants et virtuels en fonction&lt;br&gt;de l&#39;epaisseur de joint.</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="classScatter.html#a44193a034786e01ad0b63f7b3a94374e">  141</a></span><span class="comment"></span><a class="code hl_class" href="classEntree.html">Entree</a>&amp; <a class="code hl_function" href="classScatter.html#a44193a034786e01ad0b63f7b3a94374e">Scatter::interpreter</a>(<a class="code hl_class" href="classEntree.html">Entree</a>&amp; is)</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>{</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span><span class="comment">// Nom des fichiers de decoupage : nomentree.xxxx</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>  <a class="code hl_class" href="classNom.html">Nom</a> nomentree;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>  is &gt;&gt; nomentree;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>()==1)</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    {</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>      <a class="code hl_class" href="classMotcle.html">Motcle</a> n(nomentree);</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>      <span class="keywordflow">if</span> (n != <span class="stringliteral">&quot;;&quot;</span> &amp;&amp; n != <span class="stringliteral">&quot;unlock;&quot;</span>)</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        {</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error ! You ran a sequential calculation and can&#39;t use Scatter keyword here. Run a parallel calculation or remove this keyword.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>          <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        }</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Scatter: preparing domain structure\n&quot;</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>           &lt;&lt; <span class="stringliteral">&quot; (this is workaround for bugged domain operators that don&#39;t do it)&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>      <a class="code hl_class" href="classNom.html">Nom</a> nomdomaine;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>      is &gt;&gt; nomdomaine;</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>      <a class="code hl_class" href="classObjet__U.html">Objet_U</a>&amp; obj = <a class="code hl_function" href="classInterprete.html#a3ca248609f0b72eac68baca14621b4ee">objet</a>(nomdomaine);</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>      <span class="keywordflow">if</span>(!<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>, obj))</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        {</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;obj : &quot;</span> &lt;&lt; obj &lt;&lt; <span class="stringliteral">&quot; is not an object of type Domain !&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>          <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>        }</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>      <a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom = <a class="code hl_define" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>, obj);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>      <span class="keywordflow">if</span> (n == <span class="stringliteral">&quot;;&quot;</span>)</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        <a class="code hl_function" href="classScatter.html#a1874139ffd29d5a68191bc7828d3a5bd">init_sequential_domain</a>(dom);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>        <a class="code hl_function" href="classScatter.html#a8cf934a9b5f7ecb7ef89f61c09804f45">uninit_sequential_domain</a>(dom);</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>      <span class="keywordflow">return</span> is;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    }</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="comment">// Pour debugger sur linux en parallele</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="preprocessor">#ifdef linux</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>  <span class="keyword">static</span> <span class="keywordtype">int</span> gdb_non_lance=1;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>  <span class="keywordtype">char</span>* TRUST_GDB=getenv(<span class="stringliteral">&quot;TRUST_GDB&quot;</span>);</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>  <span class="keywordflow">if</span> (gdb_non_lance &amp;&amp; ((<a class="code hl_class" href="classMotcle.html">Motcle</a>)nomentree==<span class="stringliteral">&quot;DEBUG&quot;</span> || TRUST_GDB!=NULL))</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    {</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>      gdb_non_lance=0;</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>      <span class="keywordflow">if</span> ((<a class="code hl_class" href="classMotcle.html">Motcle</a>)nomentree==<span class="stringliteral">&quot;DEBUG&quot;</span>) is &gt;&gt; nomentree;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">je_suis_maitre</a>())</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        {</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Enter \&quot;return\&quot; to this window after&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;typing \&quot;cont\&quot; in other gdb windows.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; (int)system (<span class="stringliteral">&quot;sh -c read ok&quot;</span>) &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        }</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        {</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>          <a class="code hl_class" href="classNom.html">Nom</a> getpidn((<span class="keywordtype">int</span>)getpid());</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>          <a class="code hl_class" href="classNom.html">Nom</a> cmdfile=getpidn;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>          <a class="code hl_class" href="classNom.html">Nom</a> command0=<span class="stringliteral">&quot;echo attach &quot;</span>;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>          command0+=getpidn;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>          command0+=<span class="stringliteral">&quot; &gt; &quot;</span>;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>          command0+=cmdfile;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; (int)system(command0) &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>          command0=<span class="stringliteral">&quot; ls -l /proc/&quot;</span>;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>          command0+=getpidn;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>          command0+=<span class="stringliteral">&quot;/exe | awk &#39;{print $NF}&#39; &gt; execname&quot;</span>;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; (int)system(command0) &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>          <a class="code hl_class" href="classNom.html">Nom</a> command=<span class="stringliteral">&quot;[ -f /usr/X11R6/bin/xterm ] &amp;&amp; x=\&quot;/usr/X11R6/bin/xterm -exec gdb -x \&quot;;&quot;</span>;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>          command+=<span class="stringliteral">&quot;[ -f /usr/bin/konsole ] &amp;&amp; x=\&quot;/usr/bin/konsole -e gdb -x \&quot;;&quot;</span>;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>          command+=<span class="stringliteral">&quot;$x &quot;</span>;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>          command+=cmdfile;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>          command+=<span class="stringliteral">&quot; `cat execname` &quot;</span>;</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>          command+=<span class="stringliteral">&quot; &amp;&quot;</span>;</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;command: &quot;</span> &lt;&lt;command&lt;&lt;<a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; (int)system(command) &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        }</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    }</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>  <a class="code hl_function" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">barrier</a>();</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span> </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Execution of the Scatter module.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>  <a class="code hl_function" href="Statistiques_8h.html#a3c199d09f12b2698e7ad0894e2dd7835">statistiques</a>().<a class="code hl_function" href="classStatistiques.html#affcd058809786918ed173aaf681d0843">begin_count</a>(<a class="code hl_variable" href="Scatter_8cpp.html#a5aa23d1c4a41bce37e5e06efb5e8c9e1">interprete_scatter_counter_</a>);</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span> </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span><span class="comment">// On recupere le domaine:</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>  <a class="code hl_class" href="classNom.html">Nom</a> nomdomaine;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>  is &gt;&gt; nomdomaine;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>  <a class="code hl_class" href="classObjet__U.html">Objet_U</a>&amp; obj = <a class="code hl_function" href="classInterprete.html#a3ca248609f0b72eac68baca14621b4ee">objet</a>(nomdomaine);</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>  <span class="keywordflow">if</span>(!<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>, obj))</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    {</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;obj : &quot;</span> &lt;&lt; obj &lt;&lt; <span class="stringliteral">&quot; is not an object of type Domain !&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    }</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>  <a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom = <a class="code hl_define" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>, obj);</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>  <a class="code hl_variable" href="classScatter.html#a82a0e561610415e2f6c5615846a96f87">le_domaine</a> = dom;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span><span class="comment">// Lecture des fichiers de decoupage :</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>  <a class="code hl_function" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">barrier</a>();</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Reading the domain&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>  <a class="code hl_class" href="classNoms.html">Noms</a> liste_bords_periodiques;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>  <a class="code hl_function" href="classScatter.html#a0c740e8b05e31947a4f49d630f1302ec">lire_domaine</a>(nomentree, liste_bords_periodiques);</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span> </div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>  <a class="code hl_function" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">barrier</a>();</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Calculation of renum_items_communs for the nodes&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>  <a class="code hl_function" href="classScatter.html#a21f166c05df9be1fc1f02b0604624fe5">calculer_renum_items_communs</a>(dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>(), <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>);</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span> </div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="comment">// Pas encore code: on verifie que les sommets communs ont des coordonnees identiques</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="comment">// sur tous les processeurs.</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="comment">// check_sommets_joints(dom);</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span> </div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>  <a class="code hl_function" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">barrier</a>();</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Construire_structures_paralleles&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>  <a class="code hl_function" href="classScatter.html#af6b88297583bd92c6ca3814bc532b8be">construire_structures_paralleles</a>(dom, liste_bords_periodiques);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span> </div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>  <span class="keywordflow">if</span> (0)</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <a class="code hl_function" href="Scatter_8cpp.html#a600ea51e50b762812904598f72bc12b6">dump_lata</a>(dom);</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>  <a class="code hl_function" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">barrier</a>();</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;End Distribue_zones&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span> </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;\nQuality of partitioning --------------------------------------------&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>  <span class="keywordtype">int</span> total_nb_elem = <a class="code hl_function" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd">Process::mp_sum</a>(dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a8bdea22b5802d97c07acd9e97de5eb88">nb_elem</a>());</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;\nTotal number of elements = &quot;</span> &lt;&lt; total_nb_elem &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Number of Zones : &quot;</span> &lt;&lt; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>() &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>  <span class="keywordtype">double</span> min_element_zone = <a class="code hl_function" href="classProcess.html#a05de57db7288d95f9e67046af585d5ff">mp_min</a>(dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a8bdea22b5802d97c07acd9e97de5eb88">nb_elem</a>());</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>  <span class="keywordtype">double</span> max_element_zone = <a class="code hl_function" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d">mp_max</a>(dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a8bdea22b5802d97c07acd9e97de5eb88">nb_elem</a>());</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>  <span class="keywordtype">double</span> mean_element_zone = total_nb_elem / <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>();</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Min number of elements on a Zone = &quot;</span> &lt;&lt; min_element_zone &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Max number of elements on a Zone = &quot;</span> &lt;&lt; max_element_zone &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Mean number of elements per Zone = &quot;</span> &lt;&lt; (int)(mean_element_zone) &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>  <span class="keywordtype">double</span> load_imbalance = max_element_zone / mean_element_zone;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Load imbalance = &quot;</span> &lt;&lt; load_imbalance &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span> </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>  <a class="code hl_class" href="classElem__geom__base.html">Elem_geom_base</a>&amp; elem=dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a615ed15b70dc15fe2c2610f06cdcb64b">type_elem</a>().<a class="code hl_function" href="classDeriv__Elem__geom__base.html#ade8d45321a97c0d2bac45ae21decc8db">valeur</a>();</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classPoly__geom__base.html">Poly_geom_base</a>,elem))</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>    {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>      <a class="code hl_define" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code hl_class" href="classPoly__geom__base.html">Poly_geom_base</a>,elem).compute_virtual_index();</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    }</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>  <a class="code hl_function" href="Statistiques_8h.html#a3c199d09f12b2698e7ad0894e2dd7835">statistiques</a>().<a class="code hl_function" href="classStatistiques.html#a0faf52d1b518f5b0b2177f22efcc222d">end_count</a>(<a class="code hl_variable" href="Scatter_8cpp.html#a5aa23d1c4a41bce37e5e06efb5e8c9e1">interprete_scatter_counter_</a>);</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>()==0)</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>      <span class="keywordtype">double</span> temps = <a class="code hl_function" href="Statistiques_8h.html#a3c199d09f12b2698e7ad0894e2dd7835">statistiques</a>().<a class="code hl_function" href="classStatistiques.html#a21c24113a2042f33ce1134b473ebc1ac">last_time</a>(<a class="code hl_variable" href="Scatter_8cpp.html#a5aa23d1c4a41bce37e5e06efb5e8c9e1">interprete_scatter_counter_</a>);</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Scatter time : &quot;</span> &lt;&lt; temps &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    }</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>  <span class="keywordflow">return</span> is;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>}</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span> </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span><span class="comment">//</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="comment">//</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span><span class="comment">//</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="comment">//</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span><span class="comment">//! Merged zones receive joints information from their neighbours&lt;br&gt;to ensure that their common items (vertices) appear in the same order&lt;br&gt;If it&#39;s not the case, the merged zone reorders its common items so that it matches the neighbour&#39;s order&lt;br&gt;When 2 neighbouring zones have each been merged,&lt;br&gt;only the processor with the lowest rank proceeds to reordering</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno"><a class="line" href="classScatter.html#a86c9311713284ed6591da95c7eb9411d">  288</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a86c9311713284ed6591da95c7eb9411d">Scatter::check_consistancy_remote_items</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom, <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; mergedZones)</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>{</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>  <span class="keyword">const</span> <a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints     = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>();</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span> </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; coords = dom.<a class="code hl_function" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f">les_sommets</a>();</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> liste_send;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> liste_recv;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>  liste_send.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>  liste_recv.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> moi = <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>();</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> myZoneWasMerged = mergedZones[moi];</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span> </div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span> </div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> pe_voisin = joints[i_joint].PEvoisin();</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> neighbourZoneWasMerged = mergedZones[pe_voisin];</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>      <span class="keywordflow">if</span>(myZoneWasMerged &amp;&amp; neighbourZoneWasMerged)</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>        {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>          <span class="keywordflow">if</span>(pe_voisin &lt; moi)</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>            liste_recv.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(pe_voisin);</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>          <span class="keywordflow">else</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>            liste_send.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(pe_voisin);</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        }</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(myZoneWasMerged &amp;&amp; !neighbourZoneWasMerged)</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        liste_recv.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(pe_voisin);</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!myZoneWasMerged &amp;&amp; neighbourZoneWasMerged)</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>        liste_send.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(pe_voisin);</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>        {</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span><span class="comment">// nothing to exchange</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>        }</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>    }</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span> </div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>  <a class="code hl_class" href="classTRUST__Vector.html">DoubleTabs</a> coord_items_locaux(nb_joints);</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>  <a class="code hl_class" href="classTRUST__Vector.html">DoubleTabs</a> coord_items_distants(nb_joints);</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    {</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>      <span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint     = joints[i_joint];</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>      <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items_communs = joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).<a class="code hl_function" href="classJoint__Items.html#ae341478a0251c4ab6fc7c65189a7f30b">items_communs</a>();</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> nb_items_communs = items_communs.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span> </div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>      <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp;   coord   = coord_items_locaux[i_joint];</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>      coord.<a class="code hl_function" href="classTRUSTTab.html#a33c4f72e40e49cdb553fc7311fe656bc">resize</a>(nb_items_communs, <a class="code hl_variable" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_items_communs; i++)</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; <a class="code hl_variable" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; j++)</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>          coord(i,j) = coords(items_communs[i], j);</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    }</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span> </div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span><span class="comment">// Envoi des coordonnees locales au processeur voisin</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>  {</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    <a class="code hl_class" href="classSchema__Comm.html">Schema_Comm</a> schema_comm;</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ad11c9b47999c294c26ae4df8d2bbd57b">set_send_recv_pe_list</a>(liste_send, liste_recv);</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ac574385d716aca94a48373ab71f37e4f">begin_comm</a>();</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_joints; i++)</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>      {</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> pe_voisin = joints[i].PEvoisin();</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> neighbourZoneWasMerged = mergedZones[pe_voisin];</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        <span class="keywordflow">if</span>( neighbourZoneWasMerged &amp;&amp; !(myZoneWasMerged &amp;&amp; pe_voisin&lt;moi) )</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>          {</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            <a class="code hl_class" href="classSortie.html">Sortie</a>&amp; buffer = schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a681259723c5c1b85f419433de7aa78d7">send_buffer</a>(pe_voisin);</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>            buffer &lt;&lt; coord_items_locaux[i];</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>          }</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>      }</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a516f48fb0494781b373d7b343388ed44">echange_taille_et_messages</a>();</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="keywordflow">if</span>(myZoneWasMerged)</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>      {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_joints; i++)</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>          {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> pe_voisin = joints[i].PEvoisin();</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> neighbourZoneWasMerged = mergedZones[pe_voisin];</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>            <span class="keywordflow">if</span>(!(neighbourZoneWasMerged &amp;&amp; pe_voisin&gt;moi))</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>              {</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>                <a class="code hl_class" href="classEntree.html">Entree</a>&amp; buffer = schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a85c05ef4688c20afa429264ebac8fdcf">recv_buffer</a>(pe_voisin);</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>                buffer &gt;&gt; coord_items_distants[i];</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>              }</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>          }</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>      }</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span> </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a7dd8d56caee9c6759850bb7c38e31c8b">end_comm</a>();</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>  }</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span><span class="comment">// check if the vertices in my joints appear in the same order as my neighbour joint</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>  <span class="keywordflow">if</span>(myZoneWasMerged)</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    {</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        {</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span> </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> pe_voisin = joints[i_joint].PEvoisin();</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> neighbourZoneWasMerged = mergedZones[pe_voisin];</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>          <span class="keywordflow">if</span>(neighbourZoneWasMerged &amp;&amp; pe_voisin&gt;moi)</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>          <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items_communs = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>()[i_joint].set_joint_item(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).set_items_communs();</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> old_items_communs = joints[i_joint].joint_item(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).items_communs();</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>          <span class="keyword">const</span> <span class="keywordtype">int</span>     nb_items      = items_communs.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; coord_voisin = coord_items_distants[i_joint];</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; my_coord = coord_items_locaux[i_joint];</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>          assert(my_coord.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>() ==  coord_voisin.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>());</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>          <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;nb_items; i++)</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>            {</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>              <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;nb_items; j++)</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>                {</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>                  <span class="keywordtype">int</span> ok=1;</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir=0; dir&lt;<a class="code hl_variable" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; dir++)</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                    ok=ok&amp;&amp;(<a class="code hl_function" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(coord_voisin(i,dir),my_coord(j,dir)));</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                  <span class="keywordflow">if</span> (ok)</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                    {</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                      items_communs[i] = old_items_communs[j];</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>                      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>                    }</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>                }</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>            }</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>        }</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    }</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>}</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span> </div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span> </div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span><span class="comment">//</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span><span class="comment">//</span></div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span><span class="comment">//! Does the exact same thing as the readOn of the class Domaine&lt;br&gt;but without collective communication&lt;br&gt;Necessary when the processors don&#39;t have the same numbers of file to read</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno"><a class="line" href="classScatter.html#ad8cdf7a8e4ad0065e9c3e1351aec8a1b">  412</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#ad8cdf7a8e4ad0065e9c3e1351aec8a1b">Scatter::readDomainWithoutCollComm</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom, <a class="code hl_class" href="classEntree.html">Entree</a>&amp; fic )</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>{</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;reading vertices...&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>  dom.<a class="code hl_function" href="classDomaine.html#a5ebe2a9e34ba2e1b8b54541e7418e08b">read_vertices</a>(fic);</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span> </div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Done !\nreading zones...&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span> </div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>  <a class="code hl_class" href="classNom.html">Nom</a> accouverte=<span class="stringliteral">&quot;{&quot;</span>;</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>  <a class="code hl_class" href="classNom.html">Nom</a> accfermee=<span class="stringliteral">&quot;}&quot;</span>;</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>  <a class="code hl_class" href="classNom.html">Nom</a> virgule=<span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>  <a class="code hl_class" href="classMotcle.html">Motcle</a> nom;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>  fic &gt;&gt; nom;</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>  <span class="keywordflow">if</span>(nom!=(<span class="keyword">const</span> <span class="keywordtype">char</span>*)<span class="stringliteral">&quot;vide&quot;</span>)</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    {</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>      <span class="keywordflow">if</span> (nom!=accouverte)</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>        {</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error while reading a list.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;One expected an opened bracket { to start.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>          <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>        }</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>      <span class="keywordflow">while</span>(1)</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        {</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>          <a class="code hl_class" href="classZone.html">Zone</a> zone_tmp;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>          zone_tmp.<a class="code hl_function" href="classZone.html#a6a0068f3a0e3b45340f9dcbcef01e00a">read_zone</a>(fic);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>          dom.<a class="code hl_function" href="classDomaine.html#a6204a2b89860bfd74ca2858d1d8750bf">add</a>(zone_tmp);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span> </div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>          fic &gt;&gt; nom;</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>          <span class="keywordflow">if</span>(nom==accfermee)</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>          <span class="keywordflow">if</span>(nom!=virgule)</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>            {</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; nom &lt;&lt; <span class="stringliteral">&quot; one expected a &#39;,&#39; or a &#39;}&#39;&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>              <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>            }</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        }</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    }</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Done!&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>}</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span> </div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span><span class="comment">//! Merging dom_to_add with dom</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno"><a class="line" href="classScatter.html#ace98ccb7d5fd754b2ae527ce96876977">  454</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#ace98ccb7d5fd754b2ae527ce96876977">Scatter::mergeDomains</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom, <a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom_to_add)</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>{</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>  <span class="keywordtype">int</span> old_nb_elems = dom.<a class="code hl_function" href="classDomaine.html#a5e770a06041728d20ab2298fe44de679">nb_zones</a>() ? dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a8bdea22b5802d97c07acd9e97de5eb88">nb_elem</a>() : 0;</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span><span class="comment">// merging vertices</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>  <a class="code hl_class" href="classTRUSTVect.html">IntVect</a> nums;</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>  <a class="code hl_class" href="classZone.html">Zone</a>&amp; zone=dom.<a class="code hl_function" href="classDomaine.html#a6204a2b89860bfd74ca2858d1d8750bf">add</a>(dom_to_add.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0));</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>  zone.<a class="code hl_function" href="classZone.html#a68a215145852861f2d513c959f52a1a5">associer_domaine</a>(dom);</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>  dom.<a class="code hl_function" href="classDomaine.html#a9e067ee24e1952315722374190c8cb06">ajouter</a>(dom_to_add.<a class="code hl_function" href="classDomaine.html#ae38374f4ac33a429a131a53083ad86fb">coord_sommets</a>(), nums);</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>  <a class="code hl_function" href="classScatter.html#a8cf934a9b5f7ecb7ef89f61c09804f45">Scatter::uninit_sequential_domain</a>(dom);</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>  zone.<a class="code hl_function" href="classZone.html#ade842749f28689fdf39c3a5ea2757e3f">renum</a>(nums);</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>  zone.<a class="code hl_function" href="classZone.html#a789278595ea816cd5c095b31e0fda209">renum_joint_common_items</a>(nums, old_nb_elems);</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>  zone.<a class="code hl_function" href="classZone.html#a68a215145852861f2d513c959f52a1a5">associer_domaine</a>(dom);</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span> </div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>  <span class="keywordflow">if</span>(dom.<a class="code hl_function" href="classDomaine.html#a6d61d3e68f4d08939c40222d942930ac">zones</a>().<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>() &gt; 1)</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    {</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>      <span class="keywordtype">int</span> new_nb_elems = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a8bdea22b5802d97c07acd9e97de5eb88">nb_elem</a>();</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span><span class="comment">// merging zones</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>      dom.<a class="code hl_function" href="classDomaine.html#a6d61d3e68f4d08939c40222d942930ac">zones</a>().<a class="code hl_function" href="classZones.html#aa1bcac020bceac5afecd16add50cc364">merge</a>();</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span> </div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span><span class="comment">// merging common vertices and remote items</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = dom_to_add.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#ab268cec09b34e5f4dd670a5a38fbd37c">nb_joints</a>();</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>        {</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>          <span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint_to_add  = dom_to_add.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>()[i_joint];</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>          <span class="keywordtype">int</span> my_joint_index = 0;</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>          <span class="keywordflow">while</span>(joint_to_add.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>() != dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>()[my_joint_index].PEvoisin())</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>            my_joint_index++;</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span> </div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; sommets_to_add = joint_to_add.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).<a class="code hl_function" href="classJoint__Items.html#ae341478a0251c4ab6fc7c65189a7f30b">items_communs</a>();</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>          <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items_communs = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>()[my_joint_index].set_joint_item(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).set_items_communs();</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>          items_communs.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>          <span class="keywordflow">for</span>(<span class="keywordtype">int</span> index=0; index&lt;sommets_to_add.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>(); index++)</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            items_communs.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(nums[sommets_to_add[index]]);</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>          items_communs.<a class="code hl_function" href="classTRUSTArray.html#aca5ee4f82522cbe5bdef855231723f78">array_trier_retirer_doublons</a>();</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span> </div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; elements_to_add = joint_to_add.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code hl_function" href="classJoint__Items.html#a59175012728b3e41778c7ae24db94c29">items_distants</a>();</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>          <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items_distants = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>()[my_joint_index].set_joint_item(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).set_items_distants();</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>          items_distants.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>          <span class="keywordflow">for</span>(<span class="keywordtype">int</span> index=0; index&lt;elements_to_add.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>(); index++)</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>            items_distants.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(new_nb_elems + elements_to_add[index]);</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>        }</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    }</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>}</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span><span class="comment">//</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span><span class="comment">//</span></div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span><span class="comment">//</span></div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span><span class="comment">//! Lit le domaine dans le fichier de nom &quot;nomentree&quot;,&lt;br&gt;de type LecFicDistribueBin ou LecFicDistribue&lt;br&gt;Format attendu : Domaine::ReadOn&lt;br&gt;La zone est renommee comme le domaine (pour lance_test_seq_par)</span></div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno"><a class="line" href="classScatter.html#a0c740e8b05e31947a4f49d630f1302ec">  504</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a0c740e8b05e31947a4f49d630f1302ec">Scatter::lire_domaine</a>(<a class="code hl_class" href="classNom.html">Nom</a>&amp; nomentree, <a class="code hl_class" href="classNoms.html">Noms</a>&amp; liste_bords_periodiques)</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>{</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span><span class="comment">// On determine si le fichier est au nouveau format ou a l&#39;ancien</span></div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Reading geometry from .Zones file(s) ...&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>  <a class="code hl_function" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">barrier</a>(); <span class="comment">//!&lt; Attendre que le message soit affiche</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span> </div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>  <a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom = <a class="code hl_function" href="classScatter.html#ac33aacdb609dcc870faeb93500ed017f">domaine</a>();</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>  <a class="code hl_class" href="classNom.html">Nom</a> copy(nomentree);</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>  copy = copy.<a class="code hl_function" href="classNom.html#a67b66f01988827cce6bf1f108b850bda">nom_me</a>(<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>(), <span class="stringliteral">&quot;p&quot;</span>, 1);</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span> </div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span><span class="comment">// bool is_hdf = FichierHDF::is_hdf5(copy);</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>  <a class="code hl_class" href="classLecFicDiffuse.html">LecFicDiffuse</a> <a class="code hl_function" href="Op__Grad__EF_8cpp.html#abc0897c211f7aa4541da5833388f868b">test</a>;</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>  <span class="keywordtype">bool</span> is_hdf = <a class="code hl_function" href="Op__Grad__EF_8cpp.html#abc0897c211f7aa4541da5833388f868b">test</a>.ouvrir(copy) &amp;&amp; <a class="code hl_function" href="classFichierHDF.html#a0ad22bc624e64d0fecd33abb64b4881a">FichierHDF::is_hdf5</a>(copy);</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>  <span class="keyword">static</span> <a class="code hl_class" href="classStat__Counter__Id.html">Stat_Counter_Id</a> stats = <a class="code hl_function" href="Statistiques_8h.html#a3c199d09f12b2698e7ad0894e2dd7835">statistiques</a>().<a class="code hl_function" href="classStatistiques.html#ae1d5ab3d7354d4f748173dde67f9912d">new_counter</a>(0 <span class="comment">/* Level */</span>, <span class="stringliteral">&quot;Scatter::lire_domaine&quot;</span>, 0 <span class="comment">/* Group */</span>);</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span> </div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>  <a class="code hl_function" href="Statistiques_8h.html#a3c199d09f12b2698e7ad0894e2dd7835">statistiques</a>().<a class="code hl_function" href="classStatistiques.html#affcd058809786918ed173aaf681d0843">begin_count</a>(stats);</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> mergedZones(<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>());</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>  mergedZones = 0;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>  <span class="keywordtype">bool</span> domain_not_built = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span>  <span class="keywordflow">if</span> (is_hdf)</div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span>    {</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>      <a class="code hl_class" href="classFichierHDFPar.html">FichierHDFPar</a> fic_hdf;</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span><span class="comment">// FichierHDF fic_hdf;</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>      nomentree = copy;</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>      fic_hdf.<a class="code hl_function" href="classFichierHDF.html#a55803f961da3af25680be6cec26e85ec">open</a>(nomentree, <span class="keyword">true</span>);</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span> </div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>      std::string dname = <span class="stringliteral">&quot;/zone_&quot;</span>  + std::to_string(<a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>());</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>      <span class="keywordtype">bool</span> ok = fic_hdf.<a class="code hl_function" href="classFichierHDF.html#a5731b503f5e1472ad9ab934f759dcf7b">exists</a>(dname.c_str());</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>      <span class="keywordflow">if</span>(!ok)</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>        {</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>          mergedZones = 1;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>          <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>(); i++)</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>            {</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>              <a class="code hl_class" href="classEntree__Brute.html">Entree_Brute</a> data_part;</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>              <a class="code hl_class" href="classDomaine.html">Domaine</a> part_dom;</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>              std::string tmp = dname + <span class="stringliteral">&quot;_&quot;</span> + std::to_string(i);</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span> </div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>              <span class="keywordtype">bool</span> exists = fic_hdf.<a class="code hl_function" href="classFichierHDF.html#a5731b503f5e1472ad9ab934f759dcf7b">exists</a>(tmp.c_str());</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>              <span class="keywordflow">if</span>(exists)</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>                {</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>                  <a class="code hl_class" href="classNom.html">Nom</a> dataset_name(dname);</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>                  fic_hdf.<a class="code hl_function" href="classFichierHDF.html#a4b1e63bb02aebe3cd085af22cdd870af">read_dataset</a>(dataset_name, i, data_part);</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>                  <a class="code hl_function" href="classScatter.html#ad8cdf7a8e4ad0065e9c3e1351aec8a1b">readDomainWithoutCollComm</a>( part_dom, data_part );</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>                  <a class="code hl_function" href="classScatter.html#ace98ccb7d5fd754b2ae527ce96876977">mergeDomains</a>(dom, part_dom);</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span> </div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span><span class="comment">// Renseigne dans quel fichier le domaine a ete lu</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>                  dom.<a class="code hl_function" href="classDomaine.html#a092a7a09cc39770fb7549ff29fcd8c8e">set_fichier_lu</a>(nomentree);</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>                  data_part &gt;&gt; liste_bords_periodiques;</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>                  domain_not_built = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>                }</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>              <span class="keywordflow">else</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span> </div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>            }</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>        }</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>        {</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>          <a class="code hl_class" href="classEntree__Brute.html">Entree_Brute</a> data;</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>          fic_hdf.<a class="code hl_function" href="classFichierHDF.html#a4b1e63bb02aebe3cd085af22cdd870af">read_dataset</a>(<span class="stringliteral">&quot;/zone&quot;</span>, <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>(), data);</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span> </div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span><span class="comment">// Feed TRUST objects:</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>          <a class="code hl_function" href="classScatter.html#ad8cdf7a8e4ad0065e9c3e1351aec8a1b">readDomainWithoutCollComm</a>(dom, data);</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>          dom.<a class="code hl_function" href="classDomaine.html#a6d61d3e68f4d08939c40222d942930ac">zones</a>().<a class="code hl_function" href="classZones.html#a858a7732989d35d6899c47857ac135a6">associer_domaine</a>(dom);</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>          dom.<a class="code hl_function" href="classDomaine.html#a092a7a09cc39770fb7549ff29fcd8c8e">set_fichier_lu</a>(nomentree);</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>          data &gt;&gt; liste_bords_periodiques;</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>          domain_not_built = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        }</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span> </div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>      fic_hdf.<a class="code hl_function" href="classFichierHDF.html#ac5d8eb389ee60109c2d60029f442487f">close</a>();</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>    }</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>    {</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>      <a class="code hl_class" href="classLecFicDistribueBin.html">LecFicDistribueBin</a> fichier_binaire;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>      <span class="keywordtype">int</span> isSingleZone = fichier_binaire.<a class="code hl_function" href="classLecFicDistribue.html#a3e80ee949fdea43c15056456d3b30be5">ouvrir</a>(nomentree);</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>      <span class="keywordflow">if</span> (!isSingleZone)</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>        {</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>          mergedZones = 1;</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>          <a class="code hl_class" href="classNom.html">Nom</a> nomentree_with_suffix=nomentree.<a class="code hl_function" href="classNom.html#a67b66f01988827cce6bf1f108b850bda">nom_me</a>(<a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>());</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>          <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>(); i++)</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>            {</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>              <a class="code hl_class" href="classEFichierBin.html">EFichierBin</a> fichier_binaire_part;</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>              <a class="code hl_class" href="classDomaine.html">Domaine</a> part_dom;</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>              std::string tmp = nomentree_with_suffix.<a class="code hl_function" href="classNom.html#a3abda6bfff346bd3aa5118456ccb3d97">getPrefix</a>(<span class="stringliteral">&quot;.Zones&quot;</span>).<a class="code hl_function" href="classNom.html#ad71b1114cce16c93232450de03848dfc">getString</a>();</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>              tmp += <span class="stringliteral">&quot;_&quot;</span>;</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>              tmp += std::to_string(i);</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>              tmp += <span class="stringliteral">&quot;.Zones&quot;</span>;</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>              <a class="code hl_class" href="classNom.html">Nom</a> nomentree_part(tmp);</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>              <span class="keywordtype">int</span> ok = fichier_binaire_part.<a class="code hl_function" href="classEntree__Fichier__base.html#a8e34b235668e94f335cc9ab18dd4e427">ouvrir</a>(nomentree_part);</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>              <span class="keywordflow">if</span>(ok)</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>                {</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>                  <a class="code hl_function" href="classScatter.html#ad8cdf7a8e4ad0065e9c3e1351aec8a1b">readDomainWithoutCollComm</a>( part_dom, fichier_binaire_part );</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>                  <a class="code hl_function" href="classScatter.html#ace98ccb7d5fd754b2ae527ce96876977">mergeDomains</a>(dom, part_dom);</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span> </div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span><span class="comment">// Renseigne dans quel fichier le domaine a ete lu</span></div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>                  dom.<a class="code hl_function" href="classDomaine.html#a092a7a09cc39770fb7549ff29fcd8c8e">set_fichier_lu</a>(nomentree);</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>                  fichier_binaire_part &gt;&gt; liste_bords_periodiques;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>                  fichier_binaire_part.<a class="code hl_function" href="classEntree__Fichier__base.html#aca9165bc1712c1057b4d4b91a7ea4fb4">close</a>();</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>                  domain_not_built = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>                }</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>              <span class="keywordflow">else</span></div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>            }</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>        }</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>        {</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>          <a class="code hl_function" href="classScatter.html#ad8cdf7a8e4ad0065e9c3e1351aec8a1b">readDomainWithoutCollComm</a>(dom, fichier_binaire );</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span> </div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>          dom.<a class="code hl_function" href="classDomaine.html#a6d61d3e68f4d08939c40222d942930ac">zones</a>().<a class="code hl_function" href="classZones.html#a858a7732989d35d6899c47857ac135a6">associer_domaine</a>(dom);</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span><span class="comment">// Renseigne dans quel fichier le domaine a ete lu</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>          dom.<a class="code hl_function" href="classDomaine.html#a092a7a09cc39770fb7549ff29fcd8c8e">set_fichier_lu</a>(nomentree);</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>          fichier_binaire &gt;&gt; liste_bords_periodiques;</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>          fichier_binaire.<a class="code hl_function" href="classEntree__Fichier__base.html#aca9165bc1712c1057b4d4b91a7ea4fb4">close</a>();</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>          domain_not_built = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        }</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>    }</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span> </div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>  <span class="keywordflow">if</span>(domain_not_built)</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    {</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Scatter::lire_domaine\n&quot;</span>;</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The domain on the current process hasn&#39;t been built&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The number of processes you mentionned is probaly higher than the number of zones&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    }</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span> </div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span><span class="comment">// Verification sanitaire: nombre de processeurs = nombre de zones</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span><span class="comment">// (on verifie qu&#39;il n&#39;y a pas de joint avec un processeur inexistant)</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span><span class="comment">// (le check precedent n&#39;est pas suffisant:</span></div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span><span class="comment">// il verifie seulement que le nombre de processeurs n&#39;est pas superieur au nombre de zones)</span></div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>  {</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span> </div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>    <span class="keyword">const</span> <a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>();</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>    <span class="keywordtype">int</span> max_pe_voisin = 0;</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_joints; i++)</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>      {</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> pe_voisin = joints[i].PEvoisin();</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>        <span class="keywordflow">if</span> (pe_voisin &gt;= max_pe_voisin)</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>          max_pe_voisin = pe_voisin;</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>      }</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span> </div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>    max_pe_voisin = (int) <a class="code hl_function" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d">mp_max</a>(max_pe_voisin);</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>    <span class="keywordtype">double</span> ok=1;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>    <span class="keywordflow">if</span> (max_pe_voisin &gt;= <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>()) ok=0;</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>    <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>      {</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>        <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Scatter::lire_domaine\n&quot;</span></div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>             &lt;&lt; <span class="stringliteral">&quot;The domain has been partitioned with at least &quot;</span> &lt;&lt; max_pe_voisin &lt;&lt; <span class="stringliteral">&quot; &quot;</span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>             &lt;&lt; <span class="stringliteral">&quot;zones whereas the number of processes asked is &quot;</span> &lt;&lt; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>        <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The number of zones and number of processes must match.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>        <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>      }</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>  }</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span> </div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span><span class="comment">// tri des joints dans l&#39;ordre croissant des procs</span></div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>  <a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>();</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>  <a class="code hl_function" href="classScatter.html#ac5dd6d7661490708649976cde509f480">trier_les_joints</a>(joints);</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>  <a class="code hl_function" href="communications_8cpp.html#a11460f0a3e3fa43ee1ed51b9b881be89">envoyer_all_to_all</a>(mergedZones, mergedZones);</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>  <a class="code hl_function" href="classScatter.html#a86c9311713284ed6591da95c7eb9411d">check_consistancy_remote_items</a>( dom, mergedZones );</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>  dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a7299f36361dd10ed56d008143f517bfe">check_zone</a>();</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span> </div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span><span class="comment">// PL : pas tout a fait exact le nombre affiche de sommets, on compte plusieurs fois les sommets des joints...</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>  <span class="keywordtype">int</span> nbsom = <a class="code hl_function" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd">mp_sum</a>(dom.<a class="code hl_function" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f">les_sommets</a>().<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0));</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Number of nodes: &quot;</span> &lt;&lt; nbsom &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span> </div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>  <a class="code hl_function" href="classScatter.html#a1874139ffd29d5a68191bc7828d3a5bd">init_sequential_domain</a>(dom);</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span> </div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span><span class="comment">// merged zones need to reorder faces of periodic borders</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> myZoneWasMerged = mergedZones[<a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>()];</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>  <span class="keywordflow">if</span>(myZoneWasMerged)</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    {</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> bord_perio = 0; bord_perio &lt; liste_bords_periodiques.<a class="code hl_function" href="classvect__impl.html#aa4ead68b9a3b2cba74be2766cbafcad4">size</a>(); bord_perio++)</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>        {</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>          <a class="code hl_class" href="classNom.html">Nom</a> bp_nom = liste_bords_periodiques(bord_perio);</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>          <a class="code hl_class" href="classBord.html">Bord</a>&amp; bord = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a5d657569d5c442d3395f74a69dbbb96c">bord</a>(bp_nom);</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>          <span class="keywordflow">if</span>(bord.<a class="code hl_function" href="classFrontiere.html#a2504bec98a459f1f04ce8282cfd58128">nb_faces</a>() == 0)</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>          <a class="code hl_class" href="classTRUSTArray.html">ArrOfDouble</a> direction_perio(<a class="code hl_variable" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>          <a class="code hl_function" href="classReordonner__faces__periodiques.html#ad93560d3838d3516deb892d88b47dedf">Reordonner_faces_periodiques::chercher_direction_perio</a>(direction_perio, dom, bp_nom);</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>          <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; faces = bord.<a class="code hl_function" href="classFrontiere.html#a8fe4c692079f8d43642f13ce07a75830">faces</a>().<a class="code hl_function" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>();</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>          <span class="keywordtype">double</span> epsilon = <a class="code hl_variable" href="classObjet__U.html#a7447e25c68cc8d3a1c06cf99f0565cff">precision_geom</a>;</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>          <a class="code hl_function" href="classReordonner__faces__periodiques.html#a3d177f6fcafb470513dad54fe4d9f79a">Reordonner_faces_periodiques::reordonner_faces_periodiques</a>(dom, faces, direction_perio, epsilon);</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>        }</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    }</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span> </div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>  <a class="code hl_function" href="Statistiques_8h.html#a3c199d09f12b2698e7ad0894e2dd7835">statistiques</a>().<a class="code hl_function" href="classStatistiques.html#a0faf52d1b518f5b0b2177f22efcc222d">end_count</a>(stats);</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>  <a class="code hl_function" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">barrier</a>();</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>}</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span> </div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span><span class="comment">// Precondition:</span></div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span><span class="comment">// - Les joints(i).faces et joints(i).sommets doivent etre remplis</span></div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span><span class="comment">// - Les joints(i).joint_item(Joint::SOMMET).items_communs()</span></div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span><span class="comment">// doivent etre remplis.</span></div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span><span class="comment">//</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span><span class="comment">//</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span><span class="comment">//</span></div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span><span class="comment">//! Construction des structures paralleles du domaine et de la zone&lt;br&gt;(determination des elements distants en fonction de l&#39;epaisseur de joint,&lt;br&gt;determination des sommets distants,&lt;br&gt;creation des sommets et des elements virtuels)</span></div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno"><a class="line" href="classScatter.html#af6b88297583bd92c6ca3814bc532b8be">  705</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#af6b88297583bd92c6ca3814bc532b8be">Scatter::construire_structures_paralleles</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom, <span class="keyword">const</span> <a class="code hl_class" href="classNoms.html">Noms</a>&amp; liste_bords_periodiques)</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>{</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span><span class="comment">// D&#39;abord: supprimer les structures &quot;sequentielles&quot; associees aux sommets et elements lors de la lecture:</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>  {</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>    <a class="code hl_class" href="classMD__Vector.html">MD_Vector</a> md_nul;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    dom.<a class="code hl_function" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f">les_sommets</a>().<a class="code hl_function" href="classTRUSTTab.html#af1fb04fa5f95975ab45294879e8c8485">set_md_vector</a>(md_nul);</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#ac115e8342be89afb882b7b61cc343267">les_elems</a>().<a class="code hl_function" href="classTRUSTTab.html#af1fb04fa5f95975ab45294879e8c8485">set_md_vector</a>(md_nul);</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>  }</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span><span class="comment">// L&#39;ordre d&#39;appel est important:</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>  <a class="code hl_function" href="classScatter.html#a589c34e38a91b69c2e4b43c77bf2bd9d">calculer_espace_distant_elements</a>(dom);</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span> </div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>  <span class="keywordflow">if</span> (liste_bords_periodiques.<a class="code hl_function" href="classvect__impl.html#aa4ead68b9a3b2cba74be2766cbafcad4">size</a>() &gt; 0)</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>    <a class="code hl_function" href="classScatter.html#a07723d3697739057d469082a4c4a554f">corriger_espace_distant_elements_perio</a>(dom, liste_bords_periodiques);</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span> </div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>  <a class="code hl_function" href="classScatter.html#ab8e91081aefb68562533279f2446e988">calculer_nb_items_virtuels</a>(dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>(), <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>);</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span> </div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span><span class="comment">// Determination des sommets distants en fonction des elements distants</span></div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>  <a class="code hl_function" href="classScatter.html#a9cbfa7bf4fe3b741a56309931f4cf752">calculer_espace_distant_sommets</a>(dom, liste_bords_periodiques);</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span> </div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span><span class="comment">// Creation des espaces distants virtuels et items communs pour les tableaux</span></div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span><span class="comment">// sommets et elements:</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>  <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; sommets = dom.<a class="code hl_function" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f">les_sommets</a>();</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>  <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; elements = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#ac115e8342be89afb882b7b61cc343267">les_elems</a>();</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>  <a class="code hl_class" href="classMD__Vector.html">MD_Vector</a> md_sommets, md_elements;</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>  <a class="code hl_function" href="classScatter.html#ae226bc9cab92d0a02b88e2fe014e4a44">construire_md_vector</a>(dom, sommets.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0), <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>, md_sommets);</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>  <a class="code hl_function" href="classScatter.html#ae226bc9cab92d0a02b88e2fe014e4a44">construire_md_vector</a>(dom, elements.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0), <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>, md_elements);</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>  <a class="code hl_function" href="classMD__Vector__tools.html#aeac48ec589f525bafdfc83244a5d4dea">MD_Vector_tools::creer_tableau_distribue</a>(md_sommets, sommets);</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>  sommets.<a class="code hl_function" href="classTRUSTVect.html#a7df489e59381e175b1df9cef48355fe5">echange_espace_virtuel</a>();</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>  <a class="code hl_function" href="classScatter.html#a33c68e7eff97ee92b457b50e8e3ad58d">construire_espace_virtuel_traduction</a>(md_elements <span class="comment">/* type index */</span>,</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>                                       md_sommets <span class="comment">/* type valeur */</span>,</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>                                       elements);</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span><span class="comment">// Reordonner les faces de joint (correspondance implicite avec le pe voisin)</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>  <a class="code hl_function" href="classScatter.html#a0a86d55709f7e53fcf40a09de74033cf">reordonner_faces_de_joint</a>(dom);</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>}</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span> </div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span><span class="comment">//! Tri des joints dans l&#39;ordre croissant des processeurs</span></div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno"><a class="line" href="classScatter.html#ac5dd6d7661490708649976cde509f480">  743</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#ac5dd6d7661490708649976cde509f480">Scatter::trier_les_joints</a>(<a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints)</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>{</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> pe_voisins(nb_joints);</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>  <span class="keywordflow">for</span> (i = 0; i &lt; nb_joints; i++)</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    pe_voisins[i] = joints[i].PEvoisin();</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>  pe_voisins.<a class="code hl_function" href="classTRUSTArray.html#a6380491c50b8df1bc144b70836b73da5">ordonne_array</a>();</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span><span class="comment">// Copie la liste des joints</span></div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>  <a class="code hl_class" href="classJoints.html">Joints</a> anciens_joints(joints);</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>  <span class="keywordflow">for</span> (i = 0; i &lt; nb_joints; i++)</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>    {</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span><span class="comment">// On traite le processeur pe_voisin:</span></div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> pe_voisin = pe_voisins[i];</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span><span class="comment">// Ou est le joint avec ce processeur dans l&#39;ancienne liste ?</span></div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>      <span class="keywordtype">int</span> i_old;</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>      <span class="keywordflow">for</span> (i_old = 0; i_old &lt; nb_joints; i_old++)</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>        <span class="keywordflow">if</span> (anciens_joints[i_old].PEvoisin() == pe_voisin)</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>          <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>      assert(i_old &lt; nb_joints);</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>      joints[i] = anciens_joints[i_old];</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>    }</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>}</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span> </div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span><span class="comment"></span> </div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span><span class="comment">//! Methode outil pour retirer les doublons dans un tableau.</span></div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">  769</a></span><span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">array_trier_retirer_doublons</a>(<a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; array)</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>{</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> size_ = array.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>  <span class="keywordflow">if</span> (size_ == 0)</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span><span class="comment">// Tri dans l&#39;ordre croissant</span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>  array.<a class="code hl_function" href="classTRUSTArray.html#a6380491c50b8df1bc144b70836b73da5">ordonne_array</a>();</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span><span class="comment">// Retire les doublons</span></div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>  <span class="keywordtype">int</span> new_size_ = 1;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>  <span class="keywordtype">int</span> last_value = array[0];</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; size_; i++)</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>    {</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>      <span class="keywordflow">if</span> (array[i] != last_value)</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>        {</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>          array[new_size_] = last_value = array[i];</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>          new_size_++;</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>        }</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>    }</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>  array.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(new_size_);</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>}</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span> </div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span> </div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span><span class="comment">//</span></div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span><span class="comment">//</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span><span class="comment">//</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span><span class="comment">//</span></div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span><span class="comment">//! Retire de &quot;sorted_array&quot; les elements qui figurent dans &quot;sorted_elements&quot;.&lt;br&gt;Les deux tableaux doivent etre initialement ordonnes dans l&#39;ordre croissant.&lt;br&gt;Exemple:&lt;br&gt;En entree sorted_array=[1,4,9,10,12,18], sorted_elements=[3,5,9,10,18,25]&lt;br&gt;En sortie sorted_array=[1,4,12]</span></div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#ab0ae6267baccb3a639f4a8ff795edd35">  797</a></span><span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="Scatter_8cpp.html#ab0ae6267baccb3a639f4a8ff795edd35">array_retirer_elements</a>(<a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; sorted_array, <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; sorted_elements_list)</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>{</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>  <span class="keywordtype">int</span> i_read;      <span class="comment">//!&lt; Index dans sorted_array (en lecture)</span></div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>  <span class="keywordtype">int</span> i_write = 0; <span class="comment">//!&lt; Index dans sorted_array (la ou on ecrit)</span></div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>  <span class="keywordtype">int</span> j = 0;       <span class="comment">//!&lt; Index dans sorted_elements</span></div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> n = sorted_array.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> m = sorted_elements_list.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>  <span class="keywordflow">if</span> (m == 0)</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span> </div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>  <span class="keywordtype">int</span> j_value = sorted_elements_list[j];</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>  <span class="keywordflow">for</span> (i_read = 0; i_read &lt; n; i_read++)</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>    {</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span><span class="comment">// Tableau trie ?</span></div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>      assert(i_read == 0 || sorted_array[i_read] &gt; sorted_array[i_read-1]);</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> i_value = sorted_array[i_read];</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span> </div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span><span class="comment">// On avance dans la liste sorted_elements jusqu&#39;a trouver ou depasser</span></div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span><span class="comment">// l&#39;element i_value</span></div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>      <span class="keywordflow">while</span> ((j_value &lt; i_value) &amp;&amp; (j &lt; m))</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>        {</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>          j++;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>          <span class="keywordflow">if</span> (j == m)</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>          assert(sorted_elements_list[j] &gt; j_value); <span class="comment">//!&lt; Tableau trie ?</span></div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>          j_value = sorted_elements_list[j];</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>        }</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span> </div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>      <span class="keywordflow">if</span> (j == m || j_value != i_value)</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>        {</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span><span class="comment">// i_value ne figure pas dans le tableau sorted_elements, on le garde</span></div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>          sorted_array[i_write] = i_value;</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>          i_write++;</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>        }</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    }</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>  sorted_array.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(i_write);</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>}</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span> </div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span> </div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span> </div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span><span class="comment">// Si un joint avec le &quot;pe&quot; existe, renvoie son indice,</span></div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span><span class="comment">// sion cree un nouveau joint et renvoie son indice.</span></div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#aad63bf1e3d986487b1fa8bc7e482c368">  839</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="Scatter_8cpp.html#aad63bf1e3d986487b1fa8bc7e482c368">ajouter_joint</a>(<a class="code hl_class" href="classZone.html">Zone</a>&amp; zone, <span class="keywordtype">int</span> pe)</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>{</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>  <a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints = zone.<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>();</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> i_joint = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span> </div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>  {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; i_joint; i++)</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>      <span class="keywordflow">if</span> (joints[i].PEvoisin() == pe)</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>        <span class="keywordflow">return</span> i;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>  }</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span> </div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>  <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint = joints.<a class="code hl_function" href="classList__Joint.html#af5bca88a907fbe4086842805696cfe2f">add</a>(<a class="code hl_class" href="classJoint.html">Joint</a>());</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>  joint.<a class="code hl_function" href="classFrontiere.html#a295f03b58a716affaeb385b4146f134f">nommer</a>(<a class="code hl_class" href="classNom.html">Nom</a>(<span class="stringliteral">&quot;Joint_&quot;</span>)+<a class="code hl_class" href="classNom.html">Nom</a>(pe));</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>  joint.<a class="code hl_function" href="classFrontiere.html#af927b5d4fc1fd086ba91e916f61badee">associer_zone</a>(zone);</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>  <span class="keywordtype">int</span> ep = (i_joint &gt; 0) ? joints[0].epaisseur() : 1;</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>  joint.<a class="code hl_function" href="classJoint.html#a130c206de5fddabf173bb3e4604cefa3">affecte_epaisseur</a>(ep);</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>  joint.<a class="code hl_function" href="classJoint.html#a3c4ef6a648dd0b5d4aa072a1f4e3c64e">affecte_PEvoisin</a>(pe);</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span> </div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span><span class="comment">// Initialiser tous les tableaux des joints supplementaires.</span></div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span><span class="comment">// Note BM: pour bien faire, il faudrait initialiser uniquement</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span><span class="comment">// certains tableaux (ceux qui sont deja initialises pour les</span></div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span><span class="comment">// joints existants), mais c&#39;est plus complique a faire...</span></div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>  {</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; 5; t++)</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>      {</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>        <a class="code hl_enumeration" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926">Joint::Type_Item</a> type;</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>        <span class="keywordflow">switch</span>(t)</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>          {</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>          <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>            type = <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>          <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>            type = <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>;</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>          <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>            type = <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ab255b88987fc7f64c215c958cbe2af6b">Joint::FACE</a>;</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>          <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>            type = <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a7816c69408b98e1161f1f54e7b6b1cb4">Joint::ARETE</a>;</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>          <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>            type = <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926af1ca60fd524298b1cb3e07b26a2d63c8">Joint::FACE_FRONT</a>;</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>          <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>            <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Scatter.cpp : ajouter_joint&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span><span class="comment">// Pour eviter le warning suivant sur gcc 3.4:</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span><span class="comment">// Scatter.cpp:416: warning: &#39;type&#39; might be used uninitialized in this function</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span>            type = <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>;</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span>            <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>          }</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>        <a class="code hl_class" href="classJoint__Items.html">Joint_Items</a>&amp; data = joint.<a class="code hl_function" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de">set_joint_item</a>(type);</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>        data.<a class="code hl_function" href="classJoint__Items.html#aa01c4601d506c658f4f1d45e66951ce0">set_items_communs</a>();</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>        data.<a class="code hl_function" href="classJoint__Items.html#a13add264f4ad36ef4bddbfc1b7bdb817">set_items_distants</a>();</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>        data.<a class="code hl_function" href="classJoint__Items.html#a956b3926baa83e9d5ab9848adf7f822a">set_nb_items_virtuels</a>(0);</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>        data.<a class="code hl_function" href="classJoint__Items.html#a95cc27c0fd65e2444a468df69a211057">set_renum_items_communs</a>().<a class="code hl_function" href="classTRUSTTab.html#a33c4f72e40e49cdb553fc7311fe656bc">resize</a>(0,2);</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>      }</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>  }</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span> </div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>  <span class="keywordflow">return</span> i_joint;</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>}</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span> </div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span> </div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span><span class="comment">// Precondition:</span></div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span><span class="comment">// Methode a appeler simultanement par tous les processeurs.</span></div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span><span class="comment">//</span></div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span><span class="comment">//</span></div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span><span class="comment">//</span></div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span><span class="comment">//</span></div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span><span class="comment">//</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span><span class="comment">//</span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span><span class="comment">//</span></div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span><span class="comment">//</span></div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span><span class="comment">//</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span><span class="comment">//</span></div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span><span class="comment">//</span></div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span><span class="comment">//</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span><span class="comment">//</span></div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span><span class="comment">//</span></div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span><span class="comment">//</span></div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span><span class="comment">//</span></div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span><span class="comment">//</span></div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span><span class="comment">//</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span><span class="comment">//</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span><span class="comment">//</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span><span class="comment">//</span></div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span><span class="comment">//</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span><span class="comment">//</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span><span class="comment">//! Determination des items distants en fonction d&#39;une liste d&#39;items&lt;br&gt;a envoyer et de listes d&#39;items communs.&lt;br&gt;exemple:&lt;br&gt;calculer_espace_distant_sommets&lt;br&gt;calculer_espace_distant_faces&lt;br&gt;Pour les sommets: les &quot;items_to_send&quot; sont les sommets des elements distants,&lt;br&gt;Si le processeur A veut que le processeur B connaisse le sommet i,&lt;br&gt;il faut que le processeur qui possede le sommet l&#39;envoie a B.&lt;br&gt;Le processeur qui &quot;possede&quot; le sommet est le plus petit parmi les PEs&lt;br&gt;qui partagent ce sommet (item commun) (requis pour pouvoir faire&lt;br&gt;echange_item_commun et echange_espace_virtuel en une seule passe).&lt;br&gt;De plus, si plusieurs processeurs demandent a envoyer le meme sommet&lt;br&gt;au meme processeur, il ne faut l&#39;inserer qu&#39;une seule fois dans l&#39;espace&lt;br&gt;distant.&lt;br&gt;Parametre: joints&lt;br&gt;Signification: les joints dans lesquels on veut calculer un espace distant&lt;br&gt;Parametre: nb_items_reels&lt;br&gt;Signification: le nombre d&#39;items reels (sommets, faces, ...)&lt;br&gt;Parametre: items_to_send&lt;br&gt;Signification: un vecteur de &quot;nproc()&quot; tableaux, pour chaque processeur,&lt;br&gt;la liste des items qu&#39;on veut lui envoyer (exemple:tous les sommets des&lt;br&gt;elements distants, ou toutes les faces)&lt;br&gt;Parametre: type_item&lt;br&gt;Signification: les items dont on veut calculer l&#39;espace distant</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno"><a class="line" href="classScatter.html#adce8ba9c504e8a039671e69f5d074ded">  928</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#adce8ba9c504e8a039671e69f5d074ded">Scatter::calculer_espace_distant</a>(<a class="code hl_class" href="classZone.html">Zone</a>&amp;                  zone,</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>                                      <span class="keyword">const</span> <span class="keywordtype">int</span>           nb_items_reels,</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>                                      <span class="keyword">const</span> <a class="code hl_class" href="classTRUST__Vector.html">ArrsOfInt</a>&amp; items_to_send,</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>                                      <span class="keyword">const</span> <a class="code hl_enumeration" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926">Joint::Type_Item</a> type_item)</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>{</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>  assert(items_to_send.<a class="code hl_function" href="classvect__impl.html#aa4ead68b9a3b2cba74be2766cbafcad4">size</a>() == <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>());</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span> </div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>  <a class="code hl_function" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">Process::Journal</a>() &lt;&lt; <span class="stringliteral">&quot;Scatter::calculer_espace_distant type_item=&quot;</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>                     &lt;&lt; (int)type_item &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span> </div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>  <a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints = zone.<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>();</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span> </div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span><span class="comment">// D&#39;abord, on determine pour tous les items le numero du PE proprietaire:</span></div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span><span class="comment">// Pour chaque item du domaine:</span></div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span><span class="comment">// colonne 0 : indice du item sur le PE proprietaire (index_on_pe_owner)</span></div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span><span class="comment">// colonne 1 : numero du PE proprietaire (le plus petit pe qui partage l&#39;item)</span></div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>  <a class="code hl_class" href="classTRUSTTab.html">IntTab</a> num_global_items(nb_items_reels, 2);</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>  {</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> moi = <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>();</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>    <span class="keywordflow">for</span> (i = 0; i &lt; nb_items_reels; i++)</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>      {</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>        num_global_items(i, 0) = i;</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>        num_global_items(i, 1) = moi;</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>      }</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>      {</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>        <span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp;   joint              = joints[i_joint];</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>        <span class="keyword">const</span> <span class="keywordtype">int</span>   pe_voisin          = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>        <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; renum_items_communs= joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(type_item).<a class="code hl_function" href="classJoint__Items.html#a78f3342c38b3331b3b57b7b4b9dbf94c">renum_items_communs</a>();</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>        <span class="keyword">const</span> <span class="keywordtype">int</span>   nb_items_communs   = renum_items_communs.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0);</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>        <span class="keywordflow">for</span> (i = 0; i &lt; nb_items_communs; i++)</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>          {</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> num_item_distant = renum_items_communs(i, 0);</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> num_item_local   = renum_items_communs(i, 1);</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> pe_actuel = num_global_items(num_item_local, 1);</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>            <span class="keywordflow">if</span> (pe_voisin &lt; pe_actuel)</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>              {</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>                num_global_items(num_item_local, 0) = num_item_distant;</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span>                num_global_items(num_item_local, 1) = pe_voisin;</div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span>              }</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>          }</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>      }</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>  }</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span> </div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>  <a class="code hl_class" href="classSchema__Comm.html">Schema_Comm</a> schema_comm;</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a> = <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>();</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span> </div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span><span class="comment">// Premiere etape : on envoie au processeur proprietaire des items</span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span><span class="comment">// la liste des items qu&#39;il faut envoyer et a quel processeur il</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span><span class="comment">// faut les envoyer.</span></div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span><span class="comment">// Si le processeur A doit envoyer l&#39;element E au processeur B,</span></div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span><span class="comment">// et que cet element utilise un item S qui appartient au processeur C,</span></div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span><span class="comment">// alors on envoie a C le message :</span></div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span><span class="comment">// &quot;tu dois mettre le item S dans l&#39;espace distant du processeur B&quot;</span></div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span> </div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span><span class="comment">// On prepare un schema de communication entre les voisins:</span></div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span><span class="comment">// Processeur emetteur : le processeur qui possede l&#39;element distant,</span></div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span><span class="comment">// Processeur recepteur: le processeur qui possede un item de l&#39;element.</span></div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span><span class="comment">// Ces processeurs sont voisins par les joints existants.</span></div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> liste_voisins(nb_joints);</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span><span class="comment">// int i_joint;</span></div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    liste_voisins[i_joint] = joints[i_joint].PEvoisin();</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span> </div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ad11c9b47999c294c26ae4df8d2bbd57b">set_send_recv_pe_list</a>(liste_voisins, liste_voisins, 1 <span class="comment">/* me_to_me */</span>);</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ac574385d716aca94a48373ab71f37e4f">begin_comm</a>();</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>  {</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span><span class="comment">// et pour chaque item a envoyer, on envoie au processeur qui possede l&#39;item (pe_item_owner):</span></div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span><span class="comment">// - l&#39;indice local du item chez lui (item_distant),</span></div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span><span class="comment">// - le numero du processeur a qui il doit l&#39;envoyer (pe_destination)</span></div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_procs = <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>();</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pe_destination = 0; pe_destination &lt; nb_procs; pe_destination++)</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>      {</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>        <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items    = items_to_send[pe_destination];</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>        <span class="keyword">const</span> <span class="keywordtype">int</span>     nb_items = items.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_item = 0; i_item &lt; nb_items; i_item++)</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>          {</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> item          = items[i_item];</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> item_distant  = num_global_items(item, 0);</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> pe_item_owner = num_global_items(item, 1);</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span><span class="comment">// On envoie le numero du item distant et dans quel joint il</span></div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span><span class="comment">// faut le mettre.</span></div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span><span class="comment">// Si pe_joint == pe_destination, litem est forcement deja</span></div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span><span class="comment">// connu par l&#39;autre processeur, inutile de l&#39;envoyer</span></div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>            <span class="keywordflow">if</span> (pe_item_owner != pe_destination)</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>              schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a681259723c5c1b85f419433de7aa78d7">send_buffer</a>(pe_item_owner) &lt;&lt; item_distant &lt;&lt; pe_destination;</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>          }</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>      }</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>  }</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span> </div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span><span class="comment">// Echange des messages</span></div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a516f48fb0494781b373d7b343388ed44">echange_taille_et_messages</a>();</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span> </div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span><span class="comment">// Reception des items distants. On lit tous les buffers et on</span></div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span><span class="comment">// range les items dans &quot;items_distants&quot; par processeur destination.</span></div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span><span class="comment">// Pour chaque processeur voisin, la liste des items distants a envoyer:</span></div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>  <a class="code hl_class" href="classTRUST__Vector.html">ArrsOfInt</a> items_distants(<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>);</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>  {</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span><span class="comment">// Pour append_array</span></div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pe = 0; pe &lt; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>; pe++)</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>      items_distants[pe].set_smart_resize(1);</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>  }</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span> </div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span><span class="comment">// Boucle sur tous les processeurs (pe_source) qui m&#39;ont envoye des messages:</span></div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span><span class="comment">// On boucle sur les processeurs voisins, plus moi-meme:</span></div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_source = 0; i_source &lt; nb_joints + 1; i_source++)</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>    {</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> pe_source =</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>        (i_source &lt; nb_joints) ? liste_voisins[i_source] : <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>();</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span> </div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>      <a class="code hl_class" href="classEntree.html">Entree</a>&amp; buffer = schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a85c05ef4688c20afa429264ebac8fdcf">recv_buffer</a>(pe_source);</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span><span class="comment">// Boucle &quot;tant que le buffer n&#39;est pas vide&quot;</span></div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>      <span class="keywordflow">while</span>(1)</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>        {</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>          <span class="keywordtype">int</span> item_distant; <span class="comment">//!&lt; Indice du item distant</span></div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>          <span class="keywordtype">int</span> pe_distant;   <span class="comment">//!&lt; Numero du pe a qui il faut envoyer le item</span></div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>          buffer &gt;&gt; item_distant &gt;&gt; pe_distant;</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>          <span class="keywordflow">if</span> (buffer.<a class="code hl_function" href="classEntree.html#abcd397cb0b99fbe7c6f01047d8cec89c">eof</a>())</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>          assert(pe_distant != <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>());</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>          <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; array = items_distants[pe_distant];</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>          array.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(item_distant);</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>        }</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>    }</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a7dd8d56caee9c6759850bb7c38e31c8b">end_comm</a>();</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span> </div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span><span class="comment">// On retire les doublons et les items deja connus par le processeur voisin:</span></div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>  {</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span><span class="comment">// Liste des joints correspondant a chaque pe</span></div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>    <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> joint_of_pe(<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>);</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>    joint_of_pe = -1;</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>      {</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> pe = joints[i_joint].PEvoisin();</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>        joint_of_pe[pe] = i_joint;</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>      }</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span><span class="comment">// Liste des items deja connus par le processeur voisin (items communs)</span></div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span><span class="comment">// tries dans l&#39;ordre croissant</span></div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>    <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> items_communs_tri;</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>    items_communs_tri.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pe = 0; pe &lt; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>; pe++)</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span>      {</div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>        <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items = items_distants[pe];</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span><span class="comment">// Retirer les doublons:</span></div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>        <a class="code hl_function" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">array_trier_retirer_doublons</a>(items);</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span><span class="comment">// Retirer les items deja connus:</span></div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> i_joint = joint_of_pe[pe];</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>        <span class="keywordflow">if</span> (i_joint &gt;= 0)</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>          {</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>            items_communs_tri =</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>              joints[i_joint].joint_item(type_item).items_communs();</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>            items_communs_tri.<a class="code hl_function" href="classTRUSTArray.html#a6380491c50b8df1bc144b70836b73da5">ordonne_array</a>();</div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>            <a class="code hl_function" href="Scatter_8cpp.html#ab0ae6267baccb3a639f4a8ff795edd35">array_retirer_elements</a>(items, items_communs_tri);</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>          }</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>          {</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span><span class="comment">// Pas d&#39;item commun avec ce pe.</span></div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>          }</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>      }</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>  }</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span> </div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span><span class="comment">// Des espaces distants peuvent etre crees sur des processeurs avec</span></div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span><span class="comment">// qui il n&#39;existe pas encore de joint. On ajoute les nouveaux joints.</span></div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>  {</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>    <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> nouveaux_voisins;</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>    nouveaux_voisins.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>; i++)</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>      <span class="keywordflow">if</span> (items_distants[i].size_array() &gt; 0)</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>        nouveaux_voisins.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(i);</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span> </div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span><span class="comment">// On ajoute les nouveaux joints</span></div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>    <a class="code hl_function" href="classScatter.html#a472e9375c5a64518e7b50542d2209995">ajouter_joints</a>(zone, nouveaux_voisins);</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>    <a class="code hl_function" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">Process::Journal</a>() &lt;&lt; <span class="stringliteral">&quot; News joints created : (ArrOfInt) &quot;</span></div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>                       &lt;&lt; nouveaux_voisins &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>  }</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span> </div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>  <a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints_non_const = zone.<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>();</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_new_joints = joints_non_const.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span><span class="comment">// Remplissage des tableaux d&#39;items distants</span></div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_new_joints; i_joint++)</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>    {</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>      <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint = joints_non_const[i_joint];</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> pe = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>      <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; joint_items_distants = joint.<a class="code hl_function" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de">set_joint_item</a>(type_item).<a class="code hl_function" href="classJoint__Items.html#a13add264f4ad36ef4bddbfc1b7bdb817">set_items_distants</a>();</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>      joint_items_distants = items_distants[pe];</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>      <a class="code hl_function" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">Process::Journal</a>() &lt;&lt; <span class="stringliteral">&quot; Joint with PE:&quot;</span> &lt;&lt; pe</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>                         &lt;&lt; <span class="stringliteral">&quot; Number of remote items : &quot;</span></div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>                         &lt;&lt; joint_items_distants.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>() &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>    }</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span><span class="comment">// Remplissage du nombre d&#39;items virtuels</span></div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>  <a class="code hl_function" href="classScatter.html#ab8e91081aefb68562533279f2446e988">calculer_nb_items_virtuels</a>(joints_non_const, type_item);</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>}</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a554d338bda1a27579f9fb08e6a0168b9"> 1124</a></span><span class="keyword">inline</span> <a class="code hl_class" href="classNom.html">Nom</a> <a class="code hl_function" href="Scatter_8cpp.html#a554d338bda1a27579f9fb08e6a0168b9">endian</a>()</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>{</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>  <span class="keywordtype">int</span> x = 1;</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>  <span class="keywordflow">if</span>(*(<span class="keywordtype">char</span> *)&amp;x == 1)</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;little-endian&quot;</span>;</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;big-endian&quot;</span>;</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>}</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span><span class="comment">// Precondition:</span></div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span><span class="comment">// Methode a appeler simultanement par tous les processeurs.</span></div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span><span class="comment">//</span></div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span><span class="comment">//</span></div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span><span class="comment">//</span></div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span><span class="comment">//</span></div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span><span class="comment">//</span></div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span><span class="comment">//</span></div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span><span class="comment">//! Ajoute des joints avec tous les pe de pe_voisins.&lt;br&gt;Pour que l&#39;ensemble des joints soit symetrique,&lt;br&gt;on en cree aussi un joint sur le processeur destination:&lt;br&gt;Si A ajoute un joint avec B, alors B ajoute un joint avec A.&lt;br&gt;On trie les joints par ordre croissant du numero de PE.&lt;br&gt;ATTENTION: les joints sont donc reordonnes !&lt;br&gt;On met dans pe_voisins la liste des joints effectivement crees.</span></div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"><a class="line" href="classScatter.html#a472e9375c5a64518e7b50542d2209995"> 1142</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a472e9375c5a64518e7b50542d2209995">Scatter::ajouter_joints</a>(<a class="code hl_class" href="classZone.html">Zone</a>&amp; zone,</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>                             <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; pe_voisins)</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>{</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>  <a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints = zone.<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>();</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> liste_pe;</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>  pe_voisins.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>  liste_pe.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span><span class="comment">// Rendre les joints symetriques (si A-&gt;B alors B-&gt;A) :</span></div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>  {</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span><span class="comment">// On met dans liste pe la &quot;transposee&quot; de la liste des pe_voisins:</span></div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span><span class="comment">// liste des processeurs chez qui mon numero est dans &quot;pe_voisins&quot;.</span></div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>    <a class="code hl_function" href="communications_8cpp.html#a38c9e2f958081bff6f390b56ec939523">reverse_send_recv_pe_list</a>(pe_voisins, liste_pe);</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> n = liste_pe.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span><span class="comment">// On concatene les deux listes.</span></div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>      pe_voisins.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(liste_pe[i]);</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>    <a class="code hl_function" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">array_trier_retirer_doublons</a>(pe_voisins);</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    liste_pe.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(0);</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>  }</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span><span class="comment">// On retire de pe_voisins les pe pour lesquels un joint existe deja</span></div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span>  {</div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> n = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>    liste_pe.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(n);</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>      liste_pe[i] = joints[i].PEvoisin();</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>    <a class="code hl_function" href="Scatter_8cpp.html#ab0ae6267baccb3a639f4a8ff795edd35">array_retirer_elements</a>(pe_voisins, liste_pe);</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>  }</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span><span class="comment">// Ajouter les nouveaux joints et trier par ordre croissant</span></div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span><span class="comment">// Aujourd&#39;hui (2/11/2005) Liste::inserer ne permet pas d&#39;inserer</span></div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span><span class="comment">// en debut de liste. Donc inutilisable. Methode bourrin:</span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>  {</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> n = pe_voisins.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>      <a class="code hl_function" href="Scatter_8cpp.html#aad63bf1e3d986487b1fa8bc7e482c368">ajouter_joint</a>(zone, pe_voisins[i]);</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>    <a class="code hl_function" href="classScatter.html#ac5dd6d7661490708649976cde509f480">trier_les_joints</a>(joints);</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>  }</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>}</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span> </div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span><span class="comment">// Precondition: les elements distants et les items_communs du type_item</span></div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span><span class="comment">// doivent avoir ete remplis.</span></div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span><span class="comment">//</span></div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span><span class="comment">//</span></div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span><span class="comment">//</span></div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span><span class="comment">//</span></div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span><span class="comment">//</span></div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span><span class="comment">//</span></div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span><span class="comment">//</span></div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span><span class="comment">//</span></div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span><span class="comment">//</span></div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span><span class="comment">//</span></div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span><span class="comment">//</span></div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span><span class="comment">//</span></div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span><span class="comment">//</span></div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span><span class="comment">//</span></div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span><span class="comment">//</span></div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span><span class="comment">//</span></div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span><span class="comment">//</span></div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span><span class="comment">//</span></div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span><span class="comment">//</span></div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span><span class="comment">//</span></div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span><span class="comment">//</span></div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span><span class="comment">//</span></div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span><span class="comment">//</span></div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span><span class="comment">//</span></div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span><span class="comment">//</span></div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span><span class="comment">//</span></div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span><span class="comment">//! Methode generique pour calculer l&#39;espace distant d&#39;un type d&#39;items geometrique&lt;br&gt;(sommet, face, arete) en fonction de l&#39;espace distant des elements:&lt;br&gt;Les &quot;type_item&quot; distants (pour type_item = sommet face ou arete) sont&lt;br&gt;les &quot;type_item&quot; attaches aux elements distants.&lt;br&gt;Exemple : les sommets distants sont tous les sommets de tous les elements&lt;br&gt;distants.&lt;br&gt;Voir aussi:&lt;br&gt;Scatter::calculer_espace_distant_sommets&lt;br&gt;Scatter::calculer_espace_distant_faces&lt;br&gt;Parametre: zone&lt;br&gt;Signification: bah, la zone quoi...&lt;br&gt;Parametre: type_item&lt;br&gt;Signification: le type des items dont on veut calculer l&#39;espace distant&lt;br&gt;Parametre: connectivite_elem_item&lt;br&gt;Signification: le tableau qui donne pour chaque element de la zone les&lt;br&gt;indices des items de cet element. On n&#39;utilise que la partie reele du&lt;br&gt;tableau (logiquement, la partie virtuelle n&#39;existe pas encore).&lt;br&gt;(exemple: zone().les_elems() pour type_item==SOMMET ou zone_VF().face_sommets()&lt;br&gt;pour type_item==FACE)&lt;br&gt;Parametre: nb_items_reels&lt;br&gt;Signification: le nombre de &quot;type_item&quot; reels&lt;br&gt;Parametre: items_lies&lt;br&gt;Signification: si le tableau est non vide, il doit etre de taille nb_items_reels.&lt;br&gt;Dans ce cas, il permet de forcer la propriete suivante :&lt;br&gt;&quot;si l&#39;item i est distant, alors l&#39;item items_lies[i] est distant aussi&quot;.&lt;br&gt;Ce tableau est utilise pour inclure les sommets periodiques virtuels associes.&lt;br&gt;(voir calculer_espace_distant_sommets).</span></div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#aaf22a425af9ec9c52eca3d13f3ecea9f"> 1210</a></span><span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="Scatter_8cpp.html#aaf22a425af9ec9c52eca3d13f3ecea9f">calculer_espace_distant_item</a>(<a class="code hl_class" href="classZone.html">Zone</a>&amp; la_zone,</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>                                         <span class="keyword">const</span> <a class="code hl_enumeration" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926">Joint::Type_Item</a> type_item,</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>                                         <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; connectivite_elem_item,</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>                                         <span class="keyword">const</span> <span class="keywordtype">int</span> nb_items_reels,</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>                                         <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items_lies)</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>{</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>  <span class="keyword">const</span> <a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints                 = la_zone.<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>();</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>  <span class="keyword">const</span> <span class="keywordtype">int</span>   nb_joints              = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>  <span class="keyword">const</span> <span class="keywordtype">int</span>   nproc                  = <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>();</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>  <span class="keyword">const</span> <span class="keywordtype">int</span>   nb_items_par_element   = connectivite_elem_item.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(1);</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span><span class="comment">// Les type_item a envoyer a chaque processeur:</span></div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>  <a class="code hl_class" href="classTRUST__Vector.html">ArrsOfInt</a> items_to_send(nproc);</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span><span class="comment">// Un tableau temporaire;</span></div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> liste_items;</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>  liste_items.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span> </div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span><span class="comment">// Est-ce qu&#39;il y a des items lies ?</span></div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> flag_items_lies = (items_lies.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>() &gt; 0);</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>  assert(flag_items_lies == 0 || items_lies.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>() == nb_items_reels);</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span> </div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span> </div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>    {</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>      <span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp;     joint          = joints[i_joint];</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>      <span class="keyword">const</span> <span class="keywordtype">int</span>     pe_voisin      = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>      <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; esp_dist_elems = joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code hl_function" href="classJoint__Items.html#a59175012728b3e41778c7ae24db94c29">items_distants</a>();</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>      <span class="keyword">const</span> <span class="keywordtype">int</span>     nb_elems_dist  = esp_dist_elems.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>      liste_items.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(0);</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span><span class="comment">// On met dans liste_items tous les items de tous les elements</span></div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span><span class="comment">// qui sont dans esp_dist_elems:</span></div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_elem = 0; i_elem &lt; nb_elems_dist; i_elem++)</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>        {</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> elem = esp_dist_elems[i_elem];</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_item = 0; i_item &lt; nb_items_par_element; i_item++)</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>            {</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> item = connectivite_elem_item(elem, i_item);</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>              <span class="keywordflow">if</span> (item&gt;-1)</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>                {</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>                  liste_items.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(item);</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span><span class="comment">// Si un item est lie a l&#39;item courant, on envoie aussi l&#39;item lie.</span></div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>                  <span class="keywordflow">if</span> (flag_items_lies)</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>                    {</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>                      <span class="keyword">const</span> <span class="keywordtype">int</span> item_lie = items_lies[item];</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>                      <span class="keywordflow">if</span> (item_lie != item)</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>                        {</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>                          assert(item_lie &gt;= 0 &amp;&amp; item_lie &lt; nb_items_reels);</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>                          assert(items_lies[item_lie] == item_lie); <span class="comment">//!&lt; chaine de liaisons interdite</span></div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>                          liste_items.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(item_lie);</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>                        }</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>                    }</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>                }</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>            }</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>        }</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>      <a class="code hl_function" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">array_trier_retirer_doublons</a>(liste_items);</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span><span class="comment">// Ces items doivent etre envoyes au processeur voisin:</span></div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>      items_to_send[pe_voisin] = liste_items;</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    }</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span><span class="comment">// Calcul des espaces distants en fonction de &quot;items_to_send&quot;</span></div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>  <a class="code hl_function" href="classScatter.html#adce8ba9c504e8a039671e69f5d074ded">Scatter::calculer_espace_distant</a>(la_zone, nb_items_reels, items_to_send, type_item);</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>}</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span> </div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span><span class="comment">//</span></div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span><span class="comment">//</span></div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span><span class="comment">//</span></div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span><span class="comment">//</span></div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span><span class="comment">//</span></div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span><span class="comment">//</span></div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span><span class="comment">//</span></div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span><span class="comment">//! En fonction de l&#39;espace distant des elements, calcule l&#39;espace&lt;br&gt;distant des sommets. Pour chaque joint, on envoie au processeur voisin&lt;br&gt;l&#39;ensemble des sommets de tous les elements du joint.&lt;br&gt;C&#39;est le processeur proprietaire du sommet&lt;br&gt;(plus petit pe qui le possede) qui le met dans son espace distant.&lt;br&gt;Attention, on cree de nouveaux joints.&lt;br&gt;On remplit les tableaux&lt;br&gt;dom.zone(0).faces_joint(i).joint_item(Joint::SOMMET).items_distants();</span></div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"><a class="line" href="classScatter.html#a9cbfa7bf4fe3b741a56309931f4cf752"> 1280</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a9cbfa7bf4fe3b741a56309931f4cf752">Scatter::calculer_espace_distant_sommets</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom, <span class="keyword">const</span> <a class="code hl_class" href="classNoms.html">Noms</a>&amp; liste_bords_perio)</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>{</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Scatter::calculer_espace_distant_sommets : start&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span> </div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>  <a class="code hl_class" href="classZone.html">Zone</a>&amp;          zone                  = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0);</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; connectivite_elem_som = zone.<a class="code hl_function" href="classZone.html#ac115e8342be89afb882b7b61cc343267">les_elems</a>();</div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>  <span class="keyword">const</span> <span class="keywordtype">int</span>   nb_sommets_reels      = dom.<a class="code hl_function" href="classDomaine.html#ade3572a127cbe62440b9d7af8f50cf58">nb_som</a>();</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span> </div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> renum_som_perio(nb_sommets_reels);</div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span><span class="comment">// Initialisation du tableau renum_som_perio</span></div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_sommets_reels; i++)</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>    renum_som_perio[i] = i;</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>  <a class="code hl_function" href="classReordonner__faces__periodiques.html#aee6a67196132bed17c8d786d6c39316c">Reordonner_faces_periodiques::renum_som_perio</a>(dom, liste_bords_perio, renum_som_perio,</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>                                                0 <span class="comment">/* ne pas calculer pour les sommets virtuels */</span>);</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span> </div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>  <a class="code hl_function" href="Scatter_8cpp.html#aaf22a425af9ec9c52eca3d13f3ecea9f">calculer_espace_distant_item</a>(zone,</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>                               <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>,</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>                               connectivite_elem_som,</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>                               nb_sommets_reels,</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>                               renum_som_perio);</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>}</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span> </div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span><span class="comment">//! Idem que Scatter::calculer_espace_distant_sommets pour les faces</span></div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"><a class="line" href="classScatter.html#af8e062885ea7bbeaffb320e7f718e282"> 1305</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#af8e062885ea7bbeaffb320e7f718e282">Scatter::calculer_espace_distant_faces</a>(<a class="code hl_class" href="classZone.html">Zone</a>&amp; zone,</div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span>                                            <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces_reelles,</div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span>                                            <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; elem_faces)</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span>{</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Scatter::calculer_espace_distant_faces : start&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span> </div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> tableau_vide;</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span> </div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>  <a class="code hl_function" href="Scatter_8cpp.html#aaf22a425af9ec9c52eca3d13f3ecea9f">calculer_espace_distant_item</a>(zone,</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span>                               <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ab255b88987fc7f64c215c958cbe2af6b">Joint::FACE</a>,</div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>                               elem_faces,</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>                               nb_faces_reelles,</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>                               tableau_vide);</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>}</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span> </div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span><span class="comment">//! Idem que Scatter::calculer_espace_distant_sommets pour les aretes</span></div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"><a class="line" href="classScatter.html#a340353829751017d210326537f662b68"> 1323</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a340353829751017d210326537f662b68">Scatter::calculer_espace_distant_aretes</a>(<a class="code hl_class" href="classZone.html">Zone</a>&amp; zone,</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span>                                             <span class="keyword">const</span> <span class="keywordtype">int</span> nb_aretes_reelles,</div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span>                                             <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; elem_aretes)</div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span>{</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Scatter::calculer_espace_distant_aretes : start&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> tableau_vide;</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span>  <a class="code hl_function" href="Scatter_8cpp.html#aaf22a425af9ec9c52eca3d13f3ecea9f">calculer_espace_distant_item</a>(zone,</div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span>                               <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a7816c69408b98e1161f1f54e7b6b1cb4">Joint::ARETE</a>,</div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span>                               elem_aretes,</div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span>                               nb_aretes_reelles,</div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span>                               tableau_vide);</div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span>}</div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span> </div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span><span class="comment">//</span></div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span><span class="comment">//</span></div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span><span class="comment">//</span></div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span><span class="comment">//</span></div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span><span class="comment">//</span></div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span><span class="comment">//! On suppose que chaque joint[i].joint_item(type_item).items_communs()&lt;br&gt;contient les indices locaux des items de joint communs dans le meme&lt;br&gt;ordre sur les deux processeurs (local et voisin)&lt;br&gt;On remplit renum_items_communs :&lt;br&gt;colonne 0=contenu du tableau items_communs sur le PE voisin&lt;br&gt;colonne 1=contenu du tableau items_communs sur le PE local</span></div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"><a class="line" href="classScatter.html#a21f166c05df9be1fc1f02b0604624fe5"> 1344</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a21f166c05df9be1fc1f02b0604624fe5">Scatter::calculer_renum_items_communs</a>(<a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints,</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>                                           <span class="keyword">const</span> <a class="code hl_enumeration" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926">Joint::Type_Item</a> type_item)</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>{</div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span><span class="comment">// Il suffit d&#39;envoyer au voisin le tableau _faces dans l&#39;ordre</span></div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span><span class="comment">// pour qu&#39;il ait les indices des faces sur l&#39;autre pe.</span></div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span> </div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>  <span class="keywordtype">int</span>       i_joint;</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>  <a class="code hl_class" href="classSchema__Comm.html">Schema_Comm</a>  schema_comm;</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> liste_voisins(nb_joints);</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>  <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>    liste_voisins[i_joint] = joints[i_joint].PEvoisin();</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ad11c9b47999c294c26ae4df8d2bbd57b">set_send_recv_pe_list</a>(liste_voisins, liste_voisins);</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span> </div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ac574385d716aca94a48373ab71f37e4f">begin_comm</a>();</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span> </div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>  <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>    {</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>      <span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint     = joints[i_joint];</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>      <span class="keyword">const</span> <span class="keywordtype">int</span>  pe_voisin = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>      <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items_communs =</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>        joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(type_item).<a class="code hl_function" href="classJoint__Items.html#ae341478a0251c4ab6fc7c65189a7f30b">items_communs</a>();</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>      schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a681259723c5c1b85f419433de7aa78d7">send_buffer</a>(pe_voisin) &lt;&lt; items_communs;</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>    }</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span> </div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a516f48fb0494781b373d7b343388ed44">echange_taille_et_messages</a>();</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span> </div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span><span class="comment">// Le tableau items communs recu du pe voisin:</span></div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> items_communs_voisin;</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>  items_communs_voisin.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span> </div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>  <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>    {</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>      <a class="code hl_class" href="classJoint.html">Joint</a>&amp;           joint         = joints[i_joint];</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span>      <span class="keyword">const</span> <span class="keywordtype">int</span>     pe_voisin     = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>      <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items_communs = joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(type_item).<a class="code hl_function" href="classJoint__Items.html#ae341478a0251c4ab6fc7c65189a7f30b">items_communs</a>();</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>      <span class="keyword">const</span> <span class="keywordtype">int</span>     nb_items      = items_communs.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>      schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a85c05ef4688c20afa429264ebac8fdcf">recv_buffer</a>(pe_voisin) &gt;&gt; items_communs_voisin;</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span> </div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>      assert(nb_items == items_communs_voisin.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>());</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span> </div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>      <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; renum_items_communs = joint.<a class="code hl_function" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de">set_joint_item</a>(type_item).<a class="code hl_function" href="classJoint__Items.html#a95cc27c0fd65e2444a468df69a211057">set_renum_items_communs</a>();</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>      renum_items_communs.<a class="code hl_function" href="classTRUSTTab.html#a33c4f72e40e49cdb553fc7311fe656bc">resize</a>(nb_items, 2);</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span><span class="comment">// L&#39;indice de la face de joint sur l&#39;autre PE est dans tmp(i,1)</span></div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_items; i++)</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>        {</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>          renum_items_communs(i,0) = items_communs_voisin[i];</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span>          renum_items_communs(i,1) = items_communs[i];</div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>        }</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>    }</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span> </div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a7dd8d56caee9c6759850bb7c38e31c8b">end_comm</a>();</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>}</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span> </div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span><span class="comment">//! construction d&#39;un MD_Vector_std a partir des informations de joint du domaine&lt;br&gt;pour le type d&#39;item demande.</span></div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"><a class="line" href="classScatter.html#ae226bc9cab92d0a02b88e2fe014e4a44"> 1400</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#ae226bc9cab92d0a02b88e2fe014e4a44">Scatter::construire_md_vector</a>(<span class="keyword">const</span> <a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom, <span class="keywordtype">int</span> nb_items_reels, <span class="keyword">const</span> <a class="code hl_enumeration" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926">Joint::Type_Item</a> type_item, <a class="code hl_class" href="classMD__Vector.html">MD_Vector</a>&amp; md_vector)</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>{</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>  <span class="keyword">const</span> <a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints  = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>();</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span> </div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> pe_voisins(nb_joints);</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>  <a class="code hl_class" href="classTRUST__Vector.html">ArrsOfInt</a> items_to_send(nb_joints);</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>  <a class="code hl_class" href="classTRUST__Vector.html">ArrsOfInt</a> items_to_recv(nb_joints);</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>  <a class="code hl_class" href="classTRUST__Vector.html">ArrsOfInt</a> blocs_to_recv(nb_joints);</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span> </div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span><span class="comment">// drapeau indique si l&#39;item (commun) est recu d&#39;un processeur</span></div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>  <a class="code hl_class" href="classArrOfBit.html">ArrOfBit</a> flags(nb_items_reels);</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>  flags = 0;</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span> </div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>  <span class="keywordtype">int</span> nitems_tot = nb_items_reels;</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> moi = <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">me</a>();</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span> </div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>    {</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> pe = joints[i_joint].PEvoisin();</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>      pe_voisins[i_joint] = pe;</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>      <span class="keyword">const</span> <a class="code hl_class" href="classJoint__Items.html">Joint_Items</a>&amp; joint = joints[i_joint].joint_item(type_item);</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>      {</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span><span class="comment">// Traitement des items communs</span></div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>        <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items_communs = joint.<a class="code hl_function" href="classJoint__Items.html#ae341478a0251c4ab6fc7c65189a7f30b">items_communs</a>();</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> n = items_communs.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span> </div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span><span class="comment">// Les joints doivent arriver dans l&#39;ordre croissant du numero de pe</span></div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span><span class="comment">// sinon l&#39;algo suivant ne marche pas:</span></div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>        assert((i_joint == 0) || (pe &gt; joints[i_joint-1].PEvoisin()));</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>        <span class="keywordflow">if</span> (pe &gt; moi)</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>          {</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span><span class="comment">// Je dois envoyer ces items au processeur voisin</span></div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>            <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; dest = items_to_send[i_joint];</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>            dest.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>              {</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> item = items_communs[i];</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>                <span class="keywordflow">if</span> (!flags[item])</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>                  {</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span><span class="comment">// item pas recu d&#39;un processeur</span></div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>                    dest.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(item);</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>                  }</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>              }</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>          }</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>          {</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span><span class="comment">// Je recois cet item d&#39;un autre processeur</span></div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>            <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; dest = items_to_recv[i_joint];</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>            dest.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>              {</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> item = items_communs[i];</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>                <span class="keywordflow">if</span> (!flags.<a class="code hl_function" href="classArrOfBit.html#a34edb6144cce28a5520305a04add5eb3">testsetbit</a>(item))</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>                  {</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span><span class="comment">// item pas encore recu d&#39;un processeur</span></div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>                    dest.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(item);</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>                  }</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>              }</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>          }</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>      }</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span><span class="comment">// Traitement des items distants et virtuels</span></div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>      {</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> nitems_virt = joint.<a class="code hl_function" href="classJoint__Items.html#a71bb34830894f51cc14713f02a65673d">nb_items_virtuels</a>();</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>        <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; dest = blocs_to_recv[i_joint];</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>        <span class="keywordflow">if</span> (nitems_virt &gt; 0)</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>          {</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>            dest.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(2, <a class="code hl_enumvalue" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span><span class="comment">// Definition du bloc d&#39;items virtuels pour le processeur voisin</span></div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>            dest[0] = nitems_tot;</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>            dest[1] = nitems_tot + nitems_virt;</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>            nitems_tot += nitems_virt;</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>          }</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span>      }</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>      {</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>        <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items_distants = joint.<a class="code hl_function" href="classJoint__Items.html#a59175012728b3e41778c7ae24db94c29">items_distants</a>();</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> n = items_distants.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>        <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; dest = items_to_send[i_joint];</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> index = dest.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>        dest.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(index + n, <a class="code hl_enumvalue" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffac85954f9768f1ed2b14e58cea8ddb7c5">Array_base::COPY_NOINIT</a>); <span class="comment">//!&lt; copier les anciennes valeurs !</span></div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>        dest.<a class="code hl_function" href="classTRUSTArray.html#ae2948593ca098c08cef26297918da75c">inject_array</a>(items_distants, n, index <span class="comment">/* dest index */</span>, 0 <span class="comment">/* src index */</span>);</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>      }</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    }</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span> </div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>  <a class="code hl_class" href="classMD__Vector__std.html">MD_Vector_std</a> md(nitems_tot, nb_items_reels, pe_voisins, items_to_send, items_to_recv, blocs_to_recv);</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>  md_vector.<a class="code hl_function" href="classMD__Vector.html#a063644dd8ca62e707a2d059eedeb58a7">copy</a>(md);</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span> </div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span><span class="comment">// Verification que le md_vector est valide (tailles en send correspondant aux tailles en recv)</span></div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="communications_8cpp.html#a40943dd8a0e3ea77b7f2e7d404d9cd53">comm_check_enabled</a>())</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>    {</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>      <a class="code hl_class" href="classTRUSTVect.html">IntVect</a> toto;</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>      <a class="code hl_function" href="classMD__Vector__tools.html#aeac48ec589f525bafdfc83244a5d4dea">MD_Vector_tools::creer_tableau_distribue</a>(md_vector, toto);</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>      toto = 0;</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>      toto.<a class="code hl_function" href="classTRUSTVect.html#a7df489e59381e175b1df9cef48355fe5">echange_espace_virtuel</a>();</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>    }</div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>}</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span> </div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span><span class="comment">// Fonction tri (selon la premiere colonne du tableau)</span></div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a944250a2c83f0a472deb1c18072b9b69"> 1498</a></span><span class="keyword">static</span> <a class="code hl_typedef" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> <a class="code hl_function" href="Scatter_8cpp.html#a944250a2c83f0a472deb1c18072b9b69">fct_tri_table_inverse</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr1, <span class="keyword">const</span> <span class="keywordtype">void</span> *ptr2)</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>{</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> i1 = *(<span class="keywordtype">int</span>*)ptr1;</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> i2 = *(<span class="keywordtype">int</span>*)ptr2;</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span><span class="preprocessor">#ifdef INT_is_64_</span></div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>  <span class="keywordflow">if</span> (i1 == i2)</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>  <span class="keywordflow">if</span> (i1&gt;i2)</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>  <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>  <span class="keywordflow">return</span> i1 - i2;</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span> </div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>}</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span> </div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span><span class="comment">//</span></div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span><span class="comment">//</span></div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span><span class="comment">//</span></div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span><span class="comment">//! Cette classe fournit les outils pour construire l&#39;espace&lt;br&gt;virtuel d&#39;un tableau contenant des indices d&#39;entites geometriques&lt;br&gt;(sommets, elements, faces). Elle gere en particulier la&lt;br&gt;renumerotation des elements virtuels.</span></div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html"> 1519</a></span><span class="comment"></span><span class="keyword">class </span><a class="code hl_class" href="classTraduction__Indice__Global__Local.html">Traduction_Indice_Global_Local</a></div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>{</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html#ada36c0c489ea95db3bb8401f84d55c3a"> 1522</a></span>  <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#ada36c0c489ea95db3bb8401f84d55c3a">Traduction_Indice_Global_Local</a>() {};</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#af8aae1bb5e815066c64937bde87b7e8a">initialiser</a>(<span class="keyword">const</span> <a class="code hl_class" href="classMD__Vector.html">MD_Vector</a>&amp; md_items);</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#aa13ac6b9ecba36b9701c46cbb11d06c4">reset</a>();</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>  <span class="keywordtype">void</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#a800a94116c522b1076c071591be8a59b">traduire_indice_local_vers_global</a>(<span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; indices_locaux, <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; indices_globaux, <span class="keywordtype">int</span> n) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>  <span class="keywordtype">int</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#abdeb143459fb9c162b0f280e3fb1a188">traduire_indice_global_vers_local</a>(<span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; indices_globaux, <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; indices_locaux) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>  <span class="keywordtype">int</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#a5abd1cf2a9b42923a72e9181031d593e">traduire_espace_virtuel</a>(<a class="code hl_class" href="classTRUSTVect.html">IntVect</a>&amp; tableau) <span class="keyword">const</span>;</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span> </div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>  <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#a837fb55e45b63ed0ed16085b7f4c9c0d">chercher_table_inverse</a>(<span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; table_inverse,</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>                                    <span class="keyword">const</span> <span class="keywordtype">int</span> sommet_global);</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span> </div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span><span class="comment">// Metadata des indices qu&#39;on va renumeroter :</span></div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html#a83ba597c1d6ef619bdda41ea9345f610"> 1534</a></span>  <a class="code hl_class" href="classMD__Vector.html">MD_Vector</a> <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a83ba597c1d6ef619bdda41ea9345f610">md_items_</a>;</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html#ab93ee6d07d2960f8d6fe8b67cb3f6852"> 1535</a></span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ab93ee6d07d2960f8d6fe8b67cb3f6852">premier_indice_global_</a>;</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span><span class="comment">// Tableau distribue (avec espaces virtuels et items communs)</span></div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span><span class="comment">// contenant pour toutes les entites a indexer  (reelles et virtuelles)</span></div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span><span class="comment">// un indice global.</span></div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span><span class="comment">// (si type_table_==SOMMETS, table_[i] est l&#39;indice global du sommet i)</span></div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a"> 1540</a></span>  <a class="code hl_class" href="classTRUSTVect.html">IntVect</a> <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>;</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span><span class="comment">// Table permettant d&#39;inverser la numerotation, classee par ordre</span></div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span><span class="comment">// croissant de l&#39;indice global :</span></div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span><span class="comment">// * colonne 0 : l&#39;indice global de l&#39;entite</span></div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span><span class="comment">// * colonne 1 : l&#39;indice local de l&#39;entite</span></div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html#ac70085221bd16c6595310480c5756da9"> 1545</a></span>  <a class="code hl_class" href="classTRUSTTab.html">IntTab</a> <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ac70085221bd16c6595310480c5756da9">table_inverse_</a>;</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>};</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span> </div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span><span class="comment">//</span></div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span><span class="comment">//</span></div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span><span class="comment">//! Initialise le dictionnaire&lt;br&gt;Precontition:&lt;br&gt;Les espaces distants des entites utilisees doivent avoir ete calculees</span></div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html#af8aae1bb5e815066c64937bde87b7e8a"> 1552</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#af8aae1bb5e815066c64937bde87b7e8a">Traduction_Indice_Global_Local::initialiser</a>(<span class="keyword">const</span> <a class="code hl_class" href="classMD__Vector.html">MD_Vector</a>&amp; md_items)</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>{</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>  <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a83ba597c1d6ef619bdda41ea9345f610">md_items_</a> = md_items;</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span> </div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span><span class="comment">// Construction de &quot;table&quot; : on cree un numero global pour les entites reelles</span></div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span><span class="comment">// (indice de l&#39;entite + nombre total d&#39;entites sur les processeurs de rang inferieur)</span></div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span><span class="comment">// puis on echange l&#39;espace virtuel de ce tableau, on obtient pour chaque entite</span></div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span><span class="comment">// reelle ou virtuelle son numero global.</span></div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span> </div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>  <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>.<a class="code hl_function" href="classTRUSTVect.html#a894bec7d0626b78fe7cda4c4550f67f6">reset</a>();</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>  <a class="code hl_function" href="classMD__Vector__tools.html#aeac48ec589f525bafdfc83244a5d4dea">MD_Vector_tools::creer_tableau_distribue</a>(md_items, <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>);</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span> </div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_entites = md_items.<a class="code hl_function" href="classMD__Vector.html#a88b5a2d398314812f32a1dbc433cfe99">valeur</a>().<a class="code hl_function" href="classMD__Vector__base.html#a27d5ace2aee5ecf1d78accb7b321108d">get_nb_items_tot</a>();</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> decal = <a class="code hl_function" href="communications_8cpp.html#a13b5bdc7cfe14771b52a033b1ecbc071">mppartial_sum</a>(nb_entites);</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>  <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ab93ee6d07d2960f8d6fe8b67cb3f6852">premier_indice_global_</a> = decal;</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span> </div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span>  <span class="keywordflow">for</span> (i = 0; i &lt; nb_entites; i++)</div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>    <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>[i] = i + decal;</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>  <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>.<a class="code hl_function" href="classTRUSTVect.html#a7df489e59381e175b1df9cef48355fe5">echange_espace_virtuel</a>();</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span> </div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span><span class="comment">// Construction de la table_inverse contenant les indices non triviaux</span></div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span><span class="comment">// (pour lesquels table_[i] != i + decal apres l&#39;echange)</span></div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span><span class="comment">// tri par ordre croissant du numero global.</span></div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_entites_tot = <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>.<a class="code hl_function" href="classTRUSTVect.html#a5ae6fa5040fbdc708e54a7aba732413f">size_totale</a>();</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>  <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ac70085221bd16c6595310480c5756da9">table_inverse_</a>.<a class="code hl_function" href="classTRUSTTab.html#a33c4f72e40e49cdb553fc7311fe656bc">resize</a>(0, 2);</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>  <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ac70085221bd16c6595310480c5756da9">table_inverse_</a>.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>  <span class="keywordflow">for</span> (i = 0; i &lt; nb_entites_tot; i++)</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>    {</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>[i] != i + decal)</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>        <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ac70085221bd16c6595310480c5756da9">table_inverse_</a>.<a class="code hl_function" href="classTRUSTTab.html#aeafea8c8242ddec97c6bacfd74b34fc3">append_line</a>(<a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>[i], i);</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>    }</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span><span class="comment">// insure se plaint .. regarder si il a raison</span></div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ac70085221bd16c6595310480c5756da9">table_inverse_</a>.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>()&gt;0)</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>    qsort(<a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ac70085221bd16c6595310480c5756da9">table_inverse_</a>.<a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">addr</a>(),</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>          <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ac70085221bd16c6595310480c5756da9">table_inverse_</a>.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0),</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span>          2 * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>),</div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>          <a class="code hl_function" href="Scatter_8cpp.html#a944250a2c83f0a472deb1c18072b9b69">fct_tri_table_inverse</a>);</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>}</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span> </div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html#aa13ac6b9ecba36b9701c46cbb11d06c4"> 1592</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#aa13ac6b9ecba36b9701c46cbb11d06c4">Traduction_Indice_Global_Local::reset</a>()</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>{</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>  <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a83ba597c1d6ef619bdda41ea9345f610">md_items_</a>.<a class="code hl_function" href="classMD__Vector.html#aa8b6d80c076feecf7373552d58489e22">detach</a>();</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>  <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>.<a class="code hl_function" href="classTRUSTVect.html#a894bec7d0626b78fe7cda4c4550f67f6">reset</a>();</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>  <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ac70085221bd16c6595310480c5756da9">table_inverse_</a>.<a class="code hl_function" href="classTRUSTTab.html#a6fd76f123048ffe5208a0cdd337e9625">reset</a>();</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>}</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span> </div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span><span class="comment">//</span></div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span><span class="comment">//</span></div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span><span class="comment">//</span></div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span><span class="comment">//</span></div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span><span class="comment">//! Cherche i tel que table_inverse(i, 0) == sommet_global,&lt;br&gt;et renvoie table_inverse(i, 1) (l&#39;indice local du sommet).&lt;br&gt;Si le sommet n&#39;est pas trouve dans la table, renvoie -1.&lt;br&gt;La table_inverse doit etre triee par ordre croissant de la colonne 0.&lt;br&gt;La table_inverse ne doit pas avoir d&#39;espace virtuel.</span></div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html#a837fb55e45b63ed0ed16085b7f4c9c0d"> 1605</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#a837fb55e45b63ed0ed16085b7f4c9c0d">Traduction_Indice_Global_Local::chercher_table_inverse</a>(<span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; table_inverse,</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>                                                           <span class="keyword">const</span> <span class="keywordtype">int</span> sommet_global)</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>{</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span><span class="comment">// Algorithme : recherche par dichotomie:</span></div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>  <span class="keywordtype">int</span> imin = 0;</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span>  <span class="keywordtype">int</span> imax = table_inverse.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0) - 1;</div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span><span class="comment">// Si un seul element dans la table, on ne passe pas dans while</span></div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span><span class="comment">// (donc initialisation a table_inverse(0, 0))</span></div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span><span class="comment">// Sinon, si aucun element, il ne faut pas que valeur == sommet_global,</span></div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span><span class="comment">// sinon, valeur quelconque, elle sera ecrasee dans le while.</span></div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span>  <span class="keywordtype">int</span> <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>;</div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span>  <span class="keywordflow">if</span> (imax == 0)</div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span>    <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a> = table_inverse(0, 0);</div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span>    <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a> = sommet_global - 1;</div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span> </div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span>  <span class="keywordflow">while</span> (imax &gt; imin)</div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span>    {</div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> milieu = (imin + imax) &gt;&gt; 1; <span class="comment">//!&lt; (min+max)/2</span></div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span>      <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a> = table_inverse(milieu, 0);</div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="communications_8cpp.html#a79c3814bd1559c34ef17a64ae9c5a8be">compare</a> = <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a> - sommet_global;</div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="communications_8cpp.html#a79c3814bd1559c34ef17a64ae9c5a8be">compare</a> &lt; 0)</div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span>        imin = milieu + 1;</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="communications_8cpp.html#a79c3814bd1559c34ef17a64ae9c5a8be">compare</a> &gt; 0)</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>        imax = milieu - 1;</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>        imin = imax = milieu;</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>    }</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>  <span class="keywordtype">int</span> resu = -1;</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>  <a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a> = table_inverse(imin, 0);</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a> == sommet_global)</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>    resu = table_inverse(imin, 1);</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>  <span class="keywordflow">return</span> resu;</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>}</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span> </div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span><span class="comment">//</span></div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span><span class="comment">//</span></div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span><span class="comment">//</span></div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span><span class="comment">//</span></div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span><span class="comment">//! Transforme les indices locaux en indices globaux a l&#39;aide la&lt;br&gt;&quot;table_&quot; (voir initialiser). On fait :&lt;br&gt;Pour debut &lt;= i &lt; debut+nb&lt;br&gt;indices_globaux[i] = table_[indices_locaux[i]]&lt;br&gt;si indices_locaux[i] &lt; 0 alors indices_globaux[i] = -1</span></div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html#a800a94116c522b1076c071591be8a59b"> 1646</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#a800a94116c522b1076c071591be8a59b">Traduction_Indice_Global_Local::traduire_indice_local_vers_global</a>(</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; indices_locaux,</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; indices_globaux,</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>  <span class="keywordtype">int</span> nb_items_a_traiter)<span class="keyword"> const</span></div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_items_a_traiter; i++)</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>    {</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> i_loc = indices_locaux[i];</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> i_glob = (i_loc &lt; 0) ? -1 : <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>[i_loc];</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>      indices_globaux[i] = i_glob;</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>    }</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>}</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span> </div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span><span class="comment">//</span></div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span><span class="comment">//</span></div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span><span class="comment">//</span></div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span><span class="comment">//</span></div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span><span class="comment">//</span></div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span><span class="comment">//</span></div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span><span class="comment">//</span></div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span><span class="comment">//</span></div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span><span class="comment">//! Pour debut &lt;= i &lt; debut+nb&lt;br&gt;indices_locaux[i] = chercher l&#39;indice local de &quot;indices_globaux[i]&quot;&lt;br&gt;Parametre: indices_globaux&lt;br&gt;Signification: le tableau des indices globaux a traduire&lt;br&gt;Parametre: indices_locaux&lt;br&gt;Signification: en sortie, les indices locaux ou -1 si l&#39;indice global&lt;br&gt;n&#39;a pas ete trouve.&lt;br&gt;Valeur de retour: nombre d&#39;indices non trouves (indices globaux qui&lt;br&gt;ne correspondent a aucun indice local).</span></div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html#abdeb143459fb9c162b0f280e3fb1a188"> 1669</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#abdeb143459fb9c162b0f280e3fb1a188">Traduction_Indice_Global_Local::traduire_indice_global_vers_local</a>(</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; indices_globaux,</div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; indices_locaux)<span class="keyword"> const</span></div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span>  assert(indices_globaux.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>() == indices_locaux.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>());</div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span>  <span class="keywordtype">int</span> nb_erreurs = 0;</div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_indices = indices_globaux.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> size_table = <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span>  <span class="keywordflow">for</span> (i = 0; i &lt; nb_indices; i++)</div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span>    {</div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> i_glob = indices_globaux[i];</div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span>      <span class="keywordtype">int</span> i_loc;</div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>      <span class="keywordflow">if</span> (i_glob &lt; 0)</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>        {</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span><span class="comment">// Indice negatif, on considere que c&#39;est normal,</span></div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span><span class="comment">// c&#39;est un marqueur &quot;indice vide&quot;.</span></div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span>          i_loc = -1;</div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span>        }</div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span>        {</div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span><span class="comment">// On teste si l&#39;item n&#39;est pas renumerote</span></div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span>          i_loc = i_glob - <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ab93ee6d07d2960f8d6fe8b67cb3f6852">premier_indice_global_</a>;</div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span>          <span class="keywordflow">if</span> (i_loc &lt; 0 || i_loc &gt;= size_table || <a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">table_</a>[i_loc] != i_glob)</div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span>            {</div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span><span class="comment">// non, il faut inverser la table:</span></div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span>              i_loc = <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#a837fb55e45b63ed0ed16085b7f4c9c0d">chercher_table_inverse</a>(<a class="code hl_variable" href="classTraduction__Indice__Global__Local.html#ac70085221bd16c6595310480c5756da9">table_inverse_</a>, i_glob);</div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span>            }</div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span>          <span class="keywordflow">if</span> (i_loc &lt; 0)</div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span>            nb_erreurs++;</div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span>        }</div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span>      indices_locaux[i] = i_loc;</div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>    }</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>  <span class="keywordflow">return</span> nb_erreurs;</div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>}</div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span> </div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span><span class="comment">//</span></div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span><span class="comment">//</span></div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span><span class="comment">//</span></div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span><span class="comment">//</span></div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span><span class="comment">//</span></div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span><span class="comment">//</span></div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span><span class="comment">//</span></div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span><span class="comment">//</span></div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span><span class="comment">//</span></div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span><span class="comment">//! A partir d&#39;un tableau dont la structure d&#39;espace virtuel est initialisee&lt;br&gt;(descripteurs elements distants et virtuels, items communs)&lt;br&gt;et contenant des indices compatibles avec le contenu des tables&lt;br&gt;(indices de sommets ou d&#39;elements selon type_table_),&lt;br&gt;on remplit les elements virtuels du &quot;tableau&quot; en fonction des elements&lt;br&gt;distants et on traduit les indices en indices locaux.&lt;br&gt;(exemple, voir construire_espace_virtuel_elements et&lt;br&gt;construire_espace_virtuel_faces).&lt;br&gt;Valeur de retour: nombre d&#39;indices qui n&#39;ont pas pu etre traduits&lt;br&gt;(par exemple, le sommet reference n&#39;existe pas sur le processeur voisin)</span></div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"><a class="line" href="classTraduction__Indice__Global__Local.html#a5abd1cf2a9b42923a72e9181031d593e"> 1716</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#a5abd1cf2a9b42923a72e9181031d593e">Traduction_Indice_Global_Local::traduire_espace_virtuel</a>(<a class="code hl_class" href="classTRUSTVect.html">IntVect</a>&amp; tableau)<span class="keyword"> const</span></div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span><span class="keyword"></span>{</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span><span class="comment">// On cree une copie du tableau, dans laquelle on met les indices globaux:</span></div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>  <a class="code hl_class" href="classTRUSTVect.html">IntVect</a> indices_globaux;</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span><span class="comment">// Ne copier que la structure</span></div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>  indices_globaux.<a class="code hl_function" href="classTRUSTVect.html#a1c6e3546a922e5867797985a5a155197">copy</a>(tableau, <a class="code hl_enumvalue" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">ArrOfInt::NOCOPY_NOINIT</a>);</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span> </div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_items_reels    = tableau.<a class="code hl_function" href="classTRUSTVect.html#a242f57e5bda8ea2c1f740a3d135cf6b7">size_reelle</a>();</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_items_tot      = tableau.<a class="code hl_function" href="classTRUSTVect.html#a5ae6fa5040fbdc708e54a7aba732413f">size_totale</a>();</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_items_virtuels = nb_items_tot - nb_items_reels;</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span> </div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span><span class="comment">// On traduit les items reels en indices globaux:</span></div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>  <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#a800a94116c522b1076c071591be8a59b">traduire_indice_local_vers_global</a>(tableau, indices_globaux, nb_items_reels);</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span><span class="comment">// On remplit les cases virtuelles</span></div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>  indices_globaux.<a class="code hl_function" href="classTRUSTVect.html#a7df489e59381e175b1df9cef48355fe5">echange_espace_virtuel</a>();</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span> </div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span><span class="comment">// On retraduit uniquement les items virtuels du &quot;tableau&quot; en indices locaux:</span></div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> src;</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> dest;</div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>  src.<a class="code hl_function" href="classTRUSTArray.html#a750db5afc966542934359df8d14181c4">ref_array</a>(indices_globaux, nb_items_reels <span class="comment">/*debut*/</span>, nb_items_virtuels <span class="comment">/*taille*/</span>);</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>  dest.<a class="code hl_function" href="classTRUSTArray.html#a750db5afc966542934359df8d14181c4">ref_array</a>(tableau, nb_items_reels <span class="comment">/*debut*/</span>, nb_items_virtuels <span class="comment">/*taille*/</span>);</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_erreurs = <a class="code hl_function" href="classTraduction__Indice__Global__Local.html#abdeb143459fb9c162b0f280e3fb1a188">traduire_indice_global_vers_local</a>(src, dest);</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>  <span class="keywordflow">return</span> nb_erreurs;</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>}</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span> </div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span><span class="comment">//</span></div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span><span class="comment">//</span></div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span><span class="comment">//</span></div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span><span class="comment">//</span></div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span><span class="comment">//</span></div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span><span class="comment">//</span></div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span><span class="comment">//</span></div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span><span class="comment">//</span></div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span><span class="comment">//</span></div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span><span class="comment">//</span></div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span><span class="comment">//! Construit la structure items_communs + espaces virtuels d&#39;un tableau contenant&lt;br&gt;des indices d&#39;items geometriques, indexe par un autre type d&#39;item geometrique.&lt;br&gt;Exemple: tableau indexe par md_indice, contenant des indices md_valeur:&lt;br&gt;type_indice  type_valeur   exemple de tableau:&lt;br&gt;element      sommet       zone.les_elems()&lt;br&gt;face         sommet       faces_sommets&lt;br&gt;element      face         elem_faces&lt;br&gt;face         element      faces_voisins&lt;br&gt;element      element      ?&lt;br&gt;element      arete        elem_aretes&lt;br&gt;Nb_valeurs_max est le nombre d&#39;items reels de type &quot;type_valeur&quot;.</span></div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"><a class="line" href="classScatter.html#a33c68e7eff97ee92b457b50e8e3ad58d"> 1753</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a33c68e7eff97ee92b457b50e8e3ad58d">Scatter::construire_espace_virtuel_traduction</a>(<span class="keyword">const</span> <a class="code hl_class" href="classMD__Vector.html">MD_Vector</a>&amp; md_indice,</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>                                                   <span class="keyword">const</span> <a class="code hl_class" href="classMD__Vector.html">MD_Vector</a>&amp; md_valeur,</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>                                                   <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; tableau,</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>                                                   <span class="keyword">const</span> <span class="keywordtype">int</span> error_is_fatal)</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>{</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>  <span class="keywordflow">if</span> (tableau.<a class="code hl_function" href="classTRUSTTab.html#a02f5d997850b88e5f307f6ddaf67286e">dimension_tot</a>(0) != md_indice.<a class="code hl_function" href="classMD__Vector.html#a88b5a2d398314812f32a1dbc433cfe99">valeur</a>().<a class="code hl_function" href="classMD__Vector__base.html#ade0ef13d456f8aa11d02f51fd7912145">get_nb_items_reels</a>()</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>      &amp;&amp; (tableau.<a class="code hl_function" href="classTRUSTTab.html#a02f5d997850b88e5f307f6ddaf67286e">dimension_tot</a>(0) != md_indice.<a class="code hl_function" href="classMD__Vector.html#a88b5a2d398314812f32a1dbc433cfe99">valeur</a>().<a class="code hl_function" href="classMD__Vector__base.html#a27d5ace2aee5ecf1d78accb7b321108d">get_nb_items_tot</a>()))</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>    {</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;[PE &quot;</span> &lt;&lt; <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>()</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>           &lt;&lt; <span class="stringliteral">&quot;] Error in Scatter::construire_espace_virtuel_traduction\n&quot;</span></div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>           &lt;&lt; <span class="stringliteral">&quot; the array does not have the good dimension on input&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>    }</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span><span class="comment">// Construction du dictionnaire indice global/indice local</span></div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span><span class="comment">// pour les valeurs du tableau</span></div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>  <a class="code hl_class" href="classTraduction__Indice__Global__Local.html">Traduction_Indice_Global_Local</a> dictionnaire_indices;</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>  dictionnaire_indices.<a class="code hl_function" href="classTraduction__Indice__Global__Local.html#af8aae1bb5e815066c64937bde87b7e8a">initialiser</a>(md_valeur);</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span> </div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span><span class="comment">// Construit la structure d&#39;espaces virtuels du &quot;tableau&quot;</span></div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>  <span class="keywordflow">if</span> (!(tableau.<a class="code hl_function" href="classTRUSTVect.html#a7c824c9032be2e622561aa481fe1b8ae">get_md_vector</a>() == md_indice))</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>    <a class="code hl_function" href="classMD__Vector__tools.html#aeac48ec589f525bafdfc83244a5d4dea">MD_Vector_tools::creer_tableau_distribue</a>(md_indice, tableau, <a class="code hl_enumvalue" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffac85954f9768f1ed2b14e58cea8ddb7c5">Array_base::COPY_NOINIT</a>);</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span> </div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span><span class="comment">// Remplissage des valeurs vituelles du &quot;tableau&quot;</span></div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_erreurs =</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>    dictionnaire_indices.<a class="code hl_function" href="classTraduction__Indice__Global__Local.html#a5abd1cf2a9b42923a72e9181031d593e">traduire_espace_virtuel</a>(tableau);</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span> </div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>  <span class="keywordflow">if</span> (nb_erreurs &gt; 0 &amp;&amp; error_is_fatal)</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>    {</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;[PE &quot;</span> &lt;&lt; <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>()</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>           &lt;&lt; <span class="stringliteral">&quot;] Error in Scatter::construire_espace_virtuel_traduction\n&quot;</span></div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>           &lt;&lt; <span class="stringliteral">&quot; some indices of values were not found in\n&quot;</span></div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>           &lt;&lt; <span class="stringliteral">&quot; the local area : it missing virtual items&quot;</span></div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>           &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>    }</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>}</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span> </div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span> </div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span><span class="comment">// Precondition:</span></div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span><span class="comment">// Les sommets distants doivent avoir ete calcules (utilisation du dictionnaire)</span></div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span><span class="comment">//</span></div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span><span class="comment">//</span></div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span><span class="comment">//</span></div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span><span class="comment">//! Reordonne les faces de joint de sorte qu&#39;elles apparaissent dans le meme&lt;br&gt;ordre sur chaque couple de processeur voisin. En pratique, pour un couple&lt;br&gt;pe1 &lt; pe2, pe1 envoie ses faces de joint a pe2 et pe2 les traduit en indices&lt;br&gt;de sommets locaux. Les faces de joint du PE2 ne sont donc pas utilisees.</span></div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"><a class="line" href="classScatter.html#a0a86d55709f7e53fcf40a09de74033cf"> 1798</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a0a86d55709f7e53fcf40a09de74033cf">Scatter::reordonner_faces_de_joint</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom)</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span>{</div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span><span class="comment">// Construction du dictionnaire indice global/indice local</span></div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span><span class="comment">// pour les sommets du domaine:</span></div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span>  <a class="code hl_class" href="classTraduction__Indice__Global__Local.html">Traduction_Indice_Global_Local</a> dictionnaire_indices;</div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>  dictionnaire_indices.<a class="code hl_function" href="classTraduction__Indice__Global__Local.html#af8aae1bb5e815066c64937bde87b7e8a">initialiser</a>(dom.<a class="code hl_function" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f">les_sommets</a>().<a class="code hl_function" href="classTRUSTVect.html#a7c824c9032be2e622561aa481fe1b8ae">get_md_vector</a>());</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span> </div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>  <a class="code hl_class" href="classSchema__Comm.html">Schema_Comm</a> schema_comm;</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>  <a class="code hl_class" href="classJoints.html">Joints</a>&amp;      joints    = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>();</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> moi       = <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>();</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>  <span class="keywordtype">int</span>       i_joint;</div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span> </div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span><span class="comment">// Remplissage des listes de destinataires:</span></div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span><span class="comment">// on envoie aux voisins de rang superieur et on recoit des voisins de rang inf.</span></div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> send_list;</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> recv_list;</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>  send_list.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>  recv_list.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span> </div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>  <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>    {</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> pe_voisin = joints[i_joint].PEvoisin();</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>      <span class="keywordflow">if</span> (pe_voisin &gt; moi)</div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>        send_list.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(pe_voisin);</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>        recv_list.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(pe_voisin);</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>    }</div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span> </div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ad11c9b47999c294c26ae4df8d2bbd57b">set_send_recv_pe_list</a>(send_list, recv_list);</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span> </div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ac574385d716aca94a48373ab71f37e4f">begin_comm</a>();</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span><span class="comment">// Envoi des faces de joint, traduites en indices de sommets globaux</span></div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>  <a class="code hl_class" href="classTRUSTTab.html">IntTab</a> faces_num_global;</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>  faces_num_global.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>  <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>    {</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>      <span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp;   joint         = joints[i_joint];</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>      <span class="keyword">const</span> <span class="keywordtype">int</span>   pe_voisin     = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>      <span class="keywordflow">if</span> (pe_voisin &gt; moi)</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>        {</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; faces_sommets = joint.<a class="code hl_function" href="classFrontiere.html#a8fe4c692079f8d43642f13ce07a75830">faces</a>().<a class="code hl_function" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>();</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>          <span class="keywordflow">if</span> (faces_sommets.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0) &gt; 0)</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>            {</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>              faces_num_global.<a class="code hl_function" href="classTRUSTTab.html#a33c4f72e40e49cdb553fc7311fe656bc">resize</a>(faces_sommets.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0), faces_sommets.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(1));</div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>              dictionnaire_indices.<a class="code hl_function" href="classTraduction__Indice__Global__Local.html#a800a94116c522b1076c071591be8a59b">traduire_indice_local_vers_global</a>(faces_sommets,</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>                                                                     faces_num_global,</div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>                                                                     faces_sommets.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>());</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>            }</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>          <span class="keywordflow">else</span></div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>            faces_num_global.<a class="code hl_function" href="classTRUSTTab.html#a33c4f72e40e49cdb553fc7311fe656bc">resize</a>(0);</div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span> </div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>          schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a681259723c5c1b85f419433de7aa78d7">send_buffer</a>(pe_voisin) &lt;&lt; faces_num_global;</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>        }</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>    }</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a516f48fb0494781b373d7b343388ed44">echange_taille_et_messages</a>();</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span><span class="comment">// Reception des faces de joint et traduction en indices locaux</span></div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>  <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>    {</div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>      <a class="code hl_class" href="classJoint.html">Joint</a>&amp;       joint     = joints[i_joint];</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> pe_voisin = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>      <span class="keywordflow">if</span> (pe_voisin &lt; moi)</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>        {</div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>          <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; faces_sommets = joint.<a class="code hl_function" href="classFrontiere.html#a8fe4c692079f8d43642f13ce07a75830">faces</a>().<a class="code hl_function" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>();</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>          schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a85c05ef4688c20afa429264ebac8fdcf">recv_buffer</a>(pe_voisin) &gt;&gt; faces_num_global;</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>          <span class="keywordflow">if</span> (faces_sommets.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0) != faces_num_global.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0))</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>            {</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;[PE &quot;</span> &lt;&lt; moi</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>                   &lt;&lt; <span class="stringliteral">&quot;] Error in Scatter::reordonner_faces_de_joint:\n&quot;</span></div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>                   &lt;&lt; <span class="stringliteral">&quot; the number of joint faces is not identical to the PE &quot;</span></div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>                   &lt;&lt; pe_voisin &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>              <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>            }</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> nb_erreurs =</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>            dictionnaire_indices.<a class="code hl_function" href="classTraduction__Indice__Global__Local.html#abdeb143459fb9c162b0f280e3fb1a188">traduire_indice_global_vers_local</a>(faces_num_global,</div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>                                                                   faces_sommets);</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>          <span class="keywordflow">if</span> (nb_erreurs &gt; 0)</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>            {</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;[PE &quot;</span> &lt;&lt; moi</div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>                   &lt;&lt; <span class="stringliteral">&quot;] Error in Scatter::reordonner_faces_de_joint:\n&quot;</span></div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>                   &lt;&lt; <span class="stringliteral">&quot; The faces of the joint with PE &quot;</span> &lt;&lt; pe_voisin</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>                   &lt;&lt; <span class="stringliteral">&quot; use of unknown nodes&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>              <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>            }</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>        }</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>    }</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a7dd8d56caee9c6759850bb7c38e31c8b">end_comm</a>();</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>}</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span> </div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span><span class="comment">//</span></div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span><span class="comment">//! Methode outil: renvoie une liste complete de tous les&lt;br&gt;sommets de joint (sommets des faces + sommets isoles), triee et&lt;br&gt;sans doublons</span></div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a4286544562bceff2d921dc707678463f"> 1890</a></span><span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="Scatter_8cpp.html#a4286544562bceff2d921dc707678463f">calculer_liste_complete_sommets_joint</a>(<span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint, <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; liste_sommets)</div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>{</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>  liste_sommets = joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).<a class="code hl_function" href="classJoint__Items.html#ae341478a0251c4ab6fc7c65189a7f30b">items_communs</a>();</div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span><span class="preprocessor">#if 0</span></div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>  liste_sommets.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span><span class="comment">// On prend tous les sommets des faces de joint:</span></div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; som_faces = joint.<a class="code hl_function" href="classFrontiere.html#a8fe4c692079f8d43642f13ce07a75830">faces</a>().<a class="code hl_function" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>();</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>  liste_sommets = <a class="code hl_define" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>,som_faces);</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span><span class="comment">// On ajoute tous les sommets isoles :</span></div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; som_isoles = joint.sommets();</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> n = som_isoles.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>    liste_sommets.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(som_isoles[i]);</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span><span class="comment">// Retirer les doublons de la liste</span></div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>  <a class="code hl_function" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">array_trier_retirer_doublons</a>(liste_sommets);</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>}</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span> </div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a349bcb7610e5a8a66f1cef1b58b84c53"> 1908</a></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code hl_function" href="Scatter_8cpp.html#a349bcb7610e5a8a66f1cef1b58b84c53">arete_de_sommets_Si_et_Sj</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> Si, <span class="keyword">const</span> <span class="keywordtype">int</span> Sj, <span class="keyword">const</span> <span class="keywordtype">int</span> arete, <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; aretes_som)</div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>{</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>  <span class="keywordflow">if</span> ( (aretes_som(arete,0) == Si &amp;&amp; aretes_som(arete,1) == Sj)</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>       || (aretes_som(arete,1) == Si &amp;&amp; aretes_som(arete,0) == Sj) )</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>}</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span> </div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span><span class="comment">//</span></div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span><span class="comment">//! Methode outil: renvoie une liste complete de tous les&lt;br&gt;aretes de joint (aretes des faces + aretes isolees), triee et&lt;br&gt;sans doublons</span></div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a984d3b204fb849a38f321769e58a5ef1"> 1920</a></span><span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="Scatter_8cpp.html#a984d3b204fb849a38f321769e58a5ef1">calculer_liste_complete_aretes_joint</a>(<span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint, <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; liste_aretes)</div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>{</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span><span class="comment">// Construction de la liste des aretes communes liste_aretes</span></div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>  liste_aretes.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span><span class="comment">//</span></div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span><span class="comment">// Recherche des aretes de joint sur les faces de joint</span></div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span><span class="comment">//</span></div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>  <span class="keywordtype">int</span> nb_faces_joint=joint.<a class="code hl_function" href="classFrontiere.html#a8fe4c692079f8d43642f13ce07a75830">faces</a>().<a class="code hl_function" href="classFaces.html#a78a75e9e57034066c75543a608722280">nb_faces</a>();</div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>  <span class="keywordtype">int</span> nb_som_faces=joint.<a class="code hl_function" href="classFrontiere.html#a8fe4c692079f8d43642f13ce07a75830">faces</a>().<a class="code hl_function" href="classFaces.html#abd5a41b8a489c42e63014f2376a8cfd3">nb_som_faces</a>();</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; sommet=joint.<a class="code hl_function" href="classFrontiere.html#a8fe4c692079f8d43642f13ce07a75830">faces</a>().<a class="code hl_function" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>();</div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>  <span class="keyword">const</span> <a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom=joint.<a class="code hl_function" href="classFrontiere.html#a99830e76b78a74ba8bcbbdde18c75f60">zone</a>().<a class="code hl_function" href="classZone.html#abe2ae64b06de61cba169fbcd098a05c1">domaine</a>();</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; coord=dom.<a class="code hl_function" href="classDomaine.html#ae38374f4ac33a429a131a53083ad86fb">coord_sommets</a>();</div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; aretes_som=joint.<a class="code hl_function" href="classFrontiere.html#a99830e76b78a74ba8bcbbdde18c75f60">zone</a>().<a class="code hl_function" href="classZone.html#a7eb8521ac48c0c3ce40bf46319af6365">aretes_som</a>();</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> aretes(1);</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>=0;</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>  <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a> positions(1,<a class="code hl_variable" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>);</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> som_faces(nb_faces_joint*nb_som_faces);</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span><span class="comment">// On parcourt 2 a 2 les sommets de chaque face du joint</span></div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=0; face&lt;nb_faces_joint; face++)</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_som_faces; i++)</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>      {</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>        <span class="keywordtype">int</span> Si = sommet(face,i);</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>        som_faces[face*nb_som_faces+i]=Si;</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=i; j&lt;nb_som_faces; j++)</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>          {</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>            <span class="keywordtype">int</span> Sj = sommet(face,j);</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span><span class="comment">// Calcul du point C entre 2 sommets Si et Sj</span></div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> comp=0; comp&lt;<a class="code hl_variable" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; comp++)</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>              positions(0,comp)=0.5*(coord(Si,comp)+coord(Sj,comp));</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>            dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#ab98de65fa4d6c6e8c024c0177716237d">chercher_aretes</a>(positions,aretes);</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span><span class="comment">// Si on trouve une arete dont le centre coincide avec le point C</span></div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span><span class="comment">// et dont les sommets sont identiques a Si et Sj, on ajoute l&#39;arete a la liste</span></div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>            <span class="keywordflow">if</span> (aretes[0]&gt;=0 &amp;&amp; <a class="code hl_function" href="Scatter_8cpp.html#a349bcb7610e5a8a66f1cef1b58b84c53">arete_de_sommets_Si_et_Sj</a>(Si, Sj, aretes[0], aretes_som))</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>              {</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>                <a class="code hl_variable" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>++;</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>                liste_aretes.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(aretes[0]);</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>              }</div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>          }</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>      }</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>  <a class="code hl_function" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">Process::Journal</a>() &lt;&lt; <span class="stringliteral">&quot;common edges found on faces of joint with &quot;</span> &lt;&lt; joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>() &lt;&lt; <span class="stringliteral">&quot; :&quot;</span> &lt;&lt; <a class="code hl_variable" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span><span class="comment">//</span></div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span><span class="comment">// Recherche des aretes de joint isolees sur les sommets de joints isoles</span></div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span><span class="comment">//</span></div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span><span class="comment">// joint.sommets() contient parfois tous les sommets !</span></div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span><span class="comment">// Donc on construit un tableau som_isoles</span></div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> som_isoles;</div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span><span class="comment">// Met tous les sommets dans som_isoles (isoles+issus des faces de joint):</span></div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>  <a class="code hl_function" href="Scatter_8cpp.html#a4286544562bceff2d921dc707678463f">calculer_liste_complete_sommets_joint</a>(joint, som_isoles);</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span><span class="comment">// On trie som_faces et on supprime les doublons</span></div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>  <a class="code hl_function" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">array_trier_retirer_doublons</a>(som_faces);</div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span><span class="comment">// Supprime tous les sommets de som_isoles contenus dans som_faces</span></div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>  <a class="code hl_function" href="Scatter_8cpp.html#ab0ae6267baccb3a639f4a8ff795edd35">array_retirer_elements</a>(som_isoles, som_faces);</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span><span class="comment">// Supprime les sommets des faces de joint</span></div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> n = som_isoles.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span>  <a class="code hl_function" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">Process::Journal</a>() &lt;&lt; <span class="stringliteral">&quot;number of isolated nodes: &quot;</span> &lt;&lt; n &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span>  <a class="code hl_function" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">Process::Journal</a>() &lt;&lt; <span class="stringliteral">&quot;number of nodes of faces of joint: &quot;</span> &lt;&lt; 3*sommet.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0) &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span> </div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>  <a class="code hl_variable" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>=0;</div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span><span class="comment">// On parcourt 2 a 2 les sommets isoles</span></div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = i; j &lt; n; j++)</div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span>      {</div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span><span class="comment">// Calcul du point C entre 2 sommets Si et Sj</span></div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span>        <span class="keywordtype">int</span> Si = som_isoles[i];</div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span>        <span class="keywordtype">int</span> Sj = som_isoles[j];</div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> comp=0; comp&lt;<a class="code hl_variable" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; comp++)</div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span>          positions(0,comp)=0.5*(coord(Si,comp)+coord(Sj,comp));</div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span>        dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#ab98de65fa4d6c6e8c024c0177716237d">chercher_aretes</a>(positions,aretes);</div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span><span class="comment">// Si on trouve une arete dont le centre coincide avec le point C</span></div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span><span class="comment">// et dont les sommets sont identiques a Si et Sj, on ajoute l&#39;arete a la liste</span></div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span>        <span class="keywordflow">if</span> (aretes[0]&gt;=0 &amp;&amp; <a class="code hl_function" href="Scatter_8cpp.html#a349bcb7610e5a8a66f1cef1b58b84c53">arete_de_sommets_Si_et_Sj</a>(Si, Sj, aretes[0], aretes_som))</div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span>          {</div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span>            <a class="code hl_variable" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>++;</div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span>            liste_aretes.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(aretes[0]);</div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span>          }</div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span>      }</div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span>  <a class="code hl_function" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">Process::Journal</a>() &lt;&lt; <span class="stringliteral">&quot;common edges found isolated on joint with &quot;</span> &lt;&lt; joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>() &lt;&lt; <span class="stringliteral">&quot; :&quot;</span> &lt;&lt; <a class="code hl_variable" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span><span class="comment">// Retirer les doublons de la liste</span></div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span>  <a class="code hl_function" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">array_trier_retirer_doublons</a>(liste_aretes);</div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span>}</div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span> </div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a9ce09df49a63406b606ce247e3880d96"> 2001</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="Scatter_8cpp.html#a9ce09df49a63406b606ce247e3880d96">calculer_liste_complete_items_joint</a>(<span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint, <span class="keyword">const</span> <a class="code hl_enumeration" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926">Joint::Type_Item</a> type_item, <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; liste_items)</div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span>{</div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span>  <span class="keywordflow">switch</span>(type_item)</div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span>    {</div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>:</div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span>      <a class="code hl_function" href="Scatter_8cpp.html#a4286544562bceff2d921dc707678463f">calculer_liste_complete_sommets_joint</a>(joint, liste_items);</div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a7816c69408b98e1161f1f54e7b6b1cb4">Joint::ARETE</a>:</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>      <a class="code hl_function" href="Scatter_8cpp.html#a984d3b204fb849a38f321769e58a5ef1">calculer_liste_complete_aretes_joint</a>(joint, liste_items);</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Scatter::calculer_liste_complete_items_joint&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Type of item not expected.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>    }</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>}</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span> </div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span><span class="comment">//</span></div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span><span class="comment">//</span></div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span><span class="comment">//</span></div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span><span class="comment">//</span></div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span><span class="comment">//</span></div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span><span class="comment">//</span></div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span><span class="comment">//! Les algorithmes actuels pour le periodique (assembleur P1B, OpDivElem P1B)&lt;br&gt;ont besoin que pour chaque face virtuelle periodique, la face opposee soit&lt;br&gt;aussi virtuelle. Ceci n&#39;est pas assure a la sortie de la methode&lt;br&gt;calculer_elements_distants. Cette methode ajoute aux elements distants les&lt;br&gt;elements manquants pour assurer cette condition:&lt;br&gt;Si un element est distant pour un PE donne est voisin d&#39;une face periodique,&lt;br&gt;on ajoute a l&#39;espace distant l&#39;element adjacent a la face opposee.</span></div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"><a class="line" href="classScatter.html#a07723d3697739057d469082a4c4a554f"> 2026</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a07723d3697739057d469082a4c4a554f">Scatter::corriger_espace_distant_elements_perio</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom,</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>                                                     <span class="keyword">const</span> <a class="code hl_class" href="classNoms.html">Noms</a>&amp; liste_bords_periodiques)</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>{</div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span>    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Correction of remote spaces of the elements for the periodic faces&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span> </div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span>  <a class="code hl_class" href="classZone.html">Zone</a>&amp; zone = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0);</div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_elem = zone.<a class="code hl_function" href="classZone.html#a8bdea22b5802d97c07acd9e97de5eb88">nb_elem</a>();</div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; les_elems = zone.<a class="code hl_function" href="classZone.html#ac115e8342be89afb882b7b61cc343267">les_elems</a>();</div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span> </div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span><span class="comment">// Ce tableau contiendra pour un bord periodique donne:</span></div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span><span class="comment">// si l&#39;element i est adjacent a une face de ce bord,</span></div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span><span class="comment">// element_oppose[i] est le numero de l&#39;element adjacent a la face</span></div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span><span class="comment">// opposee sur ce bord.</span></div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span><span class="comment">// -1 sinon.</span></div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> element_oppose(nb_elem);</div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span> </div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span>  <a class="code hl_class" href="classStatic__Int__Lists.html">Static_Int_Lists</a> connectivite_som_elem;</div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_sommets = dom.<a class="code hl_function" href="classDomaine.html#ade3572a127cbe62440b9d7af8f50cf58">nb_som</a>();</div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span>  <a class="code hl_function" href="Connectivite__som__elem_8cpp.html#a82161461a228e43ae236c31101ff3ce6">construire_connectivite_som_elem</a>(nb_sommets,</div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span>                                   les_elems,</div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span>                                   connectivite_som_elem,</div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span>                                   0 <span class="comment">/* ne pas inclure les sommets virtuels */</span>);</div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span> </div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som_face = zone.<a class="code hl_function" href="classZone.html#a615ed15b70dc15fe2c2610f06cdcb64b">type_elem</a>().<a class="code hl_function" href="classElem__geom.html#a599a5ada3a469897d25174692cecdf0a">nb_som_face</a>();</div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> une_face(nb_som_face);</div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> elems_voisins;</div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span>  elems_voisins.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span> </div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = zone.<a class="code hl_function" href="classZone.html#ab268cec09b34e5f4dd670a5a38fbd37c">nb_joints</a>();</div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_bords_perio = liste_bords_periodiques.<a class="code hl_function" href="classvect__impl.html#aa4ead68b9a3b2cba74be2766cbafcad4">size</a>();</div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span> </div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span><span class="comment">// Marqueurs des elements distants existants:</span></div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span>  <a class="code hl_class" href="classArrOfBit.html">ArrOfBit</a> marqueurs_elements_distants(nb_elem);</div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span>  marqueurs_elements_distants = 0;</div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span> </div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span><span class="comment">// Le fait d&#39;ajouter un element dans un espace distant pour un bord donne</span></div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span><span class="comment">// peut entrainer un probleme sur un autre bord (l&#39;element oppose de l&#39;element</span></div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span><span class="comment">// ainsi ajoute peut manquer pour une autre direction de periodicite).</span></div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span><span class="comment">// Il faut dont iterer jusqu&#39;a ce que plus rien ne bouge</span></div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span>  <span class="keywordtype">int</span> nb_elements_ajoutes = 0;</div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span>  <span class="keywordflow">do</span></div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span>    {</div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span>      nb_elements_ajoutes = 0;</div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_bord_perio = 0; i_bord_perio &lt; nb_bords_perio; i_bord_perio++)</div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span>        {</div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span>          <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; nom_bord = liste_bords_periodiques[i_bord_perio];</div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span>          <span class="keyword">const</span> <a class="code hl_class" href="classBord.html">Bord</a>&amp; bord = zone.<a class="code hl_function" href="classZone.html#a5d657569d5c442d3395f74a69dbbb96c">bord</a>(nom_bord);</div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; faces_sommets = bord.<a class="code hl_function" href="classFrontiere.html#a6d1f96137ddae39a46985a8c3e53bcf5">les_sommets_des_faces</a>();</div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces = bord.<a class="code hl_function" href="classFrontiere.html#a2504bec98a459f1f04ce8282cfd58128">nb_faces</a>();</div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span> </div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span><span class="comment">// Premiere etape, reperer les element opposes pour ce bord periodique</span></div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span><span class="comment">// On boucle sur la premiere moitie de la frontiere.</span></div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span><span class="comment">// ATTENTION: on suppose que les faces de bords sont ordonnees : d&#39;abord toutes les faces</span></div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span><span class="comment">// d&#39;un cote du domaine periodique, puis, dans le meme ordre, les faces opposees.</span></div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span>          element_oppose = -1;</div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span> </div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_face = 0; i_face &lt; nb_faces / 2; i_face++)</div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span>            {</div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span><span class="comment">// Pour chaque face, trouver l&#39;element adjacent a cette face et a la face opposee</span></div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span><span class="comment">// Boucle sur la face et la face opposee</span></div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span>              <span class="keywordtype">int</span> elem0 = -1; <span class="comment">//!&lt; Les deux elements opposes de cette face periodique</span></div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span>              <span class="keywordtype">int</span> elem1 = -1;</div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span>              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> quel_cote = 0; quel_cote &lt; 2; quel_cote++)</div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span>                {</div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span>                  <span class="keyword">const</span> <span class="keywordtype">int</span> face = i_face + quel_cote * nb_faces / 2;</div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span>                  <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span>                  <span class="keywordflow">for</span> (i = 0; i &lt; nb_som_face; i++)</div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span>                    une_face[i] = faces_sommets(face, i);</div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span>                  <a class="code hl_function" href="Connectivite__som__elem_8cpp.html#afccbadf5344a16154a56b33dbddf88c1">find_adjacent_elements</a>(connectivite_som_elem, une_face, elems_voisins);</div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span>                  <span class="keyword">const</span> <span class="keywordtype">int</span> n = elems_voisins.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span>                  <span class="keywordflow">if</span> (n != 1)</div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span>                    {</div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span>                      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Scatter::corriger_espace_distant_elements_perio: \n&quot;</span></div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span>                           &lt;&lt; <span class="stringliteral">&quot; The face &quot;</span> &lt;&lt; i_face &lt;&lt; <span class="stringliteral">&quot; of boundary &quot;</span> &lt;&lt; nom_bord &lt;&lt; <span class="stringliteral">&quot; has &quot;</span></div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span>                           &lt;&lt; n &lt;&lt; <span class="stringliteral">&quot; neighbors.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span>                      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span>                    }</div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span>                  <span class="keywordflow">if</span> (quel_cote == 0)</div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span>                    elem0 = elems_voisins[0];</div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span>                  <span class="keywordflow">else</span></div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span>                    elem1 = elems_voisins[0];</div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span>                }</div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span>              element_oppose[elem0] = elem1;</div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span>              element_oppose[elem1] = elem0;</div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span>            }</div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span><span class="comment">// Deuxieme etape: parcourir les elements distants. Si un element distant est</span></div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span><span class="comment">// dans les elements jumeaux, ajouter l&#39;autre jumeau dans les elements distants</span></div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span>            {</div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span>              <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; elements_distants = zone.<a class="code hl_function" href="classZone.html#aef862d7e09cbdf331de0fd1f0ba3b334">joint</a>(i_joint).<a class="code hl_function" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de">set_joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code hl_function" href="classJoint__Items.html#a13add264f4ad36ef4bddbfc1b7bdb817">set_items_distants</a>();</div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span>              <span class="keywordtype">int</span> n = elements_distants.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span><span class="comment">// Marquer les elements distants existants:</span></div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span>              <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span>              <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span>                {</div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span>                  <span class="keyword">const</span> <span class="keywordtype">int</span> elem = elements_distants[i];</div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span>                  marqueurs_elements_distants.<a class="code hl_function" href="classArrOfBit.html#a0a8b695966e2c1060dc6eb37d87898e0">setbit</a>(elem);</div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span>                }</div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span>              elements_distants.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span>              <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span>                {</div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span>                  <span class="keyword">const</span> <span class="keywordtype">int</span> elem = elements_distants[i];</div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span>                  <span class="keyword">const</span> <span class="keywordtype">int</span> elem_oppose = element_oppose[elem];</div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span>                  <span class="keywordflow">if</span> (elem_oppose &gt;= 0 &amp;&amp; (!marqueurs_elements_distants.<a class="code hl_function" href="classArrOfBit.html#a34edb6144cce28a5520305a04add5eb3">testsetbit</a>(elem_oppose)))</div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span>                    {</div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span>                      elements_distants.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(elem_oppose);</div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span>                      nb_elements_ajoutes++;</div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span>                    }</div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span>                }</div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span><span class="comment">// Remettre a zero le tableau de marqueurs:</span></div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span>              n = elements_distants.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span>              <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span>                {</div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span>                  <span class="keyword">const</span> <span class="keywordtype">int</span> elem = elements_distants[i];</div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span>                  marqueurs_elements_distants.<a class="code hl_function" href="classArrOfBit.html#a4ce8a88abd5489da9514bab54ab7017b">clearbit</a>(elem);</div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span>                }</div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span>            }</div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span>        }</div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span> </div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span>    }</div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span>  <span class="keywordflow">while</span> (nb_elements_ajoutes &gt; 0);</div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span><span class="comment">// Dernier tri des elements distants dans l&#39;ordre croissant</span></div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span>    {</div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span>      <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; elements_distants = zone.<a class="code hl_function" href="classZone.html#aef862d7e09cbdf331de0fd1f0ba3b334">joint</a>(i_joint).<a class="code hl_function" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de">set_joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code hl_function" href="classJoint__Items.html#a13add264f4ad36ef4bddbfc1b7bdb817">set_items_distants</a>();</div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span>      elements_distants.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(0);</div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span>      elements_distants.<a class="code hl_function" href="classTRUSTArray.html#a6380491c50b8df1bc144b70836b73da5">ordonne_array</a>();</div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span>    }</div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span>}</div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span> </div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span><span class="comment">//</span></div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span><span class="comment">//</span></div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span><span class="comment">//</span></div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span><span class="comment">//</span></div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span><span class="comment">//</span></div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span><span class="comment">//</span></div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span><span class="comment">//</span></div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span><span class="comment">//</span></div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span><span class="comment">//</span></div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span><span class="comment">//</span></div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span><span class="comment">//</span></div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span><span class="comment">//</span></div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span><span class="comment">//</span></div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span><span class="comment">//</span></div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span><span class="comment">//</span></div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span><span class="comment">//</span></div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span><span class="comment">//! Remplissage du tableau &quot;espace_distant()&quot; des elements dans les joints.&lt;br&gt;C&#39;est ici qu&#39;on determine les elements de joint en fonction de l&#39;epaisseur de joint.&lt;br&gt;Le tableau espace_distant contient les&lt;br&gt;indices locaux des elements distants (a envoyer aux processeurs voisins)&lt;br&gt;Pour un joint d&#39;epaisseur 1, ce sont tous les elements voisins d&#39;un&lt;br&gt;sommet de joint (sommet sur un face de joint ou sommet isole).&lt;br&gt;Pour un joint d&#39;epaisseur n&gt;1, ce sont tous les elements voisins d&#39;un&lt;br&gt;sommet d&#39;un element du joint d&#39;epaisseur n-1.&lt;br&gt;Le voisinage s&#39;entend sur le domaine global (toutes zones confondues)&lt;br&gt;Historique: premiere version B.Mathieu le 16/01/2007.&lt;br&gt;Il existe une methode qui determine les elements distants au moment du decoupage&lt;br&gt;(DomaineCutter::construire_elements_distants_ssdom).&lt;br&gt;La methode ci-dessous a ete validee par comparaison avec la methode du decoupeur.&lt;br&gt;Les sorties ont ete verifiees pour des epaisseurs jusqu&#39;a 5 sur des maillages tetra.&lt;br&gt;La difficulte de l&#39;algorithme est d&#39;obtenir les elements virtuels d&#39;epaisseur &gt; 1 qui se&lt;br&gt;trouvent sur des sous-domaines qui ne sont pas en contact direct avec le sous-domaine&lt;br&gt;local. Difficulte resolue par l&#39;algorithme ci-dessous.</span></div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"><a class="line" href="classScatter.html#a589c34e38a91b69c2e4b43c77bf2bd9d"> 2175</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a589c34e38a91b69c2e4b43c77bf2bd9d">Scatter::calculer_espace_distant_elements</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom)</div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span>{</div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span>  <a class="code hl_class" href="classZone.html">Zone</a>&amp;        zone         = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0);</div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nbjoints    = zone.<a class="code hl_function" href="classZone.html#ab268cec09b34e5f4dd670a5a38fbd37c">nb_joints</a>();</div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som_elem  = zone.<a class="code hl_function" href="classZone.html#a06519a807102a480b76f45910c0d7fca">nb_som_elem</a>();</div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; les_elems    = zone.<a class="code hl_function" href="classZone.html#ac115e8342be89afb882b7b61cc343267">les_elems</a>();</div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>        = <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>();</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span><span class="comment">// PL on doit avoir la meme epaisseur_joint sur chaque processeur pour l&#39;algorithme suivant</span></div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span><span class="comment">// utilisant un echange de donnees avec schema_comm.begin_comm() schema_comm.end_comm()</span></div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span><span class="comment">// sinon il y&#39;a un blocage en mode debug a cause de la sortie de la ligne 1866 (voir cas Quasi_Comp_Coupl_Incomp)</span></div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span><span class="comment">// const int epaisseur_joint = (nb_joints &gt; 0) ? zone.joint(0).epaisseur() : 1;</span></div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> epaisseur_joint = (int) <a class="code hl_function" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d">mp_max</a>((nbjoints &gt; 0) ? zone.<a class="code hl_function" href="classZone.html#aef862d7e09cbdf331de0fd1f0ba3b334">joint</a>(0).<a class="code hl_function" href="classJoint.html#a3a841bf6fb2fa26a0606d1acf0323b8b">epaisseur</a>() : 1);</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span> </div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Calculation of remote space of elements : thickness &quot;</span> &lt;&lt; epaisseur_joint &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span> </div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span><span class="comment">// L&#39;algorithme repose sur la construction progressive du tableau &quot;liste_sommets&quot;.</span></div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span><span class="comment">// liste_sommets(pe) contient a un instant donne la liste des sommets possedes par me()</span></div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span><span class="comment">// dont le &quot;pe&quot; veut connaitre les elements voisins.</span></div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span><span class="comment">// Chaque pe commence par reclamer ses elements voisins directs, c&#39;est a dire les elements</span></div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span><span class="comment">// voisins des sommets de joint. On sait qu&#39;il voudra ensuite les elements voisins des elements</span></div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span><span class="comment">// ainsi trouves, donc on ajoutera aux listes les sommets des elements distants trouves</span></div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span><span class="comment">// a l&#39;iteration precedente.</span></div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>  <a class="code hl_class" href="classTRUST__Vector.html">ArrsOfInt</a> liste_sommets(<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>);</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span> </div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span><span class="comment">// Pour chaque processeur, la liste des elements locaux qu&#39;il faut lui envoyer</span></div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>  <a class="code hl_class" href="classTRUST__Vector.html">ArrsOfInt</a> elements_distants(<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>);</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>  {</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span><span class="comment">// smart_resize car on va faire append_array sur ces tableaux</span></div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>; i++)</div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>      {</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>        liste_sommets[i].set_smart_resize(1);</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>        elements_distants[i].set_smart_resize(1);</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>      }</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>  }</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span> </div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span>  <a class="code hl_class" href="classStatic__Int__Lists.html">Static_Int_Lists</a> som_elem;</div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>  {</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Nodes-elements connectivity ...&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_sommets = dom.<a class="code hl_function" href="classDomaine.html#ade3572a127cbe62440b9d7af8f50cf58">nb_som</a>();</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span>    <a class="code hl_function" href="Connectivite__som__elem_8cpp.html#a82161461a228e43ae236c31101ff3ce6">construire_connectivite_som_elem</a>(nb_sommets,</div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>                                     les_elems,</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>                                     som_elem,</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>                                     0 <span class="comment">/* ne pas inclure les sommets virtuels */</span>);</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>  }</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span> </div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> liste_pe_voisins(nbjoints);</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span> </div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span><span class="comment">// Initialisation de liste_pe_voisins et</span></div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span><span class="comment">// initialisation de la liste de sommets: chaque processeur requiert tous les elements</span></div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span><span class="comment">// voisins de ses sommets de joint. Le processeur local sait que pour l&#39;epaisseur 1,</span></div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span><span class="comment">// chaque processeur voisin par un joint veut connaitre tous les elements voisins</span></div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span><span class="comment">// des sommets de joint. Donc on met dans liste_sommets(pe) les sommets de joint avec ce pe,</span></div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span><span class="comment">// se sorte a lui envoyer les elements locaux voisins de ces sommets.</span></div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>  {</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nbjoints; i_joint++)</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>      {</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>        <span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint = zone.<a class="code hl_function" href="classZone.html#aef862d7e09cbdf331de0fd1f0ba3b334">joint</a>(i_joint);</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> pe = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>        liste_pe_voisins[i_joint] = pe;</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>        <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; sommets_joint = joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).<a class="code hl_function" href="classJoint__Items.html#ae341478a0251c4ab6fc7c65189a7f30b">items_communs</a>();</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>        liste_sommets[pe] = sommets_joint;</div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>      }</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>  }</div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span> </div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span><span class="comment">// On va avoir besoin d&#39;un schema de communication ou chaque processeur envoie et recoit</span></div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span><span class="comment">// des donnees a ses voisins directs (voisins par un sommet)</span></div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>  <a class="code hl_class" href="classSchema__Comm.html">Schema_Comm</a> schema_comm;</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ad11c9b47999c294c26ae4df8d2bbd57b">set_send_recv_pe_list</a>(liste_pe_voisins, liste_pe_voisins);</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span> </div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span><span class="comment">// On va avoir besoin d&#39;un acces rapide a la liste des processeurs qui partagent un</span></div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span><span class="comment">// sommet et a l&#39;indice de ce sommet sur ce processeur.</span></div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span><span class="comment">// Contenu de la structure:</span></div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span><span class="comment">// data_sommets_communs.get_list_size(sommet) = 2*le nombre de procs qui partagent le sommet</span></div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span><span class="comment">// data_sommets_communs(sommet, 2*i) = numero du pe voisin</span></div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span><span class="comment">// data_sommets_communs(sommet, 2*i+1) = indice du sommet sur ce pe.</span></div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>  <a class="code hl_class" href="classStatic__Int__Lists.html">Static_Int_Lists</a> data_sommets_communs;</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span><span class="comment">// Remplissage : la structure n&#39;est utilisee que si l&#39;epaisseur de joint est &gt; 1</span></div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>  <span class="keywordflow">if</span> (epaisseur_joint &gt; 1)</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>    {</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>      <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> count(dom.<a class="code hl_function" href="classDomaine.html#ade3572a127cbe62440b9d7af8f50cf58">nb_som</a>());</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span><span class="comment">// Etape 1 : avec combien de processeurs chaque sommet est-il partage ?</span></div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ijoint = 0; ijoint &lt; nbjoints; ijoint++)</div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>        {</div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>          <span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint = zone.<a class="code hl_function" href="classZone.html#aef862d7e09cbdf331de0fd1f0ba3b334">joint</a>(ijoint);</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; sommets_joint = joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).<a class="code hl_function" href="classJoint__Items.html#ae341478a0251c4ab6fc7c65189a7f30b">items_communs</a>();</div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> n = sommets_joint.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span>            {</div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> som = sommets_joint[i];</div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span>              count[som] += 2; <span class="comment">//!&lt; On stocke 2 entiers par sommets commun</span></div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span>            }</div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span>        }</div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span>      data_sommets_communs.<a class="code hl_function" href="classStatic__Int__Lists.html#a60da63cb1970f5b87d1e1fdf6d65dcb2">set_list_sizes</a>(count);</div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span>      count = 0;</div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span><span class="comment">// Etape 2 : remplissage de la structure:</span></div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ijoint = 0; ijoint &lt; nbjoints; ijoint++)</div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span>        {</div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span>          <span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint = zone.<a class="code hl_function" href="classZone.html#aef862d7e09cbdf331de0fd1f0ba3b334">joint</a>(ijoint);</div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> pe = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; renum_sommets = joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).<a class="code hl_function" href="classJoint__Items.html#a78f3342c38b3331b3b57b7b4b9dbf94c">renum_items_communs</a>();</div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> n = renum_sommets.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0);</div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span>            {</div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span><span class="comment">// Indice du sommet partage sur le pe voisin</span></div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> i_sommet_distant = renum_sommets(i, 0);</div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span><span class="comment">// Indice du sommet partage sur ma zone locale</span></div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> i_sommet_local = renum_sommets(i, 1);</div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> j = count[i_sommet_local]++;</div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span>              data_sommets_communs.<a class="code hl_function" href="classStatic__Int__Lists.html#ab56f42945e3057185cc1086e1cbc1bbb">set_value</a>(i_sommet_local, j*2, pe);</div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span>              data_sommets_communs.<a class="code hl_function" href="classStatic__Int__Lists.html#ab56f42945e3057185cc1086e1cbc1bbb">set_value</a>(i_sommet_local, j*2+1, i_sommet_distant);</div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span>            }</div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span>        }</div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span>    }</div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span> </div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span><span class="comment">// Boucle sur l&#39;epaisseur de joint:</span></div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span><span class="comment">// A l&#39;entree de la boucle, on suppose que liste_sommets contient, pour chaque processeur</span></div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span><span class="comment">// qui requiert des elements virtuels, la liste des sommets de me() dont il veut les voisins.</span></div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> epaisseur = 1; ; epaisseur++)</div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span>    {</div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span>        <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Calculation of the thickness &quot;</span> &lt;&lt; epaisseur &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span> </div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span><span class="comment">// Pour chaque liste de sommets, mettre dans les elements distants du meme processeur</span></div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span><span class="comment">// les elements voisins des sommets de la liste.</span></div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span>      <span class="keywordtype">int</span> pe;</div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span>      <span class="keywordflow">for</span> (pe = 0; pe &lt; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>; pe++)</div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span>        {</div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span>          <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; elems_dist = elements_distants[pe];</div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; sommets = liste_sommets[pe];</div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span>          elems_dist.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(0);</div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som_liste = sommets.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> isom = 0; isom &lt; nb_som_liste; isom++)</div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span>            {</div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> som = sommets[isom];</div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span>              <span class="keywordflow">if</span> (som&lt;0)</div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> nb_elem_som = som_elem.<a class="code hl_function" href="classStatic__Int__Lists.html#a2c8091beadd34c31580735274d0098e7">get_list_size</a>(som);</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ielem = 0; ielem &lt; nb_elem_som; ielem++)</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>                {</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>                  <span class="keyword">const</span> <span class="keywordtype">int</span> elem = som_elem(som, ielem);</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>                  elems_dist.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(elem);</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span>                }</div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>            }</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>          <a class="code hl_function" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">array_trier_retirer_doublons</a>(elems_dist);</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>        }</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span> </div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span><span class="comment">// La suite est la mise a jour de liste_sommets pour l&#39;iteration suivante.</span></div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span><span class="comment">// Inutile de le faire si on est a la derniere iteration:</span></div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>      <span class="keywordflow">if</span> (epaisseur == epaisseur_joint)</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span> </div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span><span class="comment">// Mettre dans les listes de sommets les sommets des elements distants trouves</span></div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>      <span class="keywordflow">for</span> (pe = 0; pe &lt; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>; pe++)</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>        {</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span>          <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; sommets = liste_sommets[pe];</div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; elems_dist = elements_distants[pe];</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>          sommets.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(0);</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> nb_elems_dist = elems_dist.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ielem = 0; ielem &lt; nb_elems_dist; ielem++)</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>            {</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> elem = elems_dist[ielem];</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> isom = 0; isom &lt; nb_som_elem; isom++)</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>                {</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>                  <span class="keyword">const</span> <span class="keywordtype">int</span> som = les_elems(elem, isom);</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>                  sommets.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(som);</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>                }</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>            }</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>          <a class="code hl_function" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">array_trier_retirer_doublons</a>(sommets);</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>        }</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span><span class="comment">// Parcourir les listes de sommets. Pour chaque sommet, s&#39;il est de joint,</span></div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span><span class="comment">// envoyer aux processeurs possedant ce sommet une requete &quot;le processeur i</span></div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span><span class="comment">// veut tous les voisins de ce sommet&quot;.</span></div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span><span class="comment">// Ne pas envoyer la requete au processeur &quot;i&quot; pour la liste &quot;i&quot;: il connait</span></div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span><span class="comment">// deja ses propres elements !</span></div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>      schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ac574385d716aca94a48373ab71f37e4f">begin_comm</a>();</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span><span class="comment">// Premiere phase de communication: empiler les donnees a envoyer dans des buffers</span></div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>      <span class="keywordflow">for</span> (pe = 0; pe &lt; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>; pe++)</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>        {</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>          <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; sommets = liste_sommets[pe];</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som_liste = sommets.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> isom = 0; isom &lt; nb_som_liste; isom++)</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>            {</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> i_sommet_local = sommets[isom];</div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>              <span class="keywordflow">if</span> (i_sommet_local&lt;0)</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>              <span class="keyword">const</span> <span class="keywordtype">int</span> nb_pe_voisins = data_sommets_communs.<a class="code hl_function" href="classStatic__Int__Lists.html#a2c8091beadd34c31580735274d0098e7">get_list_size</a>(i_sommet_local) / 2;</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span>              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_pe_voisins; i++)</div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>                {</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>                  <span class="keyword">const</span> <span class="keywordtype">int</span> pe_voisin = data_sommets_communs(i_sommet_local, i*2);</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span><span class="comment">// Indice du sommet sur le processeur voisin.</span></div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>                  <span class="keyword">const</span> <span class="keywordtype">int</span> i_sommet_distant = data_sommets_communs(i_sommet_local, i*2+1);</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span>                  <span class="keywordflow">if</span> (pe_voisin != pe)</div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>                    {</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span><span class="comment">// Envoyer au processeur &quot;pe_voisin&quot; le message : &quot;le processeur PE a besoin</span></div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span><span class="comment">// des elements voisins du sommet i_sommet_distant&quot;</span></div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>                      schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a681259723c5c1b85f419433de7aa78d7">send_buffer</a>(pe_voisin) &lt;&lt; pe &lt;&lt; i_sommet_distant;</div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>                    }</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>                }</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>            }</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>        }</div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>      schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a516f48fb0494781b373d7b343388ed44">echange_taille_et_messages</a>();</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_pevoisin = 0; i_pevoisin &lt; nbjoints; i_pevoisin++)</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>        {</div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>          <span class="keyword">const</span> <span class="keywordtype">int</span> pe_voisin = liste_pe_voisins[i_pevoisin];</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>          <a class="code hl_class" href="classEntree.html">Entree</a>&amp; buffer = schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a85c05ef4688c20afa429264ebac8fdcf">recv_buffer</a>(pe_voisin);</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>          <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>            {</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>              <span class="keywordtype">int</span> pe2, sommet;</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span><span class="comment">// On recupere le message &quot;le processeur PE a besoin des elements voisins de SOMMET&quot;.</span></div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>              buffer &gt;&gt; pe2 &gt;&gt; sommet;</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>              <span class="keywordflow">if</span> (buffer.<a class="code hl_function" href="classEntree.html#abcd397cb0b99fbe7c6f01047d8cec89c">eof</a>())</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span>              liste_sommets[pe2].append_array(sommet);</div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span>            }</div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span>        }</div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span>      schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a7dd8d56caee9c6759850bb7c38e31c8b">end_comm</a>();</div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span><span class="comment">// Supprimer les doublons dans les listes de sommets</span></div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span>      <span class="keywordflow">for</span> (pe = 0; pe &lt; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>; pe++)</div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span>        {</div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span>          <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; sommets = liste_sommets[pe];</div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span>          <a class="code hl_function" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">array_trier_retirer_doublons</a>(sommets);</div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span>        }</div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span>    }</div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span> </div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span><span class="comment">// Creation des nouveaux joints si besoin, et stockage des elements distants dans les joints</span></div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span>  {</div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span>    <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> voisins;</div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span>    voisins.<a class="code hl_function" href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">set_smart_resize</a>(1);</div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span> </div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> pe = 0; pe &lt; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">nproc</a>; pe++)</div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span>      <span class="keywordflow">if</span> (elements_distants[pe].size_array() &gt; 0)</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>        voisins.<a class="code hl_function" href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">append_array</a>(pe);</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>    <a class="code hl_function" href="classScatter.html#a472e9375c5a64518e7b50542d2209995">ajouter_joints</a>(zone, voisins);</div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span> </div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span><span class="preprocessor">#ifdef CHECK_ALGO_ESPACE_VIRTUEL</span></div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span><span class="comment">// On n&#39;utilise pas les espaces virtuels calcules ci-dessus, on se</span></div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span><span class="comment">// contente de les comparer aux espaces virtuels calcules lors du decoupage</span></div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span><span class="comment">// par l&#39;algorithme sequentiel.</span></div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span><span class="comment">// Pour l&#39;instant, l&#39;algorithme parallele a l&#39;air de fonctionner sans probleme</span></div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span><span class="comment">// je desactive ce test. (Benoit Mathieu)</span></div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>    <span class="keywordtype">int</span> <a class="code hl_function" href="Solv__GCP__NS_8cpp.html#ab6aa1075b965c7713d8db20dd3a8e09b">erreur</a> = 0;</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> nbjoints = zone.nbjoints();</div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nbjoints; i++)</div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>      {</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>        <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint = zone.<a class="code hl_function" href="classZone.html#aef862d7e09cbdf331de0fd1f0ba3b334">joint</a>(i);</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> pe = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>        <span class="keywordflow">if</span> (!(joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code hl_function" href="classJoint__Items.html#a59175012728b3e41778c7ae24db94c29">items_distants</a>() == elements_distants[pe]))</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>          {</div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>            <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Scatter, PE &quot;</span> &lt;&lt; <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>() &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>            <a class="code hl_function" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">Process::Journal</a>() &lt;&lt; <span class="stringliteral">&quot;Error scatter, remote elements pe &quot;</span> &lt;&lt; pe &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a></div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>                               &lt;&lt; <span class="stringliteral">&quot; Splitting algorithm: &quot;</span> &lt;&lt; joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code hl_function" href="classJoint__Items.html#a59175012728b3e41778c7ae24db94c29">items_distants</a>()</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>                               &lt;&lt; <span class="stringliteral">&quot; Scatter algorithm  : &quot;</span> &lt;&lt; elements_distants[pe] &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span> </div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>            <a class="code hl_function" href="Solv__GCP__NS_8cpp.html#ab6aa1075b965c7713d8db20dd3a8e09b">erreur</a> = 1;</div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>          }</div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span>      }</div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd">mp_sum</a>(<a class="code hl_function" href="Solv__GCP__NS_8cpp.html#ab6aa1075b965c7713d8db20dd3a8e09b">erreur</a>))</div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span><span class="comment">// Stockage du resultat</span></div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = zone.<a class="code hl_function" href="classZone.html#ab268cec09b34e5f4dd670a5a38fbd37c">nb_joints</a>();</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_joints; i++)</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>      {</div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>        <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint = zone.<a class="code hl_function" href="classZone.html#aef862d7e09cbdf331de0fd1f0ba3b334">joint</a>(i);</div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> pe = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span>        joint.<a class="code hl_function" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de">set_joint_item</a>(<a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).<a class="code hl_function" href="classJoint__Items.html#a13add264f4ad36ef4bddbfc1b7bdb817">set_items_distants</a>() = elements_distants[pe];</div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>      }</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>  }</div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>}</div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span> </div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a09e112f8a32312a1675f7e33b94df122"> 2448</a></span><span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="Scatter_8cpp.html#a09e112f8a32312a1675f7e33b94df122">fct_cmp_coord_dimension</a> = -1;</div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a81c1304205b09abc2acc284f8adc390c"> 2449</a></span><span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code hl_variable" href="Scatter_8cpp.html#a81c1304205b09abc2acc284f8adc390c">fct_cmp_coord_epsilon</a> = -1.;</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span> </div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a06420c19a824af0906036ca04758d81c"> 2451</a></span><span class="keyword">static</span> <span class="keyword">inline</span> <a class="code hl_typedef" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> <a class="code hl_function" href="Scatter_8cpp.html#a06420c19a824af0906036ca04758d81c">fct_cmp_coordonnees</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> * s1, <span class="keyword">const</span> <span class="keywordtype">double</span> *s2)</div>
<div class="line"><a id="l02452" name="l02452"></a><span class="lineno"> 2452</span>{</div>
<div class="line"><a id="l02453" name="l02453"></a><span class="lineno"> 2453</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dim = <a class="code hl_variable" href="Scatter_8cpp.html#a09e112f8a32312a1675f7e33b94df122">fct_cmp_coord_dimension</a>;</div>
<div class="line"><a id="l02454" name="l02454"></a><span class="lineno"> 2454</span>  <span class="keyword">const</span> <span class="keywordtype">double</span> epsilon = <a class="code hl_variable" href="Scatter_8cpp.html#a81c1304205b09abc2acc284f8adc390c">fct_cmp_coord_epsilon</a>;</div>
<div class="line"><a id="l02455" name="l02455"></a><span class="lineno"> 2455</span>  assert(dim==2 || dim==3);</div>
<div class="line"><a id="l02456" name="l02456"></a><span class="lineno"> 2456</span>  <span class="keywordflow">if</span> (s1[0] &lt; s2[0] - epsilon)</div>
<div class="line"><a id="l02457" name="l02457"></a><span class="lineno"> 2457</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l02458" name="l02458"></a><span class="lineno"> 2458</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s1[0] &gt; s2[0] + epsilon)</div>
<div class="line"><a id="l02459" name="l02459"></a><span class="lineno"> 2459</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l02460" name="l02460"></a><span class="lineno"> 2460</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s1[1] &lt; s2[1] - epsilon)</div>
<div class="line"><a id="l02461" name="l02461"></a><span class="lineno"> 2461</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l02462" name="l02462"></a><span class="lineno"> 2462</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s1[1] &gt; s2[1] + epsilon)</div>
<div class="line"><a id="l02463" name="l02463"></a><span class="lineno"> 2463</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l02464" name="l02464"></a><span class="lineno"> 2464</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dim&lt;3)</div>
<div class="line"><a id="l02465" name="l02465"></a><span class="lineno"> 2465</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02466" name="l02466"></a><span class="lineno"> 2466</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s1[2] &lt; s2[2] - epsilon)</div>
<div class="line"><a id="l02467" name="l02467"></a><span class="lineno"> 2467</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l02468" name="l02468"></a><span class="lineno"> 2468</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s1[2] &gt; s2[2] + epsilon)</div>
<div class="line"><a id="l02469" name="l02469"></a><span class="lineno"> 2469</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l02470" name="l02470"></a><span class="lineno"> 2470</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l02471" name="l02471"></a><span class="lineno"> 2471</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l02472" name="l02472"></a><span class="lineno"> 2472</span>}</div>
<div class="line"><a id="l02473" name="l02473"></a><span class="lineno"> 2473</span> </div>
<div class="line"><a id="l02474" name="l02474"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a107a2fbce3e368271c492cfcf7cfca10"> 2474</a></span><span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a> * <a class="code hl_variable" href="Scatter_8cpp.html#a107a2fbce3e368271c492cfcf7cfca10">fct_cmp_coord_tableau</a> = 0;</div>
<div class="line"><a id="l02475" name="l02475"></a><span class="lineno"> 2475</span><span class="comment">// Fonction de comparaison pour le tri d&#39;un tableau d&#39;indirection vers</span></div>
<div class="line"><a id="l02476" name="l02476"></a><span class="lineno"> 2476</span><span class="comment">// des coordonnees de sommets. Fonction appelee par qsort.</span></div>
<div class="line"><a id="l02477" name="l02477"></a><span class="lineno"> 2477</span><span class="comment">// ptr1 et ptr2 sont des adresses de deux entiers dans le tableau &quot;index&quot;</span></div>
<div class="line"><a id="l02478" name="l02478"></a><span class="lineno"> 2478</span><span class="comment">// Les coordonnees comparees sont dans le tableau *fct_cmp_coord_tableau</span></div>
<div class="line"><a id="l02479" name="l02479"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a727b40392ca2280ef4b3f158a4225b48"> 2479</a></span><span class="keyword">static</span> <a class="code hl_typedef" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> <a class="code hl_function" href="Scatter_8cpp.html#a727b40392ca2280ef4b3f158a4225b48">fct_cmp_index_coord</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> * ptr1, <span class="keyword">const</span> <span class="keywordtype">void</span> * ptr2)</div>
<div class="line"><a id="l02480" name="l02480"></a><span class="lineno"> 2480</span>{</div>
<div class="line"><a id="l02481" name="l02481"></a><span class="lineno"> 2481</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> i1 = *(<span class="keyword">const</span> <span class="keywordtype">int</span> *)ptr1;</div>
<div class="line"><a id="l02482" name="l02482"></a><span class="lineno"> 2482</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> i2 = *(<span class="keyword">const</span> <span class="keywordtype">int</span> *)ptr2;</div>
<div class="line"><a id="l02483" name="l02483"></a><span class="lineno"> 2483</span>  <span class="keyword">const</span> <span class="keywordtype">double</span> * s1 = &amp; (*fct_cmp_coord_tableau)(i1,0);</div>
<div class="line"><a id="l02484" name="l02484"></a><span class="lineno"> 2484</span>  <span class="keyword">const</span> <span class="keywordtype">double</span> * s2 = &amp; (*fct_cmp_coord_tableau)(i2,0);</div>
<div class="line"><a id="l02485" name="l02485"></a><span class="lineno"> 2485</span>  <span class="keyword">const</span> <a class="code hl_typedef" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> resu = <a class="code hl_function" href="Scatter_8cpp.html#a06420c19a824af0906036ca04758d81c">fct_cmp_coordonnees</a>(s1, s2);</div>
<div class="line"><a id="l02486" name="l02486"></a><span class="lineno"> 2486</span>  <span class="keywordflow">return</span> resu;</div>
<div class="line"><a id="l02487" name="l02487"></a><span class="lineno"> 2487</span>}</div>
<div class="line"><a id="l02488" name="l02488"></a><span class="lineno"> 2488</span> </div>
<div class="line"><a id="l02489" name="l02489"></a><span class="lineno"> 2489</span><span class="comment">//</span></div>
<div class="line"><a id="l02490" name="l02490"></a><span class="lineno"> 2490</span><span class="comment">//</span></div>
<div class="line"><a id="l02491" name="l02491"></a><span class="lineno"> 2491</span><span class="comment">//</span></div>
<div class="line"><a id="l02492" name="l02492"></a><span class="lineno"> 2492</span><span class="comment">//</span></div>
<div class="line"><a id="l02493" name="l02493"></a><span class="lineno"> 2493</span><span class="comment">//</span></div>
<div class="line"><a id="l02494" name="l02494"></a><span class="lineno"> 2494</span><span class="comment">//</span></div>
<div class="line"><a id="l02495" name="l02495"></a><span class="lineno"> 2495</span><span class="comment">//</span></div>
<div class="line"><a id="l02496" name="l02496"></a><span class="lineno"> 2496</span><span class="comment">//</span></div>
<div class="line"><a id="l02497" name="l02497"></a><span class="lineno"> 2497</span><span class="comment">//</span></div>
<div class="line"><a id="l02498" name="l02498"></a><span class="lineno"> 2498</span><span class="comment">//</span></div>
<div class="line"><a id="l02499" name="l02499"></a><span class="lineno"> 2499</span><span class="comment">//</span></div>
<div class="line"><a id="l02500" name="l02500"></a><span class="lineno"> 2500</span><span class="comment">//</span></div>
<div class="line"><a id="l02501" name="l02501"></a><span class="lineno"> 2501</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l02502" name="l02502"></a><span class="lineno"> 2502</span><span class="comment">//! Construit le tableau &quot;correspondance&quot; tel que&lt;br&gt;Pour 0 &lt;= i &lt; sommets2.size_array(),&lt;br&gt;Si sommet2(i) existe dans le tableau sommet1, alors&lt;br&gt;sommets2(i, ...) == sommets1(correspondance[i], ...)&lt;br&gt;Sinon&lt;br&gt;correspondance[i] = -1&lt;br&gt;L&#39;egalite est verifiee a epsilon pres en absolu (soit abs(x1-x2)&lt;epsilon)&lt;br&gt;L&#39;algorithme est generalement en n1*log(n1) + n2*log(n1)&lt;br&gt;(recherche basee sur un quicksort).&lt;br&gt;En cas d&#39;echec du tri, on utilise un algorithme en n1*n2.&lt;br&gt;Les tableaux sommets1 et sommets2 doivent etre de dimension 2&lt;br&gt;Le tableau correspondance doit etre de taille sommets2.size_array().&lt;br&gt;Valeur de retour: nombre de sommets de sommets2 non trouves dans le tableau sommets1.</span></div>
<div class="line"><a id="l02503" name="l02503"></a><span class="lineno"><a class="line" href="classScatter.html#a16a9000e31ccecd2438c8f05e41cc302"> 2503</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classScatter.html#a16a9000e31ccecd2438c8f05e41cc302">Scatter::Chercher_Correspondance</a>(<span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; sommets1, <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; sommets2,</div>
<div class="line"><a id="l02504" name="l02504"></a><span class="lineno"> 2504</span>                                     <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; correspondance, <span class="keyword">const</span> <span class="keywordtype">double</span> epsilon)</div>
<div class="line"><a id="l02505" name="l02505"></a><span class="lineno"> 2505</span>{</div>
<div class="line"><a id="l02506" name="l02506"></a><span class="lineno"> 2506</span><span class="comment">// Methode non threadsafe a cause des static. On teste</span></div>
<div class="line"><a id="l02507" name="l02507"></a><span class="lineno"> 2507</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="Scatter_8cpp.html#a107a2fbce3e368271c492cfcf7cfca10">fct_cmp_coord_tableau</a>)</div>
<div class="line"><a id="l02508" name="l02508"></a><span class="lineno"> 2508</span>    {</div>
<div class="line"><a id="l02509" name="l02509"></a><span class="lineno"> 2509</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Thread error in Chercher_Correspondance&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02510" name="l02510"></a><span class="lineno"> 2510</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l02511" name="l02511"></a><span class="lineno"> 2511</span>    }</div>
<div class="line"><a id="l02512" name="l02512"></a><span class="lineno"> 2512</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_sommets1 = sommets1.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0);</div>
<div class="line"><a id="l02513" name="l02513"></a><span class="lineno"> 2513</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_sommets2 = sommets2.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0);</div>
<div class="line"><a id="l02514" name="l02514"></a><span class="lineno"> 2514</span><span class="comment">// Precondition necessaire pour fct_cmp_index_coord</span></div>
<div class="line"><a id="l02515" name="l02515"></a><span class="lineno"> 2515</span>  assert(sommets1.<a class="code hl_function" href="classTRUSTTab.html#a2080aac630cb9bfd47030c0c01fdb35d">nb_dim</a>() == 2);</div>
<div class="line"><a id="l02516" name="l02516"></a><span class="lineno"> 2516</span>  assert(sommets2.<a class="code hl_function" href="classTRUSTTab.html#a2080aac630cb9bfd47030c0c01fdb35d">nb_dim</a>() == 2);</div>
<div class="line"><a id="l02517" name="l02517"></a><span class="lineno"> 2517</span>  assert(correspondance.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>() == nb_sommets2);</div>
<div class="line"><a id="l02518" name="l02518"></a><span class="lineno"> 2518</span>  <span class="keywordflow">if</span> (nb_sommets1 &lt; 1)</div>
<div class="line"><a id="l02519" name="l02519"></a><span class="lineno"> 2519</span>    {</div>
<div class="line"><a id="l02520" name="l02520"></a><span class="lineno"> 2520</span>      correspondance = -1;</div>
<div class="line"><a id="l02521" name="l02521"></a><span class="lineno"> 2521</span>      <span class="keywordflow">return</span> nb_sommets2;</div>
<div class="line"><a id="l02522" name="l02522"></a><span class="lineno"> 2522</span>    }</div>
<div class="line"><a id="l02523" name="l02523"></a><span class="lineno"> 2523</span> </div>
<div class="line"><a id="l02524" name="l02524"></a><span class="lineno"> 2524</span>  <a class="code hl_variable" href="Scatter_8cpp.html#a107a2fbce3e368271c492cfcf7cfca10">fct_cmp_coord_tableau</a>   = &amp;sommets1;</div>
<div class="line"><a id="l02525" name="l02525"></a><span class="lineno"> 2525</span>  <a class="code hl_variable" href="Scatter_8cpp.html#a09e112f8a32312a1675f7e33b94df122">fct_cmp_coord_dimension</a> = sommets1.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(1);</div>
<div class="line"><a id="l02526" name="l02526"></a><span class="lineno"> 2526</span>  <a class="code hl_variable" href="Scatter_8cpp.html#a81c1304205b09abc2acc284f8adc390c">fct_cmp_coord_epsilon</a>   = epsilon;</div>
<div class="line"><a id="l02527" name="l02527"></a><span class="lineno"> 2527</span> </div>
<div class="line"><a id="l02528" name="l02528"></a><span class="lineno"> 2528</span><span class="comment">// Tableau d&#39;indirection trie, tel que les coordonnees sommets1(index[i], .) soient</span></div>
<div class="line"><a id="l02529" name="l02529"></a><span class="lineno"> 2529</span><span class="comment">// tiees dans l&#39;ordre lexicographique.</span></div>
<div class="line"><a id="l02530" name="l02530"></a><span class="lineno"> 2530</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> index(nb_sommets1);</div>
<div class="line"><a id="l02531" name="l02531"></a><span class="lineno"> 2531</span>  {</div>
<div class="line"><a id="l02532" name="l02532"></a><span class="lineno"> 2532</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l02533" name="l02533"></a><span class="lineno"> 2533</span>    <span class="keywordflow">for</span> (i = 0; i &lt; nb_sommets1; i++)</div>
<div class="line"><a id="l02534" name="l02534"></a><span class="lineno"> 2534</span>      index[i] = i;</div>
<div class="line"><a id="l02535" name="l02535"></a><span class="lineno"> 2535</span>  }</div>
<div class="line"><a id="l02536" name="l02536"></a><span class="lineno"> 2536</span> </div>
<div class="line"><a id="l02537" name="l02537"></a><span class="lineno"> 2537</span><span class="comment">// Tri du tableau d&#39;index</span></div>
<div class="line"><a id="l02538" name="l02538"></a><span class="lineno"> 2538</span><span class="comment">// On trie les sommets par ordre lexicographique des coordonnees.</span></div>
<div class="line"><a id="l02539" name="l02539"></a><span class="lineno"> 2539</span><span class="comment">// Comme on fait un test a epsilon pres, le tri peut echouer:</span></div>
<div class="line"><a id="l02540" name="l02540"></a><span class="lineno"> 2540</span><span class="comment">// Si x=1, y=1.01, z=1.02 et epsilon=0.01, on a</span></div>
<div class="line"><a id="l02541" name="l02541"></a><span class="lineno"> 2541</span><span class="comment">// x==y (a epsilon pres)</span></div>
<div class="line"><a id="l02542" name="l02542"></a><span class="lineno"> 2542</span><span class="comment">// y==z (a epsilon pres)</span></div>
<div class="line"><a id="l02543" name="l02543"></a><span class="lineno"> 2543</span><span class="comment">// mais x!=z</span></div>
<div class="line"><a id="l02544" name="l02544"></a><span class="lineno"> 2544</span><span class="comment">// Donc la recherche par dichotomie peut echouer par la suite.</span></div>
<div class="line"><a id="l02545" name="l02545"></a><span class="lineno"> 2545</span> </div>
<div class="line"><a id="l02546" name="l02546"></a><span class="lineno"> 2546</span>  qsort(index.<a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">addr</a>(), nb_sommets1, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>),</div>
<div class="line"><a id="l02547" name="l02547"></a><span class="lineno"> 2547</span>        <a class="code hl_function" href="Scatter_8cpp.html#a727b40392ca2280ef4b3f158a4225b48">fct_cmp_index_coord</a>);</div>
<div class="line"><a id="l02548" name="l02548"></a><span class="lineno"> 2548</span> </div>
<div class="line"><a id="l02549" name="l02549"></a><span class="lineno"> 2549</span><span class="comment">// Construction du tableau de correspondance tel que</span></div>
<div class="line"><a id="l02550" name="l02550"></a><span class="lineno"> 2550</span><span class="comment">// sommet1(correspondance[i], ...) == sommet2(i, ...)</span></div>
<div class="line"><a id="l02551" name="l02551"></a><span class="lineno"> 2551</span>  <span class="keywordtype">int</span> nb_sommets_non_trouves = 0;</div>
<div class="line"><a id="l02552" name="l02552"></a><span class="lineno"> 2552</span>  <span class="keywordtype">int</span> nb_echec_dichotomie = 0;</div>
<div class="line"><a id="l02553" name="l02553"></a><span class="lineno"> 2553</span>  {</div>
<div class="line"><a id="l02554" name="l02554"></a><span class="lineno"> 2554</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l02555" name="l02555"></a><span class="lineno"> 2555</span>    <span class="keywordflow">for</span> (i = 0; i &lt; nb_sommets2; i++)</div>
<div class="line"><a id="l02556" name="l02556"></a><span class="lineno"> 2556</span>      {</div>
<div class="line"><a id="l02557" name="l02557"></a><span class="lineno"> 2557</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> * s2 = &amp; sommets2(i,0);</div>
<div class="line"><a id="l02558" name="l02558"></a><span class="lineno"> 2558</span>        <span class="keywordtype">int</span> num_sommet = -1;</div>
<div class="line"><a id="l02559" name="l02559"></a><span class="lineno"> 2559</span> </div>
<div class="line"><a id="l02560" name="l02560"></a><span class="lineno"> 2560</span><span class="comment">// D&#39;abord recherche du sommet dans le tableau sommets1 par dichotomie (bsearch)</span></div>
<div class="line"><a id="l02561" name="l02561"></a><span class="lineno"> 2561</span>        <span class="keywordtype">int</span> imin = 0;</div>
<div class="line"><a id="l02562" name="l02562"></a><span class="lineno"> 2562</span>        <span class="keywordtype">int</span> imax = nb_sommets1 - 1;</div>
<div class="line"><a id="l02563" name="l02563"></a><span class="lineno"> 2563</span>        <span class="keywordtype">int</span> resu_cmp = -1;</div>
<div class="line"><a id="l02564" name="l02564"></a><span class="lineno"> 2564</span>        <span class="keywordtype">int</span> k = -1;</div>
<div class="line"><a id="l02565" name="l02565"></a><span class="lineno"> 2565</span>        <span class="keywordflow">while</span> (imax &gt; imin)</div>
<div class="line"><a id="l02566" name="l02566"></a><span class="lineno"> 2566</span>          {</div>
<div class="line"><a id="l02567" name="l02567"></a><span class="lineno"> 2567</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> milieu = (imin + imax) &gt;&gt; 1; <span class="comment">//!&lt; (min+max)/2</span></div>
<div class="line"><a id="l02568" name="l02568"></a><span class="lineno"> 2568</span>            k = index[milieu];</div>
<div class="line"><a id="l02569" name="l02569"></a><span class="lineno"> 2569</span>            <span class="keyword">const</span> <span class="keywordtype">double</span> * s1 = &amp; sommets1(k, 0);</div>
<div class="line"><a id="l02570" name="l02570"></a><span class="lineno"> 2570</span>            resu_cmp = <a class="code hl_function" href="Scatter_8cpp.html#a06420c19a824af0906036ca04758d81c">fct_cmp_coordonnees</a>(s1, s2);</div>
<div class="line"><a id="l02571" name="l02571"></a><span class="lineno"> 2571</span>            <span class="keywordflow">switch</span>(resu_cmp)</div>
<div class="line"><a id="l02572" name="l02572"></a><span class="lineno"> 2572</span>              {</div>
<div class="line"><a id="l02573" name="l02573"></a><span class="lineno"> 2573</span>              <span class="keywordflow">case</span> -1:</div>
<div class="line"><a id="l02574" name="l02574"></a><span class="lineno"> 2574</span>                imin = milieu + 1;</div>
<div class="line"><a id="l02575" name="l02575"></a><span class="lineno"> 2575</span>                <span class="keywordflow">break</span>; <span class="comment">//!&lt; s1&lt;s2</span></div>
<div class="line"><a id="l02576" name="l02576"></a><span class="lineno"> 2576</span>              <span class="keywordflow">case</span> 1 :</div>
<div class="line"><a id="l02577" name="l02577"></a><span class="lineno"> 2577</span>                imax = milieu - 1;</div>
<div class="line"><a id="l02578" name="l02578"></a><span class="lineno"> 2578</span>                <span class="keywordflow">break</span>; <span class="comment">//!&lt; s1&gt;s2</span></div>
<div class="line"><a id="l02579" name="l02579"></a><span class="lineno"> 2579</span>              <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02580" name="l02580"></a><span class="lineno"> 2580</span>                imin = imax = milieu;</div>
<div class="line"><a id="l02581" name="l02581"></a><span class="lineno"> 2581</span>                <span class="keywordflow">break</span>; <span class="comment">//!&lt; s1==s2</span></div>
<div class="line"><a id="l02582" name="l02582"></a><span class="lineno"> 2582</span>              }</div>
<div class="line"><a id="l02583" name="l02583"></a><span class="lineno"> 2583</span>          }</div>
<div class="line"><a id="l02584" name="l02584"></a><span class="lineno"> 2584</span>        <span class="keywordflow">if</span> (resu_cmp != 0)</div>
<div class="line"><a id="l02585" name="l02585"></a><span class="lineno"> 2585</span>          {</div>
<div class="line"><a id="l02586" name="l02586"></a><span class="lineno"> 2586</span>            k = index[imin];</div>
<div class="line"><a id="l02587" name="l02587"></a><span class="lineno"> 2587</span>            <span class="keyword">const</span> <span class="keywordtype">double</span> * s1 = &amp; sommets1(k, 0);</div>
<div class="line"><a id="l02588" name="l02588"></a><span class="lineno"> 2588</span>            resu_cmp = <a class="code hl_function" href="Scatter_8cpp.html#a06420c19a824af0906036ca04758d81c">fct_cmp_coordonnees</a>(s1, s2);</div>
<div class="line"><a id="l02589" name="l02589"></a><span class="lineno"> 2589</span>          }</div>
<div class="line"><a id="l02590" name="l02590"></a><span class="lineno"> 2590</span>        <span class="keywordflow">if</span> (resu_cmp == 0)</div>
<div class="line"><a id="l02591" name="l02591"></a><span class="lineno"> 2591</span>          {</div>
<div class="line"><a id="l02592" name="l02592"></a><span class="lineno"> 2592</span>            num_sommet = k;</div>
<div class="line"><a id="l02593" name="l02593"></a><span class="lineno"> 2593</span>          }</div>
<div class="line"><a id="l02594" name="l02594"></a><span class="lineno"> 2594</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l02595" name="l02595"></a><span class="lineno"> 2595</span>          {</div>
<div class="line"><a id="l02596" name="l02596"></a><span class="lineno"> 2596</span>            nb_echec_dichotomie++;</div>
<div class="line"><a id="l02597" name="l02597"></a><span class="lineno"> 2597</span><span class="comment">// Si echec, c&#39;est peut-etre que le tableau n&#39;est pas ordonne correctement</span></div>
<div class="line"><a id="l02598" name="l02598"></a><span class="lineno"> 2598</span><span class="comment">// =&gt; recherche du sommet en parcourant tout le tableau</span></div>
<div class="line"><a id="l02599" name="l02599"></a><span class="lineno"> 2599</span>            <span class="keywordtype">int</span> j;</div>
<div class="line"><a id="l02600" name="l02600"></a><span class="lineno"> 2600</span>            <span class="keywordflow">for</span> (j = 0; j &lt; nb_sommets1; j++)</div>
<div class="line"><a id="l02601" name="l02601"></a><span class="lineno"> 2601</span>              {</div>
<div class="line"><a id="l02602" name="l02602"></a><span class="lineno"> 2602</span>                <span class="keyword">const</span> <span class="keywordtype">double</span> * s1 = &amp; sommets1(j,0);</div>
<div class="line"><a id="l02603" name="l02603"></a><span class="lineno"> 2603</span>                resu_cmp = <a class="code hl_function" href="Scatter_8cpp.html#a06420c19a824af0906036ca04758d81c">fct_cmp_coordonnees</a>(s1, s2);</div>
<div class="line"><a id="l02604" name="l02604"></a><span class="lineno"> 2604</span>                <span class="keywordflow">if</span> (resu_cmp == 0)</div>
<div class="line"><a id="l02605" name="l02605"></a><span class="lineno"> 2605</span>                  <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02606" name="l02606"></a><span class="lineno"> 2606</span>              }</div>
<div class="line"><a id="l02607" name="l02607"></a><span class="lineno"> 2607</span>            <span class="keywordflow">if</span> (j &lt; nb_sommets1)</div>
<div class="line"><a id="l02608" name="l02608"></a><span class="lineno"> 2608</span>              num_sommet = j;</div>
<div class="line"><a id="l02609" name="l02609"></a><span class="lineno"> 2609</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02610" name="l02610"></a><span class="lineno"> 2610</span>              nb_sommets_non_trouves++;</div>
<div class="line"><a id="l02611" name="l02611"></a><span class="lineno"> 2611</span>          }</div>
<div class="line"><a id="l02612" name="l02612"></a><span class="lineno"> 2612</span> </div>
<div class="line"><a id="l02613" name="l02613"></a><span class="lineno"> 2613</span>        correspondance[i] = num_sommet;</div>
<div class="line"><a id="l02614" name="l02614"></a><span class="lineno"> 2614</span>      }</div>
<div class="line"><a id="l02615" name="l02615"></a><span class="lineno"> 2615</span>  }</div>
<div class="line"><a id="l02616" name="l02616"></a><span class="lineno"> 2616</span>  <a class="code hl_variable" href="Scatter_8cpp.html#a09e112f8a32312a1675f7e33b94df122">fct_cmp_coord_dimension</a> = 0;</div>
<div class="line"><a id="l02617" name="l02617"></a><span class="lineno"> 2617</span>  <a class="code hl_variable" href="Scatter_8cpp.html#a81c1304205b09abc2acc284f8adc390c">fct_cmp_coord_epsilon</a>   = -1.;</div>
<div class="line"><a id="l02618" name="l02618"></a><span class="lineno"> 2618</span>  <a class="code hl_variable" href="Scatter_8cpp.html#a107a2fbce3e368271c492cfcf7cfca10">fct_cmp_coord_tableau</a>   = 0;</div>
<div class="line"><a id="l02619" name="l02619"></a><span class="lineno"> 2619</span> </div>
<div class="line"><a id="l02620" name="l02620"></a><span class="lineno"> 2620</span>  <span class="keywordflow">if</span> (nb_echec_dichotomie &gt; 0)</div>
<div class="line"><a id="l02621" name="l02621"></a><span class="lineno"> 2621</span>    <a class="code hl_function" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">Process::Journal</a>() &lt;&lt; <span class="stringliteral">&quot;Chercher_Correspondance Dichotomy failure rate &quot;</span></div>
<div class="line"><a id="l02622" name="l02622"></a><span class="lineno"> 2622</span>                       &lt;&lt; nb_echec_dichotomie &lt;&lt; <span class="stringliteral">&quot; / &quot;</span> &lt;&lt; nb_sommets2 &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02623" name="l02623"></a><span class="lineno"> 2623</span> </div>
<div class="line"><a id="l02624" name="l02624"></a><span class="lineno"> 2624</span>  <span class="keywordflow">return</span> nb_sommets_non_trouves;</div>
<div class="line"><a id="l02625" name="l02625"></a><span class="lineno"> 2625</span>}</div>
<div class="line"><a id="l02626" name="l02626"></a><span class="lineno"> 2626</span> </div>
<div class="line"><a id="l02627" name="l02627"></a><span class="lineno"> 2627</span><span class="comment">//</span></div>
<div class="line"><a id="l02628" name="l02628"></a><span class="lineno"> 2628</span><span class="comment">//</span></div>
<div class="line"><a id="l02629" name="l02629"></a><span class="lineno"> 2629</span><span class="comment">//</span></div>
<div class="line"><a id="l02630" name="l02630"></a><span class="lineno"> 2630</span><span class="comment">//</span></div>
<div class="line"><a id="l02631" name="l02631"></a><span class="lineno"> 2631</span><span class="comment">//</span></div>
<div class="line"><a id="l02632" name="l02632"></a><span class="lineno"> 2632</span><span class="comment">//</span></div>
<div class="line"><a id="l02633" name="l02633"></a><span class="lineno"> 2633</span><span class="comment">//</span></div>
<div class="line"><a id="l02634" name="l02634"></a><span class="lineno"> 2634</span><span class="comment">//</span></div>
<div class="line"><a id="l02635" name="l02635"></a><span class="lineno"> 2635</span><span class="comment">//</span></div>
<div class="line"><a id="l02636" name="l02636"></a><span class="lineno"> 2636</span><span class="comment">//</span></div>
<div class="line"><a id="l02637" name="l02637"></a><span class="lineno"> 2637</span><span class="comment">//</span></div>
<div class="line"><a id="l02638" name="l02638"></a><span class="lineno"> 2638</span><span class="comment">//</span></div>
<div class="line"><a id="l02639" name="l02639"></a><span class="lineno"> 2639</span><span class="comment">//</span></div>
<div class="line"><a id="l02640" name="l02640"></a><span class="lineno"> 2640</span><span class="comment">//</span></div>
<div class="line"><a id="l02641" name="l02641"></a><span class="lineno"> 2641</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l02642" name="l02642"></a><span class="lineno"> 2642</span><span class="comment">//! Methode obsolete (utilisee avec l&#39;ancien decoupeur).&lt;br&gt;On suppose que le domaine contient les structures suivantes:&lt;br&gt;* zone(0).faces_joint[i].sommets()            (les sommets de joint isoles)&lt;br&gt;* zone(0).faces_joint[i].faces().les_sommets  (les sommets des faces de joint)&lt;br&gt;et que chaque processeur contient une portion d&#39;un domaine complet.&lt;br&gt;On remplit les tableaux joint_item(Joint::Type_Item).items_communs pour tous les joints de la&lt;br&gt;zone 0 du domaine et renum_items_communs.&lt;br&gt;Ordre d&#39;apparition des items : ordre croissant de l&#39;indice du&lt;br&gt;sommet sur le processeur de rang le plus petit&lt;br&gt;Cette methode doit etre appelee simultanement sur tous les processeurs&lt;br&gt;du groupe et ne s&#39;applique qu&#39;aux items ARETE et SOMMET&lt;br&gt;L&#39;algorithme utilise les coordonnees des items pour retrouver la&lt;br&gt;correspondance entre les items de joint.</span></div>
<div class="line"><a id="l02643" name="l02643"></a><span class="lineno"> 2643</span><span class="comment"></span> </div>
<div class="line"><a id="l02644" name="l02644"></a><span class="lineno"><a class="line" href="classScatter.html#a06ae2df37becb17fe4e7b2e8c9c07cbd"> 2644</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a06ae2df37becb17fe4e7b2e8c9c07cbd">Scatter::construire_correspondance_items_par_coordonnees</a>(<a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints, <span class="keyword">const</span> <a class="code hl_enumeration" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926">Joint::Type_Item</a> type_item, <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; coord_items)</div>
<div class="line"><a id="l02645" name="l02645"></a><span class="lineno"> 2645</span>{</div>
<div class="line"><a id="l02646" name="l02646"></a><span class="lineno"> 2646</span>  <span class="keywordflow">switch</span>(type_item)</div>
<div class="line"><a id="l02647" name="l02647"></a><span class="lineno"> 2647</span>    {</div>
<div class="line"><a id="l02648" name="l02648"></a><span class="lineno"> 2648</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>:</div>
<div class="line"><a id="l02649" name="l02649"></a><span class="lineno"> 2649</span>      ;</div>
<div class="line"><a id="l02650" name="l02650"></a><span class="lineno"> 2650</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02651" name="l02651"></a><span class="lineno"> 2651</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a7816c69408b98e1161f1f54e7b6b1cb4">Joint::ARETE</a>:</div>
<div class="line"><a id="l02652" name="l02652"></a><span class="lineno"> 2652</span>      ;</div>
<div class="line"><a id="l02653" name="l02653"></a><span class="lineno"> 2653</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l02654" name="l02654"></a><span class="lineno"> 2654</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l02655" name="l02655"></a><span class="lineno"> 2655</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Scatter::construire_correspondance_items_par_coordonnees unusable for item &quot;</span></div>
<div class="line"><a id="l02656" name="l02656"></a><span class="lineno"> 2656</span>           &lt;&lt; (int)type_item</div>
<div class="line"><a id="l02657" name="l02657"></a><span class="lineno"> 2657</span>           &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02658" name="l02658"></a><span class="lineno"> 2658</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l02659" name="l02659"></a><span class="lineno"> 2659</span>    }</div>
<div class="line"><a id="l02660" name="l02660"></a><span class="lineno"> 2660</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> dim = <a class="code hl_variable" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>;</div>
<div class="line"><a id="l02661" name="l02661"></a><span class="lineno"> 2661</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l02662" name="l02662"></a><span class="lineno"> 2662</span> </div>
<div class="line"><a id="l02663" name="l02663"></a><span class="lineno"> 2663</span><span class="comment">// Indices des items de joints dans le domaine sur mon processeur</span></div>
<div class="line"><a id="l02664" name="l02664"></a><span class="lineno"> 2664</span>  <a class="code hl_class" href="classTRUST__Vector.html">ArrsOfInt</a>  indices_items_locaux(nb_joints);</div>
<div class="line"><a id="l02665" name="l02665"></a><span class="lineno"> 2665</span><span class="comment">// Indices des items de joints dans le domaine sur le processeur voisin</span></div>
<div class="line"><a id="l02666" name="l02666"></a><span class="lineno"> 2666</span>  <a class="code hl_class" href="classTRUST__Vector.html">ArrsOfInt</a>  indices_items_distants(nb_joints);</div>
<div class="line"><a id="l02667" name="l02667"></a><span class="lineno"> 2667</span><span class="comment">// Coordonnees des items correspondants (dans le meme ordre que indices_items_xxx)</span></div>
<div class="line"><a id="l02668" name="l02668"></a><span class="lineno"> 2668</span>  <a class="code hl_class" href="classTRUST__Vector.html">DoubleTabs</a> coord_items_locaux(nb_joints);</div>
<div class="line"><a id="l02669" name="l02669"></a><span class="lineno"> 2669</span>  <a class="code hl_class" href="classTRUST__Vector.html">DoubleTabs</a> coord_items_distants(nb_joints);</div>
<div class="line"><a id="l02670" name="l02670"></a><span class="lineno"> 2670</span> </div>
<div class="line"><a id="l02671" name="l02671"></a><span class="lineno"> 2671</span><span class="comment">// Remplissage des tableaux indices_items_locaux</span></div>
<div class="line"><a id="l02672" name="l02672"></a><span class="lineno"> 2672</span><span class="comment">// et coord_items_locaux</span></div>
<div class="line"><a id="l02673" name="l02673"></a><span class="lineno"> 2673</span>  {</div>
<div class="line"><a id="l02674" name="l02674"></a><span class="lineno"> 2674</span>    <span class="keywordtype">int</span> i_joint;</div>
<div class="line"><a id="l02675" name="l02675"></a><span class="lineno"> 2675</span>    <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l02676" name="l02676"></a><span class="lineno"> 2676</span>      {</div>
<div class="line"><a id="l02677" name="l02677"></a><span class="lineno"> 2677</span>        <span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp; joint = joints[i_joint];</div>
<div class="line"><a id="l02678" name="l02678"></a><span class="lineno"> 2678</span>        <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items = indices_items_locaux[i_joint];</div>
<div class="line"><a id="l02679" name="l02679"></a><span class="lineno"> 2679</span><span class="comment">// Remarque: **LISTE_TRI** les indices_items_locaux sont</span></div>
<div class="line"><a id="l02680" name="l02680"></a><span class="lineno"> 2680</span><span class="comment">// tries dans l&#39;ordre croissant:</span></div>
<div class="line"><a id="l02681" name="l02681"></a><span class="lineno"> 2681</span>        <a class="code hl_function" href="Scatter_8cpp.html#a9ce09df49a63406b606ce247e3880d96">calculer_liste_complete_items_joint</a>(joint, type_item, items);</div>
<div class="line"><a id="l02682" name="l02682"></a><span class="lineno"> 2682</span> </div>
<div class="line"><a id="l02683" name="l02683"></a><span class="lineno"> 2683</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> n       = items.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l02684" name="l02684"></a><span class="lineno"> 2684</span>        <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp;   coord   = coord_items_locaux[i_joint];</div>
<div class="line"><a id="l02685" name="l02685"></a><span class="lineno"> 2685</span>        <span class="keywordtype">int</span> i, j;</div>
<div class="line"><a id="l02686" name="l02686"></a><span class="lineno"> 2686</span>        coord.<a class="code hl_function" href="classTRUSTTab.html#a33c4f72e40e49cdb553fc7311fe656bc">resize</a>(n, dim);</div>
<div class="line"><a id="l02687" name="l02687"></a><span class="lineno"> 2687</span>        <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)</div>
<div class="line"><a id="l02688" name="l02688"></a><span class="lineno"> 2688</span>          <span class="keywordflow">for</span> (j = 0; j &lt; dim; j++)</div>
<div class="line"><a id="l02689" name="l02689"></a><span class="lineno"> 2689</span>            coord(i,j) = coord_items(items[i], j);</div>
<div class="line"><a id="l02690" name="l02690"></a><span class="lineno"> 2690</span>      }</div>
<div class="line"><a id="l02691" name="l02691"></a><span class="lineno"> 2691</span>  }</div>
<div class="line"><a id="l02692" name="l02692"></a><span class="lineno"> 2692</span> </div>
<div class="line"><a id="l02693" name="l02693"></a><span class="lineno"> 2693</span><span class="comment">// Envoi des indices et coordonnees locaux au processeur voisin</span></div>
<div class="line"><a id="l02694" name="l02694"></a><span class="lineno"> 2694</span>  {</div>
<div class="line"><a id="l02695" name="l02695"></a><span class="lineno"> 2695</span>    <a class="code hl_class" href="classSchema__Comm.html">Schema_Comm</a> schema_comm;</div>
<div class="line"><a id="l02696" name="l02696"></a><span class="lineno"> 2696</span>    <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> liste_pe_voisins(nb_joints);</div>
<div class="line"><a id="l02697" name="l02697"></a><span class="lineno"> 2697</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l02698" name="l02698"></a><span class="lineno"> 2698</span>    <span class="keywordflow">for</span> (i = 0; i &lt; nb_joints; i++)</div>
<div class="line"><a id="l02699" name="l02699"></a><span class="lineno"> 2699</span>      liste_pe_voisins[i] = joints[i].PEvoisin();</div>
<div class="line"><a id="l02700" name="l02700"></a><span class="lineno"> 2700</span>    schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ad11c9b47999c294c26ae4df8d2bbd57b">set_send_recv_pe_list</a>(liste_pe_voisins, liste_pe_voisins);</div>
<div class="line"><a id="l02701" name="l02701"></a><span class="lineno"> 2701</span>    schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ac574385d716aca94a48373ab71f37e4f">begin_comm</a>();</div>
<div class="line"><a id="l02702" name="l02702"></a><span class="lineno"> 2702</span>    <span class="keywordflow">for</span> (i = 0; i &lt; nb_joints; i++)</div>
<div class="line"><a id="l02703" name="l02703"></a><span class="lineno"> 2703</span>      {</div>
<div class="line"><a id="l02704" name="l02704"></a><span class="lineno"> 2704</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> pe = liste_pe_voisins[i];</div>
<div class="line"><a id="l02705" name="l02705"></a><span class="lineno"> 2705</span>        <a class="code hl_class" href="classSortie.html">Sortie</a>&amp; buffer = schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a681259723c5c1b85f419433de7aa78d7">send_buffer</a>(pe);</div>
<div class="line"><a id="l02706" name="l02706"></a><span class="lineno"> 2706</span>        buffer &lt;&lt; indices_items_locaux[i];</div>
<div class="line"><a id="l02707" name="l02707"></a><span class="lineno"> 2707</span>        buffer &lt;&lt; coord_items_locaux[i];</div>
<div class="line"><a id="l02708" name="l02708"></a><span class="lineno"> 2708</span>      }</div>
<div class="line"><a id="l02709" name="l02709"></a><span class="lineno"> 2709</span>    schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a516f48fb0494781b373d7b343388ed44">echange_taille_et_messages</a>();</div>
<div class="line"><a id="l02710" name="l02710"></a><span class="lineno"> 2710</span>    <span class="keywordflow">for</span> (i = 0; i &lt; nb_joints; i++)</div>
<div class="line"><a id="l02711" name="l02711"></a><span class="lineno"> 2711</span>      {</div>
<div class="line"><a id="l02712" name="l02712"></a><span class="lineno"> 2712</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> pe = liste_pe_voisins[i];</div>
<div class="line"><a id="l02713" name="l02713"></a><span class="lineno"> 2713</span>        <a class="code hl_class" href="classEntree.html">Entree</a>&amp; buffer = schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a85c05ef4688c20afa429264ebac8fdcf">recv_buffer</a>(pe);</div>
<div class="line"><a id="l02714" name="l02714"></a><span class="lineno"> 2714</span>        buffer &gt;&gt; indices_items_distants[i];</div>
<div class="line"><a id="l02715" name="l02715"></a><span class="lineno"> 2715</span>        buffer &gt;&gt; coord_items_distants[i];</div>
<div class="line"><a id="l02716" name="l02716"></a><span class="lineno"> 2716</span>      }</div>
<div class="line"><a id="l02717" name="l02717"></a><span class="lineno"> 2717</span>    schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a7dd8d56caee9c6759850bb7c38e31c8b">end_comm</a>();</div>
<div class="line"><a id="l02718" name="l02718"></a><span class="lineno"> 2718</span>  }</div>
<div class="line"><a id="l02719" name="l02719"></a><span class="lineno"> 2719</span> </div>
<div class="line"><a id="l02720" name="l02720"></a><span class="lineno"> 2720</span><span class="comment">// Boucle sur les joints</span></div>
<div class="line"><a id="l02721" name="l02721"></a><span class="lineno"> 2721</span>  {</div>
<div class="line"><a id="l02722" name="l02722"></a><span class="lineno"> 2722</span><span class="comment">// Cette fois, on modifie les joints (remplissage de renum_virt_loc)</span></div>
<div class="line"><a id="l02723" name="l02723"></a><span class="lineno"> 2723</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> moi = <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>();</div>
<div class="line"><a id="l02724" name="l02724"></a><span class="lineno"> 2724</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l02725" name="l02725"></a><span class="lineno"> 2725</span>      {</div>
<div class="line"><a id="l02726" name="l02726"></a><span class="lineno"> 2726</span>        <a class="code hl_class" href="classJoint.html">Joint</a>&amp;           joint           = joints[i_joint];</div>
<div class="line"><a id="l02727" name="l02727"></a><span class="lineno"> 2727</span>        <span class="keyword">const</span> <span class="keywordtype">int</span>     PEvoisin        = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l02728" name="l02728"></a><span class="lineno"> 2728</span>        <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; indices_locaux  = indices_items_locaux[i_joint];</div>
<div class="line"><a id="l02729" name="l02729"></a><span class="lineno"> 2729</span><span class="comment">// ArrOfInt &amp;       indices_distants= indices_items_distants[i_joint];</span></div>
<div class="line"><a id="l02730" name="l02730"></a><span class="lineno"> 2730</span>        <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; coord_locaux    = coord_items_locaux[i_joint];</div>
<div class="line"><a id="l02731" name="l02731"></a><span class="lineno"> 2731</span>        <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; coord_distants  = coord_items_distants[i_joint];</div>
<div class="line"><a id="l02732" name="l02732"></a><span class="lineno"> 2732</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> n = indices_locaux.<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l02733" name="l02733"></a><span class="lineno"> 2733</span>        <span class="comment">/*</span></div>
<div class="line"><a id="l02734" name="l02734"></a><span class="lineno"> 2734</span><span class="comment">          if (n != indices_distants.size_array()) {</span></div>
<div class="line"><a id="l02735" name="l02735"></a><span class="lineno"> 2735</span><span class="comment">          Cerr &lt;&lt; &quot;Error in Scatter::remplir_renum_virt_loc on PE &quot;</span></div>
<div class="line"><a id="l02736" name="l02736"></a><span class="lineno"> 2736</span><span class="comment">          &lt;&lt; Process::me();</span></div>
<div class="line"><a id="l02737" name="l02737"></a><span class="lineno"> 2737</span><span class="comment">          Cerr &lt;&lt; &quot;\n Joint with PE &quot; &lt;&lt; joint.PEvoisin()</span></div>
<div class="line"><a id="l02738" name="l02738"></a><span class="lineno"> 2738</span><span class="comment">          &lt;&lt; &quot;\n Number of items &quot; &lt;&lt; type_item &lt;&lt; &quot; on my joint : &quot; &lt;&lt; n;</span></div>
<div class="line"><a id="l02739" name="l02739"></a><span class="lineno"> 2739</span><span class="comment">          Cerr &lt;&lt; &quot;\n Number of items &quot; &lt;&lt; type_item &lt;&lt; &quot; on the remote joint : &quot;</span></div>
<div class="line"><a id="l02740" name="l02740"></a><span class="lineno"> 2740</span><span class="comment">          &lt;&lt; indices_distants.size_array()</span></div>
<div class="line"><a id="l02741" name="l02741"></a><span class="lineno"> 2741</span><span class="comment">          &lt;&lt; finl;</span></div>
<div class="line"><a id="l02742" name="l02742"></a><span class="lineno"> 2742</span><span class="comment">          exit();</span></div>
<div class="line"><a id="l02743" name="l02743"></a><span class="lineno"> 2743</span><span class="comment">          } */</span></div>
<div class="line"><a id="l02744" name="l02744"></a><span class="lineno"> 2744</span><span class="comment">// Recherche des correspondances entre items</span></div>
<div class="line"><a id="l02745" name="l02745"></a><span class="lineno"> 2745</span>        <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> corresp(n);</div>
<div class="line"><a id="l02746" name="l02746"></a><span class="lineno"> 2746</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> epsilon = <a class="code hl_variable" href="classObjet__U.html#a7447e25c68cc8d3a1c06cf99f0565cff">Objet_U::precision_geom</a>;</div>
<div class="line"><a id="l02747" name="l02747"></a><span class="lineno"> 2747</span>        <a class="code hl_function" href="classScatter.html#a16a9000e31ccecd2438c8f05e41cc302">Chercher_Correspondance</a>(coord_distants, coord_locaux, corresp, epsilon);</div>
<div class="line"><a id="l02748" name="l02748"></a><span class="lineno"> 2748</span> </div>
<div class="line"><a id="l02749" name="l02749"></a><span class="lineno"> 2749</span>        <span class="keywordtype">int</span> nb_items_communs_trouves=0;</div>
<div class="line"><a id="l02750" name="l02750"></a><span class="lineno"> 2750</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; n; k++)</div>
<div class="line"><a id="l02751" name="l02751"></a><span class="lineno"> 2751</span>          <span class="keywordflow">if</span> (corresp[k]&gt;=0) nb_items_communs_trouves++;</div>
<div class="line"><a id="l02752" name="l02752"></a><span class="lineno"> 2752</span> </div>
<div class="line"><a id="l02753" name="l02753"></a><span class="lineno"> 2753</span>        <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a>&amp; items_communs = joint.<a class="code hl_function" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de">set_joint_item</a>(type_item).<a class="code hl_function" href="classJoint__Items.html#aa01c4601d506c658f4f1d45e66951ce0">set_items_communs</a>();</div>
<div class="line"><a id="l02754" name="l02754"></a><span class="lineno"> 2754</span>        items_communs.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(nb_items_communs_trouves);</div>
<div class="line"><a id="l02755" name="l02755"></a><span class="lineno"> 2755</span>        items_communs = -1;</div>
<div class="line"><a id="l02756" name="l02756"></a><span class="lineno"> 2756</span>        <span class="keywordtype">int</span> i=0;</div>
<div class="line"><a id="l02757" name="l02757"></a><span class="lineno"> 2757</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; n; k++)</div>
<div class="line"><a id="l02758" name="l02758"></a><span class="lineno"> 2758</span>          {</div>
<div class="line"><a id="l02759" name="l02759"></a><span class="lineno"> 2759</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> i_local = indices_locaux[k];</div>
<div class="line"><a id="l02760" name="l02760"></a><span class="lineno"> 2760</span><span class="comment">// Le j-ieme item distant est identique au k-ieme item local</span></div>
<div class="line"><a id="l02761" name="l02761"></a><span class="lineno"> 2761</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> j = corresp[k];</div>
<div class="line"><a id="l02762" name="l02762"></a><span class="lineno"> 2762</span> </div>
<div class="line"><a id="l02763" name="l02763"></a><span class="lineno"> 2763</span><span class="comment">// Pas trouve ? Erreur possible</span></div>
<div class="line"><a id="l02764" name="l02764"></a><span class="lineno"> 2764</span>            <span class="keywordflow">if</span> (j &lt; 0)</div>
<div class="line"><a id="l02765" name="l02765"></a><span class="lineno"> 2765</span>              {</div>
<div class="line"><a id="l02766" name="l02766"></a><span class="lineno"> 2766</span>                <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Scatter::remplir_renum_virt_loc on PE &quot;</span> &lt;&lt; moi &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a></div>
<div class="line"><a id="l02767" name="l02767"></a><span class="lineno"> 2767</span>                     &lt;&lt; <span class="stringliteral">&quot;The item of type &quot;</span> &lt;&lt; (int)type_item &lt;&lt; <span class="stringliteral">&quot; number &quot;</span> &lt;&lt; i_local &lt;&lt; <span class="stringliteral">&quot; with coordinates &quot;</span>;</div>
<div class="line"><a id="l02768" name="l02768"></a><span class="lineno"> 2768</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k2 = 0; k2 &lt; dim; k2++)</div>
<div class="line"><a id="l02769" name="l02769"></a><span class="lineno"> 2769</span>                  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; coord_locaux(i, k2) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a id="l02770" name="l02770"></a><span class="lineno"> 2770</span>                <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a> &lt;&lt; <span class="stringliteral">&quot;was not found in the joint with the PE &quot;</span> &lt;&lt; PEvoisin &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02771" name="l02771"></a><span class="lineno"> 2771</span>                <span class="keywordflow">if</span> (type_item==3)</div>
<div class="line"><a id="l02772" name="l02772"></a><span class="lineno"> 2772</span>                  {</div>
<div class="line"><a id="l02773" name="l02773"></a><span class="lineno"> 2773</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The searching algorithm of the isolated edges on a joint&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02774" name="l02774"></a><span class="lineno"> 2774</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;does not work yet in some cases. Two isolated nodes of a joint (example below&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02775" name="l02775"></a><span class="lineno"> 2775</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;joint between 0 and 2) can be those of an edge not belonging to this joint (below&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02776" name="l02776"></a><span class="lineno"> 2776</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;the edge belongs to the joint 0-1 but not 0-2):&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02777" name="l02777"></a><span class="lineno"> 2777</span><span class="comment">// Cerr &lt;&lt; &quot;  ________    &quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l02778" name="l02778"></a><span class="lineno"> 2778</span><span class="comment">// Cerr &lt;&lt; &quot;1\ 2/1\2 /1\  &quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l02779" name="l02779"></a><span class="lineno"> 2779</span><span class="comment">// Cerr &lt;&lt; &quot;__\/___\/___\ &quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l02780" name="l02780"></a><span class="lineno"> 2780</span><span class="comment">// Cerr &lt;&lt; &quot; 0/\ 0 /\ 0   &quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l02781" name="l02781"></a><span class="lineno"> 2781</span><span class="comment">// Cerr &lt;&lt; &quot; / 0\ / 0\    &quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l02782" name="l02782"></a><span class="lineno"> 2782</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  ________      &quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02783" name="l02783"></a><span class="lineno"> 2783</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;1\\ 2/1\\2 /1\\ &quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02784" name="l02784"></a><span class="lineno"> 2784</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;__\\/___\\/___\\&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02785" name="l02785"></a><span class="lineno"> 2785</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; 0/\\ 0 /\\ 0   &quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02786" name="l02786"></a><span class="lineno"> 2786</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; / 0\\ / 0\\    &quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02787" name="l02787"></a><span class="lineno"> 2787</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02788" name="l02788"></a><span class="lineno"> 2788</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;One way to by-pass this problem is to split again your domain with&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02789" name="l02789"></a><span class="lineno"> 2789</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;different options of splitting or with another splitter to do not fall&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02790" name="l02790"></a><span class="lineno"> 2790</span>                    <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;on the same configuration.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l02791" name="l02791"></a><span class="lineno"> 2791</span>                  }</div>
<div class="line"><a id="l02792" name="l02792"></a><span class="lineno"> 2792</span>                <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l02793" name="l02793"></a><span class="lineno"> 2793</span>              }</div>
<div class="line"><a id="l02794" name="l02794"></a><span class="lineno"> 2794</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l02795" name="l02795"></a><span class="lineno"> 2795</span>              {</div>
<div class="line"><a id="l02796" name="l02796"></a><span class="lineno"> 2796</span>                <span class="keywordflow">if</span> (moi &lt; PEvoisin)</div>
<div class="line"><a id="l02797" name="l02797"></a><span class="lineno"> 2797</span>                  {</div>
<div class="line"><a id="l02798" name="l02798"></a><span class="lineno"> 2798</span><span class="comment">// items communs dans l&#39;ordre des items de joint locaux:</span></div>
<div class="line"><a id="l02799" name="l02799"></a><span class="lineno"> 2799</span>                    items_communs[i] = i_local;</div>
<div class="line"><a id="l02800" name="l02800"></a><span class="lineno"> 2800</span><span class="comment">// On verifie que c&#39;est bien l&#39;ordre croissant de l&#39;indice local</span></div>
<div class="line"><a id="l02801" name="l02801"></a><span class="lineno"> 2801</span><span class="comment">// (voir **LISTE_TRI**)</span></div>
<div class="line"><a id="l02802" name="l02802"></a><span class="lineno"> 2802</span>                    assert(i==0 || items_communs[i] &gt; items_communs[i-1]);</div>
<div class="line"><a id="l02803" name="l02803"></a><span class="lineno"> 2803</span>                  }</div>
<div class="line"><a id="l02804" name="l02804"></a><span class="lineno"> 2804</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l02805" name="l02805"></a><span class="lineno"> 2805</span>                  {</div>
<div class="line"><a id="l02806" name="l02806"></a><span class="lineno"> 2806</span><span class="comment">// items communs dans l&#39;ordre des items sur le voisin:</span></div>
<div class="line"><a id="l02807" name="l02807"></a><span class="lineno"> 2807</span>                    assert(items_communs[j] &lt; 0);</div>
<div class="line"><a id="l02808" name="l02808"></a><span class="lineno"> 2808</span>                    items_communs[j] = i_local;</div>
<div class="line"><a id="l02809" name="l02809"></a><span class="lineno"> 2809</span>                  }</div>
<div class="line"><a id="l02810" name="l02810"></a><span class="lineno"> 2810</span>                i++;</div>
<div class="line"><a id="l02811" name="l02811"></a><span class="lineno"> 2811</span>              }</div>
<div class="line"><a id="l02812" name="l02812"></a><span class="lineno"> 2812</span>          }</div>
<div class="line"><a id="l02813" name="l02813"></a><span class="lineno"> 2813</span>        assert(i==nb_items_communs_trouves);</div>
<div class="line"><a id="l02814" name="l02814"></a><span class="lineno"> 2814</span>      }</div>
<div class="line"><a id="l02815" name="l02815"></a><span class="lineno"> 2815</span><span class="comment">// Remplissage de renum_items_communs:</span></div>
<div class="line"><a id="l02816" name="l02816"></a><span class="lineno"> 2816</span>    <a class="code hl_function" href="classScatter.html#a21f166c05df9be1fc1f02b0604624fe5">calculer_renum_items_communs</a>(joints, type_item);</div>
<div class="line"><a id="l02817" name="l02817"></a><span class="lineno"> 2817</span>  }</div>
<div class="line"><a id="l02818" name="l02818"></a><span class="lineno"> 2818</span>}</div>
<div class="line"><a id="l02819" name="l02819"></a><span class="lineno"> 2819</span> </div>
<div class="line"><a id="l02820" name="l02820"></a><span class="lineno"> 2820</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l02821" name="l02821"></a><span class="lineno"> 2821</span><span class="comment">//! Construction des tableaux joint_item(Joint::SOMMET).items_communs de tous les joints de la zone(0) du domaine dom</span></div>
<div class="line"><a id="l02822" name="l02822"></a><span class="lineno"> 2822</span><span class="comment"></span> </div>
<div class="line"><a id="l02823" name="l02823"></a><span class="lineno"><a class="line" href="classScatter.html#acafac38fc2983e19398c403a9235bb4c"> 2823</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#acafac38fc2983e19398c403a9235bb4c">Scatter::construire_correspondance_sommets_par_coordonnees</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom)</div>
<div class="line"><a id="l02824" name="l02824"></a><span class="lineno"> 2824</span>{</div>
<div class="line"><a id="l02825" name="l02825"></a><span class="lineno"> 2825</span>  <a class="code hl_function" href="classScatter.html#a06ae2df37becb17fe4e7b2e8c9c07cbd">construire_correspondance_items_par_coordonnees</a>(dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>(), <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>, dom.<a class="code hl_function" href="classDomaine.html#ae38374f4ac33a429a131a53083ad86fb">coord_sommets</a>());</div>
<div class="line"><a id="l02826" name="l02826"></a><span class="lineno"> 2826</span>}</div>
<div class="line"><a id="l02827" name="l02827"></a><span class="lineno"> 2827</span> </div>
<div class="line"><a id="l02828" name="l02828"></a><span class="lineno"> 2828</span><span class="comment">// Description</span></div>
<div class="line"><a id="l02829" name="l02829"></a><span class="lineno"> 2829</span><span class="comment">// Construction des tableaux joint_item(Joint::ARETE).items_communs de tous les joints de la zone</span></div>
<div class="line"><a id="l02830" name="l02830"></a><span class="lineno"> 2830</span> </div>
<div class="line"><a id="l02831" name="l02831"></a><span class="lineno"><a class="line" href="classScatter.html#a12daf3ea958d39cbeb04c87ec60369f7"> 2831</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a12daf3ea958d39cbeb04c87ec60369f7">Scatter::construire_correspondance_aretes_par_coordonnees</a>(<a class="code hl_class" href="classZone__VF.html">Zone_VF</a>&amp; zvf)</div>
<div class="line"><a id="l02832" name="l02832"></a><span class="lineno"> 2832</span>{</div>
<div class="line"><a id="l02833" name="l02833"></a><span class="lineno"> 2833</span>  <a class="code hl_function" href="classScatter.html#a06ae2df37becb17fe4e7b2e8c9c07cbd">construire_correspondance_items_par_coordonnees</a>(zvf.<a class="code hl_function" href="classZone__dis__base.html#aae671a49c7b02a69054a38bddb486cf8">zone</a>().<a class="code hl_function" href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">faces_joint</a>(), <a class="code hl_enumvalue" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a7816c69408b98e1161f1f54e7b6b1cb4">Joint::ARETE</a>, zvf.<a class="code hl_function" href="classZone__VF.html#a89ed39b4d6c6e4ff27866c9e87d9c05c">xa</a>());</div>
<div class="line"><a id="l02834" name="l02834"></a><span class="lineno"> 2834</span>}</div>
<div class="line"><a id="l02835" name="l02835"></a><span class="lineno"> 2835</span> </div>
<div class="line"><a id="l02836" name="l02836"></a><span class="lineno"><a class="line" href="Scatter_8cpp.html#a4c215e3cfff2963def44e300a58b513b"> 2836</a></span><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="Scatter_8cpp.html#a4c215e3cfff2963def44e300a58b513b">init_simple_md_vector</a>(<a class="code hl_class" href="classMD__Vector__std.html">MD_Vector_std</a>&amp; md, <span class="keyword">const</span> <span class="keywordtype">int</span> n)</div>
<div class="line"><a id="l02837" name="l02837"></a><span class="lineno"> 2837</span>{</div>
<div class="line"><a id="l02838" name="l02838"></a><span class="lineno"> 2838</span>  md.<a class="code hl_variable" href="classMD__Vector__base2.html#ae222cd70f0be4da64d0aa7fcd89df0f4">nb_items_tot_</a> = n;</div>
<div class="line"><a id="l02839" name="l02839"></a><span class="lineno"> 2839</span>  md.<a class="code hl_variable" href="classMD__Vector__base2.html#a87c423fabd116249cb1dab31887193c9">nb_items_reels_</a> = n;</div>
<div class="line"><a id="l02840" name="l02840"></a><span class="lineno"> 2840</span>  md.<a class="code hl_variable" href="classMD__Vector__base2.html#a7cf9dbd94db6c0ba49e87681d207aef0">nb_items_seq_tot_</a> = n;</div>
<div class="line"><a id="l02841" name="l02841"></a><span class="lineno"> 2841</span>  md.<a class="code hl_variable" href="classMD__Vector__base2.html#a2bb5e578b35a03544342e963d2adec35">nb_items_seq_local_</a> = n;</div>
<div class="line"><a id="l02842" name="l02842"></a><span class="lineno"> 2842</span>  md.<a class="code hl_variable" href="classMD__Vector__base2.html#afb3898aebe081ff8c87759822946ece7">blocs_items_to_sum_</a>.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(2, <a class="code hl_enumvalue" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);</div>
<div class="line"><a id="l02843" name="l02843"></a><span class="lineno"> 2843</span>  md.<a class="code hl_variable" href="classMD__Vector__base2.html#afb3898aebe081ff8c87759822946ece7">blocs_items_to_sum_</a>[0] = 0;</div>
<div class="line"><a id="l02844" name="l02844"></a><span class="lineno"> 2844</span>  md.<a class="code hl_variable" href="classMD__Vector__base2.html#afb3898aebe081ff8c87759822946ece7">blocs_items_to_sum_</a>[1] = n;</div>
<div class="line"><a id="l02845" name="l02845"></a><span class="lineno"> 2845</span>  md.<a class="code hl_variable" href="classMD__Vector__base2.html#ac19dad1f73b786033a9911cbfe3ae440">blocs_items_to_compute_</a>.<a class="code hl_function" href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">resize_array</a>(2, <a class="code hl_enumvalue" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);</div>
<div class="line"><a id="l02846" name="l02846"></a><span class="lineno"> 2846</span>  md.<a class="code hl_variable" href="classMD__Vector__base2.html#ac19dad1f73b786033a9911cbfe3ae440">blocs_items_to_compute_</a>[0] = 0;</div>
<div class="line"><a id="l02847" name="l02847"></a><span class="lineno"> 2847</span>  md.<a class="code hl_variable" href="classMD__Vector__base2.html#ac19dad1f73b786033a9911cbfe3ae440">blocs_items_to_compute_</a>[1] = n;</div>
<div class="line"><a id="l02848" name="l02848"></a><span class="lineno"> 2848</span>}</div>
<div class="line"><a id="l02849" name="l02849"></a><span class="lineno"> 2849</span><span class="comment"></span> </div>
<div class="line"><a id="l02850" name="l02850"></a><span class="lineno"> 2850</span><span class="comment">///!&lt; Description  Pour un item geometrique &quot;type_item&quot;, remplit le champ nb_items_virtuels_  des joints en fonction du nombre d&#39;items distants :  Le nombre d&#39;items virtuels sur un joint i du processeur j est le  nombre d&#39;items distants du joint j sur le processeur i.</span></div>
<div class="line"><a id="l02851" name="l02851"></a><span class="lineno"> 2851</span><span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a id="l02852" name="l02852"></a><span class="lineno"> 2852</span><span class="comment">//</span></div>
<div class="line"><a id="l02853" name="l02853"></a><span class="lineno"> 2853</span><span class="comment">//</span></div>
<div class="line"><a id="l02854" name="l02854"></a><span class="lineno"> 2854</span><span class="comment">//</span></div>
<div class="line"><a id="l02855" name="l02855"></a><span class="lineno"><a class="line" href="classScatter.html#ab8e91081aefb68562533279f2446e988"> 2855</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#ab8e91081aefb68562533279f2446e988">Scatter::calculer_nb_items_virtuels</a>(<a class="code hl_class" href="classJoints.html">Joints</a>&amp; joints,</div>
<div class="line"><a id="l02856" name="l02856"></a><span class="lineno"> 2856</span>                                         <span class="keyword">const</span> <a class="code hl_enumeration" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926">Joint::Type_Item</a> type_item)</div>
<div class="line"><a id="l02857" name="l02857"></a><span class="lineno"> 2857</span>{</div>
<div class="line"><a id="l02858" name="l02858"></a><span class="lineno"> 2858</span>  <a class="code hl_class" href="classSchema__Comm.html">Schema_Comm</a> schema_comm;</div>
<div class="line"><a id="l02859" name="l02859"></a><span class="lineno"> 2859</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_joints = joints.<a class="code hl_function" href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">size</a>();</div>
<div class="line"><a id="l02860" name="l02860"></a><span class="lineno"> 2860</span>  <a class="code hl_class" href="classTRUSTArray.html">ArrOfInt</a> liste_voisins(nb_joints);</div>
<div class="line"><a id="l02861" name="l02861"></a><span class="lineno"> 2861</span>  <span class="keywordtype">int</span> i_joint;</div>
<div class="line"><a id="l02862" name="l02862"></a><span class="lineno"> 2862</span>  <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l02863" name="l02863"></a><span class="lineno"> 2863</span>    liste_voisins[i_joint] = joints[i_joint].PEvoisin();</div>
<div class="line"><a id="l02864" name="l02864"></a><span class="lineno"> 2864</span> </div>
<div class="line"><a id="l02865" name="l02865"></a><span class="lineno"> 2865</span><span class="comment">// On envoie le nombre d&#39;items distants au PE voisin</span></div>
<div class="line"><a id="l02866" name="l02866"></a><span class="lineno"> 2866</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ad11c9b47999c294c26ae4df8d2bbd57b">set_send_recv_pe_list</a>(liste_voisins, liste_voisins);</div>
<div class="line"><a id="l02867" name="l02867"></a><span class="lineno"> 2867</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#ac574385d716aca94a48373ab71f37e4f">begin_comm</a>();</div>
<div class="line"><a id="l02868" name="l02868"></a><span class="lineno"> 2868</span>  <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l02869" name="l02869"></a><span class="lineno"> 2869</span>    {</div>
<div class="line"><a id="l02870" name="l02870"></a><span class="lineno"> 2870</span>      <span class="keyword">const</span> <a class="code hl_class" href="classJoint.html">Joint</a>&amp;        joint = joints[i_joint];</div>
<div class="line"><a id="l02871" name="l02871"></a><span class="lineno"> 2871</span>      <span class="keyword">const</span> <a class="code hl_class" href="classJoint__Items.html">Joint_Items</a>&amp; items = joint.<a class="code hl_function" href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">joint_item</a>(type_item);</div>
<div class="line"><a id="l02872" name="l02872"></a><span class="lineno"> 2872</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> n  = items.<a class="code hl_function" href="classJoint__Items.html#a59175012728b3e41778c7ae24db94c29">items_distants</a>().<a class="code hl_function" href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">size_array</a>();</div>
<div class="line"><a id="l02873" name="l02873"></a><span class="lineno"> 2873</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> pe = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l02874" name="l02874"></a><span class="lineno"> 2874</span>      schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a681259723c5c1b85f419433de7aa78d7">send_buffer</a>(pe) &lt;&lt; n;</div>
<div class="line"><a id="l02875" name="l02875"></a><span class="lineno"> 2875</span>    }</div>
<div class="line"><a id="l02876" name="l02876"></a><span class="lineno"> 2876</span><span class="comment">// Echange des messages</span></div>
<div class="line"><a id="l02877" name="l02877"></a><span class="lineno"> 2877</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a516f48fb0494781b373d7b343388ed44">echange_taille_et_messages</a>();</div>
<div class="line"><a id="l02878" name="l02878"></a><span class="lineno"> 2878</span><span class="comment">// Le PE voisin recoit ce nombre d&#39;items et le stocke.</span></div>
<div class="line"><a id="l02879" name="l02879"></a><span class="lineno"> 2879</span>  <span class="keywordflow">for</span> (i_joint = 0; i_joint &lt; nb_joints; i_joint++)</div>
<div class="line"><a id="l02880" name="l02880"></a><span class="lineno"> 2880</span>    {</div>
<div class="line"><a id="l02881" name="l02881"></a><span class="lineno"> 2881</span>      <a class="code hl_class" href="classJoint.html">Joint</a>&amp;        joint = joints[i_joint];</div>
<div class="line"><a id="l02882" name="l02882"></a><span class="lineno"> 2882</span>      <a class="code hl_class" href="classJoint__Items.html">Joint_Items</a>&amp; items = joint.<a class="code hl_function" href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de">set_joint_item</a>(type_item);</div>
<div class="line"><a id="l02883" name="l02883"></a><span class="lineno"> 2883</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> pe = joint.<a class="code hl_function" href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">PEvoisin</a>();</div>
<div class="line"><a id="l02884" name="l02884"></a><span class="lineno"> 2884</span>      <span class="keywordtype">int</span> n;</div>
<div class="line"><a id="l02885" name="l02885"></a><span class="lineno"> 2885</span>      schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a85c05ef4688c20afa429264ebac8fdcf">recv_buffer</a>(pe) &gt;&gt; n;</div>
<div class="line"><a id="l02886" name="l02886"></a><span class="lineno"> 2886</span>      items.<a class="code hl_function" href="classJoint__Items.html#a956b3926baa83e9d5ab9848adf7f822a">set_nb_items_virtuels</a>(n);</div>
<div class="line"><a id="l02887" name="l02887"></a><span class="lineno"> 2887</span>    }</div>
<div class="line"><a id="l02888" name="l02888"></a><span class="lineno"> 2888</span>  schema_comm.<a class="code hl_function" href="classSchema__Comm.html#a7dd8d56caee9c6759850bb7c38e31c8b">end_comm</a>();</div>
<div class="line"><a id="l02889" name="l02889"></a><span class="lineno"> 2889</span>}</div>
<div class="line"><a id="l02890" name="l02890"></a><span class="lineno"> 2890</span> </div>
<div class="line"><a id="l02891" name="l02891"></a><span class="lineno"> 2891</span><span class="comment">//</span></div>
<div class="line"><a id="l02892" name="l02892"></a><span class="lineno"> 2892</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l02893" name="l02893"></a><span class="lineno"> 2893</span><span class="comment">//! cree des descripteurs sequentiels pour les tableaux sommets&lt;br&gt;et elements du domaine (necessaire car Scatter n&#39;est pas appele pour les&lt;br&gt;domaines en sequentiel)</span></div>
<div class="line"><a id="l02894" name="l02894"></a><span class="lineno"><a class="line" href="classScatter.html#a1874139ffd29d5a68191bc7828d3a5bd"> 2894</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a1874139ffd29d5a68191bc7828d3a5bd">Scatter::init_sequential_domain</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom)</div>
<div class="line"><a id="l02895" name="l02895"></a><span class="lineno"> 2895</span>{</div>
<div class="line"><a id="l02896" name="l02896"></a><span class="lineno"> 2896</span>  <a class="code hl_class" href="classMD__Vector__std.html">MD_Vector_std</a> mdstd;</div>
<div class="line"><a id="l02897" name="l02897"></a><span class="lineno"> 2897</span>  <a class="code hl_class" href="classMD__Vector.html">MD_Vector</a> md;</div>
<div class="line"><a id="l02898" name="l02898"></a><span class="lineno"> 2898</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nbsom = dom.<a class="code hl_function" href="classDomaine.html#ade3572a127cbe62440b9d7af8f50cf58">nb_som</a>();</div>
<div class="line"><a id="l02899" name="l02899"></a><span class="lineno"> 2899</span>  <a class="code hl_function" href="Scatter_8cpp.html#a4c215e3cfff2963def44e300a58b513b">init_simple_md_vector</a>(mdstd, nbsom);</div>
<div class="line"><a id="l02900" name="l02900"></a><span class="lineno"> 2900</span>  md.<a class="code hl_function" href="classMD__Vector.html#a063644dd8ca62e707a2d059eedeb58a7">copy</a>(mdstd);</div>
<div class="line"><a id="l02901" name="l02901"></a><span class="lineno"> 2901</span>  dom.<a class="code hl_function" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f">les_sommets</a>().<a class="code hl_function" href="classTRUSTTab.html#af1fb04fa5f95975ab45294879e8c8485">set_md_vector</a>(md);</div>
<div class="line"><a id="l02902" name="l02902"></a><span class="lineno"> 2902</span> </div>
<div class="line"><a id="l02903" name="l02903"></a><span class="lineno"> 2903</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_zones = dom.<a class="code hl_function" href="classDomaine.html#a5e770a06041728d20ab2298fe44de679">nb_zones</a>();</div>
<div class="line"><a id="l02904" name="l02904"></a><span class="lineno"> 2904</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_zones; i++)</div>
<div class="line"><a id="l02905" name="l02905"></a><span class="lineno"> 2905</span>    {</div>
<div class="line"><a id="l02906" name="l02906"></a><span class="lineno"> 2906</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> nb_elem = dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(i).<a class="code hl_function" href="classZone.html#a8bdea22b5802d97c07acd9e97de5eb88">nb_elem</a>();</div>
<div class="line"><a id="l02907" name="l02907"></a><span class="lineno"> 2907</span>      <a class="code hl_function" href="Scatter_8cpp.html#a4c215e3cfff2963def44e300a58b513b">init_simple_md_vector</a>(mdstd, nb_elem);</div>
<div class="line"><a id="l02908" name="l02908"></a><span class="lineno"> 2908</span>      md.<a class="code hl_function" href="classMD__Vector.html#a063644dd8ca62e707a2d059eedeb58a7">copy</a>(mdstd);</div>
<div class="line"><a id="l02909" name="l02909"></a><span class="lineno"> 2909</span>      dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(i).<a class="code hl_function" href="classZone.html#ac115e8342be89afb882b7b61cc343267">les_elems</a>().<a class="code hl_function" href="classTRUSTTab.html#af1fb04fa5f95975ab45294879e8c8485">set_md_vector</a>(md);</div>
<div class="line"><a id="l02910" name="l02910"></a><span class="lineno"> 2910</span>    }</div>
<div class="line"><a id="l02911" name="l02911"></a><span class="lineno"> 2911</span>}</div>
<div class="line"><a id="l02912" name="l02912"></a><span class="lineno"> 2912</span> </div>
<div class="line"><a id="l02913" name="l02913"></a><span class="lineno"> 2913</span><span class="comment">//</span></div>
<div class="line"><a id="l02914" name="l02914"></a><span class="lineno"> 2914</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l02915" name="l02915"></a><span class="lineno"> 2915</span><span class="comment">//! methode utilisee par les interpretes qui modifient le domaine&lt;br&gt;(sequentiel), detruit les descripteurs des sommets et elements pour permettre&lt;br&gt;la modification de ces tableaux.</span></div>
<div class="line"><a id="l02916" name="l02916"></a><span class="lineno"><a class="line" href="classScatter.html#a8cf934a9b5f7ecb7ef89f61c09804f45"> 2916</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classScatter.html#a8cf934a9b5f7ecb7ef89f61c09804f45">Scatter::uninit_sequential_domain</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom)</div>
<div class="line"><a id="l02917" name="l02917"></a><span class="lineno"> 2917</span>{</div>
<div class="line"><a id="l02918" name="l02918"></a><span class="lineno"> 2918</span>  <a class="code hl_class" href="classMD__Vector.html">MD_Vector</a> md; <span class="comment">//!&lt; descripteur nul</span></div>
<div class="line"><a id="l02919" name="l02919"></a><span class="lineno"> 2919</span>  dom.<a class="code hl_function" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f">les_sommets</a>().<a class="code hl_function" href="classTRUSTTab.html#af1fb04fa5f95975ab45294879e8c8485">set_md_vector</a>(md);</div>
<div class="line"><a id="l02920" name="l02920"></a><span class="lineno"> 2920</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_zones = dom.<a class="code hl_function" href="classDomaine.html#a5e770a06041728d20ab2298fe44de679">nb_zones</a>();</div>
<div class="line"><a id="l02921" name="l02921"></a><span class="lineno"> 2921</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nb_zones; i++)</div>
<div class="line"><a id="l02922" name="l02922"></a><span class="lineno"> 2922</span>    {</div>
<div class="line"><a id="l02923" name="l02923"></a><span class="lineno"> 2923</span>      dom.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(i).<a class="code hl_function" href="classZone.html#ac115e8342be89afb882b7b61cc343267">les_elems</a>().<a class="code hl_function" href="classTRUSTTab.html#af1fb04fa5f95975ab45294879e8c8485">set_md_vector</a>(md);</div>
<div class="line"><a id="l02924" name="l02924"></a><span class="lineno"> 2924</span>    }</div>
<div class="line"><a id="l02925" name="l02925"></a><span class="lineno"> 2925</span>}</div>
<div class="line"><a id="l02926" name="l02926"></a><span class="lineno"> 2926</span> </div>
<div class="line"><a id="l02927" name="l02927"></a><span class="lineno"> 2927</span> </div>
<div class="ttc" id="aCast_8h_html_a9632e68536db6c29c2b754cb55381fbe"><div class="ttname"><a href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a></div><div class="ttdeci">#define sub_type(T, r)</div><div class="ttdef"><b>Definition:</b> <a href="Cast_8h_source.html#l00047">Cast.h:47</a></div></div>
<div class="ttc" id="aCast_8h_html_ad116a7acb85c9c91e5687c44941a0d0c"><div class="ttname"><a href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a></div><div class="ttdeci">#define ref_cast(T, r)</div><div class="ttdef"><b>Definition:</b> <a href="Cast_8h_source.html#l00052">Cast.h:52</a></div></div>
<div class="ttc" id="aComm__Group__MPI_8h_html"><div class="ttname"><a href="Comm__Group__MPI_8h.html">Comm_Group_MPI.h</a></div></div>
<div class="ttc" id="aConnectivite__som__elem_8cpp_html_a82161461a228e43ae236c31101ff3ce6"><div class="ttname"><a href="Connectivite__som__elem_8cpp.html#a82161461a228e43ae236c31101ff3ce6">construire_connectivite_som_elem</a></div><div class="ttdeci">void construire_connectivite_som_elem(const int nb_sommets, const IntTab &amp;les_elems, Static_Int_Lists &amp;som_elem, const int include_virtual)</div><div class="ttdoc">construction de la structure som_elem pour la zone donnee On cree pour chaque sommet i la liste des e...</div><div class="ttdef"><b>Definition:</b> <a href="Connectivite__som__elem_8cpp_source.html#l00035">Connectivite_som_elem.cpp:35</a></div></div>
<div class="ttc" id="aConnectivite__som__elem_8cpp_html_afccbadf5344a16154a56b33dbddf88c1"><div class="ttname"><a href="Connectivite__som__elem_8cpp.html#afccbadf5344a16154a56b33dbddf88c1">find_adjacent_elements</a></div><div class="ttdeci">void find_adjacent_elements(const Static_Int_Lists &amp;som_elem, const ArrOfInt &amp;sommets_to_find, ArrOfInt &amp;elements)</div><div class="ttdoc">Cherche les elements qui contiennent tous les sommets du tableau sommets_to_find (permet de trouver l...</div><div class="ttdef"><b>Definition:</b> <a href="Connectivite__som__elem_8cpp_source.html#l00101">Connectivite_som_elem.cpp:101</a></div></div>
<div class="ttc" id="aConnectivite__som__elem_8h_html"><div class="ttname"><a href="Connectivite__som__elem_8h.html">Connectivite_som_elem.h</a></div></div>
<div class="ttc" id="aDeclare__Inst_8h_html_afcab3f7633508e92f2077d767e19bc60"><div class="ttname"><a href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a></div><div class="ttdeci">#define Implemente_instanciable_sans_constructeur(_TYPE_, _NOM_, _BASE_)</div><div class="ttdef"><b>Definition:</b> <a href="Declare__Inst_8h_source.html#l00101">Declare_Inst.h:101</a></div></div>
<div class="ttc" id="aDomaine_8h_html"><div class="ttname"><a href="Domaine_8h.html">Domaine.h</a></div></div>
<div class="ttc" id="aDouble_8h_html_ac86f5f350b0f95fd8c34b0ac8d720f6f"><div class="ttname"><a href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a></div><div class="ttdeci">int est_egal(double x1, double x2, double eps)</div><div class="ttdef"><b>Definition:</b> <a href="Double_8h_source.html#l00091">Double.h:91</a></div></div>
<div class="ttc" id="aEFichierBin_8h_html"><div class="ttname"><a href="EFichierBin_8h.html">EFichierBin.h</a></div></div>
<div class="ttc" id="aEntreeSortie_8h_html_a5ebb6b5243d6167369bddecb78d0b5b8"><div class="ttname"><a href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a></div><div class="ttdeci">#define Cerr</div><div class="ttdef"><b>Definition:</b> <a href="EntreeSortie_8h_source.html#l00025">EntreeSortie.h:25</a></div></div>
<div class="ttc" id="aEntreeSortie_8h_html_a7f716d3c5b6411631d5d0700ead09467"><div class="ttname"><a href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a></div><div class="ttdeci">const Separateur finl</div></div>
<div class="ttc" id="aEntree__Brute_8h_html"><div class="ttname"><a href="Entree__Brute_8h.html">Entree_Brute.h</a></div></div>
<div class="ttc" id="aFaces__builder_8h_html"><div class="ttname"><a href="Faces__builder_8h.html">Faces_builder.h</a></div></div>
<div class="ttc" id="aFichierHDFPar_8h_html"><div class="ttname"><a href="FichierHDFPar_8h.html">FichierHDFPar.h</a></div></div>
<div class="ttc" id="aLecFicDiffuse_8h_html"><div class="ttname"><a href="LecFicDiffuse_8h.html">LecFicDiffuse.h</a></div></div>
<div class="ttc" id="aLecFicDistribueBin_8h_html"><div class="ttname"><a href="LecFicDistribueBin_8h.html">LecFicDistribueBin.h</a></div></div>
<div class="ttc" id="aMD__Vector__std_8h_html"><div class="ttname"><a href="MD__Vector__std_8h.html">MD_Vector_std.h</a></div></div>
<div class="ttc" id="aMD__Vector__tools_8h_html"><div class="ttname"><a href="MD__Vector__tools_8h.html">MD_Vector_tools.h</a></div></div>
<div class="ttc" id="aMemoire_8cpp_html_ade857a99d48bcb8cfaa57c4cd8d7d2e8"><div class="ttname"><a href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a></div><div class="ttdeci">static int compteur</div><div class="ttdef"><b>Definition:</b> <a href="Memoire_8cpp_source.html#l00019">Memoire.cpp:19</a></div></div>
<div class="ttc" id="aOp__Grad__EF_8cpp_html_abc0897c211f7aa4541da5833388f868b"><div class="ttname"><a href="Op__Grad__EF_8cpp.html#abc0897c211f7aa4541da5833388f868b">test</a></div><div class="ttdeci">void test(const DoubleTab &amp;pression, DoubleTab &amp;grad, const Op_Grad_EF &amp;op)</div><div class="ttdef"><b>Definition:</b> <a href="Op__Grad__EF_8cpp_source.html#l00092">Op_Grad_EF.cpp:92</a></div></div>
<div class="ttc" id="aPoly__geom__base_8h_html"><div class="ttname"><a href="Poly__geom__base_8h.html">Poly_geom_base.h</a></div></div>
<div class="ttc" id="aPostraitement__lata_8h_html"><div class="ttname"><a href="Postraitement__lata_8h.html">Postraitement_lata.h</a></div></div>
<div class="ttc" id="aReordonner__faces__periodiques_8h_html"><div class="ttname"><a href="Reordonner__faces__periodiques_8h.html">Reordonner_faces_periodiques.h</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a06420c19a824af0906036ca04758d81c"><div class="ttname"><a href="Scatter_8cpp.html#a06420c19a824af0906036ca04758d81c">fct_cmp_coordonnees</a></div><div class="ttdeci">static True_int fct_cmp_coordonnees(const double *s1, const double *s2)</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02451">Scatter.cpp:2451</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a09e112f8a32312a1675f7e33b94df122"><div class="ttname"><a href="Scatter_8cpp.html#a09e112f8a32312a1675f7e33b94df122">fct_cmp_coord_dimension</a></div><div class="ttdeci">static int fct_cmp_coord_dimension</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02448">Scatter.cpp:2448</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a107a2fbce3e368271c492cfcf7cfca10"><div class="ttname"><a href="Scatter_8cpp.html#a107a2fbce3e368271c492cfcf7cfca10">fct_cmp_coord_tableau</a></div><div class="ttdeci">static const DoubleTab * fct_cmp_coord_tableau</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02474">Scatter.cpp:2474</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a23c4d19dc90caae2323f04de90621709"><div class="ttname"><a href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709">array_trier_retirer_doublons</a></div><div class="ttdeci">static void array_trier_retirer_doublons(ArrOfInt &amp;array)</div><div class="ttdoc">Methode outil pour retirer les doublons dans un tableau.</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00769">Scatter.cpp:769</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a349bcb7610e5a8a66f1cef1b58b84c53"><div class="ttname"><a href="Scatter_8cpp.html#a349bcb7610e5a8a66f1cef1b58b84c53">arete_de_sommets_Si_et_Sj</a></div><div class="ttdeci">int arete_de_sommets_Si_et_Sj(const int Si, const int Sj, const int arete, const IntTab &amp;aretes_som)</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01908">Scatter.cpp:1908</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a4286544562bceff2d921dc707678463f"><div class="ttname"><a href="Scatter_8cpp.html#a4286544562bceff2d921dc707678463f">calculer_liste_complete_sommets_joint</a></div><div class="ttdeci">static void calculer_liste_complete_sommets_joint(const Joint &amp;joint, ArrOfInt &amp;liste_sommets)</div><div class="ttdoc">Methode outil: renvoie une liste complete de tous les sommets de joint (sommets des faces + sommets i...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01890">Scatter.cpp:1890</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a4c215e3cfff2963def44e300a58b513b"><div class="ttname"><a href="Scatter_8cpp.html#a4c215e3cfff2963def44e300a58b513b">init_simple_md_vector</a></div><div class="ttdeci">static void init_simple_md_vector(MD_Vector_std &amp;md, const int n)</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02836">Scatter.cpp:2836</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a554d338bda1a27579f9fb08e6a0168b9"><div class="ttname"><a href="Scatter_8cpp.html#a554d338bda1a27579f9fb08e6a0168b9">endian</a></div><div class="ttdeci">Nom endian()</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01124">Scatter.cpp:1124</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a5aa23d1c4a41bce37e5e06efb5e8c9e1"><div class="ttname"><a href="Scatter_8cpp.html#a5aa23d1c4a41bce37e5e06efb5e8c9e1">interprete_scatter_counter_</a></div><div class="ttdeci">Stat_Counter_Id interprete_scatter_counter_</div><div class="ttdoc">&lt; PGI</div><div class="ttdef"><b>Definition:</b> <a href="stat__counters_8cpp_source.html#l00065">stat_counters.cpp:65</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a600ea51e50b762812904598f72bc12b6"><div class="ttname"><a href="Scatter_8cpp.html#a600ea51e50b762812904598f72bc12b6">dump_lata</a></div><div class="ttdeci">static void dump_lata(const Domaine &amp;dom)</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00092">Scatter.cpp:92</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a727b40392ca2280ef4b3f158a4225b48"><div class="ttname"><a href="Scatter_8cpp.html#a727b40392ca2280ef4b3f158a4225b48">fct_cmp_index_coord</a></div><div class="ttdeci">static True_int fct_cmp_index_coord(const void *ptr1, const void *ptr2)</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02479">Scatter.cpp:2479</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a81c1304205b09abc2acc284f8adc390c"><div class="ttname"><a href="Scatter_8cpp.html#a81c1304205b09abc2acc284f8adc390c">fct_cmp_coord_epsilon</a></div><div class="ttdeci">static double fct_cmp_coord_epsilon</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02449">Scatter.cpp:2449</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a944250a2c83f0a472deb1c18072b9b69"><div class="ttname"><a href="Scatter_8cpp.html#a944250a2c83f0a472deb1c18072b9b69">fct_tri_table_inverse</a></div><div class="ttdeci">static True_int fct_tri_table_inverse(const void *ptr1, const void *ptr2)</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01498">Scatter.cpp:1498</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a984d3b204fb849a38f321769e58a5ef1"><div class="ttname"><a href="Scatter_8cpp.html#a984d3b204fb849a38f321769e58a5ef1">calculer_liste_complete_aretes_joint</a></div><div class="ttdeci">static void calculer_liste_complete_aretes_joint(const Joint &amp;joint, ArrOfInt &amp;liste_aretes)</div><div class="ttdoc">Methode outil: renvoie une liste complete de tous les aretes de joint (aretes des faces + aretes isol...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01920">Scatter.cpp:1920</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_a9ce09df49a63406b606ce247e3880d96"><div class="ttname"><a href="Scatter_8cpp.html#a9ce09df49a63406b606ce247e3880d96">calculer_liste_complete_items_joint</a></div><div class="ttdeci">static void calculer_liste_complete_items_joint(const Joint &amp;joint, const Joint::Type_Item type_item, ArrOfInt &amp;liste_items)</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02001">Scatter.cpp:2001</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_aad63bf1e3d986487b1fa8bc7e482c368"><div class="ttname"><a href="Scatter_8cpp.html#aad63bf1e3d986487b1fa8bc7e482c368">ajouter_joint</a></div><div class="ttdeci">static int ajouter_joint(Zone &amp;zone, int pe)</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00839">Scatter.cpp:839</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_aaf22a425af9ec9c52eca3d13f3ecea9f"><div class="ttname"><a href="Scatter_8cpp.html#aaf22a425af9ec9c52eca3d13f3ecea9f">calculer_espace_distant_item</a></div><div class="ttdeci">static void calculer_espace_distant_item(Zone &amp;la_zone, const Joint::Type_Item type_item, const IntTab &amp;connectivite_elem_item, const int nb_items_reels, const ArrOfInt &amp;items_lies)</div><div class="ttdoc">Methode generique pour calculer l'espace distant d'un type d'items geometrique&lt;br&gt;(sommet,...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01210">Scatter.cpp:1210</a></div></div>
<div class="ttc" id="aScatter_8cpp_html_ab0ae6267baccb3a639f4a8ff795edd35"><div class="ttname"><a href="Scatter_8cpp.html#ab0ae6267baccb3a639f4a8ff795edd35">array_retirer_elements</a></div><div class="ttdeci">static void array_retirer_elements(ArrOfInt &amp;sorted_array, const ArrOfInt &amp;sorted_elements_list)</div><div class="ttdoc">Retire de &quot;sorted_array&quot; les elements qui figurent dans &quot;sorted_elements&quot;. Les deux tableaux doivent ...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00797">Scatter.cpp:797</a></div></div>
<div class="ttc" id="aScatter_8h_html"><div class="ttname"><a href="Scatter_8h.html">Scatter.h</a></div></div>
<div class="ttc" id="aSchema__Comm_8h_html"><div class="ttname"><a href="Schema__Comm_8h.html">Schema_Comm.h</a></div></div>
<div class="ttc" id="aSolv__GCP__NS_8cpp_html_ab6aa1075b965c7713d8db20dd3a8e09b"><div class="ttname"><a href="Solv__GCP__NS_8cpp.html#ab6aa1075b965c7713d8db20dd3a8e09b">erreur</a></div><div class="ttdeci">void erreur()</div><div class="ttdef"><b>Definition:</b> <a href="Solv__GCP__NS_8cpp_source.html#l00134">Solv_GCP_NS.cpp:134</a></div></div>
<div class="ttc" id="aSource__Generique__Face__PolyMAC_8cpp_html_a7d7b5d77a3caa1af70f5e1c9108de5a1"><div class="ttname"><a href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a></div><div class="ttdeci">double valeur(const DoubleTab &amp;valeurs_champ, int elem1, int elem2, const int &amp;compo)</div><div class="ttdef"><b>Definition:</b> <a href="Source__Generique__Face__PolyMAC_8cpp_source.html#l00038">Source_Generique_Face_PolyMAC.cpp:38</a></div></div>
<div class="ttc" id="aStatistiques_8h_html"><div class="ttname"><a href="Statistiques_8h.html">Statistiques.h</a></div></div>
<div class="ttc" id="aStatistiques_8h_html_a3c199d09f12b2698e7ad0894e2dd7835"><div class="ttname"><a href="Statistiques_8h.html#a3c199d09f12b2698e7ad0894e2dd7835">statistiques</a></div><div class="ttdeci">Statistiques &amp; statistiques()</div><div class="ttdef"><b>Definition:</b> <a href="Statistiques_8h_source.html#l00183">Statistiques.h:183</a></div></div>
<div class="ttc" id="aTRUSTTabs_8h_html"><div class="ttname"><a href="TRUSTTabs_8h.html">TRUSTTabs.h</a></div></div>
<div class="ttc" id="aZone__VF_8h_html"><div class="ttname"><a href="Zone__VF_8h.html">Zone_VF.h</a></div></div>
<div class="ttc" id="aarch_8h_html_a1caaf369d9c5f0817dbaa76b43b8d87b"><div class="ttname"><a href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a></div><div class="ttdeci">int True_int</div><div class="ttdef"><b>Definition:</b> <a href="arch_8h_source.html#l00080">arch.h:80</a></div></div>
<div class="ttc" id="aclassArrOfBit_html"><div class="ttname"><a href="classArrOfBit.html">ArrOfBit</a></div><div class="ttdef"><b>Definition:</b> <a href="ArrOfBit_8h_source.html#l00022">ArrOfBit.h:23</a></div></div>
<div class="ttc" id="aclassArrOfBit_html_a0a8b695966e2c1060dc6eb37d87898e0"><div class="ttname"><a href="classArrOfBit.html#a0a8b695966e2c1060dc6eb37d87898e0">ArrOfBit::setbit</a></div><div class="ttdeci">void setbit(int i) const</div><div class="ttdoc">Met le bit e a 1.</div><div class="ttdef"><b>Definition:</b> <a href="ArrOfBit_8h_source.html#l00057">ArrOfBit.h:57</a></div></div>
<div class="ttc" id="aclassArrOfBit_html_a34edb6144cce28a5520305a04add5eb3"><div class="ttname"><a href="classArrOfBit.html#a34edb6144cce28a5520305a04add5eb3">ArrOfBit::testsetbit</a></div><div class="ttdeci">int testsetbit(int i) const</div><div class="ttdoc">Renvoie la valeur du bit e, puis met le bit e a 1.</div><div class="ttdef"><b>Definition:</b> <a href="ArrOfBit_8h_source.html#l00066">ArrOfBit.h:66</a></div></div>
<div class="ttc" id="aclassArrOfBit_html_a4ce8a88abd5489da9514bab54ab7017b"><div class="ttname"><a href="classArrOfBit.html#a4ce8a88abd5489da9514bab54ab7017b">ArrOfBit::clearbit</a></div><div class="ttdeci">void clearbit(int i) const</div><div class="ttdoc">Met le bit e a 0.</div><div class="ttdef"><b>Definition:</b> <a href="ArrOfBit_8h_source.html#l00078">ArrOfBit.h:78</a></div></div>
<div class="ttc" id="aclassArray__base_html_abee342aa9ac59623c4c782dc9d7877ffac85954f9768f1ed2b14e58cea8ddb7c5"><div class="ttname"><a href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffac85954f9768f1ed2b14e58cea8ddb7c5">Array_base::COPY_NOINIT</a></div><div class="ttdeci">@ COPY_NOINIT</div><div class="ttdef"><b>Definition:</b> <a href="Array__base_8h_source.html#l00032">Array_base.h:32</a></div></div>
<div class="ttc" id="aclassArray__base_html_abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68"><div class="ttname"><a href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a></div><div class="ttdeci">@ NOCOPY_NOINIT</div><div class="ttdef"><b>Definition:</b> <a href="Array__base_8h_source.html#l00032">Array_base.h:32</a></div></div>
<div class="ttc" id="aclassBord_html"><div class="ttname"><a href="classBord.html">Bord</a></div><div class="ttdoc">Classe Bord Cette classe represente un bord d'une zone, c'est un type de frontiere&lt;br&gt;(derive de Fron...</div><div class="ttdef"><b>Definition:</b> <a href="Bord_8h_source.html#l00036">Bord.h:37</a></div></div>
<div class="ttc" id="aclassComm__Group_html"><div class="ttname"><a href="classComm__Group.html">Comm_Group</a></div><div class="ttdoc">: Cette classe decrit un groupe de processeurs sur lesquels une portion de code s'execute simultaneme...</div><div class="ttdef"><b>Definition:</b> <a href="Comm__Group_8h_source.html#l00036">Comm_Group.h:37</a></div></div>
<div class="ttc" id="aclassDeriv__Elem__geom__base_html_ade8d45321a97c0d2bac45ae21decc8db"><div class="ttname"><a href="classDeriv__Elem__geom__base.html#ade8d45321a97c0d2bac45ae21decc8db">Deriv_Elem_geom_base::valeur</a></div><div class="ttdeci">const Elem_geom_base &amp; valeur() const</div><div class="ttdef"><b>Definition:</b> <a href="Elem__geom_8h_source.html#l00037">Elem_geom.h:37</a></div></div>
<div class="ttc" id="aclassDomaine_html"><div class="ttname"><a href="classDomaine.html">Domaine</a></div><div class="ttdoc">Classe Domaine Un Domaine represente le domaine (spatial) de resolution d'un Probleme....</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00051">Domaine.h:52</a></div></div>
<div class="ttc" id="aclassDomaine_html_a0846ac03a10b65c4df911fe35a19c02f"><div class="ttname"><a href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f">Domaine::les_sommets</a></div><div class="ttdeci">DoubleTab &amp; les_sommets()</div><div class="ttdoc">Renvoie le nombre total de sommets.</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00556">Domaine.h:556</a></div></div>
<div class="ttc" id="aclassDomaine_html_a092a7a09cc39770fb7549ff29fcd8c8e"><div class="ttname"><a href="classDomaine.html#a092a7a09cc39770fb7549ff29fcd8c8e">Domaine::set_fichier_lu</a></div><div class="ttdeci">void set_fichier_lu(Nom &amp;nom)</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00109">Domaine.h:109</a></div></div>
<div class="ttc" id="aclassDomaine_html_a5e770a06041728d20ab2298fe44de679"><div class="ttname"><a href="classDomaine.html#a5e770a06041728d20ab2298fe44de679">Domaine::nb_zones</a></div><div class="ttdeci">int nb_zones() const</div><div class="ttdoc">Renvoie le nombre de zone du domaine.</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00235">Domaine.h:235</a></div></div>
<div class="ttc" id="aclassDomaine_html_a5ebe2a9e34ba2e1b8b54541e7418e08b"><div class="ttname"><a href="classDomaine.html#a5ebe2a9e34ba2e1b8b54541e7418e08b">Domaine::read_vertices</a></div><div class="ttdeci">void read_vertices(Entree &amp;s)</div><div class="ttdoc">only read vertices from the stream s</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8cpp_source.html#l00125">Domaine.cpp:125</a></div></div>
<div class="ttc" id="aclassDomaine_html_a6204a2b89860bfd74ca2858d1d8750bf"><div class="ttname"><a href="classDomaine.html#a6204a2b89860bfd74ca2858d1d8750bf">Domaine::add</a></div><div class="ttdeci">void add(const Sous_Zone &amp;)</div><div class="ttdoc">Ajoute une Sous_Zone au domaine.</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8cpp_source.html#l00385">Domaine.cpp:385</a></div></div>
<div class="ttc" id="aclassDomaine_html_a6d61d3e68f4d08939c40222d942930ac"><div class="ttname"><a href="classDomaine.html#a6d61d3e68f4d08939c40222d942930ac">Domaine::zones</a></div><div class="ttdeci">const Zones &amp; zones() const</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00579">Domaine.h:579</a></div></div>
<div class="ttc" id="aclassDomaine_html_a9e067ee24e1952315722374190c8cb06"><div class="ttname"><a href="classDomaine.html#a9e067ee24e1952315722374190c8cb06">Domaine::ajouter</a></div><div class="ttdeci">void ajouter(const DoubleTab &amp;, IntVect &amp;)</div><div class="ttdoc">Ajoute des noeuds au domaine avec elimination des noeuds double au retour nums contient les nouveaux ...</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8cpp_source.html#l00252">Domaine.cpp:252</a></div></div>
<div class="ttc" id="aclassDomaine_html_aa0cc7a1301055e1f604935503ad83daa"><div class="ttname"><a href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">Domaine::zone</a></div><div class="ttdeci">const Zone &amp; zone(int) const</div><div class="ttdoc">Renvoie la i-ieme zone du domaine. (version const)</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00265">Domaine.h:265</a></div></div>
<div class="ttc" id="aclassDomaine_html_ad15005332b06c50c8fc55364beb6bd36"><div class="ttname"><a href="classDomaine.html#ad15005332b06c50c8fc55364beb6bd36">Domaine::le_nom</a></div><div class="ttdeci">const Nom &amp; le_nom() const override</div><div class="ttdoc">Renvoie le nom du domaine.</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00197">Domaine.h:197</a></div></div>
<div class="ttc" id="aclassDomaine_html_ade3572a127cbe62440b9d7af8f50cf58"><div class="ttname"><a href="classDomaine.html#ade3572a127cbe62440b9d7af8f50cf58">Domaine::nb_som</a></div><div class="ttdeci">virtual int nb_som() const</div><div class="ttdoc">Renvoie le nombre de sommets.</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8cpp_source.html#l00177">Domaine.cpp:177</a></div></div>
<div class="ttc" id="aclassDomaine_html_ae38374f4ac33a429a131a53083ad86fb"><div class="ttname"><a href="classDomaine.html#ae38374f4ac33a429a131a53083ad86fb">Domaine::coord_sommets</a></div><div class="ttdeci">const DoubleTab &amp; coord_sommets() const</div><div class="ttdoc">Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00493">Domaine.h:493</a></div></div>
<div class="ttc" id="aclassEFichierBin_html"><div class="ttname"><a href="classEFichierBin.html">EFichierBin</a></div><div class="ttdoc">Lecture dans un fichier d'objets ecrits au format binaire.</div><div class="ttdef"><b>Definition:</b> <a href="EFichierBin_8h_source.html#l00032">EFichierBin.h:33</a></div></div>
<div class="ttc" id="aclassElem__geom__base_html"><div class="ttname"><a href="classElem__geom__base.html">Elem_geom_base</a></div><div class="ttdoc">Classe Elem_geom_base Cette classe est la classe de base pour la definition d'elements geometriques c...</div><div class="ttdef"><b>Definition:</b> <a href="Elem__geom__base_8h_source.html#l00049">Elem_geom_base.h:50</a></div></div>
<div class="ttc" id="aclassElem__geom_html_a599a5ada3a469897d25174692cecdf0a"><div class="ttname"><a href="classElem__geom.html#a599a5ada3a469897d25174692cecdf0a">Elem_geom::nb_som_face</a></div><div class="ttdeci">int nb_som_face(int=0) const</div><div class="ttdoc">Appel a l'objet sous-jacent Renvoie le nombre de sommets des faces du type specifie.</div><div class="ttdef"><b>Definition:</b> <a href="Elem__geom_8h_source.html#l00302">Elem_geom.h:302</a></div></div>
<div class="ttc" id="aclassEntree__Brute_html"><div class="ttname"><a href="classEntree__Brute.html">Entree_Brute</a></div><div class="ttdoc">An Entree whose main source of data is an arbitrary binary buffer set using the set_data() method....</div><div class="ttdef"><b>Definition:</b> <a href="Entree__Brute_8h_source.html#l00031">Entree_Brute.h:32</a></div></div>
<div class="ttc" id="aclassEntree__Fichier__base_html_a8e34b235668e94f335cc9ab18dd4e427"><div class="ttname"><a href="classEntree__Fichier__base.html#a8e34b235668e94f335cc9ab18dd4e427">Entree_Fichier_base::ouvrir</a></div><div class="ttdeci">virtual int ouvrir(const char *name, std::_Ios_Openmode mode=ios::in)</div><div class="ttdef"><b>Definition:</b> <a href="Entree__Fichier__base_8cpp_source.html#l00060">Entree_Fichier_base.cpp:60</a></div></div>
<div class="ttc" id="aclassEntree__Fichier__base_html_aca9165bc1712c1057b4d4b91a7ea4fb4"><div class="ttname"><a href="classEntree__Fichier__base.html#aca9165bc1712c1057b4d4b91a7ea4fb4">Entree_Fichier_base::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> <a href="Entree__Fichier__base_8cpp_source.html#l00111">Entree_Fichier_base.cpp:111</a></div></div>
<div class="ttc" id="aclassEntree_html"><div class="ttname"><a href="classEntree.html">Entree</a></div><div class="ttdoc">Classe de definition des operateurs et methodes pour toute lecture dans un flot d'entree&lt;br&gt;(fichier,...</div><div class="ttdef"><b>Definition:</b> <a href="Entree_8h_source.html#l00041">Entree.h:42</a></div></div>
<div class="ttc" id="aclassEntree_html_abcd397cb0b99fbe7c6f01047d8cec89c"><div class="ttname"><a href="classEntree.html#abcd397cb0b99fbe7c6f01047d8cec89c">Entree::eof</a></div><div class="ttdeci">virtual int eof()</div><div class="ttdef"><b>Definition:</b> <a href="Entree_8cpp_source.html#l00258">Entree.cpp:258</a></div></div>
<div class="ttc" id="aclassFaces_html_a07b8d8db9e3d656b93a21a49c063430c"><div class="ttname"><a href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">Faces::les_sommets</a></div><div class="ttdeci">IntTab &amp; les_sommets()</div><div class="ttdef"><b>Definition:</b> <a href="Faces_8h_source.html#l00258">Faces.h:258</a></div></div>
<div class="ttc" id="aclassFaces_html_a78a75e9e57034066c75543a608722280"><div class="ttname"><a href="classFaces.html#a78a75e9e57034066c75543a608722280">Faces::nb_faces</a></div><div class="ttdeci">int nb_faces() const</div><div class="ttdoc">Renvoie le nombre de Faces.</div><div class="ttdef"><b>Definition:</b> <a href="Faces_8h_source.html#l00142">Faces.h:142</a></div></div>
<div class="ttc" id="aclassFaces_html_abd5a41b8a489c42e63014f2376a8cfd3"><div class="ttname"><a href="classFaces.html#abd5a41b8a489c42e63014f2376a8cfd3">Faces::nb_som_faces</a></div><div class="ttdeci">int nb_som_faces() const</div><div class="ttdoc">Renvoie le nombre de sommet par face.</div><div class="ttdef"><b>Definition:</b> <a href="Faces_8h_source.html#l00232">Faces.h:232</a></div></div>
<div class="ttc" id="aclassFichierHDFPar_html"><div class="ttname"><a href="classFichierHDFPar.html">FichierHDFPar</a></div><div class="ttdoc">Parallel collective version of FichierHDF, to be used for all concurrent reading/writing on HDF files...</div><div class="ttdef"><b>Definition:</b> <a href="FichierHDFPar_8h_source.html#l00027">FichierHDFPar.h:28</a></div></div>
<div class="ttc" id="aclassFichierHDF_html_a0ad22bc624e64d0fecd33abb64b4881a"><div class="ttname"><a href="classFichierHDF.html#a0ad22bc624e64d0fecd33abb64b4881a">FichierHDF::is_hdf5</a></div><div class="ttdeci">static bool is_hdf5(const char *file_name)</div><div class="ttdef"><b>Definition:</b> <a href="FichierHDF_8cpp_source.html#l00043">FichierHDF.cpp:43</a></div></div>
<div class="ttc" id="aclassFichierHDF_html_a4b1e63bb02aebe3cd085af22cdd870af"><div class="ttname"><a href="classFichierHDF.html#a4b1e63bb02aebe3cd085af22cdd870af">FichierHDF::read_dataset</a></div><div class="ttdeci">virtual void read_dataset(Nom dataset_basename, int proc_rank, Entree_Brute &amp;entree)</div><div class="ttdef"><b>Definition:</b> <a href="FichierHDF_8cpp_source.html#l00037">FichierHDF.cpp:37</a></div></div>
<div class="ttc" id="aclassFichierHDF_html_a55803f961da3af25680be6cec26e85ec"><div class="ttname"><a href="classFichierHDF.html#a55803f961da3af25680be6cec26e85ec">FichierHDF::open</a></div><div class="ttdeci">virtual void open(Nom filename, bool readOnly)</div><div class="ttdef"><b>Definition:</b> <a href="FichierHDF_8cpp_source.html#l00029">FichierHDF.cpp:29</a></div></div>
<div class="ttc" id="aclassFichierHDF_html_a5731b503f5e1472ad9ab934f759dcf7b"><div class="ttname"><a href="classFichierHDF.html#a5731b503f5e1472ad9ab934f759dcf7b">FichierHDF::exists</a></div><div class="ttdeci">virtual bool exists(const char *dataset_name)</div><div class="ttdef"><b>Definition:</b> <a href="FichierHDF_8cpp_source.html#l00039">FichierHDF.cpp:39</a></div></div>
<div class="ttc" id="aclassFichierHDF_html_ac5d8eb389ee60109c2d60029f442487f"><div class="ttname"><a href="classFichierHDF.html#ac5d8eb389ee60109c2d60029f442487f">FichierHDF::close</a></div><div class="ttdeci">virtual void close()</div><div class="ttdef"><b>Definition:</b> <a href="FichierHDF_8cpp_source.html#l00030">FichierHDF.cpp:30</a></div></div>
<div class="ttc" id="aclassFrontiere_html_a2504bec98a459f1f04ce8282cfd58128"><div class="ttname"><a href="classFrontiere.html#a2504bec98a459f1f04ce8282cfd58128">Frontiere::nb_faces</a></div><div class="ttdeci">int nb_faces() const</div><div class="ttdoc">Renvoie le nombre de faces de la frontiere.</div><div class="ttdef"><b>Definition:</b> <a href="Frontiere_8h_source.html#l00107">Frontiere.h:107</a></div></div>
<div class="ttc" id="aclassFrontiere_html_a295f03b58a716affaeb385b4146f134f"><div class="ttname"><a href="classFrontiere.html#a295f03b58a716affaeb385b4146f134f">Frontiere::nommer</a></div><div class="ttdeci">void nommer(const Nom &amp;) override</div><div class="ttdoc">Donne un nom a la frontiere.</div><div class="ttdef"><b>Definition:</b> <a href="Frontiere_8cpp_source.html#l00105">Frontiere.cpp:105</a></div></div>
<div class="ttc" id="aclassFrontiere_html_a6d1f96137ddae39a46985a8c3e53bcf5"><div class="ttname"><a href="classFrontiere.html#a6d1f96137ddae39a46985a8c3e53bcf5">Frontiere::les_sommets_des_faces</a></div><div class="ttdeci">IntTab &amp; les_sommets_des_faces()</div><div class="ttdoc">Renvoie les sommets des faces de la frontiere.</div><div class="ttdef"><b>Definition:</b> <a href="Frontiere_8cpp_source.html#l00189">Frontiere.cpp:189</a></div></div>
<div class="ttc" id="aclassFrontiere_html_a8fe4c692079f8d43642f13ce07a75830"><div class="ttname"><a href="classFrontiere.html#a8fe4c692079f8d43642f13ce07a75830">Frontiere::faces</a></div><div class="ttdeci">const Faces &amp; faces() const</div><div class="ttdoc">Renvoie les faces de la frontiere&lt;br&gt;(version const)</div><div class="ttdef"><b>Definition:</b> <a href="Frontiere_8h_source.html#l00168">Frontiere.h:168</a></div></div>
<div class="ttc" id="aclassFrontiere_html_a99830e76b78a74ba8bcbbdde18c75f60"><div class="ttname"><a href="classFrontiere.html#a99830e76b78a74ba8bcbbdde18c75f60">Frontiere::zone</a></div><div class="ttdeci">const Zone &amp; zone() const</div><div class="ttdoc">Renvoie la Zone associee a la frontiere. (version const)</div><div class="ttdef"><b>Definition:</b> <a href="Frontiere_8cpp_source.html#l00252">Frontiere.cpp:252</a></div></div>
<div class="ttc" id="aclassFrontiere_html_af927b5d4fc1fd086ba91e916f61badee"><div class="ttname"><a href="classFrontiere.html#af927b5d4fc1fd086ba91e916f61badee">Frontiere::associer_zone</a></div><div class="ttdeci">void associer_zone(const Zone &amp;)</div><div class="ttdoc">Associe la frontiere a la zone dont elle depend.</div><div class="ttdef"><b>Definition:</b> <a href="Frontiere_8cpp_source.html#l00085">Frontiere.cpp:85</a></div></div>
<div class="ttc" id="aclassInterprete_html"><div class="ttname"><a href="classInterprete.html">Interprete</a></div><div class="ttdoc">Classe de base des objets &quot;interprete&quot;. Ces objets definissent des actions a realiser lorsqu'on les r...</div><div class="ttdef"><b>Definition:</b> <a href="Interprete_8h_source.html#l00039">Interprete.h:40</a></div></div>
<div class="ttc" id="aclassInterprete_html_a3ca248609f0b72eac68baca14621b4ee"><div class="ttname"><a href="classInterprete.html#a3ca248609f0b72eac68baca14621b4ee">Interprete::objet</a></div><div class="ttdeci">static Objet_U &amp; objet(const Nom &amp;)</div><div class="ttdoc">Voir Interprete_bloc::objet_global() BM: la classe Interprete n'est pas le meilleur endroit pour cett...</div><div class="ttdef"><b>Definition:</b> <a href="Interprete_8cpp_source.html#l00041">Interprete.cpp:41</a></div></div>
<div class="ttc" id="aclassInterprete_html_a4dc57ee68fca0ece3949ec2a307062e5"><div class="ttname"><a href="classInterprete.html#a4dc57ee68fca0ece3949ec2a307062e5">Interprete::printOn</a></div><div class="ttdeci">Sortie &amp; printOn(Sortie &amp;x) const override</div><div class="ttdoc">Ecriture de l'objet sur un flot de sortie Methode a surcharger.</div><div class="ttdef"><b>Definition:</b> <a href="Interprete_8cpp_source.html#l00031">Interprete.cpp:31</a></div></div>
<div class="ttc" id="aclassInterprete_html_aa53181fde696cbb695f1db6aaabd75e3"><div class="ttname"><a href="classInterprete.html#aa53181fde696cbb695f1db6aaabd75e3">Interprete::readOn</a></div><div class="ttdeci">Entree &amp; readOn(Entree &amp;) override</div><div class="ttdoc">Lecture d'un Objet_U sur un flot d'entree Methode a surcharger.</div><div class="ttdef"><b>Definition:</b> <a href="Interprete_8cpp_source.html#l00024">Interprete.cpp:24</a></div></div>
<div class="ttc" id="aclassJoint__Items_html"><div class="ttname"><a href="classJoint__Items.html">Joint_Items</a></div><div class="ttdoc">Joint_Items contient les informations de distribution parallele d'un item geometrique particulier ave...</div><div class="ttdef"><b>Definition:</b> <a href="Joint__Items_8h_source.html#l00035">Joint_Items.h:36</a></div></div>
<div class="ttc" id="aclassJoint__Items_html_a13add264f4ad36ef4bddbfc1b7bdb817"><div class="ttname"><a href="classJoint__Items.html#a13add264f4ad36ef4bddbfc1b7bdb817">Joint_Items::set_items_distants</a></div><div class="ttdeci">ArrOfInt &amp; set_items_distants()</div><div class="ttdoc">Renvoie le tableau items_distants_ pour le remplir Voir Scatter::calculer_espace_distant,...</div><div class="ttdef"><b>Definition:</b> <a href="Joint__Items_8cpp_source.html#l00066">Joint_Items.cpp:66</a></div></div>
<div class="ttc" id="aclassJoint__Items_html_a59175012728b3e41778c7ae24db94c29"><div class="ttname"><a href="classJoint__Items.html#a59175012728b3e41778c7ae24db94c29">Joint_Items::items_distants</a></div><div class="ttdeci">const ArrOfInt &amp; items_distants() const</div><div class="ttdoc">Voir items_distants_.</div><div class="ttdef"><b>Definition:</b> <a href="Joint__Items_8cpp_source.html#l00056">Joint_Items.cpp:56</a></div></div>
<div class="ttc" id="aclassJoint__Items_html_a71bb34830894f51cc14713f02a65673d"><div class="ttname"><a href="classJoint__Items.html#a71bb34830894f51cc14713f02a65673d">Joint_Items::nb_items_virtuels</a></div><div class="ttdeci">int nb_items_virtuels() const</div><div class="ttdoc">Voir nb_items_virtuels_.</div><div class="ttdef"><b>Definition:</b> <a href="Joint__Items_8cpp_source.html#l00081">Joint_Items.cpp:81</a></div></div>
<div class="ttc" id="aclassJoint__Items_html_a78f3342c38b3331b3b57b7b4b9dbf94c"><div class="ttname"><a href="classJoint__Items.html#a78f3342c38b3331b3b57b7b4b9dbf94c">Joint_Items::renum_items_communs</a></div><div class="ttdeci">const IntTab &amp; renum_items_communs() const</div><div class="ttdoc">Voir renum_items_communs_.</div><div class="ttdef"><b>Definition:</b> <a href="Joint__Items_8cpp_source.html#l00097">Joint_Items.cpp:97</a></div></div>
<div class="ttc" id="aclassJoint__Items_html_a956b3926baa83e9d5ab9848adf7f822a"><div class="ttname"><a href="classJoint__Items.html#a956b3926baa83e9d5ab9848adf7f822a">Joint_Items::set_nb_items_virtuels</a></div><div class="ttdeci">void set_nb_items_virtuels(int n)</div><div class="ttdoc">Voir nb_items_virtuels_ Voir Scatter::calculer_nb_items_virtuels.</div><div class="ttdef"><b>Definition:</b> <a href="Joint__Items_8cpp_source.html#l00074">Joint_Items.cpp:74</a></div></div>
<div class="ttc" id="aclassJoint__Items_html_a95cc27c0fd65e2444a468df69a211057"><div class="ttname"><a href="classJoint__Items.html#a95cc27c0fd65e2444a468df69a211057">Joint_Items::set_renum_items_communs</a></div><div class="ttdeci">IntTab &amp; set_renum_items_communs()</div><div class="ttdoc">Voir renum_items_communs_ Voir Scatter::calculer_colonne0_renum_faces_communes Scatter::construire_co...</div><div class="ttdef"><b>Definition:</b> <a href="Joint__Items_8cpp_source.html#l00090">Joint_Items.cpp:90</a></div></div>
<div class="ttc" id="aclassJoint__Items_html_aa01c4601d506c658f4f1d45e66951ce0"><div class="ttname"><a href="classJoint__Items.html#aa01c4601d506c658f4f1d45e66951ce0">Joint_Items::set_items_communs</a></div><div class="ttdeci">ArrOfInt &amp; set_items_communs()</div><div class="ttdoc">Renvoie le tableau items_communs_ pour le remplir. (BM: ce tableau n'est pas encore rempli)</div><div class="ttdef"><b>Definition:</b> <a href="Joint__Items_8cpp_source.html#l00049">Joint_Items.cpp:49</a></div></div>
<div class="ttc" id="aclassJoint__Items_html_ae341478a0251c4ab6fc7c65189a7f30b"><div class="ttname"><a href="classJoint__Items.html#ae341478a0251c4ab6fc7c65189a7f30b">Joint_Items::items_communs</a></div><div class="ttdeci">const ArrOfInt &amp; items_communs() const</div><div class="ttdoc">Voir items_communs_.</div><div class="ttdef"><b>Definition:</b> <a href="Joint__Items_8cpp_source.html#l00042">Joint_Items.cpp:42</a></div></div>
<div class="ttc" id="aclassJoint_html"><div class="ttname"><a href="classJoint.html">Joint</a></div><div class="ttdoc">La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8h_source.html#l00037">Joint.h:38</a></div></div>
<div class="ttc" id="aclassJoint_html_a03c8e7cc913cafa0fbec80e084ea6fc7"><div class="ttname"><a href="classJoint.html#a03c8e7cc913cafa0fbec80e084ea6fc7">Joint::joint_item</a></div><div class="ttdeci">const Joint_Items &amp; joint_item(Type_Item type) const</div><div class="ttdoc">Renvoie les informations de joint pour le type demande.</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8cpp_source.html#l00179">Joint.cpp:179</a></div></div>
<div class="ttc" id="aclassJoint_html_a130c206de5fddabf173bb3e4604cefa3"><div class="ttname"><a href="classJoint.html#a130c206de5fddabf173bb3e4604cefa3">Joint::affecte_epaisseur</a></div><div class="ttdeci">void affecte_epaisseur(int)</div><div class="ttdoc">Fixe l'epaisseur du joint.</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8cpp_source.html#l00085">Joint.cpp:85</a></div></div>
<div class="ttc" id="aclassJoint_html_a1e2d15d088c27c9b7b11c02bf4d2c926"><div class="ttname"><a href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926">Joint::Type_Item</a></div><div class="ttdeci">Type_Item</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8h_source.html#l00059">Joint.h:59</a></div></div>
<div class="ttc" id="aclassJoint_html_a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8"><div class="ttname"><a href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a></div><div class="ttdeci">@ SOMMET</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8h_source.html#l00059">Joint.h:59</a></div></div>
<div class="ttc" id="aclassJoint_html_a1e2d15d088c27c9b7b11c02bf4d2c926a7816c69408b98e1161f1f54e7b6b1cb4"><div class="ttname"><a href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a7816c69408b98e1161f1f54e7b6b1cb4">Joint::ARETE</a></div><div class="ttdeci">@ ARETE</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8h_source.html#l00059">Joint.h:59</a></div></div>
<div class="ttc" id="aclassJoint_html_a1e2d15d088c27c9b7b11c02bf4d2c926ab255b88987fc7f64c215c958cbe2af6b"><div class="ttname"><a href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ab255b88987fc7f64c215c958cbe2af6b">Joint::FACE</a></div><div class="ttdeci">@ FACE</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8h_source.html#l00059">Joint.h:59</a></div></div>
<div class="ttc" id="aclassJoint_html_a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173"><div class="ttname"><a href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a></div><div class="ttdeci">@ ELEMENT</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8h_source.html#l00059">Joint.h:59</a></div></div>
<div class="ttc" id="aclassJoint_html_a1e2d15d088c27c9b7b11c02bf4d2c926af1ca60fd524298b1cb3e07b26a2d63c8"><div class="ttname"><a href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926af1ca60fd524298b1cb3e07b26a2d63c8">Joint::FACE_FRONT</a></div><div class="ttdeci">@ FACE_FRONT</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8h_source.html#l00059">Joint.h:59</a></div></div>
<div class="ttc" id="aclassJoint_html_a3a841bf6fb2fa26a0606d1acf0323b8b"><div class="ttname"><a href="classJoint.html#a3a841bf6fb2fa26a0606d1acf0323b8b">Joint::epaisseur</a></div><div class="ttdeci">int epaisseur() const</div><div class="ttdoc">Renvoie l'epaisseur du joint.</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8cpp_source.html#l00099">Joint.cpp:99</a></div></div>
<div class="ttc" id="aclassJoint_html_a3c4ef6a648dd0b5d4aa072a1f4e3c64e"><div class="ttname"><a href="classJoint.html#a3c4ef6a648dd0b5d4aa072a1f4e3c64e">Joint::affecte_PEvoisin</a></div><div class="ttdeci">void affecte_PEvoisin(int)</div><div class="ttdoc">Fixe le numero du PE voisin.</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8cpp_source.html#l00078">Joint.cpp:78</a></div></div>
<div class="ttc" id="aclassJoint_html_a810c30c80b068cff9c58ca8be46f9d63"><div class="ttname"><a href="classJoint.html#a810c30c80b068cff9c58ca8be46f9d63">Joint::PEvoisin</a></div><div class="ttdeci">int PEvoisin() const</div><div class="ttdoc">Renvoie PEvoisin (numero de la zone voisine)</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8cpp_source.html#l00092">Joint.cpp:92</a></div></div>
<div class="ttc" id="aclassJoint_html_aa1c4d729a3017082d26907d82ad1d7de"><div class="ttname"><a href="classJoint.html#aa1c4d729a3017082d26907d82ad1d7de">Joint::set_joint_item</a></div><div class="ttdeci">Joint_Items &amp; set_joint_item(Type_Item type)</div><div class="ttdoc">Renvoie les informations de joint pour un type d'item geometrique donne, pour remplissage des structu...</div><div class="ttdef"><b>Definition:</b> <a href="Joint_8cpp_source.html#l00152">Joint.cpp:152</a></div></div>
<div class="ttc" id="aclassJoints_html"><div class="ttname"><a href="classJoints.html">Joints</a></div><div class="ttdoc">Classe Joints Cette classe represente une liste d'objet de type Joint.</div><div class="ttdef"><b>Definition:</b> <a href="Joints_8h_source.html#l00032">Joints.h:33</a></div></div>
<div class="ttc" id="aclassLecFicDiffuse_html"><div class="ttname"><a href="classLecFicDiffuse.html">LecFicDiffuse</a></div><div class="ttdoc">Cette classe implemente les operateurs et les methodes virtuelles de la classe EFichier de la facon s...</div><div class="ttdef"><b>Definition:</b> <a href="LecFicDiffuse_8h_source.html#l00034">LecFicDiffuse.h:35</a></div></div>
<div class="ttc" id="aclassLecFicDistribueBin_html"><div class="ttname"><a href="classLecFicDistribueBin.html">LecFicDistribueBin</a></div><div class="ttdoc">Lecture dans un fichier au format binaire. Cette classe implemente les operateurs et les methodes vir...</div><div class="ttdef"><b>Definition:</b> <a href="LecFicDistribueBin_8h_source.html#l00035">LecFicDistribueBin.h:36</a></div></div>
<div class="ttc" id="aclassLecFicDistribue_html_a3e80ee949fdea43c15056456d3b30be5"><div class="ttname"><a href="classLecFicDistribue.html#a3e80ee949fdea43c15056456d3b30be5">LecFicDistribue::ouvrir</a></div><div class="ttdeci">int ouvrir(const char *name, std::_Ios_Openmode mode=ios::in) override</div><div class="ttdoc">Ouvre le fichier avec les parametres mode et prot donnes Ces parametres sont les parametres de la met...</div><div class="ttdef"><b>Definition:</b> <a href="LecFicDistribue_8cpp_source.html#l00101">LecFicDistribue.cpp:101</a></div></div>
<div class="ttc" id="aclassList__Joint_html_af5bca88a907fbe4086842805696cfe2f"><div class="ttname"><a href="classList__Joint.html#af5bca88a907fbe4086842805696cfe2f">List_Joint::add</a></div><div class="ttdeci">List_Joint &amp; add(const List_Joint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="Joints_8h_source.html#l00021">Joints.h:21</a></div></div>
<div class="ttc" id="aclassMD__Vector__base2_html_a2bb5e578b35a03544342e963d2adec35"><div class="ttname"><a href="classMD__Vector__base2.html#a2bb5e578b35a03544342e963d2adec35">MD_Vector_base2::nb_items_seq_local_</a></div><div class="ttdeci">int nb_items_seq_local_</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector__base2_8h_source.html#l00048">MD_Vector_base2.h:48</a></div></div>
<div class="ttc" id="aclassMD__Vector__base2_html_a7cf9dbd94db6c0ba49e87681d207aef0"><div class="ttname"><a href="classMD__Vector__base2.html#a7cf9dbd94db6c0ba49e87681d207aef0">MD_Vector_base2::nb_items_seq_tot_</a></div><div class="ttdeci">int nb_items_seq_tot_</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector__base2_8h_source.html#l00046">MD_Vector_base2.h:46</a></div></div>
<div class="ttc" id="aclassMD__Vector__base2_html_a87c423fabd116249cb1dab31887193c9"><div class="ttname"><a href="classMD__Vector__base2.html#a87c423fabd116249cb1dab31887193c9">MD_Vector_base2::nb_items_reels_</a></div><div class="ttdeci">int nb_items_reels_</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector__base2_8h_source.html#l00043">MD_Vector_base2.h:43</a></div></div>
<div class="ttc" id="aclassMD__Vector__base2_html_ac19dad1f73b786033a9911cbfe3ae440"><div class="ttname"><a href="classMD__Vector__base2.html#ac19dad1f73b786033a9911cbfe3ae440">MD_Vector_base2::blocs_items_to_compute_</a></div><div class="ttdeci">ArrOfInt blocs_items_to_compute_</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector__base2_8h_source.html#l00063">MD_Vector_base2.h:63</a></div></div>
<div class="ttc" id="aclassMD__Vector__base2_html_ae222cd70f0be4da64d0aa7fcd89df0f4"><div class="ttname"><a href="classMD__Vector__base2.html#ae222cd70f0be4da64d0aa7fcd89df0f4">MD_Vector_base2::nb_items_tot_</a></div><div class="ttdeci">int nb_items_tot_</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector__base2_8h_source.html#l00037">MD_Vector_base2.h:37</a></div></div>
<div class="ttc" id="aclassMD__Vector__base2_html_afb3898aebe081ff8c87759822946ece7"><div class="ttname"><a href="classMD__Vector__base2.html#afb3898aebe081ff8c87759822946ece7">MD_Vector_base2::blocs_items_to_sum_</a></div><div class="ttdeci">ArrOfInt blocs_items_to_sum_</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector__base2_8h_source.html#l00057">MD_Vector_base2.h:57</a></div></div>
<div class="ttc" id="aclassMD__Vector__base_html_a27d5ace2aee5ecf1d78accb7b321108d"><div class="ttname"><a href="classMD__Vector__base.html#a27d5ace2aee5ecf1d78accb7b321108d">MD_Vector_base::get_nb_items_tot</a></div><div class="ttdeci">virtual int get_nb_items_tot() const =0</div></div>
<div class="ttc" id="aclassMD__Vector__base_html_ade0ef13d456f8aa11d02f51fd7912145"><div class="ttname"><a href="classMD__Vector__base.html#ade0ef13d456f8aa11d02f51fd7912145">MD_Vector_base::get_nb_items_reels</a></div><div class="ttdeci">virtual int get_nb_items_reels() const =0</div></div>
<div class="ttc" id="aclassMD__Vector__std_html"><div class="ttname"><a href="classMD__Vector__std.html">MD_Vector_std</a></div><div class="ttdoc">C'est le plus simple des descripteurs, utilise pour les tableaux de valeurs aux sommets,...</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector__std_8h_source.html#l00035">MD_Vector_std.h:36</a></div></div>
<div class="ttc" id="aclassMD__Vector__tools_html_aeac48ec589f525bafdfc83244a5d4dea"><div class="ttname"><a href="classMD__Vector__tools.html#aeac48ec589f525bafdfc83244a5d4dea">MD_Vector_tools::creer_tableau_distribue</a></div><div class="ttdeci">static void creer_tableau_distribue(const MD_Vector &amp;, Array_base &amp;, Array_base::Resize_Options opt=Array_base::COPY_INIT)</div><div class="ttdoc">transforme v en un tableau parallele ayant la structure md. md doit est non nul ! Les dimension(i&gt;=1)...</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector__tools_8cpp_source.html#l00102">MD_Vector_tools.cpp:102</a></div></div>
<div class="ttc" id="aclassMD__Vector_html"><div class="ttname"><a href="classMD__Vector.html">MD_Vector</a></div><div class="ttdoc">: Cette classe est un DERIV mais l'objet pointe est partage entre plusieurs instances de cette classe...</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector_8h_source.html#l00045">MD_Vector.h:46</a></div></div>
<div class="ttc" id="aclassMD__Vector_html_a063644dd8ca62e707a2d059eedeb58a7"><div class="ttname"><a href="classMD__Vector.html#a063644dd8ca62e707a2d059eedeb58a7">MD_Vector::copy</a></div><div class="ttdeci">void copy(const MD_Vector_base &amp;)</div><div class="ttdoc">construction d'un objet MD_Vector par copie d'un objet existant. C'est la methode recommandee pour cr...</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector_8cpp_source.html#l00026">MD_Vector.cpp:26</a></div></div>
<div class="ttc" id="aclassMD__Vector_html_a88b5a2d398314812f32a1dbc433cfe99"><div class="ttname"><a href="classMD__Vector.html#a88b5a2d398314812f32a1dbc433cfe99">MD_Vector::valeur</a></div><div class="ttdeci">const MD_Vector_base &amp; valeur() const</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector_8h_source.html#l00058">MD_Vector.h:58</a></div></div>
<div class="ttc" id="aclassMD__Vector_html_aa8b6d80c076feecf7373552d58489e22"><div class="ttname"><a href="classMD__Vector.html#aa8b6d80c076feecf7373552d58489e22">MD_Vector::detach</a></div><div class="ttdeci">void detach()</div><div class="ttdoc">Detache le pointeur de l'objet pointe et decremente le compteur de ref. Si le compteur est nul,...</div><div class="ttdef"><b>Definition:</b> <a href="MD__Vector_8h_source.html#l00086">MD_Vector.h:86</a></div></div>
<div class="ttc" id="aclassMotcle_html"><div class="ttname"><a href="classMotcle.html">Motcle</a></div><div class="ttdoc">Une chaine de caractere (Nom) en majuscules.</div><div class="ttdef"><b>Definition:</b> <a href="Motcle_8h_source.html#l00027">Motcle.h:28</a></div></div>
<div class="ttc" id="aclassNom_html"><div class="ttname"><a href="classNom.html">Nom</a></div><div class="ttdoc">class Nom Une chaine de caractere pour nommer les objets de TRUST NOM_H</div><div class="ttdef"><b>Definition:</b> <a href="Nom_8h_source.html#l00034">Nom.h:35</a></div></div>
<div class="ttc" id="aclassNom_html_a3abda6bfff346bd3aa5118456ccb3d97"><div class="ttname"><a href="classNom.html#a3abda6bfff346bd3aa5118456ccb3d97">Nom::getPrefix</a></div><div class="ttdeci">const Nom getPrefix(const char *const) const</div><div class="ttdef"><b>Definition:</b> <a href="Nom_8cpp_source.html#l00455">Nom.cpp:455</a></div></div>
<div class="ttc" id="aclassNom_html_a67b66f01988827cce6bf1f108b850bda"><div class="ttname"><a href="classNom.html#a67b66f01988827cce6bf1f108b850bda">Nom::nom_me</a></div><div class="ttdeci">Nom nom_me(int, const char *prefix=0, int without_padding=0) const</div><div class="ttdoc">Insere _prefix000n (n=me() ou nproc()) dans un nom de fichier (par ex:toto.titi) pour donner toto_pre...</div><div class="ttdef"><b>Definition:</b> <a href="Nom_8cpp_source.html#l00524">Nom.cpp:524</a></div></div>
<div class="ttc" id="aclassNom_html_ad71b1114cce16c93232450de03848dfc"><div class="ttname"><a href="classNom.html#ad71b1114cce16c93232450de03848dfc">Nom::getString</a></div><div class="ttdeci">const std::string &amp; getString() const</div><div class="ttdef"><b>Definition:</b> <a href="Nom_8h_source.html#l00089">Nom.h:89</a></div></div>
<div class="ttc" id="aclassNoms_html"><div class="ttname"><a href="classNoms.html">Noms</a></div><div class="ttdoc">Un tableau de chaine de caracteres (VECT(Nom))</div><div class="ttdef"><b>Definition:</b> <a href="Noms_8h_source.html#l00029">Noms.h:30</a></div></div>
<div class="ttc" id="aclassObjet__U_html"><div class="ttname"><a href="classObjet__U.html">Objet_U</a></div><div class="ttdoc">classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...</div><div class="ttdef"><b>Definition:</b> <a href="Objet__U_8h_source.html#l00064">Objet_U.h:65</a></div></div>
<div class="ttc" id="aclassObjet__U_html_a3e23491c01f2f39245fb6f3b6d6d9b17"><div class="ttname"><a href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a></div><div class="ttdeci">static int dimension</div><div class="ttdef"><b>Definition:</b> <a href="Objet__U_8h_source.html#l00073">Objet_U.h:73</a></div></div>
<div class="ttc" id="aclassObjet__U_html_a7447e25c68cc8d3a1c06cf99f0565cff"><div class="ttname"><a href="classObjet__U.html#a7447e25c68cc8d3a1c06cf99f0565cff">Objet_U::precision_geom</a></div><div class="ttdeci">static double precision_geom</div><div class="ttdef"><b>Definition:</b> <a href="Objet__U_8h_source.html#l00074">Objet_U.h:74</a></div></div>
<div class="ttc" id="aclassPoly__geom__base_html"><div class="ttname"><a href="classPoly__geom__base.html">Poly_geom_base</a></div><div class="ttdoc">: class Poly_geom_base &lt;Description of class Poly_geom_base&gt;</div><div class="ttdef"><b>Definition:</b> <a href="Poly__geom__base_8h_source.html#l00030">Poly_geom_base.h:31</a></div></div>
<div class="ttc" id="aclassPostraitement__base_html_a6a43e4c7caaafa57902a067e706d56e9a72278646074c45c57de008b5deda3037"><div class="ttname"><a href="classPostraitement__base.html#a6a43e4c7caaafa57902a067e706d56e9a72278646074c45c57de008b5deda3037">Postraitement_base::ELEMENTS</a></div><div class="ttdeci">@ ELEMENTS</div><div class="ttdef"><b>Definition:</b> <a href="Postraitement__base_8h_source.html#l00054">Postraitement_base.h:54</a></div></div>
<div class="ttc" id="aclassPostraitement__lata_html_a012d35ff1c9b7bb8a7c59587b4c3e4f0addb3b63849292cc4575b2ee02340dded"><div class="ttname"><a href="classPostraitement__lata.html#a012d35ff1c9b7bb8a7c59587b4c3e4f0addb3b63849292cc4575b2ee02340dded">Postraitement_lata::CHAMP</a></div><div class="ttdeci">@ CHAMP</div><div class="ttdef"><b>Definition:</b> <a href="Postraitement__lata_8h_source.html#l00059">Postraitement_lata.h:59</a></div></div>
<div class="ttc" id="aclassPostraitement__lata_html_a2a485fe3fbffa5edd261421d1171962d"><div class="ttname"><a href="classPostraitement__lata.html#a2a485fe3fbffa5edd261421d1171962d">Postraitement_lata::ecrire_champ</a></div><div class="ttdeci">static void ecrire_champ(const Nom &amp;basename, const Nom &amp;nom_du_champ, Type_Champ type, char type_char, const Nom &amp;nom_domaine, const Nom &amp;nom_probleme, double temps, Localisation localisation, const DoubleTab &amp;data, Format format=ASCII, const Comm_Group *comm_group=0)</div><div class="ttdef"><b>Definition:</b> <a href="Postraitement__lata_8cpp_source.html#l00137">Postraitement_lata.cpp:137</a></div></div>
<div class="ttc" id="aclassPostraitement__lata_html_a5a0f028169251f7e1736d60601ef77f9"><div class="ttname"><a href="classPostraitement__lata.html#a5a0f028169251f7e1736d60601ef77f9">Postraitement_lata::Format</a></div><div class="ttdeci">Format</div><div class="ttdef"><b>Definition:</b> <a href="Postraitement__lata_8h_source.html#l00058">Postraitement_lata.h:58</a></div></div>
<div class="ttc" id="aclassPostraitement__lata_html_a5a0f028169251f7e1736d60601ef77f9a3384124d5051d9c93ed5e30a57be2642"><div class="ttname"><a href="classPostraitement__lata.html#a5a0f028169251f7e1736d60601ef77f9a3384124d5051d9c93ed5e30a57be2642">Postraitement_lata::BINAIRE</a></div><div class="ttdeci">@ BINAIRE</div><div class="ttdef"><b>Definition:</b> <a href="Postraitement__lata_8h_source.html#l00058">Postraitement_lata.h:58</a></div></div>
<div class="ttc" id="aclassPostraitement__lata_html_abc98a89de618f6e687b45fe8a21514fd"><div class="ttname"><a href="classPostraitement__lata.html#abc98a89de618f6e687b45fe8a21514fd">Postraitement_lata::ecrire_entete</a></div><div class="ttdeci">static void ecrire_entete(const Nom &amp;basename, const Nom &amp;discretisation, Format format=ASCII, const Comm_Group *comm_group=0)</div><div class="ttdef"><b>Definition:</b> <a href="Postraitement__lata_8cpp_source.html#l00061">Postraitement_lata.cpp:61</a></div></div>
<div class="ttc" id="aclassPostraitement__lata_html_abddde8cf0136be3345a4e3b6b0174997"><div class="ttname"><a href="classPostraitement__lata.html#abddde8cf0136be3345a4e3b6b0174997">Postraitement_lata::ecrire_zone</a></div><div class="ttdeci">static void ecrire_zone(const Nom &amp;basename, const Zone &amp;, Format format=ASCII, const Comm_Group *comm_group=0, const Zone_dis_base *la_zone_dis=0)</div><div class="ttdef"><b>Definition:</b> <a href="Postraitement__lata_8cpp_source.html#l00077">Postraitement_lata.cpp:77</a></div></div>
<div class="ttc" id="aclassPostraitement__lata_html_afee90355139907630d3fdc64ce89b0e2"><div class="ttname"><a href="classPostraitement__lata.html#afee90355139907630d3fdc64ce89b0e2">Postraitement_lata::ecrire_temps</a></div><div class="ttdeci">static void ecrire_temps(const Nom &amp;basename, const double temps, Format format=ASCII, const Comm_Group *comm_group=0)</div><div class="ttdef"><b>Definition:</b> <a href="Postraitement__lata_8cpp_source.html#l00116">Postraitement_lata.cpp:116</a></div></div>
<div class="ttc" id="aclassProcess_html_a05de57db7288d95f9e67046af585d5ff"><div class="ttname"><a href="classProcess.html#a05de57db7288d95f9e67046af585d5ff">Process::mp_min</a></div><div class="ttdeci">static double mp_min(double)</div><div class="ttdoc">Calcule le min de x sur tous les processeurs du groupe courant. Voir aussi mp_max()</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00157">Process.cpp:157</a></div></div>
<div class="ttc" id="aclassProcess_html_a1e9d9f9899b71927cfafae14c7bd048d"><div class="ttname"><a href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d">Process::mp_max</a></div><div class="ttdeci">static double mp_max(double)</div><div class="ttdoc">Calcule le max de x sur tous les processeurs du groupe courant. Remarques : Cette methode doit etre a...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00146">Process.cpp:146</a></div></div>
<div class="ttc" id="aclassProcess_html_a57e0f54b11e6eaadbea224fa904b18dd"><div class="ttname"><a href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd">Process::Journal</a></div><div class="ttdeci">static Sortie &amp; Journal(int message_level=0)</div><div class="ttdoc">Renvoie un objet statique de type Sortie qui sert de journal d'evenements. Si message_level &lt;= verbos...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00335">Process.cpp:335</a></div></div>
<div class="ttc" id="aclassProcess_html_a6bf692ce58d9578aa62ac3c07b8caaa1"><div class="ttname"><a href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a></div><div class="ttdeci">static int nproc()</div><div class="ttdoc">renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00099">Process.cpp:99</a></div></div>
<div class="ttc" id="aclassProcess_html_a7d23bc1ef94b3f0623fbc79d034c27fd"><div class="ttname"><a href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd">Process::mp_sum</a></div><div class="ttdeci">static double mp_sum(double)</div><div class="ttdoc">Calcule la somme de x sur tous les processeurs du groupe courant. Voir aussi mp_max()</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00168">Process.cpp:168</a></div></div>
<div class="ttc" id="aclassProcess_html_aa9e74a5c06a68ea38298a08ea401e7b1"><div class="ttname"><a href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">Process::barrier</a></div><div class="ttdeci">static void barrier()</div><div class="ttdoc">Synchronise tous les processeurs du groupe courant&lt;br&gt;(attend que tous les processeurs soient arrives...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00117">Process.cpp:117</a></div></div>
<div class="ttc" id="aclassProcess_html_ab55ba07167ec807ed3a145cac0f5dca4"><div class="ttname"><a href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a></div><div class="ttdeci">static int me()</div><div class="ttdoc">renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00107">Process.cpp:107</a></div></div>
<div class="ttc" id="aclassProcess_html_acc2fbbe761e08e5870ae605c0705491c"><div class="ttname"><a href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a></div><div class="ttdeci">static void exit(int exit_code=-1)</div><div class="ttdoc">Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00213">Process.cpp:213</a></div></div>
<div class="ttc" id="aclassProcess_html_acd052b99706c577f8a5b6656217cf4c2"><div class="ttname"><a href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a></div><div class="ttdeci">static int je_suis_maitre()</div><div class="ttdoc">renvoie 1 si on est sur le processeur maitre du groupe courant (c'est a dire me() == 0),...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00085">Process.cpp:85</a></div></div>
<div class="ttc" id="aclassRef__Domaine_html_a68c3ebe31593f4972f164a92387c713d"><div class="ttname"><a href="classRef__Domaine.html#a68c3ebe31593f4972f164a92387c713d">Ref_Domaine::valeur</a></div><div class="ttdeci">const Domaine &amp; valeur() const</div><div class="ttdef"><b>Definition:</b> <a href="Ref__Domaine_8h_source.html#l00025">Ref_Domaine.h:25</a></div></div>
<div class="ttc" id="aclassReordonner__faces__periodiques_html_a3d177f6fcafb470513dad54fe4d9f79a"><div class="ttname"><a href="classReordonner__faces__periodiques.html#a3d177f6fcafb470513dad54fe4d9f79a">Reordonner_faces_periodiques::reordonner_faces_periodiques</a></div><div class="ttdeci">static int reordonner_faces_periodiques(const Domaine &amp;domaine, IntTab &amp;faces, const ArrOfDouble &amp;direction_perio, const double epsilon)</div><div class="ttdoc">Reordonne le tableau &quot;faces&quot; selon la convention des faces periodiques: D'abord les faces d'une extre...</div><div class="ttdef"><b>Definition:</b> <a href="Reordonner__faces__periodiques_8cpp_source.html#l00107">Reordonner_faces_periodiques.cpp:107</a></div></div>
<div class="ttc" id="aclassReordonner__faces__periodiques_html_ad93560d3838d3516deb892d88b47dedf"><div class="ttname"><a href="classReordonner__faces__periodiques.html#ad93560d3838d3516deb892d88b47dedf">Reordonner_faces_periodiques::chercher_direction_perio</a></div><div class="ttdeci">static void chercher_direction_perio(ArrOfDouble &amp;direction_perio, const Domaine &amp;dom, const Nom &amp;bord)</div><div class="ttdef"><b>Definition:</b> <a href="Reordonner__faces__periodiques_8cpp_source.html#l00058">Reordonner_faces_periodiques.cpp:58</a></div></div>
<div class="ttc" id="aclassReordonner__faces__periodiques_html_aee6a67196132bed17c8d786d6c39316c"><div class="ttname"><a href="classReordonner__faces__periodiques.html#aee6a67196132bed17c8d786d6c39316c">Reordonner_faces_periodiques::renum_som_perio</a></div><div class="ttdeci">static void renum_som_perio(const Domaine &amp;, const Noms &amp;liste_bords_periodiques, ArrOfInt &amp;renum_som_perio, const int calculer_espace_virtuel)</div><div class="ttdef"><b>Definition:</b> <a href="Reordonner__faces__periodiques_8cpp_source.html#l00282">Reordonner_faces_periodiques.cpp:282</a></div></div>
<div class="ttc" id="aclassScatter_html"><div class="ttname"><a href="classScatter.html">Scatter</a></div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8h_source.html#l00027">Scatter.h:28</a></div></div>
<div class="ttc" id="aclassScatter_html_a06ae2df37becb17fe4e7b2e8c9c07cbd"><div class="ttname"><a href="classScatter.html#a06ae2df37becb17fe4e7b2e8c9c07cbd">Scatter::construire_correspondance_items_par_coordonnees</a></div><div class="ttdeci">static void construire_correspondance_items_par_coordonnees(Joints &amp;joints, const Joint::Type_Item type_item, const DoubleTab &amp;coord_items)</div><div class="ttdoc">Methode obsolete (utilisee avec l'ancien decoupeur). On suppose que le domaine contient les structure...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02644">Scatter.cpp:2644</a></div></div>
<div class="ttc" id="aclassScatter_html_a07723d3697739057d469082a4c4a554f"><div class="ttname"><a href="classScatter.html#a07723d3697739057d469082a4c4a554f">Scatter::corriger_espace_distant_elements_perio</a></div><div class="ttdeci">static void corriger_espace_distant_elements_perio(Domaine &amp;dom, const Noms &amp;liste_bords_periodiques)</div><div class="ttdoc">Les algorithmes actuels pour le periodique (assembleur P1B, OpDivElem P1B) ont besoin que pour chaque...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02026">Scatter.cpp:2026</a></div></div>
<div class="ttc" id="aclassScatter_html_a0a86d55709f7e53fcf40a09de74033cf"><div class="ttname"><a href="classScatter.html#a0a86d55709f7e53fcf40a09de74033cf">Scatter::reordonner_faces_de_joint</a></div><div class="ttdeci">static void reordonner_faces_de_joint(Domaine &amp;dom)</div><div class="ttdoc">Reordonne les faces de joint de sorte qu'elles apparaissent dans le meme ordre sur chaque couple de p...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01798">Scatter.cpp:1798</a></div></div>
<div class="ttc" id="aclassScatter_html_a0c740e8b05e31947a4f49d630f1302ec"><div class="ttname"><a href="classScatter.html#a0c740e8b05e31947a4f49d630f1302ec">Scatter::lire_domaine</a></div><div class="ttdeci">virtual void lire_domaine(Nom &amp;, Noms &amp;liste_bords_periodiques)</div><div class="ttdoc">Lit le domaine dans le fichier de nom &quot;nomentree&quot;, de type LecFicDistribueBin ou LecFicDistribue Form...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00504">Scatter.cpp:504</a></div></div>
<div class="ttc" id="aclassScatter_html_a12daf3ea958d39cbeb04c87ec60369f7"><div class="ttname"><a href="classScatter.html#a12daf3ea958d39cbeb04c87ec60369f7">Scatter::construire_correspondance_aretes_par_coordonnees</a></div><div class="ttdeci">static void construire_correspondance_aretes_par_coordonnees(Zone_VF &amp;zvf)</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02831">Scatter.cpp:2831</a></div></div>
<div class="ttc" id="aclassScatter_html_a16a9000e31ccecd2438c8f05e41cc302"><div class="ttname"><a href="classScatter.html#a16a9000e31ccecd2438c8f05e41cc302">Scatter::Chercher_Correspondance</a></div><div class="ttdeci">static int Chercher_Correspondance(const DoubleTab &amp;sommets1, const DoubleTab &amp;sommets2, ArrOfInt &amp;correspondance, const double epsilon)</div><div class="ttdoc">Construit le tableau &quot;correspondance&quot; tel que Pour 0 &lt;= i &lt; sommets2.size_array(),...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02503">Scatter.cpp:2503</a></div></div>
<div class="ttc" id="aclassScatter_html_a1874139ffd29d5a68191bc7828d3a5bd"><div class="ttname"><a href="classScatter.html#a1874139ffd29d5a68191bc7828d3a5bd">Scatter::init_sequential_domain</a></div><div class="ttdeci">static void init_sequential_domain(Domaine &amp;)</div><div class="ttdoc">cree des descripteurs sequentiels pour les tableaux sommets et elements du domaine (necessaire car Sc...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02894">Scatter.cpp:2894</a></div></div>
<div class="ttc" id="aclassScatter_html_a21f166c05df9be1fc1f02b0604624fe5"><div class="ttname"><a href="classScatter.html#a21f166c05df9be1fc1f02b0604624fe5">Scatter::calculer_renum_items_communs</a></div><div class="ttdeci">static void calculer_renum_items_communs(Joints &amp;joints, const Joint::Type_Item type_item)</div><div class="ttdoc">On suppose que chaque joint[i].joint_item(type_item).items_communs() contient les indices locaux des ...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01344">Scatter.cpp:1344</a></div></div>
<div class="ttc" id="aclassScatter_html_a33c68e7eff97ee92b457b50e8e3ad58d"><div class="ttname"><a href="classScatter.html#a33c68e7eff97ee92b457b50e8e3ad58d">Scatter::construire_espace_virtuel_traduction</a></div><div class="ttdeci">static void construire_espace_virtuel_traduction(const MD_Vector &amp;md_indice, const MD_Vector &amp;md_valeur, IntTab &amp;tableau, const int error_is_fatal=1)</div><div class="ttdoc">Construit la structure items_communs + espaces virtuels d'un tableau contenant des indices d'items ge...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01753">Scatter.cpp:1753</a></div></div>
<div class="ttc" id="aclassScatter_html_a340353829751017d210326537f662b68"><div class="ttname"><a href="classScatter.html#a340353829751017d210326537f662b68">Scatter::calculer_espace_distant_aretes</a></div><div class="ttdeci">static void calculer_espace_distant_aretes(Zone &amp;zone, const int nb_aretes_reelles, const IntTab &amp;elem_aretes)</div><div class="ttdoc">Idem que Scatter::calculer_espace_distant_sommets pour les aretes.</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01323">Scatter.cpp:1323</a></div></div>
<div class="ttc" id="aclassScatter_html_a44193a034786e01ad0b63f7b3a94374e"><div class="ttname"><a href="classScatter.html#a44193a034786e01ad0b63f7b3a94374e">Scatter::interpreter</a></div><div class="ttdeci">Entree &amp; interpreter(Entree &amp;) override</div><div class="ttdoc">Lit et complete un domaine parallele selon les motcles lus dans le jeu de donnees....</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00141">Scatter.cpp:141</a></div></div>
<div class="ttc" id="aclassScatter_html_a472e9375c5a64518e7b50542d2209995"><div class="ttname"><a href="classScatter.html#a472e9375c5a64518e7b50542d2209995">Scatter::ajouter_joints</a></div><div class="ttdeci">static void ajouter_joints(Zone &amp;zone, ArrOfInt &amp;pe_voisins)</div><div class="ttdoc">Ajoute des joints avec tous les pe de pe_voisins. Pour que l'ensemble des joints soit symetrique,...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01142">Scatter.cpp:1142</a></div></div>
<div class="ttc" id="aclassScatter_html_a589c34e38a91b69c2e4b43c77bf2bd9d"><div class="ttname"><a href="classScatter.html#a589c34e38a91b69c2e4b43c77bf2bd9d">Scatter::calculer_espace_distant_elements</a></div><div class="ttdeci">static void calculer_espace_distant_elements(Domaine &amp;dom)</div><div class="ttdoc">Remplissage du tableau &quot;espace_distant()&quot; des elements dans les joints. C'est ici qu'on determine les...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02175">Scatter.cpp:2175</a></div></div>
<div class="ttc" id="aclassScatter_html_a707666d3f618b607a4472c600397e5c3"><div class="ttname"><a href="classScatter.html#a707666d3f618b607a4472c600397e5c3">Scatter::printOn</a></div><div class="ttdeci">Sortie &amp; printOn(Sortie &amp;x) const override</div><div class="ttdoc">Simple appel a: Interprete::printOn(Sortie&amp;)</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00060">Scatter.cpp:60</a></div></div>
<div class="ttc" id="aclassScatter_html_a82a0e561610415e2f6c5615846a96f87"><div class="ttname"><a href="classScatter.html#a82a0e561610415e2f6c5615846a96f87">Scatter::le_domaine</a></div><div class="ttdeci">Ref_Domaine le_domaine</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8h_source.html#l00076">Scatter.h:76</a></div></div>
<div class="ttc" id="aclassScatter_html_a86c9311713284ed6591da95c7eb9411d"><div class="ttname"><a href="classScatter.html#a86c9311713284ed6591da95c7eb9411d">Scatter::check_consistancy_remote_items</a></div><div class="ttdeci">static void check_consistancy_remote_items(Domaine &amp;dom, const ArrOfInt &amp;mergedZones)</div><div class="ttdoc">Merged zones receive joints information from their neighbours to ensure that their common items (vert...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00288">Scatter.cpp:288</a></div></div>
<div class="ttc" id="aclassScatter_html_a8cf934a9b5f7ecb7ef89f61c09804f45"><div class="ttname"><a href="classScatter.html#a8cf934a9b5f7ecb7ef89f61c09804f45">Scatter::uninit_sequential_domain</a></div><div class="ttdeci">static void uninit_sequential_domain(Domaine &amp;)</div><div class="ttdoc">methode utilisee par les interpretes qui modifient le domaine&lt;br&gt;(sequentiel), detruit les descripteu...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02916">Scatter.cpp:2916</a></div></div>
<div class="ttc" id="aclassScatter_html_a97e6291a932815a6cafbed40d6c98c4a"><div class="ttname"><a href="classScatter.html#a97e6291a932815a6cafbed40d6c98c4a">Scatter::Scatter</a></div><div class="ttdeci">Scatter()</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00043">Scatter.cpp:43</a></div></div>
<div class="ttc" id="aclassScatter_html_a9cbfa7bf4fe3b741a56309931f4cf752"><div class="ttname"><a href="classScatter.html#a9cbfa7bf4fe3b741a56309931f4cf752">Scatter::calculer_espace_distant_sommets</a></div><div class="ttdeci">static void calculer_espace_distant_sommets(Domaine &amp;dom, const Noms &amp;liste_bords_periodiques)</div><div class="ttdoc">En fonction de l'espace distant des elements, calcule l'espace distant des sommets....</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01280">Scatter.cpp:1280</a></div></div>
<div class="ttc" id="aclassScatter_html_ab8e91081aefb68562533279f2446e988"><div class="ttname"><a href="classScatter.html#ab8e91081aefb68562533279f2446e988">Scatter::calculer_nb_items_virtuels</a></div><div class="ttdeci">static void calculer_nb_items_virtuels(Joints &amp;joints, const Joint::Type_Item type_item)</div><div class="ttdoc">!&lt; Description Pour un item geometrique &quot;type_item&quot;, remplit le champ nb_items_virtuels_ des joints e...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02855">Scatter.cpp:2855</a></div></div>
<div class="ttc" id="aclassScatter_html_abada5e896e8ebd6439735c049a2efd14"><div class="ttname"><a href="classScatter.html#abada5e896e8ebd6439735c049a2efd14">Scatter::readOn</a></div><div class="ttdeci">Entree &amp; readOn(Entree &amp;) override</div><div class="ttdoc">Simple appel a: Interprete::readOn(Entree&amp;)</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00080">Scatter.cpp:80</a></div></div>
<div class="ttc" id="aclassScatter_html_ac33aacdb609dcc870faeb93500ed017f"><div class="ttname"><a href="classScatter.html#ac33aacdb609dcc870faeb93500ed017f">Scatter::domaine</a></div><div class="ttdeci">Domaine &amp; domaine()</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00087">Scatter.cpp:87</a></div></div>
<div class="ttc" id="aclassScatter_html_ac5dd6d7661490708649976cde509f480"><div class="ttname"><a href="classScatter.html#ac5dd6d7661490708649976cde509f480">Scatter::trier_les_joints</a></div><div class="ttdeci">static void trier_les_joints(Joints &amp;joints)</div><div class="ttdoc">Tri des joints dans l'ordre croissant des processeurs.</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00743">Scatter.cpp:743</a></div></div>
<div class="ttc" id="aclassScatter_html_acafac38fc2983e19398c403a9235bb4c"><div class="ttname"><a href="classScatter.html#acafac38fc2983e19398c403a9235bb4c">Scatter::construire_correspondance_sommets_par_coordonnees</a></div><div class="ttdeci">static void construire_correspondance_sommets_par_coordonnees(Domaine &amp;dom)</div><div class="ttdoc">Construction des tableaux joint_item(Joint::SOMMET).items_communs de tous les joints de la zone(0) du...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l02823">Scatter.cpp:2823</a></div></div>
<div class="ttc" id="aclassScatter_html_ace98ccb7d5fd754b2ae527ce96876977"><div class="ttname"><a href="classScatter.html#ace98ccb7d5fd754b2ae527ce96876977">Scatter::mergeDomains</a></div><div class="ttdeci">void mergeDomains(Domaine &amp;dom, Domaine &amp;part_dom)</div><div class="ttdoc">Merging dom_to_add with dom.</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00454">Scatter.cpp:454</a></div></div>
<div class="ttc" id="aclassScatter_html_ad8cdf7a8e4ad0065e9c3e1351aec8a1b"><div class="ttname"><a href="classScatter.html#ad8cdf7a8e4ad0065e9c3e1351aec8a1b">Scatter::readDomainWithoutCollComm</a></div><div class="ttdeci">static void readDomainWithoutCollComm(Domaine &amp;dom, Entree &amp;fic)</div><div class="ttdoc">Does the exact same thing as the readOn of the class Domaine but without collective communication Nec...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00412">Scatter.cpp:412</a></div></div>
<div class="ttc" id="aclassScatter_html_adce8ba9c504e8a039671e69f5d074ded"><div class="ttname"><a href="classScatter.html#adce8ba9c504e8a039671e69f5d074ded">Scatter::calculer_espace_distant</a></div><div class="ttdeci">static void calculer_espace_distant(Zone &amp;zone, const int nb_items_reels, const ArrsOfInt &amp;items_to_send, const Joint::Type_Item type_item)</div><div class="ttdoc">Determination des items distants en fonction d'une liste d'items a envoyer et de listes d'items commu...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00928">Scatter.cpp:928</a></div></div>
<div class="ttc" id="aclassScatter_html_ae226bc9cab92d0a02b88e2fe014e4a44"><div class="ttname"><a href="classScatter.html#ae226bc9cab92d0a02b88e2fe014e4a44">Scatter::construire_md_vector</a></div><div class="ttdeci">static void construire_md_vector(const Domaine &amp;, int nb_items_reels, const Joint::Type_Item, MD_Vector &amp;)</div><div class="ttdoc">construction d'un MD_Vector_std a partir des informations de joint du domaine pour le type d'item dem...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01400">Scatter.cpp:1400</a></div></div>
<div class="ttc" id="aclassScatter_html_af6b88297583bd92c6ca3814bc532b8be"><div class="ttname"><a href="classScatter.html#af6b88297583bd92c6ca3814bc532b8be">Scatter::construire_structures_paralleles</a></div><div class="ttdeci">static void construire_structures_paralleles(Domaine &amp;dom, const Noms &amp;liste_bords_perio)</div><div class="ttdoc">Construction des structures paralleles du domaine et de la zone (determination des elements distants ...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l00705">Scatter.cpp:705</a></div></div>
<div class="ttc" id="aclassScatter_html_af8e062885ea7bbeaffb320e7f718e282"><div class="ttname"><a href="classScatter.html#af8e062885ea7bbeaffb320e7f718e282">Scatter::calculer_espace_distant_faces</a></div><div class="ttdeci">static void calculer_espace_distant_faces(Zone &amp;zone, const int nb_faces_reelles, const IntTab &amp;elem_faces)</div><div class="ttdoc">Idem que Scatter::calculer_espace_distant_sommets pour les faces.</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01305">Scatter.cpp:1305</a></div></div>
<div class="ttc" id="aclassSchema__Comm_html"><div class="ttname"><a href="classSchema__Comm.html">Schema_Comm</a></div><div class="ttdef"><b>Definition:</b> <a href="Schema__Comm_8h_source.html#l00076">Schema_Comm.h:77</a></div></div>
<div class="ttc" id="aclassSchema__Comm_html_a516f48fb0494781b373d7b343388ed44"><div class="ttname"><a href="classSchema__Comm.html#a516f48fb0494781b373d7b343388ed44">Schema_Comm::echange_taille_et_messages</a></div><div class="ttdeci">void echange_taille_et_messages() const</div><div class="ttdoc">Statut passe a EXCHANGED.</div><div class="ttdef"><b>Definition:</b> <a href="Schema__Comm_8cpp_source.html#l00372">Schema_Comm.cpp:372</a></div></div>
<div class="ttc" id="aclassSchema__Comm_html_a681259723c5c1b85f419433de7aa78d7"><div class="ttname"><a href="classSchema__Comm.html#a681259723c5c1b85f419433de7aa78d7">Schema_Comm::send_buffer</a></div><div class="ttdeci">Sortie &amp; send_buffer(int num_PE) const</div><div class="ttdoc">renvoie le buffer correspondant au processeur num_PE pour y entasser des donnees a envoyer....</div><div class="ttdef"><b>Definition:</b> <a href="Schema__Comm_8cpp_source.html#l00469">Schema_Comm.cpp:469</a></div></div>
<div class="ttc" id="aclassSchema__Comm_html_a7dd8d56caee9c6759850bb7c38e31c8b"><div class="ttname"><a href="classSchema__Comm.html#a7dd8d56caee9c6759850bb7c38e31c8b">Schema_Comm::end_comm</a></div><div class="ttdeci">void end_comm() const</div><div class="ttdoc">Statut passe a RESET Accesseurs:</div><div class="ttdef"><b>Definition:</b> <a href="Schema__Comm_8cpp_source.html#l00422">Schema_Comm.cpp:422</a></div></div>
<div class="ttc" id="aclassSchema__Comm_html_a85c05ef4688c20afa429264ebac8fdcf"><div class="ttname"><a href="classSchema__Comm.html#a85c05ef4688c20afa429264ebac8fdcf">Schema_Comm::recv_buffer</a></div><div class="ttdeci">Entree &amp; recv_buffer(int num_PE) const</div><div class="ttdoc">renvoie le buffer correspondant au processeur num_PE pour y lire les donnees recues....</div><div class="ttdef"><b>Definition:</b> <a href="Schema__Comm_8cpp_source.html#l00486">Schema_Comm.cpp:486</a></div></div>
<div class="ttc" id="aclassSchema__Comm_html_ac574385d716aca94a48373ab71f37e4f"><div class="ttname"><a href="classSchema__Comm.html#ac574385d716aca94a48373ab71f37e4f">Schema_Comm::begin_comm</a></div><div class="ttdeci">void begin_comm() const</div><div class="ttdoc">Statut passe a WRITING Autorise si status_ == WRITING:</div><div class="ttdef"><b>Definition:</b> <a href="Schema__Comm_8cpp_source.html#l00158">Schema_Comm.cpp:158</a></div></div>
<div class="ttc" id="aclassSchema__Comm_html_ad11c9b47999c294c26ae4df8d2bbd57b"><div class="ttname"><a href="classSchema__Comm.html#ad11c9b47999c294c26ae4df8d2bbd57b">Schema_Comm::set_send_recv_pe_list</a></div><div class="ttdeci">void set_send_recv_pe_list(const ArrOfInt &amp;send_pe_list, const ArrOfInt &amp;recv_pe_list, const int me_to_me=0)</div><div class="ttdoc">Definit la liste des processeurs a qui on va envoyer et de qui on va recevoir des donnees....</div><div class="ttdef"><b>Definition:</b> <a href="Schema__Comm_8cpp_source.html#l00138">Schema_Comm.cpp:138</a></div></div>
<div class="ttc" id="aclassSortie_html"><div class="ttname"><a href="classSortie.html">Sortie</a></div><div class="ttdoc">Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers,...</div><div class="ttdef"><b>Definition:</b> <a href="Sortie_8h_source.html#l00050">Sortie.h:51</a></div></div>
<div class="ttc" id="aclassStat__Counter__Id_html"><div class="ttname"><a href="classStat__Counter__Id.html">Stat_Counter_Id</a></div><div class="ttdef"><b>Definition:</b> <a href="Statistiques_8h_source.html#l00155">Statistiques.h:156</a></div></div>
<div class="ttc" id="aclassStatic__Int__Lists_html"><div class="ttname"><a href="classStatic__Int__Lists.html">Static_Int_Lists</a></div><div class="ttdoc">Cette classe permet de stocker des listes d'entiers accessibles en temps constant....</div><div class="ttdef"><b>Definition:</b> <a href="Static__Int__Lists_8h_source.html#l00036">Static_Int_Lists.h:37</a></div></div>
<div class="ttc" id="aclassStatic__Int__Lists_html_a2c8091beadd34c31580735274d0098e7"><div class="ttname"><a href="classStatic__Int__Lists.html#a2c8091beadd34c31580735274d0098e7">Static_Int_Lists::get_list_size</a></div><div class="ttdeci">int get_list_size(int i_liste) const</div><div class="ttdoc">renvoie le nombre d'elements de la liste i</div><div class="ttdef"><b>Definition:</b> <a href="Static__Int__Lists_8h_source.html#l00099">Static_Int_Lists.h:99</a></div></div>
<div class="ttc" id="aclassStatic__Int__Lists_html_a60da63cb1970f5b87d1e1fdf6d65dcb2"><div class="ttname"><a href="classStatic__Int__Lists.html#a60da63cb1970f5b87d1e1fdf6d65dcb2">Static_Int_Lists::set_list_sizes</a></div><div class="ttdeci">void set_list_sizes(const ArrOfInt &amp;sizes)</div><div class="ttdoc">detruit les listes existantes et en cree de nouvelles. On cree autant de listes que d'elements dans l...</div><div class="ttdef"><b>Definition:</b> <a href="Static__Int__Lists_8cpp_source.html#l00029">Static_Int_Lists.cpp:29</a></div></div>
<div class="ttc" id="aclassStatic__Int__Lists_html_ab56f42945e3057185cc1086e1cbc1bbb"><div class="ttname"><a href="classStatic__Int__Lists.html#ab56f42945e3057185cc1086e1cbc1bbb">Static_Int_Lists::set_value</a></div><div class="ttdeci">void set_value(int i_liste, int i_element, int valeur)</div><div class="ttdoc">affecte la &quot;valeur&quot; au j-ieme element de la i-ieme liste avec 0 &lt;= i &lt; get_nb_lists() et 0 &lt;= j &lt; get...</div><div class="ttdef"><b>Definition:</b> <a href="Static__Int__Lists_8h_source.html#l00081">Static_Int_Lists.h:81</a></div></div>
<div class="ttc" id="aclassStatistiques_html_a0faf52d1b518f5b0b2177f22efcc222d"><div class="ttname"><a href="classStatistiques.html#a0faf52d1b518f5b0b2177f22efcc222d">Statistiques::end_count</a></div><div class="ttdeci">void end_count(const Stat_Counter_Id &amp;counter_id, int quantity=0, int count=1, bool track_comm=true)</div><div class="ttdoc">Arret du compteur counter_id. On ajoute quantity a la somme des 'quantity' (par defaut 0) stockees po...</div><div class="ttdef"><b>Definition:</b> <a href="Statistiques_8h_source.html#l00230">Statistiques.h:230</a></div></div>
<div class="ttc" id="aclassStatistiques_html_a21c24113a2042f33ce1134b473ebc1ac"><div class="ttname"><a href="classStatistiques.html#a21c24113a2042f33ce1134b473ebc1ac">Statistiques::last_time</a></div><div class="ttdeci">double last_time(const Stat_Counter_Id &amp;counter_id)</div><div class="ttdef"><b>Definition:</b> <a href="Statistiques_8cpp_source.html#l00509">Statistiques.cpp:509</a></div></div>
<div class="ttc" id="aclassStatistiques_html_ae1d5ab3d7354d4f748173dde67f9912d"><div class="ttname"><a href="classStatistiques.html#ae1d5ab3d7354d4f748173dde67f9912d">Statistiques::new_counter</a></div><div class="ttdeci">Stat_Counter_Id new_counter(int level, const char *const description, const char *const familly=0, int comm=0)</div><div class="ttdef"><b>Definition:</b> <a href="Statistiques_8cpp_source.html#l00396">Statistiques.cpp:396</a></div></div>
<div class="ttc" id="aclassStatistiques_html_affcd058809786918ed173aaf681d0843"><div class="ttname"><a href="classStatistiques.html#affcd058809786918ed173aaf681d0843">Statistiques::begin_count</a></div><div class="ttdeci">void begin_count(const Stat_Counter_Id &amp;counter_id, bool track_comm=true)</div><div class="ttdef"><b>Definition:</b> <a href="Statistiques_8h_source.html#l00212">Statistiques.h:212</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html"><div class="ttname"><a href="classTRUSTArray.html">TRUSTArray&lt; int &gt;</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a12099f562e7ea212f5f2cbffab78b8e8"><div class="ttname"><a href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">TRUSTArray::addr</a></div><div class="ttdeci">_TYPE_ * addr()</div><div class="ttdoc">!&lt;</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00181">TRUSTArray.tpp:181</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a6380491c50b8df1bc144b70836b73da5"><div class="ttname"><a href="classTRUSTArray.html#a6380491c50b8df1bc144b70836b73da5">TRUSTArray::ordonne_array</a></div><div class="ttdeci">void ordonne_array()</div></div>
<div class="ttc" id="aclassTRUSTArray_html_a750db5afc966542934359df8d14181c4"><div class="ttname"><a href="classTRUSTArray.html#a750db5afc966542934359df8d14181c4">TRUSTArray::ref_array</a></div><div class="ttdeci">virtual void ref_array(TRUSTArray &amp;, int start=0, int sz=-1)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00106">TRUSTArray.tpp:106</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a7c2cb947c5f755b7bcc8256246ccfdb5"><div class="ttname"><a href="classTRUSTArray.html#a7c2cb947c5f755b7bcc8256246ccfdb5">TRUSTArray::set_smart_resize</a></div><div class="ttdeci">void set_smart_resize(int flag)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00058">TRUSTArray.tpp:58</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a7dfa8096799f0638dd3b700d945f5f04"><div class="ttname"><a href="classTRUSTArray.html#a7dfa8096799f0638dd3b700d945f5f04">TRUSTArray::append_array</a></div><div class="ttdeci">void append_array(_TYPE_ valeur)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00215">TRUSTArray.tpp:215</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a7fdab39e76f6cb0f5a5691eaaee32d8c"><div class="ttname"><a href="classTRUSTArray.html#a7fdab39e76f6cb0f5a5691eaaee32d8c">TRUSTArray::resize_array</a></div><div class="ttdeci">void resize_array(int new_size, Array_base::Resize_Options opt=COPY_INIT)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00038">TRUSTArray.tpp:38</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_ac03d475a56970fcc19cf624a0353e42e"><div class="ttname"><a href="classTRUSTArray.html#ac03d475a56970fcc19cf624a0353e42e">TRUSTArray::size_array</a></div><div class="ttdeci">int size_array() const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00195">TRUSTArray.tpp:195</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_aca5ee4f82522cbe5bdef855231723f78"><div class="ttname"><a href="classTRUSTArray.html#aca5ee4f82522cbe5bdef855231723f78">TRUSTArray::array_trier_retirer_doublons</a></div><div class="ttdeci">void array_trier_retirer_doublons()</div><div class="ttdoc">!&lt;</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00314">TRUSTArray.tpp:314</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_ae2948593ca098c08cef26297918da75c"><div class="ttname"><a href="classTRUSTArray.html#ae2948593ca098c08cef26297918da75c">TRUSTArray::inject_array</a></div><div class="ttdeci">TRUSTArray &amp; inject_array(const TRUSTArray &amp;source, int nb_elements=-1, int first_element_dest=0, int first_element_source=0)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00239">TRUSTArray.tpp:239</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html"><div class="ttname"><a href="classTRUSTTab.html">TRUSTTab&lt; double &gt;</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html_a02f5d997850b88e5f307f6ddaf67286e"><div class="ttname"><a href="classTRUSTTab.html#a02f5d997850b88e5f307f6ddaf67286e">TRUSTTab::dimension_tot</a></div><div class="ttdeci">int dimension_tot(int) const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTTab_8tpp_source.html#l00129">TRUSTTab.tpp:129</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html_a2080aac630cb9bfd47030c0c01fdb35d"><div class="ttname"><a href="classTRUSTTab.html#a2080aac630cb9bfd47030c0c01fdb35d">TRUSTTab::nb_dim</a></div><div class="ttdeci">int nb_dim() const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTTab_8h_source.html#l00201">TRUSTTab.h:201</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html_a33c4f72e40e49cdb553fc7311fe656bc"><div class="ttname"><a href="classTRUSTTab.html#a33c4f72e40e49cdb553fc7311fe656bc">TRUSTTab::resize</a></div><div class="ttdeci">void resize(int n, Array_base::Resize_Options opt=Array_base::COPY_INIT)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTTab_8tpp_source.html#l00313">TRUSTTab.tpp:313</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html_a6fd76f123048ffe5208a0cdd337e9625"><div class="ttname"><a href="classTRUSTTab.html#a6fd76f123048ffe5208a0cdd337e9625">TRUSTTab::reset</a></div><div class="ttdeci">void reset() override</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTTab_8tpp_source.html#l00283">TRUSTTab.tpp:283</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html_a8fecd3f1f3a13e933c3f767a25c54805"><div class="ttname"><a href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">TRUSTTab::dimension</a></div><div class="ttdeci">int dimension(int) const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTTab_8tpp_source.html#l00119">TRUSTTab.tpp:119</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html_aeafea8c8242ddec97c6bacfd74b34fc3"><div class="ttname"><a href="classTRUSTTab.html#aeafea8c8242ddec97c6bacfd74b34fc3">TRUSTTab::append_line</a></div><div class="ttdeci">void append_line(_TYPE_)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTTab_8tpp_source.html#l00138">TRUSTTab.tpp:138</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html_af1fb04fa5f95975ab45294879e8c8485"><div class="ttname"><a href="classTRUSTTab.html#af1fb04fa5f95975ab45294879e8c8485">TRUSTTab::set_md_vector</a></div><div class="ttdeci">void set_md_vector(const MD_Vector &amp;) override</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTTab_8tpp_source.html#l00514">TRUSTTab.tpp:514</a></div></div>
<div class="ttc" id="aclassTRUSTVect_html"><div class="ttname"><a href="classTRUSTVect.html">TRUSTVect&lt; int &gt;</a></div></div>
<div class="ttc" id="aclassTRUSTVect_html_a1c6e3546a922e5867797985a5a155197"><div class="ttname"><a href="classTRUSTVect.html#a1c6e3546a922e5867797985a5a155197">TRUSTVect::copy</a></div><div class="ttdeci">void copy(const TRUSTArray&lt; _TYPE_ &gt; &amp;, Array_base::Resize_Options opt=Array_base::COPY_INIT)</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTVect_8tpp_source.html#l00160">TRUSTVect.tpp:160</a></div></div>
<div class="ttc" id="aclassTRUSTVect_html_a242f57e5bda8ea2c1f740a3d135cf6b7"><div class="ttname"><a href="classTRUSTVect.html#a242f57e5bda8ea2c1f740a3d135cf6b7">TRUSTVect::size_reelle</a></div><div class="ttdeci">int size_reelle() const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTVect_8tpp_source.html#l00026">TRUSTVect.tpp:26</a></div></div>
<div class="ttc" id="aclassTRUSTVect_html_a5ae6fa5040fbdc708e54a7aba732413f"><div class="ttname"><a href="classTRUSTVect.html#a5ae6fa5040fbdc708e54a7aba732413f">TRUSTVect::size_totale</a></div><div class="ttdeci">int size_totale() const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTVect_8tpp_source.html#l00058">TRUSTVect.tpp:58</a></div></div>
<div class="ttc" id="aclassTRUSTVect_html_a7c824c9032be2e622561aa481fe1b8ae"><div class="ttname"><a href="classTRUSTVect.html#a7c824c9032be2e622561aa481fe1b8ae">TRUSTVect::get_md_vector</a></div><div class="ttdeci">virtual const MD_Vector &amp; get_md_vector() const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTVect_8h_source.html#l00144">TRUSTVect.h:144</a></div></div>
<div class="ttc" id="aclassTRUSTVect_html_a7df489e59381e175b1df9cef48355fe5"><div class="ttname"><a href="classTRUSTVect.html#a7df489e59381e175b1df9cef48355fe5">TRUSTVect::echange_espace_virtuel</a></div><div class="ttdeci">virtual void echange_espace_virtuel()</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTVect_8tpp_source.html#l00267">TRUSTVect.tpp:267</a></div></div>
<div class="ttc" id="aclassTRUSTVect_html_a894bec7d0626b78fe7cda4c4550f67f6"><div class="ttname"><a href="classTRUSTVect.html#a894bec7d0626b78fe7cda4c4550f67f6">TRUSTVect::reset</a></div><div class="ttdeci">void reset() override</div><div class="ttdoc">met l'objet dans l'etat obtenu par le constructeur par defaut.</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTVect_8h_source.html#l00150">TRUSTVect.h:150</a></div></div>
<div class="ttc" id="aclassTRUST__Vector_html"><div class="ttname"><a href="classTRUST__Vector.html">TRUST_Vector</a></div><div class="ttdef"><b>Definition:</b> <a href="TRUST__Vector_8h_source.html#l00027">TRUST_Vector.h:28</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html">Traduction_Indice_Global_Local</a></div><div class="ttdoc">Cette classe fournit les outils pour construire l'espace virtuel d'un tableau contenant des indices d...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01519">Scatter.cpp:1520</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html_a5abd1cf2a9b42923a72e9181031d593e"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html#a5abd1cf2a9b42923a72e9181031d593e">Traduction_Indice_Global_Local::traduire_espace_virtuel</a></div><div class="ttdeci">int traduire_espace_virtuel(IntVect &amp;tableau) const</div><div class="ttdoc">A partir d'un tableau dont la structure d'espace virtuel est initialisee&lt;br&gt;(descripteurs elements di...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01716">Scatter.cpp:1716</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html_a800a94116c522b1076c071591be8a59b"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html#a800a94116c522b1076c071591be8a59b">Traduction_Indice_Global_Local::traduire_indice_local_vers_global</a></div><div class="ttdeci">void traduire_indice_local_vers_global(const ArrOfInt &amp;indices_locaux, ArrOfInt &amp;indices_globaux, int n) const</div><div class="ttdoc">Transforme les indices locaux en indices globaux a l'aide la &quot;table_&quot; (voir initialiser)....</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01646">Scatter.cpp:1646</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html_a837fb55e45b63ed0ed16085b7f4c9c0d"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html#a837fb55e45b63ed0ed16085b7f4c9c0d">Traduction_Indice_Global_Local::chercher_table_inverse</a></div><div class="ttdeci">static int chercher_table_inverse(const IntTab &amp;table_inverse, const int sommet_global)</div><div class="ttdoc">Cherche i tel que table_inverse(i, 0) == sommet_global, et renvoie table_inverse(i,...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01605">Scatter.cpp:1605</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html_a83ba597c1d6ef619bdda41ea9345f610"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html#a83ba597c1d6ef619bdda41ea9345f610">Traduction_Indice_Global_Local::md_items_</a></div><div class="ttdeci">MD_Vector md_items_</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01534">Scatter.cpp:1534</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html_a8a3ff36f74660ae806875731ecfcf73a"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html#a8a3ff36f74660ae806875731ecfcf73a">Traduction_Indice_Global_Local::table_</a></div><div class="ttdeci">IntVect table_</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01540">Scatter.cpp:1540</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html_aa13ac6b9ecba36b9701c46cbb11d06c4"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html#aa13ac6b9ecba36b9701c46cbb11d06c4">Traduction_Indice_Global_Local::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01592">Scatter.cpp:1592</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html_ab93ee6d07d2960f8d6fe8b67cb3f6852"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html#ab93ee6d07d2960f8d6fe8b67cb3f6852">Traduction_Indice_Global_Local::premier_indice_global_</a></div><div class="ttdeci">int premier_indice_global_</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01535">Scatter.cpp:1535</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html_abdeb143459fb9c162b0f280e3fb1a188"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html#abdeb143459fb9c162b0f280e3fb1a188">Traduction_Indice_Global_Local::traduire_indice_global_vers_local</a></div><div class="ttdeci">int traduire_indice_global_vers_local(const ArrOfInt &amp;indices_globaux, ArrOfInt &amp;indices_locaux) const</div><div class="ttdoc">Pour debut &lt;= i &lt; debut+nb indices_locaux[i] = chercher l'indice local de &quot;indices_globaux[i]&quot; Parame...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01669">Scatter.cpp:1669</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html_ac70085221bd16c6595310480c5756da9"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html#ac70085221bd16c6595310480c5756da9">Traduction_Indice_Global_Local::table_inverse_</a></div><div class="ttdeci">IntTab table_inverse_</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01545">Scatter.cpp:1545</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html_ada36c0c489ea95db3bb8401f84d55c3a"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html#ada36c0c489ea95db3bb8401f84d55c3a">Traduction_Indice_Global_Local::Traduction_Indice_Global_Local</a></div><div class="ttdeci">Traduction_Indice_Global_Local()</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01522">Scatter.cpp:1522</a></div></div>
<div class="ttc" id="aclassTraduction__Indice__Global__Local_html_af8aae1bb5e815066c64937bde87b7e8a"><div class="ttname"><a href="classTraduction__Indice__Global__Local.html#af8aae1bb5e815066c64937bde87b7e8a">Traduction_Indice_Global_Local::initialiser</a></div><div class="ttdeci">void initialiser(const MD_Vector &amp;md_items)</div><div class="ttdoc">Initialise le dictionnaire Precontition: Les espaces distants des entites utilisees doivent avoir ete...</div><div class="ttdef"><b>Definition:</b> <a href="Scatter_8cpp_source.html#l01552">Scatter.cpp:1552</a></div></div>
<div class="ttc" id="aclassZone__VF_html"><div class="ttname"><a href="classZone__VF.html">Zone_VF</a></div><div class="ttdoc">class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...</div><div class="ttdef"><b>Definition:</b> <a href="Zone__VF_8h_source.html#l00035">Zone_VF.h:36</a></div></div>
<div class="ttc" id="aclassZone__VF_html_a89ed39b4d6c6e4ff27866c9e87d9c05c"><div class="ttname"><a href="classZone__VF.html#a89ed39b4d6c6e4ff27866c9e87d9c05c">Zone_VF::xa</a></div><div class="ttdeci">double xa(int, int) const</div><div class="ttdef"><b>Definition:</b> <a href="Zone__VF_8h_source.html#l00702">Zone_VF.h:702</a></div></div>
<div class="ttc" id="aclassZone__dis__base_html_aae671a49c7b02a69054a38bddb486cf8"><div class="ttname"><a href="classZone__dis__base.html#aae671a49c7b02a69054a38bddb486cf8">Zone_dis_base::zone</a></div><div class="ttdeci">const Zone &amp; zone() const</div><div class="ttdoc">Renvoie la Zone associee a l'objet. (version const)</div><div class="ttdef"><b>Definition:</b> <a href="Zone__dis__base_8h_source.html#l00109">Zone_dis_base.h:109</a></div></div>
<div class="ttc" id="aclassZone_html"><div class="ttname"><a href="classZone.html">Zone</a></div><div class="ttdoc">classe Zone Une Zone est un maillage compose d'un ensemble d'elements geometriques de meme type....</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l00049">Zone.h:50</a></div></div>
<div class="ttc" id="aclassZone_html_a06519a807102a480b76f45910c0d7fca"><div class="ttname"><a href="classZone.html#a06519a807102a480b76f45910c0d7fca">Zone::nb_som_elem</a></div><div class="ttdeci">int nb_som_elem() const</div><div class="ttdoc">Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l00438">Zone.h:438</a></div></div>
<div class="ttc" id="aclassZone_html_a5d657569d5c442d3395f74a69dbbb96c"><div class="ttname"><a href="classZone.html#a5d657569d5c442d3395f74a69dbbb96c">Zone::bord</a></div><div class="ttdeci">const Bord &amp; bord(int) const</div><div class="ttdoc">Renvoie le i-ieme bord de la zone&lt;br&gt;(version const)</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l00829">Zone.h:829</a></div></div>
<div class="ttc" id="aclassZone_html_a615ed15b70dc15fe2c2610f06cdcb64b"><div class="ttname"><a href="classZone.html#a615ed15b70dc15fe2c2610f06cdcb64b">Zone::type_elem</a></div><div class="ttdeci">const Elem_geom &amp; type_elem() const</div><div class="ttdoc">Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l00484">Zone.h:484</a></div></div>
<div class="ttc" id="aclassZone_html_a68a215145852861f2d513c959f52a1a5"><div class="ttname"><a href="classZone.html#a68a215145852861f2d513c959f52a1a5">Zone::associer_domaine</a></div><div class="ttdeci">virtual void associer_domaine(const Domaine &amp;)</div><div class="ttdoc">Specifie le domaine dont la zone fait partie.</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8cpp_source.html#l00482">Zone.cpp:482</a></div></div>
<div class="ttc" id="aclassZone_html_a6a0068f3a0e3b45340f9dcbcef01e00a"><div class="ttname"><a href="classZone.html#a6a0068f3a0e3b45340f9dcbcef01e00a">Zone::read_zone</a></div><div class="ttdeci">void read_zone(Entree &amp;s)</div><div class="ttdoc">read zone from the input stream</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8cpp_source.html#l00136">Zone.cpp:136</a></div></div>
<div class="ttc" id="aclassZone_html_a7299f36361dd10ed56d008143f517bfe"><div class="ttname"><a href="classZone.html#a7299f36361dd10ed56d008143f517bfe">Zone::check_zone</a></div><div class="ttdeci">void check_zone()</div><div class="ttdoc">associate the read objects to the zone and check that the reading objects are coherent</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8cpp_source.html#l00151">Zone.cpp:151</a></div></div>
<div class="ttc" id="aclassZone_html_a789278595ea816cd5c095b31e0fda209"><div class="ttname"><a href="classZone.html#a789278595ea816cd5c095b31e0fda209">Zone::renum_joint_common_items</a></div><div class="ttdeci">void renum_joint_common_items(const IntVect &amp;Les_Nums, const int elem_offset)</div><div class="ttdoc">Renumerotation des noeuds et des elements presents dans les items communs des joints Le noeud de nume...</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8cpp_source.html#l00740">Zone.cpp:740</a></div></div>
<div class="ttc" id="aclassZone_html_a790653194c13b08ad864e8d0346ad8a5"><div class="ttname"><a href="classZone.html#a790653194c13b08ad864e8d0346ad8a5">Zone::faces_joint</a></div><div class="ttdeci">const Joints &amp; faces_joint() const</div><div class="ttdoc">Renvoie la liste des joints de la zone. (version const)</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l01091">Zone.h:1091</a></div></div>
<div class="ttc" id="aclassZone_html_a7eb8521ac48c0c3ce40bf46319af6365"><div class="ttname"><a href="classZone.html#a7eb8521ac48c0c3ce40bf46319af6365">Zone::aretes_som</a></div><div class="ttdeci">const IntTab &amp; aretes_som() const</div><div class="ttdoc">renvoie le tableau de connectivite aretes/sommets.</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l01282">Zone.h:1283</a></div></div>
<div class="ttc" id="aclassZone_html_a8bdea22b5802d97c07acd9e97de5eb88"><div class="ttname"><a href="classZone.html#a8bdea22b5802d97c07acd9e97de5eb88">Zone::nb_elem</a></div><div class="ttdeci">int nb_elem() const</div><div class="ttdoc">Renvoie le nombre d'elements de la zone.</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l00293">Zone.h:293</a></div></div>
<div class="ttc" id="aclassZone_html_ab268cec09b34e5f4dd670a5a38fbd37c"><div class="ttname"><a href="classZone.html#ab268cec09b34e5f4dd670a5a38fbd37c">Zone::nb_joints</a></div><div class="ttdeci">int nb_joints() const</div><div class="ttdoc">Renvoie le nombre de joints de la zone.</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l00543">Zone.h:543</a></div></div>
<div class="ttc" id="aclassZone_html_ab98de65fa4d6c6e8c024c0177716237d"><div class="ttname"><a href="classZone.html#ab98de65fa4d6c6e8c024c0177716237d">Zone::chercher_aretes</a></div><div class="ttdeci">ArrOfInt &amp; chercher_aretes(const DoubleTab &amp;, ArrOfInt &amp;, int reel=0) const</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8cpp_source.html#l01255">Zone.cpp:1255</a></div></div>
<div class="ttc" id="aclassZone_html_abe2ae64b06de61cba169fbcd098a05c1"><div class="ttname"><a href="classZone.html#abe2ae64b06de61cba169fbcd098a05c1">Zone::domaine</a></div><div class="ttdeci">const Domaine &amp; domaine() const</div><div class="ttdoc">Renvoie le domaine dont la zone fait partie. (version const)</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8cpp_source.html#l00255">Zone.cpp:255</a></div></div>
<div class="ttc" id="aclassZone_html_ac115e8342be89afb882b7b61cc343267"><div class="ttname"><a href="classZone.html#ac115e8342be89afb882b7b61cc343267">Zone::les_elems</a></div><div class="ttdeci">IntTab &amp; les_elems()</div><div class="ttdoc">Renvoie le tableau des sommets des elements.</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l00395">Zone.h:395</a></div></div>
<div class="ttc" id="aclassZone_html_ade842749f28689fdf39c3a5ea2757e3f"><div class="ttname"><a href="classZone.html#ade842749f28689fdf39c3a5ea2757e3f">Zone::renum</a></div><div class="ttdeci">void renum(const IntVect &amp;)</div><div class="ttdoc">Renumerotation des noeuds: Le noeud de numero k devient le noeud de numero Les_Nums[k].</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8cpp_source.html#l00704">Zone.cpp:704</a></div></div>
<div class="ttc" id="aclassZone_html_aef862d7e09cbdf331de0fd1f0ba3b334"><div class="ttname"><a href="classZone.html#aef862d7e09cbdf331de0fd1f0ba3b334">Zone::joint</a></div><div class="ttdeci">const Joint &amp; joint(int) const</div><div class="ttdoc">Renvoie le i-ieme joint de la zone&lt;br&gt;(version const)</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l00902">Zone.h:902</a></div></div>
<div class="ttc" id="aclassZones_html_a858a7732989d35d6899c47857ac135a6"><div class="ttname"><a href="classZones.html#a858a7732989d35d6899c47857ac135a6">Zones::associer_domaine</a></div><div class="ttdeci">void associer_domaine(const Domaine &amp;)</div><div class="ttdoc">Associe toutes les zones de la liste au domaine specifie.</div><div class="ttdef"><b>Definition:</b> <a href="Zones_8cpp_source.html#l00076">Zones.cpp:76</a></div></div>
<div class="ttc" id="aclassZones_html_aa1bcac020bceac5afecd16add50cc364"><div class="ttname"><a href="classZones.html#aa1bcac020bceac5afecd16add50cc364">Zones::merge</a></div><div class="ttdeci">void merge()</div><div class="ttdoc">Merge all the zones of my processor in a single one is not tested when the zones are dispatched on mu...</div><div class="ttdef"><b>Definition:</b> <a href="Zones_8cpp_source.html#l00239">Zones.cpp:239</a></div></div>
<div class="ttc" id="aclassliste_html_ac4d6a46ee262d0ebd1788fd115d6d718"><div class="ttname"><a href="classliste.html#ac4d6a46ee262d0ebd1788fd115d6d718">liste::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">Renvoie la taille de la liste Une liste vide est de taille nulle.</div><div class="ttdef"><b>Definition:</b> <a href="liste_8cpp_source.html#l00168">liste.cpp:168</a></div></div>
<div class="ttc" id="aclassvect__impl_html_aa4ead68b9a3b2cba74be2766cbafcad4"><div class="ttname"><a href="classvect__impl.html#aa4ead68b9a3b2cba74be2766cbafcad4">vect_impl::size</a></div><div class="ttdeci">int size() const</div><div class="ttdef"><b>Definition:</b> <a href="vect__impl_8h_source.html#l00050">vect_impl.h:50</a></div></div>
<div class="ttc" id="acommunications_8cpp_html_a11460f0a3e3fa43ee1ed51b9b881be89"><div class="ttname"><a href="communications_8cpp.html#a11460f0a3e3fa43ee1ed51b9b881be89">envoyer_all_to_all</a></div><div class="ttdeci">int envoyer_all_to_all(const TRUST_Vector&lt; TRUSTTab, double &gt; &amp;src, TRUST_Vector&lt; TRUSTTab, double &gt; &amp;dest)</div><div class="ttdef"><b>Definition:</b> <a href="communications_8cpp_source.html#l00202">communications.cpp:202</a></div></div>
<div class="ttc" id="acommunications_8cpp_html_a13b5bdc7cfe14771b52a033b1ecbc071"><div class="ttname"><a href="communications_8cpp.html#a13b5bdc7cfe14771b52a033b1ecbc071">mppartial_sum</a></div><div class="ttdeci">int mppartial_sum(int x)</div><div class="ttdoc">Calul de la somme partielle de i sur les processeurs 0 a me()-1 (renvoie 0 sur le processeur 0)....</div><div class="ttdef"><b>Definition:</b> <a href="communications_8cpp_source.html#l00297">communications.cpp:297</a></div></div>
<div class="ttc" id="acommunications_8cpp_html_a38c9e2f958081bff6f390b56ec939523"><div class="ttname"><a href="communications_8cpp.html#a38c9e2f958081bff6f390b56ec939523">reverse_send_recv_pe_list</a></div><div class="ttdeci">int reverse_send_recv_pe_list(const ArrOfInt &amp;src_list, ArrOfInt &amp;dest_list)</div><div class="ttdoc">Calcule la transposee d'une liste de processeurs: On construit le tableau dest_list tel que: x est da...</div><div class="ttdef"><b>Definition:</b> <a href="communications_8cpp_source.html#l00257">communications.cpp:257</a></div></div>
<div class="ttc" id="acommunications_8cpp_html_a40943dd8a0e3ea77b7f2e7d404d9cd53"><div class="ttname"><a href="communications_8cpp.html#a40943dd8a0e3ea77b7f2e7d404d9cd53">comm_check_enabled</a></div><div class="ttdeci">int comm_check_enabled()</div><div class="ttdoc">renvoie le drapeau Comm_Group::check_enabled(). Ce drapeau indique si le code tourne en mode DEBUG du...</div><div class="ttdef"><b>Definition:</b> <a href="communications_8cpp_source.html#l00340">communications.cpp:340</a></div></div>
<div class="ttc" id="acommunications_8cpp_html_a79c3814bd1559c34ef17a64ae9c5a8be"><div class="ttname"><a href="communications_8cpp.html#a79c3814bd1559c34ef17a64ae9c5a8be">compare</a></div><div class="ttdeci">int compare(const Objet_U &amp;a, const Objet_U &amp;b, int &amp;erreur)</div><div class="ttdef"><b>Definition:</b> <a href="communications_8cpp_source.html#l00365">communications.cpp:365</a></div></div>
<div class="ttc" id="acommunications_8h_html"><div class="ttname"><a href="communications_8h.html">communications.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 29 2022 11:11:29 for TRUST by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
