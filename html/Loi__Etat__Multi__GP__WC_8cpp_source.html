<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/ThHyd/Dilatable/Weakly_Compressible/Loi_Etat/Loi_Etat_Multi_GP_WC.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/ThHyd/Dilatable/Weakly_Compressible/Loi_Etat/Loi_Etat_Multi_GP_WC.cpp</div>  </div>
</div>
<div class="contents">
<a href="Loi__Etat__Multi__GP__WC_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Loi_Etat_Multi_GP_WC.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/ThHyd/Dilatable/Weakly_Compressible/Loi_Etat</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/14</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Fluide__Weakly__Compressible_8h.html">Fluide_Weakly_Compressible.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Loi__Etat__Multi__GP__WC_8h.html">Loi_Etat_Multi_GP_WC.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Uniforme_8h.html">Champ_Uniforme.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Inc__base_8h.html">Champ_Inc_base.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Probleme__base_8h.html">Probleme_base.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VF_8h.html">Zone_VF.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Param_8h.html">Param.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Debog_8h.html">Debog.h</a>&gt;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a><a class="code" href="Loi__Etat__Multi__GP__WC_8cpp.html#a041ec0c2586c8bb8839c4327d0322ae9">00032</a> <a class="code" href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a>(<a class="code" href="classLoi__Etat__Multi__GP__WC.html" title="classe Loi_Etat_Multi_GP_WC Cette classe represente la loi d&#39;etat pour un melange de gaz parfaits...">Loi_Etat_Multi_GP_WC</a>,<span class="stringliteral">&quot;Loi_Etat_Multi_Gaz_Parfait_WC&quot;</span>,<a class="code" href="classLoi__Etat__Multi__GP__base.html">Loi_Etat_Multi_GP_base</a>);
<a name="l00033"></a>00033 <span class="comment">// XD multi_gaz_parfait_WC loi_etat_gaz_parfait_base multi_gaz_parfait_WC -1 Class for perfect gas multi-species mixtures state law used with a weakly-compressible fluid.</span>
<a name="l00034"></a>00034 
<a name="l00035"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#a3869e63159ab9283a22dbfb7994856e6">00035</a> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a3869e63159ab9283a22dbfb7994856e6">Loi_Etat_Multi_GP_WC::Loi_Etat_Multi_GP_WC</a>() : num_espece_(-1) { }
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#a1b50057522e8afce963f85bf58dff083">00037</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a1b50057522e8afce963f85bf58dff083" title="Ecriture de l&#39;objet sur un flot de sortie Methode a surcharger.">Loi_Etat_Multi_GP_WC::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00038"></a>00038 <span class="keyword"></span>{
<a name="l00039"></a>00039   os &lt;&lt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()&lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00040"></a>00040   <span class="keywordflow">return</span> os;
<a name="l00041"></a>00041 }
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#a130198c2fe4261dc93c7f9b277dfd197">00043</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a130198c2fe4261dc93c7f9b277dfd197" title="Lecture d&#39;un Objet_U sur un flot d&#39;entree Methode a surcharger.">Loi_Etat_Multi_GP_WC::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00044"></a>00044 {
<a name="l00045"></a>00045   <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>());
<a name="l00046"></a>00046   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;Species_number&quot;</span>,&amp;<a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a>,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>); <span class="comment">//!&lt; XD_ADD_P int Number of species you are considering in your problem.</span>
<a name="l00047"></a>00047 <span class="comment"></span>  param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;Diffusion_coeff&quot;</span>,&amp;<a class="code" href="classLoi__Etat__Multi__GP__WC.html#a418c32cc1e55f6e3d577bda34a376a12">diffusion_coeff_</a>,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>); <span class="comment">//!&lt; XD_ADD_P field_base Diffusion coefficient of each species, defined with a Champ_uniforme of dimension equals to the species_number.</span>
<a name="l00048"></a>00048 <span class="comment"></span>  param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;Molar_mass&quot;</span>,&amp;<a class="code" href="classLoi__Etat__Multi__GP__WC.html#ae11edcba9537b2675f17f80f376c5f5b">molar_mass_</a>,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>); <span class="comment">//!&lt; XD_ADD_P field_base Molar mass of each species, defined with a Champ_uniforme of dimension equals to the species_number.</span>
<a name="l00049"></a>00049 <span class="comment"></span>  param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;Mu&quot;</span>,&amp;<a class="code" href="classLoi__Etat__Multi__GP__WC.html#a2b4dc6456d6c9e2656869121d0c46e86">mu_</a>,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>); <span class="comment">//!&lt; XD_ADD_P field_base Dynamic viscosity of each species, defined with a Champ_uniforme of dimension equals to the species_number.</span>
<a name="l00050"></a>00050 <span class="comment"></span>  param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;Cp&quot;</span>,&amp;<a class="code" href="classLoi__Etat__Multi__GP__WC.html#a52ec445d5fac8e60114db328f079f678">cp_</a>,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>);<span class="comment">//!&lt; XD_ADD_P field_base Specific heat at constant pressure of the gas Cp, defined with a Champ_uniforme of dimension equals to the species_number..</span>
<a name="l00051"></a>00051 <span class="comment"></span>  param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;Prandtl&quot;</span>,&amp;<a class="code" href="classLoi__Etat__base.html#a1cff6e1f3179d8edd86955bbfe49ab7f">Pr_</a>,<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>); <span class="comment">//!&lt; XD_ADD_P double Prandtl number of the gas Pr=mu*Cp/lambda.</span>
<a name="l00052"></a>00052 <span class="comment"></span>  param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="comment">// XXX</span>
<a name="l00055"></a>00055   <span class="keywordflow">if</span> (<a class="code" href="classLoi__Etat__Multi__GP__WC.html#a418c32cc1e55f6e3d577bda34a376a12">diffusion_coeff_</a>-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>().<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() != <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a> ||
<a name="l00056"></a>00056       <a class="code" href="classLoi__Etat__Multi__GP__WC.html#ae11edcba9537b2675f17f80f376c5f5b">molar_mass_</a>-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>().<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() != <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a> ||
<a name="l00057"></a>00057       <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a2b4dc6456d6c9e2656869121d0c46e86">mu_</a>-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>().<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() != <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a>  ||
<a name="l00058"></a>00058       <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a52ec445d5fac8e60114db328f079f678">cp_</a>-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>().<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() != <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a> )
<a name="l00059"></a>00059     {
<a name="l00060"></a>00060       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error while reading the EOS Multi_Gaz_Parfait_WC : This is not allowed !&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00061"></a>00061       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Verify that the dimension of the fields Diffusion_coeff, Molar_mass, Mu and Cp is = &quot;</span> &lt;&lt; <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a> &lt;&lt; finl;
<a name="l00062"></a>00062       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00063"></a>00063     }
<a name="l00064"></a>00064 
<a name="l00065"></a>00065   <span class="keywordflow">return</span> is;
<a name="l00066"></a>00066 }
<a name="l00067"></a>00067 
<a name="l00068"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#a3669154dad01dc45ce7084a09319a574">00068</a> <span class="keywordtype">void</span> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a3669154dad01dc45ce7084a09319a574" title="Initialise l&#39;inconnue de l&#39;equation de chaleur : ne fai rien.">Loi_Etat_Multi_GP_WC::initialiser_inco_ch</a>()
<a name="l00069"></a>00069 {
<a name="l00070"></a>00070   <span class="comment">/*</span>
<a name="l00071"></a>00071 <span class="comment">   * XXX : In this problem we solve n-1 equations for n species</span>
<a name="l00072"></a>00072 <span class="comment">   * The mass fraction of species n is [ 1 - (y1+y2+ ... +yn-1) ]</span>
<a name="l00073"></a>00073 <span class="comment">   */</span>
<a name="l00074"></a>00074 
<a name="l00075"></a>00075   <span class="keywordflow">if</span> (<a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>() + 1  != <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a> )
<a name="l00076"></a>00076     {
<a name="l00077"></a>00077       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in your data file : This is not allowed !&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00078"></a>00078       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You should define &quot;</span> &lt;&lt; <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a>-1 &lt;&lt; <span class="stringliteral">&quot; Species equations and not &quot;</span> &lt;&lt; <a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>() &lt;&lt; finl;
<a name="l00079"></a>00079       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00080"></a>00080     }
<a name="l00081"></a>00081 
<a name="l00082"></a>00082   <a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>&amp; FWC = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>,<a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>.<a class="code" href="classRef__Fluide__Dilatable__base.html#afec3eaafad6b930357b72853e1b0b2bf">valeur</a>());
<a name="l00083"></a>00083   <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>&amp; Yn = FWC.<a class="code" href="classFluide__Weakly__Compressible.html#a2f76138e6f1b6da449ebebbac912c465">fraction_massique_nonresolue</a>();
<a name="l00084"></a>00084   Yn.<a class="code" href="classObjet__U.html#a469dbcad1d4a98a67e4246dce8e264ad" title="Donne un nom a l&#39;Objet_U Methode virtuelle a surcharger.">nommer</a>(<span class="stringliteral">&quot;fraction_massique_nonresolue&quot;</span>);
<a name="l00085"></a>00085   <span class="keywordtype">double</span> t = <a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>-&gt;masse_volumique().temps(); <span class="comment">//!&lt; pas 0 car reprise pt etre</span>
<a name="l00086"></a>00086 <span class="comment"></span>  <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a26dbe88bb431c872434d7c7cc73ccb95">update_Yn_values</a>(Yn,t);
<a name="l00087"></a>00087   <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a3669154dad01dc45ce7084a09319a574" title="Initialise l&#39;inconnue de l&#39;equation de chaleur : ne fai rien.">Loi_Etat_Multi_GP_base::initialiser_inco_ch</a>();
<a name="l00088"></a>00088 }
<a name="l00089"></a>00089 
<a name="l00090"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#a26dbe88bb431c872434d7c7cc73ccb95">00090</a> <span class="keywordtype">void</span> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a26dbe88bb431c872434d7c7cc73ccb95">Loi_Etat_Multi_GP_WC::update_Yn_values</a>(<a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>&amp; Yn, <span class="keywordtype">double</span> temps)
<a name="l00091"></a>00091 {
<a name="l00092"></a>00092   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_Yn = Yn.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00093"></a>00093   Yn.<a class="code" href="classChamp__Don.html#a8b0fe2933360f11ddc77237ee23b5b56" title="Appel a l&#39;objet sous-jacent Provoque la mise a jour du champ si il est instationnaire.">mettre_a_jour</a>(temps);
<a name="l00094"></a>00094   tab_Yn = 1.0;<span class="comment">//!&lt; re-initialize as 1</span>
<a name="l00095"></a>00095 <span class="comment"></span>  <span class="keyword">const</span> <span class="keywordtype">int</span> size = <a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>(0)-&gt;valeurs().<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<a name="l00096"></a>00096   assert(tab_Yn.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == size);
<a name="l00097"></a>00097   assert (<a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>() + 1  == <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a>);
<a name="l00098"></a>00098 
<a name="l00099"></a>00099   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>(); i++)
<a name="l00100"></a>00100     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n=0; n&lt;size; n++) tab_Yn(n,0) -= <a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>(i)-&gt;valeurs()(n,0);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102   <span class="keywordtype">double</span> min_Yn = <a class="code" href="DoubleVect_8cpp.html#a17be200c713a7031ede99b28391daa52">local_min_vect</a>(tab_Yn);
<a name="l00103"></a>00103   <span class="keywordflow">if</span> (min_Yn &lt; 0)
<a name="l00104"></a>00104     {
<a name="l00105"></a>00105       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00106"></a>00106       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;BIG PROBLEM : check your calculation because we are detecting negative mass fraction !&quot;</span> &lt;&lt; finl;
<a name="l00107"></a>00107       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The results are saved to help you !&quot;</span> &lt;&lt; finl;
<a name="l00108"></a>00108       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;</span> &lt;&lt; finl;
<a name="l00109"></a>00109       <a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>&amp; FWC = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>,<a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>.<a class="code" href="classRef__Fluide__Dilatable__base.html#afec3eaafad6b930357b72853e1b0b2bf">valeur</a>());
<a name="l00110"></a>00110       <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; pb = FWC.<a class="code" href="classFluide__Dilatable__base.html#a618801eb57fda792eec62806609f0b76">get_problem</a>();
<a name="l00111"></a>00111       pb.<a class="code" href="classProbleme__base.html#a92b16c8d3d7d0209476e77700afb0aad" title="Si force=1, effectue le postraitement sans tenir compte des frequences de postraitement. Le postraitement est mis a jour et les traitements eventuels sur les sondes, champs et statistiques sont effectues. Si force=0, tient compte des frequences d&#39;impression demandees.">postraiter</a>(1);
<a name="l00112"></a>00112       pb.sauver();
<a name="l00113"></a>00113       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00114"></a>00114     }
<a name="l00115"></a>00115 }
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 <span class="comment">// Precondition:</span>
<a name="l00118"></a>00118 <span class="comment">// Parametre:</span>
<a name="l00119"></a>00119 <span class="comment">// Signification:</span>
<a name="l00120"></a>00120 <span class="comment">// Valeurs par defaut:</span>
<a name="l00121"></a>00121 <span class="comment">// Contraintes:</span>
<a name="l00122"></a>00122 <span class="comment">// Acces:</span>
<a name="l00123"></a>00123 <span class="comment">// </span>
<a name="l00124"></a>00124 <span class="comment">// Signification:</span>
<a name="l00125"></a>00125 <span class="comment">// Contraintes:</span>
<a name="l00126"></a>00126 <span class="comment">// Exception:</span>
<a name="l00127"></a>00127 <span class="comment">// Effets de bord:</span>
<a name="l00128"></a>00128 <span class="comment">// Postcondition:</span>
<a name="l00129"></a>00129 <span class="comment">//</span>
<a name="l00130"></a>00130 <span class="comment">//</span><span class="comment"></span>
<a name="l00131"></a>00131 <span class="comment">//! Calcule la masse molaire du melange (M)&lt;br&gt;M depend de la mase molaire de chaque espece et de la composition du melange (Yi)</span>
<a name="l00132"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#a9a0856f8898445a5921effcb294737d7">00132</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classLoi__Etat__Multi__GP__base.html#abe0d1e9fb2442f999bcf10d79aa2743a">Loi_Etat_Multi_GP_WC::calculer_masse_molaire</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_masse_mol_mel)<span class="keyword"> const</span>
<a name="l00133"></a>00133 <span class="keyword"></span>{
<a name="l00134"></a>00134   assert (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classLoi__Etat__Multi__GP__WC.html#aa15708916c2966fe902ad8c00dad1165">masse_molaire_especes</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>()));
<a name="l00135"></a>00135 
<a name="l00136"></a>00136   <span class="keyword">const</span> <span class="keywordtype">int</span> size = tab_masse_mol_mel.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>();
<a name="l00137"></a>00137   assert (<a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>(0)-&gt;valeurs().size()==size);
<a name="l00138"></a>00138   <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> inv_M(size);
<a name="l00139"></a>00139 
<a name="l00140"></a>00140   <span class="keyword">const</span> <a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>&amp; FWC = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>,<a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>.<a class="code" href="classRef__Fluide__Dilatable__base.html#afec3eaafad6b930357b72853e1b0b2bf">valeur</a>());
<a name="l00141"></a>00141   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Yn = FWC.<a class="code" href="classFluide__Weakly__Compressible.html#a2f76138e6f1b6da449ebebbac912c465">fraction_massique_nonresolue</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00142"></a>00142 
<a name="l00143"></a>00143   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a>; i++)
<a name="l00144"></a>00144     {
<a name="l00145"></a>00145       <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Y_i = (i == num_espece_ -1) ? Yn : <a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>(i)-&gt;valeurs();
<a name="l00146"></a>00146       <span class="keyword">const</span> <span class="keywordtype">double</span> M_i = <a class="code" href="classLoi__Etat__Multi__GP__WC.html#aa15708916c2966fe902ad8c00dad1165">masse_molaire_especes</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,i);
<a name="l00147"></a>00147       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> elem=0; elem&lt;size; elem++) inv_M(elem) += Y_i(elem,0)/M_i;
<a name="l00148"></a>00148     }
<a name="l00149"></a>00149 
<a name="l00150"></a>00150   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> elem=0; elem&lt;size; elem++) tab_masse_mol_mel(elem,0) = 1.0 / inv_M(elem);
<a name="l00151"></a>00151 }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 <span class="comment">// Precondition:</span>
<a name="l00154"></a>00154 <span class="comment">// Parametre:</span>
<a name="l00155"></a>00155 <span class="comment">// Signification:</span>
<a name="l00156"></a>00156 <span class="comment">// Valeurs par defaut:</span>
<a name="l00157"></a>00157 <span class="comment">// Contraintes:</span>
<a name="l00158"></a>00158 <span class="comment">// Acces:</span>
<a name="l00159"></a>00159 <span class="comment">// </span>
<a name="l00160"></a>00160 <span class="comment">// Signification:</span>
<a name="l00161"></a>00161 <span class="comment">// Contraintes:</span>
<a name="l00162"></a>00162 <span class="comment">// Exception:</span>
<a name="l00163"></a>00163 <span class="comment">// Effets de bord:</span>
<a name="l00164"></a>00164 <span class="comment">// Postcondition:</span>
<a name="l00165"></a>00165 <span class="comment">//</span>
<a name="l00166"></a>00166 <span class="comment">//</span><span class="comment"></span>
<a name="l00167"></a>00167 <span class="comment">//! Calcule le Cp du melange&lt;br&gt;Le Cp depend du Cp de chaque espece et de la composition du melange (Yi)</span>
<a name="l00168"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#ae748b7d96006a436bb9fe65b66cc9948">00168</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#ae748b7d96006a436bb9fe65b66cc9948" title="Calcule le Cp du melange Le Cp depend du Cp de chaque espece et de la composition du melange (Yi)...">Loi_Etat_Multi_GP_WC::calculer_tab_Cp</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_Cp)<span class="keyword"> const</span>
<a name="l00169"></a>00169 <span class="keyword"></span>{
<a name="l00170"></a>00170 <span class="comment">// FIXME : Actuellement on suppose que Cp est pris constant pour chacune des especes</span>
<a name="l00171"></a>00171   assert (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classLoi__Etat__Multi__GP__WC.html#a71717869e4f04f3d5e68a0dfd593153d">cp_especes</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>()));
<a name="l00172"></a>00172 
<a name="l00173"></a>00173   tab_Cp = 0;
<a name="l00174"></a>00174   <span class="keyword">const</span> <span class="keywordtype">int</span> size =<a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>(0)-&gt;valeurs().<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<a name="l00175"></a>00175 
<a name="l00176"></a>00176   <span class="keyword">const</span> <a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>&amp; FWC = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>,<a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>.<a class="code" href="classRef__Fluide__Dilatable__base.html#afec3eaafad6b930357b72853e1b0b2bf">valeur</a>());
<a name="l00177"></a>00177   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Yn = FWC.<a class="code" href="classFluide__Weakly__Compressible.html#a2f76138e6f1b6da449ebebbac912c465">fraction_massique_nonresolue</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00178"></a>00178 
<a name="l00179"></a>00179   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a>; i++)
<a name="l00180"></a>00180     {
<a name="l00181"></a>00181 <span class="comment">// TODO : FIXME : a voir si Yn-&gt;valeurs() est a jour</span>
<a name="l00182"></a>00182       <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Y_i = (i == num_espece_ -1) ? Yn : <a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>(i)-&gt;valeurs();
<a name="l00183"></a>00183       <span class="keyword">const</span> <span class="keywordtype">double</span> cp_i = <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a71717869e4f04f3d5e68a0dfd593153d">cp_especes</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,i);
<a name="l00184"></a>00184       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> elem=0; elem&lt;size; elem++) tab_Cp(elem,0) += Y_i(elem,0)*cp_i;
<a name="l00185"></a>00185     }
<a name="l00186"></a>00186 }
<a name="l00187"></a>00187 
<a name="l00188"></a>00188 <span class="comment">// Precondition:</span>
<a name="l00189"></a>00189 <span class="comment">// Parametre:</span>
<a name="l00190"></a>00190 <span class="comment">// Signification:</span>
<a name="l00191"></a>00191 <span class="comment">// Valeurs par defaut:</span>
<a name="l00192"></a>00192 <span class="comment">// Contraintes:</span>
<a name="l00193"></a>00193 <span class="comment">// Acces:</span>
<a name="l00194"></a>00194 <span class="comment">// </span>
<a name="l00195"></a>00195 <span class="comment">// Signification:</span>
<a name="l00196"></a>00196 <span class="comment">// Contraintes:</span>
<a name="l00197"></a>00197 <span class="comment">// Exception:</span>
<a name="l00198"></a>00198 <span class="comment">// Effets de bord:</span>
<a name="l00199"></a>00199 <span class="comment">// Postcondition:</span>
<a name="l00200"></a>00200 <span class="comment">//</span><span class="comment"></span>
<a name="l00201"></a>00201 <span class="comment">//! Recalcule la masse volumique</span>
<a name="l00202"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#a80931d685d273b6f2a32baf5ad32fb7f">00202</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a80931d685d273b6f2a32baf5ad32fb7f" title="Recalcule la masse volumique.">Loi_Etat_Multi_GP_WC::calculer_masse_volumique</a>()
<a name="l00203"></a>00203 {
<a name="l00204"></a>00204   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_ICh = <a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>-&gt;inco_chaleur().valeurs();
<a name="l00205"></a>00205   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_rho = <a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>-&gt;masse_volumique().valeurs();
<a name="l00206"></a>00206 
<a name="l00207"></a>00207   <a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>&amp; FWC = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>,<a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>.<a class="code" href="classRef__Fluide__Dilatable__base.html#afec3eaafad6b930357b72853e1b0b2bf">valeur</a>());
<a name="l00208"></a>00208   <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>&amp; Yn = FWC.<a class="code" href="classFluide__Weakly__Compressible.html#a2f76138e6f1b6da449ebebbac912c465">fraction_massique_nonresolue</a>();
<a name="l00209"></a>00209   <span class="keywordtype">double</span> temps = <a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>-&gt;masse_volumique().temps();
<a name="l00210"></a>00210   <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a26dbe88bb431c872434d7c7cc73ccb95">update_Yn_values</a>(Yn,temps); <span class="comment">//!&lt; XXX : a voir si l&#39;appel est dans le bon endroit ...</span>
<a name="l00211"></a>00211 <span class="comment"></span>  <a class="code" href="classLoi__Etat__Multi__GP__base.html#abe0d1e9fb2442f999bcf10d79aa2743a">Loi_Etat_Multi_GP_base::calculer_masse_molaire</a>();
<a name="l00212"></a>00212 
<a name="l00213"></a>00213   assert (tab_rho.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>() == 1);
<a name="l00214"></a>00214   <span class="keyword">const</span> <span class="keywordtype">int</span> n = tab_rho.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>();
<a name="l00215"></a>00215   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; pres = FWC.<a class="code" href="classFluide__Weakly__Compressible.html#a694ced7f20d7ad1bdb32ffe4017a0c34" title="Tab Pression thermodynamique.">pression_th_tab</a>();
<a name="l00216"></a>00216 
<a name="l00217"></a>00217   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> som=0 ; som&lt;n ; som++)
<a name="l00218"></a>00218     {
<a name="l00219"></a>00219       <span class="keywordtype">double</span> r = <a class="code" href="classLoi__Etat__Melange__GP__base.html#afa1975350653c13f9a065791fbf96a48">R_GAS</a> / <a class="code" href="classLoi__Etat__Multi__GP__base.html#a291fa28c9f566e58f4ae557e319c9b0f">masse_mol_mel</a>(som);
<a name="l00220"></a>00220       <a class="code" href="classLoi__Etat__base.html#a35a0877b17bda1981f04da05f2ba3ffe">tab_rho_np1</a>(som) = <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a80931d685d273b6f2a32baf5ad32fb7f" title="Recalcule la masse volumique.">calculer_masse_volumique</a>(pres(som,0),tab_ICh(som,0),r);
<a name="l00221"></a>00221       tab_rho(som,0) = 0.5 * ( <a class="code" href="classLoi__Etat__base.html#a871fa2f34cfdb48f795f8d76b6058a45">tab_rho_n</a>(som) + <a class="code" href="classLoi__Etat__base.html#a35a0877b17bda1981f04da05f2ba3ffe">tab_rho_np1</a>(som) );
<a name="l00222"></a>00222     }
<a name="l00223"></a>00223 
<a name="l00224"></a>00224   tab_rho.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00225"></a>00225   <a class="code" href="classLoi__Etat__base.html#a35a0877b17bda1981f04da05f2ba3ffe">tab_rho_np1</a>.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00226"></a>00226   <a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>-&gt;calculer_rho_face(<a class="code" href="classLoi__Etat__base.html#a35a0877b17bda1981f04da05f2ba3ffe">tab_rho_np1</a>);
<a name="l00227"></a>00227   <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;Loi_Etat_Multi_GP_WC::calculer_masse_volumique, tab_rho_np1&quot;</span>,<a class="code" href="classLoi__Etat__base.html#a35a0877b17bda1981f04da05f2ba3ffe">tab_rho_np1</a>);
<a name="l00228"></a>00228   <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;Loi_Etat_Multi_GP_WC::calculer_masse_volumique, tab_rho&quot;</span>,tab_rho);
<a name="l00229"></a>00229 }
<a name="l00230"></a>00230 
<a name="l00231"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#a1ca672623af5210d00d3f10816987748">00231</a> <span class="keywordtype">double</span> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a80931d685d273b6f2a32baf5ad32fb7f" title="Recalcule la masse volumique.">Loi_Etat_Multi_GP_WC::calculer_masse_volumique</a>(<span class="keywordtype">double</span> P, <span class="keywordtype">double</span> T, <span class="keywordtype">double</span> r)<span class="keyword"> const</span>
<a name="l00232"></a>00232 <span class="keyword"></span>{
<a name="l00233"></a>00233   <span class="keywordflow">return</span> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a80931d685d273b6f2a32baf5ad32fb7f" title="Recalcule la masse volumique.">Loi_Etat_Multi_GP_base::calculer_masse_volumique</a>(P,T,r);
<a name="l00234"></a>00234 }
<a name="l00235"></a>00235 
<a name="l00236"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#ad25f391238eed0345a91f624113760f8">00236</a> <span class="keywordtype">double</span> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a80931d685d273b6f2a32baf5ad32fb7f" title="Recalcule la masse volumique.">Loi_Etat_Multi_GP_WC::calculer_masse_volumique</a>(<span class="keywordtype">double</span> P, <span class="keywordtype">double</span> T)<span class="keyword"> const</span>
<a name="l00237"></a>00237 <span class="keyword"></span>{
<a name="l00238"></a>00238   <span class="keywordflow">return</span> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a80931d685d273b6f2a32baf5ad32fb7f" title="Recalcule la masse volumique.">Loi_Etat_Multi_GP_base::calculer_masse_volumique</a>(P,T);
<a name="l00239"></a>00239 }
<a name="l00240"></a>00240 
<a name="l00241"></a>00241 <span class="comment">// Precondition:</span>
<a name="l00242"></a>00242 <span class="comment">// Parametre:</span>
<a name="l00243"></a>00243 <span class="comment">// Signification:</span>
<a name="l00244"></a>00244 <span class="comment">// Valeurs par defaut:</span>
<a name="l00245"></a>00245 <span class="comment">// Contraintes:</span>
<a name="l00246"></a>00246 <span class="comment">// Acces:</span>
<a name="l00247"></a>00247 <span class="comment">// </span>
<a name="l00248"></a>00248 <span class="comment">// Signification:</span>
<a name="l00249"></a>00249 <span class="comment">// Contraintes:</span>
<a name="l00250"></a>00250 <span class="comment">// Exception:</span>
<a name="l00251"></a>00251 <span class="comment">// Effets de bord:</span>
<a name="l00252"></a>00252 <span class="comment">// Postcondition:</span>
<a name="l00253"></a>00253 <span class="comment">//</span><span class="comment"></span>
<a name="l00254"></a>00254 <span class="comment">//! Calcule la viscosite dynamique de reference (depend des Yi)</span>
<a name="l00255"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#a1e3e756d5c9779afe590196b06880fac">00255</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a1e3e756d5c9779afe590196b06880fac" title="Calcule la viscosite dynamique de reference (depend des Yi)">Loi_Etat_Multi_GP_WC::calculer_mu_wilke</a>()
<a name="l00256"></a>00256 {
<a name="l00257"></a>00257 <span class="comment">// With Wilke formulation : https://aip.scitation.org/doi/pdf/10.1063/1.1747673</span>
<a name="l00258"></a>00258 <span class="comment">// See also for mass fractions : https://doi.org/10.1016/j.ijheatmasstransfer.2020.120470</span>
<a name="l00259"></a>00259 
<a name="l00260"></a>00260   assert (<a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>() + 1 == <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a>);
<a name="l00261"></a>00261   <span class="keyword">const</span> <span class="keywordtype">int</span> size = <a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>(0)-&gt;valeurs().<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<a name="l00262"></a>00262   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> phi(size), mu(size);
<a name="l00263"></a>00263   mu = 0.;
<a name="l00264"></a>00264   phi = 0.;
<a name="l00265"></a>00265 
<a name="l00266"></a>00266   <a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>&amp; FWC = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFluide__Weakly__Compressible.html" title="classe Fluide_Weakly_Compressible Cette classe represente un d&#39;un fluide faiblement compressible c&#39;es...">Fluide_Weakly_Compressible</a>,<a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>.<a class="code" href="classRef__Fluide__Dilatable__base.html#afec3eaafad6b930357b72853e1b0b2bf">valeur</a>());
<a name="l00267"></a>00267   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Yn = FWC.<a class="code" href="classFluide__Weakly__Compressible.html#a2f76138e6f1b6da449ebebbac912c465">fraction_massique_nonresolue</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00268"></a>00268 
<a name="l00269"></a>00269   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a> ; i++)
<a name="l00270"></a>00270     {
<a name="l00271"></a>00271       phi = 0.;
<a name="l00272"></a>00272       <span class="keyword">const</span> <span class="keywordtype">double</span> M_i = <a class="code" href="classLoi__Etat__Multi__GP__WC.html#aa15708916c2966fe902ad8c00dad1165">masse_molaire_especes</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,i);
<a name="l00273"></a>00273       <span class="keyword">const</span> <span class="keywordtype">double</span> mu_i = <a class="code" href="classLoi__Etat__Multi__GP__WC.html#aacb3eaa88e67e769acc7df146c66c38d">visc_dynamique_especes</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,i);
<a name="l00274"></a>00274 
<a name="l00275"></a>00275       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j &lt; <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5ca3f45f57b73fbca3de9d0b772967f3">num_espece_</a> ; j++)
<a name="l00276"></a>00276         <span class="keywordflow">if</span> (j != i) <span class="comment">//!&lt; sinon phi_ii = 1</span>
<a name="l00277"></a>00277 <span class="comment"></span>          {
<a name="l00278"></a>00278             <span class="keyword">const</span> <span class="keywordtype">double</span> M_j = <a class="code" href="classLoi__Etat__Multi__GP__WC.html#aa15708916c2966fe902ad8c00dad1165">masse_molaire_especes</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,j);
<a name="l00279"></a>00279             <span class="keyword">const</span> <span class="keywordtype">double</span> mu_j = <a class="code" href="classLoi__Etat__Multi__GP__WC.html#aacb3eaa88e67e769acc7df146c66c38d">visc_dynamique_especes</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,j);
<a name="l00280"></a>00280 
<a name="l00281"></a>00281             <span class="keywordtype">double</span> a = 1. + sqrt( mu_i / mu_j ) * pow( M_j / M_i , 0.25);
<a name="l00282"></a>00282             <span class="keywordtype">double</span> b = sqrt( 8. * ( 1. + ( M_i / M_j )));
<a name="l00283"></a>00283             <span class="keywordtype">double</span> phi_ij = ( M_i / M_j ) * a * a / b;
<a name="l00284"></a>00284 <span class="comment">// TODO : FIXME : a voir si Yn-&gt;valeurs() est a jour</span>
<a name="l00285"></a>00285             <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; y_j = (j == num_espece_ -1) ? Yn : <a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>(j)-&gt;valeurs();
<a name="l00286"></a>00286 <span class="comment">// node is elem (VDF) or face (VEF)</span>
<a name="l00287"></a>00287             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> node=0; node&lt;y_j.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>(); node++) phi(node) += y_j(node,0) * phi_ij;
<a name="l00288"></a>00288           }
<a name="l00289"></a>00289 <span class="comment">// We add the mass fraction when i = j</span>
<a name="l00290"></a>00290       <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; y_i = (i == num_espece_ -1) ? Yn : <a class="code" href="classLoi__Etat__Multi__GP__base.html#a5a845ecf51b85f06aafb4788b1a8df68">liste_Y</a>(i)-&gt;valeurs();
<a name="l00291"></a>00291       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> node=0; node&lt;y_i.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>(); node++) mu(node) += mu_i * y_i(node,0) / ( y_i(node,0) + phi(node) );
<a name="l00292"></a>00292     }
<a name="l00293"></a>00293 
<a name="l00294"></a>00294   <a class="code" href="classLoi__Etat__Multi__GP__base.html#a9d4641e05c01c270f0440e088160a869">calculer_tab_mu</a>(mu, size);
<a name="l00295"></a>00295 }
<a name="l00296"></a>00296 
<a name="l00297"></a>00297 <span class="comment">// Precondition:</span>
<a name="l00298"></a>00298 <span class="comment">// Parametre:</span>
<a name="l00299"></a>00299 <span class="comment">// Signification:</span>
<a name="l00300"></a>00300 <span class="comment">// Valeurs par defaut:</span>
<a name="l00301"></a>00301 <span class="comment">// Contraintes:</span>
<a name="l00302"></a>00302 <span class="comment">// Acces:</span>
<a name="l00303"></a>00303 <span class="comment">// </span>
<a name="l00304"></a>00304 <span class="comment">// Signification:</span>
<a name="l00305"></a>00305 <span class="comment">// Contraintes:</span>
<a name="l00306"></a>00306 <span class="comment">// Exception:</span>
<a name="l00307"></a>00307 <span class="comment">// Effets de bord:</span>
<a name="l00308"></a>00308 <span class="comment">// Postcondition:</span>
<a name="l00309"></a>00309 <span class="comment">//</span><span class="comment"></span>
<a name="l00310"></a>00310 <span class="comment">//! Calcule la viscosite dynamique sur Schmidt = rho * D</span>
<a name="l00311"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#af850d1bb1e9821cb063f558ab05999fa">00311</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#af850d1bb1e9821cb063f558ab05999fa" title="returns rho * D">Loi_Etat_Multi_GP_WC::calculer_mu_sur_Sc</a>()
<a name="l00312"></a>00312 {
<a name="l00313"></a>00313   <span class="comment">/*</span>
<a name="l00314"></a>00314 <span class="comment">   * ====================================================================</span>
<a name="l00315"></a>00315 <span class="comment">   * Schmidt number : Sc = nu / D = mu / ( rho * D )</span>
<a name="l00316"></a>00316 <span class="comment">   * =&gt; rho * D = mu/Sc</span>
<a name="l00317"></a>00317 <span class="comment">   * species equation : div ( rho * D * grad Y1) = div ( mu/Sc * grad Y1)</span>
<a name="l00318"></a>00318 <span class="comment">   * ====================================================================</span>
<a name="l00319"></a>00319 <span class="comment">   */</span>
<a name="l00320"></a>00320 
<a name="l00321"></a>00321   <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>&amp; mu_sur_Sc = <a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>-&gt;mu_sur_Schmidt();
<a name="l00322"></a>00322   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_mu_sur_Sc = mu_sur_Sc.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00323"></a>00323   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; rho = <a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>-&gt;masse_volumique();
<a name="l00324"></a>00324   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_rho = rho.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
<a name="l00325"></a>00325   <span class="keyword">const</span> <span class="keywordtype">int</span> n = tab_mu_sur_Sc.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>();
<a name="l00326"></a>00326 
<a name="l00327"></a>00327 <span class="comment">// TODO : FIXME : On a tab_mu_sur_Sc.line_size() = 1 :( :/ :(</span>
<a name="l00328"></a>00328 <span class="comment">// BUG : il faut avoir line_size = num_espece_ car on peut avoir D qui varie entre espce</span>
<a name="l00329"></a>00329 
<a name="l00330"></a>00330   <span class="keywordflow">if</span> (!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,mu_sur_Sc.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00331"></a>00331     {
<a name="l00332"></a>00332       <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,rho))
<a name="l00333"></a>00333         {
<a name="l00334"></a>00334           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;We should not have a density field of type Champ_Uniforme !&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00335"></a>00335           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00336"></a>00336         }
<a name="l00337"></a>00337       <span class="keywordflow">else</span>
<a name="l00338"></a>00338         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0 ; i&lt;n ; i++)
<a name="l00339"></a>00339           {
<a name="l00340"></a>00340 <span class="comment">// TODO : FIXME : j&#39;ai pris D de l&#39;espce 1 ...</span>
<a name="l00341"></a>00341             tab_mu_sur_Sc(i,0) = tab_rho(i,0) * <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a83803fa2bb516426c8f3fc59ded2087c">coeff_diffusion_especes</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,0);
<a name="l00342"></a>00342           }
<a name="l00343"></a>00343     }
<a name="l00344"></a>00344   <span class="keywordflow">else</span>
<a name="l00345"></a>00345     {
<a name="l00346"></a>00346       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;We should not have a mu_sur_Sc of type Champ_Uniforme !&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00347"></a>00347       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00348"></a>00348     }
<a name="l00349"></a>00349 
<a name="l00350"></a>00350   mu_sur_Sc.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>().<a class="code" href="classChamp__base.html#ab4fdc6fb46c5e4efe2f931ceadd66979" title="Fixe le temps auquel se situe le champ.">changer_temps</a>(rho.<a class="code" href="classChamp__base.html#ada7350aecb7b6f20dcaee2d1106ab1a0" title="Renvoie le temps du champ.">temps</a>());
<a name="l00351"></a>00351   tab_mu_sur_Sc.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00352"></a>00352 }
<a name="l00353"></a>00353 
<a name="l00354"></a>00354 <span class="comment">// Precondition:</span>
<a name="l00355"></a>00355 <span class="comment">// Parametre:</span>
<a name="l00356"></a>00356 <span class="comment">// Signification:</span>
<a name="l00357"></a>00357 <span class="comment">// Valeurs par defaut:</span>
<a name="l00358"></a>00358 <span class="comment">// Contraintes:</span>
<a name="l00359"></a>00359 <span class="comment">// Acces:</span>
<a name="l00360"></a>00360 <span class="comment">// </span>
<a name="l00361"></a>00361 <span class="comment">// Signification:</span>
<a name="l00362"></a>00362 <span class="comment">// Contraintes:</span>
<a name="l00363"></a>00363 <span class="comment">// Exception:</span>
<a name="l00364"></a>00364 <span class="comment">// Effets de bord:</span>
<a name="l00365"></a>00365 <span class="comment">// Postcondition:</span>
<a name="l00366"></a>00366 <span class="comment">//</span><span class="comment"></span>
<a name="l00367"></a>00367 <span class="comment">//! Calcule la viscosite dynamique sur Schmidt = D</span>
<a name="l00368"></a><a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5e91551a28e5a8e7231afb9f18f4e73b">00368</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a5e91551a28e5a8e7231afb9f18f4e73b" title="returns D">Loi_Etat_Multi_GP_WC::calculer_nu_sur_Sc</a>()
<a name="l00369"></a>00369 {
<a name="l00370"></a>00370   <span class="comment">/*</span>
<a name="l00371"></a>00371 <span class="comment">   * ====================================================================</span>
<a name="l00372"></a>00372 <span class="comment">   * Schmidt number : Sc = nu / D</span>
<a name="l00373"></a>00373 <span class="comment">   * =&gt; D = nu/Sc</span>
<a name="l00374"></a>00374 <span class="comment">   * ====================================================================</span>
<a name="l00375"></a>00375 <span class="comment">   */</span>
<a name="l00376"></a>00376 
<a name="l00377"></a>00377   <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>&amp; nu_sur_Sc = <a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>-&gt;nu_sur_Schmidt();
<a name="l00378"></a>00378   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_nu_sur_Sc = nu_sur_Sc.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00379"></a>00379   <span class="keyword">const</span> <span class="keywordtype">int</span> n = tab_nu_sur_Sc.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>();
<a name="l00380"></a>00380 
<a name="l00381"></a>00381 <span class="comment">// TODO : FIXME : On a tab_nu_sur_Sc.line_size() = 1 :( :/ :(</span>
<a name="l00382"></a>00382 <span class="comment">// BUG : il faut avoir line_size = num_espece_ car on peut avoir D qui varie entre espce</span>
<a name="l00383"></a>00383 
<a name="l00384"></a>00384 <span class="comment">// TODO : FIXME : j&#39;ai pris D de l&#39;espce 1 ...</span>
<a name="l00385"></a>00385   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0 ; i&lt;n ; i++) tab_nu_sur_Sc(i,0) = <a class="code" href="classLoi__Etat__Multi__GP__WC.html#a83803fa2bb516426c8f3fc59ded2087c">coeff_diffusion_especes</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,0);
<a name="l00386"></a>00386 
<a name="l00387"></a>00387   <span class="keywordtype">double</span> temps_champ = <a class="code" href="classLoi__Etat__base.html#a1558cb2a17aefa793b53aeab564b107d">le_fluide</a>-&gt;masse_volumique().temps();
<a name="l00388"></a>00388   nu_sur_Sc.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>().<a class="code" href="classChamp__base.html#ab4fdc6fb46c5e4efe2f931ceadd66979" title="Fixe le temps auquel se situe le champ.">changer_temps</a>(temps_champ);
<a name="l00389"></a>00389   tab_nu_sur_Sc.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00390"></a>00390 }
<a name="l00391"></a>00391 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:33 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
