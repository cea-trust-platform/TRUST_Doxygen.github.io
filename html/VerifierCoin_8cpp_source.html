<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/VEF/Zones/VerifierCoin.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/VEF/Zones/VerifierCoin.cpp</div>  </div>
</div>
<div class="contents">
<a href="VerifierCoin_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2017, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        VerifierCoin.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/VEF/Zones</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/24</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="VerifierCoin_8h.html">VerifierCoin.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Domaine_8h.html">Domaine.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;time.h&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="IntLists_8h.html">IntLists.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="LecFicDiffuse_8h.html">LecFicDiffuse.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Scatter_8h.html">Scatter.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Param_8h.html">Param.h</a>&gt;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a><a class="code" href="VerifierCoin_8cpp.html#a59ae9d44a8a0fe7019c2619d88f8ccb4">00031</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classVerifierCoin.html" title="classe VerifierCoin Interprete qui resoud un probleme: [DANS LE JEU DE DONNEES] VerifierCoin pb...">VerifierCoin</a>,<span class="stringliteral">&quot;VerifierCoin&quot;</span>,<a class="code" href="classInterprete__geometrique__base.html" title="classe Interprete_geometrique_base .">Interprete_geometrique_base</a>);
<a name="l00032"></a>00032 <span class="keywordtype">int</span> <a class="code" href="classVerifierCoin.html#afa6dc25a972ceeb96910547dfefc9c07">VerifierCoin::expert_only</a>=0;
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="comment">// Precondition:</span>
<a name="l00035"></a>00035 <span class="comment">// Parametre: Sortie&amp; os</span>
<a name="l00036"></a>00036 <span class="comment">// Signification: un flot de sortie</span>
<a name="l00037"></a>00037 <span class="comment">// Valeurs par defaut:</span>
<a name="l00038"></a>00038 <span class="comment">// Contraintes:</span>
<a name="l00039"></a>00039 <span class="comment">// Acces: entree/sortie</span>
<a name="l00040"></a>00040 <span class="comment">// Exception:</span>
<a name="l00041"></a>00041 <span class="comment">// Effets de bord:</span>
<a name="l00042"></a>00042 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00043"></a>00043 <span class="comment">//</span>
<a name="l00044"></a>00044 <span class="comment">//</span>
<a name="l00045"></a>00045 <span class="comment">//</span><span class="comment"></span>
<a name="l00046"></a>00046 <span class="comment">//! Simple appel a:&lt;br&gt;Interprete::printOn(Sortie\&amp;)&lt;br&gt;Imprime l&#39;interprete sur un flot de sortie</span>
<a name="l00047"></a>00047 <span class="comment"></span><span class="comment">/** \return Sortie\&amp;&lt;br&gt;</span>
<a name="l00048"></a>00048 <span class="comment">Signification: le flot de sortie modifie&lt;br&gt;</span>
<a name="l00049"></a>00049 <span class="comment">Contraintes: */</span>
<a name="l00050"></a><a class="code" href="classVerifierCoin.html#ae0b171d1ef7b8950525b13a34ebd4978">00050</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classVerifierCoin.html#ae0b171d1ef7b8950525b13a34ebd4978" title="Simple appel a: Interprete::printOn(Sortie&amp;) Imprime l&#39;interprete sur un flot de sortie.">VerifierCoin::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00051"></a>00051 <span class="keyword"></span>{
<a name="l00052"></a>00052   <span class="keywordflow">return</span> <a class="code" href="classVerifierCoin.html#ae0b171d1ef7b8950525b13a34ebd4978" title="Simple appel a: Interprete::printOn(Sortie&amp;) Imprime l&#39;interprete sur un flot de sortie.">Interprete::printOn</a>(os);
<a name="l00053"></a>00053 }
<a name="l00054"></a>00054 
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="comment">// Precondition:</span>
<a name="l00057"></a>00057 <span class="comment">// Parametre: Entree&amp; is</span>
<a name="l00058"></a>00058 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00059"></a>00059 <span class="comment">// Valeurs par defaut:</span>
<a name="l00060"></a>00060 <span class="comment">// Contraintes:</span>
<a name="l00061"></a>00061 <span class="comment">// Acces: entree/sortie</span>
<a name="l00062"></a>00062 <span class="comment">// Exception:</span>
<a name="l00063"></a>00063 <span class="comment">// Effets de bord:</span>
<a name="l00064"></a>00064 <span class="comment">// Postcondition:</span>
<a name="l00065"></a>00065 <span class="comment">//</span>
<a name="l00066"></a>00066 <span class="comment">//</span><span class="comment"></span>
<a name="l00067"></a>00067 <span class="comment">//! Simple appel a:&lt;br&gt;Interprete::readOn(Entree\&amp;)</span>
<a name="l00068"></a>00068 <span class="comment"></span><span class="comment">/** \return Entree\&amp;&lt;br&gt;</span>
<a name="l00069"></a>00069 <span class="comment">Signification: le flot d&#39;entree modifie&lt;br&gt;</span>
<a name="l00070"></a>00070 <span class="comment">Contraintes: */</span>
<a name="l00071"></a><a class="code" href="classVerifierCoin.html#ac194d0ab179c8ac7d1d90586fe724b3c">00071</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classVerifierCoin.html#ac194d0ab179c8ac7d1d90586fe724b3c" title="Simple appel a: Interprete::readOn(Entree&amp;)">VerifierCoin::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00072"></a>00072 {
<a name="l00073"></a>00073   <span class="keywordflow">return</span> <a class="code" href="classVerifierCoin.html#ac194d0ab179c8ac7d1d90586fe724b3c" title="Simple appel a: Interprete::readOn(Entree&amp;)">Interprete::readOn</a>(is);
<a name="l00074"></a>00074 }
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 
<a name="l00077"></a>00077 <span class="comment">// Precondition:</span>
<a name="l00078"></a>00078 <span class="comment">// Parametre: Entree&amp; is</span>
<a name="l00079"></a>00079 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00080"></a>00080 <span class="comment">// Valeurs par defaut:</span>
<a name="l00081"></a>00081 <span class="comment">// Contraintes:</span>
<a name="l00082"></a>00082 <span class="comment">// Acces: entree/sortie</span>
<a name="l00083"></a>00083 <span class="comment">// Exception: type de probleme inconnu</span>
<a name="l00084"></a>00084 <span class="comment">// Effets de bord: des affichages de performances (clock())</span>
<a name="l00085"></a>00085 <span class="comment">// Postcondition:</span>
<a name="l00086"></a>00086 <span class="comment">//</span>
<a name="l00087"></a>00087 <span class="comment">//</span>
<a name="l00088"></a>00088 <span class="comment">//</span>
<a name="l00089"></a>00089 <span class="comment">//</span><span class="comment"></span>
<a name="l00090"></a>00090 <span class="comment">//! Fonction principale de l&#39;interprete:&lt;br&gt;resoudre un probleme&lt;br&gt;On cherche dynamiquement le type du probleme a resoudre&lt;br&gt;on resoud le probleme et on effectue les postraitements.</span>
<a name="l00091"></a>00091 <span class="comment"></span><span class="comment">/** \return Entree\&amp;&lt;br&gt;</span>
<a name="l00092"></a>00092 <span class="comment">Signification: le flot d&#39;entree modifie&lt;br&gt;</span>
<a name="l00093"></a>00093 <span class="comment">Contraintes: */</span>
<a name="l00094"></a><a class="code" href="classVerifierCoin.html#a36b3b9699fa9fea64b15f3e885f336b0">00094</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classVerifierCoin.html#a36b3b9699fa9fea64b15f3e885f336b0" title="Fonction principale de l&#39;interprete: resoudre un probleme On cherche dynamiquement le type du problem...">VerifierCoin::interpreter_</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00095"></a>00095 {
<a name="l00096"></a>00096 <span class="comment">// XD verifiercoin interprete verifiercoin -1 This keyword subdivides inconsistent 2D/3D cells used with VEFPreP1B discretization. Must be used before the mesh is discretized. NL1 The Read_file option can be used only if the file.decoupage_som was previously created by TRUST. This option, only in 2D, reverses the common face at two cells (at least one is inconsistent), through the nodes opposed. In 3D, the option has no effect. NL2 The expert_only option deactivates, into the VEFPreP1B divergence operator, the test of inconsistent cells.</span>
<a name="l00097"></a>00097 <span class="comment">// XD  attr domain_name  ref_domaine dom 0 Name of the domaine</span>
<a name="l00098"></a>00098 <span class="comment">// XD  attr bloc verifiercoin_bloc bloc 0 not_set</span>
<a name="l00099"></a>00099 <span class="comment">// XD  verifiercoin_bloc objet_lecture nul 1 not_set</span>
<a name="l00100"></a>00100 <span class="comment">// XD  attr Read_file|Lire_fichier chaine filename 1 name of the *.decoupage_som file</span>
<a name="l00101"></a>00101 <span class="comment">// XD  attr expert_only rien expert_only 1 to not check the mesh</span>
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 
<a name="l00104"></a>00104   <a class="code" href="classInterprete__geometrique__base.html#ac0d2fd316a4bb1585ec579f473684caa">associer_domaine</a>(is);
<a name="l00105"></a>00105   <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom=<a class="code" href="classInterprete__geometrique__base.html#adeeb544dc732989761fb466c0d9cbcbe">domaine</a>();
<a name="l00106"></a>00106   <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone=dom.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
<a name="l00107"></a>00107   <span class="keywordflow">if</span> (zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>()-&gt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() != <span class="stringliteral">&quot;Triangle&quot;</span> &amp;&amp; zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>()-&gt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() != <span class="stringliteral">&quot;Tetraedre&quot;</span>)
<a name="l00108"></a>00108     {
<a name="l00109"></a>00109       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error for &quot;</span>&lt;&lt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt;<span class="stringliteral">&quot; interpreter : it can be applied only for triangular or tetraedral meshing.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00110"></a>00110       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00111"></a>00111     }
<a name="l00112"></a>00112 
<a name="l00113"></a>00113   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> decoup_som(<span class="stringliteral">&quot;&quot;</span>);
<a name="l00114"></a>00114   <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>());
<a name="l00115"></a>00115   param.<a class="code" href="classParam.html#affb8a0102361201ba896bac7ca8bc21c">ajouter</a>(<span class="stringliteral">&quot;Lire_fichier|Read_file&quot;</span>,&amp;decoup_som);
<a name="l00116"></a>00116   param.<a class="code" href="classParam.html#ae3d50612a0014a9d58e6e035a65f20e5">ajouter_flag</a>(<span class="stringliteral">&quot;expert_only&quot;</span>,&amp;<a class="code" href="classVerifierCoin.html#afa6dc25a972ceeb96910547dfefc9c07">expert_only</a>);
<a name="l00117"></a>00117   param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00118"></a>00118   <span class="keywordtype">int</span> lecture_decoupage_som=(decoup_som!=<span class="stringliteral">&quot;&quot;</span>?1:0);
<a name="l00119"></a>00119 
<a name="l00120"></a>00120   <span class="keywordflow">if</span> (<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>()&gt;1 &amp;&amp; <a class="code" href="classVerifierCoin.html#afa6dc25a972ceeb96910547dfefc9c07">expert_only</a>==0)
<a name="l00121"></a>00121     {
<a name="l00122"></a>00122       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <span class="stringliteral">&quot; interpreter can be used only for sequential calculation.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00123"></a>00123       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;For parallel calculation, please use &quot;</span>&lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt;<span class="stringliteral">&quot; interpreter&quot;</span> &lt;&lt; finl;
<a name="l00124"></a>00124       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;during the domain partitioning step.&quot;</span> &lt;&lt; finl;
<a name="l00125"></a>00125       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00126"></a>00126     }
<a name="l00127"></a>00127 <span class="comment">// Pas de changement du maillage si option expert_only utilise</span>
<a name="l00128"></a>00128   <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>() &lt;&lt; <span class="stringliteral">&quot;expert_only= &quot;</span> &lt;&lt; <a class="code" href="classVerifierCoin.html#afa6dc25a972ceeb96910547dfefc9c07">expert_only</a> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00129"></a>00129   <span class="keywordflow">if</span> (!<a class="code" href="classVerifierCoin.html#afa6dc25a972ceeb96910547dfefc9c07">expert_only</a>)
<a name="l00130"></a>00130     {
<a name="l00131"></a>00131       <a class="code" href="classScatter.html#a8cf934a9b5f7ecb7ef89f61c09804f45" title="methode utilisee par les interpretes qui modifient le domaine&lt;br&gt;(sequentiel), detruit les descripteu...">Scatter::uninit_sequential_domain</a>(dom);
<a name="l00132"></a>00132       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> xp;
<a name="l00133"></a>00133       zone.<a class="code" href="classZone.html#ad8104f9be27f9c357e345b281a79064e" title="Calcule les centres de gravites des elements de la zone.">calculer_centres_gravite</a>(xp);
<a name="l00134"></a>00134       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; sommets = dom.<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>();
<a name="l00135"></a>00135       <span class="keywordtype">int</span> nbsom=sommets.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00136"></a>00136 
<a name="l00137"></a>00137       <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; les_elems=zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
<a name="l00138"></a>00138       <span class="keywordtype">int</span> nbelem=zone.<a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>();
<a name="l00139"></a>00139       <span class="keywordtype">int</span> elem,ns,ns1,ne,somm;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141       <a class="code" href="classIntLists.html" title="Un tableau de listes de type IntList.">IntLists</a> sommets_associes(nbsom);
<a name="l00142"></a>00142       <a class="code" href="classIntLists.html" title="Un tableau de listes de type IntList.">IntLists</a> elements_associes(nbsom);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144       <a class="code" href="classIntVect.html">IntVect</a> test_double(nbsom);
<a name="l00145"></a>00145       test_double=0;
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 <span class="comment">// On parcourt les elements et pour un element ne, on parcourt ses sommets. Pour chaque sommet on detecte les</span>
<a name="l00148"></a>00148 <span class="comment">// sommets &quot;voisins&quot;. Une fois tous les elements parcourus, s il n y a pas un doublon dans les sommets voisins</span>
<a name="l00149"></a>00149 <span class="comment">// d un sommet somm, il faut decouper l element (ou les elements) qui porte ce sommet.</span>
<a name="l00150"></a>00150 
<a name="l00151"></a>00151       ne=0;
<a name="l00152"></a>00152 
<a name="l00153"></a>00153       <span class="keywordflow">while</span> (ne&lt;nbelem)
<a name="l00154"></a>00154         {
<a name="l00155"></a>00155           ns=0;
<a name="l00156"></a>00156 
<a name="l00157"></a>00157           <span class="keywordflow">while</span> (ns&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>+1)
<a name="l00158"></a>00158             {
<a name="l00159"></a>00159 
<a name="l00160"></a>00160               somm = les_elems(ne,ns);
<a name="l00161"></a>00161               elements_associes[somm].add_if_not(ne);
<a name="l00162"></a>00162               ns1=0;
<a name="l00163"></a>00163               <span class="keywordflow">while</span> ((ns1&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>+1) &amp;&amp; (test_double(somm)==0))
<a name="l00164"></a>00164                 {
<a name="l00165"></a>00165                   <span class="keywordflow">if</span> (les_elems(ne,ns1)!=somm)
<a name="l00166"></a>00166                     {
<a name="l00167"></a>00167                       <span class="keywordflow">if</span> (sommets_associes[somm].contient(les_elems(ne,ns1)))
<a name="l00168"></a>00168                         test_double(somm)=1;
<a name="l00169"></a>00169                       <span class="keywordflow">else</span>
<a name="l00170"></a>00170                         sommets_associes[somm].add(les_elems(ne,ns1));
<a name="l00171"></a>00171                     }
<a name="l00172"></a>00172                   ns1++;
<a name="l00173"></a>00173                 }
<a name="l00174"></a>00174 
<a name="l00175"></a>00175               ns++;
<a name="l00176"></a>00176             }
<a name="l00177"></a>00177           ne++;
<a name="l00178"></a>00178         }
<a name="l00179"></a>00179 
<a name="l00180"></a>00180 <span class="comment">// On decoupe les elements pour le sommet qui pose probleme</span>
<a name="l00181"></a>00181 <span class="comment">// PQ : 25/05/07</span>
<a name="l00182"></a>00182 <span class="comment">// - soit de maniere automatique (tout sommet rattache qu&#39;a un seul element)</span>
<a name="l00183"></a>00183 <span class="comment">// - soit a partir d&#39;une liste de sommets (liste generee lors d&#39;un pre-calcul et tenant compte du type de CL)</span>
<a name="l00184"></a>00184 <span class="comment">// avec comme option de decoupage dans ce cas (lue dans le fichier &quot;decoupage_som&quot;) :</span>
<a name="l00185"></a>00185 <span class="comment">// </span>
<a name="l00186"></a>00186 <span class="comment">// 0 : decoupage traditionnel (centre de gravite)</span>
<a name="l00187"></a>00187 <span class="comment">// 1 : decoupage en passant par le sommet oppose de l&#39;element voisin</span>
<a name="l00188"></a>00188 
<a name="l00189"></a>00189       <span class="keywordtype">int</span> option_decoupage=-1;
<a name="l00190"></a>00190       <span class="keywordtype">int</span> somm_lu,elem_opp,somm_opp,somm1,somm2;
<a name="l00191"></a>00191       <span class="keywordtype">int</span> dim_cas,nbsom_cas;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193       <a class="code" href="classLecFicDiffuse.html" title="Cette classe implemente les operateurs et les methodes virtuelles de la classe EFichier de la facon s...">LecFicDiffuse</a> fic;
<a name="l00194"></a>00194       <span class="keywordflow">if</span> (lecture_decoupage_som)
<a name="l00195"></a>00195         {
<a name="l00196"></a>00196           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;The file&quot;</span> &lt;&lt; decoup_som &lt;&lt;<span class="stringliteral">&quot; is checked before reading.&quot;</span>&lt;&lt;finl;
<a name="l00197"></a>00197           fic.<a class="code" href="classLecFicDiffuse.html#a2e4f3199de5e1b47edcffc68952c7be8" title="Ouverture du fichier. Cette methode doit etre appelee par tous les processeurs du groupe...">ouvrir</a>(decoup_som);
<a name="l00198"></a>00198           <span class="keywordflow">if</span>(fic.<a class="code" href="classLec__Diffuse__base.html#a0d28f6309b5b0d97b3bd0ad8309aec61">good</a>())
<a name="l00199"></a>00199             {
<a name="l00200"></a>00200               fic &gt;&gt; option_decoupage;
<a name="l00201"></a>00201               fic &gt;&gt; dim_cas;
<a name="l00202"></a>00202               fic &gt;&gt; nbsom_cas;
<a name="l00203"></a>00203               <span class="keywordflow">if</span>(dim_cas!=<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>)
<a name="l00204"></a>00204                 {
<a name="l00205"></a>00205                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error for &quot;</span> &lt;&lt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()&lt;&lt;<span class="stringliteral">&quot;::interpreter_&quot;</span> &lt;&lt; finl;
<a name="l00206"></a>00206                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The file &quot;</span> &lt;&lt; decoup_som &lt;&lt; <span class="stringliteral">&quot; is planned for a case of dimension &quot;</span> &lt;&lt; dim_cas &lt;&lt; <span class="stringliteral">&quot;D&quot;</span> &lt;&lt; finl;
<a name="l00207"></a>00207                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;while the considered domain &quot;</span> &lt;&lt; dom.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt; <span class="stringliteral">&quot; has a dimension &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a> &lt;&lt; <span class="stringliteral">&quot;D.&quot;</span> &lt;&lt; finl;
<a name="l00208"></a>00208                   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00209"></a>00209                 }
<a name="l00210"></a>00210               <span class="keywordflow">if</span>(nbsom!=nbsom_cas)
<a name="l00211"></a>00211                 {
<a name="l00212"></a>00212                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error for &quot;</span> &lt;&lt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()&lt;&lt;<span class="stringliteral">&quot;::interpreter_&quot;</span> &lt;&lt; finl;
<a name="l00213"></a>00213                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The nodes number (&quot;</span> &lt;&lt;nbsom_cas&lt;&lt; <span class="stringliteral">&quot;) readen in the file &quot;</span> &lt;&lt; decoup_som &lt;&lt; finl;
<a name="l00214"></a>00214                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;dot not correspond to those of the meshing (&quot;</span> &lt;&lt; nbsom &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; finl;
<a name="l00215"></a>00215                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Please check that the file you have specified &quot;</span> &lt;&lt; decoup_som &lt;&lt; finl;
<a name="l00216"></a>00216                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;is the one to consider for this meshing.&quot;</span> &lt;&lt; finl;
<a name="l00217"></a>00217                   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00218"></a>00218                 }
<a name="l00219"></a>00219             }
<a name="l00220"></a>00220           <span class="keywordflow">else</span>
<a name="l00221"></a>00221             {
<a name="l00222"></a>00222               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error for &quot;</span> &lt;&lt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()&lt;&lt;<span class="stringliteral">&quot;::interpreter_&quot;</span> &lt;&lt; finl;
<a name="l00223"></a>00223               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Problem while trying to open the file &quot;</span> &lt;&lt; decoup_som &lt;&lt; finl;
<a name="l00224"></a>00224               <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00225"></a>00225             }
<a name="l00226"></a>00226           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;option_decoupage &quot;</span> &lt;&lt; option_decoupage &lt;&lt; finl;
<a name="l00227"></a>00227         }
<a name="l00228"></a>00228 
<a name="l00229"></a>00229       <span class="keywordflow">for</span> (somm=0; somm&lt;nbsom; somm++)
<a name="l00230"></a>00230         {
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 <span class="comment">// On decoupe les elements pour le sommet qui pose probleme</span>
<a name="l00233"></a>00233 
<a name="l00234"></a>00234           <span class="keywordflow">if</span> (test_double(somm)==0)
<a name="l00235"></a>00235             {
<a name="l00236"></a>00236               <span class="keywordflow">if</span>(lecture_decoupage_som)
<a name="l00237"></a>00237                 {
<a name="l00238"></a>00238                   fic &gt;&gt; somm_lu &gt;&gt; somm_opp &gt;&gt; somm1 &gt;&gt; somm2;
<a name="l00239"></a>00239                   <span class="keywordflow">if</span> (<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==3)
<a name="l00240"></a>00240                     {
<a name="l00241"></a>00241                       <span class="keywordtype">int</span> somm3;
<a name="l00242"></a>00242                       fic &gt;&gt; somm3;
<a name="l00243"></a>00243                     }
<a name="l00244"></a>00244                   fic &gt;&gt; elem &gt;&gt; elem_opp;
<a name="l00245"></a>00245                   <span class="keywordflow">if</span>(somm_lu!=-1) somm = somm_lu; <span class="comment">//!&lt; -1 indice de fin de fichier</span>
<a name="l00246"></a>00246 <span class="comment"></span>                  <span class="keywordflow">if</span>(nbsom&lt;=somm)
<a name="l00247"></a>00247                     {
<a name="l00248"></a>00248                       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in VerifierCoin::interpreter&quot;</span> &lt;&lt; finl;
<a name="l00249"></a>00249                       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The node &quot;</span> &lt;&lt; somm &lt;&lt; <span class="stringliteral">&quot; is not found.&quot;</span> &lt;&lt; finl;
<a name="l00250"></a>00250                       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Check the .Zones files are up to date with your mesh file.&quot;</span> &lt;&lt; finl;
<a name="l00251"></a>00251                       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00252"></a>00252                     }
<a name="l00253"></a>00253                 }
<a name="l00254"></a>00254               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;-&gt; VerifierCoin is applied on the node &quot;</span>&lt;&lt;somm&lt;&lt; <span class="stringliteral">&quot; of coordinates: &quot;</span>;
<a name="l00255"></a>00255               <span class="keywordflow">for</span>(<span class="keywordtype">int</span> dir=0; dir&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; dir++) <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;sommets(somm,dir)&lt;&lt;<span class="stringliteral">&quot; &quot;</span>;
<a name="l00256"></a>00256               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;...&quot;</span>&lt;&lt;finl;
<a name="l00257"></a>00257 
<a name="l00258"></a>00258               <a class="code" href="classIntList__Curseur.html" title="List_Curseur de reels int precision.">IntList_Curseur</a> liste_elem(elements_associes[somm]);
<a name="l00259"></a>00259               <span class="keywordtype">int</span> size_elem= elements_associes[somm].<a class="code" href="classIntLists.html#a823946693bc491321765f0e6805204e2" title="retourne le nombre de listes dans le tableau">size</a>();
<a name="l00260"></a>00260 
<a name="l00261"></a>00261               <span class="keywordflow">if</span> (option_decoupage==1 &amp;&amp; dimension==2 &amp;&amp; somm_lu!=-1)  <span class="comment">//!&lt; inversion des sommets</span>
<a name="l00262"></a>00262 <span class="comment"></span>                {
<a name="l00263"></a>00263                   les_elems(elem,0) = somm ;
<a name="l00264"></a>00264                   les_elems(elem,1) = somm_opp ;
<a name="l00265"></a>00265                   les_elems(elem,2) = somm1 ;
<a name="l00266"></a>00266 
<a name="l00267"></a>00267                   les_elems(elem_opp,0) = somm ;
<a name="l00268"></a>00268                   les_elems(elem_opp,1) = somm_opp ;
<a name="l00269"></a>00269                   les_elems(elem_opp,2) = somm2 ;
<a name="l00270"></a>00270                 }
<a name="l00271"></a>00271 
<a name="l00272"></a>00272               <span class="keywordflow">else</span> <span class="comment">//!&lt; creation d&#39;un nouveau sommet au centre de gravite de l&#39;element</span>
<a name="l00273"></a>00273 <span class="comment"></span>                {
<a name="l00274"></a>00274                   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;size_elem; k++)
<a name="l00275"></a>00275                     {
<a name="l00276"></a>00276                       elem=liste_elem.<a class="code" href="classIntList__Curseur.html#a1c1121b2d0e2b29c02e121543ab728e8" title="retourne la valeur du curseur">valeur</a>();
<a name="l00277"></a>00277 
<a name="l00278"></a>00278 <span class="comment">// On cree un sommet au centre de gravite de l&#39;element</span>
<a name="l00279"></a>00279                       <span class="keywordtype">int</span> nouveau_sommet=sommets.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00280"></a>00280                       sommets.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nouveau_sommet+1, dimension);
<a name="l00281"></a>00281                       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; j++)
<a name="l00282"></a>00282                         sommets(nouveau_sommet,j)=xp(elem,j);
<a name="l00283"></a>00283 
<a name="l00284"></a>00284 <span class="comment">// On divise l&#39;element elem en dimension+1 elements</span>
<a name="l00285"></a>00285                       <span class="keywordtype">int</span> oldsz=les_elems.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00286"></a>00286                       les_elems.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(oldsz+dimension, dimension+1);
<a name="l00287"></a>00287                       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;-&gt; The element number &quot;</span> &lt;&lt; elem &lt;&lt;<span class="stringliteral">&quot; is cut in &quot;</span> &lt;&lt; dimension+1 &lt;&lt; <span class="stringliteral">&quot; elements.&quot;</span> &lt;&lt; finl;
<a name="l00288"></a>00288 <span class="comment">// On recupere les sommets de l&#39;element elem</span>
<a name="l00289"></a>00289                       <span class="keywordtype">int</span> i0=les_elems(elem,0);
<a name="l00290"></a>00290                       <span class="keywordtype">int</span> i1=les_elems(elem,1);
<a name="l00291"></a>00291                       <span class="keywordtype">int</span> i2=les_elems(elem,2);
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 <span class="comment">// On affecte les sommets aux nouveaux elements</span>
<a name="l00294"></a>00294                       les_elems(elem,0)=i0;
<a name="l00295"></a>00295                       les_elems(elem,1)=i1;
<a name="l00296"></a>00296                       les_elems(elem,2)=nouveau_sommet;
<a name="l00297"></a>00297 
<a name="l00298"></a>00298                       les_elems(oldsz,0)=i1;
<a name="l00299"></a>00299                       les_elems(oldsz,1)=i2;
<a name="l00300"></a>00300                       les_elems(oldsz,2)=nouveau_sommet;
<a name="l00301"></a>00301 
<a name="l00302"></a>00302                       les_elems(oldsz+1,0)=i0;
<a name="l00303"></a>00303                       les_elems(oldsz+1,1)=i2;
<a name="l00304"></a>00304                       les_elems(oldsz+1,2)=nouveau_sommet;
<a name="l00305"></a>00305 
<a name="l00306"></a>00306                       <span class="keywordflow">if</span> (dimension==3)
<a name="l00307"></a>00307                         {
<a name="l00308"></a>00308                           <span class="keywordtype">int</span> i3=les_elems(elem,3);
<a name="l00309"></a>00309 
<a name="l00310"></a>00310                           les_elems(elem,3)=i3;
<a name="l00311"></a>00311                           les_elems(oldsz,3)=i3;
<a name="l00312"></a>00312                           les_elems(oldsz+1,3)=i3;
<a name="l00313"></a>00313 
<a name="l00314"></a>00314                           les_elems(oldsz+2,0)=i0;
<a name="l00315"></a>00315                           les_elems(oldsz+2,1)=i1;
<a name="l00316"></a>00316                           les_elems(oldsz+2,2)=i2;
<a name="l00317"></a>00317                           les_elems(oldsz+2,3)=nouveau_sommet;
<a name="l00318"></a>00318                         }
<a name="l00319"></a>00319 
<a name="l00320"></a>00320                       <a class="code" href="classInterprete__geometrique__base.html#a1d3f3df07d1a9abf7f5c55a5c4fbacff">mettre_a_jour_sous_zone</a>(zone,elem,oldsz,dimension);
<a name="l00321"></a>00321 
<a name="l00322"></a>00322                       ++liste_elem;
<a name="l00323"></a>00323                     }
<a name="l00324"></a>00324                 }<span class="comment">//!&lt; option_decoupage</span>
<a name="l00325"></a>00325 <span class="comment"></span>            }
<a name="l00326"></a>00326 
<a name="l00327"></a>00327         }
<a name="l00328"></a>00328       <a class="code" href="classScatter.html#a1874139ffd29d5a68191bc7828d3a5bd" title="cree des descripteurs sequentiels pour les tableaux sommets et elements du domaine (necessaire car Sc...">Scatter::init_sequential_domain</a>(dom);
<a name="l00329"></a>00329     }
<a name="l00330"></a>00330 
<a name="l00331"></a>00331   <span class="keywordflow">return</span> is;
<a name="l00332"></a>00332 }
<a name="l00333"></a>00333 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:45 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
