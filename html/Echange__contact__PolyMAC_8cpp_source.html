<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/PolyMAC/Cond_Lim/Echange_contact_PolyMAC.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/PolyMAC/Cond_Lim/Echange_contact_PolyMAC.cpp</div>  </div>
</div>
<div class="contents">
<a href="Echange__contact__PolyMAC_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Echange_contact_PolyMAC.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/PolyMAC/Cond_Lim</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/32</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Echange__contact__PolyMAC_8h.html">Echange_contact_PolyMAC.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Champ__front__calc_8h.html">Champ_front_calc.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Probleme__base_8h.html">Probleme_base.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Uniforme_8h.html">Champ_Uniforme.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Schema__Euler__Implicite_8h.html">Schema_Euler_Implicite.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Milieu__base_8h.html">Milieu_base.h</a>&gt;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Zone__PolyMAC_8h.html">Zone_PolyMAC.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Equation__base_8h.html">Equation_base.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="Champ__P0__PolyMAC_8h.html">Champ_P0_PolyMAC.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="Operateur_8h.html">Operateur.h</a>&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;<a class="code" href="Op__Diff__PolyMAC__Elem_8h.html">Op_Diff_PolyMAC_Elem.h</a>&gt;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;cmath&gt;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="Echange__contact__PolyMAC_8cpp.html#ab722e4a65fc4bb28f594d0109309fc22">00038</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classEchange__contact__PolyMAC.html">Echange_contact_PolyMAC</a>,<span class="stringliteral">&quot;Paroi_Echange_contact_PolyMAC&quot;</span>,<a class="code" href="classEchange__externe__impose.html" title="Classe Echange_externe_impose: Cette classe represente le cas particulier de la classe Echange_impose...">Echange_externe_impose</a>);
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="keywordtype">int</span> <a class="code" href="Echange__contact__PolyMAC_8cpp.html#a57baa099890144a32e48063b438d449e">meme_point2</a>(<span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; a,<span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; b);
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="classEchange__contact__PolyMAC.html#aa9a11af664aaaac0ed46b759d3fec8e2">00043</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classEchange__contact__PolyMAC.html#aa9a11af664aaaac0ed46b759d3fec8e2" title="Ecrit le type de l&#39;objet sur un flot de sortie.">Echange_contact_PolyMAC::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; s )<span class="keyword"> const</span>
<a name="l00044"></a>00044 <span class="keyword"></span>{
<a name="l00045"></a>00045   <span class="keywordflow">return</span> s &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00046"></a>00046 }
<a name="l00047"></a>00047 
<a name="l00048"></a><a class="code" href="classEchange__contact__PolyMAC.html#ad4821c46339c216d52c5fad21a379bfd">00048</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classEchange__contact__PolyMAC.html#ad4821c46339c216d52c5fad21a379bfd" title="Simple appel a Echange_impose_base::readOn(Entree&amp;) Lit les specifications des conditions aux limites...">Echange_contact_PolyMAC::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; s )
<a name="l00049"></a>00049 {
<a name="l00050"></a>00050   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_bord;
<a name="l00051"></a>00051   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> nom_champ;
<a name="l00052"></a>00052   s &gt;&gt; <a class="code" href="classEchange__contact__PolyMAC.html#a524f698ac1470418beb9b749b50b228b">nom_autre_pb_</a> &gt;&gt; nom_bord &gt;&gt; nom_champ &gt;&gt; <a class="code" href="classEchange__contact__PolyMAC.html#a74c264d2e1b4f026d8d11979eccf5f91">h_paroi</a>;
<a name="l00053"></a>00053   <a class="code" href="classEchange__contact__PolyMAC.html#aabea3be2087c26e145f09070f2689745">T_autre_pb</a>().<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Champ_front_calc&quot;</span>);
<a name="l00054"></a>00054   <a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>&amp; ch=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>, <a class="code" href="classEchange__contact__PolyMAC.html#aabea3be2087c26e145f09070f2689745">T_autre_pb</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00055"></a>00055   ch.<a class="code" href="classChamp__front__calc.html#a384d283ccda150286263d0539c541118" title="Cree l&#39;objet Champ_front_calc representant la trace d&#39;un champ inconnue sur une frontiere a partir de...">creer</a>(<a class="code" href="classEchange__contact__PolyMAC.html#a524f698ac1470418beb9b749b50b228b">nom_autre_pb_</a>, nom_bord, nom_champ);
<a name="l00056"></a>00056   <a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>().<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Ch_front_var_instationnaire_dep&quot;</span>);
<a name="l00057"></a>00057   <a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>()-&gt;fixer_nb_comp(1);
<a name="l00058"></a>00058   <span class="keywordflow">return</span> s ;
<a name="l00059"></a>00059 }
<a name="l00060"></a>00060 
<a name="l00061"></a><a class="code" href="classEchange__contact__PolyMAC.html#aac3b8ff09f09c86a93a9d6e531c447a1">00061</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__PolyMAC.html#aac3b8ff09f09c86a93a9d6e531c447a1" title="NE FAIT RIEN A surcharger dans les classes derivees.">Echange_contact_PolyMAC::completer</a>()
<a name="l00062"></a>00062 {
<a name="l00063"></a>00063   <a class="code" href="classEchange__contact__PolyMAC.html#aac3b8ff09f09c86a93a9d6e531c447a1" title="NE FAIT RIEN A surcharger dans les classes derivees.">Echange_externe_impose::completer</a>();
<a name="l00064"></a>00064   <a class="code" href="classEchange__contact__PolyMAC.html#aabea3be2087c26e145f09070f2689745">T_autre_pb</a>().<a class="code" href="classChamp__front.html#a8534e0d6e67e79c49f851d2de12f2be1" title="Appel a l&#39;objet sous-jacent Associe une frontiere discretisee au champ.">associer_fr_dis_base</a>(<a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>().<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00065"></a>00065   <a class="code" href="classEchange__contact__PolyMAC.html#aabea3be2087c26e145f09070f2689745">T_autre_pb</a>()-&gt;completer();
<a name="l00066"></a>00066 }
<a name="l00067"></a>00067 
<a name="l00068"></a><a class="code" href="classEchange__contact__PolyMAC.html#acf57507db75543f7b65aef457dd047fe">00068</a> <span class="keywordtype">int</span> <a class="code" href="classEchange__contact__PolyMAC.html#acf57507db75543f7b65aef457dd047fe" title="Initialisation en debut de calcul. A appeler avant tout calculer_coeffs_echange ou mettre_a_jour Cont...">Echange_contact_PolyMAC::initialiser</a>(<span class="keywordtype">double</span> <a class="code" href="classChamp__base.html#ada7350aecb7b6f20dcaee2d1106ab1a0" title="Renvoie le temps du champ.">temps</a>)
<a name="l00069"></a>00069 {
<a name="l00070"></a>00070   <span class="keywordflow">if</span> (!<a class="code" href="classEchange__impose__base.html#af91ea61919a62920c069484d76c67e6c" title="Initialisation en debut de calcul. A appeler avant tout calculer_coeffs_echange ou mettre_a_jour Cont...">Echange_externe_impose::initialiser</a>(temps))
<a name="l00071"></a>00071     <span class="keywordflow">return</span> 0;
<a name="l00072"></a>00072 
<a name="l00073"></a>00073   <a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>&amp; ch=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>, <a class="code" href="classEchange__contact__PolyMAC.html#aabea3be2087c26e145f09070f2689745">T_autre_pb</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00074"></a>00074   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp;    o_eqn  = ch.<a class="code" href="classChamp__front__calc.html#a922bf951b57569ffbc59b0ce1f7e9029" title="Renvoie l&#39;equation associee a l&#39;inconnue dont on prend la trace.">equation</a>();
<a name="l00075"></a>00075   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; fvf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>, <a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>()), o_fvf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>, ch.<a class="code" href="classChamp__front__calc.html#ac155878740179b362deaeb348b7deca8" title="Renvoie la frontiere discretisee correspondante au domaine sur lequel prend la trace.">front_dis</a>());
<a name="l00076"></a>00076   <span class="keyword">const</span> <a class="code" href="classZone__PolyMAC.html" title="class Zone_PolyMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_PolyMAC</a>&amp; o_zone = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__PolyMAC.html" title="class Zone_PolyMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_PolyMAC</a>, ch.<a class="code" href="classChamp__front__calc.html#a4d6c59ad9279762d03082f228d41ceb2" title="Renvoie la zone discretisee associee a l&#39;equation qui porte le champ inconnue dont on prend la trace...">zone_dis</a>());
<a name="l00077"></a>00077   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; o_f_e = o_zone.face_voisins(), &amp;o_e_f = o_zone.elem_faces();
<a name="l00078"></a>00078   <span class="keywordtype">int</span> i, j, k, l, e, f, N = ch.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>(), o_n_f = o_e_f.dimension(1);
<a name="l00079"></a>00079   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_racc1=<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>().<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>();
<a name="l00080"></a>00080 
<a name="l00081"></a>00081 <span class="comment">// tableaux lies a la stabilisation de Le Potier / Mahamane (cf. Op_Diff_PolyMAC_Elem)</span>
<a name="l00082"></a>00082   <a class="code" href="classEchange__contact__PolyMAC.html#ad1cf5553f2444b272fa767679299b80f">stab_</a> = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOp__Diff__PolyMAC__Elem.html" title=": class Op_Diff_PolyMAC_Elem &lt;Description of class Op_Diff_PolyMAC_Elem&gt;">Op_Diff_PolyMAC_Elem</a>, o_eqn.<a class="code" href="classEquation__base.html#a8406eaa10e61a27e9a2e1cacea253c3e">operateur</a>(0).<a class="code" href="classOperateur.html#a1f3e24efd9b54d05821e731fe4bd6027">l_op_base</a>()).<a class="code" href="classEchange__contact__PolyMAC.html#ad1cf5553f2444b272fa767679299b80f">stab_</a>;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084   <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Champ_front_fonc&quot;</span>);
<a name="l00085"></a>00085   <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>-&gt;fixer_nb_comp(N);
<a name="l00086"></a>00086   <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>.<a class="code" href="classChamp__front.html#a74caddb39fcac6ade95ec1399fac38b7" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>().<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0, N);
<a name="l00087"></a>00087   fvf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#af0a03f9d949136d1d9a10f4f891c7542" title="Cree un tableau ayant une &quot;ligne&quot; par face de cette frontiere Voir MD_Vector_tools::creer_tableau_dis...">creer_tableau_faces</a>(<a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>.<a class="code" href="classChamp__front.html#a74caddb39fcac6ade95ec1399fac38b7" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>());
<a name="l00088"></a>00088 
<a name="l00089"></a>00089   ch.<a class="code" href="classChamp__front__calc.html#a38fb2cfc353f54d1a76abdb8cfcec45f" title="Initialise le temps courant et Gpoint.">initialiser</a>(temps,<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().inconnue());
<a name="l00090"></a>00090 
<a name="l00091"></a>00091   <a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a> = <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classSchema__Euler__Implicite.html">Schema_Euler_Implicite</a>, o_eqn.<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>()) ?
<a name="l00092"></a>00092                <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classSchema__Euler__Implicite.html">Schema_Euler_Implicite</a>, o_eqn.<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>()).thermique_monolithique() : 0;
<a name="l00093"></a>00093   <span class="keywordflow">if</span> (!<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a>) <span class="keywordflow">return</span> 1; <span class="comment">//pas besoin du reste</span>
<a name="l00094"></a>00094   o_zone.init_m2(), o_zone.init_virt_ef_map();
<a name="l00095"></a>00095 
<a name="l00096"></a>00096   <span class="comment">/* src(i) = (proc, j) : source de l&#39;item i de mdv_elem_faces */</span>
<a name="l00097"></a>00097   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> src(0, 2);
<a name="l00098"></a>00098   <a class="code" href="MD__Vector__tools_8cpp.html#aff1ed2791dba1a76fdb300920147cfdf">MD_Vector_tools::creer_tableau_distribue</a>(o_zone.mdv_elems_faces, src);
<a name="l00099"></a>00099   <span class="keywordflow">for</span> (i = 0; i &lt; src.<a class="code" href="classIntTab.html#a71e9b9ddc1793094b1b3f109377952b1" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0); i++) src(i, 0) = <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>(), src(i, 1) = i;
<a name="l00100"></a>00100   src.<a class="code" href="classIntVect.html#ad12bea67621d1a0ee82b27c9a37ca4ef">echange_espace_virtuel</a>();
<a name="l00101"></a>00101 
<a name="l00102"></a>00102   <span class="comment">/* o_proc, o_item -&gt; processeur/item de l&#39;element, puis des autres faces utilisees dans W2(f,.) pour chaque face de la frontiere */</span>
<a name="l00103"></a>00103   <a class="code" href="classDoubleTrav.html" title="Tableau de travail a n entrees pour n&lt;= 4 C&#39;est un DoubleTab avec allocation dans un pool de memoire g...">DoubleTrav</a> o_proc(0, o_n_f), o_item(0, o_n_f), proc(0, o_n_f), l_item(0, o_n_f);
<a name="l00104"></a>00104   o_zone.creer_tableau_faces(o_proc), o_zone.creer_tableau_faces(o_item);
<a name="l00105"></a>00105   fvf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#af0a03f9d949136d1d9a10f4f891c7542" title="Cree un tableau ayant une &quot;ligne&quot; par face de cette frontiere Voir MD_Vector_tools::creer_tableau_dis...">creer_tableau_faces</a>(proc), fvf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#af0a03f9d949136d1d9a10f4f891c7542" title="Cree un tableau ayant une &quot;ligne&quot; par face de cette frontiere Voir MD_Vector_tools::creer_tableau_dis...">creer_tableau_faces</a>(l_item);
<a name="l00106"></a>00106   <span class="keywordtype">int</span> c_max = 1; <span class="comment">//nombre max d&#39;items/coeffs a echanger par face</span>
<a name="l00107"></a>00107   <span class="keywordflow">for</span> (i = 0; i &lt; o_fvf.nb_faces(); i++)
<a name="l00108"></a>00108     {
<a name="l00109"></a>00109       f = o_fvf.num_face(i), e = o_f_e(f, 0);
<a name="l00110"></a>00110       <span class="keywordflow">for</span> (j = 0; j &lt; o_n_f &amp;&amp; o_e_f(e, j) != f; ) j++; <span class="comment">//!&lt; f = o_e_f(e, j)</span>
<a name="l00111"></a>00111 <span class="comment"></span>      o_proc(f, 0) = src(e, 0), o_item(f, 0) = src(e, 1); <span class="comment">//element</span>
<a name="l00112"></a>00112       <span class="keywordflow">for</span> (k = o_zone.w2i(o_zone.m2d(e) + j) + 1, l = 1; k &lt; o_zone.w2i(o_zone.m2d(e) + j + 1); k++, l++) <span class="comment">//W2 hors diag</span>
<a name="l00113"></a>00113         {
<a name="l00114"></a>00114           <span class="keywordtype">int</span> idx = o_zone.nb_elem_tot() + o_e_f(e, o_zone.w2j(k));
<a name="l00115"></a>00115           o_proc(f, l) = src(idx, 0), o_item(f, l) = src(idx, 1);
<a name="l00116"></a>00116         }
<a name="l00117"></a>00117       <span class="keywordflow">for</span> (c_max = <a class="code" href="Double_8h.html#a1c45761573e6cbc97cfacac78d905016">max</a>(c_max, l); l &lt; o_n_f; l++) o_proc(f, l) = o_item(f, l) = -1; <span class="comment">//on finit avec des -1</span>
<a name="l00118"></a>00118     }
<a name="l00119"></a>00119   c_max = <a class="code" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d" title="Calcule le max de x sur tous les processeurs du groupe courant. Remarques : Cette methode doit etre a...">Process::mp_max</a>(c_max);
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 <span class="comment">// projection sur la frontiere locale</span>
<a name="l00122"></a>00122   <span class="keywordflow">if</span> (o_fvf.frontiere().que_suis_je() == <span class="stringliteral">&quot;Raccord_distant_homogene&quot;</span>)
<a name="l00123"></a>00123     o_fvf.frontiere().trace_face_distant(o_proc, proc), o_fvf.frontiere().trace_face_distant(o_item, l_item);
<a name="l00124"></a>00124   <span class="keywordflow">else</span> o_fvf.frontiere().trace_face_local(o_proc, proc), o_fvf.frontiere().trace_face_local(o_item, l_item);
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 <span class="comment">// remplissage</span>
<a name="l00127"></a>00127   <a class="code" href="classEchange__contact__PolyMAC.html#a0c557efe3836810033b3d02ef3f7f31e">item</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(fvf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>(), c_max), <a class="code" href="classEchange__contact__PolyMAC.html#a0c557efe3836810033b3d02ef3f7f31e">item</a> = -1;
<a name="l00128"></a>00128   <span class="keywordflow">for</span> (i = 0; i &lt; fvf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>(); i++) <span class="keywordflow">for</span> (j = 0; j &lt; c_max &amp;&amp; l_item(i, j) &gt;= 0; j++)
<a name="l00129"></a>00129       <span class="keywordflow">if</span> (proc(i, j) == <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>()) <a class="code" href="classEchange__contact__PolyMAC.html#a0c557efe3836810033b3d02ef3f7f31e">item</a>(i, j) = l_item(i, j);                     <span class="comment">//item local (reel)</span>
<a name="l00130"></a>00130       <span class="keywordflow">else</span>
<a name="l00131"></a>00131         {
<a name="l00132"></a>00132           <span class="keywordflow">if</span> (o_zone.virt_ef_map.count({{ (<span class="keywordtype">int</span>) proc(i, j), (<span class="keywordtype">int</span>) l_item(i, j) }}))   <span class="comment">//item local (virtuel)</span>
<a name="l00133"></a>00133           {
<a name="l00134"></a>00134             <a class="code" href="classEchange__contact__PolyMAC.html#a0c557efe3836810033b3d02ef3f7f31e">item</a>(i, j) = o_zone.virt_ef_map.at({{ (int) proc(i, j),  (int) l_item(i, j) }});
<a name="l00135"></a>00135           }
<a name="l00136"></a>00136           <span class="keywordflow">else</span> <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>(<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;Echange_contact_PolyMAC: missing item opposite face &quot;</span>) + <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(fvf.<a class="code" href="classFront__VF.html#a3402a19d7e54ed797d2b18e9a47ead1e" title="Renvoie le numero de face de la ieme face du bord.">num_face</a>(i)) + <span class="stringliteral">&quot; on &quot;</span> + fvf.<a class="code" href="classFrontiere__dis__base.html#a5a7eb46dc3af8a7d4225adc1814845d8" title="Renvoie le nom de la frontiere geometrique.">le_nom</a>() + <span class="stringliteral">&quot; ! Have you used Decouper_multi?&quot;</span>);
<a name="l00137"></a>00137         }
<a name="l00138"></a>00138 
<a name="l00139"></a>00139 <span class="comment">// coeff : 1 coeff de plus que item -&gt; celui de la face elle-meme (mis au debut)</span>
<a name="l00140"></a>00140   <a class="code" href="classEchange__contact__PolyMAC.html#a3bb25106e6aa5c059aad7e80d7fb2e3a">coeff</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0, 1 + <a class="code" href="classEchange__contact__PolyMAC.html#a0c557efe3836810033b3d02ef3f7f31e">item</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1), N), <a class="code" href="classEchange__contact__PolyMAC.html#a5664aa0ca52f056bec4859e23d7c620c">delta_int</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0, N, 2),
<a name="l00141"></a>00141                fvf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#af0a03f9d949136d1d9a10f4f891c7542" title="Cree un tableau ayant une &quot;ligne&quot; par face de cette frontiere Voir MD_Vector_tools::creer_tableau_dis...">creer_tableau_faces</a>(<a class="code" href="classEchange__contact__PolyMAC.html#a3bb25106e6aa5c059aad7e80d7fb2e3a">coeff</a>);
<a name="l00142"></a>00142 
<a name="l00143"></a>00143   <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#ad1cf5553f2444b272fa767679299b80f">stab_</a>)
<a name="l00144"></a>00144     {
<a name="l00145"></a>00145       <a class="code" href="classEchange__contact__PolyMAC.html#a7bf845792f6f9ff96fdfa79bc9e9054e">delta</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0, <a class="code" href="classEchange__contact__PolyMAC.html#a0c557efe3836810033b3d02ef3f7f31e">item</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1), N);
<a name="l00146"></a>00146       fvf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#af0a03f9d949136d1d9a10f4f891c7542" title="Cree un tableau ayant une &quot;ligne&quot; par face de cette frontiere Voir MD_Vector_tools::creer_tableau_dis...">creer_tableau_faces</a>(<a class="code" href="classEchange__contact__PolyMAC.html#a5664aa0ca52f056bec4859e23d7c620c">delta_int</a>), fvf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#af0a03f9d949136d1d9a10f4f891c7542" title="Cree un tableau ayant une &quot;ligne&quot; par face de cette frontiere Voir MD_Vector_tools::creer_tableau_dis...">creer_tableau_faces</a>(<a class="code" href="classEchange__contact__PolyMAC.html#a7bf845792f6f9ff96fdfa79bc9e9054e">delta</a>);
<a name="l00147"></a>00147     }
<a name="l00148"></a>00148   <a class="code" href="classEchange__contact__PolyMAC.html#a8afd82793786406d467b11093c8de310">coeffs_a_jour_</a> = 0, <a class="code" href="classEchange__contact__PolyMAC.html#a311070888096ce0590984203b086242e">delta_a_jour_</a> = (<a class="code" href="classEchange__contact__PolyMAC.html#ad1cf5553f2444b272fa767679299b80f">stab_</a> ? 1 : 0);
<a name="l00149"></a>00149   <span class="keywordflow">return</span> 1;
<a name="l00150"></a>00150 }
<a name="l00151"></a>00151 
<a name="l00152"></a><a class="code" href="classEchange__contact__PolyMAC.html#a63379adf79d112aba1982fa64298826a">00152</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__PolyMAC.html#a63379adf79d112aba1982fa64298826a">Echange_contact_PolyMAC::update_coeffs</a>()
<a name="l00153"></a>00153 {
<a name="l00154"></a>00154   <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#a8afd82793786406d467b11093c8de310">coeffs_a_jour_</a>) <span class="keywordflow">return</span>;
<a name="l00155"></a>00155 <span class="comment">// objets de l&#39;autre cote : equation, zone, inconnue (prefix o_), frontiere (pour faire trace_face_distant)</span>
<a name="l00156"></a>00156   <a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>&amp; ch=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>, <a class="code" href="classEchange__contact__PolyMAC.html#aabea3be2087c26e145f09070f2689745">T_autre_pb</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00157"></a>00157   <span class="keyword">const</span> <a class="code" href="classZone__PolyMAC.html" title="class Zone_PolyMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_PolyMAC</a>&amp; o_zone = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__PolyMAC.html" title="class Zone_PolyMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_PolyMAC</a>, ch.<a class="code" href="classChamp__front__calc.html#a4d6c59ad9279762d03082f228d41ceb2" title="Renvoie la zone discretisee associee a l&#39;equation qui porte le champ inconnue dont on prend la trace...">zone_dis</a>());
<a name="l00158"></a>00158   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp;    o_eqn  = ch.<a class="code" href="classChamp__front__calc.html#a922bf951b57569ffbc59b0ce1f7e9029" title="Renvoie l&#39;equation associee a l&#39;inconnue dont on prend la trace.">equation</a>();
<a name="l00159"></a>00159   <span class="keyword">const</span> <a class="code" href="classOp__Diff__PolyMAC__Elem.html" title=": class Op_Diff_PolyMAC_Elem &lt;Description of class Op_Diff_PolyMAC_Elem&gt;">Op_Diff_PolyMAC_Elem</a>&amp; o_op_diff = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOp__Diff__PolyMAC__Elem.html" title=": class Op_Diff_PolyMAC_Elem &lt;Description of class Op_Diff_PolyMAC_Elem&gt;">Op_Diff_PolyMAC_Elem</a>, o_eqn.operateur(0).l_op_base());
<a name="l00160"></a>00160   <span class="keyword">const</span> <a class="code" href="classChamp__P0__PolyMAC.html" title=": class Champ_P0_PolyMAC Champ correspondant a une inconnue scalaire (type temperature ou pression) D...">Champ_P0_PolyMAC</a>&amp; o_inc  = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__P0__PolyMAC.html" title=": class Champ_P0_PolyMAC Champ correspondant a une inconnue scalaire (type temperature ou pression) D...">Champ_P0_PolyMAC</a>, ch.<a class="code" href="classChamp__front__calc.html#afd16114ba39abec4444878b822c88c54" title="Renvoie le champ inconnue associe.">inconnue</a>());
<a name="l00161"></a>00161   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp;         o_fvf  = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>, ch.<a class="code" href="classChamp__front__calc.html#ac155878740179b362deaeb348b7deca8" title="Renvoie la frontiere discretisee correspondante au domaine sur lequel prend la trace.">front_dis</a>());
<a name="l00162"></a>00162   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; e_f = o_zone.<a class="code" href="classZone__VF.html#a067e462dcd3ab92b0f6d945b19e4eb37" title="renvoie le numero de le ieme face de la maille num_elem la facon dont ces faces sont numerotees est l...">elem_faces</a>();
<a name="l00163"></a>00163   <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; fs = o_zone.<a class="code" href="classZone__VF.html#a40c3382b189a4fc508cf1c3e37b04b21">face_surfaces</a>(), &amp;ve = o_zone.<a class="code" href="classZone__VF.html#aea771c835e561469d2d21dbca5fac1cf" title="renvoie le volume de la maille i.">volumes</a>();
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="comment">// tableaux &quot;nu_faces&quot; utilises par les operateurs de diffusion de chaque cote</span>
<a name="l00166"></a>00166   o_op_diff.<a class="code" href="classOp__Diff__PolyMAC__base.html#a7f511254c8d403a733cbada1729400a7">update_nu</a>(), o_op_diff.<a class="code" href="classOp__Diff__PolyMAC__Elem.html#ad372bbdb63290872d2767d93b618189a">update_delta_int</a>();
<a name="l00167"></a>00167   <span class="keywordtype">int</span> ne_tot = o_zone.<a class="code" href="classZone__dis__base.html#a4d6aa445f152aa6dc54d66ea7a071147">nb_elem_tot</a>(), N = ch.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00168"></a>00168 
<a name="l00169"></a>00169 <span class="comment">// tableaux aux faces de l&#39;autre cote, a transmettre par o_fr.trace_face_{distant,local} : on ne les remplit que sur les faces de o_fr</span>
<a name="l00170"></a>00170   o_zone.<a class="code" href="classZone__PolyMAC.html#ace03dac8b89bce9f38aa39cd951c59df">init_m2</a>();
<a name="l00171"></a>00171   <a class="code" href="classDoubleTrav.html" title="Tableau de travail a n entrees pour n&lt;= 4 C&#39;est un DoubleTab avec allocation dans un pool de memoire g...">DoubleTrav</a> o_Text, o_Himp, o_coeff, o_delta_int, nu_ef(e_f.dimension(1), N);
<a name="l00172"></a>00172   <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a>) o_coeff.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(o_zone.<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>(), 1 + <a class="code" href="classEchange__contact__PolyMAC.html#a0c557efe3836810033b3d02ef3f7f31e">item</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1), N), o_delta_int.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(o_zone.<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>(), N, 2);
<a name="l00173"></a>00173   <span class="keywordflow">else</span> o_Text.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(o_zone.<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>(), N), o_Himp.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(o_zone.<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>(), N);
<a name="l00174"></a>00174   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; o_fvf.nb_faces(); i++)
<a name="l00175"></a>00175     {
<a name="l00176"></a>00176       <span class="keywordtype">int</span> f = o_fvf.num_face(i), e = o_zone.<a class="code" href="classZone__VF.html#a49d4322f5585a8fa95748ca785b70702" title="renvoie l&#39;element voisin de numface dans la direction i. i=0 : dans le sens oppose de l&#39;axe orthogona...">face_voisins</a>(f, 0), fb, j, k, n, i_f = 0, idx;
<a name="l00177"></a>00177       <span class="keywordflow">for</span> (j = 0; j &lt; e_f.dimension(1) &amp;&amp; (fb = e_f(e, j)) &gt;= 0; j++) <span class="keywordflow">if</span> (fb == f) i_f = j; <span class="comment">//numero de la face f dans l&#39;element e</span>
<a name="l00178"></a>00178       o_op_diff.<a class="code" href="classOp__Diff__PolyMAC__base.html#adc7056e820e302a8a18bee37f77cf6de">remplir_nu_ef</a>(e, nu_ef);
<a name="l00179"></a>00179 
<a name="l00180"></a>00180       <span class="comment">/* construction du flux de chaleur sortant, en mettant la partie en T_f dans H_imp et le reste dans T_ext */</span>
<a name="l00181"></a>00181       <span class="keywordflow">for</span> (j = o_zone.<a class="code" href="classZone__PolyMAC.html#ad76e9d4739f1092d19cf1985c632524d">w2i</a>(o_zone.<a class="code" href="classZone__PolyMAC.html#a672f82b0a35bb4eb3dbc2b0af8e00cbc">m2d</a>(e) + i_f), idx = 0; j &lt; o_zone.<a class="code" href="classZone__PolyMAC.html#ad76e9d4739f1092d19cf1985c632524d">w2i</a>(o_zone.<a class="code" href="classZone__PolyMAC.html#a672f82b0a35bb4eb3dbc2b0af8e00cbc">m2d</a>(e) + i_f + 1); j++, idx++)
<a name="l00182"></a>00182         <span class="keywordflow">for</span> (fb = e_f(e, o_zone.<a class="code" href="classZone__PolyMAC.html#aa0cebde1e4683a6c55b944f821d5c097">w2j</a>(j)), n = 0; n &lt; N; n++)
<a name="l00183"></a>00183           {
<a name="l00184"></a>00184             <span class="keywordtype">double</span> fac = fs(fb) / ve(e) * o_zone.<a class="code" href="classZone__PolyMAC.html#a0806de38360333cf9ea39a791f20906e" title="avec le coeff diagonal en premier (facilite Echange_contact_PolyMAC)">w2c</a>(j) * nu_ef(o_zone.<a class="code" href="classZone__PolyMAC.html#aa0cebde1e4683a6c55b944f821d5c097">w2j</a>(j), n);
<a name="l00185"></a>00185             <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a>)
<a name="l00186"></a>00186               o_coeff(f, idx ? idx + 1 : 0, n) += fs(f) * fac, o_coeff(f, 1, n) -= fs(f) * fac; <span class="comment">//cote face, cote element</span>
<a name="l00187"></a>00187             <span class="keywordflow">else</span>
<a name="l00188"></a>00188               {
<a name="l00189"></a>00189                 <span class="keywordflow">if</span> (f == fb) o_Himp(f, n) += fac;
<a name="l00190"></a>00190                 <span class="keywordflow">else</span> o_Text(f, n) -= fac * o_inc.valeurs()(ne_tot + fb, n);
<a name="l00191"></a>00191                 o_Text(f, n) += fac * o_inc.valeurs()(e, n);
<a name="l00192"></a>00192               }
<a name="l00193"></a>00193           }
<a name="l00194"></a>00194       <span class="keywordflow">for</span> (n = 0; <a class="code" href="classEchange__contact__PolyMAC.html#ad1cf5553f2444b272fa767679299b80f">stab_</a> &amp;&amp; <a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a> &amp;&amp; n &lt; N; n++) <span class="keywordflow">for</span> (k = 0; k &lt; 2; k++) o_delta_int(f, n, k) = o_op_diff.<a class="code" href="classOp__Diff__PolyMAC__Elem.html#a0319b85bf8cfcb6757f3fa15855faa4b">delta_f_int</a>(f, n, k);
<a name="l00195"></a>00195       <span class="keywordflow">for</span> (n = 0; !<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a> &amp;&amp; n &lt; N; n++) if (o_Himp(f, n) &gt; 1e-10) o_Text(f, n) /= o_Himp(f, n); <span class="comment">//passage au vrai T_ext</span>
<a name="l00196"></a>00196       <span class="keywordflow">for</span> (n = 0; <a class="code" href="classEchange__contact__PolyMAC.html#a74c264d2e1b4f026d8d11979eccf5f91">h_paroi</a> &lt; 1e9 &amp;&amp; n &lt; N; n++) <span class="comment">//prise en compte de la resistance de la paroi</span>
<a name="l00197"></a>00197         {
<a name="l00198"></a>00198           <span class="keywordtype">double</span> fac = <a class="code" href="classEchange__contact__PolyMAC.html#a74c264d2e1b4f026d8d11979eccf5f91">h_paroi</a> / (<a class="code" href="classEchange__contact__PolyMAC.html#a74c264d2e1b4f026d8d11979eccf5f91">h_paroi</a> + (<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a> ? o_coeff(f, 0, n) / fs(f) : o_Himp(f, n)));
<a name="l00199"></a>00199           <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a>)
<a name="l00200"></a>00200             {
<a name="l00201"></a>00201               <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#ad1cf5553f2444b272fa767679299b80f">stab_</a>) o_delta_int(f, n, 0) *= fac;
<a name="l00202"></a>00202               <span class="keywordflow">for</span> (j = 0; j &lt; o_coeff.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1); j++) o_coeff(f, j, n) *= fac;
<a name="l00203"></a>00203             }
<a name="l00204"></a>00204           <span class="keywordflow">else</span> o_Himp(f, n) *= fac;
<a name="l00205"></a>00205         }
<a name="l00206"></a>00206     }
<a name="l00207"></a>00207 
<a name="l00208"></a>00208 <span class="comment">// transmission : soit par Raccord_distant_homogene, soit copie simple</span>
<a name="l00209"></a>00209   <span class="keywordflow">if</span> (o_fvf.frontiere().que_suis_je() == <span class="stringliteral">&quot;Raccord_distant_homogene&quot;</span>)
<a name="l00210"></a>00210     {
<a name="l00211"></a>00211       <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a>) o_fvf.frontiere().trace_face_distant(o_coeff, <a class="code" href="classEchange__contact__PolyMAC.html#a3bb25106e6aa5c059aad7e80d7fb2e3a">coeff</a>);
<a name="l00212"></a>00212       <span class="keywordflow">else</span> o_fvf.frontiere().trace_face_distant(o_Text, <a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>()-&gt;<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>()), o_fvf.frontiere().trace_face_distant(o_Himp, <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>-&gt;<a class="code" href="classChamp__front.html#a74caddb39fcac6ade95ec1399fac38b7" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>());
<a name="l00213"></a>00213       <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a> &amp;&amp; <a class="code" href="classEchange__contact__PolyMAC.html#ad1cf5553f2444b272fa767679299b80f">stab_</a>) o_fvf.frontiere().trace_face_distant(o_delta_int, <a class="code" href="classEchange__contact__PolyMAC.html#a5664aa0ca52f056bec4859e23d7c620c">delta_int</a>);
<a name="l00214"></a>00214     }
<a name="l00215"></a>00215   <span class="keywordflow">else</span>
<a name="l00216"></a>00216     {
<a name="l00217"></a>00217       <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a>) o_fvf.frontiere().trace_face_local(o_coeff, <a class="code" href="classEchange__contact__PolyMAC.html#a3bb25106e6aa5c059aad7e80d7fb2e3a">coeff</a>);
<a name="l00218"></a>00218       <span class="keywordflow">else</span> o_fvf.frontiere().trace_face_local(o_Text, <a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>()-&gt;<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>()), o_fvf.frontiere().trace_face_local(o_Himp, <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>-&gt;<a class="code" href="classChamp__front.html#a74caddb39fcac6ade95ec1399fac38b7" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>());
<a name="l00219"></a>00219       <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a> &amp;&amp; <a class="code" href="classEchange__contact__PolyMAC.html#ad1cf5553f2444b272fa767679299b80f">stab_</a>) o_fvf.frontiere().trace_face_local(o_delta_int, <a class="code" href="classEchange__contact__PolyMAC.html#a5664aa0ca52f056bec4859e23d7c620c">delta_int</a>);
<a name="l00220"></a>00220     }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222   <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a>) <a class="code" href="classEchange__contact__PolyMAC.html#a3bb25106e6aa5c059aad7e80d7fb2e3a">coeff</a>.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00223"></a>00223   <span class="keywordflow">else</span> <a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>()-&gt;<a class="code" href="classChamp__front.html#a74caddb39fcac6ade95ec1399fac38b7" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>().<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>(), <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>-&gt;<a class="code" href="classChamp__front.html#a74caddb39fcac6ade95ec1399fac38b7" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>().<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00224"></a>00224   <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a> &amp;&amp; <a class="code" href="classEchange__contact__PolyMAC.html#ad1cf5553f2444b272fa767679299b80f">stab_</a>) <a class="code" href="classEchange__contact__PolyMAC.html#a5664aa0ca52f056bec4859e23d7c620c">delta_int</a>.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00225"></a>00225   <a class="code" href="classEchange__contact__PolyMAC.html#a8afd82793786406d467b11093c8de310">coeffs_a_jour_</a> = 1;
<a name="l00226"></a>00226 }
<a name="l00227"></a>00227 
<a name="l00228"></a><a class="code" href="classEchange__contact__PolyMAC.html#ae9c1402d7eb676d14f671534437d8ef8">00228</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__PolyMAC.html#ae9c1402d7eb676d14f671534437d8ef8">Echange_contact_PolyMAC::update_delta</a>()<span class="keyword"> const</span>
<a name="l00229"></a>00229 <span class="keyword"></span>{
<a name="l00230"></a>00230   <span class="keywordflow">if</span> (!<a class="code" href="classEchange__contact__PolyMAC.html#ae9311d6e74f9f7a49385ad57b56f9550">monolithic</a> || <a class="code" href="classEchange__contact__PolyMAC.html#a311070888096ce0590984203b086242e">delta_a_jour_</a>) <span class="keywordflow">return</span>; <span class="comment">//deja fait</span>
<a name="l00231"></a>00231   <span class="keyword">const</span> <a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>&amp; ch=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__front__calc.html" title="classe Champ_front_calc Classe derivee de Champ_front_var qui represente les champs a la frontiere ob...">Champ_front_calc</a>, <a class="code" href="classEchange__contact__PolyMAC.html#aabea3be2087c26e145f09070f2689745">T_autre_pb</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00232"></a>00232   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; o_fvf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>, ch.<a class="code" href="classChamp__front__calc.html#ac155878740179b362deaeb348b7deca8" title="Renvoie la frontiere discretisee correspondante au domaine sur lequel prend la trace.">front_dis</a>());
<a name="l00233"></a>00233   <span class="keyword">const</span> <a class="code" href="classZone__PolyMAC.html" title="class Zone_PolyMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_PolyMAC</a>&amp; o_zone = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__PolyMAC.html" title="class Zone_PolyMAC Classe instanciable qui derive de Zone_VF. Cette classe contient les informations ...">Zone_PolyMAC</a>, ch.<a class="code" href="classChamp__front__calc.html#a4d6c59ad9279762d03082f228d41ceb2" title="Renvoie la zone discretisee associee a l&#39;equation qui porte le champ inconnue dont on prend la trace...">zone_dis</a>());
<a name="l00234"></a>00234   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp;    o_eqn  = ch.<a class="code" href="classChamp__front__calc.html#a922bf951b57569ffbc59b0ce1f7e9029" title="Renvoie l&#39;equation associee a l&#39;inconnue dont on prend la trace.">equation</a>();
<a name="l00235"></a>00235   <span class="keyword">const</span> <a class="code" href="classOp__Diff__PolyMAC__Elem.html" title=": class Op_Diff_PolyMAC_Elem &lt;Description of class Op_Diff_PolyMAC_Elem&gt;">Op_Diff_PolyMAC_Elem</a>&amp; o_op_diff = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOp__Diff__PolyMAC__Elem.html" title=": class Op_Diff_PolyMAC_Elem &lt;Description of class Op_Diff_PolyMAC_Elem&gt;">Op_Diff_PolyMAC_Elem</a>, o_eqn.operateur(0).l_op_base());
<a name="l00236"></a>00236   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; e_f = o_zone.elem_faces();
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 <span class="comment">// remplissage</span>
<a name="l00239"></a>00239   o_op_diff.<a class="code" href="classOp__Diff__PolyMAC__Elem.html#abe5443096407a69a1cb00bccc66f2dae">update_delta</a>();
<a name="l00240"></a>00240   <span class="keywordtype">int</span> i, j, n, N = ch.<a class="code" href="classField__base.html#a16e3abfebaaf9b7ef83acb936c872a91" title="Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00241"></a>00241   <a class="code" href="classDoubleTrav.html" title="Tableau de travail a n entrees pour n&lt;= 4 C&#39;est un DoubleTab avec allocation dans un pool de memoire g...">DoubleTrav</a> o_delta(o_zone.nb_faces(), <a class="code" href="classEchange__contact__PolyMAC.html#a0c557efe3836810033b3d02ef3f7f31e">item</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1), N);
<a name="l00242"></a>00242   <span class="keywordflow">for</span> (i = 0; i &lt; o_fvf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>(); i++)
<a name="l00243"></a>00243     {
<a name="l00244"></a>00244       <span class="keywordtype">int</span> f = o_fvf.<a class="code" href="classFront__VF.html#a3402a19d7e54ed797d2b18e9a47ead1e" title="Renvoie le numero de face de la ieme face du bord.">num_face</a>(i), fb, e = o_zone.face_voisins(f, 0), i_f = 0, idx;
<a name="l00245"></a>00245       <span class="keywordflow">for</span> (j = 0; j &lt; e_f.dimension(1) &amp;&amp; (fb = e_f(e, j)) &gt;= 0; j++) <span class="keywordflow">if</span> (fb == f) i_f = j; <span class="comment">//numero de la face f dans l&#39;element e</span>
<a name="l00246"></a>00246       <span class="keywordflow">for</span> (n = 0; n &lt; N; n++) o_delta(f, 0, n) = o_op_diff.<a class="code" href="classOp__Diff__PolyMAC__Elem.html#afcdd23f0439277c5fb7b75a6bf0635e7">delta_e</a>(e, n);
<a name="l00247"></a>00247       <span class="keywordflow">for</span> (j = o_zone.w2i(o_zone.m2d(e) + i_f) + 1, idx = 1; j &lt; o_zone.w2i(o_zone.m2d(e) + i_f + 1); j++, idx++) <span class="comment">//on saute le premier coeff (diagonale)</span>
<a name="l00248"></a>00248         <span class="keywordflow">for</span> (n = 0; n &lt; N; n++) o_delta(f, idx, n) = o_op_diff.<a class="code" href="classOp__Diff__PolyMAC__Elem.html#ad309f41e6d147ed9a0da710a89fc4925">delta_f</a>(e_f(e, o_zone.w2j(j)), n);
<a name="l00249"></a>00249     }
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 <span class="comment">// transmission</span>
<a name="l00252"></a>00252   <span class="keywordflow">if</span> (o_fvf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() == <span class="stringliteral">&quot;Raccord_distant_homogene&quot;</span>) o_fvf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#a2993ce1565d3eeda6e2bb9e4aaeca175">trace_face_distant</a>(o_delta, <a class="code" href="classEchange__contact__PolyMAC.html#a7bf845792f6f9ff96fdfa79bc9e9054e">delta</a>);
<a name="l00253"></a>00253   <span class="keywordflow">else</span> o_fvf.<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#a974cbdfc26742edbd79830f4768383ba" title="Renvoie la trace sur la frontiere du tableau aux faces y.">trace_face_local</a>(o_delta, <a class="code" href="classEchange__contact__PolyMAC.html#a7bf845792f6f9ff96fdfa79bc9e9054e">delta</a>);
<a name="l00254"></a>00254   <a class="code" href="classEchange__contact__PolyMAC.html#a7bf845792f6f9ff96fdfa79bc9e9054e">delta</a>.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00255"></a>00255   <a class="code" href="classEchange__contact__PolyMAC.html#a311070888096ce0590984203b086242e">delta_a_jour_</a> = 1;
<a name="l00256"></a>00256 }
<a name="l00257"></a>00257 
<a name="l00258"></a><a class="code" href="classEchange__contact__PolyMAC.html#a56d3acefe49b9e2d809a1d10cfbd23a8">00258</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__PolyMAC.html#a56d3acefe49b9e2d809a1d10cfbd23a8" title="Effectue une mise a jour en temps des conditions aux limites. Lors du premier appel des initialisatio...">Echange_contact_PolyMAC::mettre_a_jour</a>(<span class="keywordtype">double</span> <a class="code" href="classChamp__base.html#ada7350aecb7b6f20dcaee2d1106ab1a0" title="Renvoie le temps du champ.">temps</a>)
<a name="l00259"></a>00259 {
<a name="l00260"></a>00260   <a class="code" href="classEchange__contact__PolyMAC.html#a56d3acefe49b9e2d809a1d10cfbd23a8" title="Effectue une mise a jour en temps des conditions aux limites. Lors du premier appel des initialisatio...">Echange_externe_impose::mettre_a_jour</a>(temps);
<a name="l00261"></a>00261   <a class="code" href="classEchange__contact__PolyMAC.html#a8afd82793786406d467b11093c8de310">coeffs_a_jour_</a> = 0, <a class="code" href="classEchange__contact__PolyMAC.html#a311070888096ce0590984203b086242e">delta_a_jour_</a> = (<a class="code" href="classEchange__contact__PolyMAC.html#ad1cf5553f2444b272fa767679299b80f">stab_</a> ? 0 : 1);
<a name="l00262"></a>00262 }
<a name="l00263"></a>00263 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:29 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
