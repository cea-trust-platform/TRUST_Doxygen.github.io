<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TRUST: src/Kernel/Framework/Format_Post_Lata.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TRUST<span id="projectnumber">&#160;1.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_4ebb9cf478835123b919db691d6366a3.html">Kernel</a></li><li class="navelem"><a class="el" href="dir_0a215d9ccf7924e0d75b691c360a5032.html">Framework</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">Format_Post_Lata.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="Format__Post__Lata_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/****************************************************************************</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">* Copyright (c) 2022, CEA</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">* All rights reserved.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">*</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">*</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment">*</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">*****************************************************************************/</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;<a class="code" href="Format__Post__Lata_8h.html">Format_Post_Lata.h</a>&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;<a class="code" href="EcrFicPartageBin_8h.html">EcrFicPartageBin.h</a>&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;<a class="code" href="EcrFicPartageMPIIO_8h.html">EcrFicPartageMPIIO.h</a>&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;<a class="code" href="Fichier__Lata_8h.html">Fichier_Lata.h</a>&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="Param_8h.html">Param.h</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;<a class="code" href="communications_8h.html">communications.h</a>&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;<a class="code" href="EFichier_8h.html">EFichier.h</a>&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;string&gt;</span> <span class="comment">//!&lt; Necessaire avec xlC pour std::getline</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span> </div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a54da0d42868544ff1a684b6c98af50e6">   25</a></span><a class="code hl_define" href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a>(<a class="code hl_class" href="classFormat__Post__Lata.html">Format_Post_Lata</a>,<span class="stringliteral">&quot;Format_Post_Lata_V2&quot;</span>,<a class="code hl_class" href="classFormat__Post__base.html">Format_Post_base</a>);</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span> </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">   27</a></span><span class="preprocessor">#define _LATA_INT_TYPE_ int</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="comment">//</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="comment">//</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="comment">//</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="comment">//</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span><span class="comment">//</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="comment">//</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="comment">//</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="comment">//</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="comment">//</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="comment">//</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="comment">//</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="comment">//</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="comment">//</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><span class="comment">//</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="comment">//</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="comment">//</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="comment">//</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment">//</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="comment">//</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="comment">//</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><span class="comment">//</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><span class="comment">//! Construit un fichier de type EcrFicPartage(Bin) ou EcrFicPrive(Bin),&lt;br&gt;binaire ou pas selon le parametre &quot;format&quot;.&lt;br&gt;Si parallel==MULTIPLE_FILES, le fichier est de type EcrFicPrive(Bin).&lt;br&gt;Dans ce cas, chaque processeur ouvre un fichier different, dont&lt;br&gt;le nom est &quot;basename_XXXXXextension&quot;, ou XXXXX est egal a Process::me().&lt;br&gt;Tous les processeurs renverront is_master() == 1.&lt;br&gt;Si parallel==SINGLE_FILE est non nul, le fichier est de type EcrFicPartage(Bin).&lt;br&gt;Seul le processeur maitre ouvre le fichier, le nom du fichier est&lt;br&gt;&quot;basenameextension&quot;.&lt;br&gt;is_master() renverra 1 sur le maitre, 0 sur les autres processeurs.&lt;br&gt;Parametre:     basename&lt;br&gt;Signification: debut du nom du fichier&lt;br&gt;Parametre:     extension&lt;br&gt;Signification: fin du nom du fichier&lt;br&gt;Parametre:     mode_append&lt;br&gt;Signification: Si mode_append==ERASE, on ouvre en mode ecriture,&lt;br&gt;si mode_append==APPEND, on ouvre en mode append.&lt;br&gt;Parametre:     format&lt;br&gt;Signification: Determine si on ouvre en binaire ou pas.&lt;br&gt;(valeurs possibles: Format_Post_Lata::ASCII ou Format_Post_Lata::BINAIRE)&lt;br&gt;Parametre:     parallel&lt;br&gt;Signification: fichier unique partage ou plusieurs fichiers prives...</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="classFichier__Lata.html#a4e94dc02f52379815aa8bd786c9f3c16">   52</a></span><span class="comment"></span><a class="code hl_function" href="classFichier__Lata.html#a4e94dc02f52379815aa8bd786c9f3c16">Fichier_Lata::Fichier_Lata</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * basename, <span class="keyword">const</span> <span class="keywordtype">char</span> * extension,</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>                           <a class="code hl_enumeration" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48">Mode</a> mode_append,</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>                           <a class="code hl_enumeration" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53c">Format_Post_Lata::Format</a> format,</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>                           <a class="code hl_enumeration" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94">Format_Post_Lata::Options_Para</a> parallel) :</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>  filename_(<span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>  fichier_(0),</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>  is_parallel_(0)</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>{</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>  <span class="keywordtype">char</span> s[20] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>  <span class="keywordflow">switch</span>(parallel)</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    {</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a23ea36f7593e2b91825cd82fa150b5e4">Format_Post_Lata::SINGLE_FILE_MPIIO</a>:</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043">Format_Post_Lata::SINGLE_FILE</a>:</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>      {</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>        <a class="code hl_variable" href="classFichier__Lata.html#af56e687eb76326f30b3a31eae524ceb3">is_parallel_</a> = 1;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>        <a class="code hl_variable" href="classFichier__Lata.html#a37bcfe5d3baae24dc288388268a9c7df">filename_</a> = basename;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>        <a class="code hl_variable" href="classFichier__Lata.html#a37bcfe5d3baae24dc288388268a9c7df">filename_</a> += extension;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="comment">// Pour un calcul sequentiel, on ouvre un fichier SFichier</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="comment">// pour ne pas bufferiser en memoire</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>        <span class="keywordflow">if</span>  (<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>() == 1)</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>          <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a> = <span class="keyword">new</span> <a class="code hl_class" href="classSFichier.html">SFichier</a>;</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>          {</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>            <span class="keywordflow">if</span> (format == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53ca2d3fa963128b6785fca8a03841962e16">Format_Post_Lata::BINAIRE</a> &amp;&amp; parallel == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a23ea36f7593e2b91825cd82fa150b5e4">Format_Post_Lata::SINGLE_FILE_MPIIO</a>)</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>              <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a> = <span class="keyword">new</span> <a class="code hl_class" href="classEcrFicPartageMPIIO.html">EcrFicPartageMPIIO</a>;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>              <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a> = <span class="keyword">new</span> <a class="code hl_class" href="classEcrFicPartage.html">EcrFicPartage</a>;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>          }</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>      }</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94aef0c737cbac106d4baaade24e94e5028">Format_Post_Lata::MULTIPLE_FILES</a>:</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>      {</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>        <a class="code hl_variable" href="classFichier__Lata.html#af56e687eb76326f30b3a31eae524ceb3">is_parallel_</a> = 0;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>        <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a> = <span class="keyword">new</span> <a class="code hl_class" href="classSFichier.html">SFichier</a>;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> moi = <a class="code hl_function" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a>();</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>        sprintf(s, <span class="stringliteral">&quot;_%05d&quot;</span>, (<a class="code hl_typedef" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a>)moi);</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>      }</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Fichier_Lata::Fichier_Lata: parallel option not supported &quot;</span> &lt;&lt; (int)parallel &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    }</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>  <a class="code hl_variable" href="classFichier__Lata.html#a37bcfe5d3baae24dc288388268a9c7df">filename_</a> = basename;</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>  <a class="code hl_variable" href="classFichier__Lata.html#a37bcfe5d3baae24dc288388268a9c7df">filename_</a> += s;</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>  <a class="code hl_variable" href="classFichier__Lata.html#a37bcfe5d3baae24dc288388268a9c7df">filename_</a> += extension;</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>  <span class="keywordflow">switch</span>(format)</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    {</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53ca64e753afccaf02de631ef2ad18733aab">Format_Post_Lata::ASCII</a>:</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>      <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>-&gt;<a class="code hl_function" href="classSortie.html#a1b830c79a55971e0ae7281d13e06cb44">set_bin</a>(0);</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53ca2d3fa963128b6785fca8a03841962e16">Format_Post_Lata::BINAIRE</a>:</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>      <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>-&gt;<a class="code hl_function" href="classSortie.html#a1b830c79a55971e0ae7281d13e06cb44">set_bin</a>(1);</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Fichier_Lata::Fichier_Lata: format not supported &quot;</span> &lt;&lt; (int)format &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    }</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>  <a class="code hl_define" href="arch_8h.html#a58aa6cef3a754a92479a2fb744a5f538">IOS_OPEN_MODE</a> mode = ios::out;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>  <span class="keywordflow">switch</span>(mode_append)</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>    {</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48aafea5adb55ed5ecc0b957884c5e754c1">ERASE</a>:</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>      mode = ios::out;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48ad9db95f97d41cea9e4338af8876bd408">APPEND</a>:</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>      mode = ios::out | ios::app;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Fichier_Lata::Fichier_Lata: open mode not supported &quot;</span> &lt;&lt; (int)mode_append &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    }</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span><span class="comment">// if (Process::je_suis_maitre() || parallel==Format_Post_Lata::MULTIPLE_FILES)</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>  {</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="keywordtype">int</span> ok = <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>-&gt;<a class="code hl_function" href="classSortie__Fichier__base.html#a7e75e18ed580cd4d45912ec202caa2b2">ouvrir</a>(<a class="code hl_variable" href="classFichier__Lata.html#a37bcfe5d3baae24dc288388268a9c7df">filename_</a>, mode);</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>      {</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Fichier_Lata::Fichier_Lata\n&quot;</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>             &lt;&lt; <span class="stringliteral">&quot; Error while opening file : &quot;</span> &lt;&lt; <a class="code hl_variable" href="classFichier__Lata.html#a37bcfe5d3baae24dc288388268a9c7df">filename_</a></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>             &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>      }</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>-&gt;<a class="code hl_function" href="classSortie__Fichier__base.html#a4c2ba736a269d1b4c1099262d385fac3">setf</a>(ios::scientific);</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>    <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>-&gt;<a class="code hl_function" href="classSortie__Fichier__base.html#a8341672e95dd856b2c30d7b7d2f649d0">precision</a>(8);</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>  }</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>}</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="classFichier__Lata.html#a50ff28fb3abad505c0cca8fbf1836294">  141</a></span><a class="code hl_function" href="classFichier__Lata.html#a50ff28fb3abad505c0cca8fbf1836294">Fichier_Lata::~Fichier_Lata</a>()</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>{</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>)</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    {</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>      <span class="keyword">delete</span> <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>;</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>      <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a> = 0;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    }</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>}</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span> </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno"><a class="line" href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">  150</a></span><a class="code hl_class" href="classSFichier.html">SFichier</a>&amp; <a class="code hl_function" href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">Fichier_Lata::get_SFichier</a>()</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>{</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>  assert(<a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>);</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>  <span class="keywordflow">return</span> *<a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>}</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span><span class="comment">//! Renvoie le nom du fichier avec le path</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno"><a class="line" href="classFichier__Lata.html#adfb113d0fc8e9447c00e5072f702c0ca">  158</a></span><span class="comment"></span><span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; <a class="code hl_function" href="classFichier__Lata.html#adfb113d0fc8e9447c00e5072f702c0ca">Fichier_Lata::get_filename</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classFichier__Lata.html#a37bcfe5d3baae24dc288388268a9c7df">filename_</a>;</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>}</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span> </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="comment">//</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="comment">//</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="comment">//! Si le fichier est de type partage, renvoie 1 si me() est egal au master&lt;br&gt;du groupe et 0 sinon,&lt;br&gt;Si le fichier est prive, renvoie 1 sur tous les processeurs.</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">  167</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">Fichier_Lata::is_master</a>()<span class="keyword"> const</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>  <span class="keywordtype">int</span> resu = 0;</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classFichier__Lata.html#af56e687eb76326f30b3a31eae524ceb3">is_parallel_</a> == 0)</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>    {</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="comment">// Execution sequentielle, fichiers prives chaque processeur est maitre</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>      resu = 1;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>    }</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    {</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="comment">// Execution parallele : un seul maitre</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>      <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        resu = 1;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    }</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>  <span class="keywordflow">return</span> resu;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>}</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="comment">//</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="comment">//! Si le fichier est de type partage, appelle la methode syncfile(),&lt;br&gt;sinon ne fait rien.</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno"><a class="line" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">  187</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">Fichier_Lata::syncfile</a>()</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>{</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classFichier__Lata.html#af56e687eb76326f30b3a31eae524ceb3">is_parallel_</a> &amp;&amp; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>() &gt; 1)</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>-&gt;<a class="code hl_function" href="classSortie.html#ae98acb70e7f3886cab47a51f2de6a976">syncfile</a>();</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>}</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno"><a class="line" href="classFichier__Lata__maitre.html#ad21ee814c656a3aed1304c3450cf323d">  193</a></span><a class="code hl_function" href="classFichier__Lata__maitre.html#ad21ee814c656a3aed1304c3450cf323d">Fichier_Lata_maitre::Fichier_Lata_maitre</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * basename,</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>                                         <span class="keyword">const</span> <span class="keywordtype">char</span> * extension,</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>                                         <a class="code hl_enumeration" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48">Mode</a> mode_append,</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>                                         <a class="code hl_enumeration" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94">Format_Post_Lata::Options_Para</a> parallel) :</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>  <a class="code hl_class" href="classFichier__Lata.html">Fichier_Lata</a>(basename, extension,</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>               mode_append, <a class="code hl_class" href="classFormat__Post__Lata.html">Format_Post_Lata</a>::ASCII, parallel)</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>{</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>  <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>-&gt;<a class="code hl_function" href="classSortie__Fichier__base.html#a4c2ba736a269d1b4c1099262d385fac3">setf</a>(ios::scientific);</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span><span class="comment">// On peut changer la precision du fichier maitre a cet endroit:</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>  <a class="code hl_variable" href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">fichier_</a>-&gt;<a class="code hl_function" href="classSortie__Fichier__base.html#a8341672e95dd856b2c30d7b7d2f649d0">precision</a>(8);</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>}</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="comment">// ****************************************************************************</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span> </div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="comment">//! Renvoie l&#39;extension conventionnelle des fichiers lata : &quot;.lata&quot;</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">  209</a></span><span class="comment"></span><span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">Format_Post_Lata::extension_lata</a>()</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>{</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> * ext = <span class="stringliteral">&quot;.lata&quot;</span>;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>  <span class="keywordflow">return</span> ext;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>}</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="comment">//</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span><span class="comment">//! Renvoie le nom d&#39;un fichier sans le path :&lt;br&gt;on enleve les caracteres avant le dernier /</span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a033716caeef1f9b96458757fa911e2d8">  218</a></span><span class="comment"></span><span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code hl_function" href="classFormat__Post__Lata.html#a033716caeef1f9b96458757fa911e2d8">Format_Post_Lata::remove_path</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * filename)</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>{</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>  <span class="keywordtype">int</span> i = strlen(filename);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>  <span class="keywordflow">while</span> (i &gt; 0 &amp;&amp; filename[i-1] != <span class="charliteral">&#39;/&#39;</span>)</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    i--;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>  <span class="keywordflow">return</span> filename + i;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>}</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span> </div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="comment">//</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span><span class="comment">//! Ouvre le fichier maitre en mode ERASE et ecrit l&#39;entete du fichier lata&lt;br&gt;(sur le processeur maitre seulement).</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span><span class="comment"></span><span class="comment">//</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a012077404f88dea72612c7c068c8e555">  230</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a012077404f88dea72612c7c068c8e555">Format_Post_Lata::ecrire_entete</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> temps_courant,<span class="keyword">const</span> <span class="keywordtype">int</span> reprise,<span class="keyword">const</span> <span class="keywordtype">int</span> est_le_premier_post)</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>{</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>  <a class="code hl_function" href="classFormat__Post__Lata.html#a81b8a4f8f4878ab56322946cc89df614">ecrire_entete_lata</a>(<a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a>,<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>,<a class="code hl_variable" href="classFormat__Post__Lata.html#a6f47f1f2016cce3ab8bb1b976ed0d921">format_</a>,est_le_premier_post);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>  <span class="comment">/*</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="comment">  // Determination du format binaire:</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="comment">  //  big endian =&gt; l&#39;entier 32 bits &quot;1&quot; s&#39;ecrit 0x00 0x00 0x00 0x01</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="comment">  //  little endian =&gt;                           0x01 0x00 0x00 0x00</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="comment">  const unsigned int one = 1;</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="comment">  const int big_endian = (* ((unsigned char *)&amp;one) == 0) ? 1 : 0;</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="comment"></span> </div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="comment">  // Effacement du fichier .lata et ecriture de l&#39;entete</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="comment">  Fichier_Lata_maitre fichier(lata_basename_, extension_lata(),</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="comment">  Fichier_Lata::ERASE,</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span><span class="comment">  options_para_);</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span><span class="comment">  SFichier &amp; sfichier = fichier.get_SFichier();</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span><span class="comment">  if (fichier.is_master()) {</span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="comment">  sfichier &lt;&lt; &quot;LataV2.0 Trio_U Version1.4.9 06/2005&quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="comment">  sfichier &lt;&lt; Objet_U::nom_du_cas() &lt;&lt; finl;</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span><span class="comment">  sfichier &lt;&lt; &quot;Trio_U&quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span><span class="comment"></span> </div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span><span class="comment">  sfichier &lt;&lt; &quot;Format &quot;;</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span><span class="comment">  switch(format_) {</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span><span class="comment">  case ASCII:</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span><span class="comment">  sfichier &lt;&lt; &quot;ASCII &quot;;</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span><span class="comment">  break;</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span><span class="comment">  case BINAIRE:</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><span class="comment">  sfichier &lt;&lt; &quot;BINAIRE &quot;;</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span><span class="comment">  if (big_endian)</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span><span class="comment">  sfichier &lt;&lt; &quot;big_endian &quot;;</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span><span class="comment">  else</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="comment">  sfichier &lt;&lt; &quot;little_endian &quot;;</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="comment">  break;</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="comment">  default:</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="comment">  Cerr &lt;&lt; &quot;Error in Format_Post_Lata::ecrire_entete\n&quot;</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span><span class="comment">  &lt;&lt; &quot; format not supported&quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span><span class="comment">  exit();</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span><span class="comment">  }</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span><span class="comment">  switch(sizeof(_LATA_INT_TYPE_)) {</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span><span class="comment">  case 4:</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span><span class="comment">  sfichier &lt;&lt; &quot;int32 &quot;;</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span><span class="comment">  break;</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span><span class="comment">  case 8:</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span><span class="comment">  sfichier &lt;&lt; &quot;int64 &quot;;</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span><span class="comment">  break;</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span><span class="comment">  default:</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span><span class="comment">  Cerr &lt;&lt; &quot;Error in Format_Post_Lata::ecrire_entete\n&quot;</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span><span class="comment">  &lt;&lt; &quot; sizeof(int) not supported&quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span><span class="comment">  exit();</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span><span class="comment">  }</span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span><span class="comment">  sfichier &lt;&lt; &quot;real32&quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span><span class="comment">  }</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span><span class="comment">  fichier.syncfile();</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="comment">  */</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>}</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a9613e7d1141d411bfd6878a98264ea02">  288</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a9613e7d1141d411bfd6878a98264ea02">Format_Post_Lata::completer_post</a>(<span class="keyword">const</span> <a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; dom, <span class="keyword">const</span> <span class="keywordtype">int</span> is_axi, <span class="keyword">const</span> <a class="code hl_enumeration" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646b">Nature_du_champ</a>&amp; nature, <span class="keyword">const</span> <span class="keywordtype">int</span> nb_compo, <span class="keyword">const</span> <a class="code hl_class" href="classNoms.html">Noms</a>&amp; noms_compo, <span class="keyword">const</span> <a class="code hl_class" href="classMotcle.html">Motcle</a>&amp; loc_post,</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                                     <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; le_nom_champ_post)</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>{</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>}</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a3f5693f89db8929d0def01d7be96e1db">  294</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a3f5693f89db8929d0def01d7be96e1db">Format_Post_Lata::preparer_post</a>(<span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; id_du_domaine, <span class="keyword">const</span> <span class="keywordtype">int</span> est_le_premier_post, <span class="keyword">const</span> <span class="keywordtype">int</span> reprise, <span class="keyword">const</span> <span class="keywordtype">double</span> t_init)</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>{</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>}</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span><span class="comment">//</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span><span class="comment">//</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span><span class="comment">//</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span><span class="comment">//</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="comment">//</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span><span class="comment">//</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span><span class="comment">//</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="comment">//</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span><span class="comment">//</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span><span class="comment">//</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span><span class="comment">//</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span><span class="comment">//! fichier est un fichier lata de donnees (pas le fichier maitre)&lt;br&gt;on y ecrit le tableau tab tel quel (en binaire ou ascii et sur un ou&lt;br&gt;plusieurs fichiers en parallel).&lt;br&gt;nb_colonnes est rempli avec le produit des tab.dimension(i) pour i&gt;0&lt;br&gt;bloc_number et nb_blocs sont utilises pour les valeurs aux sommets en 2D&lt;br&gt;pour le format lataV1 : on ecrit deux fois le nombre de sommets dans le meme bloc&lt;br&gt;(bloc_number = le numero du bloc courant en cours d&#39;ecriture,&lt;br&gt;nb_blocs = le nombre total de blocs ecrits. Le tag de debut et de fin&lt;br&gt;est ecrit au debut du premier bloc et a la fin du dernier et le nombre est&lt;br&gt;la taille du tableau multiplie par le nombre de blocs (on suppose que tous&lt;br&gt;les blocs sont identiques)).</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a943396fe8d7fbcf408da73a1f59cdebe">  312</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a943396fe8d7fbcf408da73a1f59cdebe">Format_Post_Lata::write_doubletab</a>(<a class="code hl_class" href="classFichier__Lata.html">Fichier_Lata</a>&amp; fichier, <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; tab, <span class="keywordtype">int</span>&amp; nb_colonnes, <span class="keyword">const</span> <a class="code hl_enumeration" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94">Options_Para</a>&amp; <a class="code hl_class" href="classoption.html">option</a>, <span class="keyword">const</span> <span class="keywordtype">int</span> bloc_number, <span class="keyword">const</span> <span class="keywordtype">int</span> nb_blocs)</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>{</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>  <span class="keywordtype">int</span> line_size = 1;</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>  <span class="keywordtype">int</span> nb_lignes = tab.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0);</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_dim = tab.<a class="code hl_function" href="classTRUSTTab.html#a2080aac630cb9bfd47030c0c01fdb35d">nb_dim</a>();</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; nb_dim; i++)</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    line_size *= tab.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(i);</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>  <span class="keywordtype">int</span> nb_lignes_tot = 0;</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> tab_size = line_size * nb_lignes;</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>  <span class="keywordtype">int</span> nb_octets = tab_size * <span class="keyword">sizeof</span>(float);</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>  <span class="keywordflow">switch</span>(<a class="code hl_class" href="classoption.html">option</a>)</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    {</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a23ea36f7593e2b91825cd82fa150b5e4">Format_Post_Lata::SINGLE_FILE_MPIIO</a>:</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043">Format_Post_Lata::SINGLE_FILE</a>:</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>      nb_lignes_tot = <a class="code hl_function" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd">Process::mp_sum</a>(nb_lignes);</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span><span class="comment">// En parallele, tous les tableaux doivent avoir le meme nombre</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span><span class="comment">// de colonnes (ou etre vides).</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>      nb_colonnes = (int) <a class="code hl_function" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d">Process::mp_max</a>(line_size); <span class="comment">//!&lt; Zut. Pas de mp_max(int) !!!</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>      nb_octets = nb_colonnes*nb_lignes_tot * <span class="keyword">sizeof</span>(float);</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>      assert(nb_lignes == 0 || line_size == nb_colonnes);</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94aef0c737cbac106d4baaade24e94e5028">Format_Post_Lata::MULTIPLE_FILES</a>:</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>      nb_lignes_tot = nb_lignes;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>      nb_colonnes = line_size;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_Lata_write_tab: error nb_lignes_tot&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>  <a class="code hl_class" href="classSFichier.html">SFichier</a>&amp; sfichier = fichier.<a class="code hl_function" href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">get_SFichier</a>();</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span> </div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span><span class="comment">// Debut de bloc fortran</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>  <span class="keywordflow">if</span> (fichier.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>() &amp;&amp; bloc_number == 0)</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    sfichier &lt;&lt; nb_octets * nb_blocs &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span> </div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span><span class="comment">// Ecriture des donnees.</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classEcrFicPartageMPIIO.html">EcrFicPartageMPIIO</a>, sfichier))</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>    {</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>      <span class="keyword">auto</span> *tmp = <span class="keyword">new</span> <span class="keywordtype">float</span>[tab_size]; <span class="comment">//!&lt; No ArrOfFloat in TRUST</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>      <span class="keyword">const</span> <span class="keywordtype">double</span> *data = tab.<a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">addr</a>();</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; tab_size; i++)</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        tmp[i] = data[i];</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>      sfichier.<a class="code hl_function" href="classSortie.html#aa3f46aaccaff0f83c018784b50d8ea24">put</a>(tmp, tab_size, line_size);</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>      <span class="keyword">delete</span>[] tmp;</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span><span class="comment">// Fin de bloc fortran</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>      <span class="keywordflow">if</span> (fichier.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>() &amp;&amp; bloc_number == nb_blocs - 1)</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>        sfichier &lt;&lt; nb_octets * nb_blocs &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    }</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    {</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span><span class="comment">// On convertit le tout en float par paquet de N valeurs</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span><span class="comment">// Buffer dont la taille est un multiple de line_size:</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> N = 16384;</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>      <span class="keywordtype">int</span> bufsize = (N / line_size + 1) * line_size;</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>      <span class="keywordtype">float</span> *tmp = <span class="keyword">new</span> <span class="keywordtype">float</span>[bufsize];</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>      <span class="keyword">const</span> <span class="keywordtype">double</span> *data = tab.<a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">addr</a>();</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; tab_size; i += bufsize)</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>        {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>          <span class="keywordtype">int</span> j_max = bufsize;</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>          <span class="keywordflow">if</span> (j_max &gt; tab_size - i)</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            j_max = tab_size - i;</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span><span class="comment">// Conversion du bloc en float:</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; j_max; j++)</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            tmp[j] = data[i + j];</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="comment">// Ecriture avec retour a la ligne a chaque ligne du tableau</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>          sfichier.<a class="code hl_function" href="classSortie.html#aa3f46aaccaff0f83c018784b50d8ea24">put</a>(tmp, j_max, line_size);</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        }</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>      <span class="keyword">delete</span>[] tmp;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>      fichier.<a class="code hl_function" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">syncfile</a>();</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span><span class="comment">// Fin de bloc fortran</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>      <span class="keywordflow">if</span> (fichier.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>() &amp;&amp; bloc_number == nb_blocs - 1)</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>        sfichier &lt;&lt; nb_octets * nb_blocs &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>      fichier.<a class="code hl_function" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">syncfile</a>();</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    }</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>  <span class="keywordflow">return</span> nb_lignes_tot;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>}</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span> </div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span><span class="comment">//</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span><span class="comment">//</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span><span class="comment">//</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span><span class="comment">//</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span><span class="comment">//</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span><span class="comment">//</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span><span class="comment">//! Ecriture d&#39;un tableau d&#39;entiers dans le fichier fourni.&lt;br&gt;Les valeurs ecrites sont les valeurs du tableau auquelles ont ajoute&lt;br&gt;&quot;decalage&quot;. Cette valeur est utilisee pour passer en numerotation&lt;br&gt;fortran (ajouter 1), ou pour passer en numerotation globale (ajouter&lt;br&gt;le nombre d&#39;elements sur les processeurs precedents).&lt;br&gt;On renvoie dans nb_colonnes la somme des dimension(i) pour i&gt;0.&lt;br&gt;Valeur de retour: somme des dimension(0) ecrits (selon que tous les&lt;br&gt;processeurs ecrivent sur le meme fichier ou pas).</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#ab01cd71e3e0e1220bbeb8e144b3f9731">  402</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#ab01cd71e3e0e1220bbeb8e144b3f9731">Format_Post_Lata::write_inttab</a>(<a class="code hl_class" href="classFichier__Lata.html">Fichier_Lata</a>&amp; fichier, <span class="keywordtype">int</span> decalage, <span class="keywordtype">int</span> decalage_partiel, <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; tab, <span class="keywordtype">int</span>&amp; nb_colonnes, <span class="keyword">const</span> <a class="code hl_enumeration" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94">Options_Para</a>&amp; <a class="code hl_class" href="classoption.html">option</a>)</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>{</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>  assert(decalage_partiel&gt;=decalage);</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>  assert((decalage==0)||(decalage==1));</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>  <span class="keywordtype">int</span> nb_lignes = 0;</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>  <span class="keywordtype">int</span> line_size = 1;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>  nb_lignes = tab.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0);</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_dim = tab.<a class="code hl_function" href="classTRUSTTab.html#a2080aac630cb9bfd47030c0c01fdb35d">nb_dim</a>();</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>  <span class="keywordflow">for</span> (i = 1; i &lt; nb_dim; i++)</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    line_size *= tab.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(i);</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span> </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>  <span class="keywordtype">int</span> nb_lignes_tot = 0;</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>  <span class="keyword">const</span> <span class="keywordtype">int</span> tab_size = line_size * nb_lignes;</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>  <span class="keywordtype">int</span> nb_octets = tab_size * <span class="keyword">sizeof</span>(<a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a>);</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>  <span class="keywordflow">switch</span>(<a class="code hl_class" href="classoption.html">option</a>)</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    {</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a23ea36f7593e2b91825cd82fa150b5e4">Format_Post_Lata::SINGLE_FILE_MPIIO</a>:</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043">Format_Post_Lata::SINGLE_FILE</a>:</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>      nb_lignes_tot = <a class="code hl_function" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd">Process::mp_sum</a>(nb_lignes);</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span><span class="comment">// En parallele, tous les tableaux doivent avoir le meme nombre</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span><span class="comment">// de colonnes (ou etre vides).</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>      nb_colonnes = (int) <a class="code hl_function" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d">Process::mp_max</a>(line_size); <span class="comment">//!&lt; Zut. Pas de mp_max(int) !!!</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>      nb_octets = nb_colonnes*nb_lignes_tot * <span class="keyword">sizeof</span>(<a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a>);</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>      assert(nb_lignes == 0 || line_size == nb_colonnes);</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94aef0c737cbac106d4baaade24e94e5028">Format_Post_Lata::MULTIPLE_FILES</a>:</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>      nb_lignes_tot = nb_lignes;</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>      nb_colonnes = line_size;</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_Lata_write_tab: error nb_lignes_tot&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    }</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span> </div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>  <a class="code hl_class" href="classSFichier.html">SFichier</a>&amp; sfichier = fichier.<a class="code hl_function" href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">get_SFichier</a>();</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span> </div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span><span class="comment">// Debut de bloc fortran</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>  <span class="keywordflow">if</span> (fichier.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>())</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    sfichier &lt;&lt; nb_octets &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>  <span class="keywordtype">int</span> erreurs = 0;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span><span class="comment">// Ecriture des donnees.</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code hl_class" href="classEcrFicPartageMPIIO.html">EcrFicPartageMPIIO</a>, sfichier))</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>    {</div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span><span class="comment">// On convertit le tout en _INT_TYPE_</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>      <a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a> *tmp = <span class="keyword">new</span> <a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a>[tab_size];</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> *data = tab.<a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">addr</a>();</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>      <span class="keywordflow">for</span> (i = 0; i &lt; tab_size; i++)</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>        {</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span><span class="comment">// valeur a ecrire (conversion en numerotation fortran si besoin)</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>          <span class="keywordtype">int</span> x = data[i];</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>          <span class="keywordflow">if</span> (x &gt; -1)</div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>            x += decalage_partiel;</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>          <span class="keywordflow">else</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>            x += decalage;</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span> </div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span><span class="comment">// conversion en type int pour ecriture</span></div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>          <a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a> y = (<a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a>) x;</div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span><span class="comment">// reconversion en int pour comparaison</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>          <span class="keywordtype">int</span> z = (int) y;</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>          <span class="keywordflow">if</span> (x != z)</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>            erreurs++;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>          tmp[i] = y;</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>        }</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>      sfichier.<a class="code hl_function" href="classSortie.html#aa3f46aaccaff0f83c018784b50d8ea24">put</a>(tmp, tab_size, line_size);</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>      <span class="keyword">delete</span>[] tmp;</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span><span class="comment">// Fin de bloc fortran</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>      <span class="keywordflow">if</span> (fichier.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>())</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>        sfichier &lt;&lt; nb_octets &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    }</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    {</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span><span class="comment">// On convertit le tout en _INT_TYPE_ par paquet de N valeurs</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span><span class="comment">// Buffer dont la taille est un multiple de line_size:</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> N = 16384;</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>      <span class="keywordtype">int</span> bufsize = (N / line_size + 1) * line_size;</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>      <a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a> *tmp = <span class="keyword">new</span> <a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a>[bufsize];</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> *data = tab.<a class="code hl_function" href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">addr</a>();</div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>      <span class="keywordflow">for</span> (i = 0; i &lt; tab_size; i += bufsize)</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>        {</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>          <span class="keywordtype">int</span> j;</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>          <span class="keywordtype">int</span> j_max = bufsize;</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>          <span class="keywordflow">if</span> (j_max &gt; tab_size - i)</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            j_max = tab_size - i;</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span><span class="comment">// Conversion du bloc en int_type:</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>          <span class="keywordflow">for</span> (j = 0; j &lt; j_max; j++)</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>            {</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span><span class="comment">// valeur a ecrire (conversion en numerotation fortran si besoin)</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>              <span class="keywordtype">int</span> x = data[i + j];</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>              <span class="keywordflow">if</span> (x &gt; -1)</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>                x += decalage_partiel;</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>              <span class="keywordflow">else</span></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>                x += decalage;</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span> </div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span><span class="comment">// conversion en type int pour ecriture</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>              <a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a> y = (<a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a>) x;</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span><span class="comment">// reconversion en int pour comparaison</span></div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>              <span class="keywordtype">int</span> z = (int) y;</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>              <span class="keywordflow">if</span> (x != z)</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>                erreurs++;</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>              tmp[j] = y;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>            }</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span><span class="comment">// Ecriture avec retour a la ligne a chaque ligne du tableau</span></div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>          sfichier.<a class="code hl_function" href="classSortie.html#aa3f46aaccaff0f83c018784b50d8ea24">put</a>(tmp, j_max, line_size);</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>        }</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>      <span class="keyword">delete</span>[] tmp;</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>      fichier.<a class="code hl_function" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">syncfile</a>();</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span><span class="comment">// Fin de bloc fortran</span></div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>      <span class="keywordflow">if</span> (fichier.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>())</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>        sfichier &lt;&lt; nb_octets &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>      fichier.<a class="code hl_function" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">syncfile</a>();</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>    }</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>  <span class="keywordflow">if</span> (erreurs &gt; 0)</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    {</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Format_Post_Lata::write_inttab\n&quot;</span></div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>           &lt;&lt; <span class="stringliteral">&quot; Some integers were truncated\n&quot;</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>           &lt;&lt; <span class="stringliteral">&quot; Recompile the code with #define _LATA_INT_TYPE_ entier&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    }</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>  <span class="keywordflow">return</span> nb_lignes_tot;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>}</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span><span class="comment">//! Constructeur par defaut: format_ ASCII et options_para_ = SINGLE_FILE</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a92fc4ff60b572d66a7d91ad3eb324cae">  529</a></span><span class="comment"></span><a class="code hl_function" href="classFormat__Post__Lata.html#a92fc4ff60b572d66a7d91ad3eb324cae">Format_Post_Lata::Format_Post_Lata</a>()</div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>{</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>  <a class="code hl_function" href="classFormat__Post__Lata.html#a00aade63a7ab3a3e1b2a0480d1c30e7e">reset</a>();</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>}</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span> </div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span><span class="comment">//! Remet l&#39;objet dans l&#39;etat obtenu par le constructeur par defaut.</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a00aade63a7ab3a3e1b2a0480d1c30e7e">  536</a></span><span class="comment"></span><span class="keywordtype">void</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a00aade63a7ab3a3e1b2a0480d1c30e7e">Format_Post_Lata::reset</a>()</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>{</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a> = <span class="stringliteral">&quot;??&quot;</span>;</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a6f47f1f2016cce3ab8bb1b976ed0d921">format_</a> = <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53ca64e753afccaf02de631ef2ad18733aab">ASCII</a>;</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> = <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043">SINGLE_FILE</a>;</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#ab0b792d3f25872b859dc9c2170a9ac2d">status</a> = <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacca77c87ecaad62a824d2cd3bdfe4b60317">RESET</a>;</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a377324ba785a6d3bf7c120c078146dd2">temps_courant_</a> = -1.;</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#af570869762b22c2b2d6af6cbb915d557">deja_fait_</a>=0;</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a7ead5ea7b75f70ae7d897f491af27633">tinit_</a>=-1.;</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a064f70a875931f52b98386f3bd3fe215">file_existe_</a>=0;</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>}</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span><span class="comment"></span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span><span class="comment">//! erreur =&gt; exit</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a6b6fb8c95bad476aa7607d5b184e1b19">  549</a></span><span class="comment"></span><a class="code hl_class" href="classSortie.html">Sortie</a>&amp; <a class="code hl_function" href="classFormat__Post__Lata.html#a6b6fb8c95bad476aa7607d5b184e1b19">Format_Post_Lata::printOn</a>(<a class="code hl_class" href="classSortie.html">Sortie</a>&amp; os)<span class="keyword"> const</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="keyword"></span>{</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_Lata::printOn : error&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>  <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>  <span class="keywordflow">return</span> os;</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>}</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span> </div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span><span class="comment">//</span></div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span><span class="comment">//</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span><span class="comment">//</span></div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span><span class="comment">//</span></div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span><span class="comment">//</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span><span class="comment">//! Lecture des parametres du postraitement au format &quot;jeu de donnees&quot;&lt;br&gt;Le format attendu est le suivant:&lt;br&gt;{&lt;br&gt;nom_fichier nom                       champ obligatoire&lt;br&gt;[ format   ascii|binaire ]              valeur par defaut : ascii&lt;br&gt;[ parallel single_file|multiple_files ] valeur par defaut : single_file&lt;br&gt;}</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a13c7dba9ecd33a9c1cd4a4c43d601117">  563</a></span><span class="comment"></span><a class="code hl_class" href="classEntree.html">Entree</a>&amp; <a class="code hl_function" href="classFormat__Post__Lata.html#a13c7dba9ecd33a9c1cd4a4c43d601117">Format_Post_Lata::readOn</a>(<a class="code hl_class" href="classEntree.html">Entree</a>&amp; is)</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>{</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>  assert(<a class="code hl_variable" href="classFormat__Post__Lata.html#ab0b792d3f25872b859dc9c2170a9ac2d">status</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacca77c87ecaad62a824d2cd3bdfe4b60317">RESET</a>);</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>  <a class="code hl_function" href="classFormat__Post__base.html#a7de17922b436b37910dd87417cb27623">Format_Post_base::readOn</a>(is);</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#ab0b792d3f25872b859dc9c2170a9ac2d">status</a> = <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeaccae95363a94fad9ca940d985500b7f561f">INITIALIZED</a>;</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>  <span class="keywordflow">return</span> is;</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>}</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span> </div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a52aee935ec09662bfb62a602fb45cc71">  571</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a52aee935ec09662bfb62a602fb45cc71">Format_Post_Lata::set_param</a>(<a class="code hl_class" href="classParam.html">Param</a>&amp; param)</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>{</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_Lata::set_param: Not implemented.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>  <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>}</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span> </div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#af82d0fac83b47196c54453391e6f6575">  577</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#af82d0fac83b47196c54453391e6f6575">Format_Post_Lata::lire_motcle_non_standard</a>(<span class="keyword">const</span> <a class="code hl_class" href="classMotcle.html">Motcle</a>&amp; mot, <a class="code hl_class" href="classEntree.html">Entree</a>&amp; is)</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>{</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_Lata::lire_motcle_non_standard: Not implemented.&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>  <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a>();</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>}</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span> </div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span><span class="comment">//! Initialisation de la classe avec des parametres par&lt;br&gt;defaut (format ASCII, SINGLE_FILE)</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#ac68c7c8febc03ca73ddb231b34167a5d">  586</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#ac68c7c8febc03ca73ddb231b34167a5d">Format_Post_Lata::initialize_by_default</a>(<span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; file_basename)</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>{</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>  assert(<a class="code hl_variable" href="classFormat__Post__Lata.html#ab0b792d3f25872b859dc9c2170a9ac2d">status</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacca77c87ecaad62a824d2cd3bdfe4b60317">RESET</a>);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>  <a class="code hl_function" href="classFormat__Post__Lata.html#a0e6fbe4681402f309b5744e1c0823077">initialize_lata</a>(file_basename, <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53ca64e753afccaf02de631ef2ad18733aab">ASCII</a>, <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043">SINGLE_FILE</a>);</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>}</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span> </div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#ad950c194627e0914bb22bbf887905144">  593</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#ad950c194627e0914bb22bbf887905144">Format_Post_Lata::initialize</a>(<span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; file_basename, <span class="keyword">const</span> <span class="keywordtype">int</span> format, <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; option_para)</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>{</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>  assert(<a class="code hl_variable" href="classFormat__Post__Lata.html#ab0b792d3f25872b859dc9c2170a9ac2d">status</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacca77c87ecaad62a824d2cd3bdfe4b60317">RESET</a>);</div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span><span class="comment">// Changement du format LATA (par defaut binaire)</span></div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a6f47f1f2016cce3ab8bb1b976ed0d921">format_</a>=<a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53ca2d3fa963128b6785fca8a03841962e16">BINAIRE</a>;</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>  <span class="keywordflow">if</span> (format==0)</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    <a class="code hl_variable" href="classFormat__Post__Lata.html#a6f47f1f2016cce3ab8bb1b976ed0d921">format_</a>=<a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53ca64e753afccaf02de631ef2ad18733aab">ASCII</a>;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span> </div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>  <span class="keywordflow">if</span> (<a class="code hl_class" href="classMotcle.html">Motcle</a>(option_para)==<span class="stringliteral">&quot;MPI-IO&quot;</span>)</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> = <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a23ea36f7593e2b91825cd82fa150b5e4">SINGLE_FILE_MPIIO</a>;</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_class" href="classMotcle.html">Motcle</a>(option_para)==<span class="stringliteral">&quot;SIMPLE&quot;</span>)</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> = <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043">SINGLE_FILE</a>;</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_class" href="classMotcle.html">Motcle</a>(option_para)==<span class="stringliteral">&quot;MULTIPLE&quot;</span>)</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> = <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94aef0c737cbac106d4baaade24e94e5028">MULTIPLE_FILES</a>;</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>  <span class="keywordflow">else</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>    {</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;The option &quot;</span> &lt;&lt; option_para &lt;&lt; <span class="stringliteral">&quot; for lata format for the parallel is not correct.&quot;</span>&lt;&lt;<a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    }</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span> </div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>  <a class="code hl_function" href="classFormat__Post__Lata.html#a0e6fbe4681402f309b5744e1c0823077">initialize_lata</a>(file_basename,<a class="code hl_variable" href="classFormat__Post__Lata.html#a6f47f1f2016cce3ab8bb1b976ed0d921">format_</a>,<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span> </div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>}</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span> </div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span><span class="comment">//! Initialisation de la classe, ouverture du fichier et ecriture&lt;br&gt;de l&#39;entete.</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a0e6fbe4681402f309b5744e1c0823077">  620</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a0e6fbe4681402f309b5744e1c0823077">Format_Post_Lata::initialize_lata</a>(<span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; file_basename,</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>                                      <span class="keyword">const</span> <a class="code hl_enumeration" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53c">Format</a> format,</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>                                      <span class="keyword">const</span> <a class="code hl_enumeration" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94">Options_Para</a> options_para)</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>{</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>  assert(<a class="code hl_variable" href="classFormat__Post__Lata.html#ab0b792d3f25872b859dc9c2170a9ac2d">status</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacca77c87ecaad62a824d2cd3bdfe4b60317">RESET</a>);</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a> = file_basename;</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a6f47f1f2016cce3ab8bb1b976ed0d921">format_</a> = format;</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> = options_para;</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#ab0b792d3f25872b859dc9c2170a9ac2d">status</a> = <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeaccae95363a94fad9ca940d985500b7f561f">INITIALIZED</a>;</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>}</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span><span class="comment"></span> </div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span><span class="comment">//! Modification du nom du fichier de postraitement.</span></div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a45372c70a3e930a6513044a2e0d3d441">  634</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a45372c70a3e930a6513044a2e0d3d441">Format_Post_Lata::modify_file_basename</a>(<span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a> file_basename, <span class="keyword">const</span> <span class="keywordtype">int</span> a_faire, <span class="keyword">const</span> <span class="keywordtype">double</span> tinit)</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>{</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>  assert(a_faire==0||a_faire==1||a_faire==2);</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span> </div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>  <a class="code hl_class" href="classNom.html">Nom</a> post_file;</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>  post_file=file_basename+<a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>();</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span><span class="comment">// On verifie que le fichier maitre existe et a une entete correcte</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a064f70a875931f52b98386f3bd3fe215">file_existe_</a>=0;</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>    {</div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>      <span class="keyword">struct </span>stat f;</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>      <span class="keywordflow">if</span> (stat(post_file,&amp;f)==0)</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        {</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>          <a class="code hl_class" href="classEFichier.html">EFichier</a> tmp(post_file);</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>          <a class="code hl_class" href="classNom.html">Nom</a> cle;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>          tmp &gt;&gt; cle;</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>          <span class="keywordflow">if</span> (cle.<a class="code hl_function" href="classNom.html#a7d94eff3b27fea7103475613072a4553">debute_par</a>(<span class="stringliteral">&quot;LATA&quot;</span>))</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>            {</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>              <span class="keywordflow">if</span> (tinit==-1)</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>                {</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>                  <a class="code hl_variable" href="classFormat__Post__Lata.html#a064f70a875931f52b98386f3bd3fe215">file_existe_</a>=1;</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>                }</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>              <span class="keywordflow">else</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>                {</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>                  tmp &gt;&gt; cle;</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>                  <span class="keywordflow">while</span> (!tmp.<a class="code hl_function" href="classEntree__Fichier__base.html#aa208ab6f6dca25a1963d14d15b755cdb">eof</a>() &amp;&amp; cle!=<span class="stringliteral">&quot;TEMPS&quot;</span>) tmp &gt;&gt; cle;</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>                  <span class="keywordflow">if</span> (cle==<span class="stringliteral">&quot;TEMPS&quot;</span>)</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>                    {</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>                      <span class="keywordtype">double</span> temps;</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>                      tmp &gt;&gt; temps;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span><span class="comment">// On verifie le temps du fichier de reprise</span></div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>                      <span class="keywordflow">if</span> (temps&lt;tinit)</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>                        <a class="code hl_variable" href="classFormat__Post__Lata.html#a064f70a875931f52b98386f3bd3fe215">file_existe_</a>=1;</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>                    }</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>                }</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>            }</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>          tmp.<a class="code hl_function" href="classEntree__Fichier__base.html#aca9165bc1712c1057b4d4b91a7ea4fb4">close</a>();</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>        }</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    }</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span><span class="comment">// Point de synchronisation necessaire:</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a064f70a875931f52b98386f3bd3fe215">file_existe_</a> = (int)<a class="code hl_function" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d">Process::mp_max</a>(<a class="code hl_variable" href="classFormat__Post__Lata.html#a064f70a875931f52b98386f3bd3fe215">file_existe_</a>);</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>() &amp;&amp; <a class="code hl_variable" href="classFormat__Post__Lata.html#a064f70a875931f52b98386f3bd3fe215">file_existe_</a> &amp;&amp; <a class="code hl_variable" href="classFormat__Post__Lata.html#af570869762b22c2b2d6af6cbb915d557">deja_fait_</a>==0 &amp;&amp; a_faire)</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    {</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>      <a class="code hl_class" href="classNom.html">Nom</a> before_restart;</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>      before_restart=file_basename+<span class="stringliteral">&quot;.before_restart&quot;</span>+<a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>();</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>      rename(post_file,before_restart);</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;File &quot;</span> &lt;&lt; post_file &lt;&lt; <span class="stringliteral">&quot; is moved to &quot;</span> &lt;&lt; before_restart &lt;&lt; <span class="stringliteral">&quot; with times&lt;=tinit=&quot;</span> &lt;&lt; tinit &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>      <a class="code hl_function" href="classFormat__Post__Lata.html#a8b67db1cb7b1c0f093633e48ca039851">reconstruct</a>(post_file,before_restart,tinit);</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    }</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#af570869762b22c2b2d6af6cbb915d557">deja_fait_</a>=1;</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span><span class="comment">// On attend tous les processeurs (prudence excessive?)</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>  <a class="code hl_function" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">Process::barrier</a>();</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classFormat__Post__Lata.html#a064f70a875931f52b98386f3bd3fe215">file_existe_</a>)</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>    {</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>      <span class="keywordflow">if</span> (a_faire==0)</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>        <a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a> = file_basename;</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>        {</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>          <a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a> = file_basename+<span class="stringliteral">&quot;.after_restart&quot;</span>;</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>          <span class="keywordflow">if</span> (tinit==-1) <a class="code hl_function" href="classFormat__Post__Lata.html#a7c2db13393d70a91930da6edcea52435">finir_sans_reprise</a>(post_file);</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>        }</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    }</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>}</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span> </div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span><span class="comment">// Copie du debut du fichier before_restart dans post_file (jusqu&#39;au TEMPS=tinit)</span></div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a8b67db1cb7b1c0f093633e48ca039851">  700</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a8b67db1cb7b1c0f093633e48ca039851">Format_Post_Lata::reconstruct</a>(<span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a> post_file, <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a> before_restart, <span class="keyword">const</span> <span class="keywordtype">double</span> tinit)</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>{</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>  <a class="code hl_class" href="classEFichier.html">EFichier</a> LataOld(before_restart);</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>  <a class="code hl_class" href="classSFichier.html">SFichier</a> LataNew(post_file);</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>  LataNew.<a class="code hl_function" href="classSortie__Fichier__base.html#a4c2ba736a269d1b4c1099262d385fac3">setf</a>(ios::scientific);</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>  LataNew.<a class="code hl_function" href="classSortie__Fichier__base.html#a8341672e95dd856b2c30d7b7d2f649d0">precision</a>(8);</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>  std::string line;</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>  <a class="code hl_class" href="classNom.html">Nom</a> mot;</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>  <span class="keywordtype">double</span> temps;</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>  <a class="code hl_variable" href="classFormat__Post__Lata.html#a7ead5ea7b75f70ae7d897f491af27633">tinit_</a>=tinit;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>  <span class="keywordflow">while</span> (!LataOld.<a class="code hl_function" href="classEntree__Fichier__base.html#aa208ab6f6dca25a1963d14d15b755cdb">eof</a>())</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>    {</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>      LataOld &gt;&gt; mot;                                                        <span class="comment">//!&lt; je lis le premier mot de la ligne dans .before_restart.lata</span></div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>      <span class="keywordflow">if</span> (mot!=<span class="stringliteral">&quot;FIN&quot;</span>)                                                        <span class="comment">//!&lt; Si le mot n&#39;est pas FIN</span></div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>        {</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>          <span class="keywordflow">if</span> (mot==<span class="stringliteral">&quot;TEMPS&quot;</span>)                                                        <span class="comment">//!&lt; Si le mot suivant est TEMPS</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>            {</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>              LataOld &gt;&gt; temps;</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>              <span class="keywordflow">if</span> (temps==tinit)                                                <span class="comment">//!&lt; Si le temps trouvee = tinit alors j&#39;arrete</span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>              std::getline(LataOld.<a class="code hl_function" href="classEntree__Fichier__base.html#a9e5abc201d0864efb7e22b593556f432">get_ifstream</a>(), line) ;                        <span class="comment">//!&lt; je lis le reste de la ligne</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>              LataNew.<a class="code hl_function" href="classSortie__Fichier__base.html#ad69731ab342e17049de30c55b80b6941">get_ofstream</a>() &lt;&lt; mot &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; temps &lt;&lt; line &lt;&lt; std::endl;        <span class="comment">//!&lt; et j&#39;ecris le tout dans le lata</span></div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>            }</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>          <span class="keywordflow">else</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>            {</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>              std::getline(LataOld.<a class="code hl_function" href="classEntree__Fichier__base.html#a9e5abc201d0864efb7e22b593556f432">get_ifstream</a>(), line) ;                        <span class="comment">//!&lt; je lis le reste de la ligne</span></div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>              LataNew.<a class="code hl_function" href="classSortie__Fichier__base.html#ad69731ab342e17049de30c55b80b6941">get_ofstream</a>() &lt;&lt; mot &lt;&lt; line &lt;&lt; std::endl;                        <span class="comment">//!&lt; et j&#39;ecris le tout dans le lata</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>            }</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>        }</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>      <span class="keywordflow">else</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        {</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>          <span class="keywordflow">break</span>;                                                                <span class="comment">//!&lt; Sinon j&#39;arrete</span></div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>        }</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    }</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>  LataNew.<a class="code hl_function" href="classSortie__Fichier__base.html#ac246a47c4438e3183322c20db2a3323c">close</a>();</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>  LataOld.<a class="code hl_function" href="classEntree__Fichier__base.html#aca9165bc1712c1057b4d4b91a7ea4fb4">close</a>();</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>  <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;File &quot;</span> &lt;&lt; post_file &lt;&lt; <span class="stringliteral">&quot; is rebuilt but truncated to times&lt;tinit=&quot;</span> &lt;&lt; tinit &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>}</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a7c2db13393d70a91930da6edcea52435">  740</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a7c2db13393d70a91930da6edcea52435">Format_Post_Lata::finir_sans_reprise</a>(<span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a> file_basename)</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>{</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>  <a class="code hl_class" href="classNom.html">Nom</a> post_file;</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>  post_file=<a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a>+<a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>();</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a>())</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>    {</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>      <span class="keyword">struct </span>stat f;</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>      <span class="keywordflow">if</span> (stat(post_file,&amp;f)==0)</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        {</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>          <a class="code hl_class" href="classEFichier.html">EFichier</a> Lata(file_basename);</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>          <a class="code hl_class" href="classSFichier.html">SFichier</a> LataRep(post_file, ios::app);</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>          LataRep.<a class="code hl_function" href="classSortie__Fichier__base.html#a4c2ba736a269d1b4c1099262d385fac3">setf</a>(ios::scientific);</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>          LataRep.<a class="code hl_function" href="classSortie__Fichier__base.html#a8341672e95dd856b2c30d7b7d2f649d0">precision</a>(8);</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>          std::string line;</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>          <a class="code hl_class" href="classNom.html">Nom</a> mot;</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>          <span class="keywordtype">double</span> temps;</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>          <span class="keywordflow">while</span> (!Lata.<a class="code hl_function" href="classEntree__Fichier__base.html#aa208ab6f6dca25a1963d14d15b755cdb">eof</a>())</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>            {</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>              Lata &gt;&gt; mot;                                                                <span class="comment">//!&lt; je lis le premier mot de la ligne dans .lata</span></div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>              <span class="keywordflow">if</span> (mot==<span class="stringliteral">&quot;TEMPS&quot;</span>)                                                        <span class="comment">//!&lt; Si le mot suivant n&#39;est pas TEMPS</span></div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>                {</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>                  Lata &gt;&gt; temps;</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>                  <span class="keywordflow">if</span> (temps==<a class="code hl_variable" href="classFormat__Post__Lata.html#a7ead5ea7b75f70ae7d897f491af27633">tinit_</a>)                                                        <span class="comment">//!&lt; Si le temps trouvee = tinit alors</span></div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>                    {</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>                      std::getline(Lata.<a class="code hl_function" href="classEntree__Fichier__base.html#a9e5abc201d0864efb7e22b593556f432">get_ifstream</a>(), line) ;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>                      LataRep.<a class="code hl_function" href="classSortie__Fichier__base.html#ad69731ab342e17049de30c55b80b6941">get_ofstream</a>() &lt;&lt; mot &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; temps &lt;&lt; line &lt;&lt; std::endl;        <span class="comment">//!&lt; je peux commencer a ecrire</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>                      <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>                    }</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>                }</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>            }</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>          <span class="keywordflow">while</span> (!Lata.<a class="code hl_function" href="classEntree__Fichier__base.html#aa208ab6f6dca25a1963d14d15b755cdb">eof</a>())</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>            {</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>              std::getline(Lata.<a class="code hl_function" href="classEntree__Fichier__base.html#a9e5abc201d0864efb7e22b593556f432">get_ifstream</a>(), line);                                <span class="comment">//!&lt; je lis le reste du .lata</span></div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>              LataRep.<a class="code hl_function" href="classSortie__Fichier__base.html#ad69731ab342e17049de30c55b80b6941">get_ofstream</a>() &lt;&lt; line &lt;&lt; std::endl;                                        <span class="comment">//!&lt; et j&#39;ecris le tout dans le after_restart.lata</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>            }</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>          Lata.<a class="code hl_function" href="classEntree__Fichier__base.html#aca9165bc1712c1057b4d4b91a7ea4fb4">close</a>();</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>          LataRep.<a class="code hl_function" href="classSortie__Fichier__base.html#ac246a47c4438e3183322c20db2a3323c">close</a>();</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>          <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;File &quot;</span> &lt;&lt; post_file &lt;&lt; <span class="stringliteral">&quot; is built with times from tinit=&quot;</span> &lt;&lt; <a class="code hl_variable" href="classFormat__Post__Lata.html#a7ead5ea7b75f70ae7d897f491af27633">tinit_</a> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        }</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>    }</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>}</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span> </div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span><span class="comment">//</span></div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span><span class="comment">//</span></div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span><span class="comment">//</span></div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span><span class="comment">//</span></div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span><span class="comment">//</span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span><span class="comment">//</span></div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span><span class="comment">//! voir Format_Post_base::ecrire_domaine&lt;br&gt;On accepte l&#39;ecriture d&#39;un domaine dans un pas de temps, mais&lt;br&gt;les id_domaines doivent etre tous distincts.&lt;br&gt;Ecrit le fichier &quot;basename(_XXXXX).lata.nom_domaine&quot;, qui contient&lt;br&gt;la liste des sommets et la liste des elements.&lt;br&gt;Si le PE est maitre, ouvre le fichier maitre en mode APPEND et&lt;br&gt;ajoute une reference a ce fichier.</span></div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a92d88c5811e586076b5483d81ad25968">  791</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a92d88c5811e586076b5483d81ad25968">Format_Post_Lata::ecrire_domaine</a>(<span class="keyword">const</span> <a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; domaine,<span class="keyword">const</span> <span class="keywordtype">int</span> est_le_premier_post)</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>{</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classFormat__Post__Lata.html#ab0b792d3f25872b859dc9c2170a9ac2d">status</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacca77c87ecaad62a824d2cd3bdfe4b60317">RESET</a>)</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>    {</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>      <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Format_Post_Lata::ecrire_domaine\n&quot;</span></div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>           &lt;&lt; <span class="stringliteral">&quot; status = RESET. Uninitialized object&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>      <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>    }</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>  <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; id_domaine = domaine.<a class="code hl_function" href="classDomaine.html#ad15005332b06c50c8fc55364beb6bd36">le_nom</a>();</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; sommets = domaine.<a class="code hl_function" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f">les_sommets</a>();</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; elements = domaine.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#ac115e8342be89afb882b7b61cc343267">les_elems</a>();</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>  <a class="code hl_class" href="classMotcle.html">Motcle</a> <a class="code hl_function" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a> = domaine.<a class="code hl_function" href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">zone</a>(0).<a class="code hl_function" href="classZone.html#a615ed15b70dc15fe2c2610f06cdcb64b">type_elem</a>().<a class="code hl_function" href="classDeriv__Elem__geom__base.html#ade8d45321a97c0d2bac45ae21decc8db">valeur</a>().<a class="code hl_function" href="classObjet__U.html#a58289bb63283588d31dc69b87b3f1d55">que_suis_je</a>();</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span><span class="comment">// GF Pour assuerer la lecture avec le plugin lata</span></div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>==<span class="stringliteral">&quot;PRISME&quot;</span>) <a class="code hl_function" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>=<span class="stringliteral">&quot;PRISM6&quot;</span> ;</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>  <span class="keywordtype">int</span> dim = domaine.<a class="code hl_function" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f">les_sommets</a>().<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(1);</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span> </div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>  <span class="keywordtype">int</span> nb_som_tot;  <span class="comment">//!&lt; Nombre de sommets dans le fichier</span></div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>  <span class="keywordtype">int</span> nb_elem_tot; <span class="comment">//!&lt; Nombre d&#39;elements dans le fichier</span></div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span> </div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span><span class="comment">// Construction du nom du fichier de geometrie</span></div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>  <a class="code hl_class" href="classNom.html">Nom</a> basename_geom(<a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a>);</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>  <a class="code hl_class" href="classNom.html">Nom</a> extension_geom(<a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>());</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>  extension_geom += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>  extension_geom += id_domaine;</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>  extension_geom += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>  <span class="keywordtype">char</span> str_temps[100] = <span class="stringliteral">&quot;0.0&quot;</span>;</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classFormat__Post__Lata.html#a377324ba785a6d3bf7c120c078146dd2">temps_courant_</a> &gt;= 0.)</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>    sprintf(str_temps, <span class="stringliteral">&quot;%.10f&quot;</span>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a377324ba785a6d3bf7c120c078146dd2">temps_courant_</a>);</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>  extension_geom += <a class="code hl_class" href="classNom.html">Nom</a>(str_temps);</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>  <a class="code hl_class" href="classNom.html">Nom</a> nom_fichier_geom;</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>  <span class="keywordtype">int</span> decalage_sommets = 1;</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>  <span class="keywordtype">int</span> decalage_elements = 1;</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span> </div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span><span class="preprocessor">#undef un_seul_fichier_data</span></div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span> </div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span><span class="preprocessor">#ifdef un_seul_fichier_data</span></div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>  <span class="keywordtype">long</span> <span class="keywordtype">int</span> offset_elem = -1;</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>  {</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>    <a class="code hl_class" href="classFichier__Lata.html">Fichier_Lata</a> fichier_geom(basename_geom, extension_geom,</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>                              <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48aafea5adb55ed5ecc0b957884c5e754c1">Fichier_Lata::ERASE</a>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a6f47f1f2016cce3ab8bb1b976ed0d921">format_</a>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span> </div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    nom_fichier_geom = fichier_geom.<a class="code hl_function" href="classFichier__Lata.html#adfb113d0fc8e9447c00e5072f702c0ca">get_filename</a>();</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>    <span class="keywordtype">int</span> nb_col;</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span><span class="comment">// Coordonnees des sommets</span></div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span><span class="comment">//</span></div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classObjet__U.html#ad9b82ace9d4c7902ec704b6a78f76991">axi</a>)</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>      {</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>        <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a> sommets2(sommets);</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>        <span class="keywordtype">int</span> ns=sommets2.<a class="code hl_function" href="classTRUSTTab.html#a02f5d997850b88e5f307f6ddaf67286e">dimension_tot</a>(0);</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> s=0; s&lt;ns; s++)</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>          {</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>            <span class="keywordtype">double</span> r = sommets(s,0);</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>            <span class="keywordtype">double</span> theta = sommets(s,1);</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            sommets2(s,0) = r*cos(theta);</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>            sommets2(s,1) = r*sin(theta);</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>          }</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>        nb_som_tot = <a class="code hl_function" href="classFormat__Post__Lata.html#a943396fe8d7fbcf408da73a1f59cdebe">write_doubletab</a>(fichier_geom, sommets2, nb_col,<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>      }</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>      nb_som_tot = <a class="code hl_function" href="classFormat__Post__Lata.html#a943396fe8d7fbcf408da73a1f59cdebe">write_doubletab</a>(fichier_geom, sommets, nb_col,<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span><span class="preprocessor">#ifdef un_seul_fichier_data</span></div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    <span class="keywordflow">if</span> (fichier_geom.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>())</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>      {</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>        offset_elem = fichier_geom.<a class="code hl_function" href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">get_SFichier</a>(). get_ofstream().tellp();</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span><span class="comment">// if (fichier_geom.get_SFichier().is_bin()==0) offset_elem-=1;</span></div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>      }</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    <a class="code hl_class" href="classFichier__Lata.html">Fichier_Lata</a> fichier_geom_elem(basename_geom, extension_geom+<a class="code hl_class" href="classNom.html">Nom</a>(<span class="stringliteral">&quot;.elem&quot;</span>),</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>                                   <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48aafea5adb55ed5ecc0b957884c5e754c1">Fichier_Lata::ERASE</a>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a6f47f1f2016cce3ab8bb1b976ed0d921">format_</a>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>    assert(nb_som_tot == 0 || nb_col == dim);</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span> </div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span><span class="comment">// Elements</span></div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span><span class="comment">// Les indices de sommets, elements et autres dans le fichier lata commencent a 1 :</span></div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043">SINGLE_FILE</a> || <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a23ea36f7593e2b91825cd82fa150b5e4">SINGLE_FILE_MPIIO</a>)</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>      {</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span><span class="comment">// Tous les processeurs ecrivent dans un fichier unique, il faut</span></div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span><span class="comment">// renumeroter les indices pour passer en numerotation globale.</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span><span class="comment">// Le processeur 0 numerote ses sommets de 1 a n0</span></div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span><span class="comment">// Le processeur 1 numerote ses sommets de n0+1 a n0+n1</span></div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span><span class="comment">// etc...</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span><span class="comment">// Decalage a ajouter aux indices pour avoir une numerotation globale.</span></div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> nbsom = sommets.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0);</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>        decalage_sommets += <a class="code hl_function" href="communications_8cpp.html#a13b5bdc7cfe14771b52a033b1ecbc071">mppartial_sum</a>(nbsom);</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> nbelem = elements.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0);</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>        decalage_elements += <a class="code hl_function" href="communications_8cpp.html#a13b5bdc7cfe14771b52a033b1ecbc071">mppartial_sum</a>(nbelem);</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>      }</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span><span class="preprocessor">#ifdef un_seul_fichier_data</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>    nb_elem_tot = <a class="code hl_function" href="classFormat__Post__Lata.html#ab01cd71e3e0e1220bbeb8e144b3f9731">write_inttab</a>(fichier_geom, 1 , decalage_sommets, elements, nb_col,<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    nb_elem_tot = <a class="code hl_function" href="classFormat__Post__Lata.html#ab01cd71e3e0e1220bbeb8e144b3f9731">write_inttab</a>(fichier_geom_elem, 1, decalage_sommets,elements, nb_col,<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>  }</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>  {</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span><span class="comment">// Attention, il faut refermer le fichier avant d&#39;appeler ecrire_item_int</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span><span class="comment">// qui va ouvrir a nouveau le fichier.</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span>    <a class="code hl_class" href="classFichier__Lata__maitre.html">Fichier_Lata_maitre</a> fichier_lata(<a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a>, <a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>(),</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>                                     <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48ad9db95f97d41cea9e4338af8876bd408">Fichier_Lata::APPEND</a>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>    <a class="code hl_class" href="classSFichier.html">SFichier</a>&amp; sfichier = fichier_lata.<a class="code hl_function" href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">get_SFichier</a>();</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span> </div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>    <span class="keywordflow">if</span> (fichier_lata.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>())</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>      {</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        sfichier &lt;&lt; <span class="stringliteral">&quot;GEOM &quot;</span> &lt;&lt; id_domaine;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span> </div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; type_elem=&quot;</span> &lt;&lt; <a class="code hl_function" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>&lt;&lt;<a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>        sfichier &lt;&lt; <span class="stringliteral">&quot;CHAMP SOMMETS &quot;</span>&lt;&lt; <a class="code hl_function" href="classFormat__Post__Lata.html#a033716caeef1f9b96458757fa911e2d8">remove_path</a>(nom_fichier_geom);</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; geometrie=&quot;</span>&lt;&lt;id_domaine;</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span><span class="preprocessor">#ifdef INT_is_64_</span></div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; file_offset=6&quot;</span>;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; size=&quot;</span> &lt;&lt; nb_som_tot;</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; composantes=&quot;</span> &lt;&lt; dim &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>        sfichier &lt;&lt; <span class="stringliteral">&quot;CHAMP ELEMENTS &quot;</span>&lt;&lt; <a class="code hl_function" href="classFormat__Post__Lata.html#a033716caeef1f9b96458757fa911e2d8">remove_path</a>(nom_fichier_geom);</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span><span class="preprocessor">#ifndef un_seul_fichier_data</span></div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>        sfichier&lt;&lt;<span class="stringliteral">&quot;.elem&quot;</span>;</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; geometrie=&quot;</span>&lt;&lt;id_domaine;</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span><span class="preprocessor">#ifdef INT_is_64_</span></div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; file_offset=6&quot;</span>;</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; size=&quot;</span> &lt;&lt; nb_elem_tot&lt;&lt;<span class="stringliteral">&quot; composantes=&quot;</span>&lt;&lt;elements.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(1);</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span> </div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span><span class="preprocessor">#ifdef un_seul_fichier_data</span></div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>        sfichier&lt;&lt;<span class="stringliteral">&quot; file_offset=&quot;</span>&lt;&lt;offset_elem;</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>        <span class="keywordflow">switch</span>(<span class="keyword">sizeof</span>(<a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a>))</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>          {</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>          <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>            sfichier &lt;&lt; <span class="stringliteral">&quot; format=INT32&quot;</span>&lt;&lt;<a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;;</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>          <span class="keywordflow">case</span> 8:</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>            sfichier &lt;&lt; <span class="stringliteral">&quot; format=INT64&quot;</span>&lt;&lt;<a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>          <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>            <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Format_Post_Lata::ecrire_entete\n&quot;</span></div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>                 &lt;&lt; <span class="stringliteral">&quot; sizeof(int) not supported&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span>            <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>          }</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span> </div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>      }</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    fichier_lata.<a class="code hl_function" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">syncfile</a>();</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>  }</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span><span class="comment">// En mode parallele, on ecrit en plus des fichiers contenant les donnees paralleles</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span><span class="comment">// sur les sommets, les elements et les faces...</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>() &gt; 1)</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043">SINGLE_FILE</a> || <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a23ea36f7593e2b91825cd82fa150b5e4">SINGLE_FILE_MPIIO</a>)</div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>      {</div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>        <a class="code hl_class" href="classTRUSTTab.html">IntTab</a> data(1,2);</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>        data(0, 0) = decalage_sommets;</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>        data(0, 1) = sommets.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0);</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>        <a class="code hl_function" href="classFormat__Post__Lata.html#a765bee6912754a2d4e99b9636c1a37b7">ecrire_item_int</a>(<span class="stringliteral">&quot;JOINTS_SOMMETS&quot;</span>,</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>                        id_domaine,</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>                        <span class="stringliteral">&quot;&quot;</span>, <span class="comment">/* id_zone */</span></div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>                        <span class="stringliteral">&quot;&quot;</span>, <span class="comment">/* localisation */</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>                        <span class="stringliteral">&quot;&quot;</span>, <span class="comment">/* reference */</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>                        data,</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>                        0); <span class="comment">/* reference_size */</span></div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>        data(0, 0) = decalage_elements;</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>        data(0, 1) = elements.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0);</div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>        <a class="code hl_function" href="classFormat__Post__Lata.html#a765bee6912754a2d4e99b9636c1a37b7">ecrire_item_int</a>(<span class="stringliteral">&quot;JOINTS_ELEMENTS&quot;</span>,</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>                        id_domaine,</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>                        <span class="stringliteral">&quot;&quot;</span>, <span class="comment">/* id_zone */</span></div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>                        <span class="stringliteral">&quot;&quot;</span>, <span class="comment">/* localisation */</span></div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>                        <span class="stringliteral">&quot;&quot;</span>, <span class="comment">/* reference */</span></div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>                        data,</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>                        0); <span class="comment">/* reference_size */</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>      }</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span> </div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span><span class="comment">// Si on a des frontieres domaine, on les ecrit egalement</span></div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>  <span class="keyword">const</span> <a class="code hl_define" href="List_8h.html#a3149526fb499ddb08728c87daa32c5ad">LIST</a>(<a class="code hl_define" href="Ref_8h.html#aab5720a5c34da14028d0745e386aaa01">REF</a>(<a class="code hl_class" href="classDomaine.html">Domaine</a>)) bords= domaine.<a class="code hl_function" href="classDomaine.html#a9c58695cf1bb26e4962c70045d8bb9ce">domaines_frontieres</a>();</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;bords.size(); i++)</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>    <a class="code hl_function" href="classFormat__Post__Lata.html#a92d88c5811e586076b5483d81ad25968">ecrire_domaine</a>(bords[i].<a class="code hl_function" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>(),est_le_premier_post);</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>  <span class="keywordflow">return</span> 1; <span class="comment">//!&lt; ok tout va bien</span></div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>}</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span> </div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span><span class="comment">//</span></div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span><span class="comment">//</span></div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span><span class="comment">//! commence l&#39;ecriture d&#39;un nouveau pas de temps&lt;br&gt;En l&#39;occurence pour le format LATA:&lt;br&gt;Ouvre le fichier maitre en mode APPEND et ajoute une ligne&lt;br&gt;&quot;TEMPS xxxxx&quot; si ce temps n&#39;a pas encore ete ecrit</span></div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#aaaf4b9007fa3a4031f97457898c8347a">  971</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#aaaf4b9007fa3a4031f97457898c8347a">Format_Post_Lata::ecrire_temps</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> temps)</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>{</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>  <a class="code hl_function" href="classFormat__Post__Lata.html#ae7a80987582ea0ceed6f53362368daa7">ecrire_temps_lata</a>(temps,<a class="code hl_variable" href="classFormat__Post__Lata.html#a377324ba785a6d3bf7c120c078146dd2">temps_courant_</a>,<a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a>,<a class="code hl_variable" href="classFormat__Post__Lata.html#ab0b792d3f25872b859dc9c2170a9ac2d">status</a>,<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>}</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span> </div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span><span class="comment">//! voir Format_Post_base::ecrire_champ</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#aa25778d86c69c83ad8f5f397236ece55">  979</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#aa25778d86c69c83ad8f5f397236ece55">Format_Post_Lata::ecrire_champ</a>(<span class="keyword">const</span> <a class="code hl_class" href="classDomaine.html">Domaine</a>&amp; domaine, <span class="keyword">const</span> <a class="code hl_class" href="classNoms.html">Noms</a>&amp; unite_, <span class="keyword">const</span> <a class="code hl_class" href="classNoms.html">Noms</a>&amp; noms_compo, <span class="keywordtype">int</span> ncomp, <span class="keywordtype">double</span> temps, <span class="keywordtype">double</span> temps_courant, <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; id_du_champ, <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; id_du_domaine,</div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span>                                   <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; localisation, <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; nature, <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">DoubleTab</a>&amp; valeurs)</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>{</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span> </div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span><span class="comment">// recup de lata_v1</span></div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>  <a class="code hl_class" href="classMotcle.html">Motcle</a> id_du_champ_modifie(id_du_champ);</div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>  <a class="code hl_class" href="classMotcle.html">Motcle</a> iddomaine(id_du_domaine);</div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span><span class="comment">// On utilise prefix avec un argument en majuscule</span></div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>  <span class="keywordflow">if</span> ((<a class="code hl_class" href="classMotcle.html">Motcle</a>)localisation==<span class="stringliteral">&quot;SOM&quot;</span>)</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>    {</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>      id_du_champ_modifie.<a class="code hl_function" href="classNom.html#aa296fc70f7abcf978968e09582d8fb06">prefix</a>(id_du_domaine);</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>      id_du_champ_modifie.<a class="code hl_function" href="classNom.html#aa296fc70f7abcf978968e09582d8fb06">prefix</a>(iddomaine);</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span><span class="comment">//</span></div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span>      id_du_champ_modifie.<a class="code hl_function" href="classNom.html#aa296fc70f7abcf978968e09582d8fb06">prefix</a>(<span class="stringliteral">&quot;_SOM_&quot;</span>);</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span>    }</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_class" href="classMotcle.html">Motcle</a>)localisation==<span class="stringliteral">&quot;ELEM&quot;</span>)</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>    {</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>      id_du_champ_modifie.<a class="code hl_function" href="classNom.html#aa296fc70f7abcf978968e09582d8fb06">prefix</a>(id_du_domaine);</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>      id_du_champ_modifie.<a class="code hl_function" href="classNom.html#aa296fc70f7abcf978968e09582d8fb06">prefix</a>(iddomaine);</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span><span class="comment">//</span></div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>      id_du_champ_modifie.<a class="code hl_function" href="classNom.html#aa296fc70f7abcf978968e09582d8fb06">prefix</a>(<span class="stringliteral">&quot;_ELEM_&quot;</span>);</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>    }</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_class" href="classMotcle.html">Motcle</a>)localisation==<span class="stringliteral">&quot;FACES&quot;</span>)</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>    {</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>      id_du_champ_modifie.<a class="code hl_function" href="classNom.html#aa296fc70f7abcf978968e09582d8fb06">prefix</a>(id_du_domaine);</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>      id_du_champ_modifie.<a class="code hl_function" href="classNom.html#aa296fc70f7abcf978968e09582d8fb06">prefix</a>(iddomaine);</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>      id_du_champ_modifie.<a class="code hl_function" href="classNom.html#aa296fc70f7abcf978968e09582d8fb06">prefix</a>(<span class="stringliteral">&quot;_FACES_&quot;</span>);</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>    }</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>  <a class="code hl_class" href="classNom.html">Nom</a>&amp; id_champ=id_du_champ_modifie;</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span><span class="comment">// Construction du nom du fichier</span></div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>  <a class="code hl_class" href="classNom.html">Nom</a> basename_champ(<a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a>);</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>  <a class="code hl_class" href="classNom.html">Nom</a> extension_champ(<a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>());</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>  extension_champ += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>  extension_champ += id_champ;</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>  extension_champ += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>  extension_champ += localisation;</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>  extension_champ += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>  extension_champ += id_du_domaine;</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>  extension_champ += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>  <span class="keywordtype">char</span> str_temps[100] = <span class="stringliteral">&quot;0.0&quot;</span>;</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>  <span class="keywordflow">if</span> (temps &gt;= 0.)</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>    sprintf(str_temps, <span class="stringliteral">&quot;%.10f&quot;</span>, temps);</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>  extension_champ += str_temps;</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span> </div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>  <a class="code hl_class" href="classNom.html">Nom</a> filename_champ;</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>  <span class="keywordtype">int</span> size_tot, nb_compo;</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>  {</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>    <a class="code hl_class" href="classFichier__Lata.html">Fichier_Lata</a> fichier_champ(basename_champ, extension_champ,</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>                               <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48aafea5adb55ed5ecc0b957884c5e754c1">Fichier_Lata::ERASE</a>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a6f47f1f2016cce3ab8bb1b976ed0d921">format_</a>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span> </div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>    filename_champ = fichier_champ.<a class="code hl_function" href="classFichier__Lata.html#adfb113d0fc8e9447c00e5072f702c0ca">get_filename</a>();</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    size_tot = <a class="code hl_function" href="classFormat__Post__Lata.html#a943396fe8d7fbcf408da73a1f59cdebe">write_doubletab</a>(fichier_champ, valeurs, nb_compo, <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>  }</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span> </div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span><span class="comment">// Ouverture du fichier .lata en mode append.</span></div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span><span class="comment">// Ajout de la reference au champ</span></div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>  <a class="code hl_class" href="classFichier__Lata__maitre.html">Fichier_Lata_maitre</a> fichier(<a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a>, <a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>(),</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>                              <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48ad9db95f97d41cea9e4338af8876bd408">Fichier_Lata::APPEND</a>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>  <a class="code hl_class" href="classSFichier.html">SFichier</a>&amp; sfichier = fichier.<a class="code hl_function" href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">get_SFichier</a>();</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>  <span class="keywordflow">if</span> (fichier.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>())</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>    {</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>      sfichier &lt;&lt; <span class="stringliteral">&quot;Champ &quot;</span> &lt;&lt; id_champ &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>      sfichier &lt;&lt; <a class="code hl_function" href="classFormat__Post__Lata.html#a033716caeef1f9b96458757fa911e2d8">remove_path</a>(filename_champ);</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>      sfichier &lt;&lt; <span class="stringliteral">&quot; geometrie=&quot;</span> &lt;&lt; id_du_domaine;</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span><span class="preprocessor">#ifdef INT_is_64_</span></div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>      sfichier &lt;&lt; <span class="stringliteral">&quot; file_offset=6&quot;</span>;</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>      sfichier &lt;&lt; <span class="stringliteral">&quot; localisation=&quot;</span> &lt;&lt; localisation;</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>      sfichier &lt;&lt; <span class="stringliteral">&quot; size=&quot;</span> &lt;&lt; size_tot;</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>      sfichier &lt;&lt; <span class="stringliteral">&quot; nature=&quot;</span> &lt;&lt; nature;</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span> </div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>      sfichier &lt;&lt; <span class="stringliteral">&quot; noms_compo=&quot;</span>&lt;&lt;noms_compo[0];</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=1; k&lt;noms_compo.size(); k++)</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>        sfichier &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>&lt;&lt;noms_compo[k];</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span> </div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>      sfichier &lt;&lt; <span class="stringliteral">&quot; composantes=&quot;</span> &lt;&lt; nb_compo&lt;&lt;<a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span> </div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span><span class="comment">// sfichier &lt;&lt; &quot; type=REAL32&quot; &lt;&lt; finl;</span></div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    }</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>  fichier.<a class="code hl_function" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">syncfile</a>();</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span> </div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>}</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span> </div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span> </div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span><span class="comment">//</span></div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span><span class="comment">//</span></div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span><span class="comment">//</span></div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span><span class="comment">//</span></div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span><span class="comment">//</span></div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span><span class="comment">//</span></div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span><span class="comment">//! voir Format_Post_base::ecrire_champ&lt;br&gt;ATTENTION: si &quot;reference&quot; est non vide on ajoute 1 a toutes les&lt;br&gt;valeurs pour passer en numerotation fortran, et si de plus on&lt;br&gt;ecrit un fichier lata unique pour tous les processeurs, on ajoute un&lt;br&gt;decalage a toutes les valeurs (renumerotation des indices pour&lt;br&gt;passer en numerotation globale, voir le codage de ecrire_domaine&lt;br&gt;par exemple)</span></div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a765bee6912754a2d4e99b9636c1a37b7"> 1072</a></span><span class="comment"></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a765bee6912754a2d4e99b9636c1a37b7">Format_Post_Lata::ecrire_item_int</a>(<span class="comment">//const Nom    &amp; id_champ,</span></div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>  <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp;     id_item,</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>  <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp;     id_du_domaine,</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>  <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp;     id_zone,</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>  <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp;     localisation,</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>  <span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp;     reference,</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span><span class="comment">// const IntTab &amp; valeurs,</span></div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTVect.html">IntVect</a>&amp; val,</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>  <span class="keyword">const</span> <span class="keywordtype">int</span>   reference_size)</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>{</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span><span class="comment">// Construction du nom du fichier</span></div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>  <a class="code hl_class" href="classNom.html">Nom</a> basename_champ(<a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a>);</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>  <a class="code hl_class" href="classNom.html">Nom</a> extension_champ(<a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>());</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>  extension_champ += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span><span class="comment">// extension_champ += id_champ;</span></div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>  extension_champ += id_item;</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>  extension_champ += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>  extension_champ += localisation;</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>  extension_champ += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>  extension_champ += id_du_domaine;</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>  extension_champ += <span class="stringliteral">&quot;.&quot;</span>;</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>  extension_champ += <a class="code hl_class" href="classNom.html">Nom</a>(<a class="code hl_variable" href="classFormat__Post__Lata.html#a377324ba785a6d3bf7c120c078146dd2">temps_courant_</a>);</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span> </div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>  <a class="code hl_class" href="classNom.html">Nom</a> filename_champ;</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>  <span class="keywordtype">int</span> size_tot, nb_compo;</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>  <span class="keyword">const</span> <a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp; valeurs = <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code hl_class" href="classTRUSTTab.html">IntTab</a>&amp;<span class="keyword">&gt;</span>(val);</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>  {</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>    <a class="code hl_class" href="classFichier__Lata.html">Fichier_Lata</a> fichier_champ(basename_champ, extension_champ,</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>                               <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48aafea5adb55ed5ecc0b957884c5e754c1">Fichier_Lata::ERASE</a>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a6f47f1f2016cce3ab8bb1b976ed0d921">format_</a>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span> </div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>    filename_champ = fichier_champ.<a class="code hl_function" href="classFichier__Lata.html#adfb113d0fc8e9447c00e5072f702c0ca">get_filename</a>();</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span><span class="comment">// On suppose que si reference est non vide, c&#39;est un indice</span></div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span><span class="comment">// dans un autre tableau, donc numerotation fortran :</span></div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>    <span class="keywordtype">int</span> decal = 0;</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>    <span class="keywordtype">int</span> decal_partiel=0;</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>    <span class="keywordflow">if</span> (reference != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>      {</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>        decal = 1;</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>        decal_partiel=1;</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043">SINGLE_FILE</a> || <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a23ea36f7593e2b91825cd82fa150b5e4">SINGLE_FILE_MPIIO</a>)</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>          {</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span><span class="comment">// Tous les processeurs ecrivent dans un fichier unique, il faut</span></div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span><span class="comment">// renumeroter les indices pour passer en numerotation globale.</span></div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span><span class="comment">// Decalage a ajouter aux indices pour avoir une numerotation globale.</span></div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>            decal_partiel += <a class="code hl_function" href="communications_8cpp.html#a13b5bdc7cfe14771b52a033b1ecbc071">mppartial_sum</a>(reference_size);</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>          }</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>      }</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span><span class="comment">//</span></div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>    size_tot = <a class="code hl_function" href="classFormat__Post__Lata.html#ab01cd71e3e0e1220bbeb8e144b3f9731">write_inttab</a>(fichier_champ, decal,decal_partiel, valeurs, nb_compo,<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>  }</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>  {</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span><span class="comment">// Ouverture du fichier .lata en mode append.</span></div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span><span class="comment">// Ajout de la reference au champ</span></div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>    <a class="code hl_class" href="classFichier__Lata__maitre.html">Fichier_Lata_maitre</a> fichier(<a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a>, <a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>(),</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>                                <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48ad9db95f97d41cea9e4338af8876bd408">Fichier_Lata::APPEND</a>, <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>    <a class="code hl_class" href="classSFichier.html">SFichier</a>&amp; sfichier = fichier.<a class="code hl_function" href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">get_SFichier</a>();</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    <span class="keywordflow">if</span> (fichier.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>())</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>      {</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span><span class="comment">// sfichier &lt;&lt; &quot;Champ &quot; &lt;&lt; id_champ &lt;&lt; &quot; &quot;;</span></div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>        sfichier &lt;&lt; <span class="stringliteral">&quot;Champ &quot;</span> &lt;&lt; id_item &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>        sfichier &lt;&lt; <a class="code hl_function" href="classFormat__Post__Lata.html#a033716caeef1f9b96458757fa911e2d8">remove_path</a>(filename_champ);</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; geometrie=&quot;</span> &lt;&lt; id_du_domaine;</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span><span class="preprocessor">#ifdef INT_is_64_</span></div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; file_offset=6&quot;</span>;</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>        <span class="keywordflow">if</span> (localisation!=<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>          sfichier &lt;&lt; <span class="stringliteral">&quot; localisation=&quot;</span> &lt;&lt; localisation;</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; size=&quot;</span> &lt;&lt; size_tot;</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>        sfichier &lt;&lt; <span class="stringliteral">&quot; composantes=&quot;</span> &lt;&lt; nb_compo;</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>        <span class="keywordflow">if</span> (reference != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>          sfichier &lt;&lt; <span class="stringliteral">&quot; reference=&quot;</span> &lt;&lt; reference;</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> sz = <span class="keyword">sizeof</span>(<a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a>);</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>        <span class="keywordflow">switch</span>(sz)</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>          {</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>          <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>            sfichier &lt;&lt; <span class="stringliteral">&quot; format=int32&quot;</span>;</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>          <span class="keywordflow">case</span> 8:</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>            sfichier &lt;&lt; <span class="stringliteral">&quot; format=int64&quot;</span>;</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>          <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>            <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Format_Post_Lata::ecrire_champ_lata\n&quot;</span></div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>                 &lt;&lt; <span class="stringliteral">&quot; Integer type not supported: size=&quot;</span> &lt;&lt; sz &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>            <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>          }</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        sfichier &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>      }</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    fichier.<a class="code hl_function" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">syncfile</a>();</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>  }</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span> </div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span><span class="comment">// Astuce pour les donnees paralleles des faces:</span></div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>  <span class="keywordflow">if</span> ((id_item == <span class="stringliteral">&quot;FACES&quot;</span> &amp;&amp; <a class="code hl_function" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a>() &gt; 1) &amp;&amp; (<a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043">SINGLE_FILE</a> || <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a> == <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a23ea36f7593e2b91825cd82fa150b5e4">SINGLE_FILE_MPIIO</a>))</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>    {</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> n = valeurs.<a class="code hl_function" href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">dimension</a>(0);</div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>      <a class="code hl_class" href="classTRUSTTab.html">IntTab</a> data(1,2);</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>      data(0, 0) = 1 + <a class="code hl_function" href="communications_8cpp.html#a13b5bdc7cfe14771b52a033b1ecbc071">mppartial_sum</a>(n);</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>      data(0, 1) = n;</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>      <a class="code hl_function" href="classFormat__Post__Lata.html#a765bee6912754a2d4e99b9636c1a37b7">ecrire_item_int</a>(<span class="stringliteral">&quot;JOINTS_FACES&quot;</span>,</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>                      id_du_domaine,</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>                      <span class="stringliteral">&quot;&quot;</span>, <span class="comment">/* id_zone */</span></div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>                      <span class="stringliteral">&quot;&quot;</span>, <span class="comment">/* localisation */</span></div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>                      <span class="stringliteral">&quot;&quot;</span>, <span class="comment">/* reference */</span></div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>                      data,</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>                      0); <span class="comment">/* reference_size */</span></div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>    }</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>}</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span> </div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a81b8a4f8f4878ab56322946cc89df614"> 1180</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a81b8a4f8f4878ab56322946cc89df614">Format_Post_Lata::ecrire_entete_lata</a>(<span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; base_name,<span class="keyword">const</span> <a class="code hl_enumeration" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94">Options_Para</a>&amp; <a class="code hl_class" href="classoption.html">option</a>,<span class="keyword">const</span> <a class="code hl_enumeration" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53c">Format</a>&amp; format,</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>                                         <span class="keyword">const</span> <span class="keywordtype">int</span> est_le_premier_post)</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>{</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span> </div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>  <span class="keywordflow">if</span> (est_le_premier_post)</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>    {</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span> </div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span><span class="comment">// Determination du format binaire:</span></div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span><span class="comment">// big endian =&gt; l&#39;entier 32 bits &quot;1&quot; s&#39;ecrit 0x00 0x00 0x00 0x01</span></div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span><span class="comment">// little endian =&gt;                           0x01 0x00 0x00 0x00</span></div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>      <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> one = 1;</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>      <span class="keyword">const</span> <span class="keywordtype">int</span> big_endian = (* ((<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)&amp;one) == 0) ? 1 : 0;</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span> </div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span><span class="comment">// Effacement du fichier .lata et ecriture de l&#39;entete</span></div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span><span class="comment">      ////!&lt;                              Fichier_Lata::ERASE,</span></div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span><span class="comment">      ////!&lt;                              options_para_);</span></div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span><span class="comment"></span>      <a class="code hl_class" href="classFichier__Lata__maitre.html">Fichier_Lata_maitre</a> fichier(base_name, <a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>(),</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>                                  <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48aafea5adb55ed5ecc0b957884c5e754c1">Fichier_Lata::ERASE</a>,</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>                                  <a class="code hl_class" href="classoption.html">option</a>);</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span> </div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>      <a class="code hl_class" href="classSFichier.html">SFichier</a>&amp; sfichier = fichier.<a class="code hl_function" href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">get_SFichier</a>();</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>      <span class="keywordflow">if</span> (fichier.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>())</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>        {</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>          sfichier &lt;&lt; <span class="stringliteral">&quot;LATA_V2.1 Trio_U Version1.6 or later&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>          sfichier &lt;&lt; <a class="code hl_function" href="classObjet__U.html#a7c27c4f80259eeef76ff8fe2d3bc61f7">Objet_U::nom_du_cas</a>() &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>          sfichier &lt;&lt; <span class="stringliteral">&quot;Trio_U verbosity=0&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span> </div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>          sfichier &lt;&lt; <span class="stringliteral">&quot;Format &quot;</span>;</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span><span class="comment">//</span></div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>          <span class="keywordflow">switch</span>(format)</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>            {</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53ca64e753afccaf02de631ef2ad18733aab">ASCII</a>:</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>              sfichier &lt;&lt; <span class="stringliteral">&quot;ASCII,&quot;</span>;</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53ca2d3fa963128b6785fca8a03841962e16">BINAIRE</a>:</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>              sfichier &lt;&lt; <span class="stringliteral">&quot;BINAIRE,&quot;</span>;</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span>              <span class="keywordflow">if</span> (big_endian)</div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span>                sfichier &lt;&lt; <span class="stringliteral">&quot;BIG_ENDIAN,&quot;</span>;</div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span>              <span class="keywordflow">else</span></div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>                sfichier &lt;&lt; <span class="stringliteral">&quot;LITTLE_ENDIAN,&quot;</span>;</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Format_Post_Lata::ecrire_entete\n&quot;</span></div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>                   &lt;&lt; <span class="stringliteral">&quot; format not supported&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>              <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>            }</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>          <span class="keywordflow">switch</span>(<span class="keyword">sizeof</span>(<a class="code hl_define" href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a>))</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>            {</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>            <span class="keywordflow">case</span> 4:</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>              sfichier &lt;&lt; <span class="stringliteral">&quot;INT32,&quot;</span>;</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>            <span class="keywordflow">case</span> 8:</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>              sfichier &lt;&lt; <span class="stringliteral">&quot;INT64,&quot;</span>;</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>              <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Format_Post_Lata::ecrire_entete\n&quot;</span></div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>                   &lt;&lt; <span class="stringliteral">&quot; sizeof(int) not supported&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>              <a class="code hl_function" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">exit</a>();</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>            }</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>          sfichier &lt;&lt; <span class="stringliteral">&quot;F_INDEXING,C_ORDERING,F_MARKERS_SINGLE,REAL32&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>        }</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>      fichier.<a class="code hl_function" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">syncfile</a>();</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span> </div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>    }</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span> </div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>}</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#ae7a80987582ea0ceed6f53362368daa7"> 1248</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#ae7a80987582ea0ceed6f53362368daa7">Format_Post_Lata::ecrire_temps_lata</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> temps,<span class="keywordtype">double</span>&amp; temps_format,<span class="keyword">const</span> <a class="code hl_class" href="classNom.html">Nom</a>&amp; base_name,<a class="code hl_enumeration" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacc">Status</a>&amp; stat,<span class="keyword">const</span> <a class="code hl_enumeration" href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94">Options_Para</a>&amp; <a class="code hl_class" href="classoption.html">option</a>)</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>{</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>  assert(stat != <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacca77c87ecaad62a824d2cd3bdfe4b60317">RESET</a>);</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span><span class="comment">// On ecrit le temps que si ce n&#39;est pas le meme...</span></div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>  <span class="keywordflow">if</span> (stat != <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacca38c935f66ff882dfd8690ef36146b9c9">WRITING_TIME</a> || temps_format != temps)</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>    {</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>      temps_format = temps;</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span><span class="comment">// Ouverture du fichier .lata en mode append</span></div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>      <a class="code hl_class" href="classFichier__Lata__maitre.html">Fichier_Lata_maitre</a> fichier(base_name,<a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>(), <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48ad9db95f97d41cea9e4338af8876bd408">Fichier_Lata::APPEND</a>,<a class="code hl_class" href="classoption.html">option</a>);</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>      <span class="keywordflow">if</span> (fichier.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>())</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>        {</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>          fichier.<a class="code hl_function" href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">get_SFichier</a>() &lt;&lt; <span class="stringliteral">&quot;TEMPS &quot;</span> &lt;&lt; temps &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>        }</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>      fichier.<a class="code hl_function" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">syncfile</a>();</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>      stat = <a class="code hl_enumvalue" href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacca38c935f66ff882dfd8690ef36146b9c9">WRITING_TIME</a>;</div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>    }</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>}</div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"><a class="line" href="classFormat__Post__Lata.html#a7207f52f85726f762c01bed3755c403a"> 1266</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="classFormat__Post__Lata.html#a7207f52f85726f762c01bed3755c403a">Format_Post_Lata::finir</a>(<span class="keywordtype">int</span>&amp; est_le_dernier_post)</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>{</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>  <span class="keywordflow">if</span> (est_le_dernier_post)</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>    {</div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>      <a class="code hl_class" href="classFichier__Lata__maitre.html">Fichier_Lata_maitre</a> fichier(<a class="code hl_variable" href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">lata_basename_</a>, <a class="code hl_function" href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">extension_lata</a>(),</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>                                  <a class="code hl_enumvalue" href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48ad9db95f97d41cea9e4338af8876bd408">Fichier_Lata::APPEND</a>,</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>                                  <a class="code hl_variable" href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">options_para_</a>);</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span>      <a class="code hl_class" href="classSFichier.html">SFichier</a>&amp; sfichier = fichier.<a class="code hl_function" href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">get_SFichier</a>();</div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span>      <span class="keywordflow">if</span> (fichier.<a class="code hl_function" href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">is_master</a>())</div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span>        {</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>          sfichier &lt;&lt; <span class="stringliteral">&quot;FIN&quot;</span> &lt;&lt; <a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span> </div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>        }</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>      fichier.<a class="code hl_function" href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">syncfile</a>();</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>    }</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>  <span class="keywordflow">return</span> 1;</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>}</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span> </div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span> </div>
<div class="ttc" id="aCast_8h_html_a9632e68536db6c29c2b754cb55381fbe"><div class="ttname"><a href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a></div><div class="ttdeci">#define sub_type(T, r)</div><div class="ttdef"><b>Definition:</b> <a href="Cast_8h_source.html#l00047">Cast.h:47</a></div></div>
<div class="ttc" id="aDeclare__Inst_8h_html_afcab3f7633508e92f2077d767e19bc60"><div class="ttname"><a href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a></div><div class="ttdeci">#define Implemente_instanciable_sans_constructeur(_TYPE_, _NOM_, _BASE_)</div><div class="ttdef"><b>Definition:</b> <a href="Declare__Inst_8h_source.html#l00101">Declare_Inst.h:101</a></div></div>
<div class="ttc" id="aEFichier_8h_html"><div class="ttname"><a href="EFichier_8h.html">EFichier.h</a></div></div>
<div class="ttc" id="aEcrFicPartageBin_8h_html"><div class="ttname"><a href="EcrFicPartageBin_8h.html">EcrFicPartageBin.h</a></div></div>
<div class="ttc" id="aEcrFicPartageMPIIO_8h_html"><div class="ttname"><a href="EcrFicPartageMPIIO_8h.html">EcrFicPartageMPIIO.h</a></div></div>
<div class="ttc" id="aEntreeSortie_8h_html_a5ebb6b5243d6167369bddecb78d0b5b8"><div class="ttname"><a href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a></div><div class="ttdeci">#define Cerr</div><div class="ttdef"><b>Definition:</b> <a href="EntreeSortie_8h_source.html#l00025">EntreeSortie.h:25</a></div></div>
<div class="ttc" id="aEntreeSortie_8h_html_a7f716d3c5b6411631d5d0700ead09467"><div class="ttname"><a href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a></div><div class="ttdeci">const Separateur finl</div></div>
<div class="ttc" id="aFichier__Lata_8h_html"><div class="ttname"><a href="Fichier__Lata_8h.html">Fichier_Lata.h</a></div></div>
<div class="ttc" id="aField__base_8h_html_a1b86c8f670a9b34da7f628a821fb646b"><div class="ttname"><a href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646b">Nature_du_champ</a></div><div class="ttdeci">Nature_du_champ</div><div class="ttdoc">This is a base class from which inherit Champ_base and Champ_front_base. It handles all the generic a...</div><div class="ttdef"><b>Definition:</b> <a href="Field__base_8h_source.html#l00037">Field_base.h:37</a></div></div>
<div class="ttc" id="aFormat__Post__Lata_8cpp_html_ab18839c853328b785784a699263ad3ee"><div class="ttname"><a href="Format__Post__Lata_8cpp.html#ab18839c853328b785784a699263ad3ee">_LATA_INT_TYPE_</a></div><div class="ttdeci">#define _LATA_INT_TYPE_</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00027">Format_Post_Lata.cpp:27</a></div></div>
<div class="ttc" id="aFormat__Post__Lata_8h_html"><div class="ttname"><a href="Format__Post__Lata_8h.html">Format_Post_Lata.h</a></div></div>
<div class="ttc" id="aList_8h_html_a3149526fb499ddb08728c87daa32c5ad"><div class="ttname"><a href="List_8h.html#a3149526fb499ddb08728c87daa32c5ad">LIST</a></div><div class="ttdeci">#define LIST(_TYPE_)</div><div class="ttdef"><b>Definition:</b> <a href="List_8h_source.html#l00019">List.h:19</a></div></div>
<div class="ttc" id="aParam_8h_html"><div class="ttname"><a href="Param_8h.html">Param.h</a></div></div>
<div class="ttc" id="aRaffiner__Simplexes_8cpp_html_a358dc168d8905bbafc12587204bc9fb8"><div class="ttname"><a href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a></div><div class="ttdeci">int type_elem(const Nom &amp;cell_type)</div><div class="ttdef"><b>Definition:</b> <a href="Raffiner__Simplexes_8cpp_source.html#l00176">Raffiner_Simplexes.cpp:176</a></div></div>
<div class="ttc" id="aRef_8h_html_aab5720a5c34da14028d0745e386aaa01"><div class="ttname"><a href="Ref_8h.html#aab5720a5c34da14028d0745e386aaa01">REF</a></div><div class="ttdeci">#define REF(_TYPE_)</div><div class="ttdef"><b>Definition:</b> <a href="Ref_8h_source.html#l00019">Ref.h:19</a></div></div>
<div class="ttc" id="aSource__Generique__Face__PolyMAC_8cpp_html_a7d7b5d77a3caa1af70f5e1c9108de5a1"><div class="ttname"><a href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a></div><div class="ttdeci">double valeur(const DoubleTab &amp;valeurs_champ, int elem1, int elem2, const int &amp;compo)</div><div class="ttdef"><b>Definition:</b> <a href="Source__Generique__Face__PolyMAC_8cpp_source.html#l00038">Source_Generique_Face_PolyMAC.cpp:38</a></div></div>
<div class="ttc" id="aarch_8h_html_a1caaf369d9c5f0817dbaa76b43b8d87b"><div class="ttname"><a href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a></div><div class="ttdeci">int True_int</div><div class="ttdef"><b>Definition:</b> <a href="arch_8h_source.html#l00080">arch.h:80</a></div></div>
<div class="ttc" id="aarch_8h_html_a58aa6cef3a754a92479a2fb744a5f538"><div class="ttname"><a href="arch_8h.html#a58aa6cef3a754a92479a2fb744a5f538">IOS_OPEN_MODE</a></div><div class="ttdeci">#define IOS_OPEN_MODE</div><div class="ttdoc">Gestion des dependances machines pour l'appel a FORTRAN La macro F77DECLARE(TOTO) permet de declarer ...</div><div class="ttdef"><b>Definition:</b> <a href="arch_8h_source.html#l00044">arch.h:44</a></div></div>
<div class="ttc" id="aclassDeriv__Elem__geom__base_html_ade8d45321a97c0d2bac45ae21decc8db"><div class="ttname"><a href="classDeriv__Elem__geom__base.html#ade8d45321a97c0d2bac45ae21decc8db">Deriv_Elem_geom_base::valeur</a></div><div class="ttdeci">const Elem_geom_base &amp; valeur() const</div><div class="ttdef"><b>Definition:</b> <a href="Elem__geom_8h_source.html#l00037">Elem_geom.h:37</a></div></div>
<div class="ttc" id="aclassDomaine_html"><div class="ttname"><a href="classDomaine.html">Domaine</a></div><div class="ttdoc">Classe Domaine Un Domaine represente le domaine (spatial) de resolution d'un Probleme....</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00051">Domaine.h:52</a></div></div>
<div class="ttc" id="aclassDomaine_html_a0846ac03a10b65c4df911fe35a19c02f"><div class="ttname"><a href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f">Domaine::les_sommets</a></div><div class="ttdeci">DoubleTab &amp; les_sommets()</div><div class="ttdoc">Renvoie le nombre total de sommets.</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00556">Domaine.h:556</a></div></div>
<div class="ttc" id="aclassDomaine_html_a9c58695cf1bb26e4962c70045d8bb9ce"><div class="ttname"><a href="classDomaine.html#a9c58695cf1bb26e4962c70045d8bb9ce">Domaine::domaines_frontieres</a></div><div class="ttdeci">const List_Ref_Domaine &amp; domaines_frontieres() const</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00131">Domaine.h:131</a></div></div>
<div class="ttc" id="aclassDomaine_html_aa0cc7a1301055e1f604935503ad83daa"><div class="ttname"><a href="classDomaine.html#aa0cc7a1301055e1f604935503ad83daa">Domaine::zone</a></div><div class="ttdeci">const Zone &amp; zone(int) const</div><div class="ttdoc">Renvoie la i-ieme zone du domaine. (version const)</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00265">Domaine.h:265</a></div></div>
<div class="ttc" id="aclassDomaine_html_ad15005332b06c50c8fc55364beb6bd36"><div class="ttname"><a href="classDomaine.html#ad15005332b06c50c8fc55364beb6bd36">Domaine::le_nom</a></div><div class="ttdeci">const Nom &amp; le_nom() const override</div><div class="ttdoc">Renvoie le nom du domaine.</div><div class="ttdef"><b>Definition:</b> <a href="Domaine_8h_source.html#l00197">Domaine.h:197</a></div></div>
<div class="ttc" id="aclassEFichier_html"><div class="ttname"><a href="classEFichier.html">EFichier</a></div><div class="ttdoc">Fichier en lecture Cette classe est a la classe C++ ifstream ce que la classe Entree est a la classe ...</div><div class="ttdef"><b>Definition:</b> <a href="EFichier_8h_source.html#l00031">EFichier.h:32</a></div></div>
<div class="ttc" id="aclassEcrFicPartageMPIIO_html"><div class="ttname"><a href="classEcrFicPartageMPIIO.html">EcrFicPartageMPIIO</a></div><div class="ttdoc">Class to use MPI-IO to write in a single file.</div><div class="ttdef"><b>Definition:</b> <a href="EcrFicPartageMPIIO_8h_source.html#l00031">EcrFicPartageMPIIO.h:32</a></div></div>
<div class="ttc" id="aclassEcrFicPartage_html"><div class="ttname"><a href="classEcrFicPartage.html">EcrFicPartage</a></div><div class="ttdef"><b>Definition:</b> <a href="EcrFicPartage_8h_source.html#l00038">EcrFicPartage.h:39</a></div></div>
<div class="ttc" id="aclassEntree__Fichier__base_html_a9e5abc201d0864efb7e22b593556f432"><div class="ttname"><a href="classEntree__Fichier__base.html#a9e5abc201d0864efb7e22b593556f432">Entree_Fichier_base::get_ifstream</a></div><div class="ttdeci">ifstream &amp; get_ifstream()</div><div class="ttdef"><b>Definition:</b> <a href="Entree__Fichier__base_8cpp_source.html#l00050">Entree_Fichier_base.cpp:50</a></div></div>
<div class="ttc" id="aclassEntree__Fichier__base_html_aa208ab6f6dca25a1963d14d15b755cdb"><div class="ttname"><a href="classEntree__Fichier__base.html#aa208ab6f6dca25a1963d14d15b755cdb">Entree_Fichier_base::eof</a></div><div class="ttdeci">int eof() override</div><div class="ttdef"><b>Definition:</b> <a href="Entree__Fichier__base_8cpp_source.html#l00121">Entree_Fichier_base.cpp:121</a></div></div>
<div class="ttc" id="aclassEntree__Fichier__base_html_aca9165bc1712c1057b4d4b91a7ea4fb4"><div class="ttname"><a href="classEntree__Fichier__base.html#aca9165bc1712c1057b4d4b91a7ea4fb4">Entree_Fichier_base::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> <a href="Entree__Fichier__base_8cpp_source.html#l00111">Entree_Fichier_base.cpp:111</a></div></div>
<div class="ttc" id="aclassEntree_html"><div class="ttname"><a href="classEntree.html">Entree</a></div><div class="ttdoc">Classe de definition des operateurs et methodes pour toute lecture dans un flot d'entree&lt;br&gt;(fichier,...</div><div class="ttdef"><b>Definition:</b> <a href="Entree_8h_source.html#l00041">Entree.h:42</a></div></div>
<div class="ttc" id="aclassFichier__Lata__maitre_html"><div class="ttname"><a href="classFichier__Lata__maitre.html">Fichier_Lata_maitre</a></div><div class="ttdoc">: Specialisation du Fichier_Lata pour le fichier maitre: toujours en ASCII. On peut utiliser une prec...</div><div class="ttdef"><b>Definition:</b> <a href="Fichier__Lata_8h_source.html#l00048">Fichier_Lata.h:49</a></div></div>
<div class="ttc" id="aclassFichier__Lata__maitre_html_ad21ee814c656a3aed1304c3450cf323d"><div class="ttname"><a href="classFichier__Lata__maitre.html#ad21ee814c656a3aed1304c3450cf323d">Fichier_Lata_maitre::Fichier_Lata_maitre</a></div><div class="ttdeci">Fichier_Lata_maitre(const char *basename, const char *extension, Mode mode_append, Format_Post_Lata::Options_Para parallel)</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00193">Format_Post_Lata.cpp:193</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html"><div class="ttname"><a href="classFichier__Lata.html">Fichier_Lata</a></div><div class="ttdef"><b>Definition:</b> <a href="Fichier__Lata_8h_source.html#l00026">Fichier_Lata.h:27</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_a08880b23b5155529aee9107caae62db4"><div class="ttname"><a href="classFichier__Lata.html#a08880b23b5155529aee9107caae62db4">Fichier_Lata::is_master</a></div><div class="ttdeci">virtual int is_master() const</div><div class="ttdoc">Si le fichier est de type partage, renvoie 1 si me() est egal au master du groupe et 0 sinon,...</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00167">Format_Post_Lata.cpp:167</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_a18a15a1d2d7f0edccbb258f9da1526b3"><div class="ttname"><a href="classFichier__Lata.html#a18a15a1d2d7f0edccbb258f9da1526b3">Fichier_Lata::get_SFichier</a></div><div class="ttdeci">virtual SFichier &amp; get_SFichier()</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00150">Format_Post_Lata.cpp:150</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_a21152a1ead7a67d50b7f198fe6ed223b"><div class="ttname"><a href="classFichier__Lata.html#a21152a1ead7a67d50b7f198fe6ed223b">Fichier_Lata::fichier_</a></div><div class="ttdeci">SFichier * fichier_</div><div class="ttdef"><b>Definition:</b> <a href="Fichier__Lata_8h_source.html#l00041">Fichier_Lata.h:41</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_a37bcfe5d3baae24dc288388268a9c7df"><div class="ttname"><a href="classFichier__Lata.html#a37bcfe5d3baae24dc288388268a9c7df">Fichier_Lata::filename_</a></div><div class="ttdeci">Nom filename_</div><div class="ttdef"><b>Definition:</b> <a href="Fichier__Lata_8h_source.html#l00040">Fichier_Lata.h:40</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_a4e94dc02f52379815aa8bd786c9f3c16"><div class="ttname"><a href="classFichier__Lata.html#a4e94dc02f52379815aa8bd786c9f3c16">Fichier_Lata::Fichier_Lata</a></div><div class="ttdeci">Fichier_Lata(const char *basename, const char *extension, Mode mode_append, Format_Post_Lata::Format format, Format_Post_Lata::Options_Para parallel)</div><div class="ttdoc">Construit un fichier de type EcrFicPartage(Bin) ou EcrFicPrive(Bin), binaire ou pas selon le parametr...</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00052">Format_Post_Lata.cpp:52</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_a50ff28fb3abad505c0cca8fbf1836294"><div class="ttname"><a href="classFichier__Lata.html#a50ff28fb3abad505c0cca8fbf1836294">Fichier_Lata::~Fichier_Lata</a></div><div class="ttdeci">virtual ~Fichier_Lata()</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00141">Format_Post_Lata.cpp:141</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_adfb113d0fc8e9447c00e5072f702c0ca"><div class="ttname"><a href="classFichier__Lata.html#adfb113d0fc8e9447c00e5072f702c0ca">Fichier_Lata::get_filename</a></div><div class="ttdeci">virtual const Nom &amp; get_filename() const</div><div class="ttdoc">Renvoie le nom du fichier avec le path.</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00158">Format_Post_Lata.cpp:158</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_af042e59f9c02f4d9c4087e126d711426"><div class="ttname"><a href="classFichier__Lata.html#af042e59f9c02f4d9c4087e126d711426">Fichier_Lata::syncfile</a></div><div class="ttdeci">virtual void syncfile()</div><div class="ttdoc">Si le fichier est de type partage, appelle la methode syncfile(), sinon ne fait rien.</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00187">Format_Post_Lata.cpp:187</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_af56e687eb76326f30b3a31eae524ceb3"><div class="ttname"><a href="classFichier__Lata.html#af56e687eb76326f30b3a31eae524ceb3">Fichier_Lata::is_parallel_</a></div><div class="ttdeci">int is_parallel_</div><div class="ttdef"><b>Definition:</b> <a href="Fichier__Lata_8h_source.html#l00042">Fichier_Lata.h:42</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_afadf4963467b3123d9e9ec312644cb48"><div class="ttname"><a href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48">Fichier_Lata::Mode</a></div><div class="ttdeci">Mode</div><div class="ttdef"><b>Definition:</b> <a href="Fichier__Lata_8h_source.html#l00029">Fichier_Lata.h:29</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_afadf4963467b3123d9e9ec312644cb48aafea5adb55ed5ecc0b957884c5e754c1"><div class="ttname"><a href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48aafea5adb55ed5ecc0b957884c5e754c1">Fichier_Lata::ERASE</a></div><div class="ttdeci">@ ERASE</div><div class="ttdef"><b>Definition:</b> <a href="Fichier__Lata_8h_source.html#l00029">Fichier_Lata.h:29</a></div></div>
<div class="ttc" id="aclassFichier__Lata_html_afadf4963467b3123d9e9ec312644cb48ad9db95f97d41cea9e4338af8876bd408"><div class="ttname"><a href="classFichier__Lata.html#afadf4963467b3123d9e9ec312644cb48ad9db95f97d41cea9e4338af8876bd408">Fichier_Lata::APPEND</a></div><div class="ttdeci">@ APPEND</div><div class="ttdef"><b>Definition:</b> <a href="Fichier__Lata_8h_source.html#l00029">Fichier_Lata.h:29</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html"><div class="ttname"><a href="classFormat__Post__Lata.html">Format_Post_Lata</a></div><div class="ttdoc">: Classe de postraitement des champs euleriens au format lata.</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00049">Format_Post_Lata.h:50</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a00aade63a7ab3a3e1b2a0480d1c30e7e"><div class="ttname"><a href="classFormat__Post__Lata.html#a00aade63a7ab3a3e1b2a0480d1c30e7e">Format_Post_Lata::reset</a></div><div class="ttdeci">void reset() override</div><div class="ttdoc">Remet l'objet dans l'etat obtenu par le constructeur par defaut.</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00536">Format_Post_Lata.cpp:536</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a012077404f88dea72612c7c068c8e555"><div class="ttname"><a href="classFormat__Post__Lata.html#a012077404f88dea72612c7c068c8e555">Format_Post_Lata::ecrire_entete</a></div><div class="ttdeci">int ecrire_entete(const double temps_courant, const int reprise, const int est_le_premier_post) override</div><div class="ttdoc">Ouvre le fichier maitre en mode ERASE et ecrit l'entete du fichier lata&lt;br&gt;(sur le processeur maitre ...</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00230">Format_Post_Lata.cpp:230</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a033716caeef1f9b96458757fa911e2d8"><div class="ttname"><a href="classFormat__Post__Lata.html#a033716caeef1f9b96458757fa911e2d8">Format_Post_Lata::remove_path</a></div><div class="ttdeci">static const char * remove_path(const char *filename)</div><div class="ttdoc">Renvoie le nom d'un fichier sans le path : on enleve les caracteres avant le dernier /.</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00218">Format_Post_Lata.cpp:218</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a064f70a875931f52b98386f3bd3fe215"><div class="ttname"><a href="classFormat__Post__Lata.html#a064f70a875931f52b98386f3bd3fe215">Format_Post_Lata::file_existe_</a></div><div class="ttdeci">int file_existe_</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00116">Format_Post_Lata.h:116</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a0e6fbe4681402f309b5744e1c0823077"><div class="ttname"><a href="classFormat__Post__Lata.html#a0e6fbe4681402f309b5744e1c0823077">Format_Post_Lata::initialize_lata</a></div><div class="ttdeci">virtual int initialize_lata(const Nom &amp;file_basename, const Format format=ASCII, const Options_Para options_para=SINGLE_FILE)</div><div class="ttdoc">Initialisation de la classe, ouverture du fichier et ecriture de l'entete.</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00620">Format_Post_Lata.cpp:620</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a13c7dba9ecd33a9c1cd4a4c43d601117"><div class="ttname"><a href="classFormat__Post__Lata.html#a13c7dba9ecd33a9c1cd4a4c43d601117">Format_Post_Lata::readOn</a></div><div class="ttdeci">Entree &amp; readOn(Entree &amp;) override</div><div class="ttdoc">Lecture des parametres du postraitement au format &quot;jeu de donnees&quot; Le format attendu est le suivant: ...</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00563">Format_Post_Lata.cpp:563</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a377324ba785a6d3bf7c120c078146dd2"><div class="ttname"><a href="classFormat__Post__Lata.html#a377324ba785a6d3bf7c120c078146dd2">Format_Post_Lata::temps_courant_</a></div><div class="ttdeci">double temps_courant_</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00131">Format_Post_Lata.h:131</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a37cf02c0fe82cc9f1ee5acf01bca9c34"><div class="ttname"><a href="classFormat__Post__Lata.html#a37cf02c0fe82cc9f1ee5acf01bca9c34">Format_Post_Lata::options_para_</a></div><div class="ttdeci">Options_Para options_para_</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00120">Format_Post_Lata.h:120</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a3f5693f89db8929d0def01d7be96e1db"><div class="ttname"><a href="classFormat__Post__Lata.html#a3f5693f89db8929d0def01d7be96e1db">Format_Post_Lata::preparer_post</a></div><div class="ttdeci">int preparer_post(const Nom &amp;id_du_domaine, const int est_le_premier_post, const int reprise, const double t_init) override</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00294">Format_Post_Lata.cpp:294</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a45372c70a3e930a6513044a2e0d3d441"><div class="ttname"><a href="classFormat__Post__Lata.html#a45372c70a3e930a6513044a2e0d3d441">Format_Post_Lata::modify_file_basename</a></div><div class="ttdeci">int modify_file_basename(const Nom file_basename, const int a_faire, const double tinit) override</div><div class="ttdoc">Modification du nom du fichier de postraitement.</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00634">Format_Post_Lata.cpp:634</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a52aee935ec09662bfb62a602fb45cc71"><div class="ttname"><a href="classFormat__Post__Lata.html#a52aee935ec09662bfb62a602fb45cc71">Format_Post_Lata::set_param</a></div><div class="ttdeci">void set_param(Param &amp;param) override</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00571">Format_Post_Lata.cpp:571</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a6b6fb8c95bad476aa7607d5b184e1b19"><div class="ttname"><a href="classFormat__Post__Lata.html#a6b6fb8c95bad476aa7607d5b184e1b19">Format_Post_Lata::printOn</a></div><div class="ttdeci">Sortie &amp; printOn(Sortie &amp;x) const override</div><div class="ttdoc">erreur =&gt; exit</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00549">Format_Post_Lata.cpp:549</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a6f47f1f2016cce3ab8bb1b976ed0d921"><div class="ttname"><a href="classFormat__Post__Lata.html#a6f47f1f2016cce3ab8bb1b976ed0d921">Format_Post_Lata::format_</a></div><div class="ttdeci">Format format_</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00119">Format_Post_Lata.h:119</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a7207f52f85726f762c01bed3755c403a"><div class="ttname"><a href="classFormat__Post__Lata.html#a7207f52f85726f762c01bed3755c403a">Format_Post_Lata::finir</a></div><div class="ttdeci">int finir(int &amp;est_le_dernier_post) override</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l01266">Format_Post_Lata.cpp:1266</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a765bee6912754a2d4e99b9636c1a37b7"><div class="ttname"><a href="classFormat__Post__Lata.html#a765bee6912754a2d4e99b9636c1a37b7">Format_Post_Lata::ecrire_item_int</a></div><div class="ttdeci">int ecrire_item_int(const Nom &amp;id_item, const Nom &amp;id_du_domaine, const Nom &amp;id_zone, const Nom &amp;localisation, const Nom &amp;reference, const IntVect &amp;data, const int reference_size) override</div><div class="ttdoc">voir Format_Post_base::ecrire_champ ATTENTION: si &quot;reference&quot; est non vide on ajoute 1 a toutes les v...</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l01072">Format_Post_Lata.cpp:1072</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a7c2db13393d70a91930da6edcea52435"><div class="ttname"><a href="classFormat__Post__Lata.html#a7c2db13393d70a91930da6edcea52435">Format_Post_Lata::finir_sans_reprise</a></div><div class="ttdeci">virtual int finir_sans_reprise(const Nom file_basename)</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00740">Format_Post_Lata.cpp:740</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a7ead5ea7b75f70ae7d897f491af27633"><div class="ttname"><a href="classFormat__Post__Lata.html#a7ead5ea7b75f70ae7d897f491af27633">Format_Post_Lata::tinit_</a></div><div class="ttdeci">double tinit_</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00117">Format_Post_Lata.h:117</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a81b8a4f8f4878ab56322946cc89df614"><div class="ttname"><a href="classFormat__Post__Lata.html#a81b8a4f8f4878ab56322946cc89df614">Format_Post_Lata::ecrire_entete_lata</a></div><div class="ttdeci">static int ecrire_entete_lata(const Nom &amp;base_name, const Options_Para &amp;option, const Format &amp;format, const int est_le_premier_post)</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l01180">Format_Post_Lata.cpp:1180</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a8698c5e7e825c54749a7365f7ffff53c"><div class="ttname"><a href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53c">Format_Post_Lata::Format</a></div><div class="ttdeci">Format</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00099">Format_Post_Lata.h:99</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a8698c5e7e825c54749a7365f7ffff53ca2d3fa963128b6785fca8a03841962e16"><div class="ttname"><a href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53ca2d3fa963128b6785fca8a03841962e16">Format_Post_Lata::BINAIRE</a></div><div class="ttdeci">@ BINAIRE</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00099">Format_Post_Lata.h:99</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a8698c5e7e825c54749a7365f7ffff53ca64e753afccaf02de631ef2ad18733aab"><div class="ttname"><a href="classFormat__Post__Lata.html#a8698c5e7e825c54749a7365f7ffff53ca64e753afccaf02de631ef2ad18733aab">Format_Post_Lata::ASCII</a></div><div class="ttdeci">@ ASCII</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00099">Format_Post_Lata.h:99</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a8b67db1cb7b1c0f093633e48ca039851"><div class="ttname"><a href="classFormat__Post__Lata.html#a8b67db1cb7b1c0f093633e48ca039851">Format_Post_Lata::reconstruct</a></div><div class="ttdeci">virtual int reconstruct(const Nom file_basename, const Nom, const double tinit)</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00700">Format_Post_Lata.cpp:700</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a8d55373127916e23ee800ef312f78cdd"><div class="ttname"><a href="classFormat__Post__Lata.html#a8d55373127916e23ee800ef312f78cdd">Format_Post_Lata::lata_basename_</a></div><div class="ttdeci">Nom lata_basename_</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00118">Format_Post_Lata.h:118</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a8de32871f6c5c4602655246c85410a94"><div class="ttname"><a href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94">Format_Post_Lata::Options_Para</a></div><div class="ttdeci">Options_Para</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00100">Format_Post_Lata.h:100</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a8de32871f6c5c4602655246c85410a94a23ea36f7593e2b91825cd82fa150b5e4"><div class="ttname"><a href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a23ea36f7593e2b91825cd82fa150b5e4">Format_Post_Lata::SINGLE_FILE_MPIIO</a></div><div class="ttdeci">@ SINGLE_FILE_MPIIO</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00100">Format_Post_Lata.h:100</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043"><div class="ttname"><a href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94a448f17201fc397a7da69a62ae0637043">Format_Post_Lata::SINGLE_FILE</a></div><div class="ttdeci">@ SINGLE_FILE</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00100">Format_Post_Lata.h:100</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a8de32871f6c5c4602655246c85410a94aef0c737cbac106d4baaade24e94e5028"><div class="ttname"><a href="classFormat__Post__Lata.html#a8de32871f6c5c4602655246c85410a94aef0c737cbac106d4baaade24e94e5028">Format_Post_Lata::MULTIPLE_FILES</a></div><div class="ttdeci">@ MULTIPLE_FILES</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00100">Format_Post_Lata.h:100</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a92d88c5811e586076b5483d81ad25968"><div class="ttname"><a href="classFormat__Post__Lata.html#a92d88c5811e586076b5483d81ad25968">Format_Post_Lata::ecrire_domaine</a></div><div class="ttdeci">int ecrire_domaine(const Domaine &amp;domaine, const int est_le_premier_post) override</div><div class="ttdoc">voir Format_Post_base::ecrire_domaine On accepte l'ecriture d'un domaine dans un pas de temps,...</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00791">Format_Post_Lata.cpp:791</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a92fc4ff60b572d66a7d91ad3eb324cae"><div class="ttname"><a href="classFormat__Post__Lata.html#a92fc4ff60b572d66a7d91ad3eb324cae">Format_Post_Lata::Format_Post_Lata</a></div><div class="ttdeci">Format_Post_Lata()</div><div class="ttdoc">Constructeur par defaut: format_ ASCII et options_para_ = SINGLE_FILE.</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00529">Format_Post_Lata.cpp:529</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a943396fe8d7fbcf408da73a1f59cdebe"><div class="ttname"><a href="classFormat__Post__Lata.html#a943396fe8d7fbcf408da73a1f59cdebe">Format_Post_Lata::write_doubletab</a></div><div class="ttdeci">static int write_doubletab(Fichier_Lata &amp;fichier, const DoubleTab &amp;tab, int &amp;nb_colonnes, const Options_Para &amp;option, const int bloc_number=0, const int nb_blocs=1)</div><div class="ttdoc">fichier est un fichier lata de donnees (pas le fichier maitre) on y ecrit le tableau tab tel quel (en...</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00312">Format_Post_Lata.cpp:312</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a94fde71d0a9cc3249bff7f66cc4aeacc"><div class="ttname"><a href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacc">Format_Post_Lata::Status</a></div><div class="ttdeci">Status</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00101">Format_Post_Lata.h:101</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a94fde71d0a9cc3249bff7f66cc4aeacca38c935f66ff882dfd8690ef36146b9c9"><div class="ttname"><a href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacca38c935f66ff882dfd8690ef36146b9c9">Format_Post_Lata::WRITING_TIME</a></div><div class="ttdeci">@ WRITING_TIME</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00101">Format_Post_Lata.h:101</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a94fde71d0a9cc3249bff7f66cc4aeacca77c87ecaad62a824d2cd3bdfe4b60317"><div class="ttname"><a href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeacca77c87ecaad62a824d2cd3bdfe4b60317">Format_Post_Lata::RESET</a></div><div class="ttdeci">@ RESET</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00101">Format_Post_Lata.h:101</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a94fde71d0a9cc3249bff7f66cc4aeaccae95363a94fad9ca940d985500b7f561f"><div class="ttname"><a href="classFormat__Post__Lata.html#a94fde71d0a9cc3249bff7f66cc4aeaccae95363a94fad9ca940d985500b7f561f">Format_Post_Lata::INITIALIZED</a></div><div class="ttdeci">@ INITIALIZED</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00101">Format_Post_Lata.h:101</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_a9613e7d1141d411bfd6878a98264ea02"><div class="ttname"><a href="classFormat__Post__Lata.html#a9613e7d1141d411bfd6878a98264ea02">Format_Post_Lata::completer_post</a></div><div class="ttdeci">int completer_post(const Domaine &amp;dom, const int axi, const Nature_du_champ &amp;nature, const int nb_compo, const Noms &amp;noms_compo, const Motcle &amp;loc_post, const Nom &amp;le_nom_champ_post) override</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00288">Format_Post_Lata.cpp:288</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_aa25778d86c69c83ad8f5f397236ece55"><div class="ttname"><a href="classFormat__Post__Lata.html#aa25778d86c69c83ad8f5f397236ece55">Format_Post_Lata::ecrire_champ</a></div><div class="ttdeci">int ecrire_champ(const Domaine &amp;domaine, const Noms &amp;unite_, const Noms &amp;noms_compo, int ncomp, double temps_, double temps_courant, const Nom &amp;id_du_champ, const Nom &amp;id_du_domaine, const Nom &amp;localisation, const Nom &amp;nature, const DoubleTab &amp;data) override</div><div class="ttdoc">voir Format_Post_base::ecrire_champ</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00979">Format_Post_Lata.cpp:979</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_aaaf4b9007fa3a4031f97457898c8347a"><div class="ttname"><a href="classFormat__Post__Lata.html#aaaf4b9007fa3a4031f97457898c8347a">Format_Post_Lata::ecrire_temps</a></div><div class="ttdeci">int ecrire_temps(const double temps) override</div><div class="ttdoc">commence l'ecriture d'un nouveau pas de temps En l'occurence pour le format LATA: Ouvre le fichier ma...</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00971">Format_Post_Lata.cpp:971</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_ab01cd71e3e0e1220bbeb8e144b3f9731"><div class="ttname"><a href="classFormat__Post__Lata.html#ab01cd71e3e0e1220bbeb8e144b3f9731">Format_Post_Lata::write_inttab</a></div><div class="ttdeci">static int write_inttab(Fichier_Lata &amp;fichier, int decalage, int decalage_partiel, const IntTab &amp;tab, int &amp;nb_colonnes, const Options_Para &amp;option)</div><div class="ttdoc">Ecriture d'un tableau d'entiers dans le fichier fourni. Les valeurs ecrites sont les valeurs du table...</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00402">Format_Post_Lata.cpp:402</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_ab0b792d3f25872b859dc9c2170a9ac2d"><div class="ttname"><a href="classFormat__Post__Lata.html#ab0b792d3f25872b859dc9c2170a9ac2d">Format_Post_Lata::status</a></div><div class="ttdeci">Status status</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00121">Format_Post_Lata.h:121</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_ac68c7c8febc03ca73ddb231b34167a5d"><div class="ttname"><a href="classFormat__Post__Lata.html#ac68c7c8febc03ca73ddb231b34167a5d">Format_Post_Lata::initialize_by_default</a></div><div class="ttdeci">int initialize_by_default(const Nom &amp;file_basename) override</div><div class="ttdoc">Initialisation de la classe avec des parametres par defaut (format ASCII, SINGLE_FILE)</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00586">Format_Post_Lata.cpp:586</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_ad950c194627e0914bb22bbf887905144"><div class="ttname"><a href="classFormat__Post__Lata.html#ad950c194627e0914bb22bbf887905144">Format_Post_Lata::initialize</a></div><div class="ttdeci">int initialize(const Nom &amp;file_basename, const int format, const Nom &amp;option_para) override</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00593">Format_Post_Lata.cpp:593</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_ae7a80987582ea0ceed6f53362368daa7"><div class="ttname"><a href="classFormat__Post__Lata.html#ae7a80987582ea0ceed6f53362368daa7">Format_Post_Lata::ecrire_temps_lata</a></div><div class="ttdeci">static int ecrire_temps_lata(const double temps, double &amp;temps_format, const Nom &amp;base_name, Status &amp;stat, const Options_Para &amp;option)</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l01248">Format_Post_Lata.cpp:1248</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_aee3312d2f199be29261229ab7f874a40"><div class="ttname"><a href="classFormat__Post__Lata.html#aee3312d2f199be29261229ab7f874a40">Format_Post_Lata::extension_lata</a></div><div class="ttdeci">static const char * extension_lata()</div><div class="ttdoc">Renvoie l'extension conventionnelle des fichiers lata : &quot;.lata&quot;.</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00209">Format_Post_Lata.cpp:209</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_af570869762b22c2b2d6af6cbb915d557"><div class="ttname"><a href="classFormat__Post__Lata.html#af570869762b22c2b2d6af6cbb915d557">Format_Post_Lata::deja_fait_</a></div><div class="ttdeci">int deja_fait_</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8h_source.html#l00116">Format_Post_Lata.h:116</a></div></div>
<div class="ttc" id="aclassFormat__Post__Lata_html_af82d0fac83b47196c54453391e6f6575"><div class="ttname"><a href="classFormat__Post__Lata.html#af82d0fac83b47196c54453391e6f6575">Format_Post_Lata::lire_motcle_non_standard</a></div><div class="ttdeci">int lire_motcle_non_standard(const Motcle &amp;, Entree &amp;) override</div><div class="ttdoc">Lecture des parametres de type non simple d'un objet_U a partir d'un flot d'entree.</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__Lata_8cpp_source.html#l00577">Format_Post_Lata.cpp:577</a></div></div>
<div class="ttc" id="aclassFormat__Post__base_html"><div class="ttname"><a href="classFormat__Post__base.html">Format_Post_base</a></div><div class="ttdoc">Classe de base des formats de postraitements pour les champs&lt;br&gt;(lata, med, lml, meshtv)....</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__base_8h_source.html#l00099">Format_Post_base.h:100</a></div></div>
<div class="ttc" id="aclassFormat__Post__base_html_a7de17922b436b37910dd87417cb27623"><div class="ttname"><a href="classFormat__Post__base.html#a7de17922b436b37910dd87417cb27623">Format_Post_base::readOn</a></div><div class="ttdeci">Entree &amp; readOn(Entree &amp;) override</div><div class="ttdoc">Lecture d'un Objet_U sur un flot d'entree Methode a surcharger.</div><div class="ttdef"><b>Definition:</b> <a href="Format__Post__base_8cpp_source.html#l00029">Format_Post_base.cpp:29</a></div></div>
<div class="ttc" id="aclassMotcle_html"><div class="ttname"><a href="classMotcle.html">Motcle</a></div><div class="ttdoc">Une chaine de caractere (Nom) en majuscules.</div><div class="ttdef"><b>Definition:</b> <a href="Motcle_8h_source.html#l00027">Motcle.h:28</a></div></div>
<div class="ttc" id="aclassNom_html"><div class="ttname"><a href="classNom.html">Nom</a></div><div class="ttdoc">class Nom Une chaine de caractere pour nommer les objets de TRUST NOM_H</div><div class="ttdef"><b>Definition:</b> <a href="Nom_8h_source.html#l00034">Nom.h:35</a></div></div>
<div class="ttc" id="aclassNom_html_a7d94eff3b27fea7103475613072a4553"><div class="ttname"><a href="classNom.html#a7d94eff3b27fea7103475613072a4553">Nom::debute_par</a></div><div class="ttdeci">virtual int debute_par(const char *const n) const</div><div class="ttdef"><b>Definition:</b> <a href="Nom_8cpp_source.html#l00434">Nom.cpp:434</a></div></div>
<div class="ttc" id="aclassNom_html_aa296fc70f7abcf978968e09582d8fb06"><div class="ttname"><a href="classNom.html#aa296fc70f7abcf978968e09582d8fb06">Nom::prefix</a></div><div class="ttdeci">Nom &amp; prefix(const char *const)</div><div class="ttdef"><b>Definition:</b> <a href="Nom_8cpp_source.html#l00444">Nom.cpp:444</a></div></div>
<div class="ttc" id="aclassNoms_html"><div class="ttname"><a href="classNoms.html">Noms</a></div><div class="ttdoc">Un tableau de chaine de caracteres (VECT(Nom))</div><div class="ttdef"><b>Definition:</b> <a href="Noms_8h_source.html#l00029">Noms.h:30</a></div></div>
<div class="ttc" id="aclassObjet__U_html_a58289bb63283588d31dc69b87b3f1d55"><div class="ttname"><a href="classObjet__U.html#a58289bb63283588d31dc69b87b3f1d55">Objet_U::que_suis_je</a></div><div class="ttdeci">const Nom &amp; que_suis_je() const</div><div class="ttdoc">renvoie la chaine identifiant la classe.</div><div class="ttdef"><b>Definition:</b> <a href="Objet__U_8cpp_source.html#l00126">Objet_U.cpp:126</a></div></div>
<div class="ttc" id="aclassObjet__U_html_a7c27c4f80259eeef76ff8fe2d3bc61f7"><div class="ttname"><a href="classObjet__U.html#a7c27c4f80259eeef76ff8fe2d3bc61f7">Objet_U::nom_du_cas</a></div><div class="ttdeci">static const Nom &amp; nom_du_cas()</div><div class="ttdoc">Renvoie une reference constante vers le nom du cas. Cette methode est statique.</div><div class="ttdef"><b>Definition:</b> <a href="Objet__U_8cpp_source.html#l00304">Objet_U.cpp:304</a></div></div>
<div class="ttc" id="aclassObjet__U_html_ad9b82ace9d4c7902ec704b6a78f76991"><div class="ttname"><a href="classObjet__U.html#ad9b82ace9d4c7902ec704b6a78f76991">Objet_U::axi</a></div><div class="ttdeci">static int axi</div><div class="ttdef"><b>Definition:</b> <a href="Objet__U_8h_source.html#l00076">Objet_U.h:76</a></div></div>
<div class="ttc" id="aclassParam_html"><div class="ttname"><a href="classParam.html">Param</a></div><div class="ttdoc">Defined below in this file.</div><div class="ttdef"><b>Definition:</b> <a href="Param_8h_source.html#l00035">Param.h:36</a></div></div>
<div class="ttc" id="aclassProcess_html_a1e9d9f9899b71927cfafae14c7bd048d"><div class="ttname"><a href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d">Process::mp_max</a></div><div class="ttdeci">static double mp_max(double)</div><div class="ttdoc">Calcule le max de x sur tous les processeurs du groupe courant. Remarques : Cette methode doit etre a...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00146">Process.cpp:146</a></div></div>
<div class="ttc" id="aclassProcess_html_a6bf692ce58d9578aa62ac3c07b8caaa1"><div class="ttname"><a href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1">Process::nproc</a></div><div class="ttdeci">static int nproc()</div><div class="ttdoc">renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00099">Process.cpp:99</a></div></div>
<div class="ttc" id="aclassProcess_html_a7d23bc1ef94b3f0623fbc79d034c27fd"><div class="ttname"><a href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd">Process::mp_sum</a></div><div class="ttdeci">static double mp_sum(double)</div><div class="ttdoc">Calcule la somme de x sur tous les processeurs du groupe courant. Voir aussi mp_max()</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00168">Process.cpp:168</a></div></div>
<div class="ttc" id="aclassProcess_html_aa9e74a5c06a68ea38298a08ea401e7b1"><div class="ttname"><a href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1">Process::barrier</a></div><div class="ttdeci">static void barrier()</div><div class="ttdoc">Synchronise tous les processeurs du groupe courant&lt;br&gt;(attend que tous les processeurs soient arrives...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00117">Process.cpp:117</a></div></div>
<div class="ttc" id="aclassProcess_html_ab55ba07167ec807ed3a145cac0f5dca4"><div class="ttname"><a href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4">Process::me</a></div><div class="ttdeci">static int me()</div><div class="ttdoc">renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00107">Process.cpp:107</a></div></div>
<div class="ttc" id="aclassProcess_html_acc2fbbe761e08e5870ae605c0705491c"><div class="ttname"><a href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c">Process::exit</a></div><div class="ttdeci">static void exit(int exit_code=-1)</div><div class="ttdoc">Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00213">Process.cpp:213</a></div></div>
<div class="ttc" id="aclassProcess_html_acd052b99706c577f8a5b6656217cf4c2"><div class="ttname"><a href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2">Process::je_suis_maitre</a></div><div class="ttdeci">static int je_suis_maitre()</div><div class="ttdoc">renvoie 1 si on est sur le processeur maitre du groupe courant (c'est a dire me() == 0),...</div><div class="ttdef"><b>Definition:</b> <a href="Process_8cpp_source.html#l00085">Process.cpp:85</a></div></div>
<div class="ttc" id="aclassSFichier_html"><div class="ttname"><a href="classSFichier.html">SFichier</a></div><div class="ttdoc">Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...</div><div class="ttdef"><b>Definition:</b> <a href="SFichier_8h_source.html#l00030">SFichier.h:31</a></div></div>
<div class="ttc" id="aclassSortie__Fichier__base_html_a4c2ba736a269d1b4c1099262d385fac3"><div class="ttname"><a href="classSortie__Fichier__base.html#a4c2ba736a269d1b4c1099262d385fac3">Sortie_Fichier_base::setf</a></div><div class="ttdeci">void setf(std::_Ios_Fmtflags code) override</div><div class="ttdef"><b>Definition:</b> <a href="Sortie__Fichier__base_8cpp_source.html#l00148">Sortie_Fichier_base.cpp:148</a></div></div>
<div class="ttc" id="aclassSortie__Fichier__base_html_a7e75e18ed580cd4d45912ec202caa2b2"><div class="ttname"><a href="classSortie__Fichier__base.html#a7e75e18ed580cd4d45912ec202caa2b2">Sortie_Fichier_base::ouvrir</a></div><div class="ttdeci">virtual int ouvrir(const char *name, std::_Ios_Openmode mode=ios::out)</div><div class="ttdef"><b>Definition:</b> <a href="Sortie__Fichier__base_8cpp_source.html#l00155">Sortie_Fichier_base.cpp:155</a></div></div>
<div class="ttc" id="aclassSortie__Fichier__base_html_a8341672e95dd856b2c30d7b7d2f649d0"><div class="ttname"><a href="classSortie__Fichier__base.html#a8341672e95dd856b2c30d7b7d2f649d0">Sortie_Fichier_base::precision</a></div><div class="ttdeci">void precision(int pre) override</div><div class="ttdef"><b>Definition:</b> <a href="Sortie__Fichier__base_8cpp_source.html#l00137">Sortie_Fichier_base.cpp:137</a></div></div>
<div class="ttc" id="aclassSortie__Fichier__base_html_ac246a47c4438e3183322c20db2a3323c"><div class="ttname"><a href="classSortie__Fichier__base.html#ac246a47c4438e3183322c20db2a3323c">Sortie_Fichier_base::close</a></div><div class="ttdeci">void close()</div><div class="ttdef"><b>Definition:</b> <a href="Sortie__Fichier__base_8cpp_source.html#l00120">Sortie_Fichier_base.cpp:120</a></div></div>
<div class="ttc" id="aclassSortie__Fichier__base_html_ad69731ab342e17049de30c55b80b6941"><div class="ttname"><a href="classSortie__Fichier__base.html#ad69731ab342e17049de30c55b80b6941">Sortie_Fichier_base::get_ofstream</a></div><div class="ttdeci">ofstream &amp; get_ofstream()</div><div class="ttdef"><b>Definition:</b> <a href="Sortie__Fichier__base_8cpp_source.html#l00115">Sortie_Fichier_base.cpp:115</a></div></div>
<div class="ttc" id="aclassSortie_html"><div class="ttname"><a href="classSortie.html">Sortie</a></div><div class="ttdoc">Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers,...</div><div class="ttdef"><b>Definition:</b> <a href="Sortie_8h_source.html#l00050">Sortie.h:51</a></div></div>
<div class="ttc" id="aclassSortie_html_a1b830c79a55971e0ae7281d13e06cb44"><div class="ttname"><a href="classSortie.html#a1b830c79a55971e0ae7281d13e06cb44">Sortie::set_bin</a></div><div class="ttdeci">virtual int set_bin(int bin)</div><div class="ttdoc">Change le mode d'ecriture du fichier. Cette methode peut etre appelee n'importe quand....</div><div class="ttdef"><b>Definition:</b> <a href="Sortie_8cpp_source.html#l00280">Sortie.cpp:280</a></div></div>
<div class="ttc" id="aclassSortie_html_aa3f46aaccaff0f83c018784b50d8ea24"><div class="ttname"><a href="classSortie.html#aa3f46aaccaff0f83c018784b50d8ea24">Sortie::put</a></div><div class="ttdeci">virtual int put(const unsigned *ob, int n, int nb_colonnes=1)</div><div class="ttdef"><b>Definition:</b> <a href="Sortie_8cpp_source.html#l00126">Sortie.cpp:126</a></div></div>
<div class="ttc" id="aclassSortie_html_ae98acb70e7f3886cab47a51f2de6a976"><div class="ttname"><a href="classSortie.html#ae98acb70e7f3886cab47a51f2de6a976">Sortie::syncfile</a></div><div class="ttdeci">virtual Sortie &amp; syncfile()</div><div class="ttdef"><b>Definition:</b> <a href="Sortie_8cpp_source.html#l00211">Sortie.cpp:211</a></div></div>
<div class="ttc" id="aclassTRUSTArray_html_a12099f562e7ea212f5f2cbffab78b8e8"><div class="ttname"><a href="classTRUSTArray.html#a12099f562e7ea212f5f2cbffab78b8e8">TRUSTArray::addr</a></div><div class="ttdeci">_TYPE_ * addr()</div><div class="ttdoc">!&lt;</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTArray_8tpp_source.html#l00181">TRUSTArray.tpp:181</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html"><div class="ttname"><a href="classTRUSTTab.html">TRUSTTab&lt; double &gt;</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html_a02f5d997850b88e5f307f6ddaf67286e"><div class="ttname"><a href="classTRUSTTab.html#a02f5d997850b88e5f307f6ddaf67286e">TRUSTTab::dimension_tot</a></div><div class="ttdeci">int dimension_tot(int) const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTTab_8tpp_source.html#l00129">TRUSTTab.tpp:129</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html_a2080aac630cb9bfd47030c0c01fdb35d"><div class="ttname"><a href="classTRUSTTab.html#a2080aac630cb9bfd47030c0c01fdb35d">TRUSTTab::nb_dim</a></div><div class="ttdeci">int nb_dim() const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTTab_8h_source.html#l00201">TRUSTTab.h:201</a></div></div>
<div class="ttc" id="aclassTRUSTTab_html_a8fecd3f1f3a13e933c3f767a25c54805"><div class="ttname"><a href="classTRUSTTab.html#a8fecd3f1f3a13e933c3f767a25c54805">TRUSTTab::dimension</a></div><div class="ttdeci">int dimension(int) const</div><div class="ttdef"><b>Definition:</b> <a href="TRUSTTab_8tpp_source.html#l00119">TRUSTTab.tpp:119</a></div></div>
<div class="ttc" id="aclassTRUSTVect_html"><div class="ttname"><a href="classTRUSTVect.html">TRUSTVect&lt; int &gt;</a></div></div>
<div class="ttc" id="aclassZone_html_a615ed15b70dc15fe2c2610f06cdcb64b"><div class="ttname"><a href="classZone.html#a615ed15b70dc15fe2c2610f06cdcb64b">Zone::type_elem</a></div><div class="ttdeci">const Elem_geom &amp; type_elem() const</div><div class="ttdoc">Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l00484">Zone.h:484</a></div></div>
<div class="ttc" id="aclassZone_html_ac115e8342be89afb882b7b61cc343267"><div class="ttname"><a href="classZone.html#ac115e8342be89afb882b7b61cc343267">Zone::les_elems</a></div><div class="ttdeci">IntTab &amp; les_elems()</div><div class="ttdoc">Renvoie le tableau des sommets des elements.</div><div class="ttdef"><b>Definition:</b> <a href="Zone_8h_source.html#l00395">Zone.h:395</a></div></div>
<div class="ttc" id="aclassoption_html"><div class="ttname"><a href="classoption.html">option</a></div><div class="ttdef"><b>Definition:</b> <a href="Solv__Petsc_8h_source.html#l00304">Solv_Petsc.h:305</a></div></div>
<div class="ttc" id="acommunications_8cpp_html_a13b5bdc7cfe14771b52a033b1ecbc071"><div class="ttname"><a href="communications_8cpp.html#a13b5bdc7cfe14771b52a033b1ecbc071">mppartial_sum</a></div><div class="ttdeci">int mppartial_sum(int x)</div><div class="ttdoc">Calul de la somme partielle de i sur les processeurs 0 a me()-1 (renvoie 0 sur le processeur 0)....</div><div class="ttdef"><b>Definition:</b> <a href="communications_8cpp_source.html#l00297">communications.cpp:297</a></div></div>
<div class="ttc" id="acommunications_8h_html"><div class="ttname"><a href="communications_8h.html">communications.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 29 2022 11:11:28 for TRUST by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
