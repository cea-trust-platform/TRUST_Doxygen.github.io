<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/VF/Zones/Zone_VF.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/VF/Zones/Zone_VF.cpp</div>  </div>
</div>
<div class="contents">
<a href="Zone__VF_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2020, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Zone_VF.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/VF/Zones</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/48</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VF_8h.html">Zone_VF.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Periodique_8h.html">Periodique.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Conds__lim_8h.html">Conds_lim.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Static__Int__Lists_8h.html">Static_Int_Lists.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Connectivite__som__elem_8h.html">Connectivite_som_elem.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Faces__builder_8h.html">Faces_builder.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Domaine_8h.html">Domaine.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="MD__Vector__tools_8h.html">MD_Vector_tools.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Scatter_8h.html">Scatter.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="MD__Vector__base_8h.html">MD_Vector_base.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="Analyse__Angle_8h.html">Analyse_Angle.h</a>&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;<a class="code" href="Linear__algebra__tools__impl_8h.html">Linear_algebra_tools_impl.h</a>&gt;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="Zone__VF_8cpp.html#a6f718ca3320112afa437638696c4c426">00037</a> <a class="code" href="Declare__Base_8h.html#ad0be56e3a9cdd8f6dafc3864627fea86">Implemente_base</a>(<a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>,<span class="stringliteral">&quot;Zone_VF&quot;</span>,<a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>);
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="classZone__VF.html#ad766c03e736035233a249c9ee9c8efaf">00039</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classZone__VF.html#ad766c03e736035233a249c9ee9c8efaf" title="Surcharge Objet_U::printOn(Sortie&amp;) NE FAIT RIEN A surcharger dans les classes derivees. Imprime la zone discretisee sur un flot de sortie.">Zone_VF::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00040"></a>00040 <span class="keyword"></span>{
<a name="l00041"></a>00041   os &lt;&lt; <span class="stringliteral">&quot;volumes_ : &quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00042"></a>00042   <a class="code" href="classZone__VF.html#aa3dafba95eaf5c0026d73c9e15b937b0" title="volumes des elements">volumes_</a>.<a class="code" href="classDoubleVect.html#ad55e6b8d8409ed1382d7cb83e0d311a8" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(os);
<a name="l00043"></a>00043 
<a name="l00044"></a>00044   os &lt;&lt; <span class="stringliteral">&quot;volumes_entrelaces_ : &quot;</span> &lt;&lt; finl;
<a name="l00045"></a>00045   <a class="code" href="classZone__VF.html#a4d84eafd75968d81d72275f240390ee8" title="volumes entrelaces pour l&#39;integration des Qdm">volumes_entrelaces_</a>.<a class="code" href="classDoubleVect.html#ad55e6b8d8409ed1382d7cb83e0d311a8" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(os);
<a name="l00046"></a>00046 
<a name="l00047"></a>00047   os &lt;&lt; <span class="stringliteral">&quot;face_voisins_ : &quot;</span> &lt;&lt; finl;
<a name="l00048"></a>00048   <a class="code" href="classZone__VF.html#a0137bd5587e0f140922bb6f21e3f4ea1" title="connectivite face/elements">face_voisins_</a>.<a class="code" href="classIntTab.html#a8f3db153c10005d44b92c7e3c1fdd62b" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(os);
<a name="l00049"></a>00049 
<a name="l00050"></a>00050   os &lt;&lt; <span class="stringliteral">&quot;face_surfaces_ : &quot;</span>&lt;&lt;<a class="code" href="classZone__VF.html#ad7c4a017fc680bb9262bce169e646508" title="surface des faces">face_surfaces_</a>&lt;&lt; finl;
<a name="l00051"></a>00051   <a class="code" href="classZone__VF.html#ad7c4a017fc680bb9262bce169e646508" title="surface des faces">face_surfaces_</a>.<a class="code" href="classDoubleVect.html#ad55e6b8d8409ed1382d7cb83e0d311a8" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(os);
<a name="l00052"></a>00052 
<a name="l00053"></a>00053   os &lt;&lt; <span class="stringliteral">&quot;xp_ : &quot;</span> &lt;&lt; finl;
<a name="l00054"></a>00054   <a class="code" href="classZone__VF.html#ae0dc3dc379de71f9d99115ab6973f0f6" title="centres de gravite des elements">xp_</a>.<a class="code" href="classDoubleTab.html#ab7588e94792cc0be3a3288573c44ca18" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(os);
<a name="l00055"></a>00055 
<a name="l00056"></a>00056   os &lt;&lt; <span class="stringliteral">&quot;xv_ : &quot;</span> &lt;&lt; finl;
<a name="l00057"></a>00057   <a class="code" href="classZone__VF.html#a30d5c38f1825d8d35ce9c83aa37e5aa6" title="centres de gravite des faces">xv_</a>.<a class="code" href="classDoubleTab.html#ab7588e94792cc0be3a3288573c44ca18" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(os);
<a name="l00058"></a>00058 
<a name="l00059"></a>00059   os &lt;&lt; <span class="stringliteral">&quot;elem_faces_ : &quot;</span> &lt;&lt; finl;
<a name="l00060"></a>00060   <a class="code" href="classZone__VF.html#acd9376481d4268df6a0c394c5a1a0e61" title="connectivite element/faces">elem_faces_</a>.<a class="code" href="classIntTab.html#a8f3db153c10005d44b92c7e3c1fdd62b" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(os);
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">// os &lt;&lt; &quot;faces_doubles_ : &quot; &lt;&lt; finl; // PQ : 12/10/05 : a voir ce qu&#39;il faut faire ici ???</span>
<a name="l00063"></a>00063 <span class="comment">// faces_doubles_.ecrit(os);</span>
<a name="l00064"></a>00064 
<a name="l00065"></a>00065   os &lt;&lt; <span class="stringliteral">&quot;face_sommets_ : &quot;</span> &lt;&lt; finl; <span class="comment">//!&lt; PQ : 12/10/05 : a voir ce qu&#39;il faut faire ici ???</span>
<a name="l00066"></a>00066 <span class="comment"></span>  <a class="code" href="classZone__VF.html#aed9555a55cac4a6ce8af5662cea174a1" title="sommets des faces">face_sommets_</a>.<a class="code" href="classIntTab.html#a8f3db153c10005d44b92c7e3c1fdd62b" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(os);
<a name="l00067"></a>00067 
<a name="l00068"></a>00068   os &lt;&lt; <span class="stringliteral">&quot;nb_faces_ : &quot;</span> &lt;&lt; finl;
<a name="l00069"></a>00069   os &lt;&lt; <a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>() &lt;&lt;finl;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071   os &lt;&lt; <span class="stringliteral">&quot;les_bords_ : &quot;</span> &lt;&lt; finl;
<a name="l00072"></a>00072   os &lt;&lt; <a class="code" href="classZone__VF.html#ab582b1b65b2a3740318b6725cddac726">les_bords_</a> &lt;&lt;finl;
<a name="l00073"></a>00073 
<a name="l00074"></a>00074   <a class="code" href="classZone__VF.html#a5c7e26d9b5835ea9eedc6c2adf84dd91" title="Porosites volumiques pour les volumes de controle de masse.">porosite_elem_</a>.<a class="code" href="classDoubleVect.html#ad55e6b8d8409ed1382d7cb83e0d311a8" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(os);
<a name="l00075"></a>00075   <a class="code" href="classZone__VF.html#a990853582d978f50fc54d314f54116c6" title="Porosites surfaciques en masse et volumiques.">porosite_face_</a>.<a class="code" href="classDoubleVect.html#ad55e6b8d8409ed1382d7cb83e0d311a8" title="ecriture des valeurs du tableau &quot;raw&quot; sans structure parallele">ecrit</a>(os);
<a name="l00076"></a>00076   <span class="keywordflow">return</span> os ;
<a name="l00077"></a>00077 }
<a name="l00078"></a>00078 <span class="comment"></span>
<a name="l00079"></a>00079 <span class="comment">////!&lt; readOn </span>
<a name="l00080"></a>00080 <span class="comment"></span><span class="comment">//</span>
<a name="l00081"></a>00081 
<a name="l00082"></a><a class="code" href="classZone__VF.html#a09b53ec3f4d05c40c866fd396952c2eb">00082</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classZone__VF.html#a09b53ec3f4d05c40c866fd396952c2eb" title="Surcharge Objet_U::readOn(Sortie&amp;) NE FAIT RIEN A surcharger dans les classes derivees. Lit une zone discretisee a partir d&#39;un flot d&#39;entree.">Zone_VF::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00083"></a>00083 {
<a name="l00084"></a>00084   <a class="code" href="classZone__VF.html#aa3dafba95eaf5c0026d73c9e15b937b0" title="volumes des elements">volumes_</a>.<a class="code" href="classDoubleVect.html#a7db32fb3a0df0e780d0b94a3c955db88" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(is);
<a name="l00085"></a>00085   <a class="code" href="classZone__VF.html#a4d84eafd75968d81d72275f240390ee8" title="volumes entrelaces pour l&#39;integration des Qdm">volumes_entrelaces_</a>.<a class="code" href="classDoubleVect.html#a7db32fb3a0df0e780d0b94a3c955db88" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(is);
<a name="l00086"></a>00086   <a class="code" href="classZone__VF.html#a0137bd5587e0f140922bb6f21e3f4ea1" title="connectivite face/elements">face_voisins_</a>.<a class="code" href="classIntTab.html#a49f17e879dc8defd3061fe05307fa2dc" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(is);
<a name="l00087"></a>00087   <a class="code" href="classZone__VF.html#ad7c4a017fc680bb9262bce169e646508" title="surface des faces">face_surfaces_</a>.<a class="code" href="classDoubleVect.html#a7db32fb3a0df0e780d0b94a3c955db88" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(is);
<a name="l00088"></a>00088   <a class="code" href="classZone__VF.html#ae0dc3dc379de71f9d99115ab6973f0f6" title="centres de gravite des elements">xp_</a>.<a class="code" href="classDoubleTab.html#a1681f8fe1ff7b26219ab19c4315eb25c" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(is);
<a name="l00089"></a>00089   <a class="code" href="classZone__VF.html#a30d5c38f1825d8d35ce9c83aa37e5aa6" title="centres de gravite des faces">xv_</a>.<a class="code" href="classDoubleTab.html#a1681f8fe1ff7b26219ab19c4315eb25c" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(is);
<a name="l00090"></a>00090   <a class="code" href="classZone__VF.html#acd9376481d4268df6a0c394c5a1a0e61" title="connectivite element/faces">elem_faces_</a>.<a class="code" href="classIntTab.html#a49f17e879dc8defd3061fe05307fa2dc" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(is);
<a name="l00091"></a>00091 <span class="comment">// faces_doubles_.lit(is); // PQ : 12/10/05 : a voir ce qu&#39;il faut faire ici ???</span>
<a name="l00092"></a>00092   <a class="code" href="classZone__VF.html#aed9555a55cac4a6ce8af5662cea174a1" title="sommets des faces">face_sommets_</a>.<a class="code" href="classIntTab.html#a49f17e879dc8defd3061fe05307fa2dc" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(is);
<a name="l00093"></a>00093   <span class="keywordtype">int</span> nb_faces_unused;
<a name="l00094"></a>00094   is &gt;&gt; nb_faces_unused;
<a name="l00095"></a>00095   is &gt;&gt; <a class="code" href="classZone__VF.html#ab582b1b65b2a3740318b6725cddac726">les_bords_</a>;
<a name="l00096"></a>00096   <a class="code" href="classZone__VF.html#a5c7e26d9b5835ea9eedc6c2adf84dd91" title="Porosites volumiques pour les volumes de controle de masse.">porosite_elem_</a>.<a class="code" href="classDoubleVect.html#a7db32fb3a0df0e780d0b94a3c955db88" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(is);
<a name="l00097"></a>00097   <a class="code" href="classZone__VF.html#a990853582d978f50fc54d314f54116c6" title="Porosites surfaciques en masse et volumiques.">porosite_face_</a>.<a class="code" href="classDoubleVect.html#a7db32fb3a0df0e780d0b94a3c955db88" title="lecture d&#39;un tableau pour reprise de calcul. On lit les valeurs &quot;raw&quot;. Attention, si le tableau n&#39;est pas vide, il doit deja avoir la bonne taille et la bonne structure, sinon erreur ! Parameter resize_and_read if the array is sized AND read (by default, yes)">lit</a>(is);
<a name="l00098"></a>00098   <span class="keywordflow">return</span> is ;
<a name="l00099"></a>00099 }
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 <span class="comment">//</span>
<a name="l00102"></a>00102 <span class="comment">//</span><span class="comment"></span>
<a name="l00103"></a>00103 <span class="comment">//! cette methode ne fait rien&lt;br&gt;elle est surchargee par Zone_VDF par ex.</span>
<a name="l00104"></a><a class="code" href="classZone__VF.html#a1a4e88b7d72866d3c06582ff4fe0cf90">00104</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#a1a4e88b7d72866d3c06582ff4fe0cf90" title="cette methode ne fait rien elle est surchargee par Zone_VDF par ex.">Zone_VF::reordonner</a>(<a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; )
<a name="l00105"></a>00105 {
<a name="l00106"></a>00106 }
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 <span class="comment">//</span>
<a name="l00110"></a>00110 <span class="comment">//</span><span class="comment"></span>
<a name="l00111"></a>00111 <span class="comment">//! Genere les faces&lt;br&gt;construits les frontieres</span>
<a name="l00112"></a><a class="code" href="classZone__VF.html#ab147799e94c91fc4b18b190cdd3dbd0a">00112</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#ab147799e94c91fc4b18b190cdd3dbd0a" title="Genere les faces construits les frontieres.">Zone_VF::discretiser</a>()
<a name="l00113"></a>00113 {
<a name="l00114"></a>00114   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;&lt;&lt;&lt;&lt;&lt;&lt; Discretization VF &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00115"></a>00115 
<a name="l00116"></a>00116   <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; lazone=<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>();
<a name="l00117"></a>00117   <a class="code" href="Analyse__Angle_8cpp.html#ac7b3e7d6b9773a3a3ed42c3e730b56c3">histogramme_angle</a>(lazone.<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>(),<a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>);
<a name="l00118"></a>00118   <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>* les_faces_ptr=<a class="code" href="classZone__VF.html#a63f0e00de1a18a12d369f41010baefc9" title="renvoie new(Faces) ! elle est surchargee par Zone_VDF par ex.">creer_faces</a>();
<a name="l00119"></a>00119   <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; les_faces= *les_faces_ptr;
<a name="l00120"></a>00120   {
<a name="l00121"></a>00121     {
<a name="l00122"></a>00122       <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a> type_face = <a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classElem__geom.html#a80ae8c21d0d7e74956065006519370c6" title="Appel a l&#39;objet sous-jacent Renvoie le i-eme type de face de l&#39;element geometrique.">type_face</a>(0);
<a name="l00123"></a>00123       les_faces.<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(type_face);
<a name="l00124"></a>00124       les_faces.<a class="code" href="classFaces.html#a1f8132799487789d4670795c2dbeaa5d" title="Associe les faces a une Zone.">associer_zone</a>(<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>());
<a name="l00125"></a>00125 
<a name="l00126"></a>00126       <a class="code" href="classStatic__Int__Lists.html" title="Cette classe permet de stocker des listes d&#39;entiers accessibles en temps constant. La taille des listes ne peut pas changer sans perdre le contenu (ce sont des listes statiques). Exemple: Static_Int_List l; ArrOfInt tailles(3); tailles[0] = 2; tailles[1] = 3; tailles[2] = 0; // On reserve la memoire pour trois listes de taille 2, 3 et 0: l.set_list_sizes(tailles); // On affecte une valeur au deuxieme element de la premiere liste: l.set_value(0,1,765); // Affiche la valeur Cout &lt;&lt; l(0,1);.">Static_Int_Lists</a> connectivite_som_elem;
<a name="l00127"></a>00127       <span class="keyword">const</span> <span class="keywordtype">int</span>     nb_sommets_tot = <a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a394e61cf1993665886de0fbbd0c0178e" title="Renvoie le nombre total de sommets.">nb_som_tot</a>();
<a name="l00128"></a>00128       <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;    elements       = <a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
<a name="l00129"></a>00129 
<a name="l00130"></a>00130       <a class="code" href="Connectivite__som__elem_8cpp.html#a82161461a228e43ae236c31101ff3ce6" title="construction de la structure som_elem pour la zone donnee On cree pour chaque sommet i la liste des e...">construire_connectivite_som_elem</a>(nb_sommets_tot,
<a name="l00131"></a>00131                                        elements,
<a name="l00132"></a>00132                                        connectivite_som_elem,
<a name="l00133"></a>00133                                        1 <span class="comment">/* include virtual elements */</span>);
<a name="l00134"></a>00134 
<a name="l00135"></a>00135       <a class="code" href="classFaces__builder.html">Faces_builder</a> faces_builder;
<a name="l00136"></a>00136       faces_builder.<a class="code" href="classFaces__builder.html#a5b48ba95888da226cbf702f677656ff6" title="A partir de la description des elements de la zone et des frontieres&lt;br&gt;(bords, raccords, faces internes et joints) : Remplissage des structures suivantes: - pour les frontieres de la zone: fixer_num_premiere_face - les_faces.faces_sommets (faces reeles) - les_faces.faces_voisins (faces reeles) - elem_faces (pour les faces reeles des elements reels) (on initialise elem_faces de taille nb_elem_reels, nb_faces_par_elem) - joints.items_communs(FACE)">creer_faces_reeles</a>(<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>(),
<a name="l00137"></a>00137                                        connectivite_som_elem,
<a name="l00138"></a>00138                                        les_faces,
<a name="l00139"></a>00139                                        <a class="code" href="classZone__VF.html#acd9376481d4268df6a0c394c5a1a0e61" title="connectivite element/faces">elem_faces_</a>);
<a name="l00140"></a>00140     }
<a name="l00141"></a>00141 
<a name="l00142"></a>00142     <a class="code" href="classZone__VF.html#a1a4e88b7d72866d3c06582ff4fe0cf90" title="cette methode ne fait rien elle est surchargee par Zone_VDF par ex.">reordonner</a>(les_faces);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 <span class="comment">// Les faces sont dans l&#39;ordre definitif, on peut remplir</span>
<a name="l00145"></a>00145 <span class="comment">// renum_items_communs des faces:</span>
<a name="l00146"></a>00146     <a class="code" href="classScatter.html#a21f166c05df9be1fc1f02b0604624fe5" title="On suppose que chaque joint[i].joint_item(type_item).items_communs() contient les indices locaux des ...">Scatter::calculer_renum_items_communs</a>(lazone.<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>(), <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba5cfae78048cf95359061c2e812e7d691">Joint::FACE</a>);
<a name="l00147"></a>00147 
<a name="l00148"></a>00148 <span class="comment">// Remplissage de face_voisins des frontieres:</span>
<a name="l00149"></a>00149 <span class="comment">// a factoriser avec DomaineCut.cpp</span>
<a name="l00150"></a>00150     {
<a name="l00151"></a>00151       <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; facevoisins = les_faces.<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>();
<a name="l00152"></a>00152       <span class="keyword">const</span> <span class="keywordtype">int</span> nb_frontieres = lazone.<a class="code" href="classZone.html#a9bf185c52ad1809d954bba670d9aed8a" title="Renvoie le nombre de bords + le nombre de raccords + le nombre de faces frontieres internes...">nb_front_Cl</a>();
<a name="l00153"></a>00153       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_frontiere = 0; i_frontiere &lt; nb_frontieres; i_frontiere++)
<a name="l00154"></a>00154         {
<a name="l00155"></a>00155           <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp;   fr               = lazone.<a class="code" href="classZone.html#ac338b119d4b0bc4f510a223b9086fe5e">frontiere</a>(i_frontiere);
<a name="l00156"></a>00156           <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp;      mes_face_voisins = fr.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>();
<a name="l00157"></a>00157           <span class="keyword">const</span> <span class="keywordtype">int</span> nbfaces         = fr.<a class="code" href="classFrontiere.html#aa073fe9dbdddde59471ee7032b256aa2" title="Renvoie le nombre de faces de la frontiere.">nb_faces</a>();
<a name="l00158"></a>00158           <span class="keyword">const</span> <span class="keywordtype">int</span> premiere_face    = fr.<a class="code" href="classFrontiere.html#a2a41c319a1530c984c356121e5ca2383">num_premiere_face</a>();
<a name="l00159"></a>00159           mes_face_voisins.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nbfaces, 2);
<a name="l00160"></a>00160           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nbfaces; i++)
<a name="l00161"></a>00161             {
<a name="l00162"></a>00162               mes_face_voisins(i, 0) = facevoisins(premiere_face + i, 0);
<a name="l00163"></a>00163               mes_face_voisins(i, 1) = facevoisins(premiere_face + i, 1);
<a name="l00164"></a>00164             }
<a name="l00165"></a>00165         }
<a name="l00166"></a>00166     }
<a name="l00167"></a>00167 
<a name="l00168"></a>00168     <a class="code" href="classScatter.html#af8e062885ea7bbeaffb320e7f718e282" title="Idem que Scatter::calculer_espace_distant_sommets pour les faces.">Scatter::calculer_espace_distant_faces</a>(<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>(), les_faces.<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>(), <a class="code" href="classZone__VF.html#acd9376481d4268df6a0c394c5a1a0e61" title="connectivite element/faces">elem_faces_</a>);
<a name="l00169"></a>00169 <span class="comment">// Apres la methode suivante, on aura le droit d&#39;utiliser creer_tableau_faces() :</span>
<a name="l00170"></a>00170     <a class="code" href="classScatter.html#ae226bc9cab92d0a02b88e2fe014e4a44" title="construction d&#39;un MD_Vector_std a partir des informations de joint du domaine pour le type d&#39;item dem...">Scatter::construire_md_vector</a>(<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().domaine(), les_faces.<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>(), <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba5cfae78048cf95359061c2e812e7d691">Joint::FACE</a>, <a class="code" href="classZone__VF.html#a77a1b32ec941e3f99dcd2d458051375a">md_vector_faces_</a>);
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 
<a name="l00173"></a>00173     <span class="keyword">const</span> <a class="code" href="classMD__Vector.html" title=": Cette classe est un DERIV mais l&#39;objet pointe est partage entre plusieurs instances de cette classe...">MD_Vector</a>&amp; md_vect_sommets = <a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>().<a class="code" href="classDoubleVect.html#a0d16d30580c90526e4895388fb44be5d">get_md_vector</a>();
<a name="l00174"></a>00174     <span class="keyword">const</span> <a class="code" href="classMD__Vector.html" title=": Cette classe est un DERIV mais l&#39;objet pointe est partage entre plusieurs instances de cette classe...">MD_Vector</a>&amp; md_vect_elements = <a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>().<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>();
<a name="l00175"></a>00175 <span class="comment">// Construction de l&#39;espace virtuel du tableau face_sommets</span>
<a name="l00176"></a>00176     <a class="code" href="classScatter.html#a33c68e7eff97ee92b457b50e8e3ad58d" title="Construit la structure items_communs + espaces virtuels d&#39;un tableau contenant des indices d&#39;items ge...">Scatter::construire_espace_virtuel_traduction</a>(<a class="code" href="classZone__VF.html#a77a1b32ec941e3f99dcd2d458051375a">md_vector_faces_</a>, md_vect_sommets, les_faces.<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>());
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 <span class="comment">// Idem pour face_voisins_</span>
<a name="l00179"></a>00179 <span class="comment">// Certaines faces des elements virtuels les plus externes n&#39;ont pas d&#39;element local voisin =&gt; erreurs non fatales</span>
<a name="l00180"></a>00180     <a class="code" href="classScatter.html#a33c68e7eff97ee92b457b50e8e3ad58d" title="Construit la structure items_communs + espaces virtuels d&#39;un tableau contenant des indices d&#39;items ge...">Scatter::construire_espace_virtuel_traduction</a>(<a class="code" href="classZone__VF.html#a77a1b32ec941e3f99dcd2d458051375a">md_vector_faces_</a>, md_vect_elements, les_faces.<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>(), 0 <span class="comment">/* error not fatal */</span>);
<a name="l00181"></a>00181 
<a name="l00182"></a>00182 <span class="comment">// Idem pour elem_faces_</span>
<a name="l00183"></a>00183     <a class="code" href="classScatter.html#a33c68e7eff97ee92b457b50e8e3ad58d" title="Construit la structure items_communs + espaces virtuels d&#39;un tableau contenant des indices d&#39;items ge...">Scatter::construire_espace_virtuel_traduction</a>(md_vect_elements, <a class="code" href="classZone__VF.html#a77a1b32ec941e3f99dcd2d458051375a">md_vector_faces_</a>, <a class="code" href="classZone__VF.html#acd9376481d4268df6a0c394c5a1a0e61" title="connectivite element/faces">elem_faces_</a>);
<a name="l00184"></a>00184 
<a name="l00185"></a>00185     lazone.<a class="code" href="classZone.html#a89ba3ad245d1544c37c309d122399a22" title="Methode appelee par Zone_VF::discretiser(). Construction du descripteur pour les faces de bord Rempli...">init_faces_virt_bord</a>(<a class="code" href="classZone__VF.html#a77a1b32ec941e3f99dcd2d458051375a">md_vector_faces_</a>, <a class="code" href="classZone__VF.html#a0e421a6006a36f7ea146aba25f3f00c5">md_vector_faces_front_</a>);
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <span class="comment">// Calcul des surfaces:</span>
<a name="l00188"></a>00188     les_faces.<a class="code" href="classFaces.html#a8143c6ab93f3350b3f1370d6616953c9" title="Calcule la surface des faces.">calculer_surfaces</a>(<a class="code" href="classZone__VF.html#ad7c4a017fc680bb9262bce169e646508" title="surface des faces">face_surfaces_</a>);
<a name="l00189"></a>00189 <span class="comment">// Calcul de la surface des faces virtuelles</span>
<a name="l00190"></a>00190     <a class="code" href="classMD__Vector.html" title=": Cette classe est un DERIV mais l&#39;objet pointe est partage entre plusieurs instances de cette classe...">MD_Vector</a> md_nul;
<a name="l00191"></a>00191     <a class="code" href="classZone__VF.html#a8e02e68f236356f72728b82536538ac5">creer_tableau_faces</a>(<a class="code" href="classZone__VF.html#ad7c4a017fc680bb9262bce169e646508" title="surface des faces">face_surfaces_</a>);
<a name="l00192"></a>00192     <a class="code" href="classZone__VF.html#ad7c4a017fc680bb9262bce169e646508" title="surface des faces">face_surfaces_</a>.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00193"></a>00193     <a class="code" href="classZone__VF.html#ad7c4a017fc680bb9262bce169e646508" title="surface des faces">face_surfaces_</a>.<a class="code" href="classDoubleVect.html#a63f1c9da5548085b7b2f7a9e54611a0d" title="associe le md_vector au vecteur et initialise l&#39;attribut size_reelle_ (voir methode size_reelle()) Si...">set_md_vector</a>(md_nul); <span class="comment">//!&lt; Detache la structure parallele</span>
<a name="l00194"></a>00194 <span class="comment"></span>
<a name="l00195"></a>00195 <span class="comment">// Changement a la v1.5.7 beta: xv_ a maintenant un descripteur parallele: dimension(0)=nb_faces</span>
<a name="l00196"></a>00196     les_faces.<a class="code" href="classFaces.html#aff1f39c3e63c21260ab8c49497dd3a3f" title="Calcule les centres de gravite de chaque face.">calculer_centres_gravite</a>(<a class="code" href="classZone__VF.html#a30d5c38f1825d8d35ce9c83aa37e5aa6" title="centres de gravite des faces">xv_</a>);
<a name="l00197"></a>00197 
<a name="l00198"></a>00198     <a class="code" href="classZone__VF.html#a816ac37fd526f962468cae6fbd8061f8" title="renvoie le tableaux des volumes des connectivites face elements cf au dessus.">face_voisins</a>().<a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">ref</a>(les_faces.<a class="code" href="classFaces.html#af49c4448e67aa7c732c2cc1dc237b442" title="Renvoie le tableau des voisins (des faces).">voisins</a>());
<a name="l00199"></a>00199     <a class="code" href="classZone__VF.html#a6cac6a6e8fc1e7b0381b7b15eb451257" title="renvoie le tableau de connectivite faces/sommets.">face_sommets</a>().<a class="code" href="classIntTab.html#ae9ae8fefb1fda4a5c035229ab420a96d" title="fait pointer le tableau sur le vecteur v et en associant la meme structure parallele. Attention, si line_size du vecteur v est different de 1, on cree un tableau bidimensionnel (on peut avoir un vecteur de ce type si on copie un Tab dans un Vect puis on prend une ref sur ce Vect).">ref</a>(les_faces.<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>());
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 <span class="comment">// Calcul des volumes</span>
<a name="l00202"></a>00202     lazone.<a class="code" href="classZone.html#ad7300cf52a8b6880346dafa3c73b5d3a" title="Calcule les volumes des elements de la zone.">calculer_volumes</a>(<a class="code" href="classZone__VF.html#aa3dafba95eaf5c0026d73c9e15b937b0" title="volumes des elements">volumes_</a>, <a class="code" href="classZone__VF.html#a9d62d3786b5f3ebe632f1c835f337f8b" title="inverse du volumes des elements">inverse_volumes_</a>);
<a name="l00203"></a>00203   }
<a name="l00204"></a>00204   {
<a name="l00205"></a>00205     <span class="keywordtype">int</span> i=0, derniere=lazone.<a class="code" href="classZone.html#a7d6ba9a2216d306cb0a0bf3dfff6f170" title="Renvoie le nombre de bords de la zone.">nb_bords</a>();
<a name="l00206"></a>00206     <a class="code" href="classZone__VF.html#ab582b1b65b2a3740318b6725cddac726">les_bords_</a>.<a class="code" href="classvect__impl.html#ad841d6b676a796bae26ed2566b7b3b41">dimensionner</a>(<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone__dis__base.html#af22167d614644f55591a29c77eb1c009">nb_front_Cl</a>());
<a name="l00207"></a>00207     <span class="keywordflow">for</span>(; i&lt;derniere; i++)
<a name="l00208"></a>00208       {
<a name="l00209"></a>00209         <a class="code" href="classZone__VF.html#ab582b1b65b2a3740318b6725cddac726">les_bords_</a>[i].associer_frontiere(lazone.<a class="code" href="classZone.html#af2f1e6a14af55249979da674e7aac11a" title="Renvoie le i-ieme bord de la zone&lt;br&gt;(version const)">bord</a>(i));
<a name="l00210"></a>00210         <a class="code" href="classZone__VF.html#ab582b1b65b2a3740318b6725cddac726">les_bords_</a>[i].associer_Zone_dis(*<span class="keyword">this</span>);
<a name="l00211"></a>00211       }
<a name="l00212"></a>00212     <span class="keywordtype">int</span> decal=derniere;
<a name="l00213"></a>00213     derniere+=<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a150d1dac14da48d5f22abdae26fd85f3" title="Renvoie le nombre de raccords de la zone.">nb_raccords</a>();
<a name="l00214"></a>00214     <span class="keywordflow">for</span>(; i&lt;derniere; i++)
<a name="l00215"></a>00215       {
<a name="l00216"></a>00216         <span class="keywordtype">int</span> j=i-decal;
<a name="l00217"></a>00217         <a class="code" href="classZone__VF.html#ab582b1b65b2a3740318b6725cddac726">les_bords_</a>[i].associer_frontiere(lazone.<a class="code" href="classZone.html#a83ed6844a8fa95eca730acfc873e75e7" title="Renvoie le i-ieme raccord de la zone&lt;br&gt;(version const)">raccord</a>(j).<a class="code" href="classDeriv__Raccord__base.html#a00893b6e21deda193b9f429651361f14">valeur</a>());
<a name="l00218"></a>00218         <a class="code" href="classZone__VF.html#ab582b1b65b2a3740318b6725cddac726">les_bords_</a>[i].associer_Zone_dis(*<span class="keyword">this</span>);
<a name="l00219"></a>00219       }
<a name="l00220"></a>00220     decal=derniere;
<a name="l00221"></a>00221     derniere+=<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a7b5f5bf35f453887740c1729d7e9e492" title="Renvoie le nombre de frontieres internes de la zone.">nb_frontieres_internes</a>();
<a name="l00222"></a>00222     <span class="keywordflow">for</span>(; i&lt;derniere; i++)
<a name="l00223"></a>00223       {
<a name="l00224"></a>00224         <span class="keywordtype">int</span> j=i-decal;
<a name="l00225"></a>00225         <a class="code" href="classZone__VF.html#ab582b1b65b2a3740318b6725cddac726">les_bords_</a>[i].associer_frontiere(lazone.<a class="code" href="classZone.html#a191d70c843e11613835d95505353305f" title="Renvoie les i-ieme faces internes de la zone&lt;br&gt;(version const)">faces_interne</a>(j));
<a name="l00226"></a>00226         <a class="code" href="classZone__VF.html#ab582b1b65b2a3740318b6725cddac726">les_bords_</a>[i].associer_Zone_dis(*<span class="keyword">this</span>);
<a name="l00227"></a>00227       }
<a name="l00228"></a>00228   }
<a name="l00229"></a>00229 <span class="comment">// Centre de gravite des elements (tableau xp_)</span>
<a name="l00230"></a>00230   lazone.<a class="code" href="classZone.html#ad8104f9be27f9c357e345b281a79064e" title="Calcule les centres de gravites des elements de la zone.">calculer_centres_gravite</a>(<a class="code" href="classZone__VF.html#ae0dc3dc379de71f9d99115ab6973f0f6" title="centres de gravite des elements">xp_</a>);
<a name="l00231"></a>00231 <span class="comment">// Centre de gravite de la zone</span>
<a name="l00232"></a>00232   <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> c(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l00233"></a>00233   lazone.<a class="code" href="classZone.html#aa44fa68659cef85399685d649ae1f82c" title="Calcule le centre de gravite de la zone.">calculer_mon_centre_de_gravite</a>(c);
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 <span class="comment">// On cree les domaines frontieres</span>
<a name="l00236"></a>00236   lazone.<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a5dfc0ff9d38992281bbb1270fdbd255d">creer_mes_domaines_frontieres</a>(*<span class="keyword">this</span>);
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 <span class="comment">// Attention : ca ne remplit pas elem_faces, ca fait</span>
<a name="l00239"></a>00239 <span class="comment">// creer_faces_virtuelles_non_std() en VEF :</span>
<a name="l00240"></a>00240   <a class="code" href="classZone__VF.html#a03f908e0365f9afa24ddcdb52cb194cc">remplir_elem_faces</a>();
<a name="l00241"></a>00241 
<a name="l00242"></a>00242   <span class="keyword">delete</span> les_faces_ptr;
<a name="l00243"></a>00243 
<a name="l00244"></a>00244 <span class="comment">// Fill in the table face_numero_bord</span>
<a name="l00245"></a>00245   <a class="code" href="classZone__VF.html#ab5e9a4772d044c7ca6b314f7058ec673">remplir_face_numero_bord</a>();
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 <span class="comment">//</span>
<a name="l00248"></a>00248 <span class="comment">// On imprime des infos</span>
<a name="l00249"></a>00249 <span class="comment">//</span>
<a name="l00250"></a>00250   lazone.<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a059af9d067d119928c0e2af6c9a454a1">imprimer</a>();        <span class="comment">//!&lt; Extremas du domaine et volumes</span>
<a name="l00251"></a>00251 <span class="comment"></span>  <a class="code" href="classZone__VF.html#a1395dff26b70b5f629be228f1f2052d8">infobord</a>();                        <span class="comment">//!&lt; Aires des bords</span>
<a name="l00252"></a>00252 <span class="comment"></span>  <a class="code" href="classZone__VF.html#a8df65acd93e7bed179a7761fbbb88062">info_elem_som</a>();                <span class="comment">//!&lt; Nombre elements et sommets</span>
<a name="l00253"></a>00253 <span class="comment"></span>  <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;&lt;&lt;&lt;&lt;&lt;&lt; End of Discretization VF &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span> &lt;&lt; finl;
<a name="l00254"></a>00254 }
<a name="l00255"></a>00255 
<a name="l00256"></a><a class="code" href="classZone__VF.html#ac718db6d99f0dcdc87bf8c4152dbd48a">00256</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#ac718db6d99f0dcdc87bf8c4152dbd48a">Zone_VF::remplir_face_voisins_fictifs</a>(<span class="keyword">const</span> <a class="code" href="classZone__Cl__dis__base.html" title="classe Zone_Cl_dis_base Les objets Zone_Cl_dis_base representent les conditions aux limites discretis...">Zone_Cl_dis_base</a>&amp; )
<a name="l00257"></a>00257 {
<a name="l00258"></a>00258   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot; Zone_VF::remplir_face_voisins_fictifs(const Zone_Cl_dis_base&amp; ) must be overloaded by&quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00259"></a>00259   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00260"></a>00260   assert(0);
<a name="l00261"></a>00261 }
<a name="l00262"></a>00262 
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 <span class="comment">//</span>
<a name="l00266"></a>00266 <span class="comment">//</span><span class="comment"></span>
<a name="l00267"></a>00267 <span class="comment">//! renvoie new(Faces) !&lt;br&gt;elle est surchargee par Zone_VDF par ex.</span>
<a name="l00268"></a><a class="code" href="classZone__VF.html#a63f0e00de1a18a12d369f41010baefc9">00268</a> <span class="comment"></span><a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>* <a class="code" href="classZone__VF.html#a63f0e00de1a18a12d369f41010baefc9" title="renvoie new(Faces) ! elle est surchargee par Zone_VDF par ex.">Zone_VF::creer_faces</a>()
<a name="l00269"></a>00269 {
<a name="l00270"></a>00270   <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>* les_faces=<span class="keyword">new</span>(<a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>);
<a name="l00271"></a>00271   <span class="keywordflow">return</span> les_faces;
<a name="l00272"></a>00272 }
<a name="l00273"></a>00273 
<a name="l00274"></a><a class="code" href="classZone__VF.html#a9f0a628711baca94adde68020c1b9954">00274</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#a9f0a628711baca94adde68020c1b9954">Zone_VF::modifier_pour_Cl</a>(<span class="keyword">const</span> <a class="code" href="classConds__lim.html">Conds_lim</a>&amp; conds_lim)
<a name="l00275"></a>00275 {
<a name="l00276"></a>00276   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Zone_VF::modifier_pour_Cl&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00277"></a>00277   <span class="keywordtype">int</span> nb_cond_lim=conds_lim.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>();
<a name="l00278"></a>00278   <span class="keywordtype">int</span> i=0;
<a name="l00279"></a>00279   <span class="keywordflow">for</span> (; i&lt;nb_cond_lim; i++)
<a name="l00280"></a>00280     {
<a name="l00281"></a>00281 <span class="comment">// for( cl ...</span>
<a name="l00282"></a>00282       <span class="keyword">const</span> <a class="code" href="classCond__lim__base.html" title="classe Cond_lim_base Classe de base pour la hierarchie des classes qui representent les differentes c...">Cond_lim_base</a>&amp; cl=conds_lim[i].valeur();
<a name="l00283"></a>00283       <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classPeriodique.html" title="classe Periodique Cette classe represente une condition aux limites periodique. On peut specifier une...">Periodique</a>, cl))
<a name="l00284"></a>00284         {
<a name="l00285"></a>00285 <span class="comment">// if (perio ...</span>
<a name="l00286"></a>00286 <span class="comment">// Modifications du tableau face_voisins</span>
<a name="l00287"></a>00287 <span class="comment">// Une face de type periodicite doit avoir les memes voisins que</span>
<a name="l00288"></a>00288 <span class="comment">// sa face associee</span>
<a name="l00289"></a>00289 <span class="comment">// face_voisins(face,j) = face_voisins(face_associee(face),j)  j=1,2</span>
<a name="l00290"></a>00290 <span class="comment">// </span>
<a name="l00291"></a>00291 
<a name="l00292"></a>00292           <span class="keyword">const</span> <a class="code" href="classPeriodique.html" title="classe Periodique Cette classe represente une condition aux limites periodique. On peut specifier une...">Periodique</a>&amp; la_cl_period = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classPeriodique.html" title="classe Periodique Cette classe represente une condition aux limites periodique. On peut specifier une...">Periodique</a>,cl);
<a name="l00293"></a>00293           <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; frontieredis = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,la_cl_period.<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00294"></a>00294 
<a name="l00295"></a>00295           <span class="keywordtype">int</span> nb_face_bord = frontieredis.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00296"></a>00296           <span class="keywordtype">int</span> ndeb =0;
<a name="l00297"></a>00297           <span class="keywordtype">int</span> nfin = frontieredis.<a class="code" href="classFront__VF.html#aed4006d91bf2ef3af2b9f7933d863a09" title="Nombre de faces reelles et virtuelles du bord.">nb_faces_tot</a>();
<a name="l00298"></a>00298 <span class="preprocessor">#ifndef NDEBUG</span>
<a name="l00299"></a>00299 <span class="preprocessor"></span>          <span class="keywordtype">int</span> num_premiere_face = frontieredis.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>();
<a name="l00300"></a>00300           <span class="keywordtype">int</span> num_derniere_face = num_premiere_face+nfin;
<a name="l00301"></a>00301 <span class="preprocessor">#endif</span>
<a name="l00302"></a>00302 <span class="preprocessor"></span>          <span class="keywordtype">int</span> face;
<a name="l00303"></a>00303 
<a name="l00304"></a>00304           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ind_face=ndeb; ind_face&lt;nfin; ind_face++)
<a name="l00305"></a>00305             {
<a name="l00306"></a>00306               face = frontieredis.<a class="code" href="classFront__VF.html#a3402a19d7e54ed797d2b18e9a47ead1e" title="Renvoie le numero de face de la ieme face du bord.">num_face</a>(ind_face);
<a name="l00307"></a>00307               <span class="keywordtype">int</span> faassociee = la_cl_period.<a class="code" href="classPeriodique.html#a207b86556f199a63ea059b841851ca6a">face_associee</a>(ind_face);
<a name="l00308"></a>00308               faassociee = frontieredis.<a class="code" href="classFront__VF.html#a3402a19d7e54ed797d2b18e9a47ead1e" title="Renvoie le numero de face de la ieme face du bord.">num_face</a>(faassociee);
<a name="l00309"></a>00309               <span class="keywordflow">if</span> (ind_face&lt;nb_face_bord)
<a name="l00310"></a>00310                 {
<a name="l00311"></a>00311                   assert(faassociee&gt;=num_premiere_face);
<a name="l00312"></a>00312                   assert(faassociee&lt;num_derniere_face);
<a name="l00313"></a>00313                 }
<a name="l00314"></a>00314 
<a name="l00315"></a>00315               <span class="keywordflow">if</span> (<a class="code" href="classZone__VF.html#a0137bd5587e0f140922bb6f21e3f4ea1" title="connectivite face/elements">face_voisins_</a>(face,0) == -1)
<a name="l00316"></a>00316                 <a class="code" href="classZone__VF.html#a0137bd5587e0f140922bb6f21e3f4ea1" title="connectivite face/elements">face_voisins_</a>(face,0) = <a class="code" href="classZone__VF.html#a0137bd5587e0f140922bb6f21e3f4ea1" title="connectivite face/elements">face_voisins_</a>(faassociee,0);
<a name="l00317"></a>00317               <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classZone__VF.html#a0137bd5587e0f140922bb6f21e3f4ea1" title="connectivite face/elements">face_voisins_</a>(face,1) == -1)
<a name="l00318"></a>00318                 <a class="code" href="classZone__VF.html#a0137bd5587e0f140922bb6f21e3f4ea1" title="connectivite face/elements">face_voisins_</a>(face,1) = <a class="code" href="classZone__VF.html#a0137bd5587e0f140922bb6f21e3f4ea1" title="connectivite face/elements">face_voisins_</a>(faassociee,1);
<a name="l00319"></a>00319             }
<a name="l00320"></a>00320         }
<a name="l00321"></a>00321     }
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 
<a name="l00324"></a>00324 <span class="comment">// PQ : 10/10/05 : les faces periodiques etant a double contribution</span>
<a name="l00325"></a>00325 <span class="comment">// l&#39;appel a marquer_faces_double_contrib s&#39;effectue dans cette methode</span>
<a name="l00326"></a>00326 <span class="comment">// afin de pouvoir beneficier de conds_lim.</span>
<a name="l00327"></a>00327 
<a name="l00328"></a>00328 
<a name="l00329"></a>00329   <a class="code" href="classZone__VF.html#a70e4e330a3466cc3c26293e3642a77b1">marquer_faces_double_contrib</a>(conds_lim);
<a name="l00330"></a>00330 <span class="comment">// Construction du tableau num_fac_loc_</span>
<a name="l00331"></a>00331   <a class="code" href="classZone__VF.html#ae458912686868223fba585abfa017404">construire_num_fac_loc</a>();
<a name="l00332"></a>00332 }
<a name="l00333"></a>00333 
<a name="l00334"></a>00334 <span class="comment">// Methode pour la construction du tableau num_fac_loc_</span>
<a name="l00335"></a><a class="code" href="classZone__VF.html#ae458912686868223fba585abfa017404">00335</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#ae458912686868223fba585abfa017404">Zone_VF::construire_num_fac_loc</a>()
<a name="l00336"></a>00336 {
<a name="l00337"></a>00337   <span class="keyword">const</span> <span class="keywordtype">int</span> size = <a class="code" href="classZone__VF.html#a50fd21c9535680489015a3c8b88c685a" title="renvoie le nombre total de faces. C&#39;est-a-dire faces reelles + faces virtuelles">nb_faces_tot</a>();
<a name="l00338"></a>00338   <a class="code" href="classZone__VF.html#abb7ff43c48b390285c420ff1bc751c47">num_fac_loc_</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(size,2);
<a name="l00339"></a>00339   <a class="code" href="classZone__VF.html#abb7ff43c48b390285c420ff1bc751c47">num_fac_loc_</a>=-1;
<a name="l00340"></a>00340   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face=0; face&lt;size; face++)
<a name="l00341"></a>00341     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> voisin=0; voisin&lt;2; voisin++)
<a name="l00342"></a>00342       {
<a name="l00343"></a>00343         <span class="keywordtype">int</span> elem = <a class="code" href="classZone__VF.html#a0137bd5587e0f140922bb6f21e3f4ea1" title="connectivite face/elements">face_voisins_</a>(face,voisin);
<a name="l00344"></a>00344         <span class="keywordflow">if</span>(elem!=-1)
<a name="l00345"></a>00345           {
<a name="l00346"></a>00346             <span class="keywordtype">int</span> face_loc = <a class="code" href="classZone__VF.html#abdf2e76a8da91b65ffbed3e47edd2558">numero_face_local</a>(face,elem);
<a name="l00347"></a>00347             <span class="keywordflow">if</span> (face_loc != -1) <a class="code" href="classZone__VF.html#abb7ff43c48b390285c420ff1bc751c47">num_fac_loc_</a>(face,voisin) = face_loc;
<a name="l00348"></a>00348             <span class="keywordflow">else</span>
<a name="l00349"></a>00349               {
<a name="l00350"></a>00350 <span class="comment">// Cas periodique</span>
<a name="l00351"></a>00351                 <span class="keywordtype">int</span> autre_voisin = 1 - voisin;
<a name="l00352"></a>00352                 <span class="keywordtype">int</span> elem2 = <a class="code" href="classZone__VF.html#a816ac37fd526f962468cae6fbd8061f8" title="renvoie le tableaux des volumes des connectivites face elements cf au dessus.">face_voisins</a>(face,autre_voisin);
<a name="l00353"></a>00353                 <span class="keywordtype">int</span> nb_faces_elem = <a class="code" href="classZone__VF.html#acd9376481d4268df6a0c394c5a1a0e61" title="connectivite element/faces">elem_faces_</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00354"></a>00354                 <span class="keywordflow">for</span> (face_loc=0; face_loc&lt;nb_faces_elem; face_loc++)
<a name="l00355"></a>00355                   {
<a name="l00356"></a>00356                     <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; face_glob = <a class="code" href="classZone__VF.html#a8e09b61902b9f1d2c4c7bedc3b8f39d3" title="renvoie le tableau de connectivite element/faces">elem_faces</a>(elem,face_loc);
<a name="l00357"></a>00357                     <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; elem_voisin1 = <a class="code" href="classZone__VF.html#a816ac37fd526f962468cae6fbd8061f8" title="renvoie le tableaux des volumes des connectivites face elements cf au dessus.">face_voisins</a>(face_glob,0);
<a name="l00358"></a>00358                     <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; elem_voisin2 = <a class="code" href="classZone__VF.html#a816ac37fd526f962468cae6fbd8061f8" title="renvoie le tableaux des volumes des connectivites face elements cf au dessus.">face_voisins</a>(face_glob,1);
<a name="l00359"></a>00359                     <span class="keywordflow">if</span> (elem_voisin1==elem2 || elem_voisin2==elem2)
<a name="l00360"></a>00360                       {
<a name="l00361"></a>00361                         <a class="code" href="classZone__VF.html#abb7ff43c48b390285c420ff1bc751c47">num_fac_loc_</a>(face,voisin) = face_loc;
<a name="l00362"></a>00362                         <span class="keywordflow">break</span>;
<a name="l00363"></a>00363                       }
<a name="l00364"></a>00364                   }
<a name="l00365"></a>00365               }
<a name="l00366"></a>00366           }
<a name="l00367"></a>00367       }
<a name="l00368"></a>00368 }
<a name="l00369"></a>00369 
<a name="l00370"></a>00370 <span class="comment">// Renvoie le numero local de face a partir des numeros globaux face et elem</span>
<a name="l00371"></a>00371 <span class="comment">// Utiliser si possible Zone_VF::num_fac_loc(face,voisin) car la methode est</span>
<a name="l00372"></a>00372 <span class="comment">// optimisee, celle ci non.</span>
<a name="l00373"></a><a class="code" href="classZone__VF.html#abdf2e76a8da91b65ffbed3e47edd2558">00373</a> <span class="keywordtype">int</span> <a class="code" href="classZone__VF.html#abdf2e76a8da91b65ffbed3e47edd2558">Zone_VF::numero_face_local</a>(<span class="keywordtype">int</span> face, <span class="keywordtype">int</span> elem)<span class="keyword"> const</span>
<a name="l00374"></a>00374 <span class="keyword"></span>{
<a name="l00375"></a>00375 <span class="comment">// int nfe=zone().nb_faces_elem();</span>
<a name="l00376"></a>00376 <span class="comment">// GF pour le cas ou on a plusieurs types de faces....</span>
<a name="l00377"></a>00377 <span class="comment">// nb_faces_elem() renvoit le nbre de sommet par face du premier type de faces</span>
<a name="l00378"></a>00378   <span class="keywordtype">int</span> nfe=<a class="code" href="classZone__VF.html#acd9376481d4268df6a0c394c5a1a0e61" title="connectivite element/faces">elem_faces_</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00379"></a>00379   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> face_loc=0; face_loc&lt;nfe; face_loc++)
<a name="l00380"></a>00380     <span class="keywordflow">if</span>(<a class="code" href="classZone__VF.html#acd9376481d4268df6a0c394c5a1a0e61" title="connectivite element/faces">elem_faces_</a>(elem, face_loc)==face)
<a name="l00381"></a>00381       <span class="keywordflow">return</span> face_loc;
<a name="l00382"></a>00382   <span class="keywordflow">return</span> -1;
<a name="l00383"></a>00383 }
<a name="l00384"></a>00384 
<a name="l00385"></a>00385 
<a name="l00386"></a>00386 <span class="comment">// remplissage des porosites</span>
<a name="l00387"></a><a class="code" href="classZone__VF.html#aff50cd7737b84daca35f56ebf78aee47">00387</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#aff50cd7737b84daca35f56ebf78aee47">Zone_VF::calculer_porosites</a>()
<a name="l00388"></a>00388 {
<a name="l00389"></a>00389 <span class="comment">// Les porosites volumiques et surfacique valent 1</span>
<a name="l00390"></a>00390 
<a name="l00391"></a>00391   <a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a600fa15a19c7e1384564dffd83ecab4d" title="creation d&#39;un tableau parallele de valeurs aux elements. Voir MD_Vector_tools::creer_tableau_distribu...">creer_tableau_elements</a>(<a class="code" href="classZone__VF.html#a5c7e26d9b5835ea9eedc6c2adf84dd91" title="Porosites volumiques pour les volumes de controle de masse.">porosite_elem_</a>, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l00392"></a>00392   <a class="code" href="classZone__VF.html#a5c7e26d9b5835ea9eedc6c2adf84dd91" title="Porosites volumiques pour les volumes de controle de masse.">porosite_elem_</a> = 1;
<a name="l00393"></a>00393 
<a name="l00394"></a>00394   <a class="code" href="classZone__VF.html#a8e02e68f236356f72728b82536538ac5">creer_tableau_faces</a>(<a class="code" href="classZone__VF.html#a990853582d978f50fc54d314f54116c6" title="Porosites surfaciques en masse et volumiques.">porosite_face_</a>, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l00395"></a>00395   <a class="code" href="classZone__VF.html#a990853582d978f50fc54d314f54116c6" title="Porosites surfaciques en masse et volumiques.">porosite_face_</a> = 1;
<a name="l00396"></a>00396 }
<a name="l00397"></a>00397 
<a name="l00398"></a>00398 
<a name="l00399"></a>00399 <span class="comment">// remplissage des diametres hydrauliques</span>
<a name="l00400"></a><a class="code" href="classZone__VF.html#a96ffa418fd3594b770d03c22c2ef47b6">00400</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#a96ffa418fd3594b770d03c22c2ef47b6">Zone_VF::calculer_diametres_hydrauliques</a>()
<a name="l00401"></a>00401 {
<a name="l00402"></a>00402 <span class="comment">// les diametres hydrauliques valent 1</span>
<a name="l00403"></a>00403   <a class="code" href="classZone__VF.html#a8e02e68f236356f72728b82536538ac5">creer_tableau_faces</a>(<a class="code" href="classZone__VF.html#aecdde92c6c0f60a42d3fa2dc5aa062ad">diametre_hydraulique_face_</a>, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l00404"></a>00404   <a class="code" href="classZone__VF.html#aecdde92c6c0f60a42d3fa2dc5aa062ad">diametre_hydraulique_face_</a> = 0.;
<a name="l00405"></a>00405 
<a name="l00406"></a>00406   <a class="code" href="classZone__VF.html#a7f8667a94b5ec3610949fd7712c6fb48">diametre_hydraulique_elem_</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>);
<a name="l00407"></a>00407   <a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a600fa15a19c7e1384564dffd83ecab4d" title="creation d&#39;un tableau parallele de valeurs aux elements. Voir MD_Vector_tools::creer_tableau_distribu...">creer_tableau_elements</a>(<a class="code" href="classZone__VF.html#a7f8667a94b5ec3610949fd7712c6fb48">diametre_hydraulique_elem_</a>, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l00408"></a>00408   <a class="code" href="classZone__VF.html#a7f8667a94b5ec3610949fd7712c6fb48">diametre_hydraulique_elem_</a> = 0.;
<a name="l00409"></a>00409 }
<a name="l00410"></a>00410 
<a name="l00411"></a>00411 <span class="comment">// remplissage des coefficients d&#39;echange_thermique</span>
<a name="l00412"></a><a class="code" href="classZone__VF.html#a583b04880f7ff3f30ae93b0eaa3307b7">00412</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#a583b04880f7ff3f30ae93b0eaa3307b7">Zone_VF::calculer_coefficient_echange_thermique</a>()
<a name="l00413"></a>00413 {
<a name="l00414"></a>00414 <span class="comment">// coefficient d&#39;echange_thermique a 0</span>
<a name="l00415"></a>00415   <span class="keywordtype">int</span> nbfaces = <a class="code" href="classZone__VF.html#a30d5c38f1825d8d35ce9c83aa37e5aa6" title="centres de gravite des faces">xv_</a>.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00416"></a>00416   <a class="code" href="classZone__VF.html#a3c35f550e7ad4d41881b031bac934fb8" title="remplissage des coefficients d&#39;echange_thermique">coefficient_echange_thermique_</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nbfaces);
<a name="l00417"></a>00417   <a class="code" href="classZone__VF.html#a3c35f550e7ad4d41881b031bac934fb8" title="remplissage des coefficients d&#39;echange_thermique">coefficient_echange_thermique_</a> = 0;
<a name="l00418"></a>00418 }
<a name="l00419"></a>00419 
<a name="l00420"></a>00420 <span class="comment">// remplissage des coefficient de frottement</span>
<a name="l00421"></a><a class="code" href="classZone__VF.html#a532d6ca3fad475c679b3feabbb67ee74">00421</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#a532d6ca3fad475c679b3feabbb67ee74">Zone_VF::calculer_coefficient_frottement</a>()
<a name="l00422"></a>00422 {
<a name="l00423"></a>00423 <span class="comment">// coefficient de frottement a 0</span>
<a name="l00424"></a>00424   <span class="keywordtype">int</span> nbfaces = <a class="code" href="classZone__VF.html#a30d5c38f1825d8d35ce9c83aa37e5aa6" title="centres de gravite des faces">xv_</a>.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00425"></a>00425   <a class="code" href="classZone__VF.html#a7cd6ce7003be4649d9fa87af78fe8651" title="remplissage des coefficient de frottement">coefficient_frottement_</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nbfaces);
<a name="l00426"></a>00426   <a class="code" href="classZone__VF.html#a7cd6ce7003be4649d9fa87af78fe8651" title="remplissage des coefficient de frottement">coefficient_frottement_</a>= 0;
<a name="l00427"></a>00427 }
<a name="l00428"></a>00428 
<a name="l00429"></a>00429 <span class="comment">//</span><span class="comment"></span>
<a name="l00430"></a>00430 <span class="comment">//! Remplissage du tableau face_virt_pe_num_ (voir commentaire dans Zone_VF.h)</span>
<a name="l00431"></a><a class="code" href="classZone__VF.html#af06e7b39a218e2bd07ca493c6e5cb1bc">00431</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#af06e7b39a218e2bd07ca493c6e5cb1bc" title="Remplissage du tableau face_virt_pe_num_ (voir commentaire dans Zone_VF.h)">Zone_VF::construire_face_virt_pe_num</a>()
<a name="l00432"></a>00432 {
<a name="l00433"></a>00433   <span class="keywordtype">int</span> i;
<a name="l00434"></a>00434 
<a name="l00435"></a>00435   <span class="keyword">const</span> <span class="keywordtype">int</span> nf = <a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>();
<a name="l00436"></a>00436   <span class="keyword">const</span> <span class="keywordtype">int</span> nf_tot = <a class="code" href="classZone__VF.html#a50fd21c9535680489015a3c8b88c685a" title="renvoie le nombre total de faces. C&#39;est-a-dire faces reelles + faces virtuelles">nb_faces_tot</a>();
<a name="l00437"></a>00437   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces_virt = nf_tot - nf;
<a name="l00438"></a>00438 
<a name="l00439"></a>00439   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> tmp(0, 2);
<a name="l00440"></a>00440   <a class="code" href="classZone__VF.html#a8e02e68f236356f72728b82536538ac5">creer_tableau_faces</a>(tmp, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l00441"></a>00441   <span class="keyword">const</span> <span class="keywordtype">int</span> moi = <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">me</a>();
<a name="l00442"></a>00442   <span class="keywordflow">for</span> (i = 0; i &lt; nf; i++)
<a name="l00443"></a>00443     {
<a name="l00444"></a>00444       tmp(i, 0) = moi;
<a name="l00445"></a>00445       tmp(i, 1) = i;
<a name="l00446"></a>00446     }
<a name="l00447"></a>00447   tmp.<a class="code" href="classIntVect.html#ad12bea67621d1a0ee82b27c9a37ca4ef">echange_espace_virtuel</a>();
<a name="l00448"></a>00448 
<a name="l00449"></a>00449   <a class="code" href="classZone__VF.html#a80dd6e1105a76dbab9459ca0a822dd49">face_virt_pe_num_</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_faces_virt, 2);
<a name="l00450"></a>00450 <span class="comment">// Copie de la partie virtuelle de tmp dans face_virt_pe_num_</span>
<a name="l00451"></a>00451   <a class="code" href="classZone__VF.html#a80dd6e1105a76dbab9459ca0a822dd49">face_virt_pe_num_</a>.<a class="code" href="classArrOfInt.html#a195c644d98bf2da2fe4f8aede4e02262" title="Copie les elements source[first_element_source + i] dans les elements (*this)[first_element_dest + i]...">inject_array</a>(tmp, nb_faces_virt*2, 0 <span class="comment">/* dest offset*/</span>, nf * 2 <span class="comment">/* source offset*/</span>);
<a name="l00452"></a>00452 }
<a name="l00453"></a>00453 
<a name="l00454"></a><a class="code" href="classZone__VF.html#a6fe7bfba46bb4fda5a3dd4d71910b566">00454</a> <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; <a class="code" href="classZone__VF.html#a6fe7bfba46bb4fda5a3dd4d71910b566">Zone_VF::face_virt_pe_num</a>()<span class="keyword"> const</span>
<a name="l00455"></a>00455 <span class="keyword"></span>{
<a name="l00456"></a>00456 <span class="comment">// On verifie que le tableau a ete construit (si ca plante, c&#39;est qu&#39;on a</span>
<a name="l00457"></a>00457 <span class="comment">// oublie d&#39;appeler construire_face_virt_pe_num()).</span>
<a name="l00458"></a>00458   assert(<a class="code" href="classZone__VF.html#a80dd6e1105a76dbab9459ca0a822dd49">face_virt_pe_num_</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1) == 2);
<a name="l00459"></a>00459   <span class="keywordflow">return</span> <a class="code" href="classZone__VF.html#a80dd6e1105a76dbab9459ca0a822dd49">face_virt_pe_num_</a>;
<a name="l00460"></a>00460 }
<a name="l00461"></a>00461 
<a name="l00462"></a>00462 <span class="comment">//</span>
<a name="l00463"></a>00463 <span class="comment">//</span><span class="comment"></span>
<a name="l00464"></a>00464 <span class="comment">//! Compute the normalized boundary outward vector associated to the face global_face_number&lt;br&gt;and eventually scaled by scale_factor</span>
<a name="l00465"></a><a class="code" href="classZone__VF.html#aa0627e8b0ab8fffbc81829278a2cda77">00465</a> <span class="comment"></span><a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> <a class="code" href="classZone__VF.html#aa0627e8b0ab8fffbc81829278a2cda77" title="Compute the normalized boundary outward vector associated to the face global_face_number and eventual...">Zone_VF::normalized_boundaries_outward_vector</a>(<span class="keywordtype">int</span> global_face_number, <span class="keywordtype">double</span> scale_factor)<span class="keyword"> const</span>
<a name="l00466"></a>00466 <span class="keyword"></span>{
<a name="l00467"></a>00467   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; neighbor_faces = <a class="code" href="classZone__VF.html#a816ac37fd526f962468cae6fbd8061f8" title="renvoie le tableaux des volumes des connectivites face elements cf au dessus.">face_voisins</a>();
<a name="l00468"></a>00468   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> normal_vector(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>); <span class="comment">//result</span>
<a name="l00469"></a>00469   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d = 0; d &lt; <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; d++)
<a name="l00470"></a>00470     normal_vector(d) = <a class="code" href="classZone__VF.html#a547ab50904dc51bee39fed54a20934b2">face_normales</a>(global_face_number, d) / <a class="code" href="classZone__VF.html#a40c3382b189a4fc508cf1c3e37b04b21">face_surfaces</a>(global_face_number);
<a name="l00471"></a>00471 
<a name="l00472"></a>00472 <span class="comment">// now we have a normalized normal vector</span>
<a name="l00473"></a>00473 <span class="comment">// but it remains to orient it correctly (outwards)</span>
<a name="l00474"></a>00474 <span class="comment">// for this we build a vector that links middle of the face to the center of the element</span>
<a name="l00475"></a>00475 <span class="comment">// and then we do the inner product between this new vector and normal vector</span>
<a name="l00476"></a>00476 <span class="comment">// So, if the result is positive, we change the sign of normal vector</span>
<a name="l00477"></a>00477 <span class="comment">// else we do nothing</span>
<a name="l00478"></a>00478   <span class="keywordtype">int</span> neighbor_elem=neighbor_faces(global_face_number,0);
<a name="l00479"></a>00479   <span class="keywordflow">if</span>( neighbor_elem == -1 )
<a name="l00480"></a>00480     neighbor_elem = neighbor_faces(global_face_number,1);
<a name="l00481"></a>00481   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> vector_face_elem(dimension);
<a name="l00482"></a>00482   <span class="keywordtype">double</span> inner_product=0;
<a name="l00483"></a>00483   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; i++)
<a name="l00484"></a>00484     {
<a name="l00485"></a>00485 <span class="comment">// ith component of the vector</span>
<a name="l00486"></a>00486       <span class="keywordtype">double</span> vec_face_elem = <a class="code" href="classZone__VF.html#ad9f40bf649129fcc43578cbf057954ef">xp</a>(neighbor_elem,i)-<a class="code" href="classZone__VF.html#a6c108eadb292f20b662cff6e3ecf6115">xv</a>(global_face_number,i);
<a name="l00487"></a>00487       inner_product+=vec_face_elem*normal_vector(i);
<a name="l00488"></a>00488     }
<a name="l00489"></a>00489 
<a name="l00490"></a>00490   <span class="keywordflow">if</span>( inner_product &gt; 0 )
<a name="l00491"></a>00491     {
<a name="l00492"></a>00492       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; i++)
<a name="l00493"></a>00493         {
<a name="l00494"></a>00494           normal_vector(i)*=-1;
<a name="l00495"></a>00495         }
<a name="l00496"></a>00496     }
<a name="l00497"></a>00497 
<a name="l00498"></a>00498 <span class="comment">// now the normal vector is well oriented (outwards)</span>
<a name="l00499"></a>00499 <span class="comment">// we can multiply it by a given scale factor</span>
<a name="l00500"></a>00500   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; i++)
<a name="l00501"></a>00501     {
<a name="l00502"></a>00502       normal_vector(i)*=scale_factor;
<a name="l00503"></a>00503     }
<a name="l00504"></a>00504 
<a name="l00505"></a>00505   <span class="keywordflow">return</span> normal_vector;
<a name="l00506"></a>00506 }
<a name="l00507"></a>00507 
<a name="l00508"></a><a class="code" href="classZone__VF.html#a70e4e330a3466cc3c26293e3642a77b1">00508</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#a70e4e330a3466cc3c26293e3642a77b1">Zone_VF::marquer_faces_double_contrib</a>(<span class="keyword">const</span> <a class="code" href="classConds__lim.html">Conds_lim</a>&amp; conds_lim)
<a name="l00509"></a>00509 {
<a name="l00510"></a>00510   <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>() &lt;&lt; <span class="stringliteral">&quot; Zone_VF::marquer_faces_double_contrib&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00511"></a>00511   <a class="code" href="classZone__VF.html#a8684409acf6f063d743fb1ead38f632d" title="faces a double contribution (faces periodiques et items communs)">faces_doubles_</a>.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>());
<a name="l00512"></a>00512 <span class="comment">// marquage des faces periodiques</span>
<a name="l00513"></a>00513 <span class="comment">//</span>
<a name="l00514"></a>00514 
<a name="l00515"></a>00515   <span class="keywordtype">int</span> nb_cond_lim=conds_lim.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>();
<a name="l00516"></a>00516 
<a name="l00517"></a>00517   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_cond_lim; i++)
<a name="l00518"></a>00518     {
<a name="l00519"></a>00519       <span class="keyword">const</span> <a class="code" href="classCond__lim__base.html" title="classe Cond_lim_base Classe de base pour la hierarchie des classes qui representent les differentes c...">Cond_lim_base</a>&amp; cl=conds_lim[i].valeur();
<a name="l00520"></a>00520       <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classPeriodique.html" title="classe Periodique Cette classe represente une condition aux limites periodique. On peut specifier une...">Periodique</a>, cl))
<a name="l00521"></a>00521         {
<a name="l00522"></a>00522           <span class="keyword">const</span> <a class="code" href="classPeriodique.html" title="classe Periodique Cette classe represente une condition aux limites periodique. On peut specifier une...">Periodique</a>&amp; la_cl_period = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classPeriodique.html" title="classe Periodique Cette classe represente une condition aux limites periodique. On peut specifier une...">Periodique</a>,cl);
<a name="l00523"></a>00523           <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; frontieredis = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,la_cl_period.<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00524"></a>00524           <span class="keywordtype">int</span> ndeb = frontieredis.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>();
<a name="l00525"></a>00525           <span class="keywordtype">int</span> nfin = ndeb + frontieredis.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00526"></a>00526 
<a name="l00527"></a>00527           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=ndeb; face&lt;nfin; face++)
<a name="l00528"></a>00528             {
<a name="l00529"></a>00529               <a class="code" href="classZone__VF.html#a8684409acf6f063d743fb1ead38f632d" title="faces a double contribution (faces periodiques et items communs)">faces_doubles_</a>(face)=1;
<a name="l00530"></a>00530             }
<a name="l00531"></a>00531         }
<a name="l00532"></a>00532     }
<a name="l00533"></a>00533 
<a name="l00534"></a>00534 <span class="comment">// marquage des faces items communs</span>
<a name="l00535"></a>00535 <span class="comment">//</span>
<a name="l00536"></a>00536   <span class="keywordtype">int</span> nbjoints=<a class="code" href="classZone__VF.html#a9992bccc1f1e4a6f93287bd9fe219d29" title="renvoie le nombre de joints">nb_joints</a>();
<a name="l00537"></a>00537 
<a name="l00538"></a>00538   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> njoint=0; njoint&lt;nbjoints; njoint++)
<a name="l00539"></a>00539     {
<a name="l00540"></a>00540       <span class="keyword">const</span> <a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>&amp; joint_temp = <a class="code" href="classZone__VF.html#a1cc36e321abd137ddd1c8f70ce74f4cf" title="renvoie le ieme joint.">joint</a>(njoint);
<a name="l00541"></a>00541       <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; indices_faces_joint = joint_temp.<a class="code" href="classJoint.html#a3f49fb1150967b436a115a7373ab27a0" title="Renvoie les informations de joint pour le type demande.">joint_item</a>(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ab255b88987fc7f64c215c958cbe2af6b">Joint::FACE</a>).<a class="code" href="classJoint__Items.html#a11b6064b7fd16c1366c4c1e3a88ac2a5" title="Voir renum_items_communs_.">renum_items_communs</a>();
<a name="l00542"></a>00542       <span class="keyword">const</span> <span class="keywordtype">int</span> nbfaces = indices_faces_joint.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00543"></a>00543       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nbfaces; j++)
<a name="l00544"></a>00544         {
<a name="l00545"></a>00545 <span class="comment">// Pour acceder au face de joint, il existe desormais un tableau dedie renum_items_communs()</span>
<a name="l00546"></a>00546 <span class="comment">// car l&#39;ancienne facon d&#39;acceder a ces faces etait de passer par</span>
<a name="l00547"></a>00547 <span class="comment">// joint.num_premiere_face() et joint.nb_faces() ce qui n&#39;est plus valable !</span>
<a name="l00548"></a>00548 <span class="comment">// En effet, la numerotation des faces de joint n&#39;est plus continue desormais !</span>
<a name="l00549"></a>00549 <span class="comment">// joint.num_premiere_face() retourne -1 desormais pour detecter les anciens codages.</span>
<a name="l00550"></a>00550           <span class="keywordtype">int</span> face_de_joint = indices_faces_joint(j, 1);
<a name="l00551"></a>00551           <a class="code" href="classZone__VF.html#a8684409acf6f063d743fb1ead38f632d" title="faces a double contribution (faces periodiques et items communs)">faces_doubles_</a>(face_de_joint) = 1;
<a name="l00552"></a>00552         }
<a name="l00553"></a>00553     }
<a name="l00554"></a>00554 }
<a name="l00555"></a><a class="code" href="classZone__VF.html#a69f32512c6e83973c5bc1e9021adeabd">00555</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#a69f32512c6e83973c5bc1e9021adeabd">Zone_VF::typer_elem</a>(<a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; azone)
<a name="l00556"></a>00556 {
<a name="l00557"></a>00557 <span class="comment">// Ne fait rien</span>
<a name="l00558"></a>00558 }
<a name="l00559"></a>00559 
<a name="l00560"></a><a class="code" href="classZone__VF.html#a1395dff26b70b5f629be228f1f2052d8">00560</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#a1395dff26b70b5f629be228f1f2052d8">Zone_VF::infobord</a>()
<a name="l00561"></a>00561 {
<a name="l00562"></a>00562   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;==============================================&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00563"></a>00563   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The boundary areas of the domain &quot;</span> &lt;&lt; <a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt; <span class="stringliteral">&quot; are:&quot;</span> &lt;&lt; finl;
<a name="l00564"></a>00564   <a class="code" href="classDoubleVect.html">DoubleVect</a> surfaces;
<a name="l00565"></a>00565 
<a name="l00566"></a>00566 <span class="comment">// Raccords</span>
<a name="l00567"></a>00567   <a class="code" href="classRaccords.html" title="Classe Raccords Cette represente une liste d&#39;objets de type Raccord.">Raccords</a>&amp; raccords=<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac2a20fe8fa5529c7eefd418b43c0131c" title="Renvoie la liste des racoords de la zone. (version const)">faces_raccord</a>();
<a name="l00568"></a>00568   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;raccords.<a class="code" href="classRaccords.html#a9da2a94fd6842e38fc87dc6c9a96a24e" title="Renvoie le nombre de raccords contenus dans la liste.">nb_raccords</a>(); i++)
<a name="l00569"></a>00569     {
<a name="l00570"></a>00570       <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; faces=raccords(i).<a class="code" href="classList__Raccord.html#aa4dce0dae3e5e35c2a4faca1a2ce1bae" title="Retourne l&#39;Objet_U associe a la cellule de la liste.">valeur</a>().faces();
<a name="l00571"></a>00571       faces.<a class="code" href="classFaces.html#a1f8132799487789d4670795c2dbeaa5d" title="Associe les faces a une Zone.">associer_zone</a>(<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>());
<a name="l00572"></a>00572       faces.<a class="code" href="classFaces.html#a8143c6ab93f3350b3f1370d6616953c9" title="Calcule la surface des faces.">calculer_surfaces</a>(surfaces);
<a name="l00573"></a>00573       <span class="keywordtype">double</span> s=0;
<a name="l00574"></a>00574       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;faces.<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>(); j++)
<a name="l00575"></a>00575         s=s+surfaces(j);
<a name="l00576"></a>00576       s=<a class="code" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd" title="Calcule la somme de x sur tous les processeurs du groupe courant. Voir aussi mp_max()">mp_sum</a>(s);
<a name="l00577"></a>00577       raccords(i).<a class="code" href="classList__Raccord.html#aa4dce0dae3e5e35c2a4faca1a2ce1bae" title="Retourne l&#39;Objet_U associe a la cellule de la liste.">valeur</a>().set_aire(s);
<a name="l00578"></a>00578       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Area of &quot;</span>&lt;&lt;raccords(i).<a class="code" href="classObjet__U.html#a70413a8785d36bf5105fced1c89d0d2b" title="Donne le nom de l&#39;Objet_U Methode a surcharger : renvoie &quot;neant&quot; dans cette implementation.">le_nom</a>()&lt;&lt;<span class="stringliteral">&quot;  \t= &quot;</span>&lt;&lt;s&lt;&lt;finl;
<a name="l00579"></a>00579     }
<a name="l00580"></a>00580 
<a name="l00581"></a>00581 <span class="comment">// Bords</span>
<a name="l00582"></a>00582   <a class="code" href="classBords.html" title="Classe Bords Cette classe represente une liste d&#39;objets de type Bord.">Bords</a>&amp; bords=<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a4bc04163903c004c5c1383eaa5fa844d" title="Renvoie la liste des bords de la zone. (version const)">faces_bord</a>();
<a name="l00583"></a>00583   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;bords.<a class="code" href="classBords.html#a2cdd73f950fdb40979558a6d28d54cad" title="Renvoie le nombre de bords contenus dans la liste.">nb_bords</a>(); i++)
<a name="l00584"></a>00584     {
<a name="l00585"></a>00585       <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; faces=bords(i).faces();
<a name="l00586"></a>00586       faces.<a class="code" href="classFaces.html#a1f8132799487789d4670795c2dbeaa5d" title="Associe les faces a une Zone.">associer_zone</a>(<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>());
<a name="l00587"></a>00587       faces.<a class="code" href="classFaces.html#a8143c6ab93f3350b3f1370d6616953c9" title="Calcule la surface des faces.">calculer_surfaces</a>(surfaces);
<a name="l00588"></a>00588       <span class="keywordtype">double</span> s=0;
<a name="l00589"></a>00589       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;faces.<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>(); j++)
<a name="l00590"></a>00590         s=s+surfaces(j);
<a name="l00591"></a>00591       s=<a class="code" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd" title="Calcule la somme de x sur tous les processeurs du groupe courant. Voir aussi mp_max()">mp_sum</a>(s);
<a name="l00592"></a>00592       bords(i).set_aire(s);
<a name="l00593"></a>00593       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Area of &quot;</span>&lt;&lt;bords(i).<a class="code" href="classObjet__U.html#a70413a8785d36bf5105fced1c89d0d2b" title="Donne le nom de l&#39;Objet_U Methode a surcharger : renvoie &quot;neant&quot; dans cette implementation.">le_nom</a>()&lt;&lt;<span class="stringliteral">&quot;  \t= &quot;</span>&lt;&lt;s&lt;&lt;finl;
<a name="l00594"></a>00594     }
<a name="l00595"></a>00595   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;==============================================&quot;</span> &lt;&lt; finl;
<a name="l00596"></a>00596 }
<a name="l00597"></a>00597 
<a name="l00598"></a><a class="code" href="classZone__VF.html#a8df65acd93e7bed179a7761fbbb88062">00598</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#a8df65acd93e7bed179a7761fbbb88062">Zone_VF::info_elem_som</a>()
<a name="l00599"></a>00599 {
<a name="l00600"></a>00600   <span class="keyword">const</span> <span class="keywordtype">int</span> nbelem = <a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>().<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>().<a class="code" href="classMD__Vector.html#a41324dfaa7a973091d0a8276908d10e2">valeur</a>().<a class="code" href="classMD__Vector__base.html#a47d5867ac692b62645169eae6e2cafa0">nb_items_seq_tot</a>();
<a name="l00601"></a>00601   <span class="keyword">const</span> <span class="keywordtype">int</span> nbsom = <a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>().<a class="code" href="classDoubleVect.html#a0d16d30580c90526e4895388fb44be5d">get_md_vector</a>().<a class="code" href="classMD__Vector.html#a41324dfaa7a973091d0a8276908d10e2">valeur</a>().<a class="code" href="classMD__Vector__base.html#a47d5867ac692b62645169eae6e2cafa0">nb_items_seq_tot</a>();
<a name="l00602"></a>00602   <span class="keyword">const</span> <span class="keywordtype">int</span> nbfaces = <a class="code" href="classZone__VF.html#a816ac37fd526f962468cae6fbd8061f8" title="renvoie le tableaux des volumes des connectivites face elements cf au dessus.">face_voisins</a>().<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>().<a class="code" href="classMD__Vector.html#a41324dfaa7a973091d0a8276908d10e2">valeur</a>().<a class="code" href="classMD__Vector__base.html#a47d5867ac692b62645169eae6e2cafa0">nb_items_seq_tot</a>();
<a name="l00603"></a>00603   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Calculation of elements and nodes on &quot;</span> &lt;&lt; <a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt; <span class="stringliteral">&quot; :&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00604"></a>00604   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Total number of elements = &quot;</span>&lt;&lt;nbelem&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00605"></a>00605   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Total number of nodes = &quot;</span>&lt;&lt;nbsom&lt;&lt;finl;
<a name="l00606"></a>00606   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Total number of faces = &quot;</span>&lt;&lt;nbfaces&lt;&lt;finl;
<a name="l00607"></a>00607   <a class="code" href="classRaccords.html" title="Classe Raccords Cette represente une liste d&#39;objets de type Raccord.">Raccords</a>&amp; raccords=<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac2a20fe8fa5529c7eefd418b43c0131c" title="Renvoie la liste des racoords de la zone. (version const)">faces_raccord</a>();
<a name="l00608"></a>00608   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;raccords.<a class="code" href="classRaccords.html#a9da2a94fd6842e38fc87dc6c9a96a24e" title="Renvoie le nombre de raccords contenus dans la liste.">nb_raccords</a>(); i++)
<a name="l00609"></a>00609     {
<a name="l00610"></a>00610       <span class="keywordtype">int</span> nb_boundary_faces = <a class="code" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd" title="Calcule la somme de x sur tous les processeurs du groupe courant. Voir aussi mp_max()">mp_sum</a>(<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>,raccords(i).<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>()).<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>());
<a name="l00611"></a>00611       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt; nb_boundary_faces &lt;&lt; <span class="stringliteral">&quot; of them on boundary &quot;</span>&lt;&lt;raccords(i).<a class="code" href="classObjet__U.html#a70413a8785d36bf5105fced1c89d0d2b" title="Donne le nom de l&#39;Objet_U Methode a surcharger : renvoie &quot;neant&quot; dans cette implementation.">le_nom</a>()&lt;&lt;finl;
<a name="l00612"></a>00612 
<a name="l00613"></a>00613     }
<a name="l00614"></a>00614   <a class="code" href="classBords.html" title="Classe Bords Cette classe represente une liste d&#39;objets de type Bord.">Bords</a>&amp; bords=<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a4bc04163903c004c5c1383eaa5fa844d" title="Renvoie la liste des bords de la zone. (version const)">faces_bord</a>();
<a name="l00615"></a>00615   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;bords.<a class="code" href="classBords.html#a2cdd73f950fdb40979558a6d28d54cad" title="Renvoie le nombre de bords contenus dans la liste.">nb_bords</a>(); i++)
<a name="l00616"></a>00616     {
<a name="l00617"></a>00617       <span class="keywordtype">int</span> nb_boundary_faces = <a class="code" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd" title="Calcule la somme de x sur tous les processeurs du groupe courant. Voir aussi mp_max()">mp_sum</a>(<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>,bords(i)).<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>());
<a name="l00618"></a>00618       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt; nb_boundary_faces &lt;&lt; <span class="stringliteral">&quot; of them on boundary &quot;</span>&lt;&lt;bords(i).<a class="code" href="classObjet__U.html#a70413a8785d36bf5105fced1c89d0d2b" title="Donne le nom de l&#39;Objet_U Methode a surcharger : renvoie &quot;neant&quot; dans cette implementation.">le_nom</a>()&lt;&lt;finl;
<a name="l00619"></a>00619     }
<a name="l00620"></a>00620   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;==============================================&quot;</span>&lt;&lt;finl;
<a name="l00621"></a>00621 }
<a name="l00622"></a>00622 
<a name="l00623"></a><a class="code" href="classZone__VF.html#a8e02e68f236356f72728b82536538ac5">00623</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#a8e02e68f236356f72728b82536538ac5">Zone_VF::creer_tableau_faces</a>(<a class="code" href="classArray__base.html" title=": classe vide servant de base a tous les tableaux. (permet de passer un type generique quel que soit ...">Array_base</a>&amp; t, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)<span class="keyword"> const</span>
<a name="l00624"></a>00624 <span class="keyword"></span>{
<a name="l00625"></a>00625   <a class="code" href="MD__Vector__tools_8cpp.html#aff1ed2791dba1a76fdb300920147cfdf">MD_Vector_tools::creer_tableau_distribue</a>(<a class="code" href="classZone__VF.html#a77a1b32ec941e3f99dcd2d458051375a">md_vector_faces_</a>, t, opt);
<a name="l00626"></a>00626 }
<a name="l00627"></a>00627 
<a name="l00628"></a><a class="code" href="classZone__VF.html#ae77f9ddf0711c0bcf2162921698d0bea">00628</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#ae77f9ddf0711c0bcf2162921698d0bea">Zone_VF::creer_tableau_aretes</a>(<a class="code" href="classArray__base.html" title=": classe vide servant de base a tous les tableaux. (permet de passer un type generique quel que soit ...">Array_base</a>&amp; t, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)<span class="keyword"> const</span>
<a name="l00629"></a>00629 <span class="keyword"></span>{
<a name="l00630"></a>00630   <span class="keyword">const</span> <a class="code" href="classMD__Vector.html" title=": Cette classe est un DERIV mais l&#39;objet pointe est partage entre plusieurs instances de cette classe...">MD_Vector</a>&amp; md = <a class="code" href="classZone__VF.html#a93f73d93187a780a1b927be5b3d5c2a2">md_vector_aretes</a>();
<a name="l00631"></a>00631   <a class="code" href="MD__Vector__tools_8cpp.html#aff1ed2791dba1a76fdb300920147cfdf">MD_Vector_tools::creer_tableau_distribue</a>(md, t, opt);
<a name="l00632"></a>00632 }
<a name="l00633"></a>00633 
<a name="l00634"></a><a class="code" href="classZone__VF.html#a2e795192234e9c5e1eb4d5f919632db7">00634</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#a2e795192234e9c5e1eb4d5f919632db7">Zone_VF::creer_tableau_faces_bord</a>(<a class="code" href="classArray__base.html" title=": classe vide servant de base a tous les tableaux. (permet de passer un type generique quel que soit ...">Array_base</a>&amp; t, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)<span class="keyword"> const</span>
<a name="l00635"></a>00635 <span class="keyword"></span>{
<a name="l00636"></a>00636   <span class="keyword">const</span> <a class="code" href="classMD__Vector.html" title=": Cette classe est un DERIV mais l&#39;objet pointe est partage entre plusieurs instances de cette classe...">MD_Vector</a>&amp; md = <a class="code" href="classZone__VF.html#a4d2c04bd89f5d7b430b8ef174cd8d1e7">md_vector_faces_bord</a>();
<a name="l00637"></a>00637   <a class="code" href="MD__Vector__tools_8cpp.html#aff1ed2791dba1a76fdb300920147cfdf">MD_Vector_tools::creer_tableau_distribue</a>(md, t, opt);
<a name="l00638"></a>00638 }
<a name="l00639"></a>00639 
<a name="l00640"></a><a class="code" href="classZone__VF.html#ab5e9a4772d044c7ca6b314f7058ec673">00640</a> <span class="keywordtype">void</span> <a class="code" href="classZone__VF.html#ab5e9a4772d044c7ca6b314f7058ec673">Zone_VF::remplir_face_numero_bord</a>()
<a name="l00641"></a>00641 {
<a name="l00642"></a>00642   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Zone_VF::remplir_face_numero_bord&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00643"></a>00643   <a class="code" href="classZone__VF.html#ac45cddafc9f471ff7439229e958febeb" title="connectivite face/numero_bord">face_numero_bord_</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classZone__VF.html#aede27992d9f2eedd52c24d4a80ff7ffb" title="renvoie le nombre global de faces.">nb_faces</a>());
<a name="l00644"></a>00644   <a class="code" href="classZone__VF.html#ac45cddafc9f471ff7439229e958febeb" title="connectivite face/numero_bord">face_numero_bord_</a>=-1; <span class="comment">//!&lt; init for inner faces.</span>
<a name="l00645"></a>00645 <span class="comment"></span>  <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; lazone=<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>();
<a name="l00646"></a>00646   <span class="keywordtype">int</span> ndeb, nfin, num_face;
<a name="l00647"></a>00647   <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; nb_bords = lazone.<a class="code" href="classZone.html#a7d6ba9a2216d306cb0a0bf3dfff6f170" title="Renvoie le nombre de bords de la zone.">nb_bords</a>();
<a name="l00648"></a>00648   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n_bord=0; n_bord&lt;nb_bords; n_bord++)
<a name="l00649"></a>00649     {
<a name="l00650"></a>00650       <span class="keyword">const</span> <a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>&amp; le_bord = lazone.<a class="code" href="classZone.html#af2f1e6a14af55249979da674e7aac11a" title="Renvoie le i-ieme bord de la zone&lt;br&gt;(version const)">bord</a>(n_bord);
<a name="l00651"></a>00651       ndeb = le_bord.<a class="code" href="classFrontiere.html#a2a41c319a1530c984c356121e5ca2383">num_premiere_face</a>();
<a name="l00652"></a>00652       nfin = ndeb + le_bord.<a class="code" href="classFrontiere.html#aa073fe9dbdddde59471ee7032b256aa2" title="Renvoie le nombre de faces de la frontiere.">nb_faces</a>();
<a name="l00653"></a>00653       <span class="keywordflow">for</span> (num_face=ndeb; num_face&lt;nfin; num_face++)
<a name="l00654"></a>00654         {
<a name="l00655"></a>00655           <a class="code" href="classZone__VF.html#ac45cddafc9f471ff7439229e958febeb" title="connectivite face/numero_bord">face_numero_bord_</a>[num_face] = n_bord;
<a name="l00656"></a>00656         }
<a name="l00657"></a>00657     }
<a name="l00658"></a>00658 }
<a name="l00659"></a>00659 
<a name="l00660"></a><a class="code" href="classZone__VF.html#a6b784d58c0a936e3a33058e193c50dee">00660</a> <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; <a class="code" href="classZone__VF.html#a6b784d58c0a936e3a33058e193c50dee">Zone_VF::xv_bord</a>()<span class="keyword"> const</span>
<a name="l00661"></a>00661 <span class="keyword"></span>{
<a name="l00662"></a>00662   <span class="keywordflow">if</span> (<a class="code" href="classZone__VF.html#a02093af9f033943f10f135ba361ca0be">xv_bord_</a>.<a class="code" href="classDoubleVect.html#a0d16d30580c90526e4895388fb44be5d">get_md_vector</a>() == <a class="code" href="classZone__VF.html#a4d2c04bd89f5d7b430b8ef174cd8d1e7">md_vector_faces_bord</a>()) <span class="keywordflow">return</span> <a class="code" href="classZone__VF.html#a02093af9f033943f10f135ba361ca0be">xv_bord_</a>; <span class="comment">//deja cree</span>
<a name="l00663"></a>00663   <a class="code" href="classZone__VF.html#a02093af9f033943f10f135ba361ca0be">xv_bord_</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0, <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>), <a class="code" href="classZone__VF.html#a2e795192234e9c5e1eb4d5f919632db7">creer_tableau_faces_bord</a>(<a class="code" href="classZone__VF.html#a02093af9f033943f10f135ba361ca0be">xv_bord_</a>);
<a name="l00664"></a>00664   std::copy(<a class="code" href="classZone__VF.html#a30d5c38f1825d8d35ce9c83aa37e5aa6" title="centres de gravite des faces">xv_</a>.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(), <a class="code" href="classZone__VF.html#a30d5c38f1825d8d35ce9c83aa37e5aa6" title="centres de gravite des faces">xv_</a>.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>() + <a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a> * <a class="code" href="classZone__VF.html#a12869806fa4834aca8f2964e16509dfd" title="une face est interne ssi elle separe deux elements. renvoie le numero de la premiere face interne...">premiere_face_int</a>(), <a class="code" href="classZone__VF.html#a02093af9f033943f10f135ba361ca0be">xv_bord_</a>.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>()); <span class="comment">//faces reelles : le debut de xv_</span>
<a name="l00665"></a>00665   <a class="code" href="classZone__VF.html#a02093af9f033943f10f135ba361ca0be">xv_bord_</a>.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
<a name="l00666"></a>00666   <span class="keywordflow">return</span> <a class="code" href="classZone__VF.html#a02093af9f033943f10f135ba361ca0be">xv_bord_</a>;
<a name="l00667"></a>00667 }
<a name="l00668"></a>00668 
<a name="l00669"></a>00669 <span class="comment">//</span>
<a name="l00670"></a>00670 <span class="comment">//</span>
<a name="l00671"></a>00671 <span class="comment">//</span><span class="comment"></span>
<a name="l00672"></a>00672 <span class="comment">//! renvoie le nombre total de faces sur lesquelles&lt;br&gt;sont appliquees les conditions limites :&lt;br&gt;bords, raccords, plaques.</span>
<a name="l00673"></a><a class="code" href="classZone__VF.html#a648562d53af16870ec02694333002e36">00673</a> <span class="comment"></span><span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classZone__VF.html#a648562d53af16870ec02694333002e36" title="renvoie le nombre total de faces sur lesquelles sont appliquees les conditions limites : bords...">Zone_VF::nb_faces_bord_tot</a>()<span class="keyword"> const</span>
<a name="l00674"></a>00674 <span class="keyword"></span>{
<a name="l00675"></a>00675   <span class="keywordflow">return</span> <a class="code" href="classZone__VF.html#a4d2c04bd89f5d7b430b8ef174cd8d1e7">md_vector_faces_bord</a>().<a class="code" href="classMD__Vector.html#a41324dfaa7a973091d0a8276908d10e2">valeur</a>().<a class="code" href="classMD__Vector__base.html#a27d5ace2aee5ecf1d78accb7b321108d">get_nb_items_tot</a>();
<a name="l00676"></a>00676 }
<a name="l00677"></a>00677 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:28 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
