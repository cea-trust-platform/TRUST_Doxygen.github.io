<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/MEDimpl/LataToMED.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">src/Kernel/MEDimpl/LataToMED.cpp File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="LataToMED_8h_source.html">LataToMED.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Domaine_8h_source.html">Domaine.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="EFichierBin_8h_source.html">EFichierBin.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="List__Nom_8h_source.html">List_Nom.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="EChaine_8h_source.html">EChaine.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Motcle_8h_source.html">Motcle.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="communications_8h_source.html">communications.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="PE__Groups_8h_source.html">PE_Groups.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Lire__Fichier_8h_source.html">Lire_Fichier.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="SFichier_8h_source.html">SFichier.h</a>&gt;</code><br/>
<code>#include &lt;LataFilter.h&gt;</code><br/>
<code>#include &lt;LmlReader.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="Format__Post_8h_source.html">Format_Post.h</a>&gt;</code><br/>
<code>#include &lt;list&gt;</code><br/>
</div>
<p><a href="LataToMED_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LataToMED_8cpp.html#a3ffc15c746332a3f7353be21b99fee5e">convert_domain_to_Domaine</a> (const Domain &amp;dom, <a class="el" href="classDomaine.html">Domaine</a> &amp;dom_trio)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LataToMED_8cpp.html#a764cfe6fff5cfd23d0fe29b347b891db">LataToMEDbases</a> [1] = { &amp;( <a class="el" href="classInterprete.html">Interprete</a> ::info_obj)}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="LataToMED_8cpp.html#ad2bafa61bb9aee4a00617924e77b992e">latatootherbases</a> [1] = { &amp;( <a class="el" href="classInterprete.html">Interprete</a> ::info_obj)}</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3ffc15c746332a3f7353be21b99fee5e"></a><!-- doxytag: member="LataToMED.cpp::convert_domain_to_Domaine" ref="a3ffc15c746332a3f7353be21b99fee5e" args="(const Domain &amp;dom, Domaine &amp;dom_trio)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void convert_domain_to_Domaine </td>
          <td>(</td>
          <td class="paramtype">const Domain &amp;&#160;</td>
          <td class="paramname"><em>dom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDomaine.html">Domaine</a> &amp;&#160;</td>
          <td class="paramname"><em>dom_trio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="LataToMED_8cpp_source.html#l00083">83</a> of file <a class="el" href="LataToMED_8cpp_source.html">LataToMED.cpp</a>.</p>

<p>References <a class="el" href="Domaine_8cpp_source.html#l00392">Domaine::add()</a>, <a class="el" href="Zone_8cpp_source.html#l00489">Zone::associer_domaine()</a>, <a class="el" href="Joints_8cpp_source.html#l00081">Joints::associer_zone()</a>, <a class="el" href="Raccords_8cpp_source.html#l00079">Raccords::associer_zone()</a>, <a class="el" href="Bords_8cpp_source.html#l00084">Bords::associer_zone()</a>, <a class="el" href="Elem__geom_8h_source.html#l00087">Elem_geom::associer_zone()</a>, <a class="el" href="Domaine_8h_source.html#l00103">Domaine::deformable()</a>, <a class="el" href="IntTab_8h_source.html#l00233">IntTab::dimension()</a>, <a class="el" href="DoubleTab_8h_source.html#l00243">DoubleTab::dimension()</a>, <a class="el" href="Zone_8h_source.html#l01059">Zone::faces_bord()</a>, <a class="el" href="Zone_8h_source.html#l01098">Zone::faces_joint()</a>, <a class="el" href="Zone_8h_source.html#l01137">Zone::faces_raccord()</a>, <a class="el" href="Zone_8cpp_source.html#l01352">Zone::fixer_premieres_faces_frontiere()</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="Domaine_8h_source.html#l00577">Domaine::les_sommets()</a>, <a class="el" href="Zone_8h_source.html#l00445">Zone::nb_som_elem()</a>, <a class="el" href="Zone_8h_source.html#l00382">Zone::nommer()</a>, <a class="el" href="IntTab_8cpp_source.html#l00353">IntTab::resize()</a>, <a class="el" href="DoubleTab_8cpp_source.html#l00335">DoubleTab::resize()</a>, <a class="el" href="DoubleVect_8h_source.html#l00153">DoubleVect::size()</a>, <a class="el" href="Zone_8h_source.html#l00491">Zone::type_elem()</a>, <a class="el" href="Raffiner__Simplexes_8cpp_source.html#l00183">type_elem()</a>, <a class="el" href="Zone_8h_source.html#l00639">Zone::typer()</a>, and <a class="el" href="Domaine_8h_source.html#l00272">Domaine::zone()</a>.</p>

<p>Referenced by <a class="el" href="LataToMED_8cpp_source.html#l00191">latatoother::interpreter()</a>.</p>
<div class="fragment"><pre class="fragment">{





<span class="comment">// dom_trio.les_sommets()=geom.nodes_;</span>
<span class="comment">// mais geom.nodes est un FloatTab</span>
  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; som= dom_trio.<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>();
  <span class="keywordtype">int</span> nx=1,ny=1,nz=1;
  <span class="keywordflow">if</span> (dom.get_domain_type()==Domain::UNSTRUCTURED)
    {
      <span class="keyword">const</span> DomainUnstructured&amp; geom = dom.cast_DomainUnstructured();
      <span class="keywordtype">int</span> dim1=geom.nodes_.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
      <span class="keywordtype">int</span> dim2=geom.nodes_.dimension(1);
      som.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(dim1,dim2);
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;dim1; i1++)
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i2=0; i2&lt;dim2; i2++)
          som(i1,i2)=geom.nodes_(i1,i2);
    }
  <span class="keywordflow">else</span>
    {
      assert(dom.get_domain_type()==Domain::IJK);
      <span class="keyword">const</span> DomainIJK&amp; geom = dom.cast_DomainIJK();
      <span class="keyword">const</span> <span class="keywordtype">int</span> dim = geom.coord_.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>();


      nx=geom.coord_[0].size_array();
      ny=geom.coord_[1].size_array();
      nz=1;
      <span class="keywordflow">if</span> (dim&gt;2) nz=geom.coord_[2].size_array();

      som.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nx*ny*nz,dim);

      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nx; i++)
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;ny; j++)
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;nz; k++)
            {
              <span class="keywordtype">int</span> nn=i*ny*nz+j*nz+k;
              som(nn,0)=geom.coord_[0][i];
              som(nn,1)=geom.coord_[1][j];
              <span class="keywordflow">if</span> (dim&gt;2)
                som(nn,2)=geom.coord_[2][k];
            }

    }

  <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a> zone_bidon;
  dom_trio.<a class="code" href="classDomaine.html#a6204a2b89860bfd74ca2858d1d8750bf" title="Ajoute une Sous_Zone au domaine.">add</a>(zone_bidon);
  <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone=dom_trio.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
  zone.<a class="code" href="classZone.html#ad9cedce77314d4aa1d84a12958079b0e" title="Donne un nom a la zone.">nommer</a>(<span class="stringliteral">&quot;PAS_NOMME&quot;</span>);
  <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>=dom.lata_element_name(dom.elt_type_);
  <span class="keywordflow">if</span> (type_elem==<span class="stringliteral">&quot;PRISM6&quot;</span>) type_elem=<span class="stringliteral">&quot;PRISME&quot;</span>;
<span class="comment">// zone.type_elem()=type_ele;</span>
  zone.<a class="code" href="classZone.html#ac1ff391994a372815b7f88c3fdc39f55" title="Type les elements de la zone avec le nom passe en parametre. Et associe le type d&#39;element a la zone...">typer</a>(type_elem);

  zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classElem__geom.html#a52107168bd97e24d851ca5f667c575e5" title="Appel a l&#39;objet sous-jacent Associe l&#39;element geometrique a sa zone.">associer_zone</a>(zone);
  zone.<a class="code" href="classZone.html#a68a215145852861f2d513c959f52a1a5" title="Specifie le domaine dont la zone fait partie.">associer_domaine</a>(dom_trio);
  <span class="keywordflow">if</span> (dom.get_domain_type()==Domain::UNSTRUCTURED)
    {
      <span class="keyword">const</span> DomainUnstructured&amp; geom = dom.cast_DomainUnstructured();
      zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>()=geom.elements_;
    }
  <span class="keywordflow">else</span>
    {

      zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>().<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>((nx-1)*(ny-1)*(nz-1),zone.<a class="code" href="classZone.html#ae0b34a93b9ae8146df2d1884157afe9f" title="Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...">nb_som_elem</a>());
      <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elems=zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nx-1; i++)
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;ny-1; j++)
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k=0; k&lt;nz-1; k++)
            {
              <span class="keywordtype">int</span> nn=i*(ny-1)*(nz-1)+j*(nz-1)+k;
              nn=i+j*(nx-1)+k*((nx-1)*(ny-1));
              elems(nn,0)=i*ny*nz+j*nz+k;
              elems(nn,1)=(i+1)*ny*nz+j*nz+k;
              elems(nn,2)=(i)*ny*nz+(j+1)*nz+k;
              elems(nn,3)=(i+1)*ny*nz+(j+1)*nz+k;
              <span class="keywordflow">if</span> (elems.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1)&gt;4)
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii=0; ii&lt;4; ii++) elems(nn,4+ii)=elems(nn,ii)+1;
            }
<span class="comment">// a coder</span>
<span class="comment">// Process::exit();</span>
    }
  zone.<a class="code" href="classZone.html#a4bc04163903c004c5c1383eaa5fa844d" title="Renvoie la liste des bords de la zone. (version const)">faces_bord</a>().<a class="code" href="classBords.html#a1775d9d5284e346393210199208b46c9" title="Associe une zone a tous les bords de la liste.">associer_zone</a>(zone);
  zone.<a class="code" href="classZone.html#ac2a20fe8fa5529c7eefd418b43c0131c" title="Renvoie la liste des racoords de la zone. (version const)">faces_raccord</a>().<a class="code" href="classRaccords.html#acdfc1c47eb34bb3252f5e66af8f40ebf" title="Associe une zone a tous les raccords de la liste.">associer_zone</a>(zone);
  zone.<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>().<a class="code" href="classJoints.html#a5f2b2cd5440785d29d971a62f4d58e9d" title="Associe une zone a tous les joints de la liste. Les joints de la liste feront partie de cette zone...">associer_zone</a>(zone);


  zone.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classElem__geom.html#a52107168bd97e24d851ca5f667c575e5" title="Appel a l&#39;objet sous-jacent Associe l&#39;element geometrique a sa zone.">associer_zone</a>(zone);
  zone.<a class="code" href="classZone.html#a4e43597ed27e689e989d3ea8528fbbdb">fixer_premieres_faces_frontiere</a>();



  <span class="keywordflow">if</span> (dom.id_.timestep_!=0)
    dom_trio.<a class="code" href="classDomaine.html#a5bb8b804dc74139ed45739c253cee4b5">deformable</a>()=1;

}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a764cfe6fff5cfd23d0fe29b347b891db"></a><!-- doxytag: member="LataToMED.cpp::LataToMEDbases" ref="a764cfe6fff5cfd23d0fe29b347b891db" args="[1]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a>* <a class="el" href="LataToMED_8cpp.html#a764cfe6fff5cfd23d0fe29b347b891db">LataToMEDbases</a>[1] = { &amp;( <a class="el" href="classInterprete.html">Interprete</a> ::info_obj)}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="LataToMED_8cpp_source.html#l00040">40</a> of file <a class="el" href="LataToMED_8cpp_source.html">LataToMED.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad2bafa61bb9aee4a00617924e77b992e"></a><!-- doxytag: member="LataToMED.cpp::latatootherbases" ref="ad2bafa61bb9aee4a00617924e77b992e" args="[1]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a>* <a class="el" href="LataToMED_8cpp.html#ad2bafa61bb9aee4a00617924e77b992e">latatootherbases</a>[1] = { &amp;( <a class="el" href="classInterprete.html">Interprete</a> ::info_obj)}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="LataToMED_8cpp_source.html#l00041">41</a> of file <a class="el" href="LataToMED_8cpp_source.html">LataToMED.cpp</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:53 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
