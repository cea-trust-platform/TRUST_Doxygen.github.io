<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/VDF/Cond_Lim/Echange_contact_Correlation_VDF.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/VDF/Cond_Lim/Echange_contact_Correlation_VDF.cpp</div>  </div>
</div>
<div class="contents">
<a href="Echange__contact__Correlation__VDF_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Echange_contact_Correlation_VDF.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/VDF/Cond_Lim</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/28</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Echange__contact__Correlation__VDF_8h.html">Echange_contact_Correlation_VDF.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Champ__front__calc_8h.html">Champ_front_calc.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Probleme__base_8h.html">Probleme_base.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VDF_8h.html">Zone_VDF.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Milieu__base_8h.html">Milieu_base.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Champ__front__fonc_8h.html">Champ_front_fonc.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Uniforme_8h.html">Champ_Uniforme.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Conduction_8h.html">Conduction.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Solv__TDMA_8h.html">Solv_TDMA.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="communications_8h.html">communications.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="SFichier_8h.html">SFichier.h</a>&gt;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a><a class="code" href="Echange__contact__Correlation__VDF_8cpp.html#a447bc67a355725e34bcb964a9ae3fc01">00035</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html">Echange_contact_Correlation_VDF</a>,<span class="stringliteral">&quot;Paroi_Echange_contact_Correlation_VDF&quot;</span>,<a class="code" href="classEchange__global__impose.html" title="Classe Echange_global_impose Cette classe represente le cas particulier de la classe Echange_impose_b...">Echange_global_impose</a>);
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 
<a name="l00040"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a3cb42947434d09626209faf84b454232">00040</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classEchange__contact__Correlation__VDF.html#a3cb42947434d09626209faf84b454232" title="Ecrit le type de l&#39;objet sur un flot de sortie.">Echange_contact_Correlation_VDF::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; s )<span class="keyword"> const</span>
<a name="l00041"></a>00041 <span class="keyword"></span>{
<a name="l00042"></a>00042   <span class="keywordflow">return</span> s &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00043"></a>00043 }
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a38139aa39d7aade064a8e3898cd66f1b">00045</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classEchange__contact__Correlation__VDF.html#a38139aa39d7aade064a8e3898cd66f1b" title="Simple appel a Echange_impose_base::readOn(Entree&amp;) Lit les specifications des conditions aux limites...">Echange_contact_Correlation_VDF::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is )
<a name="l00046"></a>00046 {
<a name="l00047"></a>00047 <span class="comment">// Motcles les_mots(12);</span>
<a name="l00048"></a>00048 <span class="comment">// Rajout Cyril MALOD (14/09/2006)</span>
<a name="l00049"></a>00049   <a class="code" href="classEchange__contact__Correlation__VDF.html#a51d1416085766b61a9becb9df0442dd0">Reprise_temperature</a>=0;
<a name="l00050"></a>00050   <a class="code" href="classMotcles.html" title="Un tableau d&#39;objets de la classe Motcle.">Motcles</a> les_mots(13);
<a name="l00051"></a>00051   {
<a name="l00052"></a>00052     les_mots[0] = <span class="stringliteral">&quot;dir&quot;</span>;
<a name="l00053"></a>00053     les_mots[1] = <span class="stringliteral">&quot;Tinf&quot;</span>;
<a name="l00054"></a>00054     les_mots[2] = <span class="stringliteral">&quot;Tsup&quot;</span>;
<a name="l00055"></a>00055     les_mots[3] = <span class="stringliteral">&quot;lambda&quot;</span>;
<a name="l00056"></a>00056     les_mots[4] = <span class="stringliteral">&quot;rho&quot;</span>;
<a name="l00057"></a>00057     les_mots[5] = <span class="stringliteral">&quot;Cp&quot;</span>;
<a name="l00058"></a>00058     les_mots[6] = <span class="stringliteral">&quot;dt_impr&quot;</span>;
<a name="l00059"></a>00059     les_mots[7] = <span class="stringliteral">&quot;mu&quot;</span>;
<a name="l00060"></a>00060     les_mots[8] = <span class="stringliteral">&quot;debit&quot;</span>;
<a name="l00061"></a>00061     les_mots[9] = <span class="stringliteral">&quot;Dh&quot;</span>;
<a name="l00062"></a>00062     les_mots[10] = <span class="stringliteral">&quot;volume&quot;</span>;
<a name="l00063"></a>00063     les_mots[11] = <span class="stringliteral">&quot;Nu&quot;</span>;
<a name="l00064"></a>00064 <span class="comment">// Rajout Cyril MALOD (14/09/2006)</span>
<a name="l00065"></a>00065     les_mots[12] = <span class="stringliteral">&quot;Reprise_correlation&quot;</span>;
<a name="l00066"></a>00066   }
<a name="l00067"></a>00067 
<a name="l00068"></a>00068   <a class="code" href="classEchange__contact__Correlation__VDF.html#ad487d144a8ccbfcb510268e4f298bfc8">dt_impr</a> = 1e10;
<a name="l00069"></a>00069   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> motlu, accolade_fermee=<span class="stringliteral">&quot;}&quot;</span>, accolade_ouverte=<span class="stringliteral">&quot;{&quot;</span>;
<a name="l00070"></a>00070   is &gt;&gt; motlu;
<a name="l00071"></a>00071   <span class="keywordflow">if</span>(motlu!=accolade_ouverte)
<a name="l00072"></a>00072     {
<a name="l00073"></a>00073       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;On attendait une { a la lecture d&#39;une &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00074"></a>00074       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;et non : &quot;</span> &lt;&lt; motlu &lt;&lt; finl;
<a name="l00075"></a>00075       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00076"></a>00076     }
<a name="l00077"></a>00077   is &gt;&gt; motlu;
<a name="l00078"></a>00078   <span class="keywordflow">while</span> (motlu != accolade_fermee)
<a name="l00079"></a>00079     {
<a name="l00080"></a>00080 
<a name="l00081"></a>00081       <span class="keywordtype">int</span> rang=les_mots.<a class="code" href="classMotcles.html#afecd68f73e904bc129022a236ff6ab15">search</a>(motlu);
<a name="l00082"></a>00082       <span class="keywordflow">switch</span>(rang)
<a name="l00083"></a>00083         {
<a name="l00084"></a>00084         <span class="keywordflow">case</span> 0 :
<a name="l00085"></a>00085           {
<a name="l00086"></a>00086             is &gt;&gt; <a class="code" href="classEchange__contact__Correlation__VDF.html#aa2b88ddb3142990877cbcf4a6fd4f259" title="Direction du cylindre.">dir</a>;
<a name="l00087"></a>00087             <span class="keywordflow">if</span> (dir&lt;0 ||dir&gt;2)
<a name="l00088"></a>00088               {
<a name="l00089"></a>00089                 <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;La direction doit etre 0, 1 ou 2 dans  &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00090"></a>00090                 <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00091"></a>00091               }
<a name="l00092"></a>00092             <span class="keywordflow">break</span>;
<a name="l00093"></a>00093           }
<a name="l00094"></a>00094         <span class="keywordflow">case</span> 1 :
<a name="l00095"></a>00095           {
<a name="l00096"></a>00096             is &gt;&gt; <a class="code" href="classEchange__contact__Correlation__VDF.html#aed3d73f6b668ad10f0010df96b126cb9">Tinf</a>;
<a name="l00097"></a>00097             <span class="keywordflow">break</span>;
<a name="l00098"></a>00098           }
<a name="l00099"></a>00099         <span class="keywordflow">case</span> 2 :
<a name="l00100"></a>00100           {
<a name="l00101"></a>00101             is &gt;&gt; <a class="code" href="classEchange__contact__Correlation__VDF.html#a2342f10205a5f2c153aa0380ecf5593c" title="Temperature entree, sortie.">Tsup</a>;
<a name="l00102"></a>00102             <span class="keywordflow">break</span>;
<a name="l00103"></a>00103           }
<a name="l00104"></a>00104         <span class="keywordflow">case</span> 3 :
<a name="l00105"></a>00105           {
<a name="l00106"></a>00106             <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> tmp;
<a name="l00107"></a>00107             is &gt;&gt; tmp;
<a name="l00108"></a>00108             <a class="code" href="classEchange__contact__Correlation__VDF.html#ae71d50e699559fe81973eb200c574836">lambda_T</a>.<a class="code" href="classParser__U.html#a3ff44eabf641cbcea9ca59f84167e2c1">setNbVar</a>(1);
<a name="l00109"></a>00109             <a class="code" href="classEchange__contact__Correlation__VDF.html#ae71d50e699559fe81973eb200c574836">lambda_T</a>.<a class="code" href="classParser__U.html#a25d581b85688da391aa64117abf0a073">setString</a>(tmp);
<a name="l00110"></a>00110             <a class="code" href="classEchange__contact__Correlation__VDF.html#ae71d50e699559fe81973eb200c574836">lambda_T</a>.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;T&quot;</span>);
<a name="l00111"></a>00111             <a class="code" href="classEchange__contact__Correlation__VDF.html#ae71d50e699559fe81973eb200c574836">lambda_T</a>.<a class="code" href="classParser__U.html#a441c2fd29f5d4370c0c7b6a1cdfe56d5">parseString</a>();
<a name="l00112"></a>00112             <span class="keywordflow">break</span>;
<a name="l00113"></a>00113           }
<a name="l00114"></a>00114         <span class="keywordflow">case</span> 4 :
<a name="l00115"></a>00115           {
<a name="l00116"></a>00116             <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> tmp;
<a name="l00117"></a>00117             is &gt;&gt; tmp;
<a name="l00118"></a>00118             <a class="code" href="classEchange__contact__Correlation__VDF.html#af69df97d885646338a4fd090699c9bde">rho_T</a>.<a class="code" href="classParser__U.html#a3ff44eabf641cbcea9ca59f84167e2c1">setNbVar</a>(1);
<a name="l00119"></a>00119             <a class="code" href="classEchange__contact__Correlation__VDF.html#af69df97d885646338a4fd090699c9bde">rho_T</a>.<a class="code" href="classParser__U.html#a25d581b85688da391aa64117abf0a073">setString</a>(tmp);
<a name="l00120"></a>00120             <a class="code" href="classEchange__contact__Correlation__VDF.html#af69df97d885646338a4fd090699c9bde">rho_T</a>.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;T&quot;</span>);
<a name="l00121"></a>00121             <a class="code" href="classEchange__contact__Correlation__VDF.html#af69df97d885646338a4fd090699c9bde">rho_T</a>.<a class="code" href="classParser__U.html#a441c2fd29f5d4370c0c7b6a1cdfe56d5">parseString</a>();
<a name="l00122"></a>00122             <span class="keywordflow">break</span>;
<a name="l00123"></a>00123           }
<a name="l00124"></a>00124         <span class="keywordflow">case</span> 5 :
<a name="l00125"></a>00125           {
<a name="l00126"></a>00126             is &gt;&gt; <a class="code" href="classEchange__contact__Correlation__VDF.html#a8288e959e3dc32ea00afc46891f8fd26">Cp</a>;
<a name="l00127"></a>00127             <span class="keywordflow">break</span>;
<a name="l00128"></a>00128           }
<a name="l00129"></a>00129         <span class="keywordflow">case</span> 6 :
<a name="l00130"></a>00130           {
<a name="l00131"></a>00131             is &gt;&gt; <a class="code" href="classEchange__contact__Correlation__VDF.html#ad487d144a8ccbfcb510268e4f298bfc8">dt_impr</a>;
<a name="l00132"></a>00132             <span class="keywordflow">break</span>;
<a name="l00133"></a>00133           }
<a name="l00134"></a>00134         <span class="keywordflow">case</span> 7 :
<a name="l00135"></a>00135           {
<a name="l00136"></a>00136             <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> tmp;
<a name="l00137"></a>00137             is &gt;&gt; tmp;
<a name="l00138"></a>00138             <a class="code" href="classEchange__contact__Correlation__VDF.html#a43c18ae828bc54de3c444af56604b095">mu_T</a>.<a class="code" href="classParser__U.html#a3ff44eabf641cbcea9ca59f84167e2c1">setNbVar</a>(1);
<a name="l00139"></a>00139             <a class="code" href="classEchange__contact__Correlation__VDF.html#a43c18ae828bc54de3c444af56604b095">mu_T</a>.<a class="code" href="classParser__U.html#a25d581b85688da391aa64117abf0a073">setString</a>(tmp);
<a name="l00140"></a>00140             <a class="code" href="classEchange__contact__Correlation__VDF.html#a43c18ae828bc54de3c444af56604b095">mu_T</a>.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;T&quot;</span>);
<a name="l00141"></a>00141             <a class="code" href="classEchange__contact__Correlation__VDF.html#a43c18ae828bc54de3c444af56604b095">mu_T</a>.<a class="code" href="classParser__U.html#a441c2fd29f5d4370c0c7b6a1cdfe56d5">parseString</a>();
<a name="l00142"></a>00142             <span class="keywordflow">break</span>;
<a name="l00143"></a>00143           }
<a name="l00144"></a>00144         <span class="keywordflow">case</span> 8 :
<a name="l00145"></a>00145           {
<a name="l00146"></a>00146             is &gt;&gt; <a class="code" href="classEchange__contact__Correlation__VDF.html#af2cac05d437d4121185d2e92eccd97fa">debit</a>;
<a name="l00147"></a>00147             <span class="keywordflow">break</span>;
<a name="l00148"></a>00148           }
<a name="l00149"></a>00149         <span class="keywordflow">case</span> 9 :
<a name="l00150"></a>00150           {
<a name="l00151"></a>00151             is &gt;&gt; <a class="code" href="classEchange__contact__Correlation__VDF.html#aeb03e21bb33c1ab10365a6f126ea0d27" title="diametre hydraulique">diam</a>;
<a name="l00152"></a>00152             <span class="keywordflow">break</span>;
<a name="l00153"></a>00153           }
<a name="l00154"></a>00154         <span class="keywordflow">case</span> 10 :
<a name="l00155"></a>00155           {
<a name="l00156"></a>00156             <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> tmp;
<a name="l00157"></a>00157             is &gt;&gt; tmp;
<a name="l00158"></a>00158             <a class="code" href="classEchange__contact__Correlation__VDF.html#ac29b0aab8df3ee6b29a81230256b0b8c">fct_vol</a>.<a class="code" href="classParser__U.html#a3ff44eabf641cbcea9ca59f84167e2c1">setNbVar</a>(2);
<a name="l00159"></a>00159             <a class="code" href="classEchange__contact__Correlation__VDF.html#ac29b0aab8df3ee6b29a81230256b0b8c">fct_vol</a>.<a class="code" href="classParser__U.html#a25d581b85688da391aa64117abf0a073">setString</a>(tmp);
<a name="l00160"></a>00160             <a class="code" href="classEchange__contact__Correlation__VDF.html#ac29b0aab8df3ee6b29a81230256b0b8c">fct_vol</a>.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;Dh&quot;</span>);
<a name="l00161"></a>00161             <a class="code" href="classEchange__contact__Correlation__VDF.html#ac29b0aab8df3ee6b29a81230256b0b8c">fct_vol</a>.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;S&quot;</span>);
<a name="l00162"></a>00162             <a class="code" href="classEchange__contact__Correlation__VDF.html#ac29b0aab8df3ee6b29a81230256b0b8c">fct_vol</a>.<a class="code" href="classParser__U.html#a441c2fd29f5d4370c0c7b6a1cdfe56d5">parseString</a>();
<a name="l00163"></a>00163             <span class="keywordflow">break</span>;
<a name="l00164"></a>00164           }
<a name="l00165"></a>00165         <span class="keywordflow">case</span> 11 :
<a name="l00166"></a>00166           {
<a name="l00167"></a>00167             <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> tmp;
<a name="l00168"></a>00168             is &gt;&gt; tmp;
<a name="l00169"></a>00169             <a class="code" href="classEchange__contact__Correlation__VDF.html#ab243a5584d89f20bd9b84696af8ae00e">fct_Nu</a>.<a class="code" href="classParser__U.html#a3ff44eabf641cbcea9ca59f84167e2c1">setNbVar</a>(2);
<a name="l00170"></a>00170             <a class="code" href="classEchange__contact__Correlation__VDF.html#ab243a5584d89f20bd9b84696af8ae00e">fct_Nu</a>.<a class="code" href="classParser__U.html#a25d581b85688da391aa64117abf0a073">setString</a>(tmp);
<a name="l00171"></a>00171             <a class="code" href="classEchange__contact__Correlation__VDF.html#ab243a5584d89f20bd9b84696af8ae00e">fct_Nu</a>.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;Re&quot;</span>);
<a name="l00172"></a>00172             <a class="code" href="classEchange__contact__Correlation__VDF.html#ab243a5584d89f20bd9b84696af8ae00e">fct_Nu</a>.<a class="code" href="classParser__U.html#ae216b7daee6c4bb756423ffed5674293">addVar</a>(<span class="stringliteral">&quot;Pr&quot;</span>);
<a name="l00173"></a>00173             <a class="code" href="classEchange__contact__Correlation__VDF.html#ab243a5584d89f20bd9b84696af8ae00e">fct_Nu</a>.<a class="code" href="classParser__U.html#a441c2fd29f5d4370c0c7b6a1cdfe56d5">parseString</a>();
<a name="l00174"></a>00174             <span class="keywordflow">break</span>;
<a name="l00175"></a>00175           }
<a name="l00176"></a>00176 <span class="comment">// Rajout Cyril MALOD (14/09/2006)</span>
<a name="l00177"></a>00177         <span class="keywordflow">case</span> 12 :
<a name="l00178"></a>00178           {
<a name="l00179"></a>00179             <a class="code" href="classEchange__contact__Correlation__VDF.html#a51d1416085766b61a9becb9df0442dd0">Reprise_temperature</a>=1;
<a name="l00180"></a>00180             <span class="keywordflow">break</span>;
<a name="l00181"></a>00181           }
<a name="l00182"></a>00182         <span class="keywordflow">default</span> :
<a name="l00183"></a>00183           {
<a name="l00184"></a>00184             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;On ne comprend le mot : &quot;</span> &lt;&lt; motlu &lt;&lt; <span class="stringliteral">&quot;dans &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00185"></a>00185             <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00186"></a>00186           }
<a name="l00187"></a>00187         }
<a name="l00188"></a>00188       is &gt;&gt; motlu;
<a name="l00189"></a>00189     }
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 
<a name="l00192"></a>00192 
<a name="l00193"></a>00193   <a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>().<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Champ_front_fonc&quot;</span>);
<a name="l00194"></a>00194   <a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>()-&gt;fixer_nb_comp(1);
<a name="l00195"></a>00195   <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Champ_front_fonc&quot;</span>);
<a name="l00196"></a>00196   <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>-&gt;fixer_nb_comp(1);
<a name="l00197"></a>00197   <span class="keywordflow">return</span> is ;
<a name="l00198"></a>00198 }
<a name="l00199"></a>00199 
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 <span class="comment"></span>
<a name="l00202"></a>00202 <span class="comment">/**</span>
<a name="l00203"></a>00203 <span class="comment"> * Calcule le coeff d echange local dans la maille solide.</span>
<a name="l00204"></a>00204 <span class="comment"> */</span>
<a name="l00205"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a2040068e6ee2e740ad11c78e72fbe6c3">00205</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a2040068e6ee2e740ad11c78e72fbe6c3">Echange_contact_Correlation_VDF::calculer_h_mon_pb</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab)
<a name="l00206"></a>00206 {
<a name="l00207"></a>00207 <span class="comment">// forcement local</span>
<a name="l00208"></a>00208   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; mon_eqn = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>();
<a name="l00209"></a>00209   <span class="keyword">const</span> <a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>&amp; mon_milieu = mon_eqn.<a class="code" href="classEquation__base.html#a181e9899e2d927eb14c835d9d9334f46">milieu</a>();
<a name="l00210"></a>00210   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; ma_zvdf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>,<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().zone_dis().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00211"></a>00211   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; ma_front_vf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00212"></a>00212   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_bord=<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>().<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>();
<a name="l00213"></a>00213   <a class="code" href="classEchange__contact__Correlation__VDF.html#a4bedfa3f9ead88003ad4c79c238f579b">calculer_h_solide</a>(tab,mon_eqn,ma_zvdf,ma_front_vf,mon_milieu);
<a name="l00214"></a>00214 }
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="comment"></span>
<a name="l00218"></a>00218 <span class="comment">/**</span>
<a name="l00219"></a>00219 <span class="comment"> * Complete et initialise les attributs de la classe</span>
<a name="l00220"></a>00220 <span class="comment"> */</span>
<a name="l00221"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a86859a9bbe0f33137c6a17326ca908cb">00221</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a86859a9bbe0f33137c6a17326ca908cb">Echange_contact_Correlation_VDF::completer</a>()
<a name="l00222"></a>00222 {
<a name="l00223"></a>00223   <a class="code" href="classEchange__contact__Correlation__VDF.html#a86859a9bbe0f33137c6a17326ca908cb">Echange_impose_base::completer</a>();
<a name="l00224"></a>00224   <a class="code" href="classEchange__contact__Correlation__VDF.html#aeed7238e7b0fe9a3f13caa4dc71620c9">trier_coord</a>();
<a name="l00225"></a>00225   <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#aed3d73f6b668ad10f0010df96b126cb9">Tinf</a>,<a class="code" href="classEchange__contact__Correlation__VDF.html#a2342f10205a5f2c153aa0380ecf5593c" title="Temperature entree, sortie.">Tsup</a>);
<a name="l00226"></a>00226   <a class="code" href="classEchange__contact__Correlation__VDF.html#a58a3878c06e07271307c263cb6445b4f">calculer_prop_physique</a>();
<a name="l00227"></a>00227   <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(0)==<a class="code" href="classEchange__contact__Correlation__VDF.html#aed3d73f6b668ad10f0010df96b126cb9">Tinf</a>)
<a name="l00228"></a>00228     <a class="code" href="classEchange__contact__Correlation__VDF.html#aeb1623fe56b6e57416320aacf81d7260">U</a>=<a class="code" href="classEchange__contact__Correlation__VDF.html#af2cac05d437d4121185d2e92eccd97fa">debit</a>/<a class="code" href="classEchange__contact__Correlation__VDF.html#a5134330e67b5d3bde19dbeec92b5f5fa">rho</a>(0);
<a name="l00229"></a>00229   <span class="keywordflow">else</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#aeb1623fe56b6e57416320aacf81d7260">U</a> = <a class="code" href="classEchange__contact__Correlation__VDF.html#af2cac05d437d4121185d2e92eccd97fa">debit</a>/<a class="code" href="classEchange__contact__Correlation__VDF.html#a5134330e67b5d3bde19dbeec92b5f5fa">rho</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-1);
<a name="l00230"></a>00230 
<a name="l00231"></a>00231   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>; i++)
<a name="l00232"></a>00232     <a class="code" href="classEchange__contact__Correlation__VDF.html#a957e668cd8b997bfef07073da2204f23" title="le coeff d&#39;echange par correlation">h_correlation</a>(i) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a3a4463832ce49621f17eda77eefadaa9">calculer_coefficient_echange</a>(i);
<a name="l00233"></a>00233 
<a name="l00234"></a>00234   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; mon_h= <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>-&gt;<a class="code" href="classChamp__front.html#a74caddb39fcac6ade95ec1399fac38b7" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>();
<a name="l00235"></a>00235 <span class="comment">// calculer_h_mon_pb(mon_h);</span>
<a name="l00236"></a>00236 
<a name="l00237"></a>00237 
<a name="l00238"></a>00238   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; ma_front_vf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00239"></a>00239   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces_bord = ma_front_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00240"></a>00240   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Text_valeurs = <a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>().<a class="code" href="classDeriv__Champ__front__base.html#a5405a20c106b868a23805a45c4436a53">valeur</a>().<a class="code" href="classChamp__front__base.html#a7d124849f85571b21d805a760deefdc0" title="Renvoie le tableau des valeurs du champ.">valeurs</a>();
<a name="l00241"></a>00241   Text_valeurs.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_faces_bord,1);
<a name="l00242"></a>00242 
<a name="l00243"></a>00243   mon_h.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_faces_bord,1);
<a name="l00244"></a>00244 
<a name="l00245"></a>00245   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii=0; ii&lt;nb_faces_bord; ii++)
<a name="l00246"></a>00246     {
<a name="l00247"></a>00247       mon_h(ii,0) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a957e668cd8b997bfef07073da2204f23" title="le coeff d&#39;echange par correlation">h_correlation</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a11e0f6c580365f982df04c10d83502fe">correspondance_solide_fluide</a>(ii));
<a name="l00248"></a>00248       Text_valeurs(ii,0) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a11e0f6c580365f982df04c10d83502fe">correspondance_solide_fluide</a>(ii));
<a name="l00249"></a>00249     }
<a name="l00250"></a>00250 
<a name="l00251"></a>00251   <a class="code" href="classEchange__contact__Correlation__VDF.html#a2b39754cb042fee141bea2adaecdcb00">init_tab_echange</a>();
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <span class="comment">// Mise a jour car pas de dependance a des donnees d un autre probleme</span>
<a name="l00254"></a>00254 <span class="comment">// dans le cas de probleme couple</span>
<a name="l00255"></a>00255 <span class="comment">// Methode completer() peut etre a remplacer par methode initialiser()</span>
<a name="l00256"></a>00256   <a class="code" href="classEquation__base.html">Equation_base</a>&amp; mon_eqn = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>();
<a name="l00257"></a>00257   <span class="keyword">const</span> <span class="keywordtype">double</span> temps = mon_eqn.<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>().<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>();
<a name="l00258"></a>00258   <a class="code" href="classEchange__contact__Correlation__VDF.html#a939df8b5cabe64b7a84c5ad225ed307a">mettre_a_jour</a>(temps);
<a name="l00259"></a>00259 }
<a name="l00260"></a>00260 <span class="comment"></span>
<a name="l00261"></a>00261 <span class="comment">/**</span>
<a name="l00262"></a>00262 <span class="comment"> * Initialise le tab tab_ech pour le parallele</span>
<a name="l00263"></a>00263 <span class="comment"> */</span>
<a name="l00264"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a2b39754cb042fee141bea2adaecdcb00">00264</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a2b39754cb042fee141bea2adaecdcb00">Echange_contact_Correlation_VDF::init_tab_echange</a>()
<a name="l00265"></a>00265 {
<a name="l00266"></a>00266   <a class="code" href="classDoubleVect.html">DoubleVect</a> y_envoye(2);
<a name="l00267"></a>00267   <a class="code" href="classDoubleVect.html">DoubleVect</a> y_recu(2);
<a name="l00268"></a>00268   y_envoye(0) = <a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(1); <span class="comment">//!&lt; y_min</span>
<a name="l00269"></a>00269 <span class="comment"></span>  y_envoye(1) = <a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-2); <span class="comment">//!&lt; y_max</span>
<a name="l00270"></a>00270 <span class="comment"></span>
<a name="l00271"></a>00271 
<a name="l00272"></a>00272   <span class="keyword">const</span> <a class="code" href="classJoints.html" title="Classe Joints Cette classe represente une liste d&#39;objet de type Joint.">Joints</a>&amp; joints = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classZone__Cl__dis__base.html#a5dc98e8f521700c8f5f9148e36d0a8ec">zone</a>().<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>();
<a name="l00273"></a>00273   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_voisins = joints.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<a name="l00274"></a>00274 
<a name="l00275"></a>00275   <span class="keyword">const</span> <span class="keywordtype">int</span> ME=<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>();
<a name="l00276"></a>00276   <a class="code" href="classEchange__contact__Correlation__VDF.html#a8b6b79446fbed207520295e6632c50f6">tab_ech</a>.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>(),<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>());
<a name="l00277"></a>00277   <a class="code" href="classEchange__contact__Correlation__VDF.html#a8b6b79446fbed207520295e6632c50f6">tab_ech</a>=-1;
<a name="l00278"></a>00278   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_voisins; i++)
<a name="l00279"></a>00279     {
<a name="l00280"></a>00280       <span class="keywordtype">int</span> mon_voisin = joints[i].PEvoisin();
<a name="l00281"></a>00281       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Echange_contact_Correlation_VDF::init_tab_echange() A verifier pour envoi blocant&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00282"></a>00282       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00283"></a>00283       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(y_envoye,ME,mon_voisin,ME);
<a name="l00284"></a>00284 
<a name="l00285"></a>00285       <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(y_recu,mon_voisin,ME,mon_voisin);
<a name="l00286"></a>00286       <span class="keywordflow">if</span> (y_recu(1)&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(1))
<a name="l00287"></a>00287         {
<a name="l00288"></a>00288           <a class="code" href="classEchange__contact__Correlation__VDF.html#a8b6b79446fbed207520295e6632c50f6">tab_ech</a>(mon_voisin,ME)=1; <span class="comment">//!&lt; mon_voisin m&#39;enverra le max</span>
<a name="l00289"></a>00289 <span class="comment"></span>        }
<a name="l00290"></a>00290       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y_recu(0)&gt;<a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-2))
<a name="l00291"></a>00291         {
<a name="l00292"></a>00292           <a class="code" href="classEchange__contact__Correlation__VDF.html#a8b6b79446fbed207520295e6632c50f6">tab_ech</a>(mon_voisin,ME)=0; <span class="comment">//!&lt; mon_voisin m&#39;enverra le min</span>
<a name="l00293"></a>00293 <span class="comment"></span>        }
<a name="l00294"></a>00294     }
<a name="l00295"></a>00295 }
<a name="l00296"></a>00296 
<a name="l00297"></a>00297 <span class="comment"></span>
<a name="l00298"></a>00298 <span class="comment">/**</span>
<a name="l00299"></a>00299 <span class="comment"> * Calcule rho, mu et lambda du fluide pour la temperature courante</span>
<a name="l00300"></a>00300 <span class="comment"> */</span>
<a name="l00301"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a58a3878c06e07271307c263cb6445b4f">00301</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a58a3878c06e07271307c263cb6445b4f">Echange_contact_Correlation_VDF::calculer_prop_physique</a>()
<a name="l00302"></a>00302 {
<a name="l00303"></a>00303   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>; i++)
<a name="l00304"></a>00304     {
<a name="l00305"></a>00305       <a class="code" href="classEchange__contact__Correlation__VDF.html#af69df97d885646338a4fd090699c9bde">rho_T</a>.<a class="code" href="classParser__U.html#a13c377b32b6c3ced39a14f83f94a8828">setVar</a>(<span class="stringliteral">&quot;T&quot;</span>,<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(i));
<a name="l00306"></a>00306       <a class="code" href="classEchange__contact__Correlation__VDF.html#a43c18ae828bc54de3c444af56604b095">mu_T</a>.<a class="code" href="classParser__U.html#a13c377b32b6c3ced39a14f83f94a8828">setVar</a>(<span class="stringliteral">&quot;T&quot;</span>,<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(i));
<a name="l00307"></a>00307       <a class="code" href="classEchange__contact__Correlation__VDF.html#ae71d50e699559fe81973eb200c574836">lambda_T</a>.<a class="code" href="classParser__U.html#a13c377b32b6c3ced39a14f83f94a8828">setVar</a>(<span class="stringliteral">&quot;T&quot;</span>,<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(i));
<a name="l00308"></a>00308       <a class="code" href="classEchange__contact__Correlation__VDF.html#a5134330e67b5d3bde19dbeec92b5f5fa">rho</a>(i) = <a class="code" href="classEchange__contact__Correlation__VDF.html#af69df97d885646338a4fd090699c9bde">rho_T</a>.<a class="code" href="classParser__U.html#a61605bc1b85e466f884f1739e811b6b4">eval</a>();
<a name="l00309"></a>00309       <a class="code" href="classEchange__contact__Correlation__VDF.html#a94c95880d097783d53cdfc35162f4ea6">mu</a>(i) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a43c18ae828bc54de3c444af56604b095">mu_T</a>.<a class="code" href="classParser__U.html#a61605bc1b85e466f884f1739e811b6b4">eval</a>();
<a name="l00310"></a>00310       <a class="code" href="classEchange__contact__Correlation__VDF.html#af6781a14900253f5c20d683005989d19" title="tableau des proprietes physiques du fluide a un instant donne">lambda</a>(i) = <a class="code" href="classEchange__contact__Correlation__VDF.html#ae71d50e699559fe81973eb200c574836">lambda_T</a>.<a class="code" href="classParser__U.html#a61605bc1b85e466f884f1739e811b6b4">eval</a>();
<a name="l00311"></a>00311     }
<a name="l00312"></a>00312 }
<a name="l00313"></a>00313 <span class="comment"></span>
<a name="l00314"></a>00314 <span class="comment">/**</span>
<a name="l00315"></a>00315 <span class="comment"> * Calcule le coeff d echange suivant la correlation entree dans le jdd</span>
<a name="l00316"></a>00316 <span class="comment"> */</span>
<a name="l00317"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a3a4463832ce49621f17eda77eefadaa9">00317</a> <span class="keywordtype">double</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a3a4463832ce49621f17eda77eefadaa9">Echange_contact_Correlation_VDF::calculer_coefficient_echange</a>(<span class="keywordtype">int</span> i)
<a name="l00318"></a>00318 {
<a name="l00319"></a>00319   <span class="keywordtype">double</span> Re,Pr;
<a name="l00320"></a>00320   Re = fabs(<a class="code" href="classEchange__contact__Correlation__VDF.html#a8a7a6e556c7bf479e01a7e8e3d6aa7eb">getQh</a>()*<a class="code" href="classEchange__contact__Correlation__VDF.html#ae9452ee97dceabf450fbabbcf919af57">getDh</a>()/<a class="code" href="classEchange__contact__Correlation__VDF.html#aea86078ef586f74bcaa3147f806f812b">getMu</a>(i));
<a name="l00321"></a>00321   Pr = <a class="code" href="classEchange__contact__Correlation__VDF.html#aea86078ef586f74bcaa3147f806f812b">getMu</a>(i)*<a class="code" href="classEchange__contact__Correlation__VDF.html#a2495980c19ce375338b74e8155ace8c8">getCp</a>()/<a class="code" href="classEchange__contact__Correlation__VDF.html#a3a710e631bc8e0d802c6da3a5915fb12">getLambda</a>(i);
<a name="l00322"></a>00322   <a class="code" href="classEchange__contact__Correlation__VDF.html#ab243a5584d89f20bd9b84696af8ae00e">fct_Nu</a>.<a class="code" href="classParser__U.html#a13c377b32b6c3ced39a14f83f94a8828">setVar</a>(<span class="stringliteral">&quot;Re&quot;</span>,Re);
<a name="l00323"></a>00323   <a class="code" href="classEchange__contact__Correlation__VDF.html#ab243a5584d89f20bd9b84696af8ae00e">fct_Nu</a>.<a class="code" href="classParser__U.html#a13c377b32b6c3ced39a14f83f94a8828">setVar</a>(<span class="stringliteral">&quot;Pr&quot;</span>,Pr);
<a name="l00324"></a>00324   <span class="keywordflow">return</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#ab243a5584d89f20bd9b84696af8ae00e">fct_Nu</a>.<a class="code" href="classParser__U.html#a61605bc1b85e466f884f1739e811b6b4">eval</a>()*<a class="code" href="classEchange__contact__Correlation__VDF.html#a3a710e631bc8e0d802c6da3a5915fb12">getLambda</a>(i)/<a class="code" href="classEchange__contact__Correlation__VDF.html#ae9452ee97dceabf450fbabbcf919af57">getDh</a>();
<a name="l00325"></a>00325 }
<a name="l00326"></a>00326 <span class="comment"></span>
<a name="l00327"></a>00327 <span class="comment">/**</span>
<a name="l00328"></a>00328 <span class="comment"> * Calcul du terme source  de puissance volumique dans l&#39;equation d&#39;energie 1D fluide.</span>
<a name="l00329"></a>00329 <span class="comment"> */</span>
<a name="l00330"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a00bf4023bb0567241fbc62054ed39890">00330</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a00bf4023bb0567241fbc62054ed39890">Echange_contact_Correlation_VDF::calculer_Q</a>()
<a name="l00331"></a>00331 {
<a name="l00332"></a>00332   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; ma_zvdf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>,<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().zone_dis().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00333"></a>00333   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; ma_front_vf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00334"></a>00334   <span class="keyword">const</span> <span class="keywordtype">int</span> ndeb = ma_front_vf.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>();
<a name="l00335"></a>00335   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces_bord = ma_front_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00336"></a>00336   <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; surfaces = ma_zvdf.<a class="code" href="classZone__VF.html#a40c3382b189a4fc508cf1c3e37b04b21">face_surfaces</a>();
<a name="l00337"></a>00337   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; face_voisins = ma_zvdf.<a class="code" href="classZone__VF.html#a49d4322f5585a8fa95748ca785b70702" title="renvoie l&#39;element voisin de numface dans la direction i. i=0 : dans le sens oppose de l&#39;axe orthogona...">face_voisins</a>();
<a name="l00338"></a>00338   <a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>&amp; inco = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>();
<a name="l00339"></a>00339   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Ts = inco.<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>();
<a name="l00340"></a>00340   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; mon_h= <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>-&gt;<a class="code" href="classChamp__front.html#a74caddb39fcac6ade95ec1399fac38b7" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>();
<a name="l00341"></a>00341 
<a name="l00342"></a>00342 
<a name="l00343"></a>00343   <a class="code" href="classEchange__contact__Correlation__VDF.html#aa61b2d2ad2cab8993429a0bc5d503b54" title="puissance volumique dans le fluide 1D">Qvol</a>=0.;
<a name="l00344"></a>00344   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> iface=0; iface&lt;nb_faces_bord; iface++)
<a name="l00345"></a>00345     {
<a name="l00346"></a>00346       <span class="keywordtype">int</span> corresp = <a class="code" href="classEchange__contact__Correlation__VDF.html#a11e0f6c580365f982df04c10d83502fe">correspondance_solide_fluide</a>(iface);
<a name="l00347"></a>00347       <span class="keywordtype">int</span> elem =  face_voisins(ndeb+iface,0);
<a name="l00348"></a>00348       <span class="keywordflow">if</span>(elem == -1)
<a name="l00349"></a>00349         elem =  face_voisins(ndeb+iface,1);
<a name="l00350"></a>00350       <a class="code" href="classEchange__contact__Correlation__VDF.html#aa61b2d2ad2cab8993429a0bc5d503b54" title="puissance volumique dans le fluide 1D">Qvol</a>(corresp)+=mon_h(iface,0)*(Ts(elem)-<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(corresp))*surfaces(ndeb+iface);
<a name="l00351"></a>00351     }
<a name="l00352"></a>00352   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>; i++)
<a name="l00353"></a>00353     <a class="code" href="classEchange__contact__Correlation__VDF.html#aa61b2d2ad2cab8993429a0bc5d503b54" title="puissance volumique dans le fluide 1D">Qvol</a>(i)/=<a class="code" href="classEchange__contact__Correlation__VDF.html#aeb9f8c00367a320b8e3d573d68ea77f8" title="volumes des tranches Sdz du volume suivant la direction de l&#39;ecoulement">vol</a>(i);
<a name="l00354"></a>00354 }
<a name="l00355"></a>00355 
<a name="l00356"></a>00356 
<a name="l00357"></a>00357 
<a name="l00358"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#aeed7238e7b0fe9a3f13caa4dc71620c9">00358</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#aeed7238e7b0fe9a3f13caa4dc71620c9">Echange_contact_Correlation_VDF::trier_coord</a>()
<a name="l00359"></a>00359 {
<a name="l00360"></a>00360   <span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; ma_zvdf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>,<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().zone_dis().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00361"></a>00361   <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; surfaces = ma_zvdf.<a class="code" href="classZone__VF.html#a40c3382b189a4fc508cf1c3e37b04b21">face_surfaces</a>();
<a name="l00362"></a>00362   <span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; ma_front_vf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>,<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>());
<a name="l00363"></a>00363 
<a name="l00364"></a>00364   <span class="keyword">const</span> <span class="keywordtype">int</span> ndeb = ma_front_vf.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>();
<a name="l00365"></a>00365   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces_bord = ma_front_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00366"></a>00366 
<a name="l00367"></a>00367   <a class="code" href="classIntVect.html">IntVect</a> face_triee(nb_faces_bord);
<a name="l00368"></a>00368   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xv = ma_zvdf.<a class="code" href="classZone__VF.html#a918c0885a9b67317fcce3a0535306542">xv</a>();
<a name="l00369"></a>00369   <span class="keywordtype">int</span> i, j ,tmp;
<a name="l00370"></a>00370 
<a name="l00371"></a>00371 <span class="comment">// On trie les faces par coordonnees croissante (selon la coordonnee correspondante a la direction du tube)</span>
<a name="l00372"></a>00372   <span class="keywordflow">if</span> (nb_faces_bord&gt;1)
<a name="l00373"></a>00373     {
<a name="l00374"></a>00374       <span class="keywordflow">for</span>(i=0; i&lt;nb_faces_bord; i++)
<a name="l00375"></a>00375         face_triee(i) = ndeb+i;
<a name="l00376"></a>00376 
<a name="l00377"></a>00377       <span class="keywordflow">for</span>(i=1; i&lt;nb_faces_bord; i++)
<a name="l00378"></a>00378         {
<a name="l00379"></a>00379           j=i-1;
<a name="l00380"></a>00380           tmp = face_triee(i);
<a name="l00381"></a>00381           <span class="keywordflow">while</span> ( j&gt;=0 &amp;&amp; xv(face_triee(j),<a class="code" href="classEchange__contact__Correlation__VDF.html#aa2b88ddb3142990877cbcf4a6fd4f259" title="Direction du cylindre.">dir</a>)&gt;xv(tmp,<a class="code" href="classEchange__contact__Correlation__VDF.html#aa2b88ddb3142990877cbcf4a6fd4f259" title="Direction du cylindre.">dir</a>))
<a name="l00382"></a>00382             {
<a name="l00383"></a>00383               face_triee(j+1) = face_triee(j);
<a name="l00384"></a>00384               j--;
<a name="l00385"></a>00385             }
<a name="l00386"></a>00386           face_triee(j+1) = tmp;
<a name="l00387"></a>00387         }
<a name="l00388"></a>00388     }
<a name="l00389"></a>00389 <span class="comment">// On determine le nb de mailles 1D dans le fluide fictif</span>
<a name="l00390"></a>00390 <span class="comment">// et on remplit les correspondances elements solides -&gt; elements fluides</span>
<a name="l00391"></a>00391   <a class="code" href="classEchange__contact__Correlation__VDF.html#a11e0f6c580365f982df04c10d83502fe">correspondance_solide_fluide</a>.<a class="code" href="classIntVect.html#a5900779fd9a3f9a82c68007a42b87d98" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_faces_bord);
<a name="l00392"></a>00392   <a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>=3; <span class="comment">//!&lt; on rajoute les noeuds des bords</span>
<a name="l00393"></a>00393 <span class="comment"></span>  <a class="code" href="classEchange__contact__Correlation__VDF.html#a11e0f6c580365f982df04c10d83502fe">correspondance_solide_fluide</a>(face_triee(0)-ndeb) = 1;
<a name="l00394"></a>00394   <span class="keywordflow">for</span>(i=1; i&lt;nb_faces_bord; i++)
<a name="l00395"></a>00395     {
<a name="l00396"></a>00396       <span class="keywordflow">if</span> (xv(face_triee(i),<a class="code" href="classEchange__contact__Correlation__VDF.html#aa2b88ddb3142990877cbcf4a6fd4f259" title="Direction du cylindre.">dir</a>) != xv(face_triee(i-1),<a class="code" href="classEchange__contact__Correlation__VDF.html#aa2b88ddb3142990877cbcf4a6fd4f259" title="Direction du cylindre.">dir</a>))
<a name="l00397"></a>00397         <a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>++;
<a name="l00398"></a>00398       <a class="code" href="classEchange__contact__Correlation__VDF.html#a11e0f6c580365f982df04c10d83502fe">correspondance_solide_fluide</a>(face_triee(i)-ndeb) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-2;
<a name="l00399"></a>00399     }
<a name="l00400"></a>00400 
<a name="l00401"></a>00401   <a class="code" href="classEchange__contact__Correlation__VDF.html#aeb1623fe56b6e57416320aacf81d7260">U</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>);
<a name="l00402"></a>00402   <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>);
<a name="l00403"></a>00403   <a class="code" href="classEchange__contact__Correlation__VDF.html#aa61b2d2ad2cab8993429a0bc5d503b54" title="puissance volumique dans le fluide 1D">Qvol</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>);
<a name="l00404"></a>00404   <a class="code" href="classEchange__contact__Correlation__VDF.html#a5134330e67b5d3bde19dbeec92b5f5fa">rho</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>);
<a name="l00405"></a>00405   <a class="code" href="classEchange__contact__Correlation__VDF.html#a94c95880d097783d53cdfc35162f4ea6">mu</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>);
<a name="l00406"></a>00406   <a class="code" href="classEchange__contact__Correlation__VDF.html#af6781a14900253f5c20d683005989d19" title="tableau des proprietes physiques du fluide a un instant donne">lambda</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>);
<a name="l00407"></a>00407   <a class="code" href="classEchange__contact__Correlation__VDF.html#aeb9f8c00367a320b8e3d573d68ea77f8" title="volumes des tranches Sdz du volume suivant la direction de l&#39;ecoulement">vol</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>);
<a name="l00408"></a>00408   <a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>);
<a name="l00409"></a>00409   <a class="code" href="classEchange__contact__Correlation__VDF.html#a957e668cd8b997bfef07073da2204f23" title="le coeff d&#39;echange par correlation">h_correlation</a>.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>);
<a name="l00410"></a>00410 
<a name="l00411"></a>00411 
<a name="l00412"></a>00412 
<a name="l00413"></a>00413 <span class="comment">// calcul des volumes des tranches</span>
<a name="l00414"></a>00414   <a class="code" href="classDoubleVect.html">DoubleVect</a> surf(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>);
<a name="l00415"></a>00415   surf=0.;
<a name="l00416"></a>00416   <a class="code" href="classEchange__contact__Correlation__VDF.html#aeb9f8c00367a320b8e3d573d68ea77f8" title="volumes des tranches Sdz du volume suivant la direction de l&#39;ecoulement">vol</a>=0.;
<a name="l00417"></a>00417   surf(0) = surf(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-1) = 0.; <span class="comment">//!&lt; ne sert pas</span>
<a name="l00418"></a>00418 <span class="comment"></span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> iface=0; iface&lt;nb_faces_bord; iface++)
<a name="l00419"></a>00419     {
<a name="l00420"></a>00420       <span class="keywordtype">int</span> corresp = <a class="code" href="classEchange__contact__Correlation__VDF.html#a11e0f6c580365f982df04c10d83502fe">correspondance_solide_fluide</a>(iface);
<a name="l00421"></a>00421       surf(corresp)+=surfaces(ndeb+iface);
<a name="l00422"></a>00422       <a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(corresp) = xv(ndeb+iface,<a class="code" href="classEchange__contact__Correlation__VDF.html#aa2b88ddb3142990877cbcf4a6fd4f259" title="Direction du cylindre.">dir</a>);
<a name="l00423"></a>00423     }
<a name="l00424"></a>00424   <a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(0) = <a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(1)-0.5*(<a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(2)-<a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(1)); <span class="comment">//!&lt; le premier point du maillage</span>
<a name="l00425"></a>00425 <span class="comment"></span>  <a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-1) = <a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-2)+0.5*(<a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-2)-<a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-3)); <span class="comment">//!&lt; le dernier point du maillage</span>
<a name="l00426"></a>00426 <span class="comment"></span>  <span class="keywordflow">for</span> (i=1; i&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-1; i++)
<a name="l00427"></a>00427     {
<a name="l00428"></a>00428       <a class="code" href="classEchange__contact__Correlation__VDF.html#aeb9f8c00367a320b8e3d573d68ea77f8" title="volumes des tranches Sdz du volume suivant la direction de l&#39;ecoulement">vol</a>(i)=<a class="code" href="classEchange__contact__Correlation__VDF.html#a2b240be415761ad1e009e64de7a128f0">volume</a>(surf(i),<a class="code" href="classEchange__contact__Correlation__VDF.html#aeb03e21bb33c1ab10365a6f126ea0d27" title="diametre hydraulique">diam</a>);
<a name="l00429"></a>00429     }
<a name="l00430"></a>00430   <a class="code" href="classEchange__contact__Correlation__VDF.html#aeb9f8c00367a320b8e3d573d68ea77f8" title="volumes des tranches Sdz du volume suivant la direction de l&#39;ecoulement">vol</a>(0) = <a class="code" href="classEchange__contact__Correlation__VDF.html#aeb9f8c00367a320b8e3d573d68ea77f8" title="volumes des tranches Sdz du volume suivant la direction de l&#39;ecoulement">vol</a>(N-1) = 1.; <span class="comment">//!&lt; ne sert pas mais evite une division par zero dans le calcul de Qvol.</span>
<a name="l00431"></a>00431 <span class="comment"></span>}
<a name="l00432"></a>00432 
<a name="l00433"></a>00433 
<a name="l00434"></a>00434 <span class="comment"></span>
<a name="l00435"></a>00435 <span class="comment">/**</span>
<a name="l00436"></a>00436 <span class="comment"> * Calcule le volume d&#39;une tranche de la section de surface laterale s et de diametre hydraulique d.</span>
<a name="l00437"></a>00437 <span class="comment"> */</span>
<a name="l00438"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a2b240be415761ad1e009e64de7a128f0">00438</a> <span class="keywordtype">double</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a2b240be415761ad1e009e64de7a128f0">Echange_contact_Correlation_VDF::volume</a>(<span class="keywordtype">double</span> s, <span class="keywordtype">double</span> d)
<a name="l00439"></a>00439 {
<a name="l00440"></a>00440   <a class="code" href="classEchange__contact__Correlation__VDF.html#ac29b0aab8df3ee6b29a81230256b0b8c">fct_vol</a>.<a class="code" href="classParser__U.html#a13c377b32b6c3ced39a14f83f94a8828">setVar</a>(<span class="stringliteral">&quot;Dh&quot;</span>,d);
<a name="l00441"></a>00441   <a class="code" href="classEchange__contact__Correlation__VDF.html#ac29b0aab8df3ee6b29a81230256b0b8c">fct_vol</a>.<a class="code" href="classParser__U.html#a13c377b32b6c3ced39a14f83f94a8828">setVar</a>(<span class="stringliteral">&quot;S&quot;</span>,s);
<a name="l00442"></a>00442 
<a name="l00443"></a>00443   <span class="keywordflow">return</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#ac29b0aab8df3ee6b29a81230256b0b8c">fct_vol</a>.<a class="code" href="classParser__U.html#a61605bc1b85e466f884f1739e811b6b4">eval</a>();
<a name="l00444"></a>00444 }
<a name="l00445"></a>00445 
<a name="l00446"></a>00446 <span class="comment"></span>
<a name="l00447"></a>00447 <span class="comment">/**</span>
<a name="l00448"></a>00448 <span class="comment"> * Calcule les CL a appliquer sur l&#39;equation d&#39;energie</span>
<a name="l00449"></a>00449 <span class="comment"> */</span>
<a name="l00450"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a0eb5f3459477915c7aa5b407a1c0df27">00450</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a0eb5f3459477915c7aa5b407a1c0df27">Echange_contact_Correlation_VDF::calculer_CL</a>()
<a name="l00451"></a>00451 {
<a name="l00452"></a>00452   <span class="keyword">const</span> <span class="keywordtype">int</span> ME=<a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>();
<a name="l00453"></a>00453 
<a name="l00454"></a>00454   <span class="keyword">const</span> <a class="code" href="classJoints.html" title="Classe Joints Cette classe represente une liste d&#39;objet de type Joint.">Joints</a>&amp; joints = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classZone__Cl__dis__base.html#a5dc98e8f521700c8f5f9148e36d0a8ec">zone</a>().<a class="code" href="classZone.html#a16f273a76321d31435995cdad664285a" title="Renvoie la liste des joints de la zone. (version const)">faces_joint</a>();
<a name="l00455"></a>00455   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_voisins = joints.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<a name="l00456"></a>00456 
<a name="l00457"></a>00457   <a class="code" href="classDoubleVect.html">DoubleVect</a> les_cl_envoyees(2);
<a name="l00458"></a>00458   <a class="code" href="classDoubleVect.html">DoubleVect</a> les_cl_recues(2);
<a name="l00459"></a>00459   les_cl_envoyees(0) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(1);
<a name="l00460"></a>00460   les_cl_envoyees(1) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-2);
<a name="l00461"></a>00461 
<a name="l00462"></a>00462   <a class="code" href="classEchange__contact__Correlation__VDF.html#a4325861fe792b2a52cd75af94cf4f561">T_CL0</a>=<a class="code" href="classEchange__contact__Correlation__VDF.html#aed3d73f6b668ad10f0010df96b126cb9">Tinf</a>;
<a name="l00463"></a>00463   <a class="code" href="classEchange__contact__Correlation__VDF.html#a686bbedc01d406ea164271fc6cf289b7" title="CL sur le domaine. En seq. = Tinf et Tsup ; En parallele = Tvoisin.">T_CL1</a>=<a class="code" href="classEchange__contact__Correlation__VDF.html#a2342f10205a5f2c153aa0380ecf5593c" title="Temperature entree, sortie.">Tsup</a>;
<a name="l00464"></a>00464   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_voisins; i++)
<a name="l00465"></a>00465     {
<a name="l00466"></a>00466       <span class="keywordtype">int</span> mon_voisin = joints[i].PEvoisin();
<a name="l00467"></a>00467 
<a name="l00468"></a>00468       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Echange_contact_Correlation_VDF::calculer_CL() A verifier pour envoi blocant&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00469"></a>00469       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00470"></a>00470       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(les_cl_envoyees,ME,mon_voisin,ME);
<a name="l00471"></a>00471 
<a name="l00472"></a>00472       <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(les_cl_recues,mon_voisin,ME,mon_voisin);
<a name="l00473"></a>00473       <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__Correlation__VDF.html#a8b6b79446fbed207520295e6632c50f6">tab_ech</a>(mon_voisin,ME) == 1)
<a name="l00474"></a>00474         {
<a name="l00475"></a>00475           <a class="code" href="classEchange__contact__Correlation__VDF.html#a4325861fe792b2a52cd75af94cf4f561">T_CL0</a> = 0.5*(les_cl_recues(1)+<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(1));
<a name="l00476"></a>00476           <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(0) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a4325861fe792b2a52cd75af94cf4f561">T_CL0</a>;
<a name="l00477"></a>00477         }
<a name="l00478"></a>00478       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__Correlation__VDF.html#a8b6b79446fbed207520295e6632c50f6">tab_ech</a>(mon_voisin,ME) == 0)
<a name="l00479"></a>00479         {
<a name="l00480"></a>00480           <a class="code" href="classEchange__contact__Correlation__VDF.html#a686bbedc01d406ea164271fc6cf289b7" title="CL sur le domaine. En seq. = Tinf et Tsup ; En parallele = Tvoisin.">T_CL1</a> = 0.5*(les_cl_recues(0)+<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-2));
<a name="l00481"></a>00481           <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-1) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a686bbedc01d406ea164271fc6cf289b7" title="CL sur le domaine. En seq. = Tinf et Tsup ; En parallele = Tvoisin.">T_CL1</a>;
<a name="l00482"></a>00482         }
<a name="l00483"></a>00483       <span class="keywordflow">else</span>
<a name="l00484"></a>00484         {
<a name="l00485"></a>00485           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Erreur de communication entre les processeurs &quot;</span> &lt;&lt;ME&lt;&lt; <span class="stringliteral">&quot; et &quot;</span> &lt;&lt;mon_voisin &lt;&lt; finl;
<a name="l00486"></a>00486           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;dans Echange_contact_Correlation_VDF::calculer_CL&quot;</span> &lt;&lt; finl;
<a name="l00487"></a>00487           <span class="keywordflow">if</span> (<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>()&gt;1) <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Verifier que votre decoupage est bien en tranches selon l&#39;axe du modele 1D.&quot;</span> &lt;&lt; finl;
<a name="l00488"></a>00488           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00489"></a>00489 
<a name="l00490"></a>00490         }
<a name="l00491"></a>00491     }
<a name="l00492"></a>00492 }
<a name="l00493"></a>00493 
<a name="l00494"></a>00494 <span class="comment"></span>
<a name="l00495"></a>00495 <span class="comment">/**</span>
<a name="l00496"></a>00496 <span class="comment"> * Calcule la vitesse par conservation de la masse</span>
<a name="l00497"></a>00497 <span class="comment"> */</span>
<a name="l00498"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a6728194a24f117b2f44819a1ec99637d">00498</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a6728194a24f117b2f44819a1ec99637d">Echange_contact_Correlation_VDF::calculer_Vitesse</a>()
<a name="l00499"></a>00499 {
<a name="l00500"></a>00500   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>; i++)
<a name="l00501"></a>00501     <a class="code" href="classEchange__contact__Correlation__VDF.html#aeb1623fe56b6e57416320aacf81d7260">U</a>(i) = <a class="code" href="classEchange__contact__Correlation__VDF.html#af2cac05d437d4121185d2e92eccd97fa">debit</a>/<a class="code" href="classEchange__contact__Correlation__VDF.html#a5134330e67b5d3bde19dbeec92b5f5fa">rho</a>(i);
<a name="l00502"></a>00502 }
<a name="l00503"></a>00503 
<a name="l00504"></a>00504 <span class="comment"></span>
<a name="l00505"></a>00505 <span class="comment">/**</span>
<a name="l00506"></a>00506 <span class="comment"> * Calcule la temperature 1D dans le fluide en resolvant la conservation de l&#39;energie</span>
<a name="l00507"></a>00507 <span class="comment"> */</span>
<a name="l00508"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#ae9ed7c352914afaedba8f5265aec73a5">00508</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#ae9ed7c352914afaedba8f5265aec73a5">Echange_contact_Correlation_VDF::calculer_Tfluide</a>()
<a name="l00509"></a>00509 {
<a name="l00510"></a>00510   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; mon_eqn = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>();
<a name="l00511"></a>00511   <span class="keyword">const</span> <span class="keywordtype">double</span> dt = mon_eqn.<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>().<a class="code" href="classSchema__Temps__base.html#a0e4f67ef6086c09434ddc161668077b2" title="Renvoie le pas de temps (delta_t) courant.">pas_de_temps</a>();
<a name="l00512"></a>00512   <a class="code" href="classDoubleVect.html">DoubleVect</a> ma(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>); <span class="comment">//!&lt; diagonale</span>
<a name="l00513"></a>00513 <span class="comment"></span>  <a class="code" href="classDoubleVect.html">DoubleVect</a> mb(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-1); <span class="comment">//!&lt; sous-diagonale</span>
<a name="l00514"></a>00514 <span class="comment"></span>  <a class="code" href="classDoubleVect.html">DoubleVect</a> mc(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-1); <span class="comment">//!&lt; sur-diagonale</span>
<a name="l00515"></a>00515 <span class="comment"></span>  <a class="code" href="classDoubleVect.html">DoubleVect</a> sm(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>);
<a name="l00516"></a>00516   <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="Op__Conv__Muscl__old__VEF__Face_8cpp.html#ae1b5a554c1d4d97654c06032a92f800a">sgn</a> = (<a class="code" href="classEchange__contact__Correlation__VDF.html#af2cac05d437d4121185d2e92eccd97fa">debit</a>&gt;0) ? 1 : -1; <span class="comment">//!&lt; schema amont pour le transport</span>
<a name="l00517"></a>00517 <span class="comment"></span>
<a name="l00518"></a>00518 
<a name="l00519"></a>00519   ma(0) = 1.;
<a name="l00520"></a>00520   ma(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-1) = 1.;
<a name="l00521"></a>00521   sm(0) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a4325861fe792b2a52cd75af94cf4f561">T_CL0</a>;
<a name="l00522"></a>00522   sm(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-1) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a686bbedc01d406ea164271fc6cf289b7" title="CL sur le domaine. En seq. = Tinf et Tsup ; En parallele = Tvoisin.">T_CL1</a>;
<a name="l00523"></a>00523   mc(0) = 0.;
<a name="l00524"></a>00524   mb(<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-2) = 0.;
<a name="l00525"></a>00525   <span class="keywordtype">int</span> i;
<a name="l00526"></a>00526   <span class="keywordflow">for</span> (i=1; i&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>-1; i++)
<a name="l00527"></a>00527     {
<a name="l00528"></a>00528       <span class="keyword">const</span> <span class="keywordtype">double</span> dtrhoCp = dt/<a class="code" href="classEchange__contact__Correlation__VDF.html#a5134330e67b5d3bde19dbeec92b5f5fa">rho</a>(i)/<a class="code" href="classEchange__contact__Correlation__VDF.html#a8288e959e3dc32ea00afc46891f8fd26">Cp</a>;
<a name="l00529"></a>00529       <span class="keyword">const</span> <span class="keywordtype">double</span> dz1 = <a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(i+1)-<a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(i);
<a name="l00530"></a>00530       <span class="keyword">const</span> <span class="keywordtype">double</span> dz2 = <a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(i)-<a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(i-1);
<a name="l00531"></a>00531       <span class="keyword">const</span> <span class="keywordtype">double</span> l1 = 0.5*(<a class="code" href="classEchange__contact__Correlation__VDF.html#af6781a14900253f5c20d683005989d19" title="tableau des proprietes physiques du fluide a un instant donne">lambda</a>(i+1)+<a class="code" href="classEchange__contact__Correlation__VDF.html#af6781a14900253f5c20d683005989d19" title="tableau des proprietes physiques du fluide a un instant donne">lambda</a>(i));
<a name="l00532"></a>00532       <span class="keyword">const</span> <span class="keywordtype">double</span> l2 = 0.5*(<a class="code" href="classEchange__contact__Correlation__VDF.html#af6781a14900253f5c20d683005989d19" title="tableau des proprietes physiques du fluide a un instant donne">lambda</a>(i)+<a class="code" href="classEchange__contact__Correlation__VDF.html#af6781a14900253f5c20d683005989d19" title="tableau des proprietes physiques du fluide a un instant donne">lambda</a>(i-1));
<a name="l00533"></a>00533 
<a name="l00534"></a>00534       ma(i)=1+dtrhoCp*(sgn*<a class="code" href="classEchange__contact__Correlation__VDF.html#a8288e959e3dc32ea00afc46891f8fd26">Cp</a>*<a class="code" href="classEchange__contact__Correlation__VDF.html#af2cac05d437d4121185d2e92eccd97fa">debit</a>/dz1+2*(l1/dz1+l2/dz2)/(dz1+dz2));
<a name="l00535"></a>00535 
<a name="l00536"></a>00536       sm(i) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(i)+dtrhoCp*<a class="code" href="classEchange__contact__Correlation__VDF.html#aa61b2d2ad2cab8993429a0bc5d503b54" title="puissance volumique dans le fluide 1D">Qvol</a>(i);
<a name="l00537"></a>00537 
<a name="l00538"></a>00538       mc(i) = dtrhoCp*(0.5*(1-<a class="code" href="Op__Conv__Muscl__old__VEF__Face_8cpp.html#ae1b5a554c1d4d97654c06032a92f800a">sgn</a>)*<a class="code" href="classEchange__contact__Correlation__VDF.html#a8288e959e3dc32ea00afc46891f8fd26">Cp</a>*<a class="code" href="classEchange__contact__Correlation__VDF.html#af2cac05d437d4121185d2e92eccd97fa">debit</a>/dz1-2*l1/dz1/(dz1+dz2));
<a name="l00539"></a>00539 
<a name="l00540"></a>00540       mb(i-1) = dtrhoCp*(-2*l2/dz2/(dz1+dz2));
<a name="l00541"></a>00541       mb(i-1) += dtrhoCp*(-0.5*(1+<a class="code" href="Op__Conv__Muscl__old__VEF__Face_8cpp.html#ae1b5a554c1d4d97654c06032a92f800a">sgn</a>)*<a class="code" href="classEchange__contact__Correlation__VDF.html#a8288e959e3dc32ea00afc46891f8fd26">Cp</a>*<a class="code" href="classEchange__contact__Correlation__VDF.html#af2cac05d437d4121185d2e92eccd97fa">debit</a>/dz1);
<a name="l00542"></a>00542     }
<a name="l00543"></a>00543 
<a name="l00544"></a>00544 
<a name="l00545"></a>00545 
<a name="l00546"></a>00546 
<a name="l00547"></a>00547   <a class="code" href="classDoubleVect.html">DoubleVect</a> xx(N);
<a name="l00548"></a>00548   xx=0.;
<a name="l00549"></a>00549   <a class="code" href="classSolv__TDMA.html#a349ae16cb648a3868728c1d88b9ac0f3">Solv_TDMA::resoudre</a>(ma,mb,mc,sm,xx,N);
<a name="l00550"></a>00550   <span class="keywordflow">for</span> (i=0; i&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>; i++)
<a name="l00551"></a>00551     <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(i) = xx(i);
<a name="l00552"></a>00552 }
<a name="l00553"></a>00553 
<a name="l00554"></a>00554 
<a name="l00555"></a>00555 
<a name="l00556"></a>00556 <span class="comment"></span>
<a name="l00557"></a>00557 <span class="comment">/**</span>
<a name="l00558"></a>00558 <span class="comment"> * Mise a jour de la vitesse, temperature fluide et coeff d&#39;echange</span>
<a name="l00559"></a>00559 <span class="comment"> */</span>
<a name="l00560"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a939df8b5cabe64b7a84c5ad225ed307a">00560</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a939df8b5cabe64b7a84c5ad225ed307a">Echange_contact_Correlation_VDF::mettre_a_jour</a>(<span class="keywordtype">double</span> temps)
<a name="l00561"></a>00561 {
<a name="l00562"></a>00562 
<a name="l00563"></a>00563 <span class="comment">// Nom des fichiers de sauvegarde</span>
<a name="l00564"></a>00564   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> Fichier_sauv_nom=<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#a58bc0b101f3f3f1d8522a9f41f1fad7b" title="surcharge Objet_U::le_nom() Renvoie le nom du probleme">le_nom</a>();
<a name="l00565"></a>00565   Fichier_sauv_nom+=<span class="stringliteral">&quot;_&quot;</span>;
<a name="l00566"></a>00566   Fichier_sauv_nom+=<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>().<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>();
<a name="l00567"></a>00567   Fichier_sauv_nom+=<span class="stringliteral">&quot;.sauv&quot;</span>;
<a name="l00568"></a>00568 
<a name="l00569"></a>00569 <span class="comment">// Operation de reprise du champ de temperature dans le fluide</span>
<a name="l00570"></a>00570   <span class="keyword">const</span> <span class="keywordtype">int</span> ME = <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>();
<a name="l00571"></a>00571   <span class="keyword">const</span> <span class="keywordtype">int</span> nbproc = <a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>();
<a name="l00572"></a>00572   FILE *Fichier_sauv;
<a name="l00573"></a>00573   <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__Correlation__VDF.html#a51d1416085766b61a9becb9df0442dd0">Reprise_temperature</a>==1)
<a name="l00574"></a>00574     {
<a name="l00575"></a>00575       <span class="keywordflow">if</span> (nbproc&gt;1)
<a name="l00576"></a>00576         {
<a name="l00577"></a>00577           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;A verifier pour envoi blocant&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00578"></a>00578           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00579"></a>00579           <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>,ME,0,ME);                                                                <span class="comment">//!&lt; J&#39;envoie T pour connaitre la dimension de son tableau</span>
<a name="l00580"></a>00580 <span class="comment"></span>          <span class="keywordflow">if</span> (<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">je_suis_maitre</a>())
<a name="l00581"></a>00581             {
<a name="l00582"></a>00582               <span class="keywordtype">double</span> temps_lu=0., Temperature_reprise=0.;
<a name="l00583"></a>00583               <span class="keywordtype">char</span> tmp_lu;
<a name="l00584"></a>00584 <span class="comment">// int code;</span>
<a name="l00585"></a>00585               Fichier_sauv=fopen(Fichier_sauv_nom,<span class="stringliteral">&quot;r&quot;</span>);                                <span class="comment">//!&lt; J&#39;ouvre le fichier de sauvgarde en lecture seule</span>
<a name="l00586"></a>00586 <span class="comment"></span>              <span class="keywordflow">if</span> (Fichier_sauv!=NULL)
<a name="l00587"></a>00587                 {
<a name="l00588"></a>00588                   <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%s&quot;</span>,&amp;tmp_lu)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();                                <span class="comment">//!&lt; Je lis le premier mot &quot;Temps&quot; pour rien</span>
<a name="l00589"></a>00589 <span class="comment"></span>                  <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%s&quot;</span>,&amp;tmp_lu)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();                                <span class="comment">//!&lt; Je lis le deuxieme mot &quot;=&quot; pour rien</span>
<a name="l00590"></a>00590 <span class="comment"></span>                  <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%lf&quot;</span>,&amp;temps_lu)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();                                <span class="comment">//!&lt; Je lis le temps et je le mets dans temps_lu</span>
<a name="l00591"></a>00591 <span class="comment"></span>                  <span class="keywordflow">if</span> (temps_lu==temps)
<a name="l00592"></a>00592                     {
<a name="l00593"></a>00593                       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p=0; p&lt;nbproc; p++)                                      <span class="comment">//!&lt; Je boucle sur le nombre de processeur</span>
<a name="l00594"></a>00594 <span class="comment"></span>                        {
<a name="l00595"></a>00595                           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Reprise du champs de temperature (&quot;</span> &lt;&lt; Fichier_sauv_nom &lt;&lt; <span class="stringliteral">&quot;) pour la correlation sur le processeur &quot;</span> &lt;&lt; p &lt;&lt; <span class="stringliteral">&quot;...&quot;</span>;
<a name="l00596"></a>00596                           <a class="code" href="classDoubleVect.html">DoubleVect</a> T_tmp;
<a name="l00597"></a>00597                           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(T_tmp,p,0,p);                                        <span class="comment">//!&lt; Je recupere T pour connaitre la dimension de son tableau au niveau du processeur maitre.</span>
<a name="l00598"></a>00598 <span class="comment"></span>                          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;T_tmp.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>(); i++)                      <span class="comment">//!&lt; Je boucle sur le nombre de temperature a definir</span>
<a name="l00599"></a>00599 <span class="comment"></span>                            {
<a name="l00600"></a>00600                               <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%s&quot;</span>,&amp;tmp_lu)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();                <span class="comment">//!&lt; Je lis le mot &quot;T(i)&quot; pour rien</span>
<a name="l00601"></a>00601 <span class="comment"></span>                              <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%s&quot;</span>,&amp;tmp_lu)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();                <span class="comment">//!&lt; Je lis le mot &quot;=&quot; pour rien</span>
<a name="l00602"></a>00602 <span class="comment"></span>                              <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%lf&quot;</span>,&amp;Temperature_reprise)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();<span class="comment">//!&lt; Je lis la valeur de la temperature et je la mets dans Temperature_reprise</span>
<a name="l00603"></a>00603 <span class="comment"></span>                              T_tmp(i) = Temperature_reprise;                        <span class="comment">//!&lt; J&#39;egale la variable du calcul T(i) a Temperature_reprise</span>
<a name="l00604"></a>00604 <span class="comment"></span>                            }
<a name="l00605"></a>00605                           <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(T_tmp,0,p,0);                                        <span class="comment">//!&lt; J&#39;envoie T_tmp a tous les processeurs</span>
<a name="l00606"></a>00606 <span class="comment"></span>                          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;   OK!&quot;</span> &lt;&lt; finl;
<a name="l00607"></a>00607                         }
<a name="l00608"></a>00608                       fclose(Fichier_sauv);
<a name="l00609"></a>00609                     }
<a name="l00610"></a>00610                   <span class="keywordflow">else</span>
<a name="l00611"></a>00611                     {
<a name="l00612"></a>00612                       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;\nLe temps indique dans le fichier \&quot;&quot;</span>&lt;&lt; Fichier_sauv_nom &lt;&lt; <span class="stringliteral">&quot;\&quot; &quot;</span>&lt;&lt; temps_lu &lt;&lt; finl;
<a name="l00613"></a>00613                       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;est different du temps de reprise du calcul &quot;</span>&lt;&lt; temps &lt;&lt; <span class="stringliteral">&quot; !!!&quot;</span> &lt;&lt; finl &lt;&lt; finl;
<a name="l00614"></a>00614                       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Vous ne pouvez pas faire de reprise pour la correlation. Supprimez&quot;</span> &lt;&lt; finl;
<a name="l00615"></a>00615                       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;dans la correlation le mot clef \&quot;Reprise\&quot;. La phase transitoire&quot;</span> &lt;&lt; finl;
<a name="l00616"></a>00616                       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;du calcul sera fausse, mais l&#39;etat stationnaire sera juste.&quot;</span> &lt;&lt; finl &lt;&lt; finl;
<a name="l00617"></a>00617                       fclose(Fichier_sauv);
<a name="l00618"></a>00618                       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00619"></a>00619                     }
<a name="l00620"></a>00620                 }
<a name="l00621"></a>00621               <span class="keywordflow">else</span>
<a name="l00622"></a>00622                 {
<a name="l00623"></a>00623                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;\nLa reprise ne peut pas etre faite : Le fichier \&quot;&quot;</span> &lt;&lt; Fichier_sauv_nom &lt;&lt; <span class="stringliteral">&quot;\&quot; est manquant !!!&quot;</span> &lt;&lt; finl &lt;&lt; finl;
<a name="l00624"></a>00624                   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00625"></a>00625                 }
<a name="l00626"></a>00626             }
<a name="l00627"></a>00627           <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>,0,ME,0);                                                                <span class="comment">//!&lt; Je recupere T=T_tmp au niveau de chaque processeur</span>
<a name="l00628"></a>00628 <span class="comment"></span>        }
<a name="l00629"></a>00629       <span class="keywordflow">else</span>
<a name="l00630"></a>00630         {
<a name="l00631"></a>00631           Fichier_sauv=fopen(Fichier_sauv_nom,<span class="stringliteral">&quot;r&quot;</span>);
<a name="l00632"></a>00632           <span class="keywordtype">double</span> temps_lu=0., Temperature_reprise=0.;
<a name="l00633"></a>00633           <span class="keywordtype">char</span> tmp_lu;
<a name="l00634"></a>00634 
<a name="l00635"></a>00635           <span class="keywordflow">if</span> (Fichier_sauv!=NULL)
<a name="l00636"></a>00636             {
<a name="l00637"></a>00637               <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%s&quot;</span>,&amp;tmp_lu)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();                        <span class="comment">//!&lt; Je lis le premier mot &quot;Temps&quot; pour rien</span>
<a name="l00638"></a>00638 <span class="comment"></span>              <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%s&quot;</span>,&amp;tmp_lu)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();                        <span class="comment">//!&lt; Je lis le deuxieme mot &quot;=&quot; pour rien</span>
<a name="l00639"></a>00639 <span class="comment"></span>              <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%lf&quot;</span>,&amp;temps_lu)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();                        <span class="comment">//!&lt; Je lis le temps et je le mets dans temps_lu</span>
<a name="l00640"></a>00640 <span class="comment"></span>              <span class="keywordflow">if</span> (temps_lu==temps)
<a name="l00641"></a>00641                 {
<a name="l00642"></a>00642                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Reprise du champs de temperature (&quot;</span> &lt;&lt; Fichier_sauv_nom &lt;&lt; <span class="stringliteral">&quot;) pour la correlation...&quot;</span>;
<a name="l00643"></a>00643                   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>; i++)
<a name="l00644"></a>00644                     {
<a name="l00645"></a>00645                       <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%s&quot;</span>,&amp;tmp_lu)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();                <span class="comment">//!&lt; Je lis le mot &quot;T(i)&quot; pour rien</span>
<a name="l00646"></a>00646 <span class="comment"></span>                      <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%s&quot;</span>,&amp;tmp_lu)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();                <span class="comment">//!&lt; Je lis le mot &quot;=&quot; pour rien</span>
<a name="l00647"></a>00647 <span class="comment"></span>                      <span class="keywordflow">if</span> (!fscanf(Fichier_sauv,<span class="stringliteral">&quot;%lf&quot;</span>,&amp;Temperature_reprise)) <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();<span class="comment">//!&lt; Je lis la valeur de la temperature et je la mets dans Temperature_reprise</span>
<a name="l00648"></a>00648 <span class="comment"></span>                      <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(i) = Temperature_reprise;                        <span class="comment">//!&lt; J&#39;egale la variable du calcul T(i) a Temperature_reprise</span>
<a name="l00649"></a>00649 <span class="comment"></span>                    }
<a name="l00650"></a>00650                   fclose(Fichier_sauv);
<a name="l00651"></a>00651                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;   OK!&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00652"></a>00652                 }
<a name="l00653"></a>00653               <span class="keywordflow">else</span>
<a name="l00654"></a>00654                 {
<a name="l00655"></a>00655                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;\nLe temps indique dans le fichier \&quot;&quot;</span>&lt;&lt; Fichier_sauv_nom &lt;&lt; <span class="stringliteral">&quot;\&quot; &quot;</span>&lt;&lt; temps_lu &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00656"></a>00656                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;est different du temps de reprise du calcul &quot;</span>&lt;&lt; temps &lt;&lt; <span class="stringliteral">&quot; !!!&quot;</span> &lt;&lt; finl &lt;&lt; finl;
<a name="l00657"></a>00657                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Vous ne pouvez pas faire de reprise pour la correlation. Supprimez&quot;</span> &lt;&lt; finl;
<a name="l00658"></a>00658                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;dans la correlation le mot clef \&quot;Reprise\&quot;. La phase transitoire&quot;</span> &lt;&lt; finl;
<a name="l00659"></a>00659                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;du calcul sera fausse, mais l&#39;etat stationnaire sera juste.&quot;</span> &lt;&lt; finl &lt;&lt; finl;
<a name="l00660"></a>00660                   fclose(Fichier_sauv);
<a name="l00661"></a>00661                   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00662"></a>00662                 }
<a name="l00663"></a>00663             }
<a name="l00664"></a>00664           <span class="keywordflow">else</span>
<a name="l00665"></a>00665             {
<a name="l00666"></a>00666               <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;\nLa reprise ne peut pas etre faite : Le fichier \&quot;&quot;</span> &lt;&lt; Fichier_sauv_nom &lt;&lt; <span class="stringliteral">&quot;\&quot; est manquant !!!&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00667"></a>00667               <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00668"></a>00668             }
<a name="l00669"></a>00669         }
<a name="l00670"></a>00670       <a class="code" href="classEchange__contact__Correlation__VDF.html#a51d1416085766b61a9becb9df0442dd0">Reprise_temperature</a>=0;
<a name="l00671"></a>00671     }
<a name="l00672"></a>00672 
<a name="l00673"></a>00673   <a class="code" href="classEchange__contact__Correlation__VDF.html#a0eb5f3459477915c7aa5b407a1c0df27">calculer_CL</a>();
<a name="l00674"></a>00674   <a class="code" href="classEchange__contact__Correlation__VDF.html#a58a3878c06e07271307c263cb6445b4f">calculer_prop_physique</a>();
<a name="l00675"></a>00675   <a class="code" href="classEchange__contact__Correlation__VDF.html#a00bf4023bb0567241fbc62054ed39890">calculer_Q</a>();
<a name="l00676"></a>00676   <a class="code" href="classEchange__contact__Correlation__VDF.html#a6728194a24f117b2f44819a1ec99637d">calculer_Vitesse</a>();
<a name="l00677"></a>00677   <a class="code" href="classEchange__contact__Correlation__VDF.html#ae9ed7c352914afaedba8f5265aec73a5">calculer_Tfluide</a>();
<a name="l00678"></a>00678 
<a name="l00679"></a>00679 
<a name="l00680"></a>00680 
<a name="l00681"></a>00681   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>; i++)
<a name="l00682"></a>00682     <a class="code" href="classEchange__contact__Correlation__VDF.html#a957e668cd8b997bfef07073da2204f23" title="le coeff d&#39;echange par correlation">h_correlation</a>(i) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a3a4463832ce49621f17eda77eefadaa9">calculer_coefficient_echange</a>(i);
<a name="l00683"></a>00683 
<a name="l00684"></a>00684 
<a name="l00685"></a>00685 
<a name="l00686"></a>00686 
<a name="l00687"></a>00687   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; mon_h= <a class="code" href="classEchange__impose__base.html#a34fff81abbfebbb261f9b54d9eaec773">h_imp_</a>-&gt;<a class="code" href="classChamp__front.html#a74caddb39fcac6ade95ec1399fac38b7" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>();
<a name="l00688"></a>00688   <a class="code" href="classEchange__contact__Correlation__VDF.html#a2040068e6ee2e740ad11c78e72fbe6c3">calculer_h_mon_pb</a>(mon_h);
<a name="l00689"></a>00689   <span class="keyword">const</span> <span class="keywordtype">int</span> taille=mon_h.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00690"></a>00690   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; Text_valeurs = <a class="code" href="classEchange__impose__base.html#aeb3367c5455bdff2b27c3599039ca155" title="Renvoie le champ T_ext de temperature imposee a la frontiere.">T_ext</a>().<a class="code" href="classDeriv__Champ__front__base.html#a5405a20c106b868a23805a45c4436a53">valeur</a>().<a class="code" href="classChamp__front__base.html#a7d124849f85571b21d805a760deefdc0" title="Renvoie le tableau des valeurs du champ.">valeurs</a>();
<a name="l00691"></a>00691 
<a name="l00692"></a>00692   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii=0; ii&lt;taille; ii++)
<a name="l00693"></a>00693     {
<a name="l00694"></a>00694       mon_h(ii,0) = 1./(1./mon_h(ii,0)+1./<a class="code" href="classEchange__contact__Correlation__VDF.html#a957e668cd8b997bfef07073da2204f23" title="le coeff d&#39;echange par correlation">h_correlation</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a11e0f6c580365f982df04c10d83502fe">correspondance_solide_fluide</a>(ii)));
<a name="l00695"></a>00695       Text_valeurs(ii,0) = <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a11e0f6c580365f982df04c10d83502fe">correspondance_solide_fluide</a>(ii));
<a name="l00696"></a>00696     }
<a name="l00697"></a>00697 
<a name="l00698"></a>00698   <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; mon_eqn = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>();
<a name="l00699"></a>00699 
<a name="l00700"></a>00700   <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__Correlation__VDF.html#af85456b0fed95da40d7a33e43636a13c">limpr</a>(temps,mon_eqn.<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>().<a class="code" href="classSchema__Temps__base.html#a0e4f67ef6086c09434ddc161668077b2" title="Renvoie le pas de temps (delta_t) courant.">pas_de_temps</a>())) <a class="code" href="classEchange__contact__Correlation__VDF.html#ae2312c2a8b1ec5d870f158ad07ce37d7">imprimer</a>(temps);
<a name="l00701"></a>00701 
<a name="l00702"></a>00702   <a class="code" href="classEchange__contact__Correlation__VDF.html#a939df8b5cabe64b7a84c5ad225ed307a">Echange_global_impose::mettre_a_jour</a>(temps);
<a name="l00703"></a>00703 
<a name="l00704"></a>00704 <span class="comment">// Operation de sauvegarde du champ de temperature dans le fluide en vue d&#39;une reprise</span>
<a name="l00705"></a>00705   <span class="keywordflow">if</span> (nbproc&gt;1)
<a name="l00706"></a>00706     {
<a name="l00707"></a>00707       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>,ME,0,ME);                                                                <span class="comment">//!&lt; J&#39;envoie T au processeur maitre</span>
<a name="l00708"></a>00708 <span class="comment"></span>      <span class="keywordflow">if</span> (<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">je_suis_maitre</a>())
<a name="l00709"></a>00709         {
<a name="l00710"></a>00710           Fichier_sauv=fopen(Fichier_sauv_nom,<span class="stringliteral">&quot;w&quot;</span>);                <span class="comment">//!&lt; J&#39;ouvre le fichier de sauvegarde en ecriture</span>
<a name="l00711"></a>00711 <span class="comment"></span>          fprintf(Fichier_sauv,<span class="stringliteral">&quot;Temps\t=\t%f\n&quot;</span>,temps);                                <span class="comment">//!&lt; J&#39;imprime le temps</span>
<a name="l00712"></a>00712 <span class="comment"></span>          <span class="keywordtype">int</span> j=0;
<a name="l00713"></a>00713           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p=0; p&lt;nbproc; p++)                                              <span class="comment">//!&lt; Je boucle sur le nombre de processeur</span>
<a name="l00714"></a>00714 <span class="comment"></span>            {
<a name="l00715"></a>00715               <a class="code" href="classDoubleVect.html">DoubleVect</a> T_tmp;
<a name="l00716"></a>00716               <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(T_tmp,p,0,p);                                                <span class="comment">//!&lt; Je recupere les temperature de chaque processeur</span>
<a name="l00717"></a>00717 <span class="comment"></span>              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;T_tmp.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>(); i++)
<a name="l00718"></a>00718                 {
<a name="l00719"></a>00719                   fprintf(Fichier_sauv,<span class="stringliteral">&quot;T(%i)\t=\t%f\n&quot;</span>,(<a class="code" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a>)j,T_tmp(i));        <span class="comment">//!&lt; J&#39;imprime les temperatures dans le fichier de sauvegarde</span>
<a name="l00720"></a>00720 <span class="comment"></span>                  j=j+1;
<a name="l00721"></a>00721                 }
<a name="l00722"></a>00722             }
<a name="l00723"></a>00723           fclose(Fichier_sauv);
<a name="l00724"></a>00724         }
<a name="l00725"></a>00725     }
<a name="l00726"></a>00726   <span class="keywordflow">else</span>
<a name="l00727"></a>00727     {
<a name="l00728"></a>00728       Fichier_sauv=fopen(Fichier_sauv_nom,<span class="stringliteral">&quot;w&quot;</span>);
<a name="l00729"></a>00729       fprintf(Fichier_sauv,<span class="stringliteral">&quot;Temps\t=\t%f\n&quot;</span>,temps);
<a name="l00730"></a>00730       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>; i++)
<a name="l00731"></a>00731         {
<a name="l00732"></a>00732           fprintf(Fichier_sauv,<span class="stringliteral">&quot;T(%i)\t=\t%f\n&quot;</span>,(<a class="code" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a>)i,<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(i));
<a name="l00733"></a>00733         }
<a name="l00734"></a>00734       fclose(Fichier_sauv);
<a name="l00735"></a>00735     }
<a name="l00736"></a>00736 }
<a name="l00737"></a>00737 
<a name="l00738"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a7e449ce45b640b65c694bb62eea4bf7f">00738</a> <span class="keywordtype">int</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a7e449ce45b640b65c694bb62eea4bf7f" title="Verifie la compatibilite des conditions aux limites avec l&#39;equation passee en parametre. Les conditions aux limites de type Ech_imp_base sont compatibles avec des equations de type: - Thermique - indetermine.">Echange_contact_Correlation_VDF::compatible_avec_eqn</a>(<span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; eqn)<span class="keyword"> const</span>
<a name="l00739"></a>00739 <span class="keyword"></span>{
<a name="l00740"></a>00740   <span class="keywordflow">if</span> ( <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classConduction.html" title="Classe Conduction Cette classe represente l&#39;equation d&#39;evolution de la temperature dans un solide de ...">Conduction</a>, eqn) )
<a name="l00741"></a>00741     <span class="keywordflow">return</span> 1;
<a name="l00742"></a>00742   <span class="keywordflow">else</span>
<a name="l00743"></a>00743     {
<a name="l00744"></a>00744       <a class="code" href="classCond__lim__base.html#a765ac31df36a6f010e65a668961cc735" title="Cette methode est appelee quand la condition aux limites n&#39;est pas compatible avec l&#39;equation sur laq...">err_pas_compatible</a>(eqn);
<a name="l00745"></a>00745       <span class="keywordflow">return</span> 0;
<a name="l00746"></a>00746     }
<a name="l00747"></a>00747 }
<a name="l00748"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#a4bedfa3f9ead88003ad4c79c238f579b">00748</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#a4bedfa3f9ead88003ad4c79c238f579b">Echange_contact_Correlation_VDF::calculer_h_solide</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab,<span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; une_eqn,<span class="keyword">const</span> <a class="code" href="classZone__VDF.html" title="class Zone_VDF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geom...">Zone_VDF</a>&amp; zvdf_2,<span class="keyword">const</span> <a class="code" href="classFront__VF.html" title="class Front_VF">Front_VF</a>&amp; front_vf,<span class="keyword">const</span>    <a class="code" href="classMilieu__base.html" title="classe Milieu_base Cette classe est la base de la hierarchie des milieux (physiques) Elle regroupe le...">Milieu_base</a>&amp; le_milieu)
<a name="l00749"></a>00749 {
<a name="l00750"></a>00750   <a class="code" href="classDoubleVect.html">DoubleVect</a> e;
<a name="l00751"></a>00751   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; face_voisins = zvdf_2.<a class="code" href="classZone__VF.html#a49d4322f5585a8fa95748ca785b70702" title="renvoie l&#39;element voisin de numface dans la direction i. i=0 : dans le sens oppose de l&#39;axe orthogona...">face_voisins</a>();
<a name="l00752"></a>00752   <span class="keywordtype">int</span> i;
<a name="l00753"></a>00753   <span class="keywordtype">int</span> nb_comp = le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()-&gt;<a class="code" href="classChamp__Don.html#aa0b82f09287c5934333d540ef77e0059" title="Appel a l&#39;objet sous-jacent Renvoie le nombre de composantes du champ.">nb_comp</a>();
<a name="l00754"></a>00754   <span class="keywordtype">int</span> ndeb = front_vf.<a class="code" href="classFront__VF.html#a4986f0c65653fe9eb40bbbff5a97bf16" title="Numero de la premiere face du bord dans la liste des faces.">num_premiere_face</a>();
<a name="l00755"></a>00755   <span class="keywordtype">int</span> nfin = ndeb + front_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>();
<a name="l00756"></a>00756 
<a name="l00757"></a>00757   e.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(front_vf.<a class="code" href="classFront__VF.html#a341e2fcb5117b96e745fd7078ba86bab" title="Nombre de faces reelles du bord.">nb_faces</a>());
<a name="l00758"></a>00758 
<a name="l00759"></a>00759   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=ndeb; face&lt;nfin; face++)
<a name="l00760"></a>00760     e(face-ndeb) = zvdf_2.<a class="code" href="classZone__VDF.html#a369e50f57ce994a9afe43ff2e3ff813b">dist_norm_bord</a>(face);
<a name="l00761"></a>00761 
<a name="l00762"></a>00762 <span class="comment">// Calcul de tab = 1/(e/lambda + 1/h_paroi) =1/(e/lambda+invhparoi)</span>
<a name="l00763"></a>00763   <span class="keywordflow">if</span>(!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>().<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00764"></a>00764     {
<a name="l00765"></a>00765 <span class="comment">// Cerr &lt;&lt; &quot;raccord local homogene et conductivite non uniforme&quot; &lt;&lt; finl;</span>
<a name="l00766"></a>00766       <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_lambda = le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00767"></a>00767       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=ndeb; face&lt;nfin; face++)
<a name="l00768"></a>00768         {
<a name="l00769"></a>00769           <span class="keywordtype">int</span> elem = face_voisins(face,0);
<a name="l00770"></a>00770           <span class="keywordflow">if</span> (elem == -1)
<a name="l00771"></a>00771             elem = face_voisins(face,1);
<a name="l00772"></a>00772           <span class="keywordflow">for</span>(i=0; i&lt;nb_comp; i++)
<a name="l00773"></a>00773             {
<a name="l00774"></a>00774               assert(le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()(elem,i)!=0.);
<a name="l00775"></a>00775               tab(face-ndeb,i) = tab_lambda(elem,i)/e(face-ndeb);
<a name="l00776"></a>00776             }
<a name="l00777"></a>00777         }
<a name="l00778"></a>00778     }
<a name="l00779"></a>00779   <span class="keywordflow">else</span>  <span class="comment">//!&lt; la conductivite est un Champ uniforme</span>
<a name="l00780"></a>00780 <span class="comment"></span>    {
<a name="l00781"></a>00781       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> face=ndeb; face&lt;nfin; face++)
<a name="l00782"></a>00782         {
<a name="l00783"></a>00783           <span class="keywordflow">for</span>(i=0; i&lt;nb_comp; i++)
<a name="l00784"></a>00784             {
<a name="l00785"></a>00785               assert(le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()(0,i)!=0.);
<a name="l00786"></a>00786               tab(face-ndeb,i) = le_milieu.<a class="code" href="classMilieu__base.html#a99251c07d04e1f13ec4c300bfe8757db" title="Renvoie la conductivite du milieu. (version const)">conductivite</a>()(0,i)/e(face-ndeb);
<a name="l00787"></a>00787             }
<a name="l00788"></a>00788         }
<a name="l00789"></a>00789     }
<a name="l00790"></a>00790 }
<a name="l00791"></a>00791 
<a name="l00792"></a>00792 <span class="comment"></span>
<a name="l00793"></a>00793 <span class="comment">/**</span>
<a name="l00794"></a>00794 <span class="comment"> * Teste si l&#39;impression est demandee</span>
<a name="l00795"></a>00795 <span class="comment"> */</span>
<a name="l00796"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#af85456b0fed95da40d7a33e43636a13c">00796</a> <span class="keywordtype">int</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#af85456b0fed95da40d7a33e43636a13c">Echange_contact_Correlation_VDF::limpr</a>(<span class="keywordtype">double</span> temps_courant,<span class="keywordtype">double</span> dt)<span class="keyword"> const</span>
<a name="l00797"></a>00797 <span class="keyword"></span>{
<a name="l00798"></a>00798   <span class="keyword">const</span> <a class="code" href="classSchema__Temps__base.html" title="classe Schema_Temps_base">Schema_Temps_base</a>&amp; sch = <a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>();
<a name="l00799"></a>00799 <span class="comment">// Test un peu tordu, mais ca fonctionne !!!! (CM 05/07/2007)</span>
<a name="l00800"></a>00800   <span class="keywordflow">if</span> (<a class="code" href="classEchange__contact__Correlation__VDF.html#ad487d144a8ccbfcb510268e4f298bfc8">dt_impr</a>&lt;=dt || ((sch.<a class="code" href="classSchema__Temps__base.html#a1c3b1eb35bf0fc0da015c27ec33b710a" title="Renvoie une reference sur le temps maximum.">temps_max</a>()&lt;=temps_courant || sch.<a class="code" href="classSchema__Temps__base.html#a27bf9c5a67bf4a1ddd036640ebcb26bc" title="Renvoie une reference sur le nombre de pas maxi.">nb_pas_dt_max</a>()&lt;=(sch.<a class="code" href="classSchema__Temps__base.html#a247769eddf9c0bfcaabc50b8dd90d401" title="Renvoie le nombre de pas de temps effectues.">nb_pas_dt</a>()+1) || (temps_courant!=sch.<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>() &amp;&amp; sch.<a class="code" href="classSchema__Temps__base.html#a247769eddf9c0bfcaabc50b8dd90d401" title="Renvoie le nombre de pas de temps effectues.">nb_pas_dt</a>()==0)) &amp;&amp; <a class="code" href="classEchange__contact__Correlation__VDF.html#ad487d144a8ccbfcb510268e4f298bfc8">dt_impr</a>!=1e10))
<a name="l00801"></a>00801     <span class="keywordflow">return</span> 1;
<a name="l00802"></a>00802   <span class="keywordflow">else</span>
<a name="l00803"></a>00803     {
<a name="l00804"></a>00804 <span class="comment">// Voir Schema_Temps_base::limpr pour information sur epsilon et modf</span>
<a name="l00805"></a>00805       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> epsilon = 1.e-9;
<a name="l00806"></a>00806       <span class="keywordtype">double</span> i, j;
<a name="l00807"></a>00807       modf(temps_courant/<a class="code" href="classEchange__contact__Correlation__VDF.html#ad487d144a8ccbfcb510268e4f298bfc8">dt_impr</a> + epsilon, &amp;i);
<a name="l00808"></a>00808       modf((temps_courant-dt)/<a class="code" href="classEchange__contact__Correlation__VDF.html#ad487d144a8ccbfcb510268e4f298bfc8">dt_impr</a> + epsilon, &amp;j);
<a name="l00809"></a>00809       <span class="keywordflow">return</span> ( i&gt;j );
<a name="l00810"></a>00810     }
<a name="l00811"></a>00811 }
<a name="l00812"></a>00812 
<a name="l00813"></a>00813 <span class="comment"></span>
<a name="l00814"></a>00814 <span class="comment">/**</span>
<a name="l00815"></a>00815 <span class="comment"> * Imprime les resultats</span>
<a name="l00816"></a>00816 <span class="comment"> */</span>
<a name="l00817"></a><a class="code" href="classEchange__contact__Correlation__VDF.html#ae2312c2a8b1ec5d870f158ad07ce37d7">00817</a> <span class="keywordtype">void</span> <a class="code" href="classEchange__contact__Correlation__VDF.html#ae2312c2a8b1ec5d870f158ad07ce37d7">Echange_contact_Correlation_VDF::imprimer</a>(<span class="keywordtype">double</span> temps)<span class="keyword"> const</span>
<a name="l00818"></a>00818 <span class="keyword"></span>{
<a name="l00819"></a>00819   <span class="keyword">const</span> <span class="keywordtype">int</span> ME = <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>();
<a name="l00820"></a>00820   <span class="keyword">const</span> <span class="keywordtype">int</span> nbproc = <a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>();
<a name="l00821"></a>00821 
<a name="l00822"></a>00822   <span class="keywordflow">if</span> (nbproc&gt;1)
<a name="l00823"></a>00823     {
<a name="l00824"></a>00824       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>,ME,0,ME);
<a name="l00825"></a>00825       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>,ME,0,ME);
<a name="l00826"></a>00826       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#aeb1623fe56b6e57416320aacf81d7260">U</a>,ME,0,ME);
<a name="l00827"></a>00827       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a957e668cd8b997bfef07073da2204f23" title="le coeff d&#39;echange par correlation">h_correlation</a>,ME,0,ME);
<a name="l00828"></a>00828       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a5134330e67b5d3bde19dbeec92b5f5fa">rho</a>,ME,0,ME);
<a name="l00829"></a>00829       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#a94c95880d097783d53cdfc35162f4ea6">mu</a>,ME,0,ME);
<a name="l00830"></a>00830       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#af6781a14900253f5c20d683005989d19" title="tableau des proprietes physiques du fluide a un instant donne">lambda</a>,ME,0,ME);
<a name="l00831"></a>00831       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#aa61b2d2ad2cab8993429a0bc5d503b54" title="puissance volumique dans le fluide 1D">Qvol</a>,ME,0,ME);
<a name="l00832"></a>00832       <a class="code" href="communications_8cpp.html#af9feb6405277b375b2ebcbfaec9f8af3">envoyer</a>(<a class="code" href="classEchange__contact__Correlation__VDF.html#aeb9f8c00367a320b8e3d573d68ea77f8" title="volumes des tranches Sdz du volume suivant la direction de l&#39;ecoulement">vol</a>,ME,0,ME);
<a name="l00833"></a>00833 
<a name="l00834"></a>00834       <span class="keywordflow">if</span> (<a class="code" href="classProcess.html#acd052b99706c577f8a5b6656217cf4c2" title="renvoie 1 si on est sur le processeur maitre du groupe courant (c&#39;est a dire me() == 0)...">je_suis_maitre</a>())
<a name="l00835"></a>00835         {
<a name="l00836"></a>00836           <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_bord=<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>().<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>();
<a name="l00837"></a>00837           nom_bord+=<span class="stringliteral">&quot;_&quot;</span>;
<a name="l00838"></a>00838           nom_bord+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(temps);
<a name="l00839"></a>00839           nom_bord+=<span class="stringliteral">&quot;.dat&quot;</span>;
<a name="l00840"></a>00840           <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> fic(nom_bord);
<a name="l00841"></a>00841           fic.<a class="code" href="classSortie__Fichier__base.html#a489ca01946f4e2a7a9aa8f3a3d949b08">precision</a>(<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().equation().schema_temps().precision_impr());
<a name="l00842"></a>00842           fic.<a class="code" href="classSortie__Fichier__base.html#a5ddd834ca9c766c24cc608cd03ef0e96">setf</a>(ios::scientific);
<a name="l00843"></a>00843           <span class="keywordtype">double</span> Qt=0.;
<a name="l00844"></a>00844           fic &lt;&lt; <span class="stringliteral">&quot;# X                T                U                h                rho                mu                lambda                        Q[W]&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00845"></a>00845 
<a name="l00846"></a>00846           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p=0; p&lt;nbproc; p++)
<a name="l00847"></a>00847             {
<a name="l00848"></a>00848               <a class="code" href="classDoubleVect.html">DoubleVect</a> coord_tmp;
<a name="l00849"></a>00849               <a class="code" href="classDoubleVect.html">DoubleVect</a> T_tmp;
<a name="l00850"></a>00850               <a class="code" href="classDoubleVect.html">DoubleVect</a> U_tmp;
<a name="l00851"></a>00851               <a class="code" href="classDoubleVect.html">DoubleVect</a> h_tmp;
<a name="l00852"></a>00852               <a class="code" href="classDoubleVect.html">DoubleVect</a> rho_tmp;
<a name="l00853"></a>00853               <a class="code" href="classDoubleVect.html">DoubleVect</a> mu_tmp;
<a name="l00854"></a>00854               <a class="code" href="classDoubleVect.html">DoubleVect</a> lambda_tmp;
<a name="l00855"></a>00855               <a class="code" href="classDoubleVect.html">DoubleVect</a> Qvol_tmp;
<a name="l00856"></a>00856               <a class="code" href="classDoubleVect.html">DoubleVect</a> vol_tmp;
<a name="l00857"></a>00857 
<a name="l00858"></a>00858               <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(coord_tmp,p,0,p);
<a name="l00859"></a>00859               <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(T_tmp,p,0,p);
<a name="l00860"></a>00860               <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(U_tmp,p,0,p);
<a name="l00861"></a>00861               <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(h_tmp,p,0,p);
<a name="l00862"></a>00862               <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(rho_tmp,p,0,p);
<a name="l00863"></a>00863               <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(mu_tmp,p,0,p);
<a name="l00864"></a>00864               <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(lambda_tmp,p,0,p);
<a name="l00865"></a>00865               <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(Qvol_tmp,p,0,p);
<a name="l00866"></a>00866               <a class="code" href="communications_8cpp.html#a729d9499913e22a5f0db62ef07b9793f">recevoir</a>(vol_tmp,p,0,p);
<a name="l00867"></a>00867 
<a name="l00868"></a>00868               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i =0; i&lt;coord_tmp.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>(); i++)
<a name="l00869"></a>00869                 {
<a name="l00870"></a>00870                   fic &lt;&lt; coord_tmp(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; T_tmp(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; U_tmp(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; h_tmp(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; rho_tmp(i);
<a name="l00871"></a>00871                   fic &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; mu_tmp(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; lambda_tmp(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; Qvol_tmp(i)*vol_tmp(i) &lt;&lt; finl;
<a name="l00872"></a>00872                   Qt+=Qvol_tmp(i)*vol_tmp(i);
<a name="l00873"></a>00873                 }
<a name="l00874"></a>00874 
<a name="l00875"></a>00875             }
<a name="l00876"></a>00876 
<a name="l00877"></a>00877 
<a name="l00878"></a>00878           fic &lt;&lt; <span class="stringliteral">&quot;# Q total[W] = &quot;</span> &lt;&lt; Qt &lt;&lt; finl;
<a name="l00879"></a>00879           fic &lt;&lt; finl;
<a name="l00880"></a>00880         }
<a name="l00881"></a>00881     }
<a name="l00882"></a>00882   <span class="keywordflow">else</span>
<a name="l00883"></a>00883     {
<a name="l00884"></a>00884       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_bord=<a class="code" href="classCond__lim__base.html#ad88b3b516351146c85e8fce1df0f691a" title="Renvoie la frontiere discretisee a laquelle les conditions aux limites s&#39;appliquent.">frontiere_dis</a>().<a class="code" href="classFrontiere__dis__base.html#a95f81b046cd23c8c8083ae03eebe93cd" title="Renvoie la frontiere geometrique associee. (version const)">frontiere</a>().<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>();
<a name="l00885"></a>00885       nom_bord+=<span class="stringliteral">&quot;_&quot;</span>;
<a name="l00886"></a>00886       nom_bord+=<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(temps);
<a name="l00887"></a>00887       nom_bord+=<span class="stringliteral">&quot;.dat&quot;</span>;
<a name="l00888"></a>00888       <a class="code" href="classSFichier.html" title="Cette classe est a la classe C++ ofstream ce que la classe Sortie est a la classe C++ ostream Elle re...">SFichier</a> fic(nom_bord);
<a name="l00889"></a>00889       fic.<a class="code" href="classSortie__Fichier__base.html#a489ca01946f4e2a7a9aa8f3a3d949b08">precision</a>(<a class="code" href="classCond__lim__base.html#a1d3b434c49499d6e7c69311f86119c92" title="Renvoie la zone des conditions aux limites discretisee dont l&#39;objet fait partie.">zone_Cl_dis</a>().equation().schema_temps().precision_impr());
<a name="l00890"></a>00890       fic.<a class="code" href="classSortie__Fichier__base.html#a5ddd834ca9c766c24cc608cd03ef0e96">setf</a>(ios::scientific);
<a name="l00891"></a>00891       <span class="keywordtype">double</span> Qt=0.;
<a name="l00892"></a>00892       fic &lt;&lt; <span class="stringliteral">&quot;# X                 T                 U                 h                 rho                 mu                 lambda                  Q[W]&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00893"></a>00893       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i =0; i&lt;<a class="code" href="classEchange__contact__Correlation__VDF.html#a0bb1ac28ae657821176b38fea9c499b8" title="nb de points du maillage 1D pour la vitesse et la temperature">N</a>; i++)
<a name="l00894"></a>00894         {
<a name="l00895"></a>00895           fic &lt;&lt; <a class="code" href="classEchange__contact__Correlation__VDF.html#aa7e63a2d5594653675a79e62d38ea5f4" title="coordonnees des points de discretisation 1D">coord</a>(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; <a class="code" href="classEchange__contact__Correlation__VDF.html#a89f33edfcded368afb094deecbc246e9" title="inconnues fluides vitesse et temperature">T</a>(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; <a class="code" href="classEchange__contact__Correlation__VDF.html#aeb1623fe56b6e57416320aacf81d7260">U</a>(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; <a class="code" href="classEchange__contact__Correlation__VDF.html#a957e668cd8b997bfef07073da2204f23" title="le coeff d&#39;echange par correlation">h_correlation</a>(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; <a class="code" href="classEchange__contact__Correlation__VDF.html#a5134330e67b5d3bde19dbeec92b5f5fa">rho</a>(i);
<a name="l00896"></a>00896           fic &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; <a class="code" href="classEchange__contact__Correlation__VDF.html#a94c95880d097783d53cdfc35162f4ea6">mu</a>(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; <a class="code" href="classEchange__contact__Correlation__VDF.html#af6781a14900253f5c20d683005989d19" title="tableau des proprietes physiques du fluide a un instant donne">lambda</a>(i) &lt;&lt; <span class="stringliteral">&quot; \t&quot;</span> &lt;&lt; <a class="code" href="classEchange__contact__Correlation__VDF.html#aa61b2d2ad2cab8993429a0bc5d503b54" title="puissance volumique dans le fluide 1D">Qvol</a>(i)*<a class="code" href="classEchange__contact__Correlation__VDF.html#aeb9f8c00367a320b8e3d573d68ea77f8" title="volumes des tranches Sdz du volume suivant la direction de l&#39;ecoulement">vol</a>(i) &lt;&lt; finl;
<a name="l00897"></a>00897           Qt+=<a class="code" href="classEchange__contact__Correlation__VDF.html#aa61b2d2ad2cab8993429a0bc5d503b54" title="puissance volumique dans le fluide 1D">Qvol</a>(i)*<a class="code" href="classEchange__contact__Correlation__VDF.html#aeb9f8c00367a320b8e3d573d68ea77f8" title="volumes des tranches Sdz du volume suivant la direction de l&#39;ecoulement">vol</a>(i);
<a name="l00898"></a>00898         }
<a name="l00899"></a>00899       fic &lt;&lt; <span class="stringliteral">&quot;# Q total[W] = &quot;</span> &lt;&lt; Qt &lt;&lt; finl;
<a name="l00900"></a>00900       fic &lt;&lt; finl;
<a name="l00901"></a>00901 
<a name="l00902"></a>00902     }
<a name="l00903"></a>00903 }
<a name="l00904"></a>00904 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:38 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
