<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Framework/Format_Post_base.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Framework/Format_Post_base.cpp</div>  </div>
</div>
<div class="contents">
<a href="Format__Post__base_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2019, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Format_Post_base.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Framework</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/15</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;<a class="code" href="Format__Post__base_8h.html">Format_Post_base.h</a>&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VF_8h.html">Zone_VF.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Param_8h.html">Param.h</a>&gt;</span>
<a name="l00025"></a>00025 
<a name="l00026"></a><a class="code" href="Format__Post__base_8cpp.html#afca33d4be88105d0c6ba17c201cfe375">00026</a> <a class="code" href="Declare__Base_8h.html#ad0be56e3a9cdd8f6dafc3864627fea86">Implemente_base</a>(<a class="code" href="classFormat__Post__base.html" title="Classe de base des formats de postraitements pour les champs&lt;br&gt;(lata, med, lml, meshtv). Utilisation de la classe par l&#39;interface generique: -typer un objet format de postraitement -initialiser l objet format de postraitement -proceder a des operations de complement et verification -ecrire un domaine -ecrire_temps -ecrire_champ (un type de champ supporte: aux elements ou aux sommets, ou encore aux faces si on a ecrit les faces du domaine et si les faces sont supportees par le postraitement)">Format_Post_base</a>,<span class="stringliteral">&quot;Format_Post_base&quot;</span>,<a class="code" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>);
<a name="l00027"></a>00027 <span class="comment"></span>
<a name="l00028"></a>00028 <span class="comment">//! erreur =&gt; exit</span>
<a name="l00029"></a><a class="code" href="classFormat__Post__base.html#a2cfeac9276c06bdacb26a62e15e7e832">00029</a> <span class="comment"></span><a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classFormat__Post__base.html#a2cfeac9276c06bdacb26a62e15e7e832" title="erreur =&gt; exit">Format_Post_base::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00030"></a>00030 <span class="keyword"></span>{
<a name="l00031"></a>00031   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::printOn : error&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00032"></a>00032   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00033"></a>00033   <span class="keywordflow">return</span> os;
<a name="l00034"></a>00034 }
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="classFormat__Post__base.html#af01a3f03dec4c3abcd838cb10fdc1a25">00036</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classFormat__Post__base.html#af01a3f03dec4c3abcd838cb10fdc1a25" title="Lecture d&#39;un Objet_U sur un flot d&#39;entree Methode a surcharger.">Format_Post_base::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00037"></a>00037 {
<a name="l00038"></a>00038   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Reading of data for a &quot;</span>&lt;&lt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()&lt;&lt;<span class="stringliteral">&quot; post-processing format object&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00039"></a>00039   <a class="code" href="classParam.html" title="Defined below in this file.">Param</a> param(<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>());
<a name="l00040"></a>00040   <a class="code" href="classFormat__Post__base.html#a2c61ac44f70c113801ec5fbffe45879f">set_param</a>(param);
<a name="l00041"></a>00041   param.<a class="code" href="classParam.html#aa9d44fc51b4a08b357733a97dc7acaad" title="Read the is input with the parameters (defined with the Param object) inside: { ... } Example, to read: { a 1 b 2 } Param param(que_suis_je()); int a,b; param.ajouter(&quot;a&quot;,&amp;a); param.ajouter(&quot;b&quot;,&amp;b); param.lire_avec_accolades_depuis(is);.">lire_avec_accolades_depuis</a>(is);
<a name="l00042"></a>00042   <span class="keywordflow">return</span> is;
<a name="l00043"></a>00043 }
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="classFormat__Post__base.html#a1ecbe2adb52af6e71409901bf5c1bdac">00045</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a1ecbe2adb52af6e71409901bf5c1bdac" title="Lecture des parametres de type non simple d&#39;un objet_U a partir d&#39;un flot d&#39;entree.">Format_Post_base::lire_motcle_non_standard</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; mot, <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00046"></a>00046 {
<a name="l00047"></a>00047   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; mot &lt;&lt; <span class="stringliteral">&quot; is not a keyword understood by &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <span class="stringliteral">&quot; in lire_motcle_non_standard&quot;</span>&lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00048"></a>00048   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00049"></a>00049   <span class="keywordflow">return</span> -1;
<a name="l00050"></a>00050 }
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 <span class="comment">//</span>
<a name="l00053"></a>00053 <span class="comment">//</span>
<a name="l00054"></a>00054 <span class="comment">//</span>
<a name="l00055"></a>00055 <span class="comment">//</span>
<a name="l00056"></a>00056 <span class="comment">//</span><span class="comment"></span>
<a name="l00057"></a>00057 <span class="comment">//! Initialise le fichier avec des parametres appropries pour son&lt;br&gt;format (exemple: format ascii, efface le fichier existant, un&lt;br&gt;fichier unique pour tous les processeurs etc...)&lt;br&gt;Methode a surcharger dans les classes derivees.&lt;br&gt;Valeur de retour: 1 si l&#39;operation a reussi, 0 sinon.</span>
<a name="l00058"></a><a class="code" href="classFormat__Post__base.html#a6804fdf6e00a990dcbb7d0fc4416a181">00058</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a6804fdf6e00a990dcbb7d0fc4416a181" title="Initialise le fichier avec des parametres appropries pour son format (exemple: format ascii...">Format_Post_base::initialize_by_default</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; file_basename)
<a name="l00059"></a>00059 {
<a name="l00060"></a>00060   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::initialize_by_default(&quot;</span> &lt;&lt; file_basename
<a name="l00061"></a>00061        &lt;&lt; <span class="stringliteral">&quot;)\n method not coded for &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00062"></a>00062   <span class="keywordflow">return</span> 0;
<a name="l00063"></a>00063 }
<a name="l00064"></a>00064 
<a name="l00065"></a><a class="code" href="classFormat__Post__base.html#a4284b93045ce9f0245680ec2fbb14cf0">00065</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a4284b93045ce9f0245680ec2fbb14cf0">Format_Post_base::initialize</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; file_basename, <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; format, <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; option_para)
<a name="l00066"></a>00066 {
<a name="l00067"></a>00067   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::initialize(&quot;</span> &lt;&lt; file_basename
<a name="l00068"></a>00068        &lt;&lt; <span class="stringliteral">&quot;)\n method not coded for &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00069"></a>00069   <span class="keywordflow">return</span> 0;
<a name="l00070"></a>00070 }
<a name="l00071"></a>00071 
<a name="l00072"></a><a class="code" href="classFormat__Post__base.html#a5bd414c653e7479b611b966b66b0789b">00072</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a5bd414c653e7479b611b966b66b0789b">Format_Post_base::modify_file_basename</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> file_basename, <span class="keyword">const</span> <span class="keywordtype">int</span> a_faire, <span class="keyword">const</span> <span class="keywordtype">double</span> tinit)
<a name="l00073"></a>00073 {
<a name="l00074"></a>00074   <span class="keywordflow">return</span> 0;
<a name="l00075"></a>00075 }
<a name="l00076"></a>00076 
<a name="l00077"></a><a class="code" href="classFormat__Post__base.html#ae11c6023d377a665c55e082fcd5ca28e">00077</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#ae11c6023d377a665c55e082fcd5ca28e">Format_Post_base::ecrire_entete</a>(<span class="keywordtype">double</span> temps_courant,<span class="keywordtype">int</span> reprise,<span class="keyword">const</span> <span class="keywordtype">int</span>&amp; est_le_premier_post)
<a name="l00078"></a>00078 {
<a name="l00079"></a>00079   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::ecrire_entete method not coded for &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00080"></a>00080   <span class="keywordflow">return</span> 0;
<a name="l00081"></a>00081 }
<a name="l00082"></a>00082 
<a name="l00083"></a><a class="code" href="classFormat__Post__base.html#a621bd94fa673c47fe7e0ca44d8416c52">00083</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a621bd94fa673c47fe7e0ca44d8416c52">Format_Post_base::finir</a>(<span class="keywordtype">int</span>&amp; est_le_dernier_post)
<a name="l00084"></a>00084 {
<a name="l00085"></a>00085   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::finir method not coded for &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00086"></a>00086   <span class="keywordflow">return</span> 0;
<a name="l00087"></a>00087 }
<a name="l00088"></a>00088 
<a name="l00089"></a><a class="code" href="classFormat__Post__base.html#a5f48dd23a4a4f54e5274f1a994aac4eb">00089</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a5f48dd23a4a4f54e5274f1a994aac4eb">Format_Post_base::init_ecriture</a>(<span class="keywordtype">double</span> temps_courant,<span class="keywordtype">double</span> temps_post,
<a name="l00090"></a>00090                                     <span class="keywordtype">int</span> est_le_premier_postraitement_pour_nom_fich_,<span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domaine)
<a name="l00091"></a>00091 {
<a name="l00092"></a>00092   <span class="keywordflow">return</span> 1;
<a name="l00093"></a>00093 }
<a name="l00094"></a>00094 
<a name="l00095"></a><a class="code" href="classFormat__Post__base.html#afd4eb85e5835fc8ef7f853844cb30963">00095</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#afd4eb85e5835fc8ef7f853844cb30963">Format_Post_base::finir_ecriture</a>(<span class="keywordtype">double</span> temps_courant)
<a name="l00096"></a>00096 {
<a name="l00097"></a>00097   <span class="keywordflow">return</span> 1;
<a name="l00098"></a>00098 }
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 
<a name="l00102"></a><a class="code" href="classFormat__Post__base.html#a4b46c3d2c6ec1846d2f3d8510f5096ea">00102</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a4b46c3d2c6ec1846d2f3d8510f5096ea">Format_Post_base::completer_post</a>(<span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom,<span class="keyword">const</span> <span class="keywordtype">int</span> is_axi,
<a name="l00103"></a>00103                                      <span class="keyword">const</span> <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646b" title="This is a base class from which inherit Champ_base and Champ_front_base. It handles all the generic a...">Nature_du_champ</a>&amp; nature,<span class="keyword">const</span> <span class="keywordtype">int</span> nb_compo,<span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; noms_compo,
<a name="l00104"></a>00104                                      <span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; loc_post,<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; le_nom_champ_post)
<a name="l00105"></a>00105 {
<a name="l00106"></a>00106 
<a name="l00107"></a>00107   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::preparer_post_champ(...)\n&quot;</span>
<a name="l00108"></a>00108        &lt;&lt; <span class="stringliteral">&quot; method not coded for &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00109"></a>00109   <span class="keywordflow">return</span> 0;
<a name="l00110"></a>00110 
<a name="l00111"></a>00111 }
<a name="l00112"></a>00112 
<a name="l00113"></a><a class="code" href="classFormat__Post__base.html#af36b24fb1eebaef44cce2fe2e776a6f7">00113</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#af36b24fb1eebaef44cce2fe2e776a6f7">Format_Post_base::preparer_post</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; id_du_domaine,<span class="keyword">const</span> <span class="keywordtype">int</span>&amp; est_le_premier_post,
<a name="l00114"></a>00114                                     <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; reprise,
<a name="l00115"></a>00115                                     <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; t_init)
<a name="l00116"></a>00116 {
<a name="l00117"></a>00117 
<a name="l00118"></a>00118   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::preparer_post(...)\n&quot;</span>
<a name="l00119"></a>00119        &lt;&lt; <span class="stringliteral">&quot; method not coded for &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00120"></a>00120   <span class="keywordflow">return</span> 0;
<a name="l00121"></a>00121 
<a name="l00122"></a>00122 }
<a name="l00123"></a>00123 
<a name="l00124"></a><a class="code" href="classFormat__Post__base.html#a4a12fd517421c8cbb404dcb0fd48503f">00124</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a4a12fd517421c8cbb404dcb0fd48503f">Format_Post_base::test_coherence</a>(<span class="keyword">const</span> <span class="keywordtype">int</span>&amp; champs, <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; stat, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; dt_ch, <span class="keyword">const</span> <span class="keywordtype">double</span> dt_stat)
<a name="l00125"></a>00125 {
<a name="l00126"></a>00126   <span class="keywordflow">if</span> (stat &amp;&amp; champs &amp;&amp; !<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dt_stat,dt_ch))
<a name="l00127"></a>00127     {
<a name="l00128"></a>00128       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error!&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00129"></a>00129       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;You try to write unknown fields and statistic fields with a different time period (dt_post):&quot;</span> &lt;&lt; finl;
<a name="l00130"></a>00130       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;-----------------------------&quot;</span> &lt;&lt; finl;
<a name="l00131"></a>00131       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Champs dt_post &quot;</span> &lt;&lt; dt_ch &lt;&lt; finl;
<a name="l00132"></a>00132       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Statistiques dt_post &quot;</span> &lt;&lt; dt_stat &lt;&lt; finl;
<a name="l00133"></a>00133       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;-----------------------------&quot;</span> &lt;&lt; finl;
<a name="l00134"></a>00134       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;It is not possible in the same postprocessing block.&quot;</span> &lt;&lt; finl;
<a name="l00135"></a>00135       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Try to use different postprocessing blocks, one for the unknown fields&quot;</span> &lt;&lt; finl;
<a name="l00136"></a>00136       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;and one for the statistic fields.&quot;</span> &lt;&lt; finl;
<a name="l00137"></a>00137       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00138"></a>00138     }
<a name="l00139"></a>00139   <span class="keywordflow">return</span> 1;
<a name="l00140"></a>00140 }
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 <span class="comment">// Precondition:</span>
<a name="l00143"></a>00143 <span class="comment">// Le fichier doit avoir ete initialise.</span>
<a name="l00144"></a>00144 <span class="comment">// Valeur de retour: 1 si operation reussie, 0 sinon (par exemple,</span>
<a name="l00145"></a>00145 <span class="comment">// preconditions non remplies ou fonctionnalite non supportee par le</span>
<a name="l00146"></a>00146 <span class="comment">// format).</span>
<a name="l00147"></a>00147 <span class="comment">//</span>
<a name="l00148"></a>00148 <span class="comment">//</span>
<a name="l00149"></a>00149 <span class="comment">//</span>
<a name="l00150"></a>00150 <span class="comment">//</span>
<a name="l00151"></a>00151 <span class="comment">//</span>
<a name="l00152"></a>00152 <span class="comment">//</span>
<a name="l00153"></a>00153 <span class="comment">//</span>
<a name="l00154"></a>00154 <span class="comment">//</span>
<a name="l00155"></a>00155 <span class="comment">//</span>
<a name="l00156"></a>00156 <span class="comment">//</span>
<a name="l00157"></a>00157 <span class="comment">//</span>
<a name="l00158"></a>00158 <span class="comment">//</span>
<a name="l00159"></a>00159 <span class="comment">//</span>
<a name="l00160"></a>00160 <span class="comment">//</span>
<a name="l00161"></a>00161 <span class="comment">//</span>
<a name="l00162"></a>00162 <span class="comment">//</span>
<a name="l00163"></a>00163 <span class="comment">//</span>
<a name="l00164"></a>00164 <span class="comment">//</span>
<a name="l00165"></a>00165 <span class="comment">//</span>
<a name="l00166"></a>00166 <span class="comment">//</span>
<a name="l00167"></a>00167 <span class="comment">//</span>
<a name="l00168"></a>00168 <span class="comment">//</span><span class="comment"></span>
<a name="l00169"></a>00169 <span class="comment">//! Ecriture d&#39;un maillage. L&#39;ecriture du domaine a lieu soit au debut,&lt;br&gt;avant le premier appel a ecrire_temps, soit plus tard (maillage dynamique),&lt;br&gt;mais ce n&#39;est pas forcement supporte par le postraitement.&lt;br&gt;Parametre: id_domaine&lt;br&gt;Signification: le nom affecte au domaine dans le fichier lata.&lt;br&gt;Parametre: type_elem&lt;br&gt;Signification: le type de l&#39;element geometrique (un type supporte par&lt;br&gt;la classe derivee, en general on comprend au moins &quot;TETRAEDRE&quot;, &quot;HEXAEDRE&quot;,&lt;br&gt;&quot;TRIANGLE&quot; et &quot;RECTANGLE&quot;)&lt;br&gt;Parametre: dimension&lt;br&gt;Signification: la dimension du domaine (nombre de coordonnees des sommets)&lt;br&gt;On peut avoir un domaine de dimension 3 et des elements de type triangle&lt;br&gt;(postraitement d&#39;une interface ou du bord d&#39;un domaine volumique).&lt;br&gt;Parametre: sommets&lt;br&gt;Signification:&lt;br&gt;Coordonnees des sommets. S&#39;il n&#39;est pas vide, il faut que dimension(1)==dimension&lt;br&gt;Parametre: elements&lt;br&gt;Signification:&lt;br&gt;Indices des sommets de chaque element. dimension(1) doit correspondre au type&lt;br&gt;de l&#39;element (3 pour un triangle, 4 pour un rectangle ou un tetraedre, etc...)</span>
<a name="l00170"></a>00170 <span class="comment"></span>
<a name="l00171"></a><a class="code" href="classFormat__Post__base.html#abf7c0bcdd173cc18ec268949ab9df893">00171</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#abf7c0bcdd173cc18ec268949ab9df893" title="Ecriture d&#39;un maillage. L&#39;ecriture du domaine a lieu soit au debut, avant le premier appel a ecrire_t...">Format_Post_base::ecrire_domaine</a>(<span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domaine,<span class="keyword">const</span> <span class="keywordtype">int</span>&amp; est_le_premier_post)
<a name="l00172"></a>00172 {
<a name="l00173"></a>00173   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::ecrire_domaine(...)\n&quot;</span>
<a name="l00174"></a>00174        &lt;&lt; <span class="stringliteral">&quot; method not coded for &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00175"></a>00175   <span class="keywordflow">return</span> 0;
<a name="l00176"></a>00176 }
<a name="l00177"></a>00177 
<a name="l00178"></a><a class="code" href="classFormat__Post__base.html#a239730e19b82970040681b0da0346ad9">00178</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a239730e19b82970040681b0da0346ad9">Format_Post_base::ecrire_domaine_dis</a>(<span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domaine,<span class="keyword">const</span> <a class="code" href="Ref_8h.html#aab5720a5c34da14028d0745e386aaa01">REF</a>(<a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>)&amp; zone_dis_base,<span class="keyword">const</span> <span class="keywordtype">int</span>&amp; est_le_premier_post)
<a name="l00179"></a>00179 {
<a name="l00180"></a>00180   <span class="keywordflow">return</span> <a class="code" href="classFormat__Post__base.html#abf7c0bcdd173cc18ec268949ab9df893" title="Ecriture d&#39;un maillage. L&#39;ecriture du domaine a lieu soit au debut, avant le premier appel a ecrire_t...">ecrire_domaine</a>(domaine, est_le_premier_post);
<a name="l00181"></a>00181 }
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 <span class="comment">// Precondition:  Fichier initialise.</span>
<a name="l00184"></a>00184 <span class="comment">// Valeur de retour: 1 si operation reussie, 0 sinon.</span>
<a name="l00185"></a>00185 <span class="comment">//</span>
<a name="l00186"></a>00186 <span class="comment">//</span><span class="comment"></span>
<a name="l00187"></a>00187 <span class="comment">//! Commence l&#39;ecriture d&#39;un pas de temps. La classe derivee doit accepter&lt;br&gt;de recevoir plusieurs appels consecutifs a cette methode avec le meme temps.</span>
<a name="l00188"></a>00188 <span class="comment"></span>
<a name="l00189"></a><a class="code" href="classFormat__Post__base.html#a6f85911c85685f7a2d5563885ac1cfd9">00189</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a6f85911c85685f7a2d5563885ac1cfd9" title="Commence l&#39;ecriture d&#39;un pas de temps. La classe derivee doit accepter de recevoir plusieurs appels c...">Format_Post_base::ecrire_temps</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> temps)
<a name="l00190"></a>00190 {
<a name="l00191"></a>00191   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::ecrire_temps(const double temps)\n&quot;</span>
<a name="l00192"></a>00192        &lt;&lt; <span class="stringliteral">&quot; method not coded for &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00193"></a>00193   <span class="keywordflow">return</span> 0;
<a name="l00194"></a>00194 }
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 <span class="comment">//</span>
<a name="l00197"></a>00197 <span class="comment">//</span>
<a name="l00198"></a>00198 <span class="comment">//</span>
<a name="l00199"></a>00199 <span class="comment">//</span>
<a name="l00200"></a>00200 <span class="comment">//</span>
<a name="l00201"></a>00201 <span class="comment">//</span>
<a name="l00202"></a>00202 <span class="comment">//</span>
<a name="l00203"></a>00203 <span class="comment">//</span>
<a name="l00204"></a>00204 <span class="comment">//</span>
<a name="l00205"></a>00205 <span class="comment">//</span>
<a name="l00206"></a>00206 <span class="comment">//</span>
<a name="l00207"></a>00207 <span class="comment">//</span>
<a name="l00208"></a>00208 <span class="comment">//</span>
<a name="l00209"></a>00209 <span class="comment">//</span>
<a name="l00210"></a>00210 <span class="comment">//</span>
<a name="l00211"></a>00211 <span class="comment">//</span>
<a name="l00212"></a>00212 <span class="comment">//</span>
<a name="l00213"></a>00213 <span class="comment">//</span>
<a name="l00214"></a>00214 <span class="comment">//</span>
<a name="l00215"></a>00215 <span class="comment">//</span>
<a name="l00216"></a>00216 <span class="comment">//</span>
<a name="l00217"></a>00217 <span class="comment">//</span><span class="comment"></span>
<a name="l00218"></a>00218 <span class="comment">//! Ecriture d&#39;un champ dans le fichier de postraitement.&lt;br&gt;Parametre: id_du_champ&lt;br&gt;Signification:&lt;br&gt;identifiant du champ (permet d&#39;identifier un champ unique si on donne&lt;br&gt;en plus un numero de pas de temps)&lt;br&gt;Parametre: id_du_domaine&lt;br&gt;Signification:&lt;br&gt;identifiant du domaine sur lequel le champ est defini&lt;br&gt;Ce domaine doit avoir ete ecrit avant par &quot;ecrire_domaine&quot;.&lt;br&gt;Parametre: localisation&lt;br&gt;Signification:&lt;br&gt;localisation des valeurs du champ (SOMMETS, ELEMENTS, ou tout autre id. de&lt;br&gt;tableau deja ecrit)&lt;br&gt;(tout n&#39;est pas obligatoirement supporte par tous les postraitements)&lt;br&gt;Parametre: data&lt;br&gt;Signification:&lt;br&gt;tableau de valeurs a postraiter. Le nombre de lignes du tableau&lt;br&gt;doit etre egal au nombre de lignes du tableau &quot;localisation&quot;&lt;br&gt;(nombre de sommets, d&#39;elements ou de faces ou autre).&lt;br&gt;Valeur de retour: 1 si operation reussie, 0 sinon (par exemple,&lt;br&gt;preconditions non remplies ou fonctionnalite non supportee par le&lt;br&gt;format).</span>
<a name="l00219"></a>00219 <span class="comment"></span>
<a name="l00220"></a><a class="code" href="classFormat__Post__base.html#a3786a17f1ffe0b632fa03635e3befde4">00220</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a3786a17f1ffe0b632fa03635e3befde4" title="Ecriture d&#39;un champ dans le fichier de postraitement. Parametre: id_du_champ Signification: identifia...">Format_Post_base::ecrire_champ</a>(<span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domaine,<span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; unite_,<span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; noms_compo,
<a name="l00221"></a>00221                                    <span class="keywordtype">int</span> ncomp, <span class="keywordtype">double</span> temps_,<span class="keywordtype">double</span> temps_courant,
<a name="l00222"></a>00222                                    <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;   id_du_champ,
<a name="l00223"></a>00223                                    <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;         id_du_domaine,
<a name="l00224"></a>00224                                    <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;         localisation,
<a name="l00225"></a>00225                                    <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;   nature,
<a name="l00226"></a>00226                                    <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp;   data)
<a name="l00227"></a>00227 {
<a name="l00228"></a>00228   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::ecrire_champ(...)\n&quot;</span>
<a name="l00229"></a>00229        &lt;&lt; <span class="stringliteral">&quot; method not coded for &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00230"></a>00230   <span class="keywordflow">return</span> 0;
<a name="l00231"></a>00231 }
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 <span class="comment">// Surcharge de la methode precedente pour le format XYZ : donner les coordonees de postraitement en argument</span>
<a name="l00234"></a><a class="code" href="classFormat__Post__base.html#a365c473efcff12a07b6ac110f5749d63">00234</a> <span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#a365c473efcff12a07b6ac110f5749d63">Format_Post_base::ecrire_champ2</a>(<span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; domaine,<span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; unite_,<span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; noms_compo,
<a name="l00235"></a>00235                                     <span class="keywordtype">int</span> ncomp, <span class="keywordtype">double</span> temps_,<span class="keywordtype">double</span> temps_courant,
<a name="l00236"></a>00236                                     <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;   id_du_champ,
<a name="l00237"></a>00237                                     <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;         id_du_domaine,
<a name="l00238"></a>00238                                     <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;         localisation,
<a name="l00239"></a>00239                                     <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;   nature,
<a name="l00240"></a>00240                                     <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp;   data,
<a name="l00241"></a>00241                                     <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp;   coord)
<a name="l00242"></a>00242 {
<a name="l00243"></a>00243   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::ecrire_champ2(...)\n&quot;</span>
<a name="l00244"></a>00244        &lt;&lt; <span class="stringliteral">&quot; method not coded for &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00245"></a>00245   <span class="keywordflow">return</span> 0;
<a name="l00246"></a>00246 }
<a name="l00247"></a>00247 
<a name="l00248"></a>00248 <span class="comment">//</span>
<a name="l00249"></a>00249 <span class="comment">//</span>
<a name="l00250"></a>00250 <span class="comment">//</span>
<a name="l00251"></a>00251 <span class="comment">//</span>
<a name="l00252"></a>00252 <span class="comment">//</span>
<a name="l00253"></a>00253 <span class="comment">//</span>
<a name="l00254"></a>00254 <span class="comment">//</span>
<a name="l00255"></a>00255 <span class="comment">//</span>
<a name="l00256"></a>00256 <span class="comment">//</span>
<a name="l00257"></a>00257 <span class="comment">//</span>
<a name="l00258"></a>00258 <span class="comment">//</span>
<a name="l00259"></a>00259 <span class="comment">//</span>
<a name="l00260"></a>00260 <span class="comment">//</span>
<a name="l00261"></a>00261 <span class="comment">//</span>
<a name="l00262"></a>00262 <span class="comment">//</span><span class="comment"></span>
<a name="l00263"></a>00263 <span class="comment">//! Ecriture d&#39;un tableau d&#39;entiers dans le fichier de postraitement&lt;br&gt;Voir aussi ecrire_champ&lt;br&gt;Parametre: reference&lt;br&gt;Signification: Nom d&#39;un autre tableau deja ecrit. data[i] est un&lt;br&gt;indice dans ce tableau (exemple: on peut ecrire le tableau&lt;br&gt;FACES_VOISINS, localisation=FACES, reference=ELEMENTS&lt;br&gt;car le tableau est indexe par un numero de face et contient&lt;br&gt;des indices d&#39;elements)&lt;br&gt;L&#39;ecriture d&#39;un domaine entraine automatiquement l&#39;existence&lt;br&gt;d&#39;une tableau SOMMETS et d&#39;un tableau ELEMENTS&lt;br&gt;Parametre: reference_size&lt;br&gt;Signification: la taille (locale) du tableau cite en reference&lt;br&gt;(dimension(0) du tableau). Cette dimension est utilisee pour&lt;br&gt;renumeroter le contenu du tableau data afin de creer une numerotation&lt;br&gt;globale lorsque tous les processeurs ecrivent dans un fichier unique.</span>
<a name="l00264"></a><a class="code" href="classFormat__Post__base.html#ac1eb2c8fb77d90b711438a611b4560b0">00264</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classFormat__Post__base.html#ac1eb2c8fb77d90b711438a611b4560b0" title="Ecriture d&#39;un tableau d&#39;entiers dans le fichier de postraitement Voir aussi ecrire_champ Parametre: r...">Format_Post_base::ecrire_item_int</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;   id_item,
<a name="l00265"></a>00265                                       <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;   id_du_domaine,
<a name="l00266"></a>00266                                       <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; id_zone,
<a name="l00267"></a>00267                                       <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;   localisation,
<a name="l00268"></a>00268                                       <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp;   reference,
<a name="l00269"></a>00269                                       <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; data,
<a name="l00270"></a>00270                                       <span class="keyword">const</span> <span class="keywordtype">int</span> reference_size)
<a name="l00271"></a>00271 {
<a name="l00272"></a>00272   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Format_Post_base::ecrire_champ_int(...)\n&quot;</span>
<a name="l00273"></a>00273        &lt;&lt; <span class="stringliteral">&quot; method not coded for &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00274"></a>00274   <span class="keywordflow">return</span> 0;
<a name="l00275"></a>00275 }
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 <span class="comment">// Methode visant a postraiter les valeurs d un champ discret a un instant donne</span>
<a name="l00278"></a>00278 <span class="comment">// Le tableau de valeurs (data) a postraiter est redimensionne si necessaire</span>
<a name="l00279"></a>00279 <span class="comment">// Puis appel des methodes de l interface generique pour postraiter</span>
<a name="l00280"></a>00280 <span class="comment">//</span>
<a name="l00281"></a>00281 <span class="comment">// Rq : Dans cet exemple on considere les valeurs d un champ scalaire aux elements</span>
<a name="l00282"></a>00282 <span class="comment">// Format_Post format_post_debug;</span>
<a name="l00283"></a>00283 <span class="comment">// Nom type_format = &quot;Format_Post_Meshtv&quot;;</span>
<a name="l00284"></a>00284 <span class="comment">// format_post_debug.typer_direct(type_format);</span>
<a name="l00285"></a>00285 <span class="comment">// Nom nom_fichier(&quot;postraitement_debug&quot;);</span>
<a name="l00286"></a>00286 <span class="comment">// Nom id_champ_post=&quot;temperature_elem_dom&quot;;</span>
<a name="l00287"></a>00287 <span class="comment">// Nature_du_champ nature = scalaire;</span>
<a name="l00288"></a>00288 <span class="comment">// Motcle loc=&quot;ELEM&quot;;</span>
<a name="l00289"></a>00289 <span class="comment">// const Domaine&amp; dom = ...</span>
<a name="l00290"></a>00290 <span class="comment">// const double&amp; temps_courant = ...</span>
<a name="l00291"></a>00291 <span class="comment">// const Champ_base&amp; ch_temp = mon_probleme-&gt;get_champ(&quot;temperature&quot;);</span>
<a name="l00292"></a>00292 <span class="comment">// const Zone_dis_base&amp; zone_dis = ch_temp.zone_dis_base();</span>
<a name="l00293"></a>00293 <span class="comment">// const DoubleTab&amp; temp = ch_temp.valeurs();</span>
<a name="l00294"></a>00294 <span class="comment">// double temps_champ = ch_temp.temps();</span>
<a name="l00295"></a>00295 <span class="comment">// Noms compo=ch_temp.noms_compo();</span>
<a name="l00296"></a>00296 <span class="comment">// Noms unites = ch_temp.unites();</span>
<a name="l00297"></a>00297 
<a name="l00298"></a>00298 <span class="comment">// format_post_debug-&gt;postraiter_debug_valeurs_un_instant(nom_fichier,dom,zone_dis,temps_champ,temps_courant,id_champ_post,nature,compo,unites,loc,temp);</span>
<a name="l00299"></a>00299 
<a name="l00300"></a>00300 <span class="comment">//</span>
<a name="l00301"></a>00301 
<a name="l00302"></a><a class="code" href="classFormat__Post__base.html#abe36e9e06d73bd0b2d981ced14ea1add">00302</a> <span class="keywordtype">void</span> <a class="code" href="classFormat__Post__base.html#abe36e9e06d73bd0b2d981ced14ea1add">Format_Post_base::postraiter_debug_valeurs_un_instant</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nom_fich,
<a name="l00303"></a>00303                                                            <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dom,
<a name="l00304"></a>00304                                                            <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; zone_dis,
<a name="l00305"></a>00305                                                            <span class="keywordtype">double</span> temps_champ, <span class="keywordtype">double</span> temps_courant,
<a name="l00306"></a>00306                                                            <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; id_champ_post,<span class="keyword">const</span> <a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646b" title="This is a base class from which inherit Champ_base and Champ_front_base. It handles all the generic a...">Nature_du_champ</a>&amp; nature_champ,
<a name="l00307"></a>00307                                                            <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; noms_compos,<span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; unites,<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; loc_post,
<a name="l00308"></a>00308                                                            <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; data,
<a name="l00309"></a>00309                                                            <span class="keywordtype">int</span> ncomp,
<a name="l00310"></a>00310                                                            <span class="keywordtype">int</span> is_axi,
<a name="l00311"></a>00311                                                            <span class="keywordtype">int</span> champ,<span class="keywordtype">int</span> stat,<span class="keywordtype">double</span> dt_ch,<span class="keywordtype">double</span> dt_stat,<span class="keywordtype">int</span> reprise,
<a name="l00312"></a>00312                                                            <span class="keywordtype">int</span> est_le_premier_post, <span class="keywordtype">int</span> est_le_dernier_post,
<a name="l00313"></a>00313                                                            <span class="keywordtype">double</span> t_init,<span class="keywordtype">double</span> temps_post)
<a name="l00314"></a>00314 {
<a name="l00315"></a>00315 
<a name="l00316"></a>00316   <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; id_domaine = dom.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>();
<a name="l00317"></a>00317   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_compo = noms_compos.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>();
<a name="l00318"></a>00318   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> valeurs_tmp;
<a name="l00319"></a>00319   <span class="keywordtype">int</span> dim0 = data.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00320"></a>00320   <span class="keywordtype">int</span> nb_dim_val = 1;
<a name="l00321"></a>00321 
<a name="l00322"></a>00322   <span class="keywordflow">if</span> (ncomp==-1)
<a name="l00323"></a>00323     {
<a name="l00324"></a>00324       <span class="keywordflow">if</span> (data.<a class="code" href="classDoubleTab.html#ae6dda48778e7107e1beb723beef1f75b" title="Returns the number of dimensions of the array (&gt;= 1)">nb_dim</a>()&gt;1)
<a name="l00325"></a>00325         {
<a name="l00326"></a>00326           nb_dim_val = data.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00327"></a>00327           valeurs_tmp.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(dim0,nb_dim_val);
<a name="l00328"></a>00328           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;dim0; i++)
<a name="l00329"></a>00329             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;nb_dim_val; j++)
<a name="l00330"></a>00330               valeurs_tmp(i,j) = data(i,j);
<a name="l00331"></a>00331         }
<a name="l00332"></a>00332       <span class="keywordflow">else</span>
<a name="l00333"></a>00333         {
<a name="l00334"></a>00334           valeurs_tmp.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(dim0,nb_dim_val);
<a name="l00335"></a>00335           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;dim0; i++)
<a name="l00336"></a>00336             valeurs_tmp(i,0) = data(i);
<a name="l00337"></a>00337         }
<a name="l00338"></a>00338     }
<a name="l00339"></a>00339   <span class="keywordflow">else</span>
<a name="l00340"></a>00340     {
<a name="l00341"></a>00341       valeurs_tmp.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(dim0);
<a name="l00342"></a>00342       <span class="keywordflow">if</span> (data.<a class="code" href="classDoubleTab.html#ae6dda48778e7107e1beb723beef1f75b" title="Returns the number of dimensions of the array (&gt;= 1)">nb_dim</a>()&gt;1)
<a name="l00343"></a>00343         {
<a name="l00344"></a>00344           <span class="keywordtype">int</span> nb_comp = data.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00345"></a>00345           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;dim0; i++)
<a name="l00346"></a>00346             <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;nb_comp; j++)
<a name="l00347"></a>00347               <span class="keywordflow">if</span> (j==ncomp)
<a name="l00348"></a>00348                 valeurs_tmp(i) = data(i,j);
<a name="l00349"></a>00349         }
<a name="l00350"></a>00350       <span class="keywordflow">else</span>
<a name="l00351"></a>00351         valeurs_tmp = data;
<a name="l00352"></a>00352     }
<a name="l00353"></a>00353 
<a name="l00354"></a>00354   <a class="code" href="classFormat__Post__base.html#a6804fdf6e00a990dcbb7d0fc4416a181" title="Initialise le fichier avec des parametres appropries pour son format (exemple: format ascii...">initialize_by_default</a>(nom_fich);
<a name="l00355"></a>00355   <a class="code" href="classFormat__Post__base.html#a4a12fd517421c8cbb404dcb0fd48503f">test_coherence</a>(champ,stat,dt_ch,dt_stat);
<a name="l00356"></a>00356   <a class="code" href="classFormat__Post__base.html#ae11c6023d377a665c55e082fcd5ca28e">ecrire_entete</a>(temps_courant,reprise,est_le_premier_post);
<a name="l00357"></a>00357   <a class="code" href="classFormat__Post__base.html#af36b24fb1eebaef44cce2fe2e776a6f7">preparer_post</a>(id_domaine,est_le_premier_post,reprise,t_init);
<a name="l00358"></a>00358   <a class="code" href="classFormat__Post__base.html#a4b46c3d2c6ec1846d2f3d8510f5096ea">completer_post</a>(dom,is_axi,nature_champ,nb_compo,noms_compos,loc_post,id_champ_post);
<a name="l00359"></a>00359   <a class="code" href="classFormat__Post__base.html#abf7c0bcdd173cc18ec268949ab9df893" title="Ecriture d&#39;un maillage. L&#39;ecriture du domaine a lieu soit au debut, avant le premier appel a ecrire_t...">ecrire_domaine</a>(dom,est_le_premier_post);
<a name="l00360"></a>00360 
<a name="l00361"></a>00361   <span class="keywordflow">if</span> (loc_post==<span class="stringliteral">&quot;FACES&quot;</span>)
<a name="l00362"></a>00362     {
<a name="l00363"></a>00363       <span class="keyword">const</span> <a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>&amp; zone_vf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>, zone_dis);
<a name="l00364"></a>00364       <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; faces_sommets = zone_vf.<a class="code" href="classZone__VF.html#a298e73b18e17da55f421b1fb0879bd46" title="renvoie le numero du ieme sommet de la face num_face.">face_sommets</a>();
<a name="l00365"></a>00365       <span class="keyword">const</span> <span class="keywordtype">int</span> nb_sommets = dom.<a class="code" href="classDomaine.html#abc4abc8b8db5bebeb161fae4162a89ce" title="Renvoie le nombre de sommets.">nb_som</a>();
<a name="l00366"></a>00366       <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces = faces_sommets.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00367"></a>00367       <a class="code" href="classFormat__Post__base.html#ac1eb2c8fb77d90b711438a611b4560b0" title="Ecriture d&#39;un tableau d&#39;entiers dans le fichier de postraitement Voir aussi ecrire_champ Parametre: r...">ecrire_item_int</a>(<span class="stringliteral">&quot;FACES&quot;</span>, <span class="comment">//!&lt; Identifiant</span>
<a name="l00368"></a>00368 <span class="comment"></span>                      dom.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>(),
<a name="l00369"></a>00369                       dom.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#aad29ea7a38564404cc0417383233aaf0" title="Renvoie le nom de la zone.">le_nom</a>(),
<a name="l00370"></a>00370                       <span class="stringliteral">&quot;FACES&quot;</span>, <span class="comment">//!&lt; localisation</span>
<a name="l00371"></a>00371 <span class="comment"></span>                      <span class="stringliteral">&quot;SOMMETS&quot;</span>, <span class="comment">//!&lt; reference</span>
<a name="l00372"></a>00372 <span class="comment"></span>                      faces_sommets,
<a name="l00373"></a>00373                       nb_sommets);
<a name="l00374"></a>00374 
<a name="l00375"></a>00375       <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elem_faces = zone_vf.<a class="code" href="classZone__VF.html#a067e462dcd3ab92b0f6d945b19e4eb37" title="renvoie le numero de le ieme face de la maille num_elem la facon dont ces faces sont numerotees est l...">elem_faces</a>();
<a name="l00376"></a>00376       <a class="code" href="classFormat__Post__base.html#ac1eb2c8fb77d90b711438a611b4560b0" title="Ecriture d&#39;un tableau d&#39;entiers dans le fichier de postraitement Voir aussi ecrire_champ Parametre: r...">ecrire_item_int</a>(<span class="stringliteral">&quot;ELEM_FACES&quot;</span>, <span class="comment">//!&lt; Identifiant</span>
<a name="l00377"></a>00377 <span class="comment"></span>                      dom.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>(),
<a name="l00378"></a>00378                       dom.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0).<a class="code" href="classZone.html#aad29ea7a38564404cc0417383233aaf0" title="Renvoie le nom de la zone.">le_nom</a>(),
<a name="l00379"></a>00379                       <span class="stringliteral">&quot;ELEMENTS&quot;</span>, <span class="comment">//!&lt; localisation</span>
<a name="l00380"></a>00380 <span class="comment"></span>                      <span class="stringliteral">&quot;FACES&quot;</span>, <span class="comment">//!&lt; reference</span>
<a name="l00381"></a>00381 <span class="comment"></span>                      elem_faces,
<a name="l00382"></a>00382                       nb_faces);
<a name="l00383"></a>00383 
<a name="l00384"></a>00384     }
<a name="l00385"></a>00385 
<a name="l00386"></a>00386   <a class="code" href="classFormat__Post__base.html#a6f85911c85685f7a2d5563885ac1cfd9" title="Commence l&#39;ecriture d&#39;un pas de temps. La classe derivee doit accepter de recevoir plusieurs appels c...">ecrire_temps</a>(temps_courant);
<a name="l00387"></a>00387   <a class="code" href="classFormat__Post__base.html#a5f48dd23a4a4f54e5274f1a994aac4eb">init_ecriture</a>(temps_courant,temps_post,est_le_premier_post,dom);
<a name="l00388"></a>00388   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nature(<span class="stringliteral">&quot;scalar&quot;</span>);
<a name="l00389"></a>00389   <span class="keywordflow">if</span> (nature_champ==<a class="code" href="Field__base_8h.html#a1b86c8f670a9b34da7f628a821fb646ba66d795f4e2fbb5636a3966c73964c5e7">vectoriel</a>) nature=<span class="stringliteral">&quot;vector&quot;</span>;
<a name="l00390"></a>00390   <a class="code" href="classFormat__Post__base.html#a3786a17f1ffe0b632fa03635e3befde4" title="Ecriture d&#39;un champ dans le fichier de postraitement. Parametre: id_du_champ Signification: identifia...">ecrire_champ</a>(dom,unites,noms_compos,ncomp,temps_champ,temps_courant,id_champ_post,id_domaine,loc_post,nature,valeurs_tmp);
<a name="l00391"></a>00391   <a class="code" href="classFormat__Post__base.html#afd4eb85e5835fc8ef7f853844cb30963">finir_ecriture</a>(temps_courant);
<a name="l00392"></a>00392   <a class="code" href="classFormat__Post__base.html#a621bd94fa673c47fe7e0ca44d8416c52">finir</a>(est_le_dernier_post);
<a name="l00393"></a>00393 
<a name="l00394"></a>00394 }
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 
<a name="l00397"></a>00397 <span class="comment">// Actuellement on commente</span>
<a name="l00398"></a>00398 <span class="comment">// Pourquoi pas de declaration de la methode (fonction) static</span>
<a name="l00399"></a>00399 
<a name="l00400"></a>00400 <span class="comment">/*</span>
<a name="l00401"></a>00401 <span class="comment">// Description: Methode outil pour retirer les doublons dans un tableau.</span>
<a name="l00402"></a>00402 <span class="comment">static void array_trier_retirer_doublons(ArrOfInt &amp; array)</span>
<a name="l00403"></a>00403 <span class="comment">{</span>
<a name="l00404"></a>00404 <span class="comment">const int size_ = array.size_array();</span>
<a name="l00405"></a>00405 <span class="comment">if (size_ == 0)</span>
<a name="l00406"></a>00406 <span class="comment">return;</span>
<a name="l00407"></a>00407 <span class="comment">// Tri dans l&#39;ordre croissant</span>
<a name="l00408"></a>00408 <span class="comment">array.ordonne_array();</span>
<a name="l00409"></a>00409 <span class="comment">// Retire les doublons</span>
<a name="l00410"></a>00410 <span class="comment">int new_size_ = 1;</span>
<a name="l00411"></a>00411 <span class="comment">int last_value = array[0];</span>
<a name="l00412"></a>00412 <span class="comment">for (int i = 1; i &lt; size_; i++) {</span>
<a name="l00413"></a>00413 <span class="comment">if (array[i] != last_value) {</span>
<a name="l00414"></a>00414 <span class="comment">array[new_size_] = last_value = array[i];</span>
<a name="l00415"></a>00415 <span class="comment">new_size_++;</span>
<a name="l00416"></a>00416 <span class="comment">}</span>
<a name="l00417"></a>00417 <span class="comment">}</span>
<a name="l00418"></a>00418 <span class="comment">array.resize_array(new_size_);</span>
<a name="l00419"></a>00419 <span class="comment">}</span>
<a name="l00420"></a>00420 <span class="comment">*/</span>
<a name="l00421"></a>00421 
<a name="l00422"></a>00422 
<a name="l00423"></a>00423 <span class="comment">/*</span>
<a name="l00424"></a>00424 <span class="comment">// Description:</span>
<a name="l00425"></a>00425 <span class="comment">//  Ecriture des bords du domaine dans le fichier de postraitement</span>
<a name="l00426"></a>00426 <span class="comment">// Parametre: id_du_domaine</span>
<a name="l00427"></a>00427 <span class="comment">// Signification: le nom du domaine dont on ecrit les bords</span>
<a name="l00428"></a>00428 <span class="comment">// Parametre: type_faces</span>
<a name="l00429"></a>00429 <span class="comment">// Signification: le type des faces du bord (le nom d&#39;un type derive de Elem_Geom_base)</span>
<a name="l00430"></a>00430 <span class="comment">// Parametre: sommets</span>
<a name="l00431"></a>00431 <span class="comment">// Signification: Les coordonnees des sommets du domaine.</span>
<a name="l00432"></a>00432 <span class="comment">// Parametre: faces_sommets</span>
<a name="l00433"></a>00433 <span class="comment">// Signification: pour chaque face de bord, numeros de ses sommets dans le domaine</span>
<a name="l00434"></a>00434 <span class="comment">// Parametre: faces_num_bord</span>
<a name="l00435"></a>00435 <span class="comment">// Signification: pour chaque face, numero du bord auquel elle appartient</span>
<a name="l00436"></a>00436 <span class="comment">//  (le premier bord porte le numero zero)</span>
<a name="l00437"></a>00437 <span class="comment">// Parametre: bords_nom</span>
<a name="l00438"></a>00438 <span class="comment">// Signification: le nom de chaque bord.</span>
<a name="l00439"></a>00439 <span class="comment">int Format_Post_base::ecrire_bords(const Nom    &amp; id_du_domaine,</span>
<a name="l00440"></a>00440 <span class="comment">const Motcle &amp; type_faces,</span>
<a name="l00441"></a>00441 <span class="comment">const DoubleTab &amp; sommets,</span>
<a name="l00442"></a>00442 <span class="comment">const IntTab &amp; faces_sommets,</span>
<a name="l00443"></a>00443 <span class="comment">const IntTab &amp; faces_num_bord,</span>
<a name="l00444"></a>00444 <span class="comment">const Noms   &amp; bords_nom)</span>
<a name="l00445"></a>00445 <span class="comment">{</span>
<a name="l00446"></a>00446 <span class="comment">// Le comportement par defaut de &quot;ecrire_bords&quot; consiste a</span>
<a name="l00447"></a>00447 <span class="comment">// ecrire une nouvelle geometrie appelee &quot;id_du_domaine_boundary&quot;</span>
<a name="l00448"></a>00448 <span class="comment"></span>
<a name="l00449"></a>00449 <span class="comment">int i, j;</span>
<a name="l00450"></a>00450 <span class="comment"></span>
<a name="l00451"></a>00451 <span class="comment">// Creation de la liste des indices de sommets utilises dans les faces de bord:</span>
<a name="l00452"></a>00452 <span class="comment">ArrOfInt sommets_bord;</span>
<a name="l00453"></a>00453 <span class="comment">sommets_bord = faces_sommets;</span>
<a name="l00454"></a>00454 <span class="comment">array_trier_retirer_doublons(sommets_bord);</span>
<a name="l00455"></a>00455 <span class="comment"></span>
<a name="l00456"></a>00456 <span class="comment">// Creation d&#39;un tableau de renumerotation:</span>
<a name="l00457"></a>00457 <span class="comment">//   renum[indice global] = indice dans le tableau des sommets de bord</span>
<a name="l00458"></a>00458 <span class="comment">const int nb_sommets = sommets.dimension(0);</span>
<a name="l00459"></a>00459 <span class="comment">const int nb_sommets_bord = sommets_bord.size_array();</span>
<a name="l00460"></a>00460 <span class="comment">ArrOfInt renum(nb_sommets);</span>
<a name="l00461"></a>00461 <span class="comment">renum = -1;</span>
<a name="l00462"></a>00462 <span class="comment">for (i = 0; i &lt; nb_sommets_bord; i++)</span>
<a name="l00463"></a>00463 <span class="comment">renum[sommets_bord[i]] = i;</span>
<a name="l00464"></a>00464 <span class="comment"></span>
<a name="l00465"></a>00465 <span class="comment">// Renumerotation du tableau faces_sommets</span>
<a name="l00466"></a>00466 <span class="comment">IntTab faces_sommets_renum(faces_sommets);</span>
<a name="l00467"></a>00467 <span class="comment">{</span>
<a name="l00468"></a>00468 <span class="comment">ArrOfInt &amp; faces_sommets_array = faces_sommets_renum;</span>
<a name="l00469"></a>00469 <span class="comment">const int faces_sommets_size_array = faces_sommets_array.size_array();</span>
<a name="l00470"></a>00470 <span class="comment">for (i = 0; i &lt; faces_sommets_size_array; i++) {</span>
<a name="l00471"></a>00471 <span class="comment">int &amp; isom = faces_sommets_array[i];</span>
<a name="l00472"></a>00472 <span class="comment">isom = renum[isom];</span>
<a name="l00473"></a>00473 <span class="comment">}</span>
<a name="l00474"></a>00474 <span class="comment">}</span>
<a name="l00475"></a>00475 <span class="comment"></span>
<a name="l00476"></a>00476 <span class="comment">// Construction du tableau des sommets</span>
<a name="l00477"></a>00477 <span class="comment">const int dim = sommets.dimension(1);</span>
<a name="l00478"></a>00478 <span class="comment">DoubleTab coord_som(nb_sommets_bord, dim);</span>
<a name="l00479"></a>00479 <span class="comment">for (i = 0; i &lt; nb_sommets_bord; i++) {</span>
<a name="l00480"></a>00480 <span class="comment">const int i_old = sommets_bord[i];</span>
<a name="l00481"></a>00481 <span class="comment">for (j = 0; j &lt; dim; j++)</span>
<a name="l00482"></a>00482 <span class="comment">coord_som(i,j) = sommets(i_old,j);</span>
<a name="l00483"></a>00483 <span class="comment">}</span>
<a name="l00484"></a>00484 <span class="comment"></span>
<a name="l00485"></a>00485 <span class="comment">// Ecriture de la geometrie:</span>
<a name="l00486"></a>00486 <span class="comment">Nom id = id_du_domaine + &quot;_boundary&quot;;</span>
<a name="l00487"></a>00487 <span class="comment">ecrire_domaine(id,</span>
<a name="l00488"></a>00488 <span class="comment">type_faces,</span>
<a name="l00489"></a>00489 <span class="comment">dim,</span>
<a name="l00490"></a>00490 <span class="comment">coord_som,</span>
<a name="l00491"></a>00491 <span class="comment">faces_sommets_renum);</span>
<a name="l00492"></a>00492 <span class="comment"></span>
<a name="l00493"></a>00493 <span class="comment">// Ecriture des noms des bords</span>
<a name="l00494"></a>00494 <span class="comment">Nom id_noms = id + &quot;_names&quot;;</span>
<a name="l00495"></a>00495 <span class="comment">ecrire_noms(id_noms,</span>
<a name="l00496"></a>00496 <span class="comment">id,</span>
<a name="l00497"></a>00497 <span class="comment">&quot;&quot;,</span>
<a name="l00498"></a>00498 <span class="comment">bords_nom);</span>
<a name="l00499"></a>00499 <span class="comment"></span>
<a name="l00500"></a>00500 <span class="comment">// Ecriture des numeros de bord</span>
<a name="l00501"></a>00501 <span class="comment">Nom id_tableau = id + &quot;_numbers&quot;;</span>
<a name="l00502"></a>00502 <span class="comment"></span>
<a name="l00503"></a>00503 <span class="comment"></span>
<a name="l00504"></a>00504 <span class="comment">//La methode s appelle maintenant ecrire_item_int()</span>
<a name="l00505"></a>00505 <span class="comment">ecrire_champ_int(id_tableau,</span>
<a name="l00506"></a>00506 <span class="comment">id,</span>
<a name="l00507"></a>00507 <span class="comment">&quot;elem&quot;,</span>
<a name="l00508"></a>00508 <span class="comment">id_noms,</span>
<a name="l00509"></a>00509 <span class="comment">faces_num_bord,</span>
<a name="l00510"></a>00510 <span class="comment">bords_nom.size());</span>
<a name="l00511"></a>00511 <span class="comment"></span>
<a name="l00512"></a>00512 <span class="comment">return 1;</span>
<a name="l00513"></a>00513 <span class="comment">}</span>
<a name="l00514"></a>00514 <span class="comment"></span>
<a name="l00515"></a>00515 <span class="comment">// Description:</span>
<a name="l00516"></a>00516 <span class="comment">//  Ecriture d&#39;un tableau de chaines de caracteres.</span>
<a name="l00517"></a>00517 <span class="comment">//  Voir aussi ecrire_champ</span>
<a name="l00518"></a>00518 <span class="comment">int Format_Post_base::ecrire_noms(const Nom  &amp; id_de_la_liste,</span>
<a name="l00519"></a>00519 <span class="comment">const Nom  &amp; id_du_domaine,</span>
<a name="l00520"></a>00520 <span class="comment">const Nom  &amp; localisation,</span>
<a name="l00521"></a>00521 <span class="comment">const Noms &amp; liste_noms)</span>
<a name="l00522"></a>00522 <span class="comment">{</span>
<a name="l00523"></a>00523 <span class="comment">Cerr &lt;&lt; &quot;Format_Post_base::ecrire_noms(...)\n&quot;</span>
<a name="l00524"></a>00524 <span class="comment">&lt;&lt; &quot; method not coded for &quot; &lt;&lt; que_suis_je() &lt;&lt; finl;</span>
<a name="l00525"></a>00525 <span class="comment">return 0;</span>
<a name="l00526"></a>00526 <span class="comment">}</span>
<a name="l00527"></a>00527 <span class="comment">*/</span>
<a name="l00528"></a>00528 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:15 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
