<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Math/Array_tools.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Math/Array_tools.cpp</div>  </div>
</div>
<div class="contents">
<a href="Array__tools_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2015 - 2016, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Array_tools.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Math</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/14</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Array__tools_8h.html">Array_tools.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="IntTab_8h.html">IntTab.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="ArrOfDouble_8h.html">ArrOfDouble.h</a>&gt;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="comment">//</span>
<a name="l00028"></a>00028 <span class="comment">//</span>
<a name="l00029"></a>00029 <span class="comment">//</span>
<a name="l00030"></a>00030 <span class="comment">//</span>
<a name="l00031"></a>00031 <span class="comment">//</span>
<a name="l00032"></a>00032 <span class="comment">//</span>
<a name="l00033"></a>00033 <span class="comment">//</span>
<a name="l00034"></a>00034 <span class="comment">//</span><span class="comment"></span>
<a name="l00035"></a>00035 <span class="comment">//! retire les doublons du tableau array&lt;br&gt;(suppose que le tableau est trie dans l&#39;ordre croissant)&lt;br&gt;On deplace les elements conserves pour qu&#39;ils soient contigus&lt;br&gt;au debut du tableau.&lt;br&gt;ATTENTION: on ne resize pas le tableau, utiliser la valeur&lt;br&gt;de retour pour le faire ensuite!&lt;br&gt;(au cas ou on veuille appliquer cette fonction a un IntTab,&lt;br&gt;il faut faire resize() et non resize_array())&lt;br&gt;Valeur de retour : nombre d&#39;elements conserves dans le tableau</span>
<a name="l00036"></a><a class="code" href="Array__tools_8cpp.html#a16494af4ad15ba2b7d71a3706e14ff4f">00036</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="Array__tools_8cpp.html#a16494af4ad15ba2b7d71a3706e14ff4f" title="retire les doublons du tableau array (suppose que le tableau est trie dans l&#39;ordre croissant) On depl...">array_retirer_doublons</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; array)
<a name="l00037"></a>00037 {
<a name="l00038"></a>00038   <span class="keyword">const</span> <span class="keywordtype">int</span> size = array.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00039"></a>00039   <span class="keywordflow">if</span> (size == 0)
<a name="l00040"></a>00040     <span class="keywordflow">return</span> 0;
<a name="l00041"></a>00041 <span class="comment">// Retire les doublons</span>
<a name="l00042"></a>00042   <span class="keywordtype">int</span> new_size = 1;
<a name="l00043"></a>00043   <span class="keywordtype">int</span> last_value = array[0];
<a name="l00044"></a>00044   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; size; i++)
<a name="l00045"></a>00045     {
<a name="l00046"></a>00046 <span class="comment">// Le tableau doit etre trie !</span>
<a name="l00047"></a>00047       assert(array[i] &gt;= last_value);
<a name="l00048"></a>00048       <span class="keywordflow">if</span> (array[i] != last_value)
<a name="l00049"></a>00049         {
<a name="l00050"></a>00050           array[new_size] = last_value = array[i];
<a name="l00051"></a>00051           new_size++;
<a name="l00052"></a>00052         }
<a name="l00053"></a>00053     }
<a name="l00054"></a>00054   <span class="keywordflow">return</span> new_size;
<a name="l00055"></a>00055 }
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="comment">//</span><span class="comment"></span>
<a name="l00058"></a>00058 <span class="comment">//! Trie le tableau array dans l&#39;ordre croissant&lt;br&gt;et retire les doublons.</span>
<a name="l00059"></a><a class="code" href="Array__tools_8h.html#a81a8055923c8a80e3e74637510106227">00059</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709" title="Methode outil pour retirer les doublons dans un tableau.">array_trier_retirer_doublons</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; array)
<a name="l00060"></a>00060 {
<a name="l00061"></a>00061 <span class="comment">// IntVect n&#39;est pas traite correctement car on ne</span>
<a name="l00062"></a>00062 <span class="comment">// fait pas un resize() mais un resize_array().</span>
<a name="l00063"></a>00063   assert(!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classIntVect.html">IntVect</a>, array));
<a name="l00064"></a>00064   <span class="keyword">const</span> <span class="keywordtype">int</span> size = array.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00065"></a>00065   <span class="keywordflow">if</span> (size == 0)
<a name="l00066"></a>00066     <span class="keywordflow">return</span>;
<a name="l00067"></a>00067 <span class="comment">// Tri dans l&#39;ordre croissant</span>
<a name="l00068"></a>00068   array.<a class="code" href="classArrOfInt.html#abb0f48cf5a4be4b70edcc90baaebd521" title="Tri des valeurs du tableau dans l&#39;ordre croissant. La fonction utilisee est qsort de stdlib (elle est...">ordonne_array</a>();
<a name="l00069"></a>00069 <span class="comment">// Retire les doublons</span>
<a name="l00070"></a>00070   <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="Nom_8cpp.html#a0e1ea19fb9fa7881d15d84eff4c090e1">sz</a> = <a class="code" href="Array__tools_8cpp.html#a16494af4ad15ba2b7d71a3706e14ff4f" title="retire les doublons du tableau array (suppose que le tableau est trie dans l&#39;ordre croissant) On depl...">array_retirer_doublons</a>(array);
<a name="l00071"></a>00071   array.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(sz);
<a name="l00072"></a>00072 }
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="comment">//</span>
<a name="l00075"></a>00075 <span class="comment">//</span>
<a name="l00076"></a>00076 <span class="comment">//</span><span class="comment"></span>
<a name="l00077"></a>00077 <span class="comment">//! calcule l&#39;intersection entre les deux listes d&#39;entiers&lt;br&gt;liste1 et liste2. Le resultat est mis dans liste1.&lt;br&gt;Les deux listes doivent etre triees et sans doublons. liste1 est&lt;br&gt;triee en sortie.</span>
<a name="l00078"></a><a class="code" href="Array__tools_8h.html#a7bcdb4c1fbdd4b5318fe1159fb303dc2">00078</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="Array__tools_8cpp.html#a7bcdb4c1fbdd4b5318fe1159fb303dc2" title="calcule l&#39;intersection entre les deux listes d&#39;entiers liste1 et liste2. Le resultat est mis dans lis...">array_calculer_intersection</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; liste1, <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; liste2)
<a name="l00079"></a>00079 {
<a name="l00080"></a>00080   <span class="keyword">const</span> <span class="keywordtype">int</span> sz1 = liste1.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00081"></a>00081   <span class="keyword">const</span> <span class="keywordtype">int</span> sz2 = liste2.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00082"></a>00082   <span class="keywordtype">int</span> i; <span class="comment">//!&lt; Pointeur en lecture dans liste1</span>
<a name="l00083"></a>00083 <span class="comment"></span>  <span class="keywordtype">int</span> j = 0; <span class="comment">//!&lt; Pointeur en lecture dans liste2</span>
<a name="l00084"></a>00084 <span class="comment"></span>  <span class="keywordtype">int</span> k = 0; <span class="comment">//!&lt; Pointeur en ecriture</span>
<a name="l00085"></a>00085 <span class="comment"></span>  <span class="keywordflow">for</span> (i = 0; i &lt; sz1; i++)
<a name="l00086"></a>00086     {
<a name="l00087"></a>00087 <span class="comment">// On verifie que les listes sont triees dans l&#39;ordre croissant</span>
<a name="l00088"></a>00088       assert((i &gt;= sz1-1) || (liste1[i] &lt; liste1[i+1]));
<a name="l00089"></a>00089       assert((j &gt;= sz2-1) || (liste2[j] &lt; liste2[j+1]));
<a name="l00090"></a>00090       <span class="keyword">const</span> <span class="keywordtype">int</span> valeur_i = liste1[i];
<a name="l00091"></a>00091 <span class="comment">// Avancer dans liste2 jusqu&#39;a trouver ou depasser liste1[i]</span>
<a name="l00092"></a>00092       <span class="keywordflow">while</span> (j &lt; sz2 &amp;&amp; liste2[j] &lt; valeur_i)
<a name="l00093"></a>00093         j++;
<a name="l00094"></a>00094       <span class="keywordflow">if</span> (j == sz2)
<a name="l00095"></a>00095         <span class="keywordflow">break</span>; <span class="comment">//!&lt; Bout de liste, on a fini</span>
<a name="l00096"></a>00096 <span class="comment"></span>      <span class="keywordflow">if</span> (liste2[j] == valeur_i)
<a name="l00097"></a>00097         {
<a name="l00098"></a>00098           liste1[k] = valeur_i;
<a name="l00099"></a>00099           k++; <span class="comment">//!&lt; On garde cette valeur</span>
<a name="l00100"></a>00100 <span class="comment"></span>        }
<a name="l00101"></a>00101     }
<a name="l00102"></a>00102   liste1.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(k);
<a name="l00103"></a>00103 }
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 <span class="comment">//</span>
<a name="l00106"></a>00106 <span class="comment">//</span>
<a name="l00107"></a>00107 <span class="comment">//</span>
<a name="l00108"></a>00108 <span class="comment">//</span>
<a name="l00109"></a>00109 <span class="comment">//</span><span class="comment"></span>
<a name="l00110"></a>00110 <span class="comment">//! Retire de &quot;sorted_array&quot; les elements qui figurent dans &quot;sorted_elements&quot;.&lt;br&gt;Les deux tableaux doivent etre initialement ordonnes dans l&#39;ordre croissant.&lt;br&gt;Exemple:&lt;br&gt;En entree sorted_array=[1,4,9,10,12,18], sorted_elements=[3,5,9,10,18,25]&lt;br&gt;En sortie sorted_array=[1,4,12]</span>
<a name="l00111"></a><a class="code" href="Array__tools_8h.html#a9226d0e9dacc7ea936d9657b316a0214">00111</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="Scatter_8cpp.html#ab0ae6267baccb3a639f4a8ff795edd35" title="Retire de &quot;sorted_array&quot; les elements qui figurent dans &quot;sorted_elements&quot;. Les deux tableaux doiv...">array_retirer_elements</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; sorted_array, <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; sorted_elements_list)
<a name="l00112"></a>00112 {
<a name="l00113"></a>00113   <span class="keywordtype">int</span> i_read;      <span class="comment">//!&lt; Index dans sorted_array (en lecture)</span>
<a name="l00114"></a>00114 <span class="comment"></span>  <span class="keywordtype">int</span> i_write = 0; <span class="comment">//!&lt; Index dans sorted_array (la ou on ecrit)</span>
<a name="l00115"></a>00115 <span class="comment"></span>  <span class="keywordtype">int</span> j = 0;       <span class="comment">//!&lt; Index dans sorted_elements</span>
<a name="l00116"></a>00116 <span class="comment"></span>  <span class="keyword">const</span> <span class="keywordtype">int</span> n = sorted_array.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00117"></a>00117   <span class="keyword">const</span> <span class="keywordtype">int</span> m = sorted_elements_list.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00118"></a>00118   <span class="keywordflow">if</span> (m == 0)
<a name="l00119"></a>00119     <span class="keywordflow">return</span>;
<a name="l00120"></a>00120 
<a name="l00121"></a>00121   <span class="keywordtype">int</span> j_value = sorted_elements_list[j];
<a name="l00122"></a>00122   <span class="keywordflow">for</span> (i_read = 0; i_read &lt; n; i_read++)
<a name="l00123"></a>00123     {
<a name="l00124"></a>00124 <span class="comment">// Tableau trie ?</span>
<a name="l00125"></a>00125       assert(i_read == 0 || sorted_array[i_read] &gt; sorted_array[i_read-1]);
<a name="l00126"></a>00126       <span class="keyword">const</span> <span class="keywordtype">int</span> i_value = sorted_array[i_read];
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 <span class="comment">// On avance dans la liste sorted_elements jusqu&#39;a trouver ou depasser</span>
<a name="l00129"></a>00129 <span class="comment">// l&#39;element i_value</span>
<a name="l00130"></a>00130       <span class="keywordflow">while</span> ((j_value &lt; i_value) &amp;&amp; (j &lt; m))
<a name="l00131"></a>00131         {
<a name="l00132"></a>00132           j++;
<a name="l00133"></a>00133           <span class="keywordflow">if</span> (j == m)
<a name="l00134"></a>00134             <span class="keywordflow">break</span>;
<a name="l00135"></a>00135           assert(sorted_elements_list[j] &gt; j_value); <span class="comment">//!&lt; Tableau trie ?</span>
<a name="l00136"></a>00136 <span class="comment"></span>          j_value = sorted_elements_list[j];
<a name="l00137"></a>00137         }
<a name="l00138"></a>00138 
<a name="l00139"></a>00139       <span class="keywordflow">if</span> (j == m || j_value != i_value)
<a name="l00140"></a>00140         {
<a name="l00141"></a>00141 <span class="comment">// i_value ne figure pas dans le tableau sorted_elements, on le garde</span>
<a name="l00142"></a>00142           sorted_array[i_write] = i_value;
<a name="l00143"></a>00143           i_write++;
<a name="l00144"></a>00144         }
<a name="l00145"></a>00145     }
<a name="l00146"></a>00146   sorted_array.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(i_write);
<a name="l00147"></a>00147 }
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 <span class="comment">//</span>
<a name="l00150"></a>00150 <span class="comment">//</span>
<a name="l00151"></a>00151 <span class="comment">//</span>
<a name="l00152"></a>00152 <span class="comment">//</span>
<a name="l00153"></a>00153 <span class="comment">//</span><span class="comment"></span>
<a name="l00154"></a>00154 <span class="comment">//! cherche la &quot;valeur&quot; dans le tableau tab par recherche binaire&lt;br&gt;Le tableau tab doit etre trie dans l&#39;ordre croissant&lt;br&gt;Si elle n&#39;est pas trouvee, renvoie -1 (y compris si tab est vide),&lt;br&gt;sinon, renvoie un index i tel que tab[i] == valeur&lt;br&gt;(si la valeur figure plusieurs fois dans le tableau, on ne renvoie&lt;br&gt;pas forcement la premiere occurence).</span>
<a name="l00155"></a><a class="code" href="Array__tools_8h.html#acf7c82ee01f8e96267a816f9dd9a2c74">00155</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="Array__tools_8cpp.html#acf7c82ee01f8e96267a816f9dd9a2c74" title="cherche la &quot;valeur&quot; dans le tableau tab par recherche binaire Le tableau tab doit etre trie dans l&#39;...">array_bsearch</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; tab, <span class="keywordtype">int</span> <a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>)
<a name="l00156"></a>00156 {
<a name="l00157"></a>00157 <span class="comment">// attention tout est important !</span>
<a name="l00158"></a>00158   <span class="keywordtype">int</span> i = 0;
<a name="l00159"></a>00159   <span class="keywordtype">int</span> j = tab.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>(); <span class="comment">//!&lt; j = fin de tableau + 1 (important)</span>
<a name="l00160"></a>00160 <span class="comment"></span>  <span class="keywordflow">while</span> (j &gt; i)
<a name="l00161"></a>00161     {
<a name="l00162"></a>00162 <span class="comment">// Le tableau doit etre trie</span>
<a name="l00163"></a>00163       assert(j == tab.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() || tab[i] &lt;= tab[j]);
<a name="l00164"></a>00164       <span class="keyword">const</span> <span class="keywordtype">int</span> milieu = (i + j) / 2;
<a name="l00165"></a>00165       <span class="keyword">const</span> <span class="keywordtype">int</span> val = tab[milieu];
<a name="l00166"></a>00166       <span class="keywordflow">if</span> (val &gt; valeur)
<a name="l00167"></a>00167         j = milieu; <span class="comment">//!&lt; prendre la valeur milieu et pas milieu - 1</span>
<a name="l00168"></a>00168 <span class="comment"></span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (val &lt; valeur)
<a name="l00169"></a>00169         i = milieu + 1; <span class="comment">//!&lt; prendre la valeur milieu + 1 et pas milieu</span>
<a name="l00170"></a>00170 <span class="comment"></span>      <span class="keywordflow">else</span>
<a name="l00171"></a>00171         <span class="keywordflow">return</span> milieu;
<a name="l00172"></a>00172     }
<a name="l00173"></a>00173 <span class="comment">// Si on arrive ici, c&#39;est que i==j, donc</span>
<a name="l00174"></a>00174 <span class="comment">// - soit j == fin de tableau + 1 et on n&#39;a pas trouve la valeur</span>
<a name="l00175"></a>00175 <span class="comment">// - soit tab[j] a ete teste et n&#39;est pas egale a valeur</span>
<a name="l00176"></a>00176 <span class="comment">// Dans les deux cas, valeur n&#39;est pas dans le tableau</span>
<a name="l00177"></a>00177   <span class="keywordflow">return</span> -1;
<a name="l00178"></a>00178 }
<a name="l00179"></a>00179 
<a name="l00180"></a><a class="code" href="Array__tools_8cpp.html#af67bfbc2db32195665d72b77c3967ea6">00180</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="Array__tools_8cpp.html#af67bfbc2db32195665d72b77c3967ea6">fct_qsort_nbcolonnes</a>;
<a name="l00181"></a>00181 
<a name="l00182"></a><a class="code" href="Array__tools_8cpp.html#a08e0b88b572e3a591b53b3c890c760ec">00182</a> <a class="code" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> <a class="code" href="Array__tools_8cpp.html#a08e0b88b572e3a591b53b3c890c760ec">fct_qsort_tableau_2</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr1, <span class="keyword">const</span> <span class="keywordtype">void</span> *ptr2)
<a name="l00183"></a>00183 {
<a name="l00184"></a>00184   <span class="keyword">const</span> <span class="keywordtype">int</span> *t1 = (<span class="keyword">const</span> <span class="keywordtype">int</span> *) ptr1;
<a name="l00185"></a>00185   <span class="keyword">const</span> <span class="keywordtype">int</span> *t2 = (<span class="keyword">const</span> <span class="keywordtype">int</span> *) ptr2;
<a name="l00186"></a>00186   <span class="keywordtype">int</span> delta = t1[0] - t2[0];
<a name="l00187"></a>00187   <span class="keywordtype">int</span> delta2 = t1[1] - t2[1];
<a name="l00188"></a>00188 <span class="preprocessor">#ifdef INT_is_64_</span>
<a name="l00189"></a>00189 <span class="preprocessor"></span>  delta= delta ? delta : delta2;
<a name="l00190"></a>00190   <span class="keywordflow">if</span> (delta==0)
<a name="l00191"></a>00191     <span class="keywordflow">return</span> 0;
<a name="l00192"></a>00192   <span class="keywordflow">if</span> (delta&lt;0)
<a name="l00193"></a>00193     <span class="keywordflow">return</span> -1;
<a name="l00194"></a>00194   <span class="keywordflow">return</span> 1;
<a name="l00195"></a>00195 <span class="preprocessor">#else</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span>  <span class="keywordflow">return</span> delta ? delta : delta2;
<a name="l00197"></a>00197 <span class="preprocessor">#endif</span>
<a name="l00198"></a>00198 <span class="preprocessor"></span>}
<a name="l00199"></a>00199 
<a name="l00200"></a><a class="code" href="Array__tools_8cpp.html#a0a28fc2f3126a1e1efb0053b3d09b226">00200</a> <a class="code" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> <a class="code" href="Array__tools_8cpp.html#a0a28fc2f3126a1e1efb0053b3d09b226">fct_qsort_tableau_n</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr1, <span class="keyword">const</span> <span class="keywordtype">void</span> *ptr2)
<a name="l00201"></a>00201 {
<a name="l00202"></a>00202   <span class="keyword">const</span> <span class="keywordtype">int</span> *t1 = (<span class="keyword">const</span> <span class="keywordtype">int</span> *) ptr1;
<a name="l00203"></a>00203   <span class="keyword">const</span> <span class="keywordtype">int</span> *t2 = (<span class="keyword">const</span> <span class="keywordtype">int</span> *) ptr2;
<a name="l00204"></a>00204   <span class="keyword">const</span> <span class="keywordtype">int</span> n = <a class="code" href="Array__tools_8cpp.html#af67bfbc2db32195665d72b77c3967ea6">fct_qsort_nbcolonnes</a> - 1;
<a name="l00205"></a>00205   <span class="keywordtype">int</span> i;
<a name="l00206"></a>00206   <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)
<a name="l00207"></a>00207     {
<a name="l00208"></a>00208       <span class="keywordtype">int</span> delta = t1[i] - t2[i];
<a name="l00209"></a>00209       <span class="keywordflow">if</span> (delta)
<a name="l00210"></a>00210         {
<a name="l00211"></a>00211 <span class="preprocessor">#ifdef INT_is_64_</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span>          <span class="keywordflow">if</span> (delta&lt;0)
<a name="l00213"></a>00213             <span class="keywordflow">return</span> -1;
<a name="l00214"></a>00214           <span class="keywordflow">return</span> 1;
<a name="l00215"></a>00215 <span class="preprocessor">#else</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span>          <span class="keywordflow">return</span> delta;
<a name="l00217"></a>00217 <span class="preprocessor">#endif</span>
<a name="l00218"></a>00218 <span class="preprocessor"></span>        }
<a name="l00219"></a>00219     }
<a name="l00220"></a>00220 <span class="preprocessor">#ifdef INT_is_64_</span>
<a name="l00221"></a>00221 <span class="preprocessor"></span>  <span class="keywordtype">int</span> delta= t1[i] - t2[i];
<a name="l00222"></a>00222   <span class="keywordflow">if</span> (delta==0)
<a name="l00223"></a>00223     <span class="keywordflow">return</span> 0;
<a name="l00224"></a>00224   <span class="keywordflow">if</span> (delta&lt;0)
<a name="l00225"></a>00225     <span class="keywordflow">return</span> -1;
<a name="l00226"></a>00226   <span class="keywordflow">return</span> 1;
<a name="l00227"></a>00227 <span class="preprocessor">#else</span>
<a name="l00228"></a>00228 <span class="preprocessor"></span>  <span class="keywordflow">return</span> t1[i] - t2[i];
<a name="l00229"></a>00229 <span class="preprocessor">#endif</span>
<a name="l00230"></a>00230 <span class="preprocessor"></span>}
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 <span class="comment">//</span>
<a name="l00233"></a>00233 <span class="comment">//</span>
<a name="l00234"></a>00234 <span class="comment">//</span>
<a name="l00235"></a>00235 <span class="comment">//</span><span class="comment"></span>
<a name="l00236"></a>00236 <span class="comment">//! tri lexicographique du tableau tab (par ordre croissant&lt;br&gt;de la premiere colonne, si premiere colonne identique, ordre croissant&lt;br&gt;de la deuxieme, etc).&lt;br&gt;Le tableau ne doit pas etre un tableau distribue.&lt;br&gt;Valeur de retour: nombre de colonnes du tableau (produit des tab.dimension(i) pour i&gt;0)</span>
<a name="l00237"></a><a class="code" href="Array__tools_8h.html#a4cfd65b3398623b2011557f6f029f8e6">00237</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="Array__tools_8cpp.html#a4cfd65b3398623b2011557f6f029f8e6" title="tri lexicographique du tableau tab (par ordre croissant de la premiere colonne, si premiere colonne i...">tri_lexicographique_tableau</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; tab)
<a name="l00238"></a>00238 {
<a name="l00239"></a>00239 <span class="comment">// On verifie que le tableau n&#39;est pas un tableau distribue:</span>
<a name="l00240"></a>00240   assert(!tab.<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>().<a class="code" href="classMD__Vector.html#a4165c00904b7096274e38fdc7ca340f4">non_nul</a>());
<a name="l00241"></a>00241 
<a name="l00242"></a>00242   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_lignes = tab.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00243"></a>00243   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_colonnes = tab.<a class="code" href="classIntVect.html#a5ba680066169c8e057bb3e3b876e4a8c">line_size</a>();
<a name="l00244"></a>00244 
<a name="l00245"></a>00245   <span class="keywordflow">if</span> (nb_lignes != 0)
<a name="l00246"></a>00246     {
<a name="l00247"></a>00247       <span class="keywordflow">if</span> (nb_colonnes == 1)
<a name="l00248"></a>00248         tab.<a class="code" href="classArrOfInt.html#abb0f48cf5a4be4b70edcc90baaebd521" title="Tri des valeurs du tableau dans l&#39;ordre croissant. La fonction utilisee est qsort de stdlib (elle est...">ordonne_array</a>();
<a name="l00249"></a>00249       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nb_colonnes == 2)
<a name="l00250"></a>00250         qsort(tab.<a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(), nb_lignes, nb_colonnes * <span class="keyword">sizeof</span>(int), <a class="code" href="Array__tools_8cpp.html#a08e0b88b572e3a591b53b3c890c760ec">fct_qsort_tableau_2</a>);
<a name="l00251"></a>00251       <span class="keywordflow">else</span>
<a name="l00252"></a>00252         {
<a name="l00253"></a>00253           <a class="code" href="Array__tools_8cpp.html#af67bfbc2db32195665d72b77c3967ea6">fct_qsort_nbcolonnes</a> = nb_colonnes;
<a name="l00254"></a>00254           qsort(tab.<a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(), nb_lignes, nb_colonnes * <span class="keyword">sizeof</span>(int), <a class="code" href="Array__tools_8cpp.html#a0a28fc2f3126a1e1efb0053b3d09b226">fct_qsort_tableau_n</a>);
<a name="l00255"></a>00255         }
<a name="l00256"></a>00256     }
<a name="l00257"></a>00257 
<a name="l00258"></a>00258   <span class="keywordflow">return</span> nb_colonnes;
<a name="l00259"></a>00259 }
<a name="l00260"></a>00260 
<a name="l00261"></a><a class="code" href="Array__tools_8cpp.html#ab80f7651089b503e8830e780e804e948">00261</a> <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a> *<a class="code" href="Array__tools_8cpp.html#ab80f7651089b503e8830e780e804e948">fct_qsort_tab_ptr</a> = 0;
<a name="l00262"></a>00262 
<a name="l00263"></a><a class="code" href="Array__tools_8cpp.html#a6874e40139a04edd33dde69a7b610bec">00263</a> <a class="code" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> <a class="code" href="Array__tools_8cpp.html#a6874e40139a04edd33dde69a7b610bec">fct_qsort_tableau_1_indirect</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr1, <span class="keyword">const</span> <span class="keywordtype">void</span> *ptr2)
<a name="l00264"></a>00264 {
<a name="l00265"></a>00265   <span class="keyword">const</span> <span class="keywordtype">int</span> t1 = *((<span class="keyword">const</span> <span class="keywordtype">int</span> *) ptr1);
<a name="l00266"></a>00266   <span class="keyword">const</span> <span class="keywordtype">int</span> t2 = *((<span class="keyword">const</span> <span class="keywordtype">int</span> *) ptr2);
<a name="l00267"></a>00267   <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; tab = *<a class="code" href="Array__tools_8cpp.html#ab80f7651089b503e8830e780e804e948">fct_qsort_tab_ptr</a>;
<a name="l00268"></a>00268   <span class="keywordtype">int</span> delta = tab[t1] - tab[t2];
<a name="l00269"></a>00269 <span class="preprocessor">#ifdef INT_is_64_</span>
<a name="l00270"></a>00270 <span class="preprocessor"></span>  <span class="keywordflow">if</span> (delta==0)
<a name="l00271"></a>00271     <span class="keywordflow">return</span> 0;
<a name="l00272"></a>00272   <span class="keywordflow">if</span> (delta&lt;0)
<a name="l00273"></a>00273     <span class="keywordflow">return</span> -1;
<a name="l00274"></a>00274   <span class="keywordflow">return</span> 1;
<a name="l00275"></a>00275 <span class="preprocessor">#else</span>
<a name="l00276"></a>00276 <span class="preprocessor"></span>  <span class="keywordflow">return</span> delta;
<a name="l00277"></a>00277 <span class="preprocessor">#endif</span>
<a name="l00278"></a>00278 <span class="preprocessor"></span>}
<a name="l00279"></a>00279 
<a name="l00280"></a><a class="code" href="Array__tools_8cpp.html#a968cac169ba5ddbcebb8d20da67cdee4">00280</a> <a class="code" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> <a class="code" href="Array__tools_8cpp.html#a968cac169ba5ddbcebb8d20da67cdee4">fct_qsort_tableau_2_indirect</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr1, <span class="keyword">const</span> <span class="keywordtype">void</span> *ptr2)
<a name="l00281"></a>00281 {
<a name="l00282"></a>00282   <span class="keyword">const</span> <span class="keywordtype">int</span> t1 = *((<span class="keyword">const</span> <span class="keywordtype">int</span> *) ptr1) * 2;
<a name="l00283"></a>00283   <span class="keyword">const</span> <span class="keywordtype">int</span> t2 = *((<span class="keyword">const</span> <span class="keywordtype">int</span> *) ptr2) * 2;
<a name="l00284"></a>00284   <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; tab = *<a class="code" href="Array__tools_8cpp.html#ab80f7651089b503e8830e780e804e948">fct_qsort_tab_ptr</a>;
<a name="l00285"></a>00285   <span class="keywordtype">int</span> delta = tab[t1] - tab[t2];
<a name="l00286"></a>00286   <span class="keywordtype">int</span> delta2 = tab[t1+1] - tab[t2+1];
<a name="l00287"></a>00287 <span class="preprocessor">#ifdef INT_is_64_</span>
<a name="l00288"></a>00288 <span class="preprocessor"></span>  delta= delta ? delta : delta2;
<a name="l00289"></a>00289   <span class="keywordflow">if</span> (delta==0)
<a name="l00290"></a>00290     <span class="keywordflow">return</span> 0;
<a name="l00291"></a>00291   <span class="keywordflow">if</span> (delta&lt;0)
<a name="l00292"></a>00292     <span class="keywordflow">return</span> -1;
<a name="l00293"></a>00293   <span class="keywordflow">return</span> 1;
<a name="l00294"></a>00294 <span class="preprocessor">#else</span>
<a name="l00295"></a>00295 <span class="preprocessor"></span>  <span class="keywordflow">return</span> delta ? delta : delta2;
<a name="l00296"></a>00296 <span class="preprocessor">#endif</span>
<a name="l00297"></a>00297 <span class="preprocessor"></span>
<a name="l00298"></a>00298 }
<a name="l00299"></a>00299 
<a name="l00300"></a><a class="code" href="Array__tools_8cpp.html#aadf5cfbe9b9dd86af212343474875076">00300</a> <a class="code" href="arch_8h.html#a1caaf369d9c5f0817dbaa76b43b8d87b">True_int</a> <a class="code" href="Array__tools_8cpp.html#aadf5cfbe9b9dd86af212343474875076">fct_qsort_tableau_n_indirect</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr1, <span class="keyword">const</span> <span class="keywordtype">void</span> *ptr2)
<a name="l00301"></a>00301 {
<a name="l00302"></a>00302   <span class="keyword">const</span> <span class="keywordtype">int</span> nc = <a class="code" href="Array__tools_8cpp.html#af67bfbc2db32195665d72b77c3967ea6">fct_qsort_nbcolonnes</a>;
<a name="l00303"></a>00303   <span class="keywordtype">int</span> t1 = *((<span class="keyword">const</span> <span class="keywordtype">int</span> *) ptr1) * nc;
<a name="l00304"></a>00304   <span class="keywordtype">int</span> t2 = *((<span class="keyword">const</span> <span class="keywordtype">int</span> *) ptr2) * nc;
<a name="l00305"></a>00305   <span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; tab = *<a class="code" href="Array__tools_8cpp.html#ab80f7651089b503e8830e780e804e948">fct_qsort_tab_ptr</a>;
<a name="l00306"></a>00306   <span class="keyword">const</span> <span class="keywordtype">int</span> n = nc - 1;
<a name="l00307"></a>00307   <span class="keywordtype">int</span> i;
<a name="l00308"></a>00308   <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)
<a name="l00309"></a>00309     {
<a name="l00310"></a>00310       <span class="keywordtype">int</span> delta = tab[t1++] - tab[t2++];
<a name="l00311"></a>00311       <span class="keywordflow">if</span> (delta)
<a name="l00312"></a>00312         {
<a name="l00313"></a>00313 <span class="preprocessor">#ifdef INT_is_64_</span>
<a name="l00314"></a>00314 <span class="preprocessor"></span>          <span class="keywordflow">if</span> (delta&lt;0)
<a name="l00315"></a>00315             <span class="keywordflow">return</span> -1;
<a name="l00316"></a>00316           <span class="keywordflow">return</span> 1;
<a name="l00317"></a>00317 <span class="preprocessor">#else</span>
<a name="l00318"></a>00318 <span class="preprocessor"></span>          <span class="keywordflow">return</span> delta;
<a name="l00319"></a>00319 <span class="preprocessor">#endif</span>
<a name="l00320"></a>00320 <span class="preprocessor"></span>        }
<a name="l00321"></a>00321     }
<a name="l00322"></a>00322 <span class="preprocessor">#ifdef INT_is_64_</span>
<a name="l00323"></a>00323 <span class="preprocessor"></span>  <span class="keywordtype">int</span> delta=tab[t1] - tab[t2];
<a name="l00324"></a>00324   <span class="keywordflow">if</span> (delta==0)
<a name="l00325"></a>00325     <span class="keywordflow">return</span> 0;
<a name="l00326"></a>00326   <span class="keywordflow">if</span> (delta&lt;0)
<a name="l00327"></a>00327     <span class="keywordflow">return</span> -1;
<a name="l00328"></a>00328   <span class="keywordflow">return</span> 1;
<a name="l00329"></a>00329 <span class="preprocessor">#else</span>
<a name="l00330"></a>00330 <span class="preprocessor"></span>  <span class="keywordflow">return</span> tab[t1] - tab[t2];
<a name="l00331"></a>00331 <span class="preprocessor">#endif</span>
<a name="l00332"></a>00332 <span class="preprocessor"></span>
<a name="l00333"></a>00333 }
<a name="l00334"></a>00334 
<a name="l00335"></a>00335 <span class="comment">//</span>
<a name="l00336"></a>00336 <span class="comment">//</span>
<a name="l00337"></a>00337 <span class="comment">//</span>
<a name="l00338"></a>00338 <span class="comment">//</span>
<a name="l00339"></a>00339 <span class="comment">//</span>
<a name="l00340"></a>00340 <span class="comment">//</span><span class="comment"></span>
<a name="l00341"></a>00341 <span class="comment">//! Idem que tri_lexicographique_tableau mais on trie le tableau index qui&lt;br&gt;contient les indices de lignes du tableau tab tel que tab(index[i], *) soit&lt;br&gt;croissant quant i augmente. Tri de tous les indices de index...&lt;br&gt;Si le tableau index est de taille nulle, on en cree un de taille tab.dimension_tot(0)&lt;br&gt;Sinon on suppose qu&#39;il contient deja des indices de lignes dans tab.&lt;br&gt;Valeur de retour: nombre de colonnes du tableau (produit des tab.dimension(i) pour i&gt;0)</span>
<a name="l00342"></a><a class="code" href="Array__tools_8h.html#ad62171ccb6e8fd4b2be47d286c164999">00342</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="Array__tools_8cpp.html#ad62171ccb6e8fd4b2be47d286c164999" title="Idem que tri_lexicographique_tableau mais on trie le tableau index qui contient les indices de lignes...">tri_lexicographique_tableau_indirect</a>(<span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; tab, <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; index)
<a name="l00343"></a>00343 {
<a name="l00344"></a>00344 <span class="comment">// On verifie que le tableau n&#39;est pas un tableau distribue:</span>
<a name="l00345"></a>00345   assert(!tab.<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>().<a class="code" href="classMD__Vector.html#a4165c00904b7096274e38fdc7ca340f4">non_nul</a>());
<a name="l00346"></a>00346 
<a name="l00347"></a>00347   <span class="keyword">const</span> <span class="keywordtype">int</span> dimtab = tab.<a class="code" href="classIntTab.html#a71e9b9ddc1793094b1b3f109377952b1" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0);
<a name="l00348"></a>00348   <span class="keywordflow">if</span> (index.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() == 0 &amp;&amp; dimtab &gt; 0)
<a name="l00349"></a>00349     {
<a name="l00350"></a>00350       index.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(dimtab, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l00351"></a>00351       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; dimtab; i++)
<a name="l00352"></a>00352         index[i] = i;
<a name="l00353"></a>00353     }
<a name="l00354"></a>00354 
<a name="l00355"></a>00355   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_lignes = index.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00356"></a>00356   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_colonnes = tab.<a class="code" href="classIntVect.html#a5ba680066169c8e057bb3e3b876e4a8c">line_size</a>();
<a name="l00357"></a>00357 
<a name="l00358"></a>00358   <span class="keywordflow">if</span> (nb_lignes != 0)
<a name="l00359"></a>00359     {
<a name="l00360"></a>00360       <span class="keywordflow">if</span> (fct_qsort_tab_ptr)
<a name="l00361"></a>00361         {
<a name="l00362"></a>00362           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Internal error in tri_lexicographique_tableau_indirect !&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00363"></a>00363           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00364"></a>00364 <span class="comment">// Aie ! on essaye de faire du multithread ??? acces concurrent au pointeur</span>
<a name="l00365"></a>00365         }
<a name="l00366"></a>00366       fct_qsort_tab_ptr = &amp;tab;
<a name="l00367"></a>00367       <span class="keywordflow">if</span> (nb_colonnes == 1)
<a name="l00368"></a>00368         qsort(index.<a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(), index.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>(), <span class="keyword">sizeof</span>(int), <a class="code" href="Array__tools_8cpp.html#a6874e40139a04edd33dde69a7b610bec">fct_qsort_tableau_1_indirect</a>);
<a name="l00369"></a>00369       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nb_colonnes == 2)
<a name="l00370"></a>00370         qsort(index.<a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(), index.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>(), <span class="keyword">sizeof</span>(int), <a class="code" href="Array__tools_8cpp.html#a968cac169ba5ddbcebb8d20da67cdee4">fct_qsort_tableau_2_indirect</a>);
<a name="l00371"></a>00371       <span class="keywordflow">else</span>
<a name="l00372"></a>00372         {
<a name="l00373"></a>00373           <a class="code" href="Array__tools_8cpp.html#af67bfbc2db32195665d72b77c3967ea6">fct_qsort_nbcolonnes</a> = nb_colonnes;
<a name="l00374"></a>00374           qsort(index.<a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>(), index.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>(), <span class="keyword">sizeof</span>(int), <a class="code" href="Array__tools_8cpp.html#aadf5cfbe9b9dd86af212343474875076">fct_qsort_tableau_n_indirect</a>);
<a name="l00375"></a>00375         }
<a name="l00376"></a>00376       fct_qsort_tab_ptr = 0;
<a name="l00377"></a>00377     }
<a name="l00378"></a>00378 
<a name="l00379"></a>00379   <span class="keywordflow">return</span> nb_colonnes;
<a name="l00380"></a>00380 }
<a name="l00381"></a>00381 
<a name="l00382"></a><a class="code" href="Array__tools_8cpp.html#aa9f63ddbdacb389d6cd42b822be6dfbd">00382</a> <span class="keywordtype">void</span> <a class="code" href="Array__tools_8cpp.html#aa9f63ddbdacb389d6cd42b822be6dfbd">resize_tab_lines</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; tab, <span class="keyword">const</span> <span class="keywordtype">int</span> n)
<a name="l00383"></a>00383 {
<a name="l00384"></a>00384   tab.<a class="code" href="classIntTab.html#a425c14e929dedb4760f303ff42a20ee2" title="change la dimension[0] du tableau en conservant les autres.">resize_dim0</a>(n);
<a name="l00385"></a>00385 }
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 <span class="comment">//</span><span class="comment"></span>
<a name="l00388"></a>00388 <span class="comment">//! Trie le tableau tab dans l&#39;ordre lexicographique&lt;br&gt;et retire les doublons (attention [1,2] n&#39;est pas egal a [2,1])</span>
<a name="l00389"></a><a class="code" href="Array__tools_8h.html#a07eed4c823b0632bdbf353fdab2a3c6b">00389</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="Array__tools_8cpp.html#a07eed4c823b0632bdbf353fdab2a3c6b" title="Trie le tableau tab dans l&#39;ordre lexicographique et retire les doublons (attention [1...">tableau_trier_retirer_doublons</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; tab)
<a name="l00390"></a>00390 {
<a name="l00391"></a>00391   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_lignes = tab.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00392"></a>00392   <span class="keywordflow">if</span> (nb_lignes == 0)
<a name="l00393"></a>00393     <span class="keywordflow">return</span>;
<a name="l00394"></a>00394 
<a name="l00395"></a>00395   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_colonnes = <a class="code" href="Array__tools_8cpp.html#a4cfd65b3398623b2011557f6f029f8e6" title="tri lexicographique du tableau tab (par ordre croissant de la premiere colonne, si premiere colonne i...">tri_lexicographique_tableau</a>(tab);
<a name="l00396"></a>00396 
<a name="l00397"></a>00397 <span class="comment">// Retire les doublons</span>
<a name="l00398"></a>00398   <span class="keywordflow">if</span> (nb_colonnes == 1)
<a name="l00399"></a>00399     {
<a name="l00400"></a>00400       <span class="keyword">const</span> <span class="keywordtype">int</span> new_size = <a class="code" href="Array__tools_8cpp.html#a16494af4ad15ba2b7d71a3706e14ff4f" title="retire les doublons du tableau array (suppose que le tableau est trie dans l&#39;ordre croissant) On depl...">array_retirer_doublons</a>(tab);
<a name="l00401"></a>00401       <a class="code" href="Array__tools_8cpp.html#aa9f63ddbdacb389d6cd42b822be6dfbd">resize_tab_lines</a>(tab, new_size);
<a name="l00402"></a>00402     }
<a name="l00403"></a>00403   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nb_colonnes == 2)
<a name="l00404"></a>00404     {
<a name="l00405"></a>00405       <span class="keywordtype">int</span> j = 1; <span class="comment">//!&lt; Taille du tableau apres suppression</span>
<a name="l00406"></a>00406 <span class="comment"></span>      <span class="keywordtype">int</span> last_x = tab(0, 0);
<a name="l00407"></a>00407       <span class="keywordtype">int</span> last_y = tab(0, 1);
<a name="l00408"></a>00408       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; nb_lignes; i++)
<a name="l00409"></a>00409         {
<a name="l00410"></a>00410           <span class="keyword">const</span> <span class="keywordtype">int</span> x = tab(i, 0);
<a name="l00411"></a>00411           <span class="keyword">const</span> <span class="keywordtype">int</span> y = tab(i, 1);
<a name="l00412"></a>00412           <span class="keywordflow">if</span> (x != last_x || y != last_y)
<a name="l00413"></a>00413             {
<a name="l00414"></a>00414               tab(j, 0) = last_x = x;
<a name="l00415"></a>00415               tab(j, 1) = last_y = y;
<a name="l00416"></a>00416               j++;
<a name="l00417"></a>00417             }
<a name="l00418"></a>00418         }
<a name="l00419"></a>00419       <a class="code" href="Array__tools_8cpp.html#aa9f63ddbdacb389d6cd42b822be6dfbd">resize_tab_lines</a>(tab, j);
<a name="l00420"></a>00420     }
<a name="l00421"></a>00421   <span class="keywordflow">else</span>
<a name="l00422"></a>00422     {
<a name="l00423"></a>00423       <span class="keywordtype">int</span> j = 0; <span class="comment">//!&lt; Derniere ligne retenue</span>
<a name="l00424"></a>00424 <span class="comment"></span>      <a class="code" href="Array__tools_8cpp.html#af67bfbc2db32195665d72b77c3967ea6">fct_qsort_nbcolonnes</a> = nb_colonnes;
<a name="l00425"></a>00425       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; nb_lignes; i++)
<a name="l00426"></a>00426         {
<a name="l00427"></a>00427 <span class="comment">// Si la ligne i est differente de la ligne j, on la conserve:</span>
<a name="l00428"></a>00428           <span class="keywordflow">if</span> (!<a class="code" href="Array__tools_8cpp.html#a0a28fc2f3126a1e1efb0053b3d09b226">fct_qsort_tableau_n</a>(&amp;tab(i, 0), &amp;tab(j, 0)))
<a name="l00429"></a>00429             {
<a name="l00430"></a>00430               j++;
<a name="l00431"></a>00431               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; nb_colonnes; k++)
<a name="l00432"></a>00432                 tab(j, k) = tab(i, k);
<a name="l00433"></a>00433             }
<a name="l00434"></a>00434         }
<a name="l00435"></a>00435       <a class="code" href="Array__tools_8cpp.html#aa9f63ddbdacb389d6cd42b822be6dfbd">resize_tab_lines</a>(tab, j+1);
<a name="l00436"></a>00436     }
<a name="l00437"></a>00437 }
<a name="l00438"></a>00438 
<a name="l00439"></a><a class="code" href="Array__tools_8cpp.html#ac46e3c4369dd60577776bb46ec92e5a5">00439</a> <span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="Array__tools_8cpp.html#ac46e3c4369dd60577776bb46ec92e5a5">same_line</a>(<span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; v, <span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j)
<a name="l00440"></a>00440 {
<a name="l00441"></a>00441   <span class="keyword">const</span> <span class="keywordtype">int</span> ls = v.<a class="code" href="classIntVect.html#a5ba680066169c8e057bb3e3b876e4a8c">line_size</a>();
<a name="l00442"></a>00442   <span class="keywordtype">int</span> k;
<a name="l00443"></a>00443   <span class="keywordflow">for</span> (k = 0; k &lt; ls; k++)
<a name="l00444"></a>00444     <span class="keywordflow">if</span> (v[i*ls+k] != v[j*ls+k])
<a name="l00445"></a>00445       <span class="keywordflow">break</span>;
<a name="l00446"></a>00446   <span class="keywordflow">return</span> k == ls;
<a name="l00447"></a>00447 }
<a name="l00448"></a>00448 
<a name="l00449"></a>00449 <span class="comment">//</span>
<a name="l00450"></a>00450 <span class="comment">//</span>
<a name="l00451"></a>00451 <span class="comment">//</span>
<a name="l00452"></a>00452 <span class="comment">//</span>
<a name="l00453"></a>00453 <span class="comment">//</span>
<a name="l00454"></a>00454 <span class="comment">//</span><span class="comment"></span>
<a name="l00455"></a>00455 <span class="comment">//! cherche par un tri lexicographique les lignes identiques de &quot;tab&quot;&lt;br&gt;et initialise les tailles et contenus de renum et renum_inverse.&lt;br&gt;renum est de taille tab.dimension_tot(0).&lt;br&gt;renum[i] contiendra l&#39;indice de la ligne i dans le tableau reduit trie (contenant les lignes uniques)&lt;br&gt;renum_inverse contient, pour chaque ligne du tableau reduit trie, le plus petit indice de la ligne&lt;br&gt;correspondante dans tab.&lt;br&gt;on peut construire le tableau reduit trie en extayant les lignes tab( renum_inverse[i], ...)</span>
<a name="l00456"></a><a class="code" href="Array__tools_8h.html#a7ca1b9503f59feeb9bf86193481599a3">00456</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="Array__tools_8cpp.html#adba59ffed2ffdd0bfbb9f71307e81533" title="cherche par un tri lexicographique les lignes identiques de &quot;tab&quot; et initialise les tailles et cont...">calculer_renum_sans_doublons</a>(<span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; tab, <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; renum, <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; renum_inverse)
<a name="l00457"></a>00457 {
<a name="l00458"></a>00458 <span class="comment">// MODIF ELI LAUCOIN 31/01/2012 :</span>
<a name="l00459"></a>00459 <span class="comment">// Je re-ecris completement cette fonction</span>
<a name="l00460"></a>00460 
<a name="l00461"></a>00461 <span class="comment">// index permet de parcourir le tableau tab dans l&#39;ordre</span>
<a name="l00462"></a>00462   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> index;
<a name="l00463"></a>00463   <a class="code" href="Array__tools_8cpp.html#ad62171ccb6e8fd4b2be47d286c164999" title="Idem que tri_lexicographique_tableau mais on trie le tableau index qui contient les indices de lignes...">tri_lexicographique_tableau_indirect</a>(tab, index);
<a name="l00464"></a>00464   <span class="keyword">const</span> <span class="keywordtype">int</span> n = index.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00465"></a>00465 
<a name="l00466"></a>00466 <span class="comment">// on redimensionne renum et renum_index</span>
<a name="l00467"></a>00467   renum.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(n, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l00468"></a>00468   renum_inverse.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(n, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l00469"></a>00469 
<a name="l00470"></a>00470   <span class="keywordtype">int</span> count  = -1; <span class="comment">//!&lt; compteur de lignes dans le tableau reduit</span>
<a name="l00471"></a>00471 <span class="comment"></span>  <span class="keywordtype">int</span> latest = -1; <span class="comment">//!&lt; indice dans le tableau initial de la derniere ligne ajoutee dans le tableau reduit</span>
<a name="l00472"></a>00472 <span class="comment"></span>
<a name="l00473"></a>00473   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; ++i)
<a name="l00474"></a>00474     {
<a name="l00475"></a>00475 <span class="comment">// on parcourt tab dans l&#39;ordre croissant donne par index.</span>
<a name="l00476"></a>00476 <span class="comment">// si la ligne courante est differente de la derniere ligne ajoutee dans le tableau reduit,</span>
<a name="l00477"></a>00477 <span class="comment">// on incremente count et on met a jour latest.</span>
<a name="l00478"></a>00478       <span class="keywordflow">if</span> ( ( latest &lt; 0 ) || ( !(<a class="code" href="Array__tools_8cpp.html#ac46e3c4369dd60577776bb46ec92e5a5">same_line</a>(tab,index[i],index[latest]))) )
<a name="l00479"></a>00479         {
<a name="l00480"></a>00480           ++count;
<a name="l00481"></a>00481           latest=i;
<a name="l00482"></a>00482         }
<a name="l00483"></a>00483 
<a name="l00484"></a>00484 <span class="comment">// on indique dans renum ou se trouve la ligne courante dans le tableau reduit</span>
<a name="l00485"></a>00485       renum[index[i]]      = count;
<a name="l00486"></a>00486 
<a name="l00487"></a>00487 <span class="comment">// on ajoute la derniere ligne traitee au tableau reduit</span>
<a name="l00488"></a>00488       renum_inverse[count] = index[latest];
<a name="l00489"></a>00489     }
<a name="l00490"></a>00490 
<a name="l00491"></a>00491 <span class="comment">// on redimensionne renum_inverse a la taille du tableau reduit</span>
<a name="l00492"></a>00492   renum_inverse.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1); <span class="comment">//!&lt; pas de reallocation</span>
<a name="l00493"></a>00493 <span class="comment"></span>  renum_inverse.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(count+1);
<a name="l00494"></a>00494 <span class="comment">// FIN MODIF ELI LAUCOIN 31/01/2012</span>
<a name="l00495"></a>00495 }
<a name="l00496"></a>00496 
<a name="l00497"></a><a class="code" href="Array__tools_8h.html#a24b43154c7492080b4428e25a399936e">00497</a> <span class="keywordtype">void</span> <a class="code" href="Array__tools_8cpp.html#abbdfa89ba7360293358c11a20276d23d" title="Set the smart_resize flag, preallocates memory for the given size, and resize to zero.">array_smart_allocate</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; array, <span class="keyword">const</span> <span class="keywordtype">int</span> n)
<a name="l00498"></a>00498 {
<a name="l00499"></a>00499   array.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
<a name="l00500"></a>00500 <span class="comment">// get memory for the requested size</span>
<a name="l00501"></a>00501   array.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(n, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l00502"></a>00502 <span class="comment">// and set actual size to zero</span>
<a name="l00503"></a>00503   array.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(0);
<a name="l00504"></a>00504 }
<a name="l00505"></a>00505 
<a name="l00506"></a><a class="code" href="Array__tools_8h.html#a70fd153e6a966bb5fdf0a6a763ebf00a">00506</a> <span class="keywordtype">void</span> <a class="code" href="Array__tools_8cpp.html#abbdfa89ba7360293358c11a20276d23d" title="Set the smart_resize flag, preallocates memory for the given size, and resize to zero.">array_smart_allocate</a>(<a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a>&amp; array, <span class="keyword">const</span> <span class="keywordtype">int</span> n)
<a name="l00507"></a>00507 {
<a name="l00508"></a>00508   array.<a class="code" href="classArrOfDouble.html#ab49f6cae96be9d3f597468d8a53b67b6" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
<a name="l00509"></a>00509 <span class="comment">// get memory for the requested size</span>
<a name="l00510"></a>00510   array.<a class="code" href="classArrOfDouble.html#a610464f4b3dccac6f814915b526783ed">resize_array</a>(n, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l00511"></a>00511 <span class="comment">// and set actual size to zero</span>
<a name="l00512"></a>00512   array.<a class="code" href="classArrOfDouble.html#a610464f4b3dccac6f814915b526783ed">resize_array</a>(0);
<a name="l00513"></a>00513 }
<a name="l00514"></a>00514 
<a name="l00515"></a><a class="code" href="Array__tools_8h.html#a1a87846e44fce7037c7d036d5b015bf8">00515</a> <span class="keywordtype">void</span> <a class="code" href="Array__tools_8cpp.html#a1a87846e44fce7037c7d036d5b015bf8" title="Increase size of &quot;dest&quot; array and copy &quot;src&quot; at the end of &quot;dest&quot;.">append_array_to_array</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; dest, <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; src)
<a name="l00516"></a>00516 {
<a name="l00517"></a>00517   <span class="keyword">const</span> <span class="keywordtype">int</span> n1 = dest.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00518"></a>00518   <span class="keyword">const</span> <span class="keywordtype">int</span> n2 = src.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00519"></a>00519   dest.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(n1+n2);
<a name="l00520"></a>00520   dest.<a class="code" href="classArrOfInt.html#a195c644d98bf2da2fe4f8aede4e02262" title="Copie les elements source[first_element_source + i] dans les elements (*this)[first_element_dest + i]...">inject_array</a>(src, n2 <span class="comment">/* nb elem */</span>, n1 <span class="comment">/* dest index */</span>, 0 <span class="comment">/* src index */</span>);
<a name="l00521"></a>00521 }
<a name="l00522"></a>00522 
<a name="l00523"></a><a class="code" href="Array__tools_8h.html#a9b07222e353ee8a80390fb01ce172a39">00523</a> <span class="keywordtype">void</span> <a class="code" href="Array__tools_8cpp.html#a1a87846e44fce7037c7d036d5b015bf8" title="Increase size of &quot;dest&quot; array and copy &quot;src&quot; at the end of &quot;dest&quot;.">append_array_to_array</a>(<a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a>&amp; dest, <span class="keyword">const</span> <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a>&amp; src)
<a name="l00524"></a>00524 {
<a name="l00525"></a>00525   <span class="keyword">const</span> <span class="keywordtype">int</span> n1 = dest.<a class="code" href="classArrOfDouble.html#a3c3b33bea0e88b87315c21ee94bee05f" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00526"></a>00526   <span class="keyword">const</span> <span class="keywordtype">int</span> n2 = src.<a class="code" href="classArrOfDouble.html#a3c3b33bea0e88b87315c21ee94bee05f" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00527"></a>00527   dest.<a class="code" href="classArrOfDouble.html#a610464f4b3dccac6f814915b526783ed">resize_array</a>(n1+n2);
<a name="l00528"></a>00528   dest.<a class="code" href="classArrOfDouble.html#a2fcb2a2d3b59425c6cb37526ea6af6a3" title="Copie les elements source[first_element_source + i] dans les elements (*this)[first_element_dest + i]...">inject_array</a>(src, n2 <span class="comment">/* nb elem */</span>, n1 <span class="comment">/* dest index */</span>, 0 <span class="comment">/* src index */</span>);
<a name="l00529"></a>00529 }
<a name="l00530"></a>00530 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:21 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
