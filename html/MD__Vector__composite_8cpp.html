<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Math/MD_Vector_composite.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">src/Kernel/Math/MD_Vector_composite.cpp File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="MD__Vector__composite_8h_source.html">MD_Vector_composite.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Array__tools_8h_source.html">Array_tools.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Param_8h_source.html">Param.h</a>&gt;</code><br/>
</div>
<p><a href="MD__Vector__composite_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MD__Vector__composite_8cpp.html#acbdccbb8ee4ac3835a1f8738e3680f40">append_items</a> (<a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;dest, const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;src, int offset=0, int multiplier=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MD__Vector__composite_8cpp.html#a8cd201daaf90b592db8baa421be9e205">append_blocs</a> (<a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;dest, const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;src, int offset=0, int multiplier=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MD__Vector__composite_8cpp.html#a73491edb66b362194723171e52f1c71a">find_in_array</a> (const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;a, int x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns i such that a[i]==x, or -1 if x is not found  <a href="#a73491edb66b362194723171e52f1c71a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MD__Vector__composite_8cpp.html#a05d172002feef212a242c060bbdf3831">append_global_md</a> (<a class="el" href="classMD__Vector__std.html">MD_Vector_std</a> &amp;dest, const <a class="el" href="classMD__Vector__std.html">MD_Vector_std</a> &amp;src, int offset, int multiplier)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MD__Vector__composite_8cpp.html#a0354881430c19d370b7ed248f35a8522">MD_Vector_compositebases</a> [1] = { &amp;( <a class="el" href="classMD__Vector__base2.html">MD_Vector_base2</a> ::info_obj)}</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a8cd201daaf90b592db8baa421be9e205"></a><!-- doxytag: member="MD_Vector_composite.cpp::append_blocs" ref="a8cd201daaf90b592db8baa421be9e205" args="(ArrOfInt &amp;dest, const ArrOfInt &amp;src, int offset=0, int multiplier=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void append_blocs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>multiplier</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="MD__Vector__composite_8cpp_source.html#l00115">115</a> of file <a class="el" href="MD__Vector__composite_8cpp_source.html">MD_Vector_composite.cpp</a>.</p>

<p>References <a class="el" href="ArrOfInt_8h_source.html#l00240">ArrOfInt::resize_array()</a>, and <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__composite_8cpp_source.html#l00307">MD_Vector_composite::add_part()</a>, and <a class="el" href="MD__Vector__composite_8cpp_source.html#l00136">append_global_md()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> i = dest.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  <span class="keyword">const</span> <span class="keywordtype">int</span> n = src.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  dest.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(i + n);
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; n; j++, i++)
    dest[i] = offset + src[j] * multiplier;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a05d172002feef212a242c060bbdf3831"></a><!-- doxytag: member="MD_Vector_composite.cpp::append_global_md" ref="a05d172002feef212a242c060bbdf3831" args="(MD_Vector_std &amp;dest, const MD_Vector_std &amp;src, int offset, int multiplier)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void append_global_md </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMD__Vector__std.html">MD_Vector_std</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classMD__Vector__std.html">MD_Vector_std</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>multiplier</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="MD__Vector__composite_8cpp_source.html#l00136">136</a> of file <a class="el" href="MD__Vector__composite_8cpp_source.html">MD_Vector_composite.cpp</a>.</p>

<p>References <a class="el" href="ArrOfInt_8h_source.html#l00355">ArrOfInt::append_array()</a>, <a class="el" href="MD__Vector__composite_8cpp_source.html#l00115">append_blocs()</a>, <a class="el" href="MD__Vector__composite_8cpp_source.html#l00102">append_items()</a>, <a class="el" href="Scatter_8cpp_source.html#l00778">array_trier_retirer_doublons()</a>, <a class="el" href="MD__Vector__std_8h_source.html#l00079">MD_Vector_std::blocs_items_count_</a>, <a class="el" href="MD__Vector__std_8h_source.html#l00076">MD_Vector_std::blocs_to_recv_</a>, <a class="el" href="Static__Int__Lists_8cpp_source.html#l00109">Static_Int_Lists::copy_list_to_array()</a>, <a class="el" href="MD__Vector__composite_8cpp_source.html#l00125">find_in_array()</a>, <a class="el" href="Static__Int__Lists_8h_source.html#l00106">Static_Int_Lists::get_list_size()</a>, <a class="el" href="MD__Vector__std_8h_source.html#l00071">MD_Vector_std::items_to_recv_</a>, <a class="el" href="MD__Vector__std_8h_source.html#l00065">MD_Vector_std::items_to_send_</a>, <a class="el" href="MD__Vector__std_8h_source.html#l00068">MD_Vector_std::nb_items_to_items_</a>, <a class="el" href="MD__Vector__std_8h_source.html#l00060">MD_Vector_std::pe_voisins_</a>, <a class="el" href="ArrOfInt_8h_source.html#l00240">ArrOfInt::resize_array()</a>, <a class="el" href="Static__Int__Lists_8cpp_source.html#l00057">Static_Int_Lists::set_data()</a>, <a class="el" href="Static__Int__Lists_8cpp_source.html#l00036">Static_Int_Lists::set_list_sizes()</a>, <a class="el" href="ArrOfInt_8cpp_source.html#l00443">ArrOfInt::set_smart_resize()</a>, and <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__composite_8cpp_source.html#l00307">MD_Vector_composite::add_part()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">// List sizes for items_to_send_, items_to_recv_ and blocs_to_recv_ of new descriptor</span>
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> x_sz, y_sz, z_sz;
<span class="comment">// Data of these lists:</span>
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> x_data, y_data, z_data;
  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> new_blocs_items_count, new_nb_items_to_items;
  x_sz.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  y_sz.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  z_sz.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  x_data.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  y_data.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  z_data.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  new_blocs_items_count.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  new_nb_items_to_items.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);

  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> tmp;
  tmp.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);

  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> pe_list(dest.<a class="code" href="classMD__Vector__std.html#a68854e710075fdc8c2f2ce28fbbb9ecc">pe_voisins_</a>);
  pe_list.set_smart_resize(1);
  <a class="code" href="MD__Vector__composite_8cpp.html#a8cd201daaf90b592db8baa421be9e205">append_blocs</a>(pe_list, src.<a class="code" href="classMD__Vector__std.html#a68854e710075fdc8c2f2ce28fbbb9ecc">pe_voisins_</a>);
  <a class="code" href="Scatter_8cpp.html#a23c4d19dc90caae2323f04de90621709" title="Methode outil pour retirer les doublons dans un tableau.">array_trier_retirer_doublons</a>(pe_list);
  <span class="keyword">const</span> <span class="keywordtype">int</span> np = pe_list.size_array();

  new_blocs_items_count.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(np);
  new_nb_items_to_items.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(np);

  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; np; i++)
    {
<span class="comment">// Number of items to recv, send and blocs to recv for this processor:</span>
      <span class="keywordtype">int</span> nx = 0, ny = 0, nz = 0;
      <span class="keywordtype">int</span> blocs_count = 0;
<span class="comment">// Is processor pe_list[i] in initial &quot;dest&quot; descriptor ?</span>
      <span class="keywordtype">int</span> j;

      <span class="keywordflow">for</span> (j = dest.<a class="code" href="classMD__Vector__std.html#a68854e710075fdc8c2f2ce28fbbb9ecc">pe_voisins_</a>.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>()-1; j &gt;= 0; j--)
        <span class="keywordflow">if</span> (dest.<a class="code" href="classMD__Vector__std.html#a68854e710075fdc8c2f2ce28fbbb9ecc">pe_voisins_</a>[j] == pe_list[i])
          <span class="keywordflow">break</span>;
      <span class="keyword">const</span> <span class="keywordtype">int</span> pe = pe_list[i];

<span class="comment">// Insert items to send and items to recv from dest</span>
      j = <a class="code" href="MD__Vector__composite_8cpp.html#a73491edb66b362194723171e52f1c71a" title="returns i such that a[i]==x, or -1 if x is not found">find_in_array</a>(dest.<a class="code" href="classMD__Vector__std.html#a68854e710075fdc8c2f2ce28fbbb9ecc">pe_voisins_</a>, pe);
      <span class="keywordflow">if</span> (j &gt;= 0)
        {
          <span class="keyword">const</span> <span class="keywordtype">int</span> count_items_single = dest.<a class="code" href="classMD__Vector__std.html#afd0c291718e3bc9846c8a06420efeb69">nb_items_to_items_</a>[j];
          nx += count_items_single;
<span class="comment">// take only single items to send</span>
          tmp.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(0);
          tmp.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(count_items_single);
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; count_items_single; k++)
            tmp[k] = dest.<a class="code" href="classMD__Vector__std.html#a3ee9294b8d36492e8bdabbc9a97db451">items_to_send_</a>(j, k);
          <a class="code" href="MD__Vector__composite_8cpp.html#a8cd201daaf90b592db8baa421be9e205">append_blocs</a>(x_data, tmp);

          ny += dest.<a class="code" href="classMD__Vector__std.html#a8d6c4c5d6da6fe56e8330253137d412f">items_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#adbf6903737c3c30bf87e05b29f5a5b56" title="renvoie le nombre d&#39;elements de la liste i">get_list_size</a>(j);
          dest.<a class="code" href="classMD__Vector__std.html#a8d6c4c5d6da6fe56e8330253137d412f">items_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#ac5f80aca1def83653c95221f391b916d" title="copie la i-ieme liste dans le tableau fourni Le tableau array doit etre resizable.">copy_list_to_array</a>(j, tmp);
          <a class="code" href="MD__Vector__composite_8cpp.html#a8cd201daaf90b592db8baa421be9e205">append_blocs</a>(y_data, tmp);
        }

<span class="comment">// Insert items to send and items to recv from src, with multiplier</span>
      j = <a class="code" href="MD__Vector__composite_8cpp.html#a73491edb66b362194723171e52f1c71a" title="returns i such that a[i]==x, or -1 if x is not found">find_in_array</a>(src.<a class="code" href="classMD__Vector__std.html#a68854e710075fdc8c2f2ce28fbbb9ecc">pe_voisins_</a>, pe);
      <span class="keywordflow">if</span> (j &gt;= 0)
        {
          <span class="keyword">const</span> <span class="keywordtype">int</span> count_items_single = src.<a class="code" href="classMD__Vector__std.html#afd0c291718e3bc9846c8a06420efeb69">nb_items_to_items_</a>[j];
          nx += count_items_single * multiplier;
<span class="comment">// take only single items to send</span>
          tmp.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(0);
          tmp.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(count_items_single);
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; count_items_single; k++)
            tmp[k] = src.<a class="code" href="classMD__Vector__std.html#a3ee9294b8d36492e8bdabbc9a97db451">items_to_send_</a>(j, k);
          <a class="code" href="MD__Vector__composite_8cpp.html#acbdccbb8ee4ac3835a1f8738e3680f40">append_items</a>(x_data, tmp, offset, multiplier);

          ny += src.<a class="code" href="classMD__Vector__std.html#a8d6c4c5d6da6fe56e8330253137d412f">items_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#adbf6903737c3c30bf87e05b29f5a5b56" title="renvoie le nombre d&#39;elements de la liste i">get_list_size</a>(j) * multiplier;
          src.<a class="code" href="classMD__Vector__std.html#a8d6c4c5d6da6fe56e8330253137d412f">items_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#ac5f80aca1def83653c95221f391b916d" title="copie la i-ieme liste dans le tableau fourni Le tableau array doit etre resizable.">copy_list_to_array</a>(j, tmp);
          <a class="code" href="MD__Vector__composite_8cpp.html#acbdccbb8ee4ac3835a1f8738e3680f40">append_items</a>(y_data, tmp, offset, multiplier);
        }
      <span class="keyword">const</span> <span class="keywordtype">int</span> single_items_count = nx;
<span class="comment">// Insert blocs to send and blocs to recv from dest</span>
      j = <a class="code" href="MD__Vector__composite_8cpp.html#a73491edb66b362194723171e52f1c71a" title="returns i such that a[i]==x, or -1 if x is not found">find_in_array</a>(dest.<a class="code" href="classMD__Vector__std.html#a68854e710075fdc8c2f2ce28fbbb9ecc">pe_voisins_</a>, pe);
      <span class="keywordflow">if</span> (j &gt;= 0)
        {
          <span class="keyword">const</span> <span class="keywordtype">int</span> count_items_tot = dest.<a class="code" href="classMD__Vector__std.html#a3ee9294b8d36492e8bdabbc9a97db451">items_to_send_</a>.<a class="code" href="classStatic__Int__Lists.html#adbf6903737c3c30bf87e05b29f5a5b56" title="renvoie le nombre d&#39;elements de la liste i">get_list_size</a>(j);
          <span class="keyword">const</span> <span class="keywordtype">int</span> count_items_single = dest.<a class="code" href="classMD__Vector__std.html#afd0c291718e3bc9846c8a06420efeb69">nb_items_to_items_</a>[j];
          nx += count_items_tot - count_items_single;
          tmp.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(0);
          tmp.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(count_items_tot - count_items_single);
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = count_items_single; k &lt; count_items_tot; k++)
            tmp[k - count_items_single] = dest.<a class="code" href="classMD__Vector__std.html#a3ee9294b8d36492e8bdabbc9a97db451">items_to_send_</a>(j, k);
          <a class="code" href="MD__Vector__composite_8cpp.html#a8cd201daaf90b592db8baa421be9e205">append_blocs</a>(x_data, tmp);

          nz += dest.<a class="code" href="classMD__Vector__std.html#ae266bd552dcb9f817c791a1c7342a6b0">blocs_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#adbf6903737c3c30bf87e05b29f5a5b56" title="renvoie le nombre d&#39;elements de la liste i">get_list_size</a>(j);
          dest.<a class="code" href="classMD__Vector__std.html#ae266bd552dcb9f817c791a1c7342a6b0">blocs_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#ac5f80aca1def83653c95221f391b916d" title="copie la i-ieme liste dans le tableau fourni Le tableau array doit etre resizable.">copy_list_to_array</a>(j, tmp);
          <a class="code" href="MD__Vector__composite_8cpp.html#a8cd201daaf90b592db8baa421be9e205">append_blocs</a>(z_data, tmp);

          blocs_count += dest.<a class="code" href="classMD__Vector__std.html#a4aa5e80e0b975026cc201fbdee72956c">blocs_items_count_</a>[j];
        }
<span class="comment">// Insert blocs to send and blocs to recv from src, with multiplier</span>
      j = <a class="code" href="MD__Vector__composite_8cpp.html#a73491edb66b362194723171e52f1c71a" title="returns i such that a[i]==x, or -1 if x is not found">find_in_array</a>(src.<a class="code" href="classMD__Vector__std.html#a68854e710075fdc8c2f2ce28fbbb9ecc">pe_voisins_</a>, pe);
      <span class="keywordflow">if</span> (j &gt;= 0)
        {
          <span class="keyword">const</span> <span class="keywordtype">int</span> count_items_tot = src.<a class="code" href="classMD__Vector__std.html#a3ee9294b8d36492e8bdabbc9a97db451">items_to_send_</a>.<a class="code" href="classStatic__Int__Lists.html#adbf6903737c3c30bf87e05b29f5a5b56" title="renvoie le nombre d&#39;elements de la liste i">get_list_size</a>(j);
          <span class="keyword">const</span> <span class="keywordtype">int</span> count_items_single = src.<a class="code" href="classMD__Vector__std.html#afd0c291718e3bc9846c8a06420efeb69">nb_items_to_items_</a>[j];
          nx += (count_items_tot - count_items_single) * multiplier;
          tmp.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(0);
          tmp.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(count_items_tot - count_items_single);
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = count_items_single; k &lt; count_items_tot; k++)
            tmp[k - count_items_single] = src.<a class="code" href="classMD__Vector__std.html#a3ee9294b8d36492e8bdabbc9a97db451">items_to_send_</a>(j, k);
          <a class="code" href="MD__Vector__composite_8cpp.html#acbdccbb8ee4ac3835a1f8738e3680f40">append_items</a>(x_data, tmp, offset, multiplier);

          nz += src.<a class="code" href="classMD__Vector__std.html#ae266bd552dcb9f817c791a1c7342a6b0">blocs_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#adbf6903737c3c30bf87e05b29f5a5b56" title="renvoie le nombre d&#39;elements de la liste i">get_list_size</a>(j);
          src.<a class="code" href="classMD__Vector__std.html#ae266bd552dcb9f817c791a1c7342a6b0">blocs_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#ac5f80aca1def83653c95221f391b916d" title="copie la i-ieme liste dans le tableau fourni Le tableau array doit etre resizable.">copy_list_to_array</a>(j, tmp);
          <a class="code" href="MD__Vector__composite_8cpp.html#a8cd201daaf90b592db8baa421be9e205">append_blocs</a>(z_data, tmp, offset, multiplier);

          blocs_count += src.<a class="code" href="classMD__Vector__std.html#a4aa5e80e0b975026cc201fbdee72956c">blocs_items_count_</a>[j] * multiplier;
        }

      x_sz.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(nx);
      y_sz.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(ny);
      z_sz.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(nz);
      new_blocs_items_count[i] = blocs_count;
      new_nb_items_to_items[i] = single_items_count;
    }

  dest.<a class="code" href="classMD__Vector__std.html#a3ee9294b8d36492e8bdabbc9a97db451">items_to_send_</a>.<a class="code" href="classStatic__Int__Lists.html#a60da63cb1970f5b87d1e1fdf6d65dcb2" title="detruit les listes existantes et en cree de nouvelles. On cree autant de listes que d&#39;elements dans l...">set_list_sizes</a>(x_sz);
  dest.<a class="code" href="classMD__Vector__std.html#a3ee9294b8d36492e8bdabbc9a97db451">items_to_send_</a>.<a class="code" href="classStatic__Int__Lists.html#a23ecdbce2325f5493fcc7be9331b67c1" title="remplace les valeurs stockes par toutes les listes par celles du tableau data. data doit avoir pour t...">set_data</a>(x_data);
  dest.<a class="code" href="classMD__Vector__std.html#a8d6c4c5d6da6fe56e8330253137d412f">items_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#a60da63cb1970f5b87d1e1fdf6d65dcb2" title="detruit les listes existantes et en cree de nouvelles. On cree autant de listes que d&#39;elements dans l...">set_list_sizes</a>(y_sz);
  dest.<a class="code" href="classMD__Vector__std.html#a8d6c4c5d6da6fe56e8330253137d412f">items_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#a23ecdbce2325f5493fcc7be9331b67c1" title="remplace les valeurs stockes par toutes les listes par celles du tableau data. data doit avoir pour t...">set_data</a>(y_data);
  dest.<a class="code" href="classMD__Vector__std.html#ae266bd552dcb9f817c791a1c7342a6b0">blocs_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#a60da63cb1970f5b87d1e1fdf6d65dcb2" title="detruit les listes existantes et en cree de nouvelles. On cree autant de listes que d&#39;elements dans l...">set_list_sizes</a>(z_sz);
  dest.<a class="code" href="classMD__Vector__std.html#ae266bd552dcb9f817c791a1c7342a6b0">blocs_to_recv_</a>.<a class="code" href="classStatic__Int__Lists.html#a23ecdbce2325f5493fcc7be9331b67c1" title="remplace les valeurs stockes par toutes les listes par celles du tableau data. data doit avoir pour t...">set_data</a>(z_data);
  dest.<a class="code" href="classMD__Vector__std.html#a68854e710075fdc8c2f2ce28fbbb9ecc">pe_voisins_</a> = pe_list;
  dest.<a class="code" href="classMD__Vector__std.html#a4aa5e80e0b975026cc201fbdee72956c">blocs_items_count_</a> = new_blocs_items_count;
  dest.<a class="code" href="classMD__Vector__std.html#afd0c291718e3bc9846c8a06420efeb69">nb_items_to_items_</a> = new_nb_items_to_items;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acbdccbb8ee4ac3835a1f8738e3680f40"></a><!-- doxytag: member="MD_Vector_composite.cpp::append_items" ref="acbdccbb8ee4ac3835a1f8738e3680f40" args="(ArrOfInt &amp;dest, const ArrOfInt &amp;src, int offset=0, int multiplier=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void append_items </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>multiplier</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="MD__Vector__composite_8cpp_source.html#l00102">102</a> of file <a class="el" href="MD__Vector__composite_8cpp_source.html">MD_Vector_composite.cpp</a>.</p>

<p>References <a class="el" href="ArrOfInt_8h_source.html#l00240">ArrOfInt::resize_array()</a>, and <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__composite_8cpp_source.html#l00136">append_global_md()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> i = dest.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  <span class="keyword">const</span> <span class="keywordtype">int</span> n = src.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  dest.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(i + n * multiplier);
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; n; j++)
    {
      <span class="keywordtype">int</span> x = offset + src[j] * multiplier;
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; multiplier; k++)
        dest[i++] = x++;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a73491edb66b362194723171e52f1c71a"></a><!-- doxytag: member="MD_Vector_composite.cpp::find_in_array" ref="a73491edb66b362194723171e52f1c71a" args="(const ArrOfInt &amp;a, int x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int find_in_array </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns i such that a[i]==x, or -1 if x is not found </p>

<p>Definition at line <a class="el" href="MD__Vector__composite_8cpp_source.html#l00125">125</a> of file <a class="el" href="MD__Vector__composite_8cpp_source.html">MD_Vector_composite.cpp</a>.</p>

<p>References <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__composite_8cpp_source.html#l00136">append_global_md()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">int</span> n;
  <span class="keywordflow">for</span> (n = a.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() - 1; n &gt;= 0; n--)
    <span class="keywordflow">if</span> (a[n] == x)
      <span class="keywordflow">break</span>;
  <span class="keywordflow">return</span> n;
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a0354881430c19d370b7ed248f35a8522"></a><!-- doxytag: member="MD_Vector_composite.cpp::MD_Vector_compositebases" ref="a0354881430c19d370b7ed248f35a8522" args="[1]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a>* <a class="el" href="MD__Vector__composite_8cpp.html#a0354881430c19d370b7ed248f35a8522">MD_Vector_compositebases</a>[1] = { &amp;( <a class="el" href="classMD__Vector__base2.html">MD_Vector_base2</a> ::info_obj)}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="MD__Vector__composite_8cpp_source.html#l00028">28</a> of file <a class="el" href="MD__Vector__composite_8cpp_source.html">MD_Vector_composite.cpp</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:52 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
