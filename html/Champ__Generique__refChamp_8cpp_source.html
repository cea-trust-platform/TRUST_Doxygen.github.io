<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Champs/Champ_Generique_refChamp.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Champs/Champ_Generique_refChamp.cpp</div>  </div>
</div>
<div class="contents">
<a href="Champ__Generique__refChamp_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2020, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Champ_Generique_refChamp.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Champs</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/20</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Generique__refChamp_8h.html">Champ_Generique_refChamp.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Inc__P0__base_8h.html">Champ_Inc_P0_base.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Inc__P1__base_8h.html">Champ_Inc_P1_base.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Fonc__P0__base_8h.html">Champ_Fonc_P0_base.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Fonc__P1__base_8h.html">Champ_Fonc_P1_base.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VF_8h.html">Zone_VF.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Uniforme_8h.html">Champ_Uniforme.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Inc__Q1__base_8h.html">Champ_Inc_Q1_base.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Fonc__Q1__base_8h.html">Champ_Fonc_Q1_base.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="Equation__base_8h.html">Equation_base.h</a>&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="Synonyme__info_8h.html">Synonyme_info.h</a>&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;<a class="code" href="Param_8h.html">Param.h</a>&gt;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="Champ__Generique__refChamp_8cpp.html#ae48561acaff652ac345336b6c59ed392">00036</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classChamp__Generique__refChamp.html" title="Classe de champ particuliere qui encapsule une reference a un champ volumique de TRUST de type Champ_...">Champ_Generique_refChamp</a>,<span class="stringliteral">&quot;refChamp&quot;</span>,<a class="code" href="classChamp__Generique__base.html" title="Classe de base des champs generiques pour importation d un champ discret et actions elementaires sur ...">Champ_Generique_base</a>);
<a name="l00037"></a>00037 <a class="code" href="Synonyme__info_8h.html#a57e3e6ee466564dbfa5619fb2b33a2c2">Add_synonym</a>(<a class="code" href="classChamp__Generique__refChamp.html" title="Classe de champ particuliere qui encapsule une reference a un champ volumique de TRUST de type Champ_...">Champ_Generique_refChamp</a>,<span class="stringliteral">&quot;Champ_Post_refChamp&quot;</span>);
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="comment">//</span>
<a name="l00040"></a>00040 <span class="comment">//</span>
<a name="l00041"></a>00041 <span class="comment">//</span><span class="comment"></span>
<a name="l00042"></a>00042 <span class="comment">//! Imprime sur un flot de sortie.&lt;br&gt;Parametre: Sortie\&amp; os&lt;br&gt;Signification: un flot de sortie</span>
<a name="l00043"></a>00043 <span class="comment"></span><span class="comment">/** \return Sortie\&amp;&lt;br&gt;</span>
<a name="l00044"></a>00044 <span class="comment">Signification: le flot de sortie modifie */</span>
<a name="l00045"></a><a class="code" href="classChamp__Generique__refChamp.html#a15db74b4ee852c3c301470520836957f">00045</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classChamp__Generique__refChamp.html#a15db74b4ee852c3c301470520836957f" title="Imprime sur un flot de sortie. Parametre: Sortie&amp; os Signification: un flot de sortie.">Champ_Generique_refChamp::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00046"></a>00046 <span class="keyword"></span>{
<a name="l00047"></a>00047   <span class="keywordflow">return</span> os;
<a name="l00048"></a>00048 }
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 <span class="comment">// cf Champ_Generique_base::readOn</span>
<a name="l00051"></a><a class="code" href="classChamp__Generique__refChamp.html#a9b245426e797713ca3614af7eda8ba2a">00051</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classChamp__Generique__refChamp.html#a9b245426e797713ca3614af7eda8ba2a" title="Lecture d&#39;un Objet_U sur un flot d&#39;entree Methode a surcharger.">Champ_Generique_refChamp::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00052"></a>00052 {
<a name="l00053"></a>00053   <a class="code" href="classChamp__Generique__refChamp.html#a9b245426e797713ca3614af7eda8ba2a" title="Lecture d&#39;un Objet_U sur un flot d&#39;entree Methode a surcharger.">Champ_Generique_base::readOn</a>(is);
<a name="l00054"></a>00054   <span class="keywordflow">return</span> is;
<a name="l00055"></a>00055 }
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 <span class="comment">//</span>
<a name="l00058"></a>00058 <span class="comment">//</span>
<a name="l00059"></a>00059 <span class="comment">//</span><span class="comment"></span>
<a name="l00060"></a>00060 <span class="comment">//! pb_champ :   declenche la lecture du nom du probleme (nom_pb_) auquel appartient&lt;br&gt;le champ discret et le nom de ce champ discret (nom_champ_)&lt;br&gt;nom_source : option pour nommer le champ en tant que source (sinon nommer par defaut)</span>
<a name="l00061"></a><a class="code" href="classChamp__Generique__refChamp.html#a276ba9de164fa0cfa1a8fe081854a4f3">00061</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#a276ba9de164fa0cfa1a8fe081854a4f3" title="pb_champ : declenche la lecture du nom du probleme (nom_pb_) auquel appartient le champ discret et le...">Champ_Generique_refChamp::set_param</a>(<a class="code" href="classParam.html" title="Defined below in this file.">Param</a>&amp; param)
<a name="l00062"></a>00062 {
<a name="l00063"></a>00063   param.<a class="code" href="classParam.html#a8d8bcddfd8087e577ffbb170c68e4f88">ajouter_non_std</a>(<span class="stringliteral">&quot;nom_source&quot;</span>,(<span class="keyword">this</span>));
<a name="l00064"></a>00064   param.<a class="code" href="classParam.html#a8d8bcddfd8087e577ffbb170c68e4f88">ajouter_non_std</a>(<span class="stringliteral">&quot;Pb_champ&quot;</span>,(<span class="keyword">this</span>),<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>);
<a name="l00065"></a>00065 }
<a name="l00066"></a>00066 
<a name="l00067"></a><a class="code" href="classChamp__Generique__refChamp.html#aa6e2800ebf6e240f617e5831055404bc">00067</a> <span class="keywordtype">int</span> <a class="code" href="classChamp__Generique__refChamp.html#aa6e2800ebf6e240f617e5831055404bc" title="Lecture des parametres de type non simple d&#39;un objet_U a partir d&#39;un flot d&#39;entree.">Champ_Generique_refChamp::lire_motcle_non_standard</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; mot, <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00068"></a>00068 {
<a name="l00069"></a>00069   <span class="keywordflow">if</span> (mot==<span class="stringliteral">&quot;Pb_champ&quot;</span>)
<a name="l00070"></a>00070     {
<a name="l00071"></a>00071 <span class="comment">// Lecture du nom du probleme et du nom du champ</span>
<a name="l00072"></a>00072       is &gt;&gt; <a class="code" href="classChamp__Generique__base.html#a5959d75a754eccae6dd28907315aaf49">nom_pb_</a> &gt;&gt; <a class="code" href="classChamp__Generique__refChamp.html#a3971ebf189bd502299e40c1daa888a99">nom_champ_</a>;
<a name="l00073"></a>00073 <span class="comment">// Recherche du probleme parmi les objets connus de l&#39;interprete</span>
<a name="l00074"></a>00074       <span class="keyword">const</span> <a class="code" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>&amp; ob = <a class="code" href="classObjet__U.html#a9b5c13352a6601b5cec65941575f2e9a">interprete</a>().<a class="code" href="classInterprete.html#a3ca248609f0b72eac68baca14621b4ee" title="Voir Interprete_bloc::objet_global() BM: la classe Interprete n&#39;est pas le meilleur endroit pour cett...">objet</a>(<a class="code" href="classChamp__Generique__base.html#a5959d75a754eccae6dd28907315aaf49">nom_pb_</a>);
<a name="l00075"></a>00075       <span class="keywordflow">if</span> (!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>, ob))
<a name="l00076"></a>00076         {
<a name="l00077"></a>00077           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Champ_Generique_refChamp ::lire(keyword=\&quot;pb_champ\&quot;\n&quot;</span>
<a name="l00078"></a>00078                &lt;&lt; <span class="stringliteral">&quot; The object &quot;</span> &lt;&lt; <a class="code" href="classChamp__Generique__base.html#a5959d75a754eccae6dd28907315aaf49">nom_pb_</a> &lt;&lt; <span class="stringliteral">&quot; is not a Probleme_base&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00079"></a>00079           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00080"></a>00080         }
<a name="l00081"></a>00081       <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; pb = <a class="code" href="Cast_8h.html#ad3836a067c92103af8df5ad8f35959a6">ref_cast_non_const</a>(<a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>, ob);
<a name="l00082"></a>00082       <a class="code" href="classChamp__Generique__base.html#a40c42835f566e9d10a0d12c9b2a8cf25">ref_pb_</a> = pb;
<a name="l00083"></a>00083 <span class="comment">// Recherche du champ &quot;nom_champ&quot; dans le probleme:</span>
<a name="l00084"></a>00084       <a class="code" href="Ref_8h.html#aab5720a5c34da14028d0745e386aaa01">REF</a>(<a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>) ref_champ;
<a name="l00085"></a>00085       <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> liste_noms;
<a name="l00086"></a>00086       pb.<a class="code" href="classProbleme__base.html#a783505be0b9792319ee2f07242cfcd33">get_noms_champs_postraitables</a>(liste_noms);
<a name="l00087"></a>00087       pb.<a class="code" href="classProbleme__base.html#a0d8d417e3c4e1cabfaea63ca4aeb59c0">creer_champ</a>(nom_champ_);
<a name="l00088"></a>00088       ref_champ = pb.<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(nom_champ_);
<a name="l00089"></a>00089       ref_champ.valeur().<a class="code" href="classChamp__base.html#ad4ce4adc1125f3ff1fe87f405129984a" title="cette methode va fixer les unites et le nom des compos elle n&#39;est pas const en realite !!!...">corriger_unite_nom_compo</a>();
<a name="l00090"></a>00090       <a class="code" href="classChamp__Generique__refChamp.html#a0f592f0d192b677492c2ba1760aaa9cf" title="Associe le champ et determine sa localisation.">set_ref_champ</a>(ref_champ.valeur());
<a name="l00091"></a>00091       <span class="keywordflow">return</span> 1;
<a name="l00092"></a>00092     }
<a name="l00093"></a>00093   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mot==<span class="stringliteral">&quot;nom_source&quot;</span>)
<a name="l00094"></a>00094     {
<a name="l00095"></a>00095       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> id_source;
<a name="l00096"></a>00096       is &gt;&gt; id_source;
<a name="l00097"></a>00097       <a class="code" href="classChamp__Generique__base.html#acbc36c368468eb035e9dbb499c655992" title="Donne un nom a l&#39;Objet_U Methode virtuelle a surcharger.">nommer</a>(id_source);
<a name="l00098"></a>00098       <span class="keywordflow">return</span> 1;
<a name="l00099"></a>00099     }
<a name="l00100"></a>00100   <span class="keywordflow">else</span>
<a name="l00101"></a>00101     <span class="keywordflow">return</span> <a class="code" href="classChamp__Generique__refChamp.html#aa6e2800ebf6e240f617e5831055404bc" title="Lecture des parametres de type non simple d&#39;un objet_U a partir d&#39;un flot d&#39;entree.">Champ_Generique_base::lire_motcle_non_standard</a>(mot,is);
<a name="l00102"></a>00102   <span class="keywordflow">return</span> 1;
<a name="l00103"></a>00103 }
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 <span class="comment">//</span>
<a name="l00106"></a>00106 <span class="comment">//</span><span class="comment"></span>
<a name="l00107"></a>00107 <span class="comment">//! On initialise la classe avec le champ en parametre.&lt;br&gt;On prend une ref a ce champ (il doit rester valable ensuite).</span>
<a name="l00108"></a><a class="code" href="classChamp__Generique__refChamp.html#a008c7a82d23c1b6c7554d599b6b85c9d">00108</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#a008c7a82d23c1b6c7554d599b6b85c9d" title="On initialise la classe avec le champ en parametre. On prend une ref a ce champ (il doit rester valab...">Champ_Generique_refChamp::initialize</a>(<span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; champ)
<a name="l00109"></a>00109 {
<a name="l00110"></a>00110   <a class="code" href="classChamp__Generique__refChamp.html#aa35f32a196c8caefafc8c6e87ddc8993">ref_champ_</a> = champ;
<a name="l00111"></a>00111 }
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 <span class="comment">//</span><span class="comment"></span>
<a name="l00114"></a>00114 <span class="comment">//! Renvoie le nombre de coordonnees de chaque sommet du domaine.&lt;br&gt;Voir GenericField_base::get_dimension()</span>
<a name="l00115"></a><a class="code" href="classChamp__Generique__refChamp.html#a81a9ba5bd6d223b232f5db19565e22a5">00115</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classChamp__Generique__refChamp.html#a81a9ba5bd6d223b232f5db19565e22a5" title="Renvoie le nombre de coordonnees de chaque sommet du domaine. Voir GenericField_base::get_dimension()...">Champ_Generique_refChamp::get_dimension</a>()<span class="keyword"> const</span>
<a name="l00116"></a>00116 <span class="keyword"></span>{
<a name="l00117"></a>00117 <span class="comment">// Je n&#39;utilise pas Objet_U::dimension expres car j&#39;espere supprimer</span>
<a name="l00118"></a>00118 <span class="comment">// cette variable statique bientot.</span>
<a name="l00119"></a>00119   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> coords = <a class="code" href="classChamp__Generique__refChamp.html#a2780d06f65a40fc0dd63a07224ec59fe" title="Renvoie une reference au tableau des coordonnees des sommets du maillage support du champ...">get_ref_coordinates</a>();
<a name="l00120"></a>00120   <span class="keyword">const</span> <span class="keywordtype">int</span> dim = coords.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00121"></a>00121   <span class="keywordflow">return</span> dim;
<a name="l00122"></a>00122 }
<a name="l00123"></a>00123 
<a name="l00124"></a><a class="code" href="classChamp__Generique__refChamp.html#ac0de1568941c89d5d31371c4e5783e02">00124</a> <span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#ac0de1568941c89d5d31371c4e5783e02" title="Renvoie la liste des &quot;query&quot; possibles pour le champ.">Champ_Generique_refChamp::get_property_names</a>(<a class="code" href="classMotcles.html" title="Un tableau d&#39;objets de la classe Motcle.">Motcles</a>&amp; list)<span class="keyword"> const</span>
<a name="l00125"></a>00125 <span class="keyword"></span>{
<a name="l00126"></a>00126   list.<a class="code" href="classVect__Motcle.html#a68a2feae15986909fa00c7ceb2c20a25">add</a>(<span class="stringliteral">&quot;nom&quot;</span>);
<a name="l00127"></a>00127   list.<a class="code" href="classVect__Motcle.html#a68a2feae15986909fa00c7ceb2c20a25">add</a>(<span class="stringliteral">&quot;nom_cible&quot;</span>);
<a name="l00128"></a>00128   list.<a class="code" href="classVect__Motcle.html#a68a2feae15986909fa00c7ceb2c20a25">add</a>(<span class="stringliteral">&quot;unites&quot;</span>);
<a name="l00129"></a>00129   list.<a class="code" href="classVect__Motcle.html#a68a2feae15986909fa00c7ceb2c20a25">add</a>(<span class="stringliteral">&quot;composantes&quot;</span>);
<a name="l00130"></a>00130   list.<a class="code" href="classVect__Motcle.html#a68a2feae15986909fa00c7ceb2c20a25">add</a>(<span class="stringliteral">&quot;synonyms&quot;</span>);
<a name="l00131"></a>00131 }
<a name="l00132"></a>00132 
<a name="l00133"></a><a class="code" href="classChamp__Generique__refChamp.html#a260fcbab3555de84c039d583b4ae3303">00133</a> <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> <a class="code" href="classChamp__Generique__refChamp.html#a260fcbab3555de84c039d583b4ae3303" title="Renvoie la propriete demandee. Exemples: &quot;DISCRETISATION&quot; : type du champ discret (P0...">Champ_Generique_refChamp::get_property</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; query)<span class="keyword"> const</span>
<a name="l00134"></a>00134 <span class="keyword"></span>{
<a name="l00135"></a>00135 
<a name="l00136"></a>00136   <a class="code" href="classMotcles.html" title="Un tableau d&#39;objets de la classe Motcle.">Motcles</a> motcles(5);
<a name="l00137"></a>00137   motcles[0] = <span class="stringliteral">&quot;nom&quot;</span>;
<a name="l00138"></a>00138   motcles[1] = <span class="stringliteral">&quot;nom_cible&quot;</span>;
<a name="l00139"></a>00139   motcles[2] = <span class="stringliteral">&quot;unites&quot;</span>;
<a name="l00140"></a>00140   motcles[3] = <span class="stringliteral">&quot;composantes&quot;</span>;
<a name="l00141"></a>00141   motcles[4] = <span class="stringliteral">&quot;synonyms&quot;</span>;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143   <span class="keywordtype">int</span> rang = motcles.<a class="code" href="classMotcles.html#afecd68f73e904bc129022a236ff6ab15">search</a>(query);
<a name="l00144"></a>00144   <span class="keywordflow">switch</span>(rang)
<a name="l00145"></a>00145     {
<a name="l00146"></a>00146     <span class="keywordflow">case</span> 0:
<a name="l00147"></a>00147       {
<a name="l00148"></a>00148         <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> mots(1);
<a name="l00149"></a>00149         mots[0] = <a class="code" href="classChamp__Generique__base.html#ae62b052dfbd7325d47584487401729e4">nom_post_</a>;
<a name="l00150"></a>00150         <span class="keywordflow">return</span> mots;
<a name="l00151"></a>00151         <span class="keywordflow">break</span>;
<a name="l00152"></a>00152       }
<a name="l00153"></a>00153     <span class="keywordflow">case</span> 1:
<a name="l00154"></a>00154       {
<a name="l00155"></a>00155         <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> mots(1);
<a name="l00156"></a>00156         mots[0] = <a class="code" href="classChamp__Generique__refChamp.html#a3971ebf189bd502299e40c1daa888a99">nom_champ_</a>;
<a name="l00157"></a>00157         <span class="keywordflow">return</span> mots;
<a name="l00158"></a>00158         <span class="keywordflow">break</span>;
<a name="l00159"></a>00159       }
<a name="l00160"></a>00160     <span class="keywordflow">case</span> 2 :
<a name="l00161"></a>00161       {
<a name="l00162"></a>00162         <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> mots0= <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>().<a class="code" href="classField__base.html#a330a88315c089f823664a7676bd55498" title="Renvoie les unites des composantes du champ.">unites</a>();
<a name="l00163"></a>00163         <a class="code" href="Cast_8h.html#ad3836a067c92103af8df5ad8f35959a6">ref_cast_non_const</a>(<a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>,<a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>()).corriger_unite_nom_compo();
<a name="l00164"></a>00164         <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> mots = <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>().<a class="code" href="classField__base.html#a330a88315c089f823664a7676bd55498" title="Renvoie les unites des composantes du champ.">unites</a>();
<a name="l00165"></a>00165         <span class="keywordflow">if</span> (mots.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>()!=mots0.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>())
<a name="l00166"></a>00166           {
<a name="l00167"></a>00167             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;iuuuuuu&quot;</span>&lt;&lt;mots&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;mots0&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00168"></a>00168             <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00169"></a>00169           }
<a name="l00170"></a>00170         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;mots.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>(); i++)
<a name="l00171"></a>00171           {
<a name="l00172"></a>00172             <span class="keywordflow">if</span> (mots0[i]!=mots[i])
<a name="l00173"></a>00173               {
<a name="l00174"></a>00174                 <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt;<span class="stringliteral">&quot; iiiiiiiiii&quot;</span>&lt;&lt;mots0[i]&lt;&lt; <span class="stringliteral">&quot; &quot;</span>&lt;&lt;mots[i]&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00175"></a>00175                 <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00176"></a>00176               }
<a name="l00177"></a>00177           }
<a name="l00178"></a>00178         <span class="keywordflow">return</span> mots;
<a name="l00179"></a>00179         <span class="keywordflow">break</span>;
<a name="l00180"></a>00180       }
<a name="l00181"></a>00181     <span class="keywordflow">case</span> 4 :
<a name="l00182"></a>00182       {
<a name="l00183"></a>00183         <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> mots = <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>().<a class="code" href="classField__base.html#a92813535430da0155ac60665d0f771ce">get_synonyms</a>();
<a name="l00184"></a>00184 
<a name="l00185"></a>00185         <span class="keywordflow">return</span> mots;
<a name="l00186"></a>00186         <span class="keywordflow">break</span>;
<a name="l00187"></a>00187       }
<a name="l00188"></a>00188     <span class="keywordflow">case</span> 3 :
<a name="l00189"></a>00189       {
<a name="l00190"></a>00190 
<a name="l00191"></a>00191         {
<a name="l00192"></a>00192           <span class="keyword">const</span> <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> mots = <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>().<a class="code" href="classField__base.html#a365a59232bd2d53d4869e5103ca558d1" title="Renvoie le tableau des noms des composantes du champ.">noms_compo</a>();
<a name="l00193"></a>00193           <span class="keywordtype">int</span> nb_comp = mots.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>();
<a name="l00194"></a>00194 
<a name="l00195"></a>00195           <a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a> compo(nb_comp);
<a name="l00196"></a>00196           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_comp; i++)
<a name="l00197"></a>00197             {
<a name="l00198"></a>00198               <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nume(i);
<a name="l00199"></a>00199               compo[i] = <a class="code" href="classChamp__Generique__base.html#ae62b052dfbd7325d47584487401729e4">nom_post_</a>+nume;
<a name="l00200"></a>00200             }
<a name="l00201"></a>00201           <span class="keywordflow">return</span> compo;
<a name="l00202"></a>00202           <span class="keywordflow">break</span>;
<a name="l00203"></a>00203         }
<a name="l00204"></a>00204 
<a name="l00205"></a>00205       }
<a name="l00206"></a>00206     <span class="keywordflow">default</span> :
<a name="l00207"></a>00207       {
<a name="l00208"></a>00208         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;The identifiable properties are : &quot;</span>&lt;&lt;motcles&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00209"></a>00209         <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00210"></a>00210       }
<a name="l00211"></a>00211     }
<a name="l00212"></a>00212 <span class="comment">// Pour compilation</span>
<a name="l00213"></a>00213 <span class="comment">// On n&#39;arrive jamais ici</span>
<a name="l00214"></a>00214   <span class="keywordflow">return</span> <a class="code" href="classChamp__Generique__refChamp.html#a260fcbab3555de84c039d583b4ae3303" title="Renvoie la propriete demandee. Exemples: &quot;DISCRETISATION&quot; : type du champ discret (P0...">get_property</a>(query);
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 }
<a name="l00217"></a>00217 
<a name="l00218"></a>00218 <span class="comment">//</span>
<a name="l00219"></a>00219 <span class="comment">//</span>
<a name="l00220"></a>00220 <span class="comment">//</span>
<a name="l00221"></a>00221 <span class="comment">//</span><span class="comment"></span>
<a name="l00222"></a>00222 <span class="comment">//! Si le champ n&#39;est pas un champ discret : exception Champ_Generique_erreur(&quot;INVALID&quot;)&lt;br&gt;Sinon, renvoie la localisation du champ pour le support &quot;index&quot;.&lt;br&gt;Si index == -1 (valeur par defaut), leve une exception si le champ est multisupport.&lt;br&gt;Sinon, leve une exception si l&#39;index est superieur au nombre de localisations du champ.</span>
<a name="l00223"></a><a class="code" href="classChamp__Generique__refChamp.html#ac9baec0314c1a0277d9721b8b08be510">00223</a> <span class="comment"></span><a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffb">Entity</a> <a class="code" href="classChamp__Generique__refChamp.html#ac9baec0314c1a0277d9721b8b08be510" title="Si le champ n&#39;est pas un champ discret : exception Champ_Generique_erreur(&quot;INVALID&quot;) Sinon...">Champ_Generique_refChamp::get_localisation</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> index)<span class="keyword"> const</span>
<a name="l00224"></a>00224 <span class="keyword"></span>{
<a name="l00225"></a>00225   <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffb">Entity</a> loc;
<a name="l00226"></a>00226 <span class="comment">// Pour initialisation</span>
<a name="l00227"></a>00227   loc = <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba59a889456a2d742fdca191dccb3e871d">NODE</a>;
<a name="l00228"></a>00228 
<a name="l00229"></a>00229   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch = <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>();
<a name="l00230"></a>00230   <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; z_dis_base = <a class="code" href="classChamp__Generique__base.html#aca8f6eab28f080ca436b0a29cdeec668" title="Renvoie une ref a la zone_discretisee du domaine sur lequel sera evalue l espace de stockage...">get_ref_zone_dis_base</a>();
<a name="l00231"></a>00231 
<a name="l00232"></a>00232 <span class="comment">// Champs discrets a une seule localisation :</span>
<a name="l00233"></a>00233   <span class="keywordflow">if</span> ((<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Inc__P0__base.html" title=": class Champ_Inc_P0_base Decrire ici la classe Champ_Inc_P0_base">Champ_Inc_P0_base</a>, ch) || <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Fonc__P0__base.html" title=": class Champ_Fonc_P0_base Decrire ici la classe Champ_Fonc_P0_base">Champ_Fonc_P0_base</a>, ch)) &amp;&amp; index &lt;= 0)
<a name="l00234"></a>00234     {
<a name="l00235"></a>00235       loc = <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba3d10bfe84917127ab3347aa5c6309f33">ELEMENT</a>;
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Inc__P1__base.html" title=": class Champ_Inc_P1_base Decrire ici la classe Champ_Inc_P1_base">Champ_Inc_P1_base</a>, ch)|| <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Fonc__P1__base.html" title=": class Champ_Fonc_P1_base Decrire ici la classe Champ_Fonc_P1_base">Champ_Fonc_P1_base</a>, ch)) &amp;&amp; index &lt;= 0)
<a name="l00238"></a>00238     {
<a name="l00239"></a>00239       loc = <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba59a889456a2d742fdca191dccb3e871d">NODE</a>;
<a name="l00240"></a>00240     }
<a name="l00241"></a>00241   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((ch.<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()==<span class="stringliteral">&quot;Champ_Face_PolyMAC&quot;</span> || ch.<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()==<span class="stringliteral">&quot;Champ_Face_CoviMAC&quot;</span>
<a name="l00242"></a>00242             || ch.<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>().<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0) == <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>,z_dis_base).nb_faces()) &amp;&amp; index &lt;= 0)
<a name="l00243"></a>00243     {
<a name="l00244"></a>00244       loc = <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba5cfae78048cf95359061c2e812e7d691">FACE</a>;
<a name="l00245"></a>00245     }
<a name="l00246"></a>00246   <span class="keywordflow">else</span>
<a name="l00247"></a>00247     {
<a name="l00248"></a>00248 <span class="comment">// Champs discrets a plusieurs localisations</span>
<a name="l00249"></a>00249       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> <a class="code" href="Reordonner__faces__periodiques_8cpp.html#a137d78a01e63d3b66d1b2ed0de0f4c4c">message</a>=<span class="stringliteral">&quot;Invalid localization used for postprocessing the field &quot;</span>;
<a name="l00250"></a>00250       message+=ch.<a class="code" href="classField__base.html#ae1377124eabe8387aced762115b062bb" title="Renvoie le nom du champ.">le_nom</a>()+<span class="stringliteral">&quot;. Change your data file.&quot;</span>;
<a name="l00251"></a>00251       <span class="keywordflow">throw</span> <a class="code" href="classChamp__Generique__erreur.html">Champ_Generique_erreur</a>(message);
<a name="l00252"></a>00252     }
<a name="l00253"></a>00253   <span class="keywordflow">return</span> loc;
<a name="l00254"></a>00254 }
<a name="l00255"></a>00255 
<a name="l00256"></a>00256 <span class="comment">//</span><span class="comment"></span>
<a name="l00257"></a>00257 <span class="comment">//! Verifie que le champ est bien un champ discret et&lt;br&gt;renvoie le tableau de valeurs. Sinon, leve l&#39;exception Champ_Generique_erreur(&quot;NO_REF&quot;)</span>
<a name="l00258"></a><a class="code" href="classChamp__Generique__refChamp.html#afd5c8abf1542ae803548d180fe9ab964">00258</a> <span class="comment"></span><span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; <a class="code" href="classChamp__Generique__refChamp.html#afd5c8abf1542ae803548d180fe9ab964" title="Verifie que le champ est bien un champ discret et renvoie le tableau de valeurs. Sinon, leve l&#39;exception Champ_Generique_erreur(&quot;NO_REF&quot;)">Champ_Generique_refChamp::get_ref_values</a>()<span class="keyword"> const</span>
<a name="l00259"></a>00259 <span class="keyword"></span>{
<a name="l00260"></a>00260 <span class="comment">// Appel a get_localisation pour verifier que le champ est bien un champ discret</span>
<a name="l00261"></a>00261 <span class="comment">// (multi-support ou non)</span>
<a name="l00262"></a>00262   <a class="code" href="classChamp__Generique__refChamp.html#ac9baec0314c1a0277d9721b8b08be510" title="Si le champ n&#39;est pas un champ discret : exception Champ_Generique_erreur(&quot;INVALID&quot;) Sinon...">get_localisation</a>(0);
<a name="l00263"></a>00263 <span class="comment">// Renvoie les valeurs du champ</span>
<a name="l00264"></a>00264   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; val = <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>().<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>();
<a name="l00265"></a>00265   <span class="keywordflow">return</span> val;
<a name="l00266"></a>00266 }
<a name="l00267"></a>00267 
<a name="l00268"></a>00268 <span class="comment">//</span><span class="comment"></span>
<a name="l00269"></a>00269 <span class="comment">//! Cree une copie du tableau de valeurs&lt;br&gt;Voir GenericField_base::get_copy_values()</span>
<a name="l00270"></a><a class="code" href="classChamp__Generique__refChamp.html#a30cb2300505495221cc057280fee5bb6">00270</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#a30cb2300505495221cc057280fee5bb6" title="Cree une copie du tableau de valeurs Voir GenericField_base::get_copy_values()">Champ_Generique_refChamp::get_copy_values</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; values)<span class="keyword"> const</span>
<a name="l00271"></a>00271 <span class="keyword"></span>{
<a name="l00272"></a>00272   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; val = <a class="code" href="classChamp__Generique__refChamp.html#afd5c8abf1542ae803548d180fe9ab964" title="Verifie que le champ est bien un champ discret et renvoie le tableau de valeurs. Sinon, leve l&#39;exception Champ_Generique_erreur(&quot;NO_REF&quot;)">get_ref_values</a>();
<a name="l00273"></a>00273 <span class="comment">// Cree une copie du tableau</span>
<a name="l00274"></a>00274   values = val;
<a name="l00275"></a>00275 }
<a name="l00276"></a>00276 <span class="comment"></span>
<a name="l00277"></a>00277 <span class="comment">//! appel a Champ_base::valeur_aux()</span>
<a name="l00278"></a><a class="code" href="classChamp__Generique__refChamp.html#a4865de02a439ff5ec5accb1479932cec">00278</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#a4865de02a439ff5ec5accb1479932cec" title="appel a Champ_base::valeur_aux()">Champ_Generique_refChamp::get_xyz_values</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coords, <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; values, <a class="code" href="classArrOfBit.html">ArrOfBit</a>&amp; validity_flag)<span class="keyword"> const</span>
<a name="l00279"></a>00279 <span class="keyword"></span>{
<a name="l00280"></a>00280   <span class="keywordflow">throw</span> <a class="code" href="classChamp__Generique__erreur.html">Champ_Generique_erreur</a>(<span class="stringliteral">&quot;NOT_IMPLEMENTED&quot;</span>);
<a name="l00281"></a>00281 }
<a name="l00282"></a>00282 
<a name="l00283"></a><a class="code" href="classChamp__Generique__refChamp.html#a0497f96d795fd3b41cc5488ab43570bc">00283</a> <span class="keyword">const</span> <a class="code" href="classZone__Cl__dis__base.html" title="classe Zone_Cl_dis_base Les objets Zone_Cl_dis_base representent les conditions aux limites discretis...">Zone_Cl_dis_base</a>&amp; <a class="code" href="classChamp__Generique__refChamp.html#a0497f96d795fd3b41cc5488ab43570bc" title="Renvoie une ref a la zone_cl_discretisee de l equation portant le champ cible.">Champ_Generique_refChamp::get_ref_zcl_dis_base</a>()<span class="keyword"> const</span>
<a name="l00284"></a>00284 <span class="keyword"></span>{
<a name="l00285"></a>00285   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch = <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>();
<a name="l00286"></a>00286   <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>,ch))
<a name="l00287"></a>00287     <span class="keywordflow">return</span> <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>,ch).equation().zone_Cl_dis().valeur();
<a name="l00288"></a>00288   <span class="keywordflow">else</span>
<a name="l00289"></a>00289     {
<a name="l00290"></a>00290       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;No zcl_dis is available for the field &quot;</span>&lt;&lt;ch.<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00291"></a>00291       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00292"></a>00292     }
<a name="l00293"></a>00293 
<a name="l00294"></a>00294 <span class="comment">// Pour compilation</span>
<a name="l00295"></a>00295   <span class="keywordflow">return</span> <a class="code" href="classChamp__Generique__refChamp.html#a0497f96d795fd3b41cc5488ab43570bc" title="Renvoie une ref a la zone_cl_discretisee de l equation portant le champ cible.">get_ref_zcl_dis_base</a>();
<a name="l00296"></a>00296 }
<a name="l00297"></a>00297 
<a name="l00298"></a><a class="code" href="classChamp__Generique__refChamp.html#a2780d06f65a40fc0dd63a07224ec59fe">00298</a> <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; <a class="code" href="classChamp__Generique__refChamp.html#a2780d06f65a40fc0dd63a07224ec59fe" title="Renvoie une reference au tableau des coordonnees des sommets du maillage support du champ...">Champ_Generique_refChamp::get_ref_coordinates</a>()<span class="keyword"> const</span>
<a name="l00299"></a>00299 <span class="keyword"></span>{
<a name="l00300"></a>00300   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord = <a class="code" href="classChamp__Generique__base.html#a97a45e028a85f80040aae39676e59bf7" title="Renvoie une ref au domaine sur lequel sera evalue l espace de stockage. Par defaut le domaine associe...">get_ref_domain</a>().<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>();
<a name="l00301"></a>00301   <span class="keywordflow">return</span> coord;
<a name="l00302"></a>00302 }
<a name="l00303"></a>00303 
<a name="l00304"></a><a class="code" href="classChamp__Generique__refChamp.html#a2df5b53af9686b06b80f719d2f8482f9">00304</a> <span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#a2df5b53af9686b06b80f719d2f8482f9">Champ_Generique_refChamp::get_copy_coordinates</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coordinates)<span class="keyword"> const</span>
<a name="l00305"></a>00305 <span class="keyword"></span>{
<a name="l00306"></a>00306   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord = <a class="code" href="classChamp__Generique__refChamp.html#a2780d06f65a40fc0dd63a07224ec59fe" title="Renvoie une reference au tableau des coordonnees des sommets du maillage support du champ...">get_ref_coordinates</a>();
<a name="l00307"></a>00307   coordinates = coord;
<a name="l00308"></a>00308 }
<a name="l00309"></a>00309 
<a name="l00310"></a><a class="code" href="classChamp__Generique__refChamp.html#abb1c091217d4f3602b6df57d4e956553">00310</a> <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; <a class="code" href="classChamp__Generique__refChamp.html#abb1c091217d4f3602b6df57d4e956553" title="Renvoie le tableau de connectivite entre l&#39;entite geometrique index1 et l&#39;entite index2. Par exemple get_ref_connectivity(ELEM, NODE) = Zone::mes_elems get_ref_connectivity(ELEM, FACE) = ZoneVF::elem_faces_ get_ref_connectivity(FACE, ELEM) = ZoneVF::face_voisins_ Le tableau a toujours deux dimensions : dimension(0) = nombre d&#39;entites &quot;index1&quot; reelles dimension(1) = nombre d&#39;entites &quot;index2&quot; connectees a chaque entite &quot;index1&quot; En parallele, le tableau est un tableau distribue avec items communs Exceptions: - GenericFieldError::INVALID : le tableau n&#39;existe pas (champ analytique ...) - GenericFieldError::NO_REF : les valeurs ne sont pas stockees en memoire, il faut utiliser get_copy_connectivity();.">Champ_Generique_refChamp::get_ref_connectivity</a>(<a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffb">Entity</a> index1, <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffb">Entity</a> index2)<span class="keyword"> const</span>
<a name="l00311"></a>00311 <span class="keyword"></span>{
<a name="l00312"></a>00312   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch = <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>();
<a name="l00313"></a>00313   <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; zone_dis_base = ch.<a class="code" href="classChamp__base.html#a298ee24f3efdf2f60f39a13966a20bcd">zone_dis_base</a>();
<a name="l00314"></a>00314   <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone = zone_dis_base.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>();
<a name="l00315"></a>00315   <span class="keyword">const</span> <a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>&amp; zone_vf = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>, zone_dis_base);
<a name="l00316"></a>00316 
<a name="l00317"></a>00317   <span class="keywordflow">switch</span>(index1)
<a name="l00318"></a>00318     {
<a name="l00319"></a>00319     <span class="keywordflow">case</span> <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba3d10bfe84917127ab3347aa5c6309f33">ELEMENT</a>:
<a name="l00320"></a>00320       {
<a name="l00321"></a>00321         <span class="keywordflow">switch</span>(index2)
<a name="l00322"></a>00322           {
<a name="l00323"></a>00323           <span class="keywordflow">case</span> <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba59a889456a2d742fdca191dccb3e871d">NODE</a>:
<a name="l00324"></a>00324             <span class="keywordflow">return</span> zone.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
<a name="l00325"></a>00325           <span class="keywordflow">case</span> <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba5cfae78048cf95359061c2e812e7d691">FACE</a>:
<a name="l00326"></a>00326             <span class="keywordflow">return</span> zone_vf.<a class="code" href="classZone__VF.html#a067e462dcd3ab92b0f6d945b19e4eb37" title="renvoie le numero de le ieme face de la maille num_elem la facon dont ces faces sont numerotees est l...">elem_faces</a>();
<a name="l00327"></a>00327           <span class="keywordflow">default</span> :
<a name="l00328"></a>00328             {
<a name="l00329"></a>00329               <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00330"></a>00330             }
<a name="l00331"></a>00331           }
<a name="l00332"></a>00332         <span class="keywordflow">break</span>;
<a name="l00333"></a>00333       }
<a name="l00334"></a>00334     <span class="keywordflow">case</span> <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba5cfae78048cf95359061c2e812e7d691">FACE</a>:
<a name="l00335"></a>00335       {
<a name="l00336"></a>00336         <span class="keywordflow">switch</span>(index2)
<a name="l00337"></a>00337           {
<a name="l00338"></a>00338           <span class="keywordflow">case</span> <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba59a889456a2d742fdca191dccb3e871d">NODE</a>:
<a name="l00339"></a>00339             <span class="keywordflow">return</span> zone_vf.<a class="code" href="classZone__VF.html#a298e73b18e17da55f421b1fb0879bd46" title="renvoie le numero du ieme sommet de la face num_face.">face_sommets</a>();
<a name="l00340"></a>00340           <span class="keywordflow">case</span> <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffba3d10bfe84917127ab3347aa5c6309f33">ELEMENT</a>:
<a name="l00341"></a>00341             <span class="keywordflow">return</span> zone_vf.<a class="code" href="classZone__VF.html#a49d4322f5585a8fa95748ca785b70702" title="renvoie l&#39;element voisin de numface dans la direction i. i=0 : dans le sens oppose de l&#39;axe orthogona...">face_voisins</a>();
<a name="l00342"></a>00342           <span class="keywordflow">default</span> :
<a name="l00343"></a>00343             {
<a name="l00344"></a>00344               <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00345"></a>00345             }
<a name="l00346"></a>00346           }
<a name="l00347"></a>00347         <span class="keywordflow">break</span>;
<a name="l00348"></a>00348       }
<a name="l00349"></a>00349     <span class="keywordflow">default</span> :
<a name="l00350"></a>00350       {
<a name="l00351"></a>00351         <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00352"></a>00352       }
<a name="l00353"></a>00353     }
<a name="l00354"></a>00354   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> <a class="code" href="Reordonner__faces__periodiques_8cpp.html#a137d78a01e63d3b66d1b2ed0de0f4c4c">message</a>=<span class="stringliteral">&quot;Invalid localization used for postprocessing the field &quot;</span>;
<a name="l00355"></a>00355   message+=ch.<a class="code" href="classField__base.html#ae1377124eabe8387aced762115b062bb" title="Renvoie le nom du champ.">le_nom</a>()+<span class="stringliteral">&quot;. Change your data file.&quot;</span>;
<a name="l00356"></a>00356   <span class="keywordflow">throw</span> <a class="code" href="classChamp__Generique__erreur.html">Champ_Generique_erreur</a>(message);
<a name="l00357"></a>00357 <span class="comment">// On n&#39;arrive jamais ici</span>
<a name="l00358"></a>00358   <span class="keywordflow">return</span> <a class="code" href="classChamp__Generique__refChamp.html#abb1c091217d4f3602b6df57d4e956553" title="Renvoie le tableau de connectivite entre l&#39;entite geometrique index1 et l&#39;entite index2. Par exemple get_ref_connectivity(ELEM, NODE) = Zone::mes_elems get_ref_connectivity(ELEM, FACE) = ZoneVF::elem_faces_ get_ref_connectivity(FACE, ELEM) = ZoneVF::face_voisins_ Le tableau a toujours deux dimensions : dimension(0) = nombre d&#39;entites &quot;index1&quot; reelles dimension(1) = nombre d&#39;entites &quot;index2&quot; connectees a chaque entite &quot;index1&quot; En parallele, le tableau est un tableau distribue avec items communs Exceptions: - GenericFieldError::INVALID : le tableau n&#39;existe pas (champ analytique ...) - GenericFieldError::NO_REF : les valeurs ne sont pas stockees en memoire, il faut utiliser get_copy_connectivity();.">get_ref_connectivity</a>(index1,index2);
<a name="l00359"></a>00359 }
<a name="l00360"></a>00360 
<a name="l00361"></a><a class="code" href="classChamp__Generique__refChamp.html#a72dfec6738e90b8bde27d8c9ea54157c">00361</a> <span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#a72dfec6738e90b8bde27d8c9ea54157c">Champ_Generique_refChamp::get_copy_connectivity</a>(<a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffb">Entity</a> index1, <a class="code" href="Champ__Generique__base_8h.html#a2228f5f8d54732b2077779d47c6f5ffb">Entity</a> index2, <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; tab)<span class="keyword"> const</span>
<a name="l00362"></a>00362 <span class="keyword"></span>{
<a name="l00363"></a>00363   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; connectivity = <a class="code" href="classChamp__Generique__refChamp.html#abb1c091217d4f3602b6df57d4e956553" title="Renvoie le tableau de connectivite entre l&#39;entite geometrique index1 et l&#39;entite index2. Par exemple get_ref_connectivity(ELEM, NODE) = Zone::mes_elems get_ref_connectivity(ELEM, FACE) = ZoneVF::elem_faces_ get_ref_connectivity(FACE, ELEM) = ZoneVF::face_voisins_ Le tableau a toujours deux dimensions : dimension(0) = nombre d&#39;entites &quot;index1&quot; reelles dimension(1) = nombre d&#39;entites &quot;index2&quot; connectees a chaque entite &quot;index1&quot; En parallele, le tableau est un tableau distribue avec items communs Exceptions: - GenericFieldError::INVALID : le tableau n&#39;existe pas (champ analytique ...) - GenericFieldError::NO_REF : les valeurs ne sont pas stockees en memoire, il faut utiliser get_copy_connectivity();.">get_ref_connectivity</a>(index1, index2);
<a name="l00364"></a>00364   tab = connectivity;
<a name="l00365"></a>00365 }
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 <span class="comment">// Renvoie le probleme qui porte le champ cible</span>
<a name="l00368"></a><a class="code" href="classChamp__Generique__refChamp.html#aacf7c78ffe6c5e80b455bf8ac3c1f8a7">00368</a> <span class="keyword">const</span> <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; <a class="code" href="classChamp__Generique__refChamp.html#aacf7c78ffe6c5e80b455bf8ac3c1f8a7">Champ_Generique_refChamp::get_ref_pb_base</a>()<span class="keyword"> const</span>
<a name="l00369"></a>00369 <span class="keyword"></span>{
<a name="l00370"></a>00370   <span class="keywordflow">return</span> <a class="code" href="classChamp__Generique__base.html#a40c42835f566e9d10a0d12c9b2a8cf25">ref_pb_</a>;
<a name="l00371"></a>00371 }
<a name="l00372"></a>00372 
<a name="l00373"></a>00373 <span class="comment">//</span>
<a name="l00374"></a>00374 <span class="comment">//</span>
<a name="l00375"></a>00375 <span class="comment">//</span>
<a name="l00376"></a>00376 <span class="comment">//</span>
<a name="l00377"></a>00377 <span class="comment">//</span><span class="comment"></span>
<a name="l00378"></a>00378 <span class="comment">//! Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe.&lt;br&gt;A terme, cette methode disparaitra de la classe GenericField_base mais reste&lt;br&gt;dans celle-ci (on y teste si le champ a ete associe).&lt;br&gt;Exceptions:&lt;br&gt;Champ_Generique_erreur(&quot;NOT_INITIALIZED&quot;)</span>
<a name="l00379"></a><a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28">00379</a> <span class="comment"></span><span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">Champ_Generique_refChamp::get_ref_champ_base</a>()<span class="keyword"> const</span>
<a name="l00380"></a>00380 <span class="keyword"></span>{
<a name="l00381"></a>00381   <span class="keywordflow">if</span> (!<a class="code" href="classChamp__Generique__refChamp.html#aa35f32a196c8caefafc8c6e87ddc8993">ref_champ_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00382"></a>00382     <span class="keywordflow">throw</span> <a class="code" href="classChamp__Generique__erreur.html">Champ_Generique_erreur</a>(<span class="stringliteral">&quot;NOT_INITIALIZED&quot;</span>);
<a name="l00383"></a>00383   <span class="keywordflow">return</span> <a class="code" href="classChamp__Generique__refChamp.html#aa35f32a196c8caefafc8c6e87ddc8993">ref_champ_</a>.<a class="code" href="classRef__Champ__base.html#a0cda53fe61d4f24bc8861720d525b32a">valeur</a>();
<a name="l00384"></a>00384 }
<a name="l00385"></a>00385 
<a name="l00386"></a><a class="code" href="classChamp__Generique__refChamp.html#a6aeffc908d526b0844782aff931f8167">00386</a> <span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#a6aeffc908d526b0844782aff931f8167">Champ_Generique_refChamp::reset</a>()
<a name="l00387"></a>00387 {
<a name="l00388"></a>00388   <a class="code" href="classChamp__Generique__refChamp.html#aa35f32a196c8caefafc8c6e87ddc8993">ref_champ_</a>.<a class="code" href="classRef__.html#aefc8130f02e22c692853dd435cbd1c18" title="Annule la ref.">reset</a>();
<a name="l00389"></a>00389   <a class="code" href="classChamp__Generique__refChamp.html#aa0c083eef497eb2efca4c49a2199cca2">localisation_</a> = <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>();
<a name="l00390"></a>00390 }
<a name="l00391"></a>00391 
<a name="l00392"></a><a class="code" href="classChamp__Generique__refChamp.html#a2bf876d32ddcc263231ee0f02dc1243d">00392</a> <span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#a2bf876d32ddcc263231ee0f02dc1243d">Champ_Generique_refChamp::completer</a>(<span class="keyword">const</span> <a class="code" href="classPostraitement__base.html" title="Classe de base pour l&#39;ensemble des postraitements.">Postraitement_base</a>&amp; post)
<a name="l00393"></a>00393 {
<a name="l00394"></a>00394   <a class="code" href="classChamp__Generique__refChamp.html#a9a58f9f0f64c9262e1ba19f737c7cc99">nommer_source</a>();
<a name="l00395"></a>00395 }
<a name="l00396"></a>00396 
<a name="l00397"></a>00397 <span class="comment">//</span>
<a name="l00398"></a>00398 <span class="comment">//</span>
<a name="l00399"></a>00399 <span class="comment">//</span>
<a name="l00400"></a>00400 <span class="comment">//</span><span class="comment"></span>
<a name="l00401"></a>00401 <span class="comment">//! Voir Champ_Generique_base::mettre_a_jour&lt;br&gt;Si le champ est champ_inc dans l&#39;equation, il doit deja avoir&lt;br&gt;ete mis a jour par l&#39;equation.&lt;br&gt;Si c est un clacule, l actualisation est faite dans get_champ</span>
<a name="l00402"></a><a class="code" href="classChamp__Generique__refChamp.html#ae2f5cb61f01fab0b49cbdccfe71f9a71">00402</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#ae2f5cb61f01fab0b49cbdccfe71f9a71" title="Voir Champ_Generique_base::mettre_a_jour Si le champ est champ_inc dans l&#39;equation, il doit deja avoir ete mis a jour par l&#39;equation. Si c est un clacule, l actualisation est faite dans get_champ.">Champ_Generique_refChamp::mettre_a_jour</a>(<span class="keywordtype">double</span> temps)
<a name="l00403"></a>00403 {
<a name="l00404"></a>00404 
<a name="l00405"></a>00405 }
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 <span class="comment">//</span>
<a name="l00408"></a>00408 <span class="comment">//</span><span class="comment"></span>
<a name="l00409"></a>00409 <span class="comment">//! Voir Champ_Generique_base::get_champ.&lt;br&gt;Ici, l&#39;espace_stockage n&#39;est pas utilise, le champ existe deja</span>
<a name="l00410"></a><a class="code" href="classChamp__Generique__refChamp.html#a39ab29b6d11f1e39d36b42a3ae69545d">00410</a> <span class="comment"></span><span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; <a class="code" href="classChamp__Generique__refChamp.html#a39ab29b6d11f1e39d36b42a3ae69545d" title="Voir Champ_Generique_base::get_champ. Ici, l&#39;espace_stockage n&#39;est pas utilise, le champ existe deja...">Champ_Generique_refChamp::get_champ</a>(<a class="code" href="classChamp.html" title="class Champ Cette classe sert a representer n&#39;importe quelle classe derivee de la classe Champ_base...">Champ</a>&amp; espace_stockage)<span class="keyword"> const</span>
<a name="l00411"></a>00411 <span class="keyword"></span>{
<a name="l00412"></a>00412   {
<a name="l00413"></a>00413     <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nom_cible = <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>().<a class="code" href="classField__base.html#ae1377124eabe8387aced762115b062bb" title="Renvoie le nom du champ.">le_nom</a>();
<a name="l00414"></a>00414     <a class="code" href="classChamp__Generique__base.html#a40c42835f566e9d10a0d12c9b2a8cf25">ref_pb_</a>-&gt;get_champ(nom_cible);
<a name="l00415"></a>00415     <span class="keywordflow">return</span> <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>();
<a name="l00416"></a>00416   }
<a name="l00417"></a>00417 }
<a name="l00418"></a>00418 
<a name="l00419"></a><a class="code" href="classChamp__Generique__refChamp.html#a2d79d1e87655eb338a3d95ee45b65119">00419</a> <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; <a class="code" href="classChamp__Generique__refChamp.html#a2d79d1e87655eb338a3d95ee45b65119">Champ_Generique_refChamp::get_champ_without_evaluation</a>(<a class="code" href="classChamp.html" title="class Champ Cette classe sert a representer n&#39;importe quelle classe derivee de la classe Champ_base...">Champ</a>&amp; espace_stockage)<span class="keyword"> const</span>
<a name="l00420"></a>00420 <span class="keyword"></span>{
<a name="l00421"></a>00421   <span class="keywordflow">return</span> <a class="code" href="classChamp__Generique__refChamp.html#a39ab29b6d11f1e39d36b42a3ae69545d" title="Voir Champ_Generique_base::get_champ. Ici, l&#39;espace_stockage n&#39;est pas utilise, le champ existe deja...">get_champ</a>(espace_stockage);
<a name="l00422"></a>00422 }
<a name="l00423"></a>00423 
<a name="l00424"></a>00424 <span class="comment">//</span><span class="comment"></span>
<a name="l00425"></a>00425 <span class="comment">//! Associe le champ et determine sa localisation.</span>
<a name="l00426"></a><a class="code" href="classChamp__Generique__refChamp.html#a0f592f0d192b677492c2ba1760aaa9cf">00426</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#a0f592f0d192b677492c2ba1760aaa9cf" title="Associe le champ et determine sa localisation.">Champ_Generique_refChamp::set_ref_champ</a>(<span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; champ)
<a name="l00427"></a>00427 {
<a name="l00428"></a>00428   assert(!<a class="code" href="classChamp__Generique__refChamp.html#aa35f32a196c8caefafc8c6e87ddc8993">ref_champ_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>());
<a name="l00429"></a>00429   <a class="code" href="classChamp__Generique__refChamp.html#aa35f32a196c8caefafc8c6e87ddc8993">ref_champ_</a> = champ;
<a name="l00430"></a>00430 
<a name="l00431"></a>00431 <span class="comment">// Determination de la localisation du champ</span>
<a name="l00432"></a>00432 <span class="comment">// On code quelques champs de types connus...</span>
<a name="l00433"></a>00433 <span class="comment">// Pour les autres, il faut les interpoler quelque part.</span>
<a name="l00434"></a>00434 <span class="comment">// L&#39;ideal serait la localisation soit une propriete du champ discret lui-meme.</span>
<a name="l00435"></a>00435 
<a name="l00436"></a>00436   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> type = champ.<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
<a name="l00437"></a>00437   type.<a class="code" href="classNom.html#aa7ed1cd0c30f7c698120b2e48e2c1bae" title="Transforme le nom en majuscules Seules les lettres &#39;a&#39;-&#39;z&#39; sont modifiees.">majuscule</a>();
<a name="l00438"></a>00438 
<a name="l00439"></a>00439   <span class="keywordflow">if</span> (type.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;CHAMP_P0&quot;</span>))
<a name="l00440"></a>00440     {
<a name="l00441"></a>00441       <a class="code" href="classChamp__Generique__refChamp.html#aa0c083eef497eb2efca4c49a2199cca2">localisation_</a> = <span class="stringliteral">&quot;ELEMENTS&quot;</span>;
<a name="l00442"></a>00442     }
<a name="l00443"></a>00443   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;CHAMP_P1&quot;</span>)
<a name="l00444"></a>00444     {
<a name="l00445"></a>00445       <a class="code" href="classChamp__Generique__refChamp.html#aa0c083eef497eb2efca4c49a2199cca2">localisation_</a> = <span class="stringliteral">&quot;SOMMETS&quot;</span>;
<a name="l00446"></a>00446     }
<a name="l00447"></a>00447   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;CHAMP_FACE&quot;</span>))
<a name="l00448"></a>00448     {
<a name="l00449"></a>00449       <a class="code" href="classChamp__Generique__refChamp.html#aa0c083eef497eb2efca4c49a2199cca2">localisation_</a> = <span class="stringliteral">&quot;FACES&quot;</span>;
<a name="l00450"></a>00450     }
<a name="l00451"></a>00451   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <span class="stringliteral">&quot;CHAMP_P1NC&quot;</span>)
<a name="l00452"></a>00452     {
<a name="l00453"></a>00453       <a class="code" href="classChamp__Generique__refChamp.html#aa0c083eef497eb2efca4c49a2199cca2">localisation_</a> = <span class="stringliteral">&quot;FACES&quot;</span>;
<a name="l00454"></a>00454     }
<a name="l00455"></a>00455   <span class="keywordflow">else</span>
<a name="l00456"></a>00456     {
<a name="l00457"></a>00457       <a class="code" href="classChamp__Generique__refChamp.html#aa0c083eef497eb2efca4c49a2199cca2">localisation_</a> = <span class="stringliteral">&quot;LOCALISATION_INCONNUE&quot;</span>;
<a name="l00458"></a>00458     }
<a name="l00459"></a>00459 }
<a name="l00460"></a>00460 
<a name="l00461"></a>00461 <span class="comment">// Renvoie le temps du champ cible</span>
<a name="l00462"></a><a class="code" href="classChamp__Generique__refChamp.html#afc94eae1ee786f75cdd8100de4e81bf3">00462</a> <span class="keywordtype">double</span> <a class="code" href="classChamp__Generique__refChamp.html#afc94eae1ee786f75cdd8100de4e81bf3" title="Renvoie le temps du Champ_Generique.">Champ_Generique_refChamp::get_time</a>()<span class="keyword"> const</span>
<a name="l00463"></a>00463 <span class="keyword"></span>{
<a name="l00464"></a>00464   <span class="keywordtype">double</span> temps;
<a name="l00465"></a>00465   temps = <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>().<a class="code" href="classChamp__base.html#ada7350aecb7b6f20dcaee2d1106ab1a0" title="Renvoie le temps du champ.">temps</a>();
<a name="l00466"></a>00466   <span class="keywordflow">return</span> temps;
<a name="l00467"></a>00467 }
<a name="l00468"></a>00468 
<a name="l00469"></a>00469 <span class="comment">// Renvoie la directive (champ_elem, champ_sommets, champ_face ou pression)</span>
<a name="l00470"></a>00470 <span class="comment">// pour lancer la discretisation de l espace de stockage rendu par</span>
<a name="l00471"></a>00471 <span class="comment">// la methode get_champ() du Champ_Generique qui a lance l appel de cette methode</span>
<a name="l00472"></a><a class="code" href="classChamp__Generique__refChamp.html#abd9ed676ef3a0c9c709e934f9fbf9990">00472</a> <span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> <a class="code" href="classChamp__Generique__refChamp.html#abd9ed676ef3a0c9c709e934f9fbf9990">Champ_Generique_refChamp::get_directive_pour_discr</a>()<span class="keyword"> const</span>
<a name="l00473"></a>00473 <span class="keyword"></span>{
<a name="l00474"></a>00474   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> directive;
<a name="l00475"></a>00475   <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; ch = <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>();
<a name="l00476"></a>00476 
<a name="l00477"></a>00477 <span class="comment">// Champs discrets a une seule localisation :</span>
<a name="l00478"></a>00478   <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Inc__P0__base.html" title=": class Champ_Inc_P0_base Decrire ici la classe Champ_Inc_P0_base">Champ_Inc_P0_base</a>,ch) || <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Fonc__P0__base.html" title=": class Champ_Fonc_P0_base Decrire ici la classe Champ_Fonc_P0_base">Champ_Fonc_P0_base</a>,ch))
<a name="l00479"></a>00479     {
<a name="l00480"></a>00480       directive = <span class="stringliteral">&quot;champ_elem&quot;</span>;
<a name="l00481"></a>00481 <span class="comment">// assert(localisation_==&quot;ELEMENTS&quot;);</span>
<a name="l00482"></a>00482     }
<a name="l00483"></a>00483   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Inc__P1__base.html" title=": class Champ_Inc_P1_base Decrire ici la classe Champ_Inc_P1_base">Champ_Inc_P1_base</a>,ch) || <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Fonc__P1__base.html" title=": class Champ_Fonc_P1_base Decrire ici la classe Champ_Fonc_P1_base">Champ_Fonc_P1_base</a>,ch)
<a name="l00484"></a>00484            || <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Inc__P1__base.html" title=": class Champ_Inc_P1_base Decrire ici la classe Champ_Inc_P1_base">Champ_Inc_P1_base</a>,ch) || <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Inc__Q1__base.html" title=": class Champ_Inc_Q1_base Decrire ici la classe Champ_Inc_Q1_base">Champ_Inc_Q1_base</a>,ch)
<a name="l00485"></a>00485            || <a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Fonc__Q1__base.html" title=": class Champ_Fonc_Q1_base Decrire ici la classe Champ_Fonc_Q1_base">Champ_Fonc_Q1_base</a>,ch))
<a name="l00486"></a>00486     {
<a name="l00487"></a>00487       directive = <span class="stringliteral">&quot;champ_sommets&quot;</span>;
<a name="l00488"></a>00488 <span class="comment">// assert(localisation_==&quot;SOMMETS&quot;);</span>
<a name="l00489"></a>00489     }
<a name="l00490"></a>00490   <span class="keywordflow">else</span>
<a name="l00491"></a>00491     {
<a name="l00492"></a>00492       <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; type = ch.<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
<a name="l00493"></a>00493       <span class="keywordflow">if</span> ((type.<a class="code" href="classNom.html#a41b0ba18fb90d481c0828ed4372de8ee">debute_par</a>(<span class="stringliteral">&quot;Champ_Face&quot;</span>)) || (type==<span class="stringliteral">&quot;Champ_P1NC&quot;</span>) || (type==<span class="stringliteral">&quot;Champ_Q1NC&quot;</span>) ||
<a name="l00494"></a>00494           (type==<span class="stringliteral">&quot;Champ_Fonc_Face&quot;</span>) || (type==<span class="stringliteral">&quot;Champ_Fonc_P1NC&quot;</span>) || (type==<span class="stringliteral">&quot;Champ_Fonc_Q1NC&quot;</span>))
<a name="l00495"></a>00495         {
<a name="l00496"></a>00496           directive = <span class="stringliteral">&quot;champ_face&quot;</span>;
<a name="l00497"></a>00497 <span class="comment">// assert(localisation_==&quot;FACES&quot;);</span>
<a name="l00498"></a>00498         }
<a name="l00499"></a>00499       <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((type==<span class="stringliteral">&quot;Champ_P1_isoP1Bulle&quot;</span>) || (type==<span class="stringliteral">&quot;Champ_Fonc_P1_isoP1Bulle&quot;</span>))
<a name="l00500"></a>00500         {
<a name="l00501"></a>00501           directive = <span class="stringliteral">&quot;pression&quot;</span>;
<a name="l00502"></a>00502         }
<a name="l00503"></a>00503       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,ch))
<a name="l00504"></a>00504         {
<a name="l00505"></a>00505           directive = <span class="stringliteral">&quot;champ_uniforme&quot;</span>;
<a name="l00506"></a>00506         }
<a name="l00507"></a>00507 
<a name="l00508"></a>00508       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Don__base.html" title="classe Champ_Don_base classe de base des Champs donnes (non calcules) les proprietes physiques sont d...">Champ_Don_base</a>,ch))
<a name="l00509"></a>00509         {
<a name="l00510"></a>00510           directive = <span class="stringliteral">&quot;champ_don&quot;</span>;
<a name="l00511"></a>00511         }
<a name="l00512"></a>00512 
<a name="l00513"></a>00513       <span class="keywordflow">else</span>
<a name="l00514"></a>00514         {
<a name="l00515"></a>00515           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;No directive is available to create a storing field for the source field of type &quot;</span>&lt;&lt;ch.<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00516"></a>00516           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00517"></a>00517         }
<a name="l00518"></a>00518     }
<a name="l00519"></a>00519 
<a name="l00520"></a>00520   <span class="keywordflow">return</span> directive;
<a name="l00521"></a>00521 
<a name="l00522"></a>00522 }
<a name="l00523"></a>00523 
<a name="l00524"></a><a class="code" href="classChamp__Generique__refChamp.html#aee7b8b9dcbab2895a2f2b32b49125424">00524</a> <span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#aee7b8b9dcbab2895a2f2b32b49125424">Champ_Generique_refChamp::set_nom_champ</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; nom)
<a name="l00525"></a>00525 {
<a name="l00526"></a>00526   <a class="code" href="classChamp__Generique__refChamp.html#a3971ebf189bd502299e40c1daa888a99">nom_champ_</a>=nom;
<a name="l00527"></a>00527 }
<a name="l00528"></a>00528 
<a name="l00529"></a>00529 <span class="comment">// Nomme le champ en tant que source par defaut</span>
<a name="l00530"></a>00530 <span class="comment">// nom_champ_base + &quot;_natif_&quot; + nom_dom_natif</span>
<a name="l00531"></a><a class="code" href="classChamp__Generique__refChamp.html#a9a58f9f0f64c9262e1ba19f737c7cc99">00531</a> <span class="keywordtype">void</span> <a class="code" href="classChamp__Generique__refChamp.html#a9a58f9f0f64c9262e1ba19f737c7cc99">Champ_Generique_refChamp::nommer_source</a>()
<a name="l00532"></a>00532 {
<a name="l00533"></a>00533   <span class="keywordflow">if</span> (<a class="code" href="classChamp__Generique__base.html#ae62b052dfbd7325d47584487401729e4">nom_post_</a>==<span class="stringliteral">&quot;??&quot;</span>)
<a name="l00534"></a>00534     {
<a name="l00535"></a>00535       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_post_source, nom_champ_base, nom_dom_natif;
<a name="l00536"></a>00536       nom_champ_base = <a class="code" href="classChamp__Generique__refChamp.html#a7170b45ff237ba21467397e498399a28" title="Renvoie le champ_base sous-jacent. Teste si le champ a bien ete associe. A terme, cette methode dispa...">get_ref_champ_base</a>().<a class="code" href="classField__base.html#ae1377124eabe8387aced762115b062bb" title="Renvoie le nom du champ.">le_nom</a>();
<a name="l00537"></a>00537       nom_dom_natif = <a class="code" href="classChamp__Generique__base.html#a97a45e028a85f80040aae39676e59bf7" title="Renvoie une ref au domaine sur lequel sera evalue l espace de stockage. Par defaut le domaine associe...">get_ref_domain</a>().<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>();
<a name="l00538"></a>00538       nom_post_source =  nom_champ_base + <span class="stringliteral">&quot;_natif_&quot;</span> + nom_dom_natif;
<a name="l00539"></a>00539       <a class="code" href="classChamp__Generique__base.html#acbc36c368468eb035e9dbb499c655992" title="Donne un nom a l&#39;Objet_U Methode virtuelle a surcharger.">nommer</a>(nom_post_source);
<a name="l00540"></a>00540     }
<a name="l00541"></a>00541 }
<a name="l00542"></a>00542 
<a name="l00543"></a><a class="code" href="classChamp__Generique__refChamp.html#a205000cdce696612dd385ce1537a55ef">00543</a> <span class="keywordtype">int</span> <a class="code" href="classChamp__Generique__refChamp.html#a205000cdce696612dd385ce1537a55ef">Champ_Generique_refChamp::get_info_type_post</a>()<span class="keyword"> const</span>
<a name="l00544"></a>00544 <span class="keyword"></span>{
<a name="l00545"></a>00545   <span class="keywordflow">return</span> 0;
<a name="l00546"></a>00546 }
<a name="l00547"></a>00547 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:13 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
