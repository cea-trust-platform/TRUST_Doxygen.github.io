<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: Schema_Comm_Vecteurs Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Schema_Comm_Vecteurs Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Schema_Comm_Vecteurs" -->
<p>Classe outil utilisee notamment par les methodes MD_Vector::echange_espace_virtuel()<br/>
Permet d'echanger avec d'autres processeurs des blocs d'ints ou de double<br/>
accessibles par des tableaux dans lesquels on lit et on ecrit directement&lt;br&gt;(contrairement a Schema_Comm qui utilise readOn et printOn, plus lent).<br/>
Pour des raisons de performances, la communication est separee en deux parties<br/>
- definition des tailles de buffers (permet d'allouer a l'avance les bufffers<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#a611c6c0d69aae3a85657a4811a745dd6" title="Reinitialise les tailles de buffers. Il faut ensuite definir les tailles de buffers avec add_send/rec...">begin_init()</a><br/>
add_send/recv_area_int/double(processeur, size)<br/>
(declaration des types, tailles et processeurs destinataire des blocs que l'on va envoyer,<br/>
on peut envoyer plusieurs blocs de types identiques ou differents a chaque processeur)<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#a60c477436f012ff4caadc23b4f6626d9" title="Une fois les donnees a echanger declarees avec add_send/recv_area_...(), initialise les offset de buf...">end_init()</a><br/>
- echange de donnees (autant de fois qu'on veut):<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#a5174c71752ad18a1ebad363832aa97fe" title="Commence un nouvel echange de donnees (les tailles de buffers doivent avoir ete initialisees avec beg...">begin_comm()</a><br/>
for(each bloc to send) {<br/>
ArrOfInt/Double &amp; buf = get_next_area_int/double(pe, size);<br/>
for (i=0; i&lt;size; i++)<br/>
buf[i] = ...<br/>
}<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#abf1ef0ef60e6756f9c4c8346262a35b1">exchange()</a>;<br/>
for (each bloc to recv) {<br/>
... get_next_area_int/double(...)<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#a09f608641aa8e3349ac966b1eb3b07e1">end_comm()</a>;.  
 <a href="classSchema__Comm__Vecteurs.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>&gt;</code></p>

<p><a href="classSchema__Comm__Vecteurs-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a6951f896ebedb99dad6dfbcfe4be7a67">Schema_Comm_Vecteurs</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#ad98e7188d4e47242a0fae0c98a49cbdb">~Schema_Comm_Vecteurs</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a611c6c0d69aae3a85657a4811a745dd6">begin_init</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reinitialise les tailles de buffers.<br/>
Il faut ensuite definir les tailles de buffers avec add_send/recv_area_...()<br/>
Cette methode doit etre appelee simultanement sur tous les processeurs du groupe.  <a href="#a611c6c0d69aae3a85657a4811a745dd6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a80428288ac46f964239cf75adff9e426">add_send_area_int</a> (int pe, int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a64e4789eec21a8a401107adb1aaa65eb">add_send_area_double</a> (int pe, int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a7e0bf8bf0137f69808fb319802b29782">add_recv_area_int</a> (int pe, int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a1e886aafb0edbc524e3426786d268ff1">add_recv_area_double</a> (int pe, int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a60c477436f012ff4caadc23b4f6626d9">end_init</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Une fois les donnees a echanger declarees avec add_send/recv_area_...(),<br/>
initialise les offset de buffers et alloue un buffer global de taille<br/>
suffisante.<br/>
Methode a appeler par tous les processeurs du groupe.  <a href="#a60c477436f012ff4caadc23b4f6626d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a5174c71752ad18a1ebad363832aa97fe">begin_comm</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Commence un nouvel echange de donnees (les tailles de buffers<br/>
doivent avoir ete initialisees avec <a class="el" href="classSchema__Comm__Vecteurs.html#a611c6c0d69aae3a85657a4811a745dd6" title="Reinitialise les tailles de buffers. Il faut ensuite definir les tailles de buffers avec add_send/rec...">begin_init()</a> ... <a class="el" href="classSchema__Comm__Vecteurs.html#a60c477436f012ff4caadc23b4f6626d9" title="Une fois les donnees a echanger declarees avec add_send/recv_area_...(), initialise les offset de buf...">end_init()</a>)<br/>
On place les sdata_.buf_pointers_ au debut des buffers pour chaque<br/>
processeur pour lequel un buffer a ete declare en "send"<br/>
Apres <a class="el" href="classSchema__Comm__Vecteurs.html#a5174c71752ad18a1ebad363832aa97fe" title="Commence un nouvel echange de donnees (les tailles de buffers doivent avoir ete initialisees avec beg...">begin_comm()</a>, il faut remplir les buffers en utilisant<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#ae31bd8f65b3b9ff75f5e8f12f94f5ebf" title="renvoie un tableau contenant les &quot;size&quot; valeurs suivantes recues du processeur pe lors de la commun...">get_next_area_int()</a> ou <a class="el" href="classSchema__Comm__Vecteurs.html#a22d534079143232b4a9db96c93288782">get_next_area_double()</a> dans le meme<br/>
ordre que celui declare dans la phase d'initialisation,<br/>
puis appeler <a class="el" href="classSchema__Comm__Vecteurs.html#abf1ef0ef60e6756f9c4c8346262a35b1">exchange()</a>  <a href="#a5174c71752ad18a1ebad363832aa97fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#abf1ef0ef60e6756f9c4c8346262a35b1">exchange</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a09f608641aa8e3349ac966b1eb3b07e1">end_comm</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#ae31bd8f65b3b9ff75f5e8f12f94f5ebf">get_next_area_int</a> (int pe, int array_size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">renvoie un tableau contenant les "size" valeurs suivantes<br/>
recues du processeur pe lors de la communication en cours.<br/>
Attention:<br/>
Le tableau renvoye est une reference a un tableau interne qui n'est valide que<br/>
jusqu'au prochain appel a une methode get_next_xxx.  <a href="#ae31bd8f65b3b9ff75f5e8f12f94f5ebf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classArrOfDouble.html">ArrOfDouble</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a22d534079143232b4a9db96c93288782">get_next_area_double</a> (int pe, int array_size)</td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7f">Status</a> { <br/>
&#160;&#160;<a class="el" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7faab624dd5c19c008840a1aa849d9e82dc">RESET</a>, 
<a class="el" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa707bf7dddcf9ecd02c8606e508a21449">BEGIN_INIT</a>, 
<a class="el" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fab012d408c1973759c4c1877bd2f4e2b1">END_INIT</a>, 
<a class="el" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa875fbe2bdd16fe2e9dac04573165b674">BEGIN_COMM</a>, 
<br/>
&#160;&#160;<a class="el" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa5e2a97a86e391667109817a944f3df14">EXCHANGED</a>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#afbb8c49e9547fccf62d04e97ae42f447">add</a> (int pe, int size, <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;procs, <a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;buf_sizes, int align_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a7b6fd32e043ba94392d5d19bfc51b282">check_buffers_full</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Selon status_, verifie que tous les pointeurs de buffers<br/>
pointent a la fin du buffer aloue pour chaque processeur en emission<br/>
ou reception. Renvoie 0 en cas d'erreur (si un buffer n'a pas ete<br/>
entierement rempli ou vide)  <a href="#a7b6fd32e043ba94392d5d19bfc51b282"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#aedfb206be5b0e1cae3c0307a962f8035">check_next_area</a> (int pe, int byte_size) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">verifie qu'il reste au moins byte_size octets dans le buffer du processeur pe  <a href="#aedfb206be5b0e1cae3c0307a962f8035"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classArrOfInt.html">ArrOfInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classArrOfInt.html">ArrOfInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classArrOfInt.html">ArrOfInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classArrOfInt.html">ArrOfInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#af1bf17b00de4bd2e96695f94f68ea791">sorted_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#aca1abcf441c2f3c71b392ac830bbc912">min_buf_size_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7f">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a53368cc5b731fda45880a64e126551f1">buffer_locked_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classArrOfDouble.html">ArrOfDouble</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a2fab4d2b9a4370b5be227b0221b5f16b">tmp_area_double_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classArrOfInt.html">ArrOfInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a76a394eefd359ca8c00c459124aa4433">tmp_area_int_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <br class="typebreak"/>
<a class="el" href="classSchema__Comm__Vecteurs__Static__Data.html">Schema_Comm_Vecteurs_Static_Data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Classe outil utilisee notamment par les methodes MD_Vector::echange_espace_virtuel()<br/>
Permet d'echanger avec d'autres processeurs des blocs d'ints ou de double<br/>
accessibles par des tableaux dans lesquels on lit et on ecrit directement&lt;br&gt;(contrairement a Schema_Comm qui utilise readOn et printOn, plus lent).<br/>
Pour des raisons de performances, la communication est separee en deux parties<br/>
- definition des tailles de buffers (permet d'allouer a l'avance les bufffers<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#a611c6c0d69aae3a85657a4811a745dd6" title="Reinitialise les tailles de buffers. Il faut ensuite definir les tailles de buffers avec add_send/rec...">begin_init()</a><br/>
add_send/recv_area_int/double(processeur, size)<br/>
(declaration des types, tailles et processeurs destinataire des blocs que l'on va envoyer,<br/>
on peut envoyer plusieurs blocs de types identiques ou differents a chaque processeur)<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#a60c477436f012ff4caadc23b4f6626d9" title="Une fois les donnees a echanger declarees avec add_send/recv_area_...(), initialise les offset de buf...">end_init()</a><br/>
- echange de donnees (autant de fois qu'on veut):<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#a5174c71752ad18a1ebad363832aa97fe" title="Commence un nouvel echange de donnees (les tailles de buffers doivent avoir ete initialisees avec beg...">begin_comm()</a><br/>
for(each bloc to send) {<br/>
ArrOfInt/Double &amp; buf = get_next_area_int/double(pe, size);<br/>
for (i=0; i&lt;size; i++)<br/>
buf[i] = ...<br/>
}<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#abf1ef0ef60e6756f9c4c8346262a35b1">exchange()</a>;<br/>
for (each bloc to recv) {<br/>
... get_next_area_int/double(...)<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#a09f608641aa8e3349ac966b1eb3b07e1">end_comm()</a>;. </p>

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00053">53</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="af0b3633b2b20429b5d91bc5b13a3fa7f"></a><!-- doxytag: member="Schema_Comm_Vecteurs::Status" ref="af0b3633b2b20429b5d91bc5b13a3fa7f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7f">Schema_Comm_Vecteurs::Status</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="af0b3633b2b20429b5d91bc5b13a3fa7faab624dd5c19c008840a1aa849d9e82dc"></a><!-- doxytag: member="RESET" ref="af0b3633b2b20429b5d91bc5b13a3fa7faab624dd5c19c008840a1aa849d9e82dc" args="" -->RESET</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af0b3633b2b20429b5d91bc5b13a3fa7fa707bf7dddcf9ecd02c8606e508a21449"></a><!-- doxytag: member="BEGIN_INIT" ref="af0b3633b2b20429b5d91bc5b13a3fa7fa707bf7dddcf9ecd02c8606e508a21449" args="" -->BEGIN_INIT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af0b3633b2b20429b5d91bc5b13a3fa7fab012d408c1973759c4c1877bd2f4e2b1"></a><!-- doxytag: member="END_INIT" ref="af0b3633b2b20429b5d91bc5b13a3fa7fab012d408c1973759c4c1877bd2f4e2b1" args="" -->END_INIT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af0b3633b2b20429b5d91bc5b13a3fa7fa875fbe2bdd16fe2e9dac04573165b674"></a><!-- doxytag: member="BEGIN_COMM" ref="af0b3633b2b20429b5d91bc5b13a3fa7fa875fbe2bdd16fe2e9dac04573165b674" args="" -->BEGIN_COMM</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="af0b3633b2b20429b5d91bc5b13a3fa7fa5e2a97a86e391667109817a944f3df14"></a><!-- doxytag: member="EXCHANGED" ref="af0b3633b2b20429b5d91bc5b13a3fa7fa5e2a97a86e391667109817a944f3df14" args="" -->EXCHANGED</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">88</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>
<div class="fragment"><pre class="fragment">{ <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7faab624dd5c19c008840a1aa849d9e82dc">RESET</a>, <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa707bf7dddcf9ecd02c8606e508a21449">BEGIN_INIT</a>, <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fab012d408c1973759c4c1877bd2f4e2b1">END_INIT</a>, <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa875fbe2bdd16fe2e9dac04573165b674">BEGIN_COMM</a>, <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa5e2a97a86e391667109817a944f3df14">EXCHANGED</a> };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6951f896ebedb99dad6dfbcfe4be7a67"></a><!-- doxytag: member="Schema_Comm_Vecteurs::Schema_Comm_Vecteurs" ref="a6951f896ebedb99dad6dfbcfe4be7a67" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Schema_Comm_Vecteurs::Schema_Comm_Vecteurs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00069">69</a> of file <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html">Schema_Comm_Vecteurs.cpp</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00079">recv_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00082">recv_procs_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">RESET</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00078">send_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00081">send_procs_</a>, <a class="el" href="ArrOfInt_8cpp_source.html#l00443">ArrOfInt::set_smart_resize()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00089">status_</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> = <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7faab624dd5c19c008840a1aa849d9e82dc">RESET</a>;
  <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
  <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad98e7188d4e47242a0fae0c98a49cbdb"></a><!-- doxytag: member="Schema_Comm_Vecteurs::~Schema_Comm_Vecteurs" ref="ad98e7188d4e47242a0fae0c98a49cbdb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Schema_Comm_Vecteurs::~Schema_Comm_Vecteurs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00078">78</a> of file <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html">Schema_Comm_Vecteurs.cpp</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">END_INIT</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">RESET</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00089">status_</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert (<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fab012d408c1973759c4c1877bd2f4e2b1">END_INIT</a> || <a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7faab624dd5c19c008840a1aa849d9e82dc">RESET</a>);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="afbb8c49e9547fccf62d04e97ae42f447"></a><!-- doxytag: member="Schema_Comm_Vecteurs::add" ref="afbb8c49e9547fccf62d04e97ae42f447" args="(int pe, int size, ArrOfInt &amp;procs, ArrOfInt &amp;buf_sizes, int align_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Schema_Comm_Vecteurs::add </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>procs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp;&#160;</td>
          <td class="paramname"><em>buf_sizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>align_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; Padding before block </p>
</p>

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00128">128</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>References <a class="el" href="ArrOfInt_8h_source.html#l00355">ArrOfInt::append_array()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">BEGIN_INIT</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00084">sorted_</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00089">status_</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00159">add_recv_area_double()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00154">add_recv_area_int()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00149">add_send_area_double()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00144">add_send_area_int()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert(<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa707bf7dddcf9ecd02c8606e508a21449">BEGIN_INIT</a>);
  assert(size &gt;= 0);
  <span class="keywordtype">int</span>&amp; x = buf_sizes[pe];
  <span class="keywordflow">if</span> (x == 0 &amp;&amp; size &gt; 0)
    {
      <span class="keyword">const</span> <span class="keywordtype">int</span> n = procs.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
      <span class="keywordflow">if</span> (n &gt; 0 &amp;&amp; procs[n-1] &gt; pe)
        <a class="code" href="classSchema__Comm__Vecteurs.html#af1bf17b00de4bd2e96695f94f68ea791">sorted_</a> = 0;
      procs.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(pe);
    }
  x = ((x+align_size-1)&amp;(~(align_size-1))) + size; <span class="comment">//!&lt; Padding before block</span>
<span class="comment"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a1e886aafb0edbc524e3426786d268ff1"></a><!-- doxytag: member="Schema_Comm_Vecteurs::add_recv_area_double" ref="a1e886aafb0edbc524e3426786d268ff1" args="(int pe, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Schema_Comm_Vecteurs::add_recv_area_double </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00159">159</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00128">add()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00125">BLOCSIZE_DOUBLE</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00079">recv_buf_sizes_</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00082">recv_procs_</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__std_8cpp_source.html#l00265">initialize_comm_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classSchema__Comm__Vecteurs.html#afbb8c49e9547fccf62d04e97ae42f447">add</a>(pe, <a class="code" href="Schema__Comm__Vecteurs_8h.html#aabe0eb672d9fc4249b9bafe9dce85426">BLOCSIZE_DOUBLE</a>(size), <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>, <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7e0bf8bf0137f69808fb319802b29782"></a><!-- doxytag: member="Schema_Comm_Vecteurs::add_recv_area_int" ref="a7e0bf8bf0137f69808fb319802b29782" args="(int pe, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Schema_Comm_Vecteurs::add_recv_area_int </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00154">154</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00128">add()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00122">BLOCSIZE_INT</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00079">recv_buf_sizes_</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00082">recv_procs_</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__std_8cpp_source.html#l00265">initialize_comm_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classSchema__Comm__Vecteurs.html#afbb8c49e9547fccf62d04e97ae42f447">add</a>(pe, <a class="code" href="Schema__Comm__Vecteurs_8h.html#ada4317c273dab21bc78c5f5882f99997">BLOCSIZE_INT</a>(size), <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>, <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a64e4789eec21a8a401107adb1aaa65eb"></a><!-- doxytag: member="Schema_Comm_Vecteurs::add_send_area_double" ref="a64e4789eec21a8a401107adb1aaa65eb" args="(int pe, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Schema_Comm_Vecteurs::add_send_area_double </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00149">149</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00128">add()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00125">BLOCSIZE_DOUBLE</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00078">send_buf_sizes_</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00081">send_procs_</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__std_8cpp_source.html#l00265">initialize_comm_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classSchema__Comm__Vecteurs.html#afbb8c49e9547fccf62d04e97ae42f447">add</a>(pe, <a class="code" href="Schema__Comm__Vecteurs_8h.html#aabe0eb672d9fc4249b9bafe9dce85426">BLOCSIZE_DOUBLE</a>(size), <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>, <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a80428288ac46f964239cf75adff9e426"></a><!-- doxytag: member="Schema_Comm_Vecteurs::add_send_area_int" ref="a80428288ac46f964239cf75adff9e426" args="(int pe, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Schema_Comm_Vecteurs::add_send_area_int </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00144">144</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00128">add()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00122">BLOCSIZE_INT</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00078">send_buf_sizes_</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00081">send_procs_</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__std_8cpp_source.html#l00265">initialize_comm_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classSchema__Comm__Vecteurs.html#afbb8c49e9547fccf62d04e97ae42f447">add</a>(pe, <a class="code" href="Schema__Comm__Vecteurs_8h.html#ada4317c273dab21bc78c5f5882f99997">BLOCSIZE_INT</a>(size), <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>, <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5174c71752ad18a1ebad363832aa97fe"></a><!-- doxytag: member="Schema_Comm_Vecteurs::begin_comm" ref="a5174c71752ad18a1ebad363832aa97fe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Schema_Comm_Vecteurs::begin_comm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Commence un nouvel echange de donnees (les tailles de buffers<br/>
doivent avoir ete initialisees avec <a class="el" href="classSchema__Comm__Vecteurs.html#a611c6c0d69aae3a85657a4811a745dd6" title="Reinitialise les tailles de buffers. Il faut ensuite definir les tailles de buffers avec add_send/rec...">begin_init()</a> ... <a class="el" href="classSchema__Comm__Vecteurs.html#a60c477436f012ff4caadc23b4f6626d9" title="Une fois les donnees a echanger declarees avec add_send/recv_area_...(), initialise les offset de buf...">end_init()</a>)<br/>
On place les sdata_.buf_pointers_ au debut des buffers pour chaque<br/>
processeur pour lequel un buffer a ete declare en "send"<br/>
Apres <a class="el" href="classSchema__Comm__Vecteurs.html#a5174c71752ad18a1ebad363832aa97fe" title="Commence un nouvel echange de donnees (les tailles de buffers doivent avoir ete initialisees avec beg...">begin_comm()</a>, il faut remplir les buffers en utilisant<br/>
<a class="el" href="classSchema__Comm__Vecteurs.html#ae31bd8f65b3b9ff75f5e8f12f94f5ebf" title="renvoie un tableau contenant les &quot;size&quot; valeurs suivantes recues du processeur pe lors de la commun...">get_next_area_int()</a> ou <a class="el" href="classSchema__Comm__Vecteurs.html#a22d534079143232b4a9db96c93288782">get_next_area_double()</a> dans le meme<br/>
ordre que celui declare dans la phase d'initialisation,<br/>
puis appeler <a class="el" href="classSchema__Comm__Vecteurs.html#abf1ef0ef60e6756f9c4c8346262a35b1">exchange()</a> </p>

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00180">180</a> of file <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html">Schema_Comm_Vecteurs.cpp</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">BEGIN_COMM</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00115">Schema_Comm_Vecteurs_Static_Data::buf_pointers_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00110">Schema_Comm_Vecteurs_Static_Data::buffer_base_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00092">buffer_locked_</a>, <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">END_INIT</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00040">Schema_Comm_Vecteurs_Static_Data::init()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00086">min_buf_size_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00097">sdata_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00078">send_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00081">send_procs_</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00089">status_</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__tools_8cpp_source.html#l00135">echange_espace_virtuel_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert(<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fab012d408c1973759c4c1877bd2f4e2b1">END_INIT</a>);
<span class="comment">// Pas un assert car erreur grave et sans doute rare...</span>
  <span class="keywordflow">if</span> (<a class="code" href="classSchema__Comm__Vecteurs.html#a53368cc5b731fda45880a64e126551f1">buffer_locked_</a>)
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Internal error in Schema_Comm_Vecteurs::begin_comm(): buffers already locked by another communication&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }
  <a class="code" href="classSchema__Comm__Vecteurs.html#a53368cc5b731fda45880a64e126551f1">buffer_locked_</a> = 1;
  <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a108a25291e8ef56311d8fde3da034c56">init</a>(<a class="code" href="classSchema__Comm__Vecteurs.html#aca1abcf441c2f3c71b392ac830bbc912">min_buf_size_</a>);

<span class="comment">// Fait pointer les buffers sur le debut des send_buffers</span>
  <span class="keywordtype">char</span> *ptr = <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a17c27dc3ea91f86491469dc8a68ded0b">buffer_base_</a>;

  <span class="keyword">const</span> <span class="keywordtype">int</span> nsend = <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nsend; i++)
    {
      <span class="keyword">const</span> <span class="keywordtype">int</span> pe = <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>[i];
      <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>[pe] = ptr;
      ptr += <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>[i];
    }
  <a class="code" href="classSchema__Comm__Vecteurs.html#a53368cc5b731fda45880a64e126551f1">buffer_locked_</a> = 1;
  <a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> = <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa875fbe2bdd16fe2e9dac04573165b674">BEGIN_COMM</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a611c6c0d69aae3a85657a4811a745dd6"></a><!-- doxytag: member="Schema_Comm_Vecteurs::begin_init" ref="a611c6c0d69aae3a85657a4811a745dd6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Schema_Comm_Vecteurs::begin_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reinitialise les tailles de buffers.<br/>
Il faut ensuite definir les tailles de buffers avec add_send/recv_area_...()<br/>
Cette methode doit etre appelee simultanement sur tous les processeurs du groupe. </p>

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00088">88</a> of file <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html">Schema_Comm_Vecteurs.cpp</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">BEGIN_INIT</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">END_INIT</a>, <a class="el" href="Array__base_8h_source.html#l00038">Array_base::NOCOPY_NOINIT</a>, <a class="el" href="Process_8cpp_source.html#l00109">Process::nproc()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00079">recv_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00082">recv_procs_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">RESET</a>, <a class="el" href="ArrOfInt_8h_source.html#l00240">ArrOfInt::resize_array()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00078">send_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00081">send_procs_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00084">sorted_</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00089">status_</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__tools_8cpp_source.html#l00135">echange_espace_virtuel_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert(<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fab012d408c1973759c4c1877bd2f4e2b1">END_INIT</a> || <a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7faab624dd5c19c008840a1aa849d9e82dc">RESET</a>);
<span class="comment">// Reset des tableaux sizes_</span>
  <span class="keyword">const</span> <span class="keywordtype">int</span> np = <a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>();
  <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(np, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">ArrOfInt::NOCOPY_NOINIT</a>);
  <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a> = 0;
  <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(np, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">ArrOfInt::NOCOPY_NOINIT</a>);
  <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a> = 0;
  <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(0);
  <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(0);
  <a class="code" href="classSchema__Comm__Vecteurs.html#af1bf17b00de4bd2e96695f94f68ea791">sorted_</a> = 1;
  <a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> = <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa707bf7dddcf9ecd02c8606e508a21449">BEGIN_INIT</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7b6fd32e043ba94392d5d19bfc51b282"></a><!-- doxytag: member="Schema_Comm_Vecteurs::check_buffers_full" ref="a7b6fd32e043ba94392d5d19bfc51b282" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Schema_Comm_Vecteurs::check_buffers_full </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Selon status_, verifie que tous les pointeurs de buffers<br/>
pointent a la fin du buffer aloue pour chaque processeur en emission<br/>
ou reception. Renvoie 0 en cas d'erreur (si un buffer n'a pas ete<br/>
entierement rempli ou vide) </p>

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00265">265</a> of file <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html">Schema_Comm_Vecteurs.cpp</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00126">ALIGN_SIZE</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">BEGIN_COMM</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00115">Schema_Comm_Vecteurs_Static_Data::buf_pointers_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00110">Schema_Comm_Vecteurs_Static_Data::buffer_base_</a>, <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">EXCHANGED</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00079">recv_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00082">recv_procs_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00097">sdata_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00078">send_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00081">send_procs_</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00089">status_</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00252">end_comm()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00206">exchange()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">char</span> *ptr = <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a17c27dc3ea91f86491469dc8a68ded0b">buffer_base_</a>;
  <span class="keyword">const</span> <span class="keywordtype">int</span> nsend = <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  <span class="keywordtype">int</span> i;
  <span class="keywordtype">int</span> ok = 1;
  <span class="keywordflow">if</span> (<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa875fbe2bdd16fe2e9dac04573165b674">BEGIN_COMM</a>)
    {
      <span class="keywordflow">for</span> (i = 0; i &lt; nsend; i++)
        {
          ptr += <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>[i];
          <span class="keyword">const</span> <span class="keywordtype">int</span> pe = <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>[i];
          <span class="keywordtype">char</span> *ptr2 = <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>[pe];
          <a class="code" href="Schema__Comm__Vecteurs_8h.html#acaaec25a198425e04f2cab9826df83e6">ALIGN_SIZE</a>(ptr2, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
          <span class="keywordflow">if</span> (ptr != ptr2)
            {
              <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Internal error in Schema_Comm_Vecteurs::check_buffers_full(): send buffer for processor &quot;</span>
                   &lt;&lt; pe &lt;&lt; <span class="stringliteral">&quot; is not full&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
              ok = 0;
            }
        }
    }
  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa5e2a97a86e391667109817a944f3df14">EXCHANGED</a>)
    {
      <span class="keywordflow">for</span> (i = 0; i &lt; nsend; i++)
        ptr += <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>[i];
      <span class="keyword">const</span> <span class="keywordtype">int</span> nrecv = <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
      <span class="keywordflow">for</span> (i = 0; i &lt; nrecv; i++)
        {
          ptr += <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>[i];
          <span class="keyword">const</span> <span class="keywordtype">int</span> pe = <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>[i];
          <span class="keywordtype">char</span> *ptr2 = <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>[pe];
          <a class="code" href="Schema__Comm__Vecteurs_8h.html#acaaec25a198425e04f2cab9826df83e6">ALIGN_SIZE</a>(ptr2, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
          <span class="keywordflow">if</span> (ptr != ptr2)
            {
              <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Internal error in Schema_Comm_Vecteurs::check_buffers_full(): recv buffer for processor &quot;</span>
                   &lt;&lt; pe &lt;&lt; <span class="stringliteral">&quot; has not been read entirely&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
              ok = 0;
            }
        }
    }
  <span class="keywordflow">else</span>
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;check_buffers_full: What ?&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
    }
  <span class="keywordflow">return</span> ok;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aedfb206be5b0e1cae3c0307a962f8035"></a><!-- doxytag: member="Schema_Comm_Vecteurs::check_next_area" ref="aedfb206be5b0e1cae3c0307a962f8035" args="(int pe, int byte_size) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Schema_Comm_Vecteurs::check_next_area </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>byte_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>verifie qu'il reste au moins byte_size octets dans le buffer du processeur pe </p>

<p><p>&lt; pointeur sur la fin du buffer de ce processeur </p>
</p>

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00315">315</a> of file <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html">Schema_Comm_Vecteurs.cpp</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">BEGIN_COMM</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00115">Schema_Comm_Vecteurs_Static_Data::buf_pointers_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00110">Schema_Comm_Vecteurs_Static_Data::buffer_base_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00079">recv_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00082">recv_procs_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00097">sdata_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00078">send_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00081">send_procs_</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00089">status_</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00180">get_next_area_double()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00169">get_next_area_int()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert(byte_size &gt;= 0);
  <span class="keywordflow">if</span> (byte_size == 0)
    {
      <span class="keywordflow">return</span> 1;
    }
  <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; procs = (<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa875fbe2bdd16fe2e9dac04573165b674">BEGIN_COMM</a>) ? <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a> : <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>;
  <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; sizes = (<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa875fbe2bdd16fe2e9dac04573165b674">BEGIN_COMM</a>) ? <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a> : <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>;
  <span class="keyword">const</span> <span class="keywordtype">int</span> n = procs.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  <span class="keywordtype">int</span> i;
  <span class="keywordtype">char</span> * ptr = <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a17c27dc3ea91f86491469dc8a68ded0b">buffer_base_</a>;
<span class="comment">// Si on est en phase de reception, le debut des buffers de reception se trouve a la</span>
<span class="comment">// fin des buffers en emission:</span>
  <span class="keywordflow">if</span> (<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> != <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa875fbe2bdd16fe2e9dac04573165b674">BEGIN_COMM</a>)
    {
      <span class="keyword">const</span> <span class="keywordtype">int</span> nsend = <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
      <span class="keywordflow">for</span> (i = 0; i &lt; nsend; i++)
        ptr += <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>[i];
    }
  <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)
    {
      ptr += sizes[i]; <span class="comment">//!&lt; pointeur sur la fin du buffer de ce processeur</span>
<span class="comment"></span>      <span class="keywordflow">if</span> (procs[i] == pe)
        <span class="keywordflow">return</span> (<a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>[pe] + byte_size) &lt;= ptr;
    }
<span class="comment">// aucun buffer declare pour ce processeur</span>
  <span class="keywordflow">return</span> 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a09f608641aa8e3349ac966b1eb3b07e1"></a><!-- doxytag: member="Schema_Comm_Vecteurs::end_comm" ref="a09f608641aa8e3349ac966b1eb3b07e1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Schema_Comm_Vecteurs::end_comm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; pret pour un nouveau <a class="el" href="classSchema__Comm__Vecteurs.html#a5174c71752ad18a1ebad363832aa97fe" title="Commence un nouvel echange de donnees (les tailles de buffers doivent avoir ete initialisees avec beg...">begin_comm()</a> </p>
</p>

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00252">252</a> of file <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html">Schema_Comm_Vecteurs.cpp</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00092">buffer_locked_</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00265">check_buffers_full()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">END_INIT</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">EXCHANGED</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00089">status_</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__tools_8cpp_source.html#l00135">echange_espace_virtuel_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert(<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa5e2a97a86e391667109817a944f3df14">EXCHANGED</a>);
<span class="comment">// Verifie qu&#39;on a bien lu toutes les donnees</span>
  assert(<a class="code" href="classSchema__Comm__Vecteurs.html#a7b6fd32e043ba94392d5d19bfc51b282" title="Selon status_, verifie que tous les pointeurs de buffers pointent a la fin du buffer aloue pour chaqu...">check_buffers_full</a>());
  <a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> = <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fab012d408c1973759c4c1877bd2f4e2b1">END_INIT</a>; <span class="comment">//!&lt; pret pour un nouveau begin_comm()</span>
<span class="comment"></span>  <a class="code" href="classSchema__Comm__Vecteurs.html#a53368cc5b731fda45880a64e126551f1">buffer_locked_</a> = 0;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a60c477436f012ff4caadc23b4f6626d9"></a><!-- doxytag: member="Schema_Comm_Vecteurs::end_init" ref="a60c477436f012ff4caadc23b4f6626d9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Schema_Comm_Vecteurs::end_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Une fois les donnees a echanger declarees avec add_send/recv_area_...(),<br/>
initialise les offset de buffers et alloue un buffer global de taille<br/>
suffisante.<br/>
Methode a appeler par tous les processeurs du groupe. </p>

<p><p>&lt; align size on 8 bytes</p>
<p>&lt; send_procs_ trie dans l'ordre croissant</p>
<p>&lt; align size on 8 bytes</p>
<p>&lt; recv_procs_ trie dans l'ordre croissant</p>
<p>&lt; taille du buffer a alouer recv_buf_offset_[i] = offset; </p>
</p>

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00110">110</a> of file <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html">Schema_Comm_Vecteurs.cpp</a>.</p>

<p>References <a class="el" href="Process_8cpp_source.html#l00127">Process::barrier()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">BEGIN_INIT</a>, <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Comm__Group_8h_source.html#l00143">Comm_Group::check_enabled()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">END_INIT</a>, <a class="el" href="communications_8cpp_source.html#l00452">envoyer_all_to_all()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Process_8cpp_source.html#l00345">Process::Journal()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00086">min_buf_size_</a>, <a class="el" href="Process_8cpp_source.html#l00178">Process::mp_sum()</a>, <a class="el" href="Process_8cpp_source.html#l00109">Process::nproc()</a>, <a class="el" href="ArrOfInt_8cpp_source.html#l00897">ArrOfInt::ordonne_array()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00079">recv_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00082">recv_procs_</a>, <a class="el" href="ArrOfInt_8h_source.html#l00240">ArrOfInt::resize_array()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00078">send_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00081">send_procs_</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00084">sorted_</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00089">status_</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__tools_8cpp_source.html#l00135">echange_espace_virtuel_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert(<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa707bf7dddcf9ecd02c8606e508a21449">BEGIN_INIT</a>);
  assert(<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>() == <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>());
<span class="comment">// Verification des tailles en emission et en reception:</span>
  <span class="keywordflow">if</span> (<a class="code" href="classComm__Group.html#a0f230fe65c9f52fd2a168a1ea70e7b15">Comm_Group::check_enabled</a>())
    {
      <span class="keyword">const</span> <span class="keywordtype">int</span> n = <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
      <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> tmp(n);
      <a class="code" href="communications_8cpp.html#a5ceda011ec527d63b691f62cd2fb61c8">envoyer_all_to_all</a>(<a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>, tmp);
      <span class="keywordtype">int</span> err = 0;
      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)
        <span class="keywordflow">if</span> (tmp[i] != <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>[i])
          err++;
      <span class="keywordflow">if</span> (<a class="code" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd" title="Calcule la somme de x sur tous les processeurs du groupe courant. Voir aussi mp_max()">Process::mp_sum</a>(err))
        {
          <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Schema_Comm_Vecteurs::end_init(): send_size_ and recv_size_ don&#39;t match, see log files&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
          <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Process::Journal</a>() &lt;&lt; <span class="stringliteral">&quot;Error in Schema_Comm_Vecteurs::end_init():\n&quot;</span>
                             &lt;&lt; <span class="stringliteral">&quot;send_sizes_ = &quot;</span> &lt;&lt; <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>
                             &lt;&lt; <span class="stringliteral">&quot;\n recv_sizes_ = &quot;</span> &lt;&lt; <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a> &lt;&lt; finl;
          <a class="code" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1" title="Synchronise tous les processeurs du groupe courant&lt;br&gt;(attend que tous les processeurs soient arrives...">Process::barrier</a>();
          <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
        }
    }
<span class="comment">// Tri des numeros de processeurs dans l&#39;ordre croissant</span>
  <span class="keywordflow">if</span> (!<a class="code" href="classSchema__Comm__Vecteurs.html#af1bf17b00de4bd2e96695f94f68ea791">sorted_</a>)
    {
      <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>.<a class="code" href="classArrOfInt.html#abb0f48cf5a4be4b70edcc90baaebd521" title="Tri des valeurs du tableau dans l&#39;ordre croissant. La fonction utilisee est qsort de stdlib (elle est...">ordonne_array</a>();
      <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>.<a class="code" href="classArrOfInt.html#abb0f48cf5a4be4b70edcc90baaebd521" title="Tri des valeurs du tableau dans l&#39;ordre croissant. La fonction utilisee est qsort de stdlib (elle est...">ordonne_array</a>();
    }
  <span class="keyword">const</span> <span class="keywordtype">int</span> nsend = <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  <span class="keyword">const</span> <span class="keywordtype">int</span> nrecv = <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  <span class="keywordtype">int</span> offset = 0;
  <span class="keywordtype">int</span> i;
  <span class="keywordflow">for</span> (i = 0; i &lt; nsend; i++)
    {
      <span class="keywordtype">int</span> pe = <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>[i];
      <span class="keyword">const</span> <span class="keywordtype">int</span> size = (<a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>[pe]+7)&amp;(~7); <span class="comment">//!&lt; align size on 8 bytes</span>
<span class="comment"></span>      offset += size;
      assert(pe &gt;= i); <span class="comment">//!&lt; send_procs_ trie dans l&#39;ordre croissant</span>
<span class="comment"></span>      <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>[i] = size;
    }
  <span class="keywordflow">for</span> (i = 0; i &lt; nrecv; i++)
    {
      <span class="keywordtype">int</span> pe = <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>[i];
      <span class="keyword">const</span> <span class="keywordtype">int</span> size = (<a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>[pe]+7)&amp;(~7); <span class="comment">//!&lt; align size on 8 bytes</span>
<span class="comment"></span>      offset += size;
      assert(pe &gt;= i); <span class="comment">//!&lt; recv_procs_ trie dans l&#39;ordre croissant</span>
<span class="comment"></span>      <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>[i] = size;
    }
  <a class="code" href="classSchema__Comm__Vecteurs.html#aca1abcf441c2f3c71b392ac830bbc912">min_buf_size_</a> = offset; <span class="comment">//!&lt; taille du buffer a alouer    recv_buf_offset_[i] = offset;</span>
<span class="comment"></span>
  <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(nsend);
  <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>.<a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(nrecv);
  <a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> = <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fab012d408c1973759c4c1877bd2f4e2b1">END_INIT</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abf1ef0ef60e6756f9c4c8346262a35b1"></a><!-- doxytag: member="Schema_Comm_Vecteurs::exchange" ref="abf1ef0ef60e6756f9c4c8346262a35b1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Schema_Comm_Vecteurs::exchange </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; Pour toute a l'heure adresse de base des buffers de reception </p>
</p>

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00206">206</a> of file <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html">Schema_Comm_Vecteurs.cpp</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">BEGIN_COMM</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00115">Schema_Comm_Vecteurs_Static_Data::buf_pointers_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00112">Schema_Comm_Vecteurs_Static_Data::buf_pointers_size_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00110">Schema_Comm_Vecteurs_Static_Data::buffer_base_</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00265">check_buffers_full()</a>, <a class="el" href="PE__Groups_8h_source.html#l00054">PE_Groups::current_group()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00088">EXCHANGED</a>, <a class="el" href="Comm__Group_8h_source.html#l00075">Comm_Group::INT</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00079">recv_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00082">recv_procs_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00097">sdata_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00078">send_buf_sizes_</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00081">send_procs_</a>, <a class="el" href="classComm__Group.html#a68bdde2db96498a1024cd1db4d371bcd">Comm_Group::send_recv_finish()</a>, <a class="el" href="classComm__Group.html#a7fb0eaad288afd68e88514f0ab9ee42d">Comm_Group::send_recv_start()</a>, <a class="el" href="ArrOfInt_8h_source.html#l00342">ArrOfInt::size_array()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00089">status_</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__tools_8cpp_source.html#l00135">echange_espace_virtuel_()</a>.</p>
<div class="fragment"><pre class="fragment">{
  assert(<a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> == <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa875fbe2bdd16fe2e9dac04573165b674">BEGIN_COMM</a>);
<span class="comment">// Verifie que tous les buffers sont pleins</span>
  assert(<a class="code" href="classSchema__Comm__Vecteurs.html#a7b6fd32e043ba94392d5d19bfc51b282" title="Selon status_, verifie que tous les pointeurs de buffers pointent a la fin du buffer aloue pour chaqu...">check_buffers_full</a>());
<span class="comment">// Echange les donnees</span>
  <span class="keyword">const</span> <span class="keywordtype">int</span> nsend = <a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
  <span class="keyword">const</span> <span class="keywordtype">int</span> nrecv = <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<span class="comment">// On utilise le tableau sdata_.buf_pointers_ pour stocker les adresses</span>
<span class="comment">// des buffers a donner a Comm_Group::send_recv_start()</span>
<span class="comment">// (dimensionne a 2*nproc() donc suffisant)</span>
  assert(nsend + nrecv &lt;= <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a28f343988f1e7d0e8795e0d031efe439">buf_pointers_size_</a>);
  <span class="keywordtype">char</span> ** send_bufs = <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>;
  <span class="keywordtype">char</span> ** recv_bufs = <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a> + nsend;
  <span class="keywordtype">char</span> * ptr = <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a17c27dc3ea91f86491469dc8a68ded0b">buffer_base_</a>;
  <span class="keywordtype">int</span> i;
  <span class="keywordflow">for</span> (i = 0; i &lt; nsend; i++)
    {
      send_bufs[i] = ptr;
      ptr += <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>[i];
    }
  <span class="keywordtype">char</span> * recv_ptr_base = ptr; <span class="comment">//!&lt; Pour toute a l&#39;heure adresse de base des buffers de reception</span>
<span class="comment"></span>  <span class="keywordflow">for</span> (i = 0; i &lt; nrecv; i++)
    {
      recv_bufs[i] = ptr;
      ptr += <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>[i];
    }

  <span class="keyword">const</span> <a class="code" href="classComm__Group.html" title=": Cette classe decrit un groupe de processeurs sur lesquels une portion de code s&#39;execute simultaneme...">Comm_Group</a>&amp; group = <a class="code" href="classPE__Groups.html#ae6ca0277a58f2ab34ebfb3216578fa75" title="renvoie une reference au groupe de processeurs actif courant">PE_Groups::current_group</a>();
<span class="comment">// On devrait pouvoir mettre un int64 comme type ici car</span>
<span class="comment">// les buffers sont de alignes sur 8 octets.</span>
  group.<a class="code" href="classComm__Group.html#a7fb0eaad288afd68e88514f0ab9ee42d">send_recv_start</a>(<a class="code" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">send_procs_</a>, <a class="code" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">send_buf_sizes_</a>, send_bufs,
                        <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>, <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>, recv_bufs,
                        <a class="code" href="classComm__Group.html#a93c4c5b0887e1fc63a123d11e7da0118ace1f14aca3731a4ba1a90890825dc33e">Comm_Group::INT</a>);
  group.<a class="code" href="classComm__Group.html#a68bdde2db96498a1024cd1db4d371bcd">send_recv_finish</a>();
<span class="comment">// Fait pointer les buffers sur les donnees recues</span>
  ptr = recv_ptr_base;
  <span class="keywordflow">for</span> (i = 0; i &lt; nrecv; i++)
    {
      <span class="keyword">const</span> <span class="keywordtype">int</span> pe = <a class="code" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">recv_procs_</a>[i];
      <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>[pe] = ptr;
      ptr += <a class="code" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">recv_buf_sizes_</a>[i];
    }
  <a class="code" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">status_</a> = <a class="code" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7fa5e2a97a86e391667109817a944f3df14">EXCHANGED</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a22d534079143232b4a9db96c93288782"></a><!-- doxytag: member="Schema_Comm_Vecteurs::get_next_area_double" ref="a22d534079143232b4a9db96c93288782" args="(int pe, int array_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArrOfDouble.html">ArrOfDouble</a> &amp; Schema_Comm_Vecteurs::get_next_area_double </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>array_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00180">180</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00126">ALIGN_SIZE</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00125">BLOCSIZE_DOUBLE</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00115">Schema_Comm_Vecteurs_Static_Data::buf_pointers_</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00315">check_next_area()</a>, <a class="el" href="ArrOfDouble_8cpp_source.html#l00988">ArrOfDouble::ref_data()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00097">sdata_</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00094">tmp_area_double_</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__std_8cpp_source.html#l00652">add_to_vect_blocs()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l00413">add_to_vect_items()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l00457">max_to_vect_items()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l00503">mincol1_to_vect_items()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l00558">read_from_vect_blocs()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l00325">read_from_vect_items()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l00605">write_to_vect_blocs()</a>, and <a class="el" href="MD__Vector__std_8cpp_source.html#l00369">write_to_vect_items()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="Schema__Comm__Vecteurs_8h.html#acaaec25a198425e04f2cab9826df83e6">ALIGN_SIZE</a>(<a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>[pe], <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
  assert(<a class="code" href="classSchema__Comm__Vecteurs.html#aedfb206be5b0e1cae3c0307a962f8035" title="verifie qu&#39;il reste au moins byte_size octets dans le buffer du processeur pe">check_next_area</a>(pe, <a class="code" href="Schema__Comm__Vecteurs_8h.html#aabe0eb672d9fc4249b9bafe9dce85426">BLOCSIZE_DOUBLE</a>(size)));
  <span class="keywordtype">double</span> *bufptr = (<span class="keywordtype">double</span> *) (<a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>[pe]);
<span class="comment">// attention a l&#39;arithmetique de pointeurs, ajout d&#39;une taille en octets</span>
  <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>[pe] += <a class="code" href="Schema__Comm__Vecteurs_8h.html#aabe0eb672d9fc4249b9bafe9dce85426">BLOCSIZE_DOUBLE</a>(size);
  <a class="code" href="classSchema__Comm__Vecteurs.html#a2fab4d2b9a4370b5be227b0221b5f16b">tmp_area_double_</a>.<a class="code" href="classArrOfDouble.html#a8cc97dbe67c8001dad97008b10fa7690" title="Fait pointer le tableau vers la zone de memoire &quot;data_&quot;. On detache la zone de memoire existante...">ref_data</a>(bufptr, size);
  <span class="keywordflow">return</span> <a class="code" href="classSchema__Comm__Vecteurs.html#a2fab4d2b9a4370b5be227b0221b5f16b">tmp_area_double_</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae31bd8f65b3b9ff75f5e8f12f94f5ebf"></a><!-- doxytag: member="Schema_Comm_Vecteurs::get_next_area_int" ref="ae31bd8f65b3b9ff75f5e8f12f94f5ebf" args="(int pe, int array_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArrOfInt.html">ArrOfInt</a> &amp; Schema_Comm_Vecteurs::get_next_area_int </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>array_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>renvoie un tableau contenant les "size" valeurs suivantes<br/>
recues du processeur pe lors de la communication en cours.<br/>
Attention:<br/>
Le tableau renvoye est une reference a un tableau interne qui n'est valide que<br/>
jusqu'au prochain appel a une methode get_next_xxx. </p>

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00169">169</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>References <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00126">ALIGN_SIZE</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00122">BLOCSIZE_INT</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00115">Schema_Comm_Vecteurs_Static_Data::buf_pointers_</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00315">check_next_area()</a>, <a class="el" href="ArrOfInt_8cpp_source.html#l00976">ArrOfInt::ref_data()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00097">sdata_</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00095">tmp_area_int_</a>.</p>

<p>Referenced by <a class="el" href="MD__Vector__std_8cpp_source.html#l01116">add_to_vect_blocs()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l00877">add_to_vect_items()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l00921">max_to_vect_items()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l00967">mincol1_to_vect_items()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l01022">read_from_vect_blocs()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l00789">read_from_vect_items()</a>, <a class="el" href="MD__Vector__std_8cpp_source.html#l01069">write_to_vect_blocs()</a>, and <a class="el" href="MD__Vector__std_8cpp_source.html#l00833">write_to_vect_items()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="Schema__Comm__Vecteurs_8h.html#acaaec25a198425e04f2cab9826df83e6">ALIGN_SIZE</a>(<a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>[pe], <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
  assert(<a class="code" href="classSchema__Comm__Vecteurs.html#aedfb206be5b0e1cae3c0307a962f8035" title="verifie qu&#39;il reste au moins byte_size octets dans le buffer du processeur pe">check_next_area</a>(pe, <a class="code" href="Schema__Comm__Vecteurs_8h.html#ada4317c273dab21bc78c5f5882f99997">BLOCSIZE_INT</a>(size)));
  <span class="keywordtype">int</span> *bufptr = (<span class="keywordtype">int</span> *) (<a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>[pe]);
<span class="comment">// attention a l&#39;arithmetique de pointeurs, ajout d&#39;une taille en octets</span>
  <a class="code" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">sdata_</a>.<a class="code" href="classSchema__Comm__Vecteurs__Static__Data.html#a957a2b143d97af8d47d2bf69a377f9ea">buf_pointers_</a>[pe] += <a class="code" href="Schema__Comm__Vecteurs_8h.html#ada4317c273dab21bc78c5f5882f99997">BLOCSIZE_INT</a>(size);
  <a class="code" href="classSchema__Comm__Vecteurs.html#a76a394eefd359ca8c00c459124aa4433">tmp_area_int_</a>.<a class="code" href="classArrOfInt.html#a95b02281f2d3f210e463389ff7288169" title="Fait pointer le tableau vers la zone de memoire &quot;data_&quot;. On detache la zone de memoire existante...">ref_data</a>(bufptr, size);
  <span class="keywordflow">return</span> <a class="code" href="classSchema__Comm__Vecteurs.html#a76a394eefd359ca8c00c459124aa4433">tmp_area_int_</a>;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a53368cc5b731fda45880a64e126551f1"></a><!-- doxytag: member="Schema_Comm_Vecteurs::buffer_locked_" ref="a53368cc5b731fda45880a64e126551f1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classSchema__Comm__Vecteurs.html#a53368cc5b731fda45880a64e126551f1">Schema_Comm_Vecteurs::buffer_locked_</a><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00092">92</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00180">begin_comm()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00252">end_comm()</a>.</p>

</div>
</div>
<a class="anchor" id="aca1abcf441c2f3c71b392ac830bbc912"></a><!-- doxytag: member="Schema_Comm_Vecteurs::min_buf_size_" ref="aca1abcf441c2f3c71b392ac830bbc912" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classSchema__Comm__Vecteurs.html#aca1abcf441c2f3c71b392ac830bbc912">Schema_Comm_Vecteurs::min_buf_size_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00086">86</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00180">begin_comm()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00110">end_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ada2157628cf7d00fbedf8fd12cebcca0"></a><!-- doxytag: member="Schema_Comm_Vecteurs::recv_buf_sizes_" ref="ada2157628cf7d00fbedf8fd12cebcca0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArrOfInt.html">ArrOfInt</a> <a class="el" href="classSchema__Comm__Vecteurs.html#ada2157628cf7d00fbedf8fd12cebcca0">Schema_Comm_Vecteurs::recv_buf_sizes_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00079">79</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00159">add_recv_area_double()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00154">add_recv_area_int()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00088">begin_init()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00265">check_buffers_full()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00315">check_next_area()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00110">end_init()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00206">exchange()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00069">Schema_Comm_Vecteurs()</a>.</p>

</div>
</div>
<a class="anchor" id="a71a5b90321747f416727a654100b89d5"></a><!-- doxytag: member="Schema_Comm_Vecteurs::recv_procs_" ref="a71a5b90321747f416727a654100b89d5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArrOfInt.html">ArrOfInt</a> <a class="el" href="classSchema__Comm__Vecteurs.html#a71a5b90321747f416727a654100b89d5">Schema_Comm_Vecteurs::recv_procs_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00082">82</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00159">add_recv_area_double()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00154">add_recv_area_int()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00088">begin_init()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00265">check_buffers_full()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00315">check_next_area()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00110">end_init()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00206">exchange()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00069">Schema_Comm_Vecteurs()</a>.</p>

</div>
</div>
<a class="anchor" id="a09a2147eb4b5adfa654bee03e3c18f8a"></a><!-- doxytag: member="Schema_Comm_Vecteurs::sdata_" ref="a09a2147eb4b5adfa654bee03e3c18f8a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSchema__Comm__Vecteurs__Static__Data.html">Schema_Comm_Vecteurs_Static_Data</a> <a class="el" href="classSchema__Comm__Vecteurs.html#a09a2147eb4b5adfa654bee03e3c18f8a">Schema_Comm_Vecteurs::sdata_</a><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00097">97</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00180">begin_comm()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00265">check_buffers_full()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00315">check_next_area()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00206">exchange()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00180">get_next_area_double()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00169">get_next_area_int()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f5e5544b71d235ea283f7f8beb2665e"></a><!-- doxytag: member="Schema_Comm_Vecteurs::send_buf_sizes_" ref="a3f5e5544b71d235ea283f7f8beb2665e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArrOfInt.html">ArrOfInt</a> <a class="el" href="classSchema__Comm__Vecteurs.html#a3f5e5544b71d235ea283f7f8beb2665e">Schema_Comm_Vecteurs::send_buf_sizes_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00078">78</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00149">add_send_area_double()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00144">add_send_area_int()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00180">begin_comm()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00088">begin_init()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00265">check_buffers_full()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00315">check_next_area()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00110">end_init()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00206">exchange()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00069">Schema_Comm_Vecteurs()</a>.</p>

</div>
</div>
<a class="anchor" id="ac4bee61e3e8a6a0d34e525f6eae82381"></a><!-- doxytag: member="Schema_Comm_Vecteurs::send_procs_" ref="ac4bee61e3e8a6a0d34e525f6eae82381" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArrOfInt.html">ArrOfInt</a> <a class="el" href="classSchema__Comm__Vecteurs.html#ac4bee61e3e8a6a0d34e525f6eae82381">Schema_Comm_Vecteurs::send_procs_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00081">81</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00149">add_send_area_double()</a>, <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00144">add_send_area_int()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00180">begin_comm()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00088">begin_init()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00265">check_buffers_full()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00315">check_next_area()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00110">end_init()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00206">exchange()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00069">Schema_Comm_Vecteurs()</a>.</p>

</div>
</div>
<a class="anchor" id="af1bf17b00de4bd2e96695f94f68ea791"></a><!-- doxytag: member="Schema_Comm_Vecteurs::sorted_" ref="af1bf17b00de4bd2e96695f94f68ea791" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classSchema__Comm__Vecteurs.html#af1bf17b00de4bd2e96695f94f68ea791">Schema_Comm_Vecteurs::sorted_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00084">84</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00128">add()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00088">begin_init()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00110">end_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a9554e2a80041d4a475fe57ca335fd624"></a><!-- doxytag: member="Schema_Comm_Vecteurs::status_" ref="a9554e2a80041d4a475fe57ca335fd624" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSchema__Comm__Vecteurs.html#af0b3633b2b20429b5d91bc5b13a3fa7f">Status</a> <a class="el" href="classSchema__Comm__Vecteurs.html#a9554e2a80041d4a475fe57ca335fd624">Schema_Comm_Vecteurs::status_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00089">89</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00128">add()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00180">begin_comm()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00088">begin_init()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00265">check_buffers_full()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00315">check_next_area()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00252">end_comm()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00110">end_init()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00206">exchange()</a>, <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00069">Schema_Comm_Vecteurs()</a>, and <a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html#l00078">~Schema_Comm_Vecteurs()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fab4d2b9a4370b5be227b0221b5f16b"></a><!-- doxytag: member="Schema_Comm_Vecteurs::tmp_area_double_" ref="a2fab4d2b9a4370b5be227b0221b5f16b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArrOfDouble.html">ArrOfDouble</a> <a class="el" href="classSchema__Comm__Vecteurs.html#a2fab4d2b9a4370b5be227b0221b5f16b">Schema_Comm_Vecteurs::tmp_area_double_</a><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00094">94</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00180">get_next_area_double()</a>.</p>

</div>
</div>
<a class="anchor" id="a76a394eefd359ca8c00c459124aa4433"></a><!-- doxytag: member="Schema_Comm_Vecteurs::tmp_area_int_" ref="a76a394eefd359ca8c00c459124aa4433" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArrOfInt.html">ArrOfInt</a> <a class="el" href="classSchema__Comm__Vecteurs.html#a76a394eefd359ca8c00c459124aa4433">Schema_Comm_Vecteurs::tmp_area_int_</a><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00095">95</a> of file <a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a>.</p>

<p>Referenced by <a class="el" href="Schema__Comm__Vecteurs_8h_source.html#l00169">get_next_area_int()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/Kernel/Utilitaires/<a class="el" href="Schema__Comm__Vecteurs_8h_source.html">Schema_Comm_Vecteurs.h</a></li>
<li>src/Kernel/Utilitaires/<a class="el" href="Schema__Comm__Vecteurs_8cpp_source.html">Schema_Comm_Vecteurs.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:37:50 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
