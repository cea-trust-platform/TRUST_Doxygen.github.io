<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: Sch_CN_EX_iteratif Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Sch_CN_EX_iteratif Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Sch_CN_EX_iteratif" --><!-- doxytag: inherits="Sch_CN_iteratif" -->
<p>classe <a class="el" href="classSch__CN__EX__iteratif.html" title="classe Sch_CN_EX_iteratif Ce schema en temps implemente quelques astuces en plus de Sch_CN_iteratif p...">Sch_CN_EX_iteratif</a><br/>
Ce schema en temps implemente quelques astuces en plus de <a class="el" href="classSch__CN__iteratif.html" title="classe Sch_CN_iteratif Schema en temps alternant un demi-pas de temps d&#39;Euler implicite et un demi-pa...">Sch_CN_iteratif</a> pour<br/>
le stabiliser au-dela de son domaine de stabilite naturel (facsec&lt;2).<br/>
Un facteur d'amortissement des iterations est defini : omega.<br/>
Il ameliore la stabilite, mais deterore la qualite de la resolution :<br/>
Aux petits nombres d'iterations, les derivees temporelles sont sous-estimees<br/>
et les lois de conservation ne sont plus necessairement satisfaites.<br/>
Pour augmenter le pas de temps, les equations autres que Navier-Stokes sont resolues<br/>
via le calcul de plusieurs pas de temps d'Euler explicite.<br/>
A chaque iteration de <a class="el" href="classSch__CN__iteratif.html" title="classe Sch_CN_iteratif Schema en temps alternant un demi-pas de temps d&#39;Euler implicite et un demi-pa...">Sch_CN_iteratif</a>, les n pas de temps d'Euler explicite sont recalcules.<br/>
Ce schema est adapte aux cas industriels de type gros calculs hydrauliques LES avec<br/>
thermique couplee a du solide  
 <a href="classSch__CN__EX__iteratif.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Sch__CN__EX__iteratif_8h_source.html">Sch_CN_EX_iteratif.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Sch_CN_EX_iteratif:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classSch__CN__EX__iteratif.png" usemap="#Sch_CN_EX_iteratif_map" alt=""/>
  <map id="Sch_CN_EX_iteratif_map" name="Sch_CN_EX_iteratif_map">
<area href="classSch__CN__iteratif.html" title="classe Sch_CN_iteratif Schema en temps alternant un demi-pas de temps d&#39;Euler implicite et un demi-pa..." alt="Sch_CN_iteratif" shape="rect" coords="0,168,134,192"/>
<area href="classSchema__Temps__base.html" title="classe Schema_Temps_base" alt="Schema_Temps_base" shape="rect" coords="0,112,134,136"/>
<area href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob..." alt="Objet_U" shape="rect" coords="0,56,134,80"/>
<area href="classProcess.html" title="Classe de base de TRUST (notamment Objet_U). Elle fournit quelques services de base accessibles de pa..." alt="Process" shape="rect" coords="0,0,134,24"/>
</map>
 </div></div>

<p><a href="classSch__CN__EX__iteratif-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#aafc86f21960c7487cdb7be53a4f96249">Sch_CN_EX_iteratif</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#a6629b09f4418bfccc1c782666e542fcc">~Sch_CN_EX_iteratif</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#a7987c0489335ac2335775c4c2f90ee5d">taille_memoire</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#a5f820c5c4705a2ee40516624786e9cb3">duplique</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#ab2d2d0a4f28f35615aa7ef27c4dca396">get_info</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne des informations sur le type de l'Objet_U.  <a href="#ab2d2d0a4f28f35615aa7ef27c4dca396"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#aa7a02b86b52120dc2afdb162feaab604">set_param</a> (<a class="el" href="classParam.html">Param</a> &amp;titi)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#a3b478e528ccff8708a4c16deb88834d9">mettre_a_jour_dt_stab</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Ne tient compte que de l'equation de Navier Stokes du probleme (s'il y en a une)<br/>
Les autres ne sont pas limitantes : elles font autant de sous-pas de temps que necessaire.<br/>
Code honteusement recopie de <a class="el" href="classProbleme__base.html#a74469695e1681fcba4ef15614de8c463" title="Calcul la valeur du prochain pas de temps du probleme. On calcule le minimum des pas de temps des equ...">Probleme_base::calculer_pas_de_temps()</a>  <a href="#a3b478e528ccff8708a4c16deb88834d9"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classObjet__U.html">Objet_U</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#aa6ab2b4ecdbd70e8ae12e1e4720e687e">cree_instance</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#a46f9f025dce0984581c818b74a86a363">info</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne des informations sur le type de l'Objet_U.  <a href="#a46f9f025dce0984581c818b74a86a363"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classSch__CN__EX__iteratif.html">Sch_CN_EX_iteratif</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#afb96ee43f992ae8ddf47ae453c934e12">self_cast</a> (<a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classSch__CN__EX__iteratif.html">Sch_CN_EX_iteratif</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#afd3663139a9df1f47e2b583a8b8c22fe">self_cast</a> (const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">methode ajoutee pour caster en python  <a href="#afd3663139a9df1f47e2b583a8b8c22fe"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classType__info.html">Type_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#a3f2942d38780a17d1da014cdd148469d">info_obj</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#a068ee013cbe548f8e64394e0b88a7a6d">printOn</a> (<a class="el" href="classSortie.html">Sortie</a> &amp;x) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Surcharge <a class="el" href="classObjet__U.html#a68f520bd9ba3e848370861d6610720b5" title="Ecriture de l&#39;objet sur un flot de sortie Methode a surcharger.">Objet_U::printOn</a>(<a class="el" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp;)<br/>
Imprime le schema en temps sur un flot de sortie.<br/>
!! Attention n'est pas symetrique de la lecture !!<br/>
On ecrit les differents parametres du schema en temps.  <a href="#a068ee013cbe548f8e64394e0b88a7a6d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classEntree.html">Entree</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#ab90ed6e94ff2ad5357bf511c6d333490">readOn</a> (<a class="el" href="classEntree.html">Entree</a> &amp;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Lecture d'un schema en temps a partir d'un flot d'entree.<br/>
Le format de lecture attendu est le suivant:<br/>
{<br/>
[<a class="el" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> valeur_reelle]<br/>
}<br/>
Les mots clefs peuvent etre:<br/>
tinit, tmax, nb_pas_dt_max, dt_min, dt_max,<br/>
dt_sauv, dt_impr, facsec, seuil_statio,.  <a href="#ab90ed6e94ff2ad5357bf511c6d333490"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#a75d64662977dfdb35ec8ca164e549c2b">iterateTimeStepOnEquation</a> (int i, bool &amp;converged)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcule une iteration de la resolution sur l'equation i.<br/>
Calcule u(n+1/2,p+1)=u(n)+f(u(n+1/2,p))*dt/2<br/>
et u(n+1,p+1)=u(n)+f(u(n+1/2,p))*dt<br/>
ou f donne du/dt en fonction de u<br/>
Retourne true dans converged si ca ne bouge plus d'une iteration a l'autre, false sinon<br/>
Renvoie true si OK pour continuer a iterer, false sinon (diverge ou trop d'iterations)  <a href="#a75d64662977dfdb35ec8ca164e549c2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#a8ba76c58bcb795032313e5626022f722">iterateTimeStepOnNS</a> (int i, bool &amp;converged)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#a3b7a4c1fda267059818afe9bc088356a">iterateTimeStepOnOther</a> (int i, bool &amp;converged)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#ab378aec8359a9984f16c607638934b8f">ajuster_facsec</a> (<a class="el" href="classSch__CN__iteratif.html#a38c9cbfc3b5889e7abed6783aeace1c6">type_convergence</a> cv)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>classe <a class="el" href="classSch__CN__EX__iteratif.html" title="classe Sch_CN_EX_iteratif Ce schema en temps implemente quelques astuces en plus de Sch_CN_iteratif p...">Sch_CN_EX_iteratif</a><br/>
Ce schema en temps implemente quelques astuces en plus de <a class="el" href="classSch__CN__iteratif.html" title="classe Sch_CN_iteratif Schema en temps alternant un demi-pas de temps d&#39;Euler implicite et un demi-pa...">Sch_CN_iteratif</a> pour<br/>
le stabiliser au-dela de son domaine de stabilite naturel (facsec&lt;2).<br/>
Un facteur d'amortissement des iterations est defini : omega.<br/>
Il ameliore la stabilite, mais deterore la qualite de la resolution :<br/>
Aux petits nombres d'iterations, les derivees temporelles sont sous-estimees<br/>
et les lois de conservation ne sont plus necessairement satisfaites.<br/>
Pour augmenter le pas de temps, les equations autres que Navier-Stokes sont resolues<br/>
via le calcul de plusieurs pas de temps d'Euler explicite.<br/>
A chaque iteration de <a class="el" href="classSch__CN__iteratif.html" title="classe Sch_CN_iteratif Schema en temps alternant un demi-pas de temps d&#39;Euler implicite et un demi-pa...">Sch_CN_iteratif</a>, les n pas de temps d'Euler explicite sont recalcules.<br/>
Ce schema est adapte aux cas industriels de type gros calculs hydrauliques LES avec<br/>
thermique couplee a du solide </p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8h_source.html#l00050">50</a> of file <a class="el" href="Sch__CN__EX__iteratif_8h_source.html">Sch_CN_EX_iteratif.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aafc86f21960c7487cdb7be53a4f96249"></a><!-- doxytag: member="Sch_CN_EX_iteratif::Sch_CN_EX_iteratif" ref="aafc86f21960c7487cdb7be53a4f96249" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Sch_CN_EX_iteratif::Sch_CN_EX_iteratif </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00030">30</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6629b09f4418bfccc1c782666e542fcc"></a><!-- doxytag: member="Sch_CN_EX_iteratif::~Sch_CN_EX_iteratif" ref="a6629b09f4418bfccc1c782666e542fcc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Sch_CN_EX_iteratif::~Sch_CN_EX_iteratif </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00030">30</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab378aec8359a9984f16c607638934b8f"></a><!-- doxytag: member="Sch_CN_EX_iteratif::ajuster_facsec" ref="ab378aec8359a9984f16c607638934b8f" args="(type_convergence cv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sch_CN_EX_iteratif::ajuster_facsec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSch__CN__iteratif.html#a38c9cbfc3b5889e7abed6783aeace1c6">type_convergence</a>&#160;</td>
          <td class="paramname"><em>cv</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; On n'ajuste qu'une fois pour un initTimeStep.</p>
<p>&lt; fait tendre omega vers 0.5</p>
<p>&lt; (0.5+3*omega)/4; // fait tendre omega vers 0.5, plus lentement </p>
</p>

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#ac083ab5828482f83fa510827f052d0de">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00264">264</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

<p>References <a class="el" href="Sch__CN__iteratif_8h_source.html#l00090">Sch_CN_iteratif::CONVERGENCE_LENTE</a>, <a class="el" href="Sch__CN__iteratif_8h_source.html#l00090">Sch_CN_iteratif::CONVERGENCE_OK</a>, <a class="el" href="Sch__CN__iteratif_8h_source.html#l00090">Sch_CN_iteratif::CONVERGENCE_RAPIDE</a>, <a class="el" href="Sch__CN__iteratif_8h_source.html#l00090">Sch_CN_iteratif::DIVERGENCE</a>, <a class="el" href="Schema__Temps__base_8h_source.html#l00383">Schema_Temps_base::facsec_</a>, <a class="el" href="Sch__CN__iteratif_8h_source.html#l00102">Sch_CN_iteratif::facsec_max</a>, <a class="el" href="Sch__CN__iteratif_8h_source.html#l00106">Sch_CN_iteratif::last_facsec</a>, <a class="el" href="Double_8h_source.html#l00199">min()</a>, <a class="el" href="Sch__CN__iteratif_8h_source.html#l00090">Sch_CN_iteratif::NON_CONVERGENCE</a>, and <a class="el" href="Sch__CN__EX__iteratif_8h_source.html#l00065">omega</a>.</p>
<div class="fragment"><pre class="fragment">{

  <span class="keywordflow">if</span> (<a class="code" href="classSchema__Temps__base.html#a8cdc40f1adfd8ff29d7f9c75330920ee">facsec_</a>!=<a class="code" href="classSch__CN__iteratif.html#ad7bc392b49ba97e340e165f4372f86a9" title="facsec at the beginning of time step resolution, to avoid changing facsec several times for the same ...">last_facsec</a>) <span class="comment">//!&lt; On n&#39;ajuste qu&#39;une fois pour un initTimeStep.</span>
<span class="comment"></span>    <span class="keywordflow">return</span>;

  <span class="keywordflow">switch</span> (cv)
    {
    <span class="keywordflow">case</span> <a class="code" href="classSch__CN__iteratif.html#a38c9cbfc3b5889e7abed6783aeace1c6ae13cc0f35ce7a8939bf5f0eba9197533">DIVERGENCE</a>:
<span class="comment">// le critere de divergence a ete atteint</span>
      <a class="code" href="classSchema__Temps__base.html#a8cdc40f1adfd8ff29d7f9c75330920ee">facsec_</a>=<a class="code" href="classSch__CN__iteratif.html#ad7bc392b49ba97e340e165f4372f86a9" title="facsec at the beginning of time step resolution, to avoid changing facsec several times for the same ...">last_facsec</a>/1.5;
      <a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>=0.5*(0.5+<a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>); <span class="comment">//!&lt; fait tendre omega vers 0.5</span>
<span class="comment"></span>      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="classSch__CN__iteratif.html#a38c9cbfc3b5889e7abed6783aeace1c6ae286f9849cb30d69f60b17feea70cee6">NON_CONVERGENCE</a>:
<span class="comment">// ni le critere de divergence ni le critere de convergence</span>
<span class="comment">// n&#39;ont ete atteints en niter_max iterations</span>
      <a class="code" href="classSchema__Temps__base.html#a8cdc40f1adfd8ff29d7f9c75330920ee">facsec_</a>=<a class="code" href="classSch__CN__iteratif.html#ad7bc392b49ba97e340e165f4372f86a9" title="facsec at the beginning of time step resolution, to avoid changing facsec several times for the same ...">last_facsec</a>/1.5;
      <a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>=0.5*(0.5+<a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>); <span class="comment">//!&lt; (0.5+3*omega)/4; // fait tendre omega vers 0.5, plus lentement</span>
<span class="comment"></span>      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="classSch__CN__iteratif.html#a38c9cbfc3b5889e7abed6783aeace1c6af38229d31137d128193200dddeb199c1">CONVERGENCE_LENTE</a>:
<span class="comment">// le critere de convergence a ete atteint en plus que niter_avg</span>
<span class="comment">// iterations</span>
      <a class="code" href="classSchema__Temps__base.html#a8cdc40f1adfd8ff29d7f9c75330920ee">facsec_</a>=<a class="code" href="classSch__CN__iteratif.html#ad7bc392b49ba97e340e165f4372f86a9" title="facsec at the beginning of time step resolution, to avoid changing facsec several times for the same ...">last_facsec</a>*0.9;
      <span class="keywordflow">if</span>(<a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>&gt;0.1)
        <a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>*=0.95;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="classSch__CN__iteratif.html#a38c9cbfc3b5889e7abed6783aeace1c6ad1ae98000096423125c874be1694a3d1">CONVERGENCE_RAPIDE</a>:
<span class="comment">// le critere de convergence a ete atteint en moins que niter_avg</span>
<span class="comment">// iterations</span>
      <a class="code" href="classSchema__Temps__base.html#a8cdc40f1adfd8ff29d7f9c75330920ee">facsec_</a>=<a class="code" href="classSch__CN__iteratif.html#ad7bc392b49ba97e340e165f4372f86a9" title="facsec at the beginning of time step resolution, to avoid changing facsec several times for the same ...">last_facsec</a>*1.1;
      <span class="keywordflow">if</span>(<a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>&gt;0.1)
        <a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>*=0.75;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <a class="code" href="classSch__CN__iteratif.html#a38c9cbfc3b5889e7abed6783aeace1c6add0e9382f85b678d333ad2d5ff54638d">CONVERGENCE_OK</a>:
<span class="comment">// le critere de convergence a ete atteint en niter_avg iterations</span>
      <a class="code" href="classSchema__Temps__base.html#a8cdc40f1adfd8ff29d7f9c75330920ee">facsec_</a>=<a class="code" href="classSch__CN__iteratif.html#ad7bc392b49ba97e340e165f4372f86a9" title="facsec at the beginning of time step resolution, to avoid changing facsec several times for the same ...">last_facsec</a>*1.01;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">default</span>:
      <span class="keywordflow">break</span>;
    }
  <a class="code" href="classSchema__Temps__base.html#a8cdc40f1adfd8ff29d7f9c75330920ee">facsec_</a>=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(<a class="code" href="classSchema__Temps__base.html#a8cdc40f1adfd8ff29d7f9c75330920ee">facsec_</a>,<a class="code" href="classSch__CN__iteratif.html#ae7e2aeaa5d411a5b2e746db7fc40581f" title="Maximum facsec (not to miss the physics)">facsec_max</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa6ab2b4ecdbd70e8ae12e1e4720e687e"></a><!-- doxytag: member="Sch_CN_EX_iteratif::cree_instance" ref="aa6ab2b4ecdbd70e8ae12e1e4720e687e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classObjet__U.html">Objet_U</a> * Sch_CN_EX_iteratif::cree_instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#a6affcbee80525e6ce27df4d8274b0deb">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00030">30</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5f820c5c4705a2ee40516624786e9cb3"></a><!-- doxytag: member="Sch_CN_EX_iteratif::duplique" ref="a5f820c5c4705a2ee40516624786e9cb3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Sch_CN_EX_iteratif::duplique </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#a295e3906e599d0168342d8bb9a8243e6">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00030">30</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab2d2d0a4f28f35615aa7ef27c4dca396"></a><!-- doxytag: member="Sch_CN_EX_iteratif::get_info" ref="ab2d2d0a4f28f35615aa7ef27c4dca396" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> * Sch_CN_EX_iteratif::get_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Donne des informations sur le type de l'Objet_U. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>const Type_info*<br/>
 Signification: structure regroupant les informations sur le type de l'Objet_U<br/>
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#ad8c9b28358ada18f0bc17f54b52b4a71">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00030">30</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a46f9f025dce0984581c818b74a86a363"></a><!-- doxytag: member="Sch_CN_EX_iteratif::info" ref="a46f9f025dce0984581c818b74a86a363" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> * Sch_CN_EX_iteratif::info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Donne des informations sur le type de l'Objet_U. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>const Type_info*<br/>
 Signification: structure regroupant les informations sur le type de l'Objet_U<br/>
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#ada7e22678ea5d7311a63cedc65a14781">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00030">30</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a75d64662977dfdb35ec8ca164e549c2b"></a><!-- doxytag: member="Sch_CN_EX_iteratif::iterateTimeStepOnEquation" ref="a75d64662977dfdb35ec8ca164e549c2b" args="(int i, bool &amp;converged)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Sch_CN_EX_iteratif::iterateTimeStepOnEquation </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>converged</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calcule une iteration de la resolution sur l'equation i.<br/>
Calcule u(n+1/2,p+1)=u(n)+f(u(n+1/2,p))*dt/2<br/>
et u(n+1,p+1)=u(n)+f(u(n+1/2,p))*dt<br/>
ou f donne du/dt en fonction de u<br/>
Retourne true dans converged si ca ne bouge plus d'une iteration a l'autre, false sinon<br/>
Renvoie true si OK pour continuer a iterer, false sinon (diverge ou trop d'iterations) </p>

<p><p>&lt; delta = Contient u(n+1/2,p+1) - u(n+1/2,p) </p>
</p>

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#a02a2ed7ab40f5cc6a0118e3acaa1926e">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00081">81</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

<p>References <a class="el" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">Probleme_base::equation()</a>, <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00096">iterateTimeStepOnNS()</a>, <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00184">iterateTimeStepOnOther()</a>, <a class="el" href="Schema__Temps__base_8cpp_source.html#l01027">Schema_Temps_base::pb_base()</a>, and <a class="el" href="Cast_8h_source.html#l00054">sub_type</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; pb = <a class="code" href="classSchema__Temps__base.html#a6e2edfe46a7f27b6fc8f114d92c35dc2">pb_base</a>();
  <a class="code" href="classEquation__base.html">Equation_base</a>&amp; eqn = pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(i);

<span class="comment">// Choix selon que l&#39;equation est de type Navier_Stokes ou non</span>
  <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classNavier__Stokes__std.html" title="classe Navier_Stokes_std Cette classe porte les termes de l&#39;equation de la dynamique pour un fluide s...">Navier_Stokes_std</a>,eqn))
    <span class="keywordflow">return</span> <a class="code" href="classSch__CN__EX__iteratif.html#a8ba76c58bcb795032313e5626022f722">iterateTimeStepOnNS</a>(i,converged);
  <span class="keywordflow">else</span>
    <span class="keywordflow">return</span> <a class="code" href="classSch__CN__EX__iteratif.html#a3b7a4c1fda267059818afe9bc088356a">iterateTimeStepOnOther</a>(i,converged);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8ba76c58bcb795032313e5626022f722"></a><!-- doxytag: member="Sch_CN_EX_iteratif::iterateTimeStepOnNS" ref="a8ba76c58bcb795032313e5626022f722" args="(int i, bool &amp;converged)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Sch_CN_EX_iteratif::iterateTimeStepOnNS </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>converged</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; delta = Contient u(n+1/2,p+1) - u(n+1/2,p) </p>
</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00096">96</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

<p>References <a class="el" href="Champ__Inc_8cpp_source.html#l00411">Champ_Inc::avancer()</a>, <a class="el" href="Sch__CN__iteratif_8cpp_source.html#l00390">Sch_CN_iteratif::convergence()</a>, <a class="el" href="Equation__base_8cpp_source.html#l00818">Equation_base::derivee_en_temps_inco()</a>, <a class="el" href="Sch__CN__iteratif_8cpp_source.html#l00424">Sch_CN_iteratif::divergence()</a>, <a class="el" href="DoubleVect_8cpp_source.html#l00277">DoubleVect::echange_espace_virtuel()</a>, <a class="el" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">Probleme_base::equation()</a>, <a class="el" href="Zone__Cl__dis_8h_source.html#l00108">Zone_Cl_dis::imposer_cond_lim()</a>, <a class="el" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">Equation_base::inconnue()</a>, <a class="el" href="Sch__CN__iteratif_8h_source.html#l00105">Sch_CN_iteratif::iteration</a>, <a class="el" href="Sch__CN__EX__iteratif_8h_source.html#l00065">omega</a>, <a class="el" href="Schema__Temps__base_8cpp_source.html#l01027">Schema_Temps_base::pb_base()</a>, <a class="el" href="Champ__Inc_8cpp_source.html#l00431">Champ_Inc::reculer()</a>, <a class="el" href="Schema__Temps__base_8h_source.html#l00284">Schema_Temps_base::set_stationnaire_atteint()</a>, <a class="el" href="Schema__Temps__base_8h_source.html#l00676">Schema_Temps_base::temps_courant()</a>, <a class="el" href="Sch__CN__iteratif_8cpp_source.html#l00125">Sch_CN_iteratif::temps_futur()</a>, <a class="el" href="Schema__Temps__base_8cpp_source.html#l01068">Schema_Temps_base::update_critere_statio()</a>, <a class="el" href="Champ__Inc_8cpp_source.html#l00245">Champ_Inc::valeurs()</a>, and <a class="el" href="Equation__base_8h_source.html#l00391">Equation_base::zone_Cl_dis()</a>.</p>

<p>Referenced by <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00081">iterateTimeStepOnEquation()</a>.</p>
<div class="fragment"><pre class="fragment">{

  <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; pb = <a class="code" href="classSchema__Temps__base.html#a6e2edfe46a7f27b6fc8f114d92c35dc2">pb_base</a>();
  <a class="code" href="classEquation__base.html">Equation_base</a>&amp; eqn = pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(i);

  <span class="keywordtype">double</span> temps_intermediaire=<a class="code" href="classSch__CN__iteratif.html#ac28599b004c8f4294d97ec104eaabe42" title="Renvoie le le temps a la i-eme valeur future.">temps_futur</a>(1);
  <span class="keywordtype">double</span> temps_final=<a class="code" href="classSch__CN__iteratif.html#ac28599b004c8f4294d97ec104eaabe42" title="Renvoie le le temps a la i-eme valeur future.">temps_futur</a>(2);
  <span class="keywordtype">double</span> dt_intermediaire=temps_intermediaire-<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>();
  <span class="keywordtype">double</span> dt_final=temps_final-<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>();

  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; present = eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a28ef3d411d12cb5684ac5e799efb7d24" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs au temps courant.">valeurs</a>();
  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; intermediaire = eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classChamp__Inc.html#a28ef3d411d12cb5684ac5e799efb7d24" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs au temps courant.">valeurs</a>(temps_intermediaire);
  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; <span class="keyword">final</span> = eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classChamp__Inc.html#a28ef3d411d12cb5684ac5e799efb7d24" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs au temps courant.">valeurs</a>(temps_final);

  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> dudt(present);

  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> delta(intermediaire);
  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> old(intermediaire);

<span class="comment">// On impose les CLs Dirichlet au temps intermediaire.</span>
<span class="comment">// En effet, les operateurs de diffusion n&#39;utilisent que</span>
<span class="comment">// l&#39;inconnue et ne vont pas lire les CLs.</span>
<span class="comment">// Cela permet en particulier d&#39;avoir l&#39;egalite des flux en pb</span>
<span class="comment">// couple thermique VEF avec Chap_front_contact_VEF, meme avant convergence.</span>
<span class="comment">// WEC :  /!\ la vitesse au temps intermediaire</span>
<span class="comment">// n&#39;est pas forcement a divergence nulle.</span>
  eqn.<a class="code" href="classEquation__base.html#af265fe0ea30868eb2176a0c887e4efab" title="Renvoie la zone des conditions aux limite discretisee associee a l&#39;equation.">zone_Cl_dis</a>()-&gt;<a class="code" href="classZone__Cl__dis.html#a9a1b2c60317659659ff316f39fd27ed8" title="Appel a l&#39;objet sous-jacent. Impose les conditions aux limites a un temps donne du Champ_Inc...">imposer_cond_lim</a>(eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>(),temps_intermediaire);

<span class="comment">// Calcul de la derivee dudt pour la valeur intermediaire de l&#39;inconnue.</span>
<span class="comment">// Bidouille : Comme les operateurs prennent par defaut le present,</span>
<span class="comment">// on avance temporairement l&#39;inconnue.</span>

  eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a30e1d6e21e00fd942e85d0f6469d9722" title="Appel a l&#39;objet sous-jacent Avance le temps courant du champ de i pas de temps.">avancer</a>();
  eqn.<a class="code" href="classEquation__base.html#a97aa87b0cf6205ef437a6774adf1bd47" title="Returns the time derivative of the unknown I of the equation: dI/dt = M-1*(sum(operators(I) + sources...">derivee_en_temps_inco</a>(dudt);
  eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a241a2a375658a606c3d659600a991bb5" title="Appel a l&#39;objet sous-jacent Recule le temps courant du champ de i pas de temps.">reculer</a>();

<span class="comment">// Mise a jour des valeurs de l&#39;inconnue aux temps intermediaire et final</span>
<span class="comment">// intermediaire = present + dt_intermediaire * dudt;</span>
<span class="comment">// intermediaire = (1-omega)*new_intermediaire + omega*old_intermediaire</span>
<span class="comment">// final =  present + dt_final * dudt;</span>
  intermediaire = dudt;
  intermediaire*= dt_intermediaire;
  intermediaire+= present;
  intermediaire*= (1-<a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>);
  old*= <a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>;
  intermediaire+= old;
  eqn.<a class="code" href="classEquation__base.html#af265fe0ea30868eb2176a0c887e4efab" title="Renvoie la zone des conditions aux limite discretisee associee a l&#39;equation.">zone_Cl_dis</a>().<a class="code" href="classZone__Cl__dis.html#a9a1b2c60317659659ff316f39fd27ed8" title="Appel a l&#39;objet sous-jacent. Impose les conditions aux limites a un temps donne du Champ_Inc...">imposer_cond_lim</a>(eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>(),temps_intermediaire);
  intermediaire.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
  <span class="keyword">final</span> = dudt;
  <span class="keyword">final</span>*= dt_final;
  <span class="keyword">final</span>+= present;

  eqn.<a class="code" href="classEquation__base.html#af265fe0ea30868eb2176a0c887e4efab" title="Renvoie la zone des conditions aux limite discretisee associee a l&#39;equation.">zone_Cl_dis</a>().<a class="code" href="classZone__Cl__dis.html#a9a1b2c60317659659ff316f39fd27ed8" title="Appel a l&#39;objet sous-jacent. Impose les conditions aux limites a un temps donne du Champ_Inc...">imposer_cond_lim</a>(eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>(),temps_final);
  <span class="keyword">final</span>.echange_espace_virtuel();

  delta*=-1;
  delta+=intermediaire; <span class="comment">//!&lt; delta = Contient u(n+1/2,p+1) - u(n+1/2,p)</span>
<span class="comment"></span>
<span class="comment">// Si l&#39;equation a diverge</span>
  <span class="keywordflow">if</span> (<a class="code" href="classSch__CN__iteratif.html#a5a4bd9e2782c8e8066b737d83feb09df" title="Indique si le calcul iteratif a diverge.">divergence</a>(present,intermediaire,delta,<a class="code" href="classSch__CN__iteratif.html#a12e6e86233c59d24175c78441f0e7046" title="Number of iterations done for the current time step.">iteration</a>))
    {
      converged=<span class="keyword">false</span>;
      <span class="keywordflow">return</span> <span class="keyword">false</span>;
    }

<span class="comment">// Si l&#39;equation a converge</span>
  <span class="keywordflow">if</span> (<a class="code" href="classSch__CN__iteratif.html#a0986d7724a3324ac4b4a86f1ad449c51" title="Indique si le calcul iteratif a converge. Critere de convergence utilise : || u(n+1,p+1) - u(n+1,p) || &lt; seuil * || u(n+1/2,p+1) || C&#39;est equivalent a || u(n+1,p) - u(n+1) || &lt; seuil * || (Id-(dt/2).(df/du))^-1 || * || u(n+1/2,p+1) || ou u(n+1) est la solution exacte en n+1, df/du est le lagrangien de f(u), pris en u(n+1/2) et les normes sont compatibles entre matrices et vecteurs (ici norme infinie).">convergence</a>(present,intermediaire,delta,<a class="code" href="classSch__CN__iteratif.html#a12e6e86233c59d24175c78441f0e7046" title="Number of iterations done for the current time step.">iteration</a>))
    {
      converged=<span class="keyword">true</span>;
      delta=<span class="keyword">final</span>;
      delta-=present;
      delta/=dt_final;
      <a class="code" href="classSchema__Temps__base.html#ae688058ec9592383f84aeb6de1d56158" title="//Actualisation de stationnaire_atteint_ et residu_ (critere residu_&lt;seuil_statio_)">update_critere_statio</a>(delta, eqn);
    }
  <span class="keywordflow">else</span>
    {
      <a class="code" href="classSchema__Temps__base.html#a0919fb0885a396e98f578047cc1cc5e3">set_stationnaire_atteint</a>()=0;
      converged=<span class="keyword">false</span>;
    }
  <span class="keywordflow">return</span> <span class="keyword">true</span>;

}
</pre></div>
</div>
</div>
<a class="anchor" id="a3b7a4c1fda267059818afe9bc088356a"></a><!-- doxytag: member="Sch_CN_EX_iteratif::iterateTimeStepOnOther" ref="a3b7a4c1fda267059818afe9bc088356a" args="(int i, bool &amp;converged)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Sch_CN_EX_iteratif::iterateTimeStepOnOther </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>converged</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>&lt; Pour dimensionner.</p>
<p>&lt; Nombre de pas de temps dans le premier, le deuxieme intervalle.</p>
<p>&lt; Duree des pas de temps dans le premier, le deuxieme intervalle. </p>
</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00184">184</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

<p>References <a class="el" href="Champ__Inc_8cpp_source.html#l00411">Champ_Inc::avancer()</a>, <a class="el" href="Equation__base_8cpp_source.html#l01568">Equation_base::calculer_pas_de_temps()</a>, <a class="el" href="Equation__base_8cpp_source.html#l00818">Equation_base::derivee_en_temps_inco()</a>, <a class="el" href="DoubleVect_8cpp_source.html#l00277">DoubleVect::echange_espace_virtuel()</a>, <a class="el" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">Probleme_base::equation()</a>, <a class="el" href="Zone__Cl__dis_8h_source.html#l00108">Zone_Cl_dis::imposer_cond_lim()</a>, <a class="el" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">Equation_base::inconnue()</a>, <a class="el" href="Schema__Temps__base_8cpp_source.html#l01027">Schema_Temps_base::pb_base()</a>, <a class="el" href="Champ__Inc_8cpp_source.html#l00431">Champ_Inc::reculer()</a>, <a class="el" href="Schema__Temps__base_8h_source.html#l00676">Schema_Temps_base::temps_courant()</a>, <a class="el" href="Sch__CN__iteratif_8cpp_source.html#l00125">Sch_CN_iteratif::temps_futur()</a>, <a class="el" href="Schema__Temps__base_8cpp_source.html#l01068">Schema_Temps_base::update_critere_statio()</a>, <a class="el" href="Champ__Inc_8cpp_source.html#l00245">Champ_Inc::valeurs()</a>, and <a class="el" href="Equation__base_8h_source.html#l00391">Equation_base::zone_Cl_dis()</a>.</p>

<p>Referenced by <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00081">iterateTimeStepOnEquation()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; pb = <a class="code" href="classSchema__Temps__base.html#a6e2edfe46a7f27b6fc8f114d92c35dc2">pb_base</a>();
  <a class="code" href="classEquation__base.html">Equation_base</a>&amp; eqn = pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(i);

  <span class="keywordtype">double</span> dt_eq=eqn.<a class="code" href="classEquation__base.html#a5b0b97f18ca64a6f26e984e25c944ee1" title="Calcul du prochain pas de temps. Renvoie l&#39;inverse de la somme des inverses des pas de temps calcules...">calculer_pas_de_temps</a>();

  <span class="keywordtype">double</span> temps_intermediaire=<a class="code" href="classSch__CN__iteratif.html#ac28599b004c8f4294d97ec104eaabe42" title="Renvoie le le temps a la i-eme valeur future.">temps_futur</a>(1);
  <span class="keywordtype">double</span> temps_final=<a class="code" href="classSch__CN__iteratif.html#ac28599b004c8f4294d97ec104eaabe42" title="Renvoie le le temps a la i-eme valeur future.">temps_futur</a>(2);
  <span class="keywordtype">double</span> dt_1=temps_intermediaire-<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>();
  <span class="keywordtype">double</span> dt_2=temps_final-temps_intermediaire;

  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; present = eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a28ef3d411d12cb5684ac5e799efb7d24" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs au temps courant.">valeurs</a>();
  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; intermediaire = eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classChamp__Inc.html#a28ef3d411d12cb5684ac5e799efb7d24" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs au temps courant.">valeurs</a>(temps_intermediaire);
  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; <span class="keyword">final</span> = eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>()-&gt;<a class="code" href="classChamp__Inc.html#a28ef3d411d12cb5684ac5e799efb7d24" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs au temps courant.">valeurs</a>(temps_final);

  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> dIdt(present); <span class="comment">//!&lt; Pour dimensionner.</span>
<span class="comment"></span>
<span class="comment">// Voir Schema_Temps_base::limpr pour information sur epsilon et modf</span>
  <span class="keywordtype">double</span> nb_dt_1, nb_dt_2;
  modf(ceil(dt_1/dt_eq), &amp;nb_dt_1); <span class="comment">//!&lt; Nombre de pas de temps dans le premier, le deuxieme intervalle.</span>
<span class="comment"></span>  modf(ceil(dt_2/dt_eq), &amp;nb_dt_2);

  <span class="keywordtype">double</span> dt_eq_1=dt_1/nb_dt_1; <span class="comment">//!&lt; Duree des pas de temps dans le premier, le deuxieme intervalle.</span>
<span class="comment"></span>  <span class="keywordtype">double</span> dt_eq_2=dt_2/nb_dt_2;

<span class="comment">// Calculs sur le premier pas de temps</span>
  intermediaire=present;
  <span class="keywordflow">for</span> (<span class="keywordtype">double</span> k=0.; k&lt;nb_dt_1; k=k+1.)
    {

<span class="comment">// Calcul de la derivee dIdt sur la valeur intermediaire de l&#39;inconnue.</span>
<span class="comment">// Bidouille : Comme les operateurs prennent par defaut le present,</span>
<span class="comment">// on avance temporairement l&#39;inconnue.</span>
      eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a30e1d6e21e00fd942e85d0f6469d9722" title="Appel a l&#39;objet sous-jacent Avance le temps courant du champ de i pas de temps.">avancer</a>();
      eqn.<a class="code" href="classEquation__base.html#a97aa87b0cf6205ef437a6774adf1bd47" title="Returns the time derivative of the unknown I of the equation: dI/dt = M-1*(sum(operators(I) + sources...">derivee_en_temps_inco</a>(dIdt);
      eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a241a2a375658a606c3d659600a991bb5" title="Appel a l&#39;objet sous-jacent Recule le temps courant du champ de i pas de temps.">reculer</a>();

<span class="comment">// intermediaire = intermediaire + dt_eq_1 * dIdt</span>
      dIdt*=dt_eq_1;
      intermediaire+= dIdt;
      intermediaire.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();

    }

<span class="comment">// On impose les CLs au temps intermediaire</span>
  eqn.<a class="code" href="classEquation__base.html#af265fe0ea30868eb2176a0c887e4efab" title="Renvoie la zone des conditions aux limite discretisee associee a l&#39;equation.">zone_Cl_dis</a>()-&gt;<a class="code" href="classZone__Cl__dis.html#a9a1b2c60317659659ff316f39fd27ed8" title="Appel a l&#39;objet sous-jacent. Impose les conditions aux limites a un temps donne du Champ_Inc...">imposer_cond_lim</a>(eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>(),temps_intermediaire);


<span class="comment">// Calculs (idem) sur le deuxieme pas de temps</span>
  <span class="keyword">final</span>=intermediaire;
  <span class="keywordflow">for</span> (<span class="keywordtype">double</span> k=0.; k&lt;nb_dt_2; k=k+1.)
    {

<span class="comment">// Calcul de la derivee dIdt sur la valeur finale de l&#39;inconnue.</span>
      eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a30e1d6e21e00fd942e85d0f6469d9722" title="Appel a l&#39;objet sous-jacent Avance le temps courant du champ de i pas de temps.">avancer</a>();
      eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a30e1d6e21e00fd942e85d0f6469d9722" title="Appel a l&#39;objet sous-jacent Avance le temps courant du champ de i pas de temps.">avancer</a>();
      eqn.<a class="code" href="classEquation__base.html#a97aa87b0cf6205ef437a6774adf1bd47" title="Returns the time derivative of the unknown I of the equation: dI/dt = M-1*(sum(operators(I) + sources...">derivee_en_temps_inco</a>(dIdt);
      eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a241a2a375658a606c3d659600a991bb5" title="Appel a l&#39;objet sous-jacent Recule le temps courant du champ de i pas de temps.">reculer</a>();
      eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>().<a class="code" href="classChamp__Inc.html#a241a2a375658a606c3d659600a991bb5" title="Appel a l&#39;objet sous-jacent Recule le temps courant du champ de i pas de temps.">reculer</a>();

<span class="comment">// intermediaire = intermediaire + dt_eq_2 * dIdt</span>
      dIdt*=dt_eq_2;
      <span class="keyword">final</span>+= dIdt;
      <span class="keyword">final</span>.echange_espace_virtuel();

    }
  dIdt=<span class="keyword">final</span>;
  dIdt-=present;
  dIdt/=dt_2;
  <a class="code" href="classSchema__Temps__base.html#ae688058ec9592383f84aeb6de1d56158" title="//Actualisation de stationnaire_atteint_ et residu_ (critere residu_&lt;seuil_statio_)">update_critere_statio</a>(dIdt, eqn);
<span class="comment">// On impose les CLs au temps final</span>
  eqn.<a class="code" href="classEquation__base.html#af265fe0ea30868eb2176a0c887e4efab" title="Renvoie la zone des conditions aux limite discretisee associee a l&#39;equation.">zone_Cl_dis</a>()-&gt;<a class="code" href="classZone__Cl__dis.html#a9a1b2c60317659659ff316f39fd27ed8" title="Appel a l&#39;objet sous-jacent. Impose les conditions aux limites a un temps donne du Champ_Inc...">imposer_cond_lim</a>(eqn.<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>(),temps_final);

  converged=<span class="keyword">true</span>;
  <span class="keywordflow">return</span> <span class="keyword">true</span>;

}
</pre></div>
</div>
</div>
<a class="anchor" id="a3b478e528ccff8708a4c16deb88834d9"></a><!-- doxytag: member="Sch_CN_EX_iteratif::mettre_a_jour_dt_stab" ref="a3b478e528ccff8708a4c16deb88834d9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sch_CN_EX_iteratif::mettre_a_jour_dt_stab </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Ne tient compte que de l'equation de Navier Stokes du probleme (s'il y en a une)<br/>
Les autres ne sont pas limitantes : elles font autant de sous-pas de temps que necessaire.<br/>
Code honteusement recopie de <a class="el" href="classProbleme__base.html#a74469695e1681fcba4ef15614de8c463" title="Calcul la valeur du prochain pas de temps du probleme. On calcule le minimum des pas de temps des equ...">Probleme_base::calculer_pas_de_temps()</a> </p>

<p><p>&lt; Max une equation de Navier Stokes par probleme </p>
</p>

<p>Reimplemented from <a class="el" href="classSchema__Temps__base.html#ad95c1e999ba471e5a95760e37aebb05f">Schema_Temps_base</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00064">64</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

<p>References <a class="el" href="Equation__base_8cpp_source.html#l01568">Equation_base::calculer_pas_de_temps()</a>, <a class="el" href="EntreeSortie_8h_source.html#l00033">Cout</a>, <a class="el" href="Double_8h_source.html#l00072">DMAXFLOAT</a>, <a class="el" href="Schema__Temps__base_8h_source.html#l00382">Schema_Temps_base::dt_stab_</a>, <a class="el" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">Probleme_base::equation()</a>, <a class="el" href="Schema__Temps__base_8cpp_source.html#l00788">Schema_Temps_base::imprimer()</a>, <a class="el" href="Double_8h_source.html#l00199">min()</a>, <a class="el" href="classProbleme__base.html#abefceb0ac0d0b35d42a4daaa82a95f59">Probleme_base::nombre_d_equations()</a>, <a class="el" href="Schema__Temps__base_8cpp_source.html#l01027">Schema_Temps_base::pb_base()</a>, and <a class="el" href="Cast_8h_source.html#l00054">sub_type</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classSchema__Temps__base.html#ae73d6adc67b91d88e6bda286117d6fdb" title="Imprime le pas de temps sur un flot de sortie s&#39;il y a lieu.">imprimer</a>(<a class="code" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a>);
<span class="comment">// dt_=dt_max_; La majoration par dt_max_ est faite dans corriger_dt_calcule</span>
  <a class="code" href="classSchema__Temps__base.html#acf696ebda2c1019cde88306d1f0e412a" title="Pas de temps de stabilite.">dt_stab_</a>=<a class="code" href="Double_8h.html#ae0ee0cebfad5968da0ad6cc7a49e16b6">DMAXFLOAT</a>;
  <span class="keyword">const</span> <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; prob=<a class="code" href="classSchema__Temps__base.html#a6e2edfe46a7f27b6fc8f114d92c35dc2">pb_base</a>();

  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;prob.<a class="code" href="classProbleme__base.html#abefceb0ac0d0b35d42a4daaa82a95f59">nombre_d_equations</a>(); i++)
    {
      <span class="keyword">const</span> <a class="code" href="classEquation__base.html">Equation_base</a>&amp; eqn=prob.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(i);
      <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classNavier__Stokes__std.html" title="classe Navier_Stokes_std Cette classe porte les termes de l&#39;equation de la dynamique pour un fluide s...">Navier_Stokes_std</a>,eqn))
        {
          <a class="code" href="classSchema__Temps__base.html#acf696ebda2c1019cde88306d1f0e412a" title="Pas de temps de stabilite.">dt_stab_</a>=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(<a class="code" href="classSchema__Temps__base.html#acf696ebda2c1019cde88306d1f0e412a" title="Pas de temps de stabilite.">dt_stab_</a>,eqn.<a class="code" href="classEquation__base.html#a5b0b97f18ca64a6f26e984e25c944ee1" title="Calcul du prochain pas de temps. Renvoie l&#39;inverse de la somme des inverses des pas de temps calcules...">calculer_pas_de_temps</a>());
          <span class="keywordflow">break</span>; <span class="comment">//!&lt; Max une equation de Navier Stokes par probleme</span>
<span class="comment"></span>        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a068ee013cbe548f8e64394e0b88a7a6d"></a><!-- doxytag: member="Sch_CN_EX_iteratif::printOn" ref="a068ee013cbe548f8e64394e0b88a7a6d" args="(Sortie &amp;x) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSortie.html">Sortie</a> &amp; Sch_CN_EX_iteratif::printOn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Surcharge <a class="el" href="classObjet__U.html#a68f520bd9ba3e848370861d6610720b5" title="Ecriture de l&#39;objet sur un flot de sortie Methode a surcharger.">Objet_U::printOn</a>(<a class="el" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp;)<br/>
Imprime le schema en temps sur un flot de sortie.<br/>
!! Attention n'est pas symetrique de la lecture !!<br/>
On ecrit les differents parametres du schema en temps. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp;<br/>
 Signification: le flot de sortie modifie<br/>
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#af196b2dec8898ba995eba8cf2ea37b64">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00033">33</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span>  <a class="code" href="classSch__CN__EX__iteratif.html#a068ee013cbe548f8e64394e0b88a7a6d" title="Surcharge Objet_U::printOn(Sortie&amp;) Imprime le schema en temps sur un flot de sortie. !! Attention n&#39;est pas symetrique de la lecture !! On ecrit les differents parametres du schema en temps.">Sch_CN_iteratif::printOn</a>(s);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab90ed6e94ff2ad5357bf511c6d333490"></a><!-- doxytag: member="Sch_CN_EX_iteratif::readOn" ref="ab90ed6e94ff2ad5357bf511c6d333490" args="(Entree &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEntree.html">Entree</a> &amp; Sch_CN_EX_iteratif::readOn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEntree.html">Entree</a> &amp;&#160;</td>
          <td class="paramname"><em>is</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lecture d'un schema en temps a partir d'un flot d'entree.<br/>
Le format de lecture attendu est le suivant:<br/>
{<br/>
[<a class="el" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> valeur_reelle]<br/>
}<br/>
Les mots clefs peuvent etre:<br/>
tinit, tmax, nb_pas_dt_max, dt_min, dt_max,<br/>
dt_sauv, dt_impr, facsec, seuil_statio,. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp;<br/>
 Signification: le flot d'entree modifie<br/>
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#a368cc7bc7444d872827c52982c7a8b76">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00039">39</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

<p>References <a class="el" href="Sch__CN__iteratif_8h_source.html#l00102">Sch_CN_iteratif::facsec_max</a>, <a class="el" href="Sch__CN__iteratif_8h_source.html#l00101">Sch_CN_iteratif::niter_avg</a>, <a class="el" href="Sch__CN__iteratif_8h_source.html#l00100">Sch_CN_iteratif::niter_max</a>, <a class="el" href="Sch__CN__iteratif_8h_source.html#l00099">Sch_CN_iteratif::niter_min</a>, <a class="el" href="Sch__CN__EX__iteratif_8h_source.html#l00065">omega</a>, and <a class="el" href="Sch__CN__iteratif_8h_source.html#l00098">Sch_CN_iteratif::seuil</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classSch__CN__iteratif.html#ab1627c25875c72516ce79c044ea8c38e" title="To determine convergence.">seuil</a>=0.05;
  <a class="code" href="classSch__CN__iteratif.html#a5afdda57e3a767717a0e2dac900f8490" title="Minimum number of iterations (before, continue to iterate)">niter_min</a>=2;
  <a class="code" href="classSch__CN__iteratif.html#a4b93c13f52ae52886a176c7df396a2a8" title="Maximum number of iterations (after, considered as not convergent)">niter_max</a>=6;
  <a class="code" href="classSch__CN__iteratif.html#a9467b12b7d6a5f2c3b7eb48f3e0c176c" title="Average number of iterations wanted (facsec adjusted to fit that number)">niter_avg</a>=3;
  <a class="code" href="classSch__CN__iteratif.html#ae7e2aeaa5d411a5b2e746db7fc40581f" title="Maximum facsec (not to miss the physics)">facsec_max</a>=20;
  <a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>=0.1;

  <a class="code" href="classSch__CN__EX__iteratif.html#ab90ed6e94ff2ad5357bf511c6d333490" title="Lecture d&#39;un schema en temps a partir d&#39;un flot d&#39;entree. Le format de lecture attendu est le suivant...">Schema_Temps_base::readOn</a>(s) ;

  <span class="keywordflow">return</span> s;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afb96ee43f992ae8ddf47ae453c934e12"></a><!-- doxytag: member="Sch_CN_EX_iteratif::self_cast" ref="afb96ee43f992ae8ddf47ae453c934e12" args="(Objet_U &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSch__CN__EX__iteratif.html">Sch_CN_EX_iteratif</a> &amp; Sch_CN_EX_iteratif::self_cast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classObjet__U.html">Objet_U</a> &amp;&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#af4f2c2bbc60f7929232d44f4dcf73f85">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00030">30</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afd3663139a9df1f47e2b583a8b8c22fe"></a><!-- doxytag: member="Sch_CN_EX_iteratif::self_cast" ref="afd3663139a9df1f47e2b583a8b8c22fe" args="(const Objet_U &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classSch__CN__EX__iteratif.html">Sch_CN_EX_iteratif</a> &amp; Sch_CN_EX_iteratif::self_cast </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>methode ajoutee pour caster en python </p>

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#ab52c843e6a5cf940daa7f5abaef0920c">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00030">30</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa7a02b86b52120dc2afdb162feaab604"></a><!-- doxytag: member="Sch_CN_EX_iteratif::set_param" ref="aa7a02b86b52120dc2afdb162feaab604" args="(Param &amp;titi)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Sch_CN_EX_iteratif::set_param </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classParam.html">Param</a> &amp;&#160;</td>
          <td class="paramname"><em>titi</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#a15f385781f069e7dc343bef216084f5b">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00053">53</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

<p>References <a class="el" href="Param_8cpp_source.html#l00386">Param::ajouter()</a>, and <a class="el" href="Sch__CN__EX__iteratif_8h_source.html#l00065">omega</a>.</p>
<div class="fragment"><pre class="fragment">{
  param.ajouter(<span class="stringliteral">&quot;omega&quot;</span>,&amp;<a class="code" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">omega</a>);
  <a class="code" href="classSch__CN__EX__iteratif.html#aa7a02b86b52120dc2afdb162feaab604">Sch_CN_iteratif::set_param</a>(param);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7987c0489335ac2335775c4c2f90ee5d"></a><!-- doxytag: member="Sch_CN_EX_iteratif::taille_memoire" ref="a7987c0489335ac2335775c4c2f90ee5d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned Sch_CN_EX_iteratif::taille_memoire </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#ad34d2d173b546f6f239b8f3a3faedf39">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00030">30</a> of file <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3f2942d38780a17d1da014cdd148469d"></a><!-- doxytag: member="Sch_CN_EX_iteratif::info_obj" ref="a3f2942d38780a17d1da014cdd148469d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> <a class="el" href="classSch__CN__EX__iteratif.html#a3f2942d38780a17d1da014cdd148469d">Sch_CN_EX_iteratif::info_obj</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classSch__CN__iteratif.html#a4fb4b6044915a602bd98632bf07e5e67">Sch_CN_iteratif</a>.</p>

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8h_source.html#l00052">52</a> of file <a class="el" href="Sch__CN__EX__iteratif_8h_source.html">Sch_CN_EX_iteratif.h</a>.</p>

</div>
</div>
<a class="anchor" id="abd83e7ac0c7aaf96ea090e680b5d6cce"></a><!-- doxytag: member="Sch_CN_EX_iteratif::omega" ref="abd83e7ac0c7aaf96ea090e680b5d6cce" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classSch__CN__EX__iteratif.html#abd83e7ac0c7aaf96ea090e680b5d6cce">Sch_CN_EX_iteratif::omega</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Sch__CN__EX__iteratif_8h_source.html#l00065">65</a> of file <a class="el" href="Sch__CN__EX__iteratif_8h_source.html">Sch_CN_EX_iteratif.h</a>.</p>

<p>Referenced by <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00264">ajuster_facsec()</a>, <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00096">iterateTimeStepOnNS()</a>, <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00039">readOn()</a>, and <a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html#l00053">set_param()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/ThHyd/Schemas_Temps/<a class="el" href="Sch__CN__EX__iteratif_8h_source.html">Sch_CN_EX_iteratif.h</a></li>
<li>src/ThHyd/Schemas_Temps/<a class="el" href="Sch__CN__EX__iteratif_8cpp_source.html">Sch_CN_EX_iteratif.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:37:49 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
