<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TRUST: src/Kernel/ICoCo/Pilote_ICoCo.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">TRUST<span id="projectnumber">&#160;1.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_4ebb9cf478835123b919db691d6366a3.html">Kernel</a></li><li class="navelem"><a class="el" href="dir_1c43769a4edddf83e0fc84ca45348b32.html">ICoCo</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">Pilote_ICoCo.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="Pilote__ICoCo_8h_source.html">Pilote_ICoCo.h</a>&gt;</code><br />
<code>#include &lt;ICoCoTrioField.h&gt;</code><br />
<code>#include &lt;<a class="el" href="ProblemTrio_8h_source.html">ProblemTrio.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="Param_8h_source.html">Param.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="Probleme__U_8h_source.html">Probleme_U.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Pilote_ICoCo.cpp:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="Pilote__ICoCo_8cpp__incl.svg" width="1868" height="1486"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="Pilote__ICoCo_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5df2bd0826f83142ec21936e36060599"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pilote__ICoCo_8cpp.html#a5df2bd0826f83142ec21936e36060599">main_pilote_icoco_1</a> (<a class="el" href="classProbleme__U.html">Probleme_U</a> &amp;pb_to_solve)</td></tr>
<tr class="memdesc:a5df2bd0826f83142ec21936e36060599"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction principale de l'interprete:<br  />
resoudre un probleme<br  />
Le probleme est pilote via l'interface <a class="el" href="namespaceICoCo.html">ICoCo</a><br  />
On lui fournit a chaque pas de temps les champs<br  />
d'entree "pression_sortie" et "vitesse_entree"<br  />
qui sont respectivement un ch_front_input et un ch_front_input_uniforme<br  />
Montre l'utilisation de l'avance en temps et des input fields.  <a href="Pilote__ICoCo_8cpp.html#a5df2bd0826f83142ec21936e36060599">More...</a><br /></td></tr>
<tr class="separator:a5df2bd0826f83142ec21936e36060599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a1cf32fde45cf76b772638a2cfc11b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pilote__ICoCo_8cpp.html#a88a1cf32fde45cf76b772638a2cfc11b">main_pilote_icoco_2</a> (<a class="el" href="classProbleme__U.html">Probleme_U</a> &amp;pb_to_solve)</td></tr>
<tr class="memdesc:a88a1cf32fde45cf76b772638a2cfc11b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction principale de l'interprete:<br  />
resoudre un probleme<br  />
Le probleme est pilote via l'interface <a class="el" href="namespaceICoCo.html">ICoCo</a>.<br  />
On lui fournit a chaque pas de temps le champ<br  />
d'entree "puissance" qui est un <a class="el" href="classChamp__input__P0.html" title="class Champ_input_P0 Cette classe represente un champ accessible par setInputField defini sur le doma...">Champ_input_P0</a><br  />
Montre l'utilisation de l'avance en temps et des input fields.  <a href="Pilote__ICoCo_8cpp.html#a88a1cf32fde45cf76b772638a2cfc11b">More...</a><br /></td></tr>
<tr class="separator:a88a1cf32fde45cf76b772638a2cfc11b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae72d158a0a398ed01579b25fa58dd550"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pilote__ICoCo_8cpp.html#ae72d158a0a398ed01579b25fa58dd550">main_abort</a> (<a class="el" href="classProbleme__U.html">Probleme_U</a> &amp;pb_to_solve)</td></tr>
<tr class="memdesc:ae72d158a0a398ed01579b25fa58dd550"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction principale de l'interprete:<br  />
resoudre un probleme<br  />
Le probleme est pilote via l'interface <a class="el" href="namespaceICoCo.html">ICoCo</a><br  />
Le troisieme pas de temps est effectue deux fois.  <a href="Pilote__ICoCo_8cpp.html#ae72d158a0a398ed01579b25fa58dd550">More...</a><br /></td></tr>
<tr class="separator:ae72d158a0a398ed01579b25fa58dd550"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af80d3da879e6abdebed575a2a19f38cd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pilote__ICoCo_8cpp.html#af80d3da879e6abdebed575a2a19f38cd">Pilote_ICoCobases</a> [1] ={ &amp;( <a class="el" href="classInterprete.html">Interprete</a> ::info_obj)}</td></tr>
<tr class="separator:af80d3da879e6abdebed575a2a19f38cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae72d158a0a398ed01579b25fa58dd550" name="ae72d158a0a398ed01579b25fa58dd550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae72d158a0a398ed01579b25fa58dd550">&#9670;&nbsp;</a></span>main_abort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void main_abort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classProbleme__U.html">Probleme_U</a> &amp;&#160;</td>
          <td class="paramname"><em>pb_to_solve</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction principale de l'interprete:<br  />
resoudre un probleme<br  />
Le probleme est pilote via l'interface <a class="el" href="namespaceICoCo.html">ICoCo</a><br  />
Le troisieme pas de temps est effectue deux fois. </p>
<p >&lt; Does the Problem want to stop ?</p>
<p >&lt; Is the time interval successfully solved ?</p>
<p >&lt; Loop on timesteps</p>
<p >&lt; Loop on timestep tries</p>
<p >&lt; The resolution failed, try with a new time interval</p>
<p >&lt; validate and go to the next time step</p>

<p class="definition">Definition at line <a class="el" href="Pilote__ICoCo_8cpp_source.html#l00310">310</a> of file <a class="el" href="Pilote__ICoCo_8cpp_source.html">Pilote_ICoCo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  311</span>{</div>
<div class="line"><span class="lineno">  312</span><span class="comment">// char* pb_name=nom1.getChar();</span></div>
<div class="line"><span class="lineno">  313</span>  <a class="code hl_class" href="classICoCo_1_1ProblemTrio.html">ProblemTrio</a> pb;</div>
<div class="line"><span class="lineno">  314</span><span class="comment">// pb.setDataFile(pb_name);</span></div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>  pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#aa300012bfa1e8fdf8f0998ded6604476">initialize_pb</a>(pb_to_solve);</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>  <span class="keywordtype">bool</span> stop=<span class="keyword">false</span>; <span class="comment">//!&lt; Does the Problem want to stop ?</span></div>
<div class="line"><span class="lineno">  319</span>  <span class="keywordtype">bool</span> ok=<span class="keyword">true</span>; <span class="comment">//!&lt; Is the time interval successfully solved ?</span></div>
<div class="line"><span class="lineno">  320</span>  <span class="keywordtype">int</span> n=0;</div>
<div class="line"><span class="lineno">  321</span><span class="comment">// loop on time step</span></div>
<div class="line"><span class="lineno">  322</span>  <span class="keywordflow">while</span> (!stop)                       <span class="comment">//!&lt; Loop on timesteps</span></div>
<div class="line"><span class="lineno">  323</span>    {</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>      ok=<span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>      <span class="keywordflow">while</span> (!ok &amp;&amp; !stop)                  <span class="comment">//!&lt; Loop on timestep tries</span></div>
<div class="line"><span class="lineno">  328</span>        {</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span><span class="comment">// compute time step length</span></div>
<div class="line"><span class="lineno">  331</span>          <span class="keywordtype">double</span> dt=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a4b54ab8cc54337381a472bab973acf10">computeTimeStep</a>(stop);</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>          <span class="keywordflow">if</span> (stop)</div>
<div class="line"><span class="lineno">  334</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span><span class="comment">// prepare the new time step</span></div>
<div class="line"><span class="lineno">  337</span>          pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#ac3f054aa4214e72999e5567fc3a12c3f">initTimeStep</a>(dt);</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span><span class="comment">// ---------------------</span></div>
<div class="line"><span class="lineno">  340</span><span class="comment">// Solve next time step</span></div>
<div class="line"><span class="lineno">  341</span><span class="comment">// ---------------------</span></div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>          {</div>
<div class="line"><span class="lineno">  344</span>            TrioField afield;</div>
<div class="line"><span class="lineno">  345</span>            <span class="keywordtype">int</span> nb_elems;</div>
<div class="line"><span class="lineno">  346</span>            pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a82a409bb14db0c4c9c2ec760346fe749">getInputFieldTemplate</a>(<span class="stringliteral">&quot;temperature_bord&quot;</span>,afield);</div>
<div class="line"><span class="lineno">  347</span>            afield.set_standalone();</div>
<div class="line"><span class="lineno">  348</span>            nb_elems=afield._nb_elems;</div>
<div class="line"><span class="lineno">  349</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_elems; i++)</div>
<div class="line"><span class="lineno">  350</span>              afield._field[i]=600;</div>
<div class="line"><span class="lineno">  351</span>            pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#aa279fbbd42577b94b7d9b8ef09a5f57d">setInputField</a>(<span class="stringliteral">&quot;temperature_bord&quot;</span>,afield);</div>
<div class="line"><span class="lineno">  352</span>          }</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>          <span class="keywordtype">bool</span> ok2=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#addd46b24bec20639f6937adb399c6532">solveTimeStep</a>();</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>          n++;</div>
<div class="line"><span class="lineno">  358</span>          <span class="keywordflow">if</span> (!ok2 || n==3)   <span class="comment">//!&lt; The resolution failed, try with a new time interval</span></div>
<div class="line"><span class="lineno">  359</span>            {</div>
<div class="line"><span class="lineno">  360</span>              <a class="code hl_define" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot; call of abortTimeStep&quot;</span> &lt;&lt;<a class="code hl_variable" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;</div>
<div class="line"><span class="lineno">  361</span>              pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#afa36eed5154c772ec0bca7a785ad504f">abortTimeStep</a>();</div>
<div class="line"><span class="lineno">  362</span>            }</div>
<div class="line"><span class="lineno">  363</span>          <span class="keywordflow">else</span>   <span class="comment">//!&lt; validate and go to the next time step</span></div>
<div class="line"><span class="lineno">  364</span>            {</div>
<div class="line"><span class="lineno">  365</span>              pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a700b158018b3bef57909d70994640991">validateTimeStep</a>();</div>
<div class="line"><span class="lineno">  366</span>            }</div>
<div class="line"><span class="lineno">  367</span>        }                                     <span class="comment">//!&lt; End loop on timestep size</span></div>
<div class="line"><span class="lineno">  368</span>    }                                   <span class="comment">//!&lt; End loop on timesteps</span></div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>  pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a0feb32f13766587bd12dc8e217d11b1b">terminate</a>();</div>
<div class="line"><span class="lineno">  371</span>}</div>
<div class="ttc" id="aEntreeSortie_8h_html_a5ebb6b5243d6167369bddecb78d0b5b8"><div class="ttname"><a href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a></div><div class="ttdeci">#define Cerr</div><div class="ttdef"><b>Definition:</b> <a href="EntreeSortie_8h_source.html#l00025">EntreeSortie.h:25</a></div></div>
<div class="ttc" id="aEntreeSortie_8h_html_a7f716d3c5b6411631d5d0700ead09467"><div class="ttname"><a href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a></div><div class="ttdeci">const Separateur finl</div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html">ICoCo::ProblemTrio</a></div><div class="ttdoc">class ProblemTrio This class defines the API a problem has to implement in order to be coupled....</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8h_source.html#l00048">ProblemTrio.h:49</a></div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_a0feb32f13766587bd12dc8e217d11b1b"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#a0feb32f13766587bd12dc8e217d11b1b">ICoCo::ProblemTrio::terminate</a></div><div class="ttdeci">void terminate() override</div><div class="ttdoc">This method is called once at the end, after any other one. It frees the memory and saves anything th...</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00244">ProblemTrio.cpp:244</a></div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_a4b54ab8cc54337381a472bab973acf10"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#a4b54ab8cc54337381a472bab973acf10">ICoCo::ProblemTrio::computeTimeStep</a></div><div class="ttdeci">double computeTimeStep(bool &amp;stop) const override</div><div class="ttdoc">Compute the value the Problem would like for the next time step. This value will not necessarily be u...</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00310">ProblemTrio.cpp:310</a></div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_a700b158018b3bef57909d70994640991"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#a700b158018b3bef57909d70994640991">ICoCo::ProblemTrio::validateTimeStep</a></div><div class="ttdeci">void validateTimeStep() override</div><div class="ttdoc">Validates the calculated unknown by moving the present time at the end of the time step....</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00385">ProblemTrio.cpp:385</a></div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_a82a409bb14db0c4c9c2ec760346fe749"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#a82a409bb14db0c4c9c2ec760346fe749">ICoCo::ProblemTrio::getInputFieldTemplate</a></div><div class="ttdeci">void getInputFieldTemplate(const std::string &amp;name, TrioField &amp;afield) const override</div><div class="ttdoc">This method is used to get a template of a field expected for the given name.</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00535">ProblemTrio.cpp:535</a></div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_aa279fbbd42577b94b7d9b8ef09a5f57d"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#aa279fbbd42577b94b7d9b8ef09a5f57d">ICoCo::ProblemTrio::setInputField</a></div><div class="ttdeci">void setInputField(const std::string &amp;name, const TrioField &amp;afield) override</div><div class="ttdoc">This method is used to provide the Problem with an input field.</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00556">ProblemTrio.cpp:556</a></div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_aa300012bfa1e8fdf8f0998ded6604476"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#aa300012bfa1e8fdf8f0998ded6604476">ICoCo::ProblemTrio::initialize_pb</a></div><div class="ttdeci">bool initialize_pb(Probleme_U &amp;pb)</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00219">ProblemTrio.cpp:219</a></div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_ac3f054aa4214e72999e5567fc3a12c3f"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#ac3f054aa4214e72999e5567fc3a12c3f">ICoCo::ProblemTrio::initTimeStep</a></div><div class="ttdeci">bool initTimeStep(double dt) override</div><div class="ttdoc">This method allocates and initializes the unknown and given fields for the future time step....</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00334">ProblemTrio.cpp:334</a></div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_addd46b24bec20639f6937adb399c6532"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#addd46b24bec20639f6937adb399c6532">ICoCo::ProblemTrio::solveTimeStep</a></div><div class="ttdeci">bool solveTimeStep() override</div><div class="ttdoc">Calculates the unknown fields for the next time step. The default implementation uses iterations.</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00356">ProblemTrio.cpp:356</a></div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_afa36eed5154c772ec0bca7a785ad504f"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#afa36eed5154c772ec0bca7a785ad504f">ICoCo::ProblemTrio::abortTimeStep</a></div><div class="ttdeci">void abortTimeStep() override</div><div class="ttdoc">Aborts the resolution of the current time step.</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00454">ProblemTrio.cpp:454</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ProblemTrio_8cpp_source.html#l00454">ICoCo::ProblemTrio::abortTimeStep()</a>, <a class="el" href="EntreeSortie_8h_source.html#l00025">Cerr</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00310">ICoCo::ProblemTrio::computeTimeStep()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00535">ICoCo::ProblemTrio::getInputFieldTemplate()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00219">ICoCo::ProblemTrio::initialize_pb()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00334">ICoCo::ProblemTrio::initTimeStep()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00556">ICoCo::ProblemTrio::setInputField()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00356">ICoCo::ProblemTrio::solveTimeStep()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00244">ICoCo::ProblemTrio::terminate()</a>, and <a class="el" href="ProblemTrio_8cpp_source.html#l00385">ICoCo::ProblemTrio::validateTimeStep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="Pilote__ICoCo_8cpp_source.html#l00372">Pilote_ICoCo::interpreter()</a>.</p>

</div>
</div>
<a id="a5df2bd0826f83142ec21936e36060599" name="a5df2bd0826f83142ec21936e36060599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5df2bd0826f83142ec21936e36060599">&#9670;&nbsp;</a></span>main_pilote_icoco_1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void main_pilote_icoco_1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classProbleme__U.html">Probleme_U</a> &amp;&#160;</td>
          <td class="paramname"><em>pb_to_solve</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction principale de l'interprete:<br  />
resoudre un probleme<br  />
Le probleme est pilote via l'interface <a class="el" href="namespaceICoCo.html">ICoCo</a><br  />
On lui fournit a chaque pas de temps les champs<br  />
d'entree "pression_sortie" et "vitesse_entree"<br  />
qui sont respectivement un ch_front_input et un ch_front_input_uniforme<br  />
Montre l'utilisation de l'avance en temps et des input fields. </p>
<p >&lt; Does the Problem want to stop ?</p>
<p >&lt; Is the time interval successfully solved ?</p>
<p >&lt; Is the time interval successfully solved ?</p>
<p >&lt; ch_front_input_uniforme in the data file</p>
<p >&lt; The resolution failed, try with a new time interval.</p>
<p >&lt; The resolution was successful, validate and go to the next time step.</p>
<p >&lt; Impossible to solve the next time step, the Problem</p>
<p >&lt; has given up</p>

<p class="definition">Definition at line <a class="el" href="Pilote__ICoCo_8cpp_source.html#l00089">89</a> of file <a class="el" href="Pilote__ICoCo_8cpp_source.html">Pilote_ICoCo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>{</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>  <a class="code hl_class" href="classICoCo_1_1ProblemTrio.html">ProblemTrio</a> pb;</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>  <a class="code hl_class" href="classNom.html">Nom</a> pb_name=pb_to_solve.<a class="code hl_function" href="classProbleme__U.html#a43ca6fdaa9fd199851c93f689d957af7">le_nom</a>();</div>
<div class="line"><span class="lineno">   95</span>  pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#aa300012bfa1e8fdf8f0998ded6604476">initialize_pb</a>(pb_to_solve);</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>  <span class="keywordtype">bool</span> stop=<span class="keyword">false</span>; <span class="comment">//!&lt; Does the Problem want to stop ?</span></div>
<div class="line"><span class="lineno">   98</span>  <span class="keywordtype">bool</span> ok=<span class="keyword">true</span>; <span class="comment">//!&lt; Is the time interval successfully solved ?</span></div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span><span class="comment">// Compute the first time step length</span></div>
<div class="line"><span class="lineno">  101</span>  <span class="keywordtype">double</span> dt=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a4b54ab8cc54337381a472bab973acf10">computeTimeStep</a>(stop);</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span><span class="comment">// Loop on the time steps</span></div>
<div class="line"><span class="lineno">  104</span>  <span class="keywordflow">while</span>(!stop)</div>
<div class="line"><span class="lineno">  105</span>    {</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>      ok=<span class="keyword">false</span>; <span class="comment">//!&lt; Is the time interval successfully solved ?</span></div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span><span class="comment">// Loop on the time interval tries</span></div>
<div class="line"><span class="lineno">  110</span>      <span class="keywordflow">while</span> (!ok &amp;&amp; !stop)</div>
<div class="line"><span class="lineno">  111</span>        {</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span><span class="comment">// Prepare the next time step</span></div>
<div class="line"><span class="lineno">  114</span>          ok=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#ac3f054aa4214e72999e5567fc3a12c3f">initTimeStep</a>(dt);</div>
<div class="line"><span class="lineno">  115</span>          <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><span class="lineno">  116</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span><span class="comment">// Example of field exchange</span></div>
<div class="line"><span class="lineno">  119</span>          {</div>
<div class="line"><span class="lineno">  120</span>            vector&lt;string&gt; sv=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a669b8eacd3cc5017ce7d006ec0346f8c">getInputFieldsNames</a>();</div>
<div class="line"><span class="lineno">  121</span>            cout &lt;&lt; <span class="stringliteral">&quot;Input Fields for &quot;</span> &lt;&lt; pb_name &lt;&lt; <span class="stringliteral">&quot; :&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  122</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;sv.size(); i++)</div>
<div class="line"><span class="lineno">  123</span>              std::cout &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;. &quot;</span> &lt;&lt; sv[i] &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>            TrioField afield;</div>
<div class="line"><span class="lineno">  126</span>            <span class="keywordtype">int</span> nb_elems,nb_comp;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span><span class="comment">// Get the right geometry &amp; nbcomp for &quot;pression_sortie&quot;</span></div>
<div class="line"><span class="lineno">  129</span>            pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a82a409bb14db0c4c9c2ec760346fe749">getInputFieldTemplate</a>(<span class="stringliteral">&quot;pression_sortie&quot;</span>,afield);</div>
<div class="line"><span class="lineno">  130</span><span class="comment">// Allocate memory for the values (size=nb_elems*nb_comp)</span></div>
<div class="line"><span class="lineno">  131</span>            afield.set_standalone();</div>
<div class="line"><span class="lineno">  132</span><span class="comment">// Fill the values</span></div>
<div class="line"><span class="lineno">  133</span>            nb_elems=afield._nb_elems;</div>
<div class="line"><span class="lineno">  134</span>            nb_comp=afield._nb_field_components;</div>
<div class="line"><span class="lineno">  135</span>            assert(nb_comp==1);</div>
<div class="line"><span class="lineno">  136</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_elems; i++)</div>
<div class="line"><span class="lineno">  137</span>              afield._field[i]=0;</div>
<div class="line"><span class="lineno">  138</span><span class="comment">// Give the field to the problem</span></div>
<div class="line"><span class="lineno">  139</span>            pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#aa279fbbd42577b94b7d9b8ef09a5f57d">setInputField</a>(<span class="stringliteral">&quot;pression_sortie&quot;</span>,afield);</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span><span class="comment">// Get the right geometry &amp; nbcomp for &quot;vitesse_entree&quot;</span></div>
<div class="line"><span class="lineno">  142</span>            pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a82a409bb14db0c4c9c2ec760346fe749">getInputFieldTemplate</a>(<span class="stringliteral">&quot;vitesse_entree&quot;</span>,afield);</div>
<div class="line"><span class="lineno">  143</span><span class="comment">// Allocate memory for the values (size=nb_elems*nb_comp)</span></div>
<div class="line"><span class="lineno">  144</span>            afield.set_standalone();</div>
<div class="line"><span class="lineno">  145</span><span class="comment">// Fill the values</span></div>
<div class="line"><span class="lineno">  146</span>            nb_elems=afield._nb_elems;</div>
<div class="line"><span class="lineno">  147</span>            nb_comp=afield._nb_field_components;</div>
<div class="line"><span class="lineno">  148</span>            assert(nb_elems==1); <span class="comment">//!&lt; ch_front_input_uniforme in the data file</span></div>
<div class="line"><span class="lineno">  149</span>            <span class="keywordtype">double</span> t=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a7a7ea9b75d2ab5e81183dc1294235d5a">presentTime</a>();</div>
<div class="line"><span class="lineno">  150</span>            t+=dt;</div>
<div class="line"><span class="lineno">  151</span>            <span class="keywordtype">double</span> vx=(t&gt;100)?100:t;</div>
<div class="line"><span class="lineno">  152</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_elems; i++)</div>
<div class="line"><span class="lineno">  153</span>              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;afield._nb_field_components; j++)</div>
<div class="line"><span class="lineno">  154</span>                afield._field[i*nb_comp+j]=(j==0)?vx:0;</div>
<div class="line"><span class="lineno">  155</span><span class="comment">// Give the field to the problem</span></div>
<div class="line"><span class="lineno">  156</span>            pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#aa279fbbd42577b94b7d9b8ef09a5f57d">setInputField</a>(<span class="stringliteral">&quot;vitesse_entree&quot;</span>,afield);</div>
<div class="line"><span class="lineno">  157</span>          }</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span><span class="comment">// Solve the next time step</span></div>
<div class="line"><span class="lineno">  160</span>          ok=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#addd46b24bec20639f6937adb399c6532">solveTimeStep</a>();</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>          <span class="keywordflow">if</span> (!ok)   <span class="comment">//!&lt; The resolution failed, try with a new time interval.</span></div>
<div class="line"><span class="lineno">  163</span>            {</div>
<div class="line"><span class="lineno">  164</span>              pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#afa36eed5154c772ec0bca7a785ad504f">abortTimeStep</a>();</div>
<div class="line"><span class="lineno">  165</span>              dt=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a4b54ab8cc54337381a472bab973acf10">computeTimeStep</a>(stop);</div>
<div class="line"><span class="lineno">  166</span>            }</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>          <span class="keywordflow">else</span> <span class="comment">//!&lt; The resolution was successful, validate and go to the next time step.</span></div>
<div class="line"><span class="lineno">  169</span><span class="comment">//</span></div>
<div class="line"><span class="lineno">  170</span>            pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a700b158018b3bef57909d70994640991">validateTimeStep</a>();</div>
<div class="line"><span class="lineno">  171</span>        }</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>      <span class="keywordflow">if</span> (!ok) <span class="comment">//!&lt; Impossible to solve the next time step, the Problem</span></div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">break</span>; <span class="comment">//!&lt; has given up</span></div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span><span class="comment">// Compute the next time step length</span></div>
<div class="line"><span class="lineno">  177</span>      dt=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a4b54ab8cc54337381a472bab973acf10">computeTimeStep</a>(stop);</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span><span class="comment">// Stop the resolution if the Problem is stationnary</span></div>
<div class="line"><span class="lineno">  180</span>      <span class="keywordflow">if</span> (pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#ae78f72ee5329a19ea2f0ce46caa5758a">isStationary</a>())</div>
<div class="line"><span class="lineno">  181</span>        stop=<span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  182</span>    }</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>  pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a0feb32f13766587bd12dc8e217d11b1b">terminate</a>();</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>}</div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_a669b8eacd3cc5017ce7d006ec0346f8c"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#a669b8eacd3cc5017ce7d006ec0346f8c">ICoCo::ProblemTrio::getInputFieldsNames</a></div><div class="ttdeci">std::vector&lt; std::string &gt; getInputFieldsNames() const override</div><div class="ttdoc">This method is used to find the names of input fields understood by the Problem.</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00508">ProblemTrio.cpp:508</a></div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_a7a7ea9b75d2ab5e81183dc1294235d5a"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#a7a7ea9b75d2ab5e81183dc1294235d5a">ICoCo::ProblemTrio::presentTime</a></div><div class="ttdeci">double presentTime() const override</div><div class="ttdoc">Returns the present time. This value may change only at the call of validateTimeStep....</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00287">ProblemTrio.cpp:287</a></div></div>
<div class="ttc" id="aclassICoCo_1_1ProblemTrio_html_ae78f72ee5329a19ea2f0ce46caa5758a"><div class="ttname"><a href="classICoCo_1_1ProblemTrio.html#ae78f72ee5329a19ea2f0ce46caa5758a">ICoCo::ProblemTrio::isStationary</a></div><div class="ttdeci">bool isStationary() const override</div><div class="ttdoc">Tells if the Problem unknowns have changed during the last time step.</div><div class="ttdef"><b>Definition:</b> <a href="ProblemTrio_8cpp_source.html#l00418">ProblemTrio.cpp:418</a></div></div>
<div class="ttc" id="aclassNom_html"><div class="ttname"><a href="classNom.html">Nom</a></div><div class="ttdoc">class Nom Une chaine de caractere pour nommer les objets de TRUST NOM_H</div><div class="ttdef"><b>Definition:</b> <a href="Nom_8h_source.html#l00034">Nom.h:35</a></div></div>
<div class="ttc" id="aclassProbleme__U_html_a43ca6fdaa9fd199851c93f689d957af7"><div class="ttname"><a href="classProbleme__U.html#a43ca6fdaa9fd199851c93f689d957af7">Probleme_U::le_nom</a></div><div class="ttdeci">const Nom &amp; le_nom() const override</div><div class="ttdoc">Donne le nom de l'Objet_U Methode a surcharger : renvoie &quot;neant&quot; dans cette implementation.</div><div class="ttdef"><b>Definition:</b> <a href="Probleme__U_8h_source.html#l00107">Probleme_U.h:107</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ProblemTrio_8cpp_source.html#l00454">ICoCo::ProblemTrio::abortTimeStep()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00310">ICoCo::ProblemTrio::computeTimeStep()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00508">ICoCo::ProblemTrio::getInputFieldsNames()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00535">ICoCo::ProblemTrio::getInputFieldTemplate()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00219">ICoCo::ProblemTrio::initialize_pb()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00334">ICoCo::ProblemTrio::initTimeStep()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00418">ICoCo::ProblemTrio::isStationary()</a>, <a class="el" href="Probleme__U_8h_source.html#l00107">Probleme_U::le_nom()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00287">ICoCo::ProblemTrio::presentTime()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00556">ICoCo::ProblemTrio::setInputField()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00356">ICoCo::ProblemTrio::solveTimeStep()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00244">ICoCo::ProblemTrio::terminate()</a>, and <a class="el" href="ProblemTrio_8cpp_source.html#l00385">ICoCo::ProblemTrio::validateTimeStep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="Pilote__ICoCo_8cpp_source.html#l00372">Pilote_ICoCo::interpreter()</a>.</p>

</div>
</div>
<a id="a88a1cf32fde45cf76b772638a2cfc11b" name="a88a1cf32fde45cf76b772638a2cfc11b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88a1cf32fde45cf76b772638a2cfc11b">&#9670;&nbsp;</a></span>main_pilote_icoco_2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void main_pilote_icoco_2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classProbleme__U.html">Probleme_U</a> &amp;&#160;</td>
          <td class="paramname"><em>pb_to_solve</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction principale de l'interprete:<br  />
resoudre un probleme<br  />
Le probleme est pilote via l'interface <a class="el" href="namespaceICoCo.html">ICoCo</a>.<br  />
On lui fournit a chaque pas de temps le champ<br  />
d'entree "puissance" qui est un <a class="el" href="classChamp__input__P0.html" title="class Champ_input_P0 Cette classe represente un champ accessible par setInputField defini sur le doma...">Champ_input_P0</a><br  />
Montre l'utilisation de l'avance en temps et des input fields. </p>
<p >&lt; Does the Problem want to stop ?</p>
<p >&lt; Is the time interval successfully solved ?</p>
<p >&lt; Is the time interval successfully solved ?</p>
<p >&lt; The resolution failed, try with a new time interval.</p>
<p >&lt; The resolution was successful, validate and go to the next time step.</p>
<p >&lt; Impossible to solve the next time step, the Problem</p>
<p >&lt; has given up</p>

<p class="definition">Definition at line <a class="el" href="Pilote__ICoCo_8cpp_source.html#l00197">197</a> of file <a class="el" href="Pilote__ICoCo_8cpp_source.html">Pilote_ICoCo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  198</span>{</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>  <a class="code hl_class" href="classICoCo_1_1ProblemTrio.html">ProblemTrio</a> pb;</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>  <a class="code hl_class" href="classNom.html">Nom</a> pb_name=pb_to_solve.<a class="code hl_function" href="classProbleme__U.html#a43ca6fdaa9fd199851c93f689d957af7">le_nom</a>();</div>
<div class="line"><span class="lineno">  203</span>  pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#aa300012bfa1e8fdf8f0998ded6604476">initialize_pb</a>(pb_to_solve);</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>  <span class="keywordtype">bool</span> stop=<span class="keyword">false</span>; <span class="comment">//!&lt; Does the Problem want to stop ?</span></div>
<div class="line"><span class="lineno">  206</span>  <span class="keywordtype">bool</span> ok=<span class="keyword">true</span>; <span class="comment">//!&lt; Is the time interval successfully solved ?</span></div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span><span class="comment">// Compute the first time step length</span></div>
<div class="line"><span class="lineno">  209</span>  <span class="keywordtype">double</span> dt=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a4b54ab8cc54337381a472bab973acf10">computeTimeStep</a>(stop);</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span><span class="comment">// Loop on the time steps</span></div>
<div class="line"><span class="lineno">  212</span>  <span class="keywordflow">while</span>(!stop)</div>
<div class="line"><span class="lineno">  213</span>    {</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>      ok=<span class="keyword">false</span>; <span class="comment">//!&lt; Is the time interval successfully solved ?</span></div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span><span class="comment">// Loop on the time interval tries</span></div>
<div class="line"><span class="lineno">  218</span>      <span class="keywordflow">while</span> (!ok &amp;&amp; !stop)</div>
<div class="line"><span class="lineno">  219</span>        {</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span><span class="comment">// Prepare the next time step</span></div>
<div class="line"><span class="lineno">  222</span>          ok=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#ac3f054aa4214e72999e5567fc3a12c3f">initTimeStep</a>(dt);</div>
<div class="line"><span class="lineno">  223</span>          <span class="keywordflow">if</span> (!ok)</div>
<div class="line"><span class="lineno">  224</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span><span class="comment">// Example of field exchange</span></div>
<div class="line"><span class="lineno">  227</span>          {</div>
<div class="line"><span class="lineno">  228</span>            vector&lt;string&gt; sv=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a669b8eacd3cc5017ce7d006ec0346f8c">getInputFieldsNames</a>();</div>
<div class="line"><span class="lineno">  229</span>            cout &lt;&lt; <span class="stringliteral">&quot;Input Fields for &quot;</span> &lt;&lt; pb_name &lt;&lt; <span class="stringliteral">&quot; :&quot;</span> &lt;&lt; endl;</div>
<div class="line"><span class="lineno">  230</span>            <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;sv.size(); i++)</div>
<div class="line"><span class="lineno">  231</span>              std::cout &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;. &quot;</span> &lt;&lt; sv[i] &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>            TrioField afield;</div>
<div class="line"><span class="lineno">  234</span>            <span class="keywordtype">int</span> nb_elems;</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span><span class="comment">// Get the right geometry &amp; nbcomp for &quot;puissance&quot;</span></div>
<div class="line"><span class="lineno">  237</span>            pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a82a409bb14db0c4c9c2ec760346fe749">getInputFieldTemplate</a>(<span class="stringliteral">&quot;puissance&quot;</span>,afield);</div>
<div class="line"><span class="lineno">  238</span><span class="comment">// Allocate memory for the values (size=nb_elems*nb_comp)</span></div>
<div class="line"><span class="lineno">  239</span>            afield.set_standalone();</div>
<div class="line"><span class="lineno">  240</span><span class="comment">// Fill the values</span></div>
<div class="line"><span class="lineno">  241</span>            nb_elems=afield._nb_elems;</div>
<div class="line"><span class="lineno">  242</span><span class="comment">// nb_comp=afield._nb_field_components;</span></div>
<div class="line"><span class="lineno">  243</span>            assert(afield._nb_field_components==1);</div>
<div class="line"><span class="lineno">  244</span>            assert(afield._space_dim==2);</div>
<div class="line"><span class="lineno">  245</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;nb_elems; i++)</div>
<div class="line"><span class="lineno">  246</span>              {</div>
<div class="line"><span class="lineno">  247</span><span class="comment">// Find gravity center of the element.</span></div>
<div class="line"><span class="lineno">  248</span>                <span class="keywordtype">double</span> x=0,y=0;</div>
<div class="line"><span class="lineno">  249</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;afield._nodes_per_elem; j++)</div>
<div class="line"><span class="lineno">  250</span>                  {</div>
<div class="line"><span class="lineno">  251</span>                    <span class="keywordtype">int</span> som=afield._connectivity[afield._nodes_per_elem*i+j];</div>
<div class="line"><span class="lineno">  252</span>                    x+=afield._coords[som*2];</div>
<div class="line"><span class="lineno">  253</span>                    y+=afield._coords[som*2+1];</div>
<div class="line"><span class="lineno">  254</span>                  }</div>
<div class="line"><span class="lineno">  255</span>                x/=afield._nodes_per_elem;</div>
<div class="line"><span class="lineno">  256</span>                y/=afield._nodes_per_elem;</div>
<div class="line"><span class="lineno">  257</span>                afield._field[i]=(((x-0.5)*(x-0.5)+(y-0.5)*(y-0.5))&lt;0.3*0.3)*10;</div>
<div class="line"><span class="lineno">  258</span>              }</div>
<div class="line"><span class="lineno">  259</span><span class="comment">// Give the field to the problem</span></div>
<div class="line"><span class="lineno">  260</span>            pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#aa279fbbd42577b94b7d9b8ef09a5f57d">setInputField</a>(<span class="stringliteral">&quot;puissance&quot;</span>,afield);</div>
<div class="line"><span class="lineno">  261</span>          }</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span><span class="comment">// Solve the next time step</span></div>
<div class="line"><span class="lineno">  264</span>          ok=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#addd46b24bec20639f6937adb399c6532">solveTimeStep</a>();</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>          <span class="keywordflow">if</span> (!ok)   <span class="comment">//!&lt; The resolution failed, try with a new time interval.</span></div>
<div class="line"><span class="lineno">  267</span>            {</div>
<div class="line"><span class="lineno">  268</span>              pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#afa36eed5154c772ec0bca7a785ad504f">abortTimeStep</a>();</div>
<div class="line"><span class="lineno">  269</span>              dt=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a4b54ab8cc54337381a472bab973acf10">computeTimeStep</a>(stop);</div>
<div class="line"><span class="lineno">  270</span>            }</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>          <span class="keywordflow">else</span> <span class="comment">//!&lt; The resolution was successful, validate and go to the next time step.</span></div>
<div class="line"><span class="lineno">  273</span><span class="comment">//</span></div>
<div class="line"><span class="lineno">  274</span>            pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a700b158018b3bef57909d70994640991">validateTimeStep</a>();</div>
<div class="line"><span class="lineno">  275</span>        }</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>      <span class="keywordflow">if</span> (!ok) <span class="comment">//!&lt; Impossible to solve the next time step, the Problem</span></div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">break</span>; <span class="comment">//!&lt; has given up</span></div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span><span class="comment">// Compute the next time step length</span></div>
<div class="line"><span class="lineno">  281</span>      dt=pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a4b54ab8cc54337381a472bab973acf10">computeTimeStep</a>(stop);</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span><span class="comment">// Stop the resolution if the Problem is stationnary</span></div>
<div class="line"><span class="lineno">  284</span>      <span class="keywordflow">if</span> (pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#ae78f72ee5329a19ea2f0ce46caa5758a">isStationary</a>())</div>
<div class="line"><span class="lineno">  285</span>        stop=<span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  286</span>    }</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>  pb.<a class="code hl_function" href="classICoCo_1_1ProblemTrio.html#a0feb32f13766587bd12dc8e217d11b1b">terminate</a>();</div>
<div class="line"><span class="lineno">  289</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="ProblemTrio_8cpp_source.html#l00454">ICoCo::ProblemTrio::abortTimeStep()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00310">ICoCo::ProblemTrio::computeTimeStep()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00508">ICoCo::ProblemTrio::getInputFieldsNames()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00535">ICoCo::ProblemTrio::getInputFieldTemplate()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00219">ICoCo::ProblemTrio::initialize_pb()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00334">ICoCo::ProblemTrio::initTimeStep()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00418">ICoCo::ProblemTrio::isStationary()</a>, <a class="el" href="Probleme__U_8h_source.html#l00107">Probleme_U::le_nom()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00556">ICoCo::ProblemTrio::setInputField()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00356">ICoCo::ProblemTrio::solveTimeStep()</a>, <a class="el" href="ProblemTrio_8cpp_source.html#l00244">ICoCo::ProblemTrio::terminate()</a>, and <a class="el" href="ProblemTrio_8cpp_source.html#l00385">ICoCo::ProblemTrio::validateTimeStep()</a>.</p>

<p class="reference">Referenced by <a class="el" href="Pilote__ICoCo_8cpp_source.html#l00372">Pilote_ICoCo::interpreter()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af80d3da879e6abdebed575a2a19f38cd" name="af80d3da879e6abdebed575a2a19f38cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af80d3da879e6abdebed575a2a19f38cd">&#9670;&nbsp;</a></span>Pilote_ICoCobases</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a>* Pilote_ICoCobases[1] ={ &amp;( <a class="el" href="classInterprete.html">Interprete</a> ::info_obj)}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Pilote__ICoCo_8cpp_source.html#l00032">32</a> of file <a class="el" href="Pilote__ICoCo_8cpp_source.html">Pilote_ICoCo.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 29 2022 11:11:36 for TRUST by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
