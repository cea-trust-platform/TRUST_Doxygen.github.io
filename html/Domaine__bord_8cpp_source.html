<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Geometrie/Domaine_bord.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Geometrie/Domaine_bord.cpp</div>  </div>
</div>
<div class="contents">
<a href="Domaine__bord_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2019, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Domaine_bord.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Geometrie</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/9</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;<a class="code" href="Domaine__bord_8h.html">Domaine_bord.h</a>&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Hexaedre_8h.html">Hexaedre.h</a>&gt;</span>
<a name="l00024"></a>00024 
<a name="l00025"></a><a class="code" href="Domaine__bord_8cpp.html#a236f27605d4800f1bf27acc0b6ebe64e">00025</a> <a class="code" href="Op__Diff__CoviMAC__Face_8cpp.html#aa86ec8ba612a969d9b4370b775037144">Implemente_instanciable</a>(<a class="code" href="classDomaine__bord.html" title="Cette classe est un domaine dont les sommets et les elements sont extraits d&#39;un bord d&#39;un domaine sou...">Domaine_bord</a>,<span class="stringliteral">&quot;Domaine_bord&quot;</span>,<a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>);
<a name="l00026"></a>00026 <span class="comment"></span>
<a name="l00027"></a>00027 <span class="comment">//! pour l&#39;instant exit()</span>
<a name="l00028"></a><a class="code" href="classDomaine__bord.html#abcb0dd26a36c2ac91283df74cdfa3329">00028</a> <span class="comment"></span><a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classDomaine__bord.html#abcb0dd26a36c2ac91283df74cdfa3329" title="pour l&#39;instant exit()">Domaine_bord::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00029"></a>00029 {
<a name="l00030"></a>00030   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00031"></a>00031   <span class="keywordflow">return</span> is;
<a name="l00032"></a>00032 }
<a name="l00033"></a>00033 <span class="comment"></span>
<a name="l00034"></a>00034 <span class="comment">//! pour l&#39;instant exit()</span>
<a name="l00035"></a><a class="code" href="classDomaine__bord.html#a5b3236093f7c82289d40eea71c16e3e2">00035</a> <span class="comment"></span><a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classDomaine__bord.html#a5b3236093f7c82289d40eea71c16e3e2" title="pour l&#39;instant exit()">Domaine_bord::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00036"></a>00036 <span class="keyword"></span>{
<a name="l00037"></a>00037   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00038"></a>00038   <span class="keywordflow">return</span> os;
<a name="l00039"></a>00039 }
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="comment">// Precondition: le domaine doit etre vide.</span><span class="comment"></span>
<a name="l00042"></a>00042 <span class="comment">//! construit le domaine en appelant extraire_domaine_bord()</span>
<a name="l00043"></a><a class="code" href="classDomaine__bord.html#a253c3105dd27b288c3ca758a9ab0c7f6">00043</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classDomaine__bord.html#a253c3105dd27b288c3ca758a9ab0c7f6" title="construit le domaine en appelant extraire_domaine_bord()">Domaine_bord::construire_domaine_bord</a>(<span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; source, <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nom_bord)
<a name="l00044"></a>00044 {
<a name="l00045"></a>00045   <a class="code" href="classDomaine__bord.html#a71573d9fdbbcf8389b2ae5bf078ad144">domaine_source_</a> = source;
<a name="l00046"></a>00046   <a class="code" href="classDomaine__bord.html#a3509ee9aaa6ed63cd868579426e2b44d">bord_source_</a> = nom_bord;
<a name="l00047"></a>00047   <a class="code" href="classDomaine__bord.html#a2627756f153653d3b3089fb04e7c640d" title="remplit le domaine &quot;dest&quot; avec les sommets et les faces du bord &quot;nom_bord&quot; du domaine &quot;src&quot;...">extraire_domaine_bord</a>(source, nom_bord, *<span class="keyword">this</span>, <a class="code" href="classDomaine__bord.html#a8892c05127756434ec9507db54b7fc8d">renum_som_</a>);
<a name="l00048"></a>00048 }
<a name="l00049"></a>00049 <span class="comment"></span>
<a name="l00050"></a>00050 <span class="comment">//! renvoie une reference au domaine source</span>
<a name="l00051"></a><a class="code" href="classDomaine__bord.html#a123ea674073ac2d5fab9fee85004da31">00051</a> <span class="comment"></span><span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; <a class="code" href="classDomaine__bord.html#a123ea674073ac2d5fab9fee85004da31" title="renvoie une reference au domaine source">Domaine_bord::get_domaine_source</a>()<span class="keyword"> const</span>
<a name="l00052"></a>00052 <span class="keyword"></span>{
<a name="l00053"></a>00053   <span class="keywordflow">return</span> <a class="code" href="classDomaine__bord.html#a71573d9fdbbcf8389b2ae5bf078ad144">domaine_source_</a>;
<a name="l00054"></a>00054 }
<a name="l00055"></a>00055 <span class="comment"></span>
<a name="l00056"></a>00056 <span class="comment">//! renvoie le nom du bord source</span>
<a name="l00057"></a><a class="code" href="classDomaine__bord.html#a52a168b12db18277b354be68e29a8c75">00057</a> <span class="comment"></span><span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; <a class="code" href="classDomaine__bord.html#a52a168b12db18277b354be68e29a8c75" title="renvoie le nom du bord source">Domaine_bord::get_nom_bord_source</a>()<span class="keyword"> const</span>
<a name="l00058"></a>00058 <span class="keyword"></span>{
<a name="l00059"></a>00059   <span class="keywordflow">return</span> <a class="code" href="classDomaine__bord.html#a3509ee9aaa6ed63cd868579426e2b44d">bord_source_</a>;
<a name="l00060"></a>00060 }
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">//</span><span class="comment"></span>
<a name="l00063"></a>00063 <span class="comment">//! renvoie renum_som (pour chaque sommet du domaine_bord, indice&lt;br&gt;du meme sommet dans le domaine)</span>
<a name="l00064"></a><a class="code" href="classDomaine__bord.html#a06847c539f7ae6f8a5847acc82634bb2">00064</a> <span class="comment"></span><span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classDomaine__bord.html#a06847c539f7ae6f8a5847acc82634bb2" title="renvoie renum_som (pour chaque sommet du domaine_bord, indice du meme sommet dans le domaine)...">Domaine_bord::get_renum_som</a>()<span class="keyword"> const</span>
<a name="l00065"></a>00065 <span class="keyword"></span>{
<a name="l00066"></a>00066   <span class="keywordflow">return</span> <a class="code" href="classDomaine__bord.html#a8892c05127756434ec9507db54b7fc8d">renum_som_</a>;
<a name="l00067"></a>00067 }
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 <span class="comment">//</span><span class="comment"></span>
<a name="l00070"></a>00070 <span class="comment">//! methode pour convertir un type de face en type d&#39;element&lt;br&gt;(a deplacer dans la classe Faces ?)</span>
<a name="l00071"></a><a class="code" href="Domaine__bord_8cpp.html#a91b2ddd49d1282c53e3d4eb9a5a7313b">00071</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="Domaine__bord_8cpp.html#a91b2ddd49d1282c53e3d4eb9a5a7313b" title="methode pour convertir un type de face en type d&#39;element (a deplacer dans la classe Faces ...">type_face_to_type_elem</a>(<span class="keyword">const</span> <a class="code" href="classElem__geom__base.html" title="Classe Elem_geom_base Cette classe est la classe de base pour la definition d&#39;elements geometriques c...">Elem_geom_base</a>&amp; <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>, <span class="keyword">const</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a>&amp; type_face, <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; type_elem_face)
<a name="l00072"></a>00072 {
<a name="l00073"></a>00073   <span class="keywordflow">switch</span>(type_face)
<a name="l00074"></a>00074     {
<a name="l00075"></a>00075     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458af5a5c15f80ef779d90f83960f4064a01">Faces::vide_0D</a>:
<a name="l00076"></a>00076       type_elem_face = <span class="stringliteral">&quot;??&quot;</span>;
<a name="l00077"></a>00077       <span class="keywordflow">break</span>;
<a name="l00078"></a>00078     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a711b36882200129cf20323d3a1e74d80">Faces::point_1D</a>:
<a name="l00079"></a>00079       type_elem_face = <span class="stringliteral">&quot;??&quot;</span>;
<a name="l00080"></a>00080       <span class="keywordflow">break</span>;
<a name="l00081"></a>00081     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458ae7a86ec0ef1d9a27992dece86ab45ba6">Faces::segment_2D</a>:
<a name="l00082"></a>00082       type_elem_face = <span class="stringliteral">&quot;segment&quot;</span>;
<a name="l00083"></a>00083       <span class="keywordflow">break</span>;
<a name="l00084"></a>00084     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458aba4d49a99fe199bf2429e4ee1f3e9fb8">Faces::segment_2D_axi</a>:
<a name="l00085"></a>00085       type_elem_face = <span class="stringliteral">&quot;segment&quot;</span>;
<a name="l00086"></a>00086       <span class="keywordflow">break</span>;
<a name="l00087"></a>00087     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a8d0ad1b612ea277393c4ce895b4ce0af">Faces::triangle_3D</a>:
<a name="l00088"></a>00088       type_elem_face = <span class="stringliteral">&quot;triangle&quot;</span>;
<a name="l00089"></a>00089       <span class="keywordflow">break</span>;
<a name="l00090"></a>00090     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a906e0f70cd8ea102963e0c88ffe84e12">Faces::quadrilatere_2D_axi</a>:
<a name="l00091"></a>00091       type_elem_face = <span class="stringliteral">&quot;quadrangle_VEF&quot;</span>;
<a name="l00092"></a>00092       <span class="keywordflow">break</span>;
<a name="l00093"></a>00093     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a9ecc5c802b34fa6bed080df0c4c72ab6">Faces::quadrangle_3D</a>:
<a name="l00094"></a>00094       type_elem_face = (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classHexaedre.html" title="Classe Hexaedre Cette represente un element geometrique a 6 faces, 8 sommets et un seul type de face ...">Hexaedre</a>,type_elem)?<span class="stringliteral">&quot;rectangle&quot;</span>:<span class="stringliteral">&quot;quadrangle_VEF&quot;</span>);
<a name="l00095"></a>00095       <span class="keywordflow">break</span>;
<a name="l00096"></a>00096     <span class="keywordflow">case</span> <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458a803df3361a4d6add0a79efe10c1e767e">Faces::quadrangle_3D_axi</a>:
<a name="l00097"></a>00097       type_elem_face = <span class="stringliteral">&quot;quadrangle_VEF&quot;</span>;
<a name="l00098"></a>00098       <span class="keywordflow">break</span>;
<a name="l00099"></a>00099     <span class="keywordflow">default</span>:
<a name="l00100"></a>00100       type_elem_face = <span class="stringliteral">&quot;??&quot;</span>;
<a name="l00101"></a>00101     }
<a name="l00102"></a>00102 }
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 <span class="comment">// Precondition: le domaine dest doit etre vide (ne pas contenir de zone).</span>
<a name="l00105"></a>00105 <span class="comment">//</span>
<a name="l00106"></a>00106 <span class="comment">//</span>
<a name="l00107"></a>00107 <span class="comment">//</span><span class="comment"></span>
<a name="l00108"></a>00108 <span class="comment">//! remplit le domaine &quot;dest&quot; avec les sommets et les faces du bord &quot;nom_bord&quot;&lt;br&gt;du domaine &quot;src&quot;. Les sommets du domaine dest sont uniquement les sommets qui sont sur&lt;br&gt;une face du bord. Le tableau renum_som est dimensionne a dest.nb_som() et rempli comme&lt;br&gt;suit: renum_som[i] est l&#39;indice dans le domaine &quot;src&quot; du sommet i du domaine &quot;dest&quot;.</span>
<a name="l00109"></a><a class="code" href="classDomaine__bord.html#a2627756f153653d3b3089fb04e7c640d">00109</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classDomaine__bord.html#a2627756f153653d3b3089fb04e7c640d" title="remplit le domaine &quot;dest&quot; avec les sommets et les faces du bord &quot;nom_bord&quot; du domaine &quot;src&quot;...">Domaine_bord::extraire_domaine_bord</a>(<span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; src,
<a name="l00110"></a>00110                                          <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nom_bord,
<a name="l00111"></a>00111                                          <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; dest,
<a name="l00112"></a>00112                                          <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; renum_som)
<a name="l00113"></a>00113 {
<a name="l00114"></a>00114   <span class="keywordflow">if</span> (<a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>() &gt; 1)
<a name="l00115"></a>00115     {
<a name="l00116"></a>00116       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;extraire_domaine_bord in parallel: the domain created will not have a distributed structure\n&quot;</span>
<a name="l00117"></a>00117            &lt;&lt; <span class="stringliteral">&quot; (this will be done one day... ask to B.Mathieu)&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00118"></a>00118     }
<a name="l00119"></a>00119 
<a name="l00120"></a>00120   <span class="keyword">const</span> <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone_src = src.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
<a name="l00121"></a>00121 <span class="comment">// Le domaine destination doit etre vide:</span>
<a name="l00122"></a>00122   assert(dest.<a class="code" href="classDomaine.html#a9f3fc389a1310d1fc8b4b27976855376" title="Renvoie le nombre de zone du domaine.">nb_zones</a>() == 0);
<a name="l00123"></a>00123 <span class="comment">// Initialisation du domaine et d&#39;une zone:</span>
<a name="l00124"></a>00124 <span class="comment">// On choisit un nom pour le domaine</span>
<a name="l00125"></a>00125   dest.<a class="code" href="classDomaine.html#ae5d7a1cb2b05368fbb9a7ebec7793911" title="Donne un nom au domaine.">nommer</a>(src.<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() + <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(<span class="stringliteral">&quot;_&quot;</span>) + nom_bord);
<a name="l00126"></a>00126 <span class="comment">// On cree une zone</span>
<a name="l00127"></a>00127   <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a> z;
<a name="l00128"></a>00128   dest.<a class="code" href="classDomaine.html#a6204a2b89860bfd74ca2858d1d8750bf" title="Ajoute une Sous_Zone au domaine.">add</a>(z);
<a name="l00129"></a>00129   <a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>&amp; zone_dest = dest.<a class="code" href="classDomaine.html#a0e62f2bc829542fafa29e3f2c614159c" title="Renvoie la i-ieme zone du domaine. (version const)">zone</a>(0);
<a name="l00130"></a>00130   zone_dest.<a class="code" href="classZone.html#a68a215145852861f2d513c959f52a1a5" title="Specifie le domaine dont la zone fait partie.">associer_domaine</a>(dest);
<a name="l00131"></a>00131 <span class="comment">// Type des elements de la zone:</span>
<a name="l00132"></a>00132   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>;
<a name="l00133"></a>00133   <a class="code" href="Domaine__bord_8cpp.html#a91b2ddd49d1282c53e3d4eb9a5a7313b" title="methode pour convertir un type de face en type d&#39;element (a deplacer dans la classe Faces ...">type_face_to_type_elem</a>(zone_src.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classDeriv__Elem__geom__base.html#a384b487459a33f9f521fb16539ec81de">valeur</a>(), zone_src.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classDeriv__Elem__geom__base.html#a384b487459a33f9f521fb16539ec81de">valeur</a>().<a class="code" href="classElem__geom__base.html#af781819b042bc5d8fec8b2255e32b498">type_face</a>(), <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>);
<a name="l00134"></a>00134   zone_dest.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(type_elem);
<a name="l00135"></a>00135   zone_dest.<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="classDeriv__Elem__geom__base.html#a384b487459a33f9f521fb16539ec81de">valeur</a>().<a class="code" href="classElem__geom__base.html#a48f1f36788b3d033b83a458affad564e" title="Associe l&#39;element geometrique a sa zone.">associer_zone</a>(zone_dest);
<a name="l00136"></a>00136 
<a name="l00137"></a>00137   <span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front = zone_src.<a class="code" href="classZone.html#ac338b119d4b0bc4f510a223b9086fe5e">frontiere</a>(nom_bord);
<a name="l00138"></a>00138   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_faces = front.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>();
<a name="l00139"></a>00139   <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som_face = front.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a1361d27e4c8b239c48de671fad23428c" title="Renvoie le nombre de sommet par face.">nb_som_faces</a>();
<a name="l00140"></a>00140   <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; faces_src = front.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>();
<a name="l00141"></a>00141   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elem_dest = zone_dest.<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>();
<a name="l00142"></a>00142   elem_dest.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_faces, nb_som_face);
<a name="l00143"></a>00143   renum_som.<a class="code" href="classArrOfInt.html#afc932bc1df352ead26b844dcb090dacc" title="Remet le tableau dans l&#39;etat obtenu avec le constructeur par defaut (libere la memoire mais conserve ...">reset</a>();
<a name="l00144"></a>00144   renum_som.<a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(1);
<a name="l00145"></a>00145 <span class="comment">// renum_inverse: pour chaque sommet du domaine source, son indice dans le domaine destination:</span>
<a name="l00146"></a>00146   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> renum_inverse(src.<a class="code" href="classDomaine.html#abc4abc8b8db5bebeb161fae4162a89ce" title="Renvoie le nombre de sommets.">nb_som</a>());
<a name="l00147"></a>00147   renum_inverse= -1;
<a name="l00148"></a>00148   <span class="keywordtype">int</span> nb_som_dest = 0;
<a name="l00149"></a>00149   <span class="keywordtype">int</span> i, j;
<a name="l00150"></a>00150   <span class="keywordflow">for</span> (i = 0; i &lt; nb_faces; i++)
<a name="l00151"></a>00151     {
<a name="l00152"></a>00152       <span class="keywordflow">for</span> (j = 0; j &lt; nb_som_face; j++)
<a name="l00153"></a>00153         {
<a name="l00154"></a>00154           <span class="keyword">const</span> <span class="keywordtype">int</span> som = faces_src(i, j);
<a name="l00155"></a>00155 <span class="comment">// Si le sommet n&#39;a pas encore ete rencontre, lui donner un indice dans le domaine dest:</span>
<a name="l00156"></a>00156           <span class="keywordflow">if</span> (renum_inverse[som] &lt; 0)
<a name="l00157"></a>00157             {
<a name="l00158"></a>00158               renum_som.<a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(som);
<a name="l00159"></a>00159               renum_inverse[som] = nb_som_dest++;
<a name="l00160"></a>00160             }
<a name="l00161"></a>00161           elem_dest(i, j) = renum_inverse[som];
<a name="l00162"></a>00162         }
<a name="l00163"></a>00163     }
<a name="l00164"></a>00164 <span class="comment">// Copie des sommets utilises dans le domaine destination</span>
<a name="l00165"></a>00165   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; som_dest = dest.<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>();
<a name="l00166"></a>00166   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; som_src = src.<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>();
<a name="l00167"></a>00167   <span class="keyword">const</span> <span class="keywordtype">int</span> dim = som_src.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00168"></a>00168   som_dest.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(nb_som_dest, dim);
<a name="l00169"></a>00169   <span class="keywordflow">for</span> (i = 0; i &lt; nb_som_dest; i++)
<a name="l00170"></a>00170     {
<a name="l00171"></a>00171       <span class="keyword">const</span> <span class="keywordtype">int</span> som = renum_som[i];
<a name="l00172"></a>00172       <span class="keywordflow">for</span> (j = 0; j &lt; dim; j++)
<a name="l00173"></a>00173         som_dest(i, j) = som_src(som, j);
<a name="l00174"></a>00174     }
<a name="l00175"></a>00175 
<a name="l00176"></a>00176 <span class="comment">// A faire si besoin: initialiser le joint des sommets pour avoir les items communs,</span>
<a name="l00177"></a>00177 <span class="comment">// et autres si necessaire.</span>
<a name="l00178"></a>00178 }
<a name="l00179"></a>00179 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:18 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
