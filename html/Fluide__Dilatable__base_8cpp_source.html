<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/ThHyd/Dilatable/Common/Milieu/Fluide_Dilatable_base.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/ThHyd/Dilatable/Common/Milieu/Fluide_Dilatable_base.cpp</div>  </div>
</div>
<div class="contents">
<a href="Fluide__Dilatable__base_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Fluide_Dilatable_base.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/ThHyd/Dilatable/Common/Milieu</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/49</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Fluide__Weakly__Compressible_8h.html">Fluide_Weakly_Compressible.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Fluide__Dilatable__base_8h.html">Fluide_Dilatable_base.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Loi__Etat__Multi__GP__QC_8h.html">Loi_Etat_Multi_GP_QC.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Discretisation__base_8h.html">Discretisation_base.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Fonc__Fonction_8h.html">Champ_Fonc_Fonction.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="Navier__Stokes__std_8h.html">Navier_Stokes_std.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="Champ__Uniforme_8h.html">Champ_Uniforme.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Probleme__base_8h.html">Probleme_base.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Zone__VF_8h.html">Zone_VF.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;<a class="code" href="Param_8h.html">Param.h</a>&gt;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a><a class="code" href="Fluide__Dilatable__base_8cpp.html#a4214cdd8b7ad6c76c9c7d097ab9e2533">00034</a> <a class="code" href="Declare__Base_8h.html#a279604f97959498f17b67e986dfd4486">Implemente_base_sans_constructeur</a>(<a class="code" href="classFluide__Dilatable__base.html" title="classe Fluide_Dilatable_base Cette classe represente un d&#39;un fluide dilatable, heritant de fluide bas...">Fluide_Dilatable_base</a>,<span class="stringliteral">&quot;Fluide_Dilatable_base&quot;</span>,<a class="code" href="classFluide__base.html" title="classe Fluide_base Cette classe represente un d&#39;un fluide incompressible ainsi que ses proprietes: - ...">Fluide_base</a>);
<a name="l00035"></a>00035 <span class="comment">// XD fluide_dilatable_base fluide_base fluide_dilatable_base -1 Basic class for dilatable fluids.</span>
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="classFluide__Dilatable__base.html#ac2fae67be51e6b30204d48390ac869a1">00037</a> <a class="code" href="classFluide__Dilatable__base.html#ac2fae67be51e6b30204d48390ac869a1">Fluide_Dilatable_base::Fluide_Dilatable_base</a>():traitement_PTh(0),Pth_(-1.),Pth_n(-1.),Pth1(-1.) {}
<a name="l00038"></a>00038 
<a name="l00039"></a><a class="code" href="classFluide__Dilatable__base.html#ad7d10383582c32b1e1c8a23ee058acb8">00039</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classFluide__Dilatable__base.html#ad7d10383582c32b1e1c8a23ee058acb8" title="Ecrit les proprietes du fluide sur un flot de sortie.">Fluide_Dilatable_base::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l00040"></a>00040 <span class="keyword"></span>{
<a name="l00041"></a>00041   <a class="code" href="classMilieu__base.html#a4f822b3be5b1c7c5eed44dd72f805299" title="Ecrit un objet milieu sur un flot de sortie. Ecrit les caracteristiques du milieu: - masse volumique ...">Fluide_base::ecrire</a>(os);
<a name="l00042"></a>00042   <span class="keywordflow">return</span> os;
<a name="l00043"></a>00043 }
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="classFluide__Dilatable__base.html#aaef2cb5e416654feb02ddbe4dbeff877">00045</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classFluide__Dilatable__base.html#aaef2cb5e416654feb02ddbe4dbeff877" title="Lit les caracteristiques du fluide a partir d&#39;un flot d&#39;entree. Format: Fluide_base { Mu type_champ b...">Fluide_Dilatable_base::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00046"></a>00046 {
<a name="l00047"></a>00047   <a class="code" href="classFluide__Dilatable__base.html#aaef2cb5e416654feb02ddbe4dbeff877" title="Lit les caracteristiques du fluide a partir d&#39;un flot d&#39;entree. Format: Fluide_base { Mu type_champ b...">Fluide_base::readOn</a>(is);
<a name="l00048"></a>00048   <span class="keywordflow">return</span> is;
<a name="l00049"></a>00049 }
<a name="l00050"></a>00050 
<a name="l00051"></a><a class="code" href="classFluide__Dilatable__base.html#ac68b08deb406fee33a555b75303ada0f">00051</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#ac68b08deb406fee33a555b75303ada0f">Fluide_Dilatable_base::discretiser</a>(<span class="keyword">const</span> <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; pb, <span class="keyword">const</span>  <a class="code" href="classDiscretisation__base.html" title="classe Discretisation_base Cette classe represente un schema de discretisation en espace...">Discretisation_base</a>&amp; dis)
<a name="l00052"></a>00052 {
<a name="l00053"></a>00053   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Fluide_Dilatable_base::discretiser&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00054"></a>00054 
<a name="l00055"></a>00055   <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; zone_dis=pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(0).<a class="code" href="classEquation__base.html#a12d97ae801edc18f614523677921346e" title="Renvoie la zone discretisee associee a l&#39;equation.">zone_dis</a>();
<a name="l00056"></a>00056   <span class="keywordtype">double</span> temps=pb.<a class="code" href="classProbleme__base.html#a0cf6c541e30cd21c3da32fc122cb0e2b" title="Renvoie le schema en temps associe au probleme. (si il est non nul) (version const)">schema_temps</a>().<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>();
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="comment">// les champs seront nommes par le milieu_base</span>
<a name="l00059"></a>00059   <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a> ch_rho;
<a name="l00060"></a>00060   dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;temperature&quot;</span>,zone_dis,<span class="stringliteral">&quot;masse_volumique_p&quot;</span>,<span class="stringliteral">&quot;neant&quot;</span>,1,temps,ch_rho);
<a name="l00061"></a>00061   <a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a> = ch_rho.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>();
<a name="l00062"></a>00062 
<a name="l00063"></a>00063   <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>&amp; cp = <a class="code" href="classMilieu__base.html#a174d49eab1db7dfce83578b227f4e702" title="Renvoie la capacite calorifique du milieu. (version const)">capacite_calorifique</a>();
<a name="l00064"></a>00064   <span class="keywordflow">if</span> (!cp.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() || !<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,cp.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>())) <span class="comment">//ie Cp non constant : gaz reels</span>
<a name="l00065"></a>00065     {
<a name="l00066"></a>00066       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Heat capacity Cp is discretized once more for space variable case.&quot;</span>&lt;&lt;finl;
<a name="l00067"></a>00067       dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;temperature&quot;</span>,zone_dis,<span class="stringliteral">&quot;cp_prov&quot;</span>,<span class="stringliteral">&quot;neant&quot;</span>,1,temps,cp);
<a name="l00068"></a>00068     }
<a name="l00069"></a>00069 
<a name="l00070"></a>00070   <span class="keywordflow">if</span> (!<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() || ((!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>())) &amp;&amp; (!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Fonc__Tabule.html" title="Classe Champ_Fonc_Tabule Classe derivee de Champ_Fonc_base qui represente les champs fonctions d&#39;un a...">Champ_Fonc_Tabule</a>,<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))))
<a name="l00071"></a>00071     {
<a name="l00072"></a>00072 <span class="comment">// cas particulier etait faux en VEF voir quand cela sert (FM slt) : sera nomme par milieu_base</span>
<a name="l00073"></a>00073       dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;champ_elem&quot;</span>,zone_dis,<span class="stringliteral">&quot;neant&quot;</span>,<span class="stringliteral">&quot;neant&quot;</span>,1,temps,<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>);
<a name="l00074"></a>00074     }
<a name="l00075"></a>00075 
<a name="l00076"></a>00076   dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;vitesse&quot;</span>, zone_dis,<span class="stringliteral">&quot;rho_comme_v&quot;</span>,<span class="stringliteral">&quot;kg/m3&quot;</span>,1,temps,<a class="code" href="classFluide__Dilatable__base.html#ab00cc1fa04fe12cf620e618cb4b6acb1">rho_comme_v</a>);
<a name="l00077"></a>00077   <a class="code" href="classMilieu__base.html#ac23515c92999b5ee05f11d0a4603ec52">champs_compris_</a>.<a class="code" href="classChamps__compris.html#aae00ca562b7d89ff638fae94d6973fcf">ajoute_champ</a>(<a class="code" href="classFluide__Dilatable__base.html#ab00cc1fa04fe12cf620e618cb4b6acb1">rho_comme_v</a>);
<a name="l00078"></a>00078 
<a name="l00079"></a>00079   dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;champ_elem&quot;</span>,zone_dis,<span class="stringliteral">&quot;mu_sur_Schmidt&quot;</span>,<span class="stringliteral">&quot;kg/(m.s)&quot;</span>,1,temps,<a class="code" href="classFluide__Dilatable__base.html#ab912d263ce3c0d4a28c58c3a0860a3e0">mu_sur_Sc</a>);
<a name="l00080"></a>00080   <a class="code" href="classMilieu__base.html#ac23515c92999b5ee05f11d0a4603ec52">champs_compris_</a>.<a class="code" href="classChamps__compris.html#aae00ca562b7d89ff638fae94d6973fcf">ajoute_champ</a>(<a class="code" href="classFluide__Dilatable__base.html#ab912d263ce3c0d4a28c58c3a0860a3e0">mu_sur_Sc</a>);
<a name="l00081"></a>00081 
<a name="l00082"></a>00082   dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;champ_elem&quot;</span>,zone_dis,<span class="stringliteral">&quot;nu_sur_Schmidt&quot;</span>,<span class="stringliteral">&quot;m2/s&quot;</span>,1,temps,<a class="code" href="classFluide__Dilatable__base.html#a0ccede88d635c1cdd20e9cc42b917ff2">nu_sur_Sc</a>);
<a name="l00083"></a>00083   <a class="code" href="classMilieu__base.html#ac23515c92999b5ee05f11d0a4603ec52">champs_compris_</a>.<a class="code" href="classChamps__compris.html#aae00ca562b7d89ff638fae94d6973fcf">ajoute_champ</a>(<a class="code" href="classFluide__Dilatable__base.html#a0ccede88d635c1cdd20e9cc42b917ff2">nu_sur_Sc</a>);
<a name="l00084"></a>00084 
<a name="l00085"></a>00085   <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>&amp; ptot = <a class="code" href="classFluide__Dilatable__base.html#aad27bda34b33769d22713dcb8f837596">pression_tot</a>();
<a name="l00086"></a>00086   dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;champ_elem&quot;</span>,zone_dis,<span class="stringliteral">&quot;pression_tot&quot;</span>,<span class="stringliteral">&quot;Pa&quot;</span>,1,temps,ptot);
<a name="l00087"></a>00087   <a class="code" href="classMilieu__base.html#ac23515c92999b5ee05f11d0a4603ec52">champs_compris_</a>.<a class="code" href="classChamps__compris.html#aae00ca562b7d89ff638fae94d6973fcf">ajoute_champ</a>(ptot);
<a name="l00088"></a>00088 
<a name="l00089"></a>00089   dis.<a class="code" href="classDiscretisation__base.html#a03257807e08369739ccc39eba02f74b5">discretiser_champ</a>(<span class="stringliteral">&quot;temperature&quot;</span>,zone_dis,<span class="stringliteral">&quot;rho_gaz&quot;</span>,<span class="stringliteral">&quot;kg/m3&quot;</span>,1,temps,<a class="code" href="classFluide__Dilatable__base.html#a3f6eb312619e9fc597a27fd63e522644">rho_gaz</a>);
<a name="l00090"></a>00090   <a class="code" href="classMilieu__base.html#ac23515c92999b5ee05f11d0a4603ec52">champs_compris_</a>.<a class="code" href="classChamps__compris.html#aae00ca562b7d89ff638fae94d6973fcf">ajoute_champ</a>(<a class="code" href="classFluide__Dilatable__base.html#a3f6eb312619e9fc597a27fd63e522644">rho_gaz</a>);
<a name="l00091"></a>00091 
<a name="l00092"></a>00092   <a class="code" href="classFluide__Dilatable__base.html#ac68b08deb406fee33a555b75303ada0f">Fluide_base::discretiser</a>(pb,dis);
<a name="l00093"></a>00093 }
<a name="l00094"></a>00094 
<a name="l00095"></a><a class="code" href="classFluide__Dilatable__base.html#af1200c1964fcc3e1daeb9040a5ed757e">00095</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#af1200c1964fcc3e1daeb9040a5ed757e">Fluide_Dilatable_base::set_param</a>(<a class="code" href="classParam.html" title="Defined below in this file.">Param</a>&amp; param)
<a name="l00096"></a>00096 {
<a name="l00097"></a>00097   <a class="code" href="classFluide__Dilatable__base.html#af1200c1964fcc3e1daeb9040a5ed757e">Fluide_base::set_param</a>(param);
<a name="l00098"></a>00098   param.<a class="code" href="classParam.html#a8d8bcddfd8087e577ffbb170c68e4f88">ajouter_non_std</a>(<span class="stringliteral">&quot;loi_etat&quot;</span>,(<span class="keyword">this</span>),<a class="code" href="classParam.html#aa4ad0ca1d49bc5f2ebc5fc83ee9df384aaf5b6dfac1c5970478525407cc6ac572">Param::REQUIRED</a>);
<a name="l00099"></a>00099   param.<a class="code" href="classParam.html#a8d8bcddfd8087e577ffbb170c68e4f88">ajouter_non_std</a>(<span class="stringliteral">&quot;Traitement_PTh&quot;</span>,(<span class="keyword">this</span>));
<a name="l00100"></a>00100 <span class="comment">// Lecture de mu et lambda pas specifiee obligatoire car option sutherland possible</span>
<a name="l00101"></a>00101 <span class="comment">// On supprime.. et on ajoute non-standard</span>
<a name="l00102"></a>00102   param.<a class="code" href="classParam.html#a79be5a57849e1c837ea23714d7a95719">supprimer</a>(<span class="stringliteral">&quot;mu&quot;</span>);
<a name="l00103"></a>00103   param.<a class="code" href="classParam.html#a8d8bcddfd8087e577ffbb170c68e4f88">ajouter_non_std</a>(<span class="stringliteral">&quot;mu&quot;</span>,(<span class="keyword">this</span>));
<a name="l00104"></a>00104   param.<a class="code" href="classParam.html#a8d8bcddfd8087e577ffbb170c68e4f88">ajouter_non_std</a>(<span class="stringliteral">&quot;sutherland&quot;</span>,(<span class="keyword">this</span>));
<a name="l00105"></a>00105   param.<a class="code" href="classParam.html#a79be5a57849e1c837ea23714d7a95719">supprimer</a>(<span class="stringliteral">&quot;beta_th&quot;</span>);
<a name="l00106"></a>00106   param.<a class="code" href="classParam.html#a8d8bcddfd8087e577ffbb170c68e4f88">ajouter_non_std</a>(<span class="stringliteral">&quot;beta_th&quot;</span>,(<span class="keyword">this</span>));
<a name="l00107"></a>00107   param.<a class="code" href="classParam.html#a79be5a57849e1c837ea23714d7a95719">supprimer</a>(<span class="stringliteral">&quot;beta_co&quot;</span>);
<a name="l00108"></a>00108   param.<a class="code" href="classParam.html#a8d8bcddfd8087e577ffbb170c68e4f88">ajouter_non_std</a>(<span class="stringliteral">&quot;beta_co&quot;</span>,(<span class="keyword">this</span>));
<a name="l00109"></a>00109 }
<a name="l00110"></a>00110 
<a name="l00111"></a><a class="code" href="classFluide__Dilatable__base.html#a18e792945ec2ea48e50cd2c55e2b5886">00111</a> <span class="keywordtype">int</span> <a class="code" href="classFluide__Dilatable__base.html#a18e792945ec2ea48e50cd2c55e2b5886" title="Lecture des parametres de type non simple d&#39;un objet_U a partir d&#39;un flot d&#39;entree.">Fluide_Dilatable_base::lire_motcle_non_standard</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; mot, <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00112"></a>00112 {
<a name="l00113"></a>00113   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> motlu;
<a name="l00114"></a>00114   <span class="keywordflow">if</span> (mot==<span class="stringliteral">&quot;loi_etat&quot;</span>)
<a name="l00115"></a>00115     {
<a name="l00116"></a>00116       is&gt;&gt;<a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>;
<a name="l00117"></a>00117       loi_etat_-&gt;associer_fluide(*<span class="keyword">this</span>);
<a name="l00118"></a>00118       <span class="keywordflow">return</span> 1;
<a name="l00119"></a>00119     }
<a name="l00120"></a>00120   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mot==<span class="stringliteral">&quot;mu&quot;</span>)
<a name="l00121"></a>00121     {
<a name="l00122"></a>00122       is&gt;&gt;<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>;
<a name="l00123"></a>00123       mu-&gt;<a class="code" href="classObjet__U.html#a469dbcad1d4a98a67e4246dce8e264ad" title="Donne un nom a l&#39;Objet_U Methode virtuelle a surcharger.">nommer</a>(<span class="stringliteral">&quot;mu&quot;</span>);
<a name="l00124"></a>00124       <span class="keywordflow">return</span> 1;
<a name="l00125"></a>00125     }
<a name="l00126"></a>00126   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mot==<span class="stringliteral">&quot;sutherland&quot;</span>)
<a name="l00127"></a>00127     {
<a name="l00128"></a>00128       <span class="keywordtype">double</span> mu0,T0,C=-1,Slambda=-1;
<a name="l00129"></a>00129       <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> prob;
<a name="l00130"></a>00130       is&gt;&gt;prob;
<a name="l00131"></a>00131       is&gt;&gt;motlu;
<a name="l00132"></a>00132       <span class="keywordflow">if</span> (motlu!=<span class="stringliteral">&quot;MU0&quot;</span>) <a class="code" href="classFluide__Dilatable__base.html#a2a3246f7bfcfab9d39430e0b3eef2c9f">warn_syntax_Sutherland</a>();
<a name="l00133"></a>00133       is&gt;&gt;mu0;
<a name="l00134"></a>00134       is&gt;&gt;motlu;
<a name="l00135"></a>00135       <span class="keywordflow">if</span> (motlu!=<span class="stringliteral">&quot;T0&quot;</span>) <a class="code" href="classFluide__Dilatable__base.html#a2a3246f7bfcfab9d39430e0b3eef2c9f">warn_syntax_Sutherland</a>();
<a name="l00136"></a>00136       is&gt;&gt;T0;
<a name="l00137"></a>00137       is&gt;&gt;motlu;
<a name="l00138"></a>00138       <span class="keywordflow">if</span> (motlu==<span class="stringliteral">&quot;SLAMBDA&quot;</span>)
<a name="l00139"></a>00139         {
<a name="l00140"></a>00140           is &gt;&gt; Slambda;
<a name="l00141"></a>00141           is &gt;&gt; motlu;
<a name="l00142"></a>00142         }
<a name="l00143"></a>00143       <span class="keywordflow">if</span> (motlu!=<span class="stringliteral">&quot;C&quot;</span>) <a class="code" href="classFluide__Dilatable__base.html#a2a3246f7bfcfab9d39430e0b3eef2c9f">warn_syntax_Sutherland</a>();
<a name="l00144"></a>00144       is&gt;&gt;C;
<a name="l00145"></a>00145 
<a name="l00146"></a>00146       <a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Sutherland&quot;</span>);
<a name="l00147"></a>00147       <a class="code" href="classSutherland.html">Sutherland</a>&amp; mu_suth = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classSutherland.html">Sutherland</a>,<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>());
<a name="l00148"></a>00148       mu_suth.<a class="code" href="classSutherland.html#ad348e8315a3518c1aee72ac662dd321b">set_val_params</a>(prob,mu0,C,T0);
<a name="l00149"></a>00149       mu_suth.<a class="code" href="classSutherland.html#a34ecf7fbc0c8eccd82d14b2325d20757">lire_expression</a>();
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 <span class="comment">// On stocke la valeur de C (ici Slambda) pour construire(cf creer_champs_non_lus())</span>
<a name="l00152"></a>00152 <span class="comment">// la loi de Sutherland qui concerne la conductivite</span>
<a name="l00153"></a>00153       <span class="keywordflow">if</span> (Slambda!=-1)
<a name="l00154"></a>00154         {
<a name="l00155"></a>00155           <a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Sutherland&quot;</span>);
<a name="l00156"></a>00156           <a class="code" href="classSutherland.html">Sutherland</a>&amp; lambda_suth = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classSutherland.html">Sutherland</a>,<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>());
<a name="l00157"></a>00157           lambda_suth.<a class="code" href="classSutherland.html#a2fb5f9aa1ebeaa1de77f0e28d6cba2ef">set_prob</a>(prob);
<a name="l00158"></a>00158           lambda_suth.<a class="code" href="classSutherland.html#a2ad2c0a442ce1af462b5413afd3a0db7">set_Tref</a>(T0);
<a name="l00159"></a>00159           lambda_suth.<a class="code" href="classSutherland.html#a345d5b0afe5f8de9917c3200813c37ee">set_C</a>(Slambda);
<a name="l00160"></a>00160         }
<a name="l00161"></a>00161       <span class="keywordflow">return</span> 1;
<a name="l00162"></a>00162     }
<a name="l00163"></a>00163   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((mot==<span class="stringliteral">&quot;beta_th&quot;</span>) || (mot==<span class="stringliteral">&quot;beta_co&quot;</span>))
<a name="l00164"></a>00164     {
<a name="l00165"></a>00165       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;The keyword &quot;</span>&lt;&lt;mot&lt;&lt;<span class="stringliteral">&quot; has not to be read for a &quot;</span>&lt;&lt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>()&lt;&lt;<span class="stringliteral">&quot; type medium.&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00166"></a>00166       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Please remove it from your data set.&quot;</span>&lt;&lt;finl;
<a name="l00167"></a>00167       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00168"></a>00168       <span class="keywordflow">return</span> -1;
<a name="l00169"></a>00169     }
<a name="l00170"></a>00170   <span class="keywordflow">else</span> <span class="keywordflow">return</span> <a class="code" href="classFluide__Dilatable__base.html#a18e792945ec2ea48e50cd2c55e2b5886" title="Lecture des parametres de type non simple d&#39;un objet_U a partir d&#39;un flot d&#39;entree.">Fluide_base::lire_motcle_non_standard</a>(mot,is);
<a name="l00171"></a>00171 }
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="classFluide__Dilatable__base.html#a2a3246f7bfcfab9d39430e0b3eef2c9f">00173</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#a2a3246f7bfcfab9d39430e0b3eef2c9f">Fluide_Dilatable_base::warn_syntax_Sutherland</a>()
<a name="l00174"></a>00174 {
<a name="l00175"></a>00175   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00176"></a>00176   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in call to Sutherland function :&quot;</span> &lt;&lt; finl;
<a name="l00177"></a>00177   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;The syntax has changed in version 1.8.4.&quot;</span> &lt;&lt; finl;
<a name="l00178"></a>00178   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; finl &lt;&lt; <span class="stringliteral">&quot;  A specification of kind : sutherland problem_name mu0 1.85e-5 T0 300 [Slambda 10] C 10 was expected. &quot;</span>&lt;&lt;finl;
<a name="l00179"></a>00179   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; finl &lt;&lt; <span class="stringliteral">&quot;Please update your dataset or contact TRUST support team.&quot;</span> &lt;&lt; finl;
<a name="l00180"></a>00180   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00181"></a>00181 }
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 <span class="comment">// Precondition:</span>
<a name="l00184"></a>00184 <span class="comment">// Parametre:</span>
<a name="l00185"></a>00185 <span class="comment">// Signification:</span>
<a name="l00186"></a>00186 <span class="comment">// Valeurs par defaut:</span>
<a name="l00187"></a>00187 <span class="comment">// Contraintes:</span>
<a name="l00188"></a>00188 <span class="comment">// Acces:</span>
<a name="l00189"></a>00189 <span class="comment">// </span>
<a name="l00190"></a>00190 <span class="comment">// Signification:</span>
<a name="l00191"></a>00191 <span class="comment">// Contraintes:</span>
<a name="l00192"></a>00192 <span class="comment">// Exception: l&#39;une des proprietes (rho mu Cp ou lambda) du fluide n&#39;a pas ete definie</span>
<a name="l00193"></a>00193 <span class="comment">// Effets de bord:</span>
<a name="l00194"></a>00194 <span class="comment">// Postcondition:</span>
<a name="l00195"></a>00195 <span class="comment">//</span><span class="comment"></span>
<a name="l00196"></a>00196 <span class="comment">//! Verifie que les champs lus l&#39;ont ete correctement.</span>
<a name="l00197"></a><a class="code" href="classFluide__Dilatable__base.html#a41d0f3f101bfc16038080e852c71a4ac">00197</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#a41d0f3f101bfc16038080e852c71a4ac" title="Verifie que les champs lus l&#39;ont ete correctement.">Fluide_Dilatable_base::verifier_coherence_champs</a>(<span class="keywordtype">int</span>&amp; err,<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; msg)
<a name="l00198"></a>00198 {
<a name="l00199"></a>00199   msg=<span class="stringliteral">&quot;&quot;</span>;
<a name="l00200"></a>00200   <span class="keywordflow">if</span> (<a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) { }
<a name="l00201"></a>00201   <span class="keywordflow">else</span>
<a name="l00202"></a>00202     {
<a name="l00203"></a>00203       msg += <span class="stringliteral">&quot;The density rho has not been specified. \n&quot;</span>;
<a name="l00204"></a>00204       err = 1;
<a name="l00205"></a>00205     }
<a name="l00206"></a>00206   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00207"></a>00207     {
<a name="l00208"></a>00208       <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00209"></a>00209         {
<a name="l00210"></a>00210           <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>(0,0) &lt;= 0)
<a name="l00211"></a>00211             {
<a name="l00212"></a>00212               msg += <span class="stringliteral">&quot;The dynamical viscosity mu is not striclty positive. \n&quot;</span>;
<a name="l00213"></a>00213               err = 1;
<a name="l00214"></a>00214             }
<a name="l00215"></a>00215         }
<a name="l00216"></a>00216     }
<a name="l00217"></a>00217   <span class="keywordflow">else</span>
<a name="l00218"></a>00218     {
<a name="l00219"></a>00219       msg += <span class="stringliteral">&quot;The dynamical viscosity mu has not been specified. \n&quot;</span>;
<a name="l00220"></a>00220       err = 1;
<a name="l00221"></a>00221     }
<a name="l00222"></a>00222   <span class="keywordflow">if</span> (<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) { }
<a name="l00223"></a>00223   <span class="keywordflow">else</span>
<a name="l00224"></a>00224     {
<a name="l00225"></a>00225       msg += <span class="stringliteral">&quot;The conductivity lambda has not been specified. \n&quot;</span>;
<a name="l00226"></a>00226       err = 1;
<a name="l00227"></a>00227     }
<a name="l00228"></a>00228   <span class="keywordflow">if</span> (<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>()) { }
<a name="l00229"></a>00229   <span class="keywordflow">else</span>
<a name="l00230"></a>00230     {
<a name="l00231"></a>00231       msg += <span class="stringliteral">&quot;The heat capacity Cp has not been specified. \n&quot;</span>;
<a name="l00232"></a>00232       err = 1;
<a name="l00233"></a>00233     }
<a name="l00234"></a>00234 
<a name="l00235"></a>00235   <a class="code" href="classFluide__Dilatable__base.html#a41d0f3f101bfc16038080e852c71a4ac" title="Verifie que les champs lus l&#39;ont ete correctement.">Milieu_base::verifier_coherence_champs</a>(err,msg);
<a name="l00236"></a>00236 }
<a name="l00237"></a>00237 
<a name="l00238"></a>00238 <span class="comment">// Precondition:</span>
<a name="l00239"></a>00239 <span class="comment">// Parametre: double Cp</span>
<a name="l00240"></a>00240 <span class="comment">// Signification: le cp du fluide</span>
<a name="l00241"></a>00241 <span class="comment">// Valeurs par defaut:</span>
<a name="l00242"></a>00242 <span class="comment">// Contraintes:</span>
<a name="l00243"></a>00243 <span class="comment">// Acces: lecture</span>
<a name="l00244"></a>00244 <span class="comment">// </span>
<a name="l00245"></a>00245 <span class="comment">// Signification:</span>
<a name="l00246"></a>00246 <span class="comment">// Contraintes:</span>
<a name="l00247"></a>00247 <span class="comment">// Exception:</span>
<a name="l00248"></a>00248 <span class="comment">// Effets de bord:</span>
<a name="l00249"></a>00249 <span class="comment">// Postcondition:</span>
<a name="l00250"></a>00250 <span class="comment">//</span><span class="comment"></span>
<a name="l00251"></a>00251 <span class="comment">//! Complete le fluide avec un Cp constant</span>
<a name="l00252"></a><a class="code" href="classFluide__Dilatable__base.html#ad94825ad850b0bedbf9f1eeda80d8e07">00252</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#ad94825ad850b0bedbf9f1eeda80d8e07" title="Complete le fluide avec un Cp constant.">Fluide_Dilatable_base::set_Cp</a>(<span class="keywordtype">double</span> Cp_)
<a name="l00253"></a>00253 {
<a name="l00254"></a>00254   <a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Champ_Uniforme&quot;</span>);
<a name="l00255"></a>00255   <a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>&amp; ch_Cp = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>());
<a name="l00256"></a>00256   ch_Cp.<a class="code" href="classChamp__Don__base.html#a17e3161b4b8cbf51a5029bba45ac758b" title="Fixe le nombre de composantes et le nombre de valeurs nodales.">dimensionner</a>(1,1);
<a name="l00257"></a>00257   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_Cp = <a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00258"></a>00258   tab_Cp(0,0) = Cp_;
<a name="l00259"></a>00259 }
<a name="l00260"></a>00260 
<a name="l00261"></a><a class="code" href="classFluide__Dilatable__base.html#a169d6724b98e444ba9a672a78e83490f">00261</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#a169d6724b98e444ba9a672a78e83490f">Fluide_Dilatable_base::update_rho_cp</a>(<span class="keywordtype">double</span> temps)
<a name="l00262"></a>00262 {
<a name="l00263"></a>00263   <a class="code" href="classMilieu__base.html#ac509f43f2caf3dce8449b4efaafb9d2e">rho_cp_comme_T_</a>.<a class="code" href="classChamp__Fonc.html#a8f5d4559f1ea29cfb8ba1eafae745c7f" title="Appel a l&#39;objet sous-jacent Change le temps courant du champ, et le renvoie.">changer_temps</a>(temps);
<a name="l00264"></a>00264   <a class="code" href="classMilieu__base.html#ac509f43f2caf3dce8449b4efaafb9d2e">rho_cp_comme_T_</a>.<a class="code" href="classDeriv__Champ__Fonc__base.html#a6c7253d2225e858b40c9251d97d57f72">valeur</a>().<a class="code" href="classChamp__base.html#ab4fdc6fb46c5e4efe2f931ceadd66979" title="Fixe le temps auquel se situe le champ.">changer_temps</a>(temps);
<a name="l00265"></a>00265   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; rho_cp = <a class="code" href="classMilieu__base.html#ac509f43f2caf3dce8449b4efaafb9d2e">rho_cp_comme_T_</a>.<a class="code" href="classChamp__Fonc.html#a60b75eadb0987d488884e24fcb72d1e5" title="Appel a l&#39;objet sous-jacent Renvoie le tableau des valeurs du champ.">valeurs</a>();
<a name="l00266"></a>00266   <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>))
<a name="l00267"></a>00267     rho_cp = <a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classChamp.html#a1bd56ec365487b3ad9a2feed268a30fe">valeurs</a>()(0, 0);
<a name="l00268"></a>00268   <span class="keywordflow">else</span>
<a name="l00269"></a>00269     {
<a name="l00270"></a>00270 <span class="comment">// AB: rho_cp = rho.valeurs() turns rho_cp into a 2 dimensional array with 1 compo. We want to stay mono-dim:</span>
<a name="l00271"></a>00271       rho_cp = 1.;
<a name="l00272"></a>00272       <a class="code" href="DoubleVect_8cpp.html#ae2081ab8f1947e8400a928ca3b172e29">tab_multiply_any_shape</a>(rho_cp, <a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classChamp.html#a1bd56ec365487b3ad9a2feed268a30fe">valeurs</a>());
<a name="l00273"></a>00273     }
<a name="l00274"></a>00274   <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>, <a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00275"></a>00275     rho_cp *= <a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0, 0);
<a name="l00276"></a>00276   <span class="keywordflow">else</span>
<a name="l00277"></a>00277     <a class="code" href="DoubleVect_8cpp.html#ae2081ab8f1947e8400a928ca3b172e29">tab_multiply_any_shape</a>(rho_cp,<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>());
<a name="l00278"></a>00278 }
<a name="l00279"></a>00279 
<a name="l00280"></a>00280 <span class="comment">// Precondition:</span>
<a name="l00281"></a>00281 <span class="comment">// Parametre:</span>
<a name="l00282"></a>00282 <span class="comment">// Signification:</span>
<a name="l00283"></a>00283 <span class="comment">// Valeurs par defaut:</span>
<a name="l00284"></a>00284 <span class="comment">// Contraintes:</span>
<a name="l00285"></a>00285 <span class="comment">// Acces:</span>
<a name="l00286"></a>00286 <span class="comment">// </span>
<a name="l00287"></a>00287 <span class="comment">// Signification:</span>
<a name="l00288"></a>00288 <span class="comment">// Contraintes:</span>
<a name="l00289"></a>00289 <span class="comment">// Exception:</span>
<a name="l00290"></a>00290 <span class="comment">// Effets de bord:</span>
<a name="l00291"></a>00291 <span class="comment">// Postcondition:</span>
<a name="l00292"></a>00292 <span class="comment">//</span><span class="comment"></span>
<a name="l00293"></a>00293 <span class="comment">//! Renvoie le tableau des valeurs de le temperature</span>
<a name="l00294"></a><a class="code" href="classFluide__Dilatable__base.html#a043bfb7456e59e3974565b65d1e24988">00294</a> <span class="comment"></span><span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; <a class="code" href="classFluide__Dilatable__base.html#a043bfb7456e59e3974565b65d1e24988" title="Renvoie le tableau des valeurs de le temperature.">Fluide_Dilatable_base::temperature</a>()<span class="keyword"> const</span>
<a name="l00295"></a>00295 <span class="keyword"></span>{
<a name="l00296"></a>00296   <span class="keywordflow">return</span> <a class="code" href="classFluide__Dilatable__base.html#afb2fe4b8a5681f0f762a0794aaa6df7c" title="Renvoie le champ de le temperature.">ch_temperature</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00297"></a>00297 }
<a name="l00298"></a>00298 
<a name="l00299"></a>00299 <span class="comment">// Precondition:</span>
<a name="l00300"></a>00300 <span class="comment">// Parametre:</span>
<a name="l00301"></a>00301 <span class="comment">// Signification:</span>
<a name="l00302"></a>00302 <span class="comment">// Valeurs par defaut:</span>
<a name="l00303"></a>00303 <span class="comment">// Contraintes:</span>
<a name="l00304"></a>00304 <span class="comment">// Acces:</span>
<a name="l00305"></a>00305 <span class="comment">// </span>
<a name="l00306"></a>00306 <span class="comment">// Signification:</span>
<a name="l00307"></a>00307 <span class="comment">// Contraintes:</span>
<a name="l00308"></a>00308 <span class="comment">// Exception:</span>
<a name="l00309"></a>00309 <span class="comment">// Effets de bord:</span>
<a name="l00310"></a>00310 <span class="comment">// Postcondition:</span>
<a name="l00311"></a>00311 <span class="comment">//</span><span class="comment"></span>
<a name="l00312"></a>00312 <span class="comment">//! Renvoie le champ de le temperature</span>
<a name="l00313"></a><a class="code" href="classFluide__Dilatable__base.html#afb2fe4b8a5681f0f762a0794aaa6df7c">00313</a> <span class="comment"></span><span class="keyword">const</span> <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>&amp; <a class="code" href="classFluide__Dilatable__base.html#afb2fe4b8a5681f0f762a0794aaa6df7c" title="Renvoie le champ de le temperature.">Fluide_Dilatable_base::ch_temperature</a>()<span class="keyword"> const</span>
<a name="l00314"></a>00314 <span class="keyword"></span>{
<a name="l00315"></a>00315   <span class="keywordflow">return</span> <a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;ch_temperature();
<a name="l00316"></a>00316 }
<a name="l00317"></a>00317 
<a name="l00318"></a><a class="code" href="classFluide__Dilatable__base.html#ade03ae8dcb1b92ccb1c6667279715b0f">00318</a> <a class="code" href="classChamp__Don.html" title="classe Champ_Don Classe generique de la hierarchie des champs donnes, un objet Champ_Don peut referen...">Champ_Don</a>&amp; <a class="code" href="classFluide__Dilatable__base.html#afb2fe4b8a5681f0f762a0794aaa6df7c" title="Renvoie le champ de le temperature.">Fluide_Dilatable_base::ch_temperature</a>()
<a name="l00319"></a>00319 {
<a name="l00320"></a>00320   <span class="keywordflow">return</span> <a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;ch_temperature();
<a name="l00321"></a>00321 }
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 <span class="comment">// Precondition:</span>
<a name="l00324"></a>00324 <span class="comment">// Parametre:</span>
<a name="l00325"></a>00325 <span class="comment">// Signification:</span>
<a name="l00326"></a>00326 <span class="comment">// Valeurs par defaut:</span>
<a name="l00327"></a>00327 <span class="comment">// Contraintes:</span>
<a name="l00328"></a>00328 <span class="comment">// Acces:</span>
<a name="l00329"></a>00329 <span class="comment">// </span>
<a name="l00330"></a>00330 <span class="comment">// Signification:</span>
<a name="l00331"></a>00331 <span class="comment">// Contraintes:</span>
<a name="l00332"></a>00332 <span class="comment">// Exception:</span>
<a name="l00333"></a>00333 <span class="comment">// Effets de bord:</span>
<a name="l00334"></a>00334 <span class="comment">// Postcondition:</span>
<a name="l00335"></a>00335 <span class="comment">//</span><span class="comment"></span>
<a name="l00336"></a>00336 <span class="comment">//! Prepare le pas de temps</span>
<a name="l00337"></a><a class="code" href="classFluide__Dilatable__base.html#aaec4d140d92d9b773608f7fb396ca465">00337</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#aaec4d140d92d9b773608f7fb396ca465" title="Prepare le pas de temps.">Fluide_Dilatable_base::preparer_pas_temps</a>()
<a name="l00338"></a>00338 {
<a name="l00339"></a>00339   <a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;mettre_a_jour(<a class="code" href="classFluide__Dilatable__base.html#a68f1590cd1e3864527256b45a92522f8">le_probleme_</a>-&gt;schema_temps().temps_courant());
<a name="l00340"></a>00340   <a class="code" href="classFluide__Dilatable__base.html#a4e9e5750206f63eba3d4a6939d401af7">eos_tools_</a>-&gt;mettre_a_jour(<a class="code" href="classFluide__Dilatable__base.html#a68f1590cd1e3864527256b45a92522f8">le_probleme_</a>-&gt;schema_temps().temps_courant());
<a name="l00341"></a>00341 }
<a name="l00342"></a>00342 
<a name="l00343"></a><a class="code" href="classFluide__Dilatable__base.html#a82279c8a2821e97f973e37b3dd21dd0e">00343</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#a82279c8a2821e97f973e37b3dd21dd0e">Fluide_Dilatable_base::abortTimeStep</a>()
<a name="l00344"></a>00344 {
<a name="l00345"></a>00345   <a class="code" href="classFluide__Dilatable__base.html#a3225165b2a79168fd28eaafa1b879165">loi_etat</a>()-&gt;abortTimeStep();
<a name="l00346"></a>00346   <a class="code" href="classFluide__Dilatable__base.html#aa07d9ecb4d311a296048a52984ffabf5">Pth_</a>=<a class="code" href="classFluide__Dilatable__base.html#a4f06ab1ad30953302bb0daca97c5e18b">Pth_n</a>;
<a name="l00347"></a>00347 }
<a name="l00348"></a>00348 
<a name="l00349"></a><a class="code" href="classFluide__Dilatable__base.html#ae8ca38c5f829d2baed021b2ea7f2386a">00349</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#ae8ca38c5f829d2baed021b2ea7f2386a">Fluide_Dilatable_base::creer_champs_non_lus</a>()
<a name="l00350"></a>00350 {
<a name="l00351"></a>00351 <span class="comment">// on s&#39;occupe de lamda si mu uniforme et CP uniforme</span>
<a name="l00352"></a>00352 <span class="comment">// on type lambda en champ uniforme et on met lambda=mu*Cp/Pr</span>
<a name="l00353"></a>00353 <span class="comment">// </span>
<a name="l00354"></a>00354   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00355"></a>00355     {
<a name="l00356"></a>00356       <span class="keywordflow">if</span> (!(<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())||(!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Fonc__Tabule.html" title="Classe Champ_Fonc_Tabule Classe derivee de Champ_Fonc_base qui represente les champs fonctions d&#39;un a...">Champ_Fonc_Tabule</a>,<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>())))
<a name="l00357"></a>00357         <span class="keywordflow">if</span> ((<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))&amp;&amp;(<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classLoi__Etat__GP__base.html" title="classe Loi_Etat_GP_base Cette classe represente la loi d&#39;etat base pour les gaz parfaits. Elle definit un fluide dilatable dont la loi d&#39;etat est : Pth = rho*R*T">Loi_Etat_GP_base</a>,<a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>.<a class="code" href="classDeriv__Loi__Etat__base.html#afb5f511e2f3bed1d613fbad6fcf3add8">valeur</a>())))
<a name="l00358"></a>00358           {
<a name="l00359"></a>00359             <span class="keywordflow">if</span> (!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classLoi__Etat__Multi__GP__QC.html">Loi_Etat_Multi_GP_QC</a>,<a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>.<a class="code" href="classDeriv__Loi__Etat__base.html#afb5f511e2f3bed1d613fbad6fcf3add8">valeur</a>()))
<a name="l00360"></a>00360               {
<a name="l00361"></a>00361 <span class="comment">// Si mu uniforme et si la loi d&#39;etat est celle d&#39;un gaz parfait</span>
<a name="l00362"></a>00362                 <span class="keywordtype">double</span> lold=-1;
<a name="l00363"></a>00363                 <span class="keywordflow">if</span> (<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00364"></a>00364                   lold=<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,0);
<a name="l00365"></a>00365                 <a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>().<a class="code" href="classObjet__U.html#a20e8218a2f8f3659081112fc055fc3a5" title="Donne le nom du type de l&#39;Objet_U.">le_type</a>());
<a name="l00366"></a>00366                 <a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>=<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>;
<a name="l00367"></a>00367 
<a name="l00368"></a>00368                 <a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;calculer_lambda();
<a name="l00369"></a>00369                 <span class="keywordtype">double</span> lo=<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,0);
<a name="l00370"></a>00370                 <span class="keywordflow">if</span> (lold!=-1)
<a name="l00371"></a>00371                   {
<a name="l00372"></a>00372                     <span class="keywordflow">if</span> (!<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(lold,lo))
<a name="l00373"></a>00373                       {
<a name="l00374"></a>00374                         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error : mu, lambda, Cp and Prandtl are all specified in your data set.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00375"></a>00375                         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;It is observed that your imput values leads to :&quot;</span> &lt;&lt; finl;
<a name="l00376"></a>00376                         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>.precision(20);
<a name="l00377"></a>00377                         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;mu/(lambda*Cp)=&quot;</span> &lt;&lt; <a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;Prandt()*(lo/lold) &lt;&lt; <span class="stringliteral">&quot; and Prandtl=&quot;</span> &lt;&lt; <a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;Prandt() &lt;&lt; finl;
<a name="l00378"></a>00378                         <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Please modify your data set by specifying for instance Prandtl = &quot;</span>&lt;&lt;<a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;Prandt()*(lo/lold)&lt;&lt;finl;
<a name="l00379"></a>00379                         <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00380"></a>00380                       }
<a name="l00381"></a>00381                   }
<a name="l00382"></a>00382               }
<a name="l00383"></a>00383           }
<a name="l00384"></a>00384 
<a name="l00385"></a>00385       <span class="keywordflow">if</span> (<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00386"></a>00386         {
<a name="l00387"></a>00387           <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classSutherland.html">Sutherland</a>,<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00388"></a>00388             {
<a name="l00389"></a>00389               <span class="keywordflow">if</span> (!<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>()))
<a name="l00390"></a>00390                 {
<a name="l00391"></a>00391                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;A sutherland law cannot be requested for the conductivity &quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00392"></a>00392                   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;by indicating Slambda if the heat capacity (Cp) is not uniform.&quot;</span>&lt;&lt;finl;
<a name="l00393"></a>00393                   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00394"></a>00394                 }
<a name="l00395"></a>00395               <a class="code" href="classSutherland.html">Sutherland</a>&amp; mu_suth = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classSutherland.html">Sutherland</a>,<a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>());
<a name="l00396"></a>00396               <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; mu0 = mu_suth.<a class="code" href="classSutherland.html#a565182d032e8ad59f0d5ae74eead56a3">get_A</a>();
<a name="l00397"></a>00397               <a class="code" href="classSutherland.html">Sutherland</a>&amp; lambda_suth = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classSutherland.html">Sutherland</a>,<a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classDeriv__Champ__Don__base.html#ae16e7e2a7a706352781c5ecc7764703d">valeur</a>());
<a name="l00398"></a>00398               <span class="keywordtype">double</span> lambda0 = mu0/<a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;Prandt()*<a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>(0,0);
<a name="l00399"></a>00399               lambda_suth.<a class="code" href="classSutherland.html#a349871180b106dcc594269ca606987d1">set_A</a>(lambda0);
<a name="l00400"></a>00400               lambda_suth.<a class="code" href="classSutherland.html#a34ecf7fbc0c8eccd82d14b2325d20757">lire_expression</a>();
<a name="l00401"></a>00401             }
<a name="l00402"></a>00402         }
<a name="l00403"></a>00403     }
<a name="l00404"></a>00404 }
<a name="l00405"></a>00405 
<a name="l00406"></a>00406 <span class="comment">// Precondition:</span>
<a name="l00407"></a>00407 <span class="comment">// Parametre:</span>
<a name="l00408"></a>00408 <span class="comment">// Signification:</span>
<a name="l00409"></a>00409 <span class="comment">// Valeurs par defaut:</span>
<a name="l00410"></a>00410 <span class="comment">// Contraintes:</span>
<a name="l00411"></a>00411 <span class="comment">// Acces:</span>
<a name="l00412"></a>00412 <span class="comment">// </span>
<a name="l00413"></a>00413 <span class="comment">// Signification:</span>
<a name="l00414"></a>00414 <span class="comment">// Contraintes:</span>
<a name="l00415"></a>00415 <span class="comment">// Exception:</span>
<a name="l00416"></a>00416 <span class="comment">// Effets de bord:</span>
<a name="l00417"></a>00417 <span class="comment">// Postcondition: les parametres du fluide sont initialises</span>
<a name="l00418"></a>00418 <span class="comment">//</span><span class="comment"></span>
<a name="l00419"></a>00419 <span class="comment">//! Initialise les parametres du fluide.</span>
<a name="l00420"></a><a class="code" href="classFluide__Dilatable__base.html#a77855f9be81f4375de1a210455d2b33c">00420</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classFluide__Dilatable__base.html#a77855f9be81f4375de1a210455d2b33c" title="Initialise les parametres du fluide.">Fluide_Dilatable_base::initialiser</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; temps)
<a name="l00421"></a>00421 {
<a name="l00422"></a>00422   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Fluide_Dilatable_base::initialiser()&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00423"></a>00423   <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Don__base.html" title="classe Champ_Don_base classe de base des Champs donnes (non calcules) les proprietes physiques sont d...">Champ_Don_base</a>, <a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>))
<a name="l00424"></a>00424     <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classChamp__Don__base.html" title="classe Champ_Don_base classe de base des Champs donnes (non calcules) les proprietes physiques sont d...">Champ_Don_base</a>, <a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>).initialiser(temps);
<a name="l00425"></a>00425 
<a name="l00426"></a>00426   <a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>.<a class="code" href="classChamp__Don.html#ab3eb3a90dccc7c81ff282a8654428a1c" title="Appel a l&#39;objet sous-jacent Provoque l&#39;initialisation du champ si necessaire.">initialiser</a>(temps);
<a name="l00427"></a>00427   <a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>.<a class="code" href="classChamp__Don.html#ab3eb3a90dccc7c81ff282a8654428a1c" title="Appel a l&#39;objet sous-jacent Provoque l&#39;initialisation du champ si necessaire.">initialiser</a>(temps);
<a name="l00428"></a>00428   <a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classChamp__Don.html#ab3eb3a90dccc7c81ff282a8654428a1c" title="Appel a l&#39;objet sous-jacent Provoque l&#39;initialisation du champ si necessaire.">initialiser</a>(temps);
<a name="l00429"></a>00429   <a class="code" href="classFluide__Dilatable__base.html#a169d6724b98e444ba9a672a78e83490f">update_rho_cp</a>(temps);
<a name="l00430"></a>00430 
<a name="l00431"></a>00431   <span class="keywordflow">if</span> (<a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() &amp;&amp; <a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l00432"></a>00432     <a class="code" href="classFluide__Dilatable__base.html#ab04e0d5f329c37fd3deab96bb3a325ea">initialiser_radiatives</a>(temps);
<a name="l00433"></a>00433 
<a name="l00434"></a>00434   <span class="keywordflow">return</span> 1;
<a name="l00435"></a>00435 }
<a name="l00436"></a>00436 
<a name="l00437"></a>00437 <span class="comment">// Initialisation des proprietes radiatives du fluide incompressible</span>
<a name="l00438"></a>00438 <span class="comment">// (Pour un fluide incompressible semi transparent).</span>
<a name="l00439"></a><a class="code" href="classFluide__Dilatable__base.html#ab04e0d5f329c37fd3deab96bb3a325ea">00439</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#ab04e0d5f329c37fd3deab96bb3a325ea">Fluide_Dilatable_base::initialiser_radiatives</a>(<span class="keyword">const</span> <span class="keywordtype">double</span>&amp; temps)
<a name="l00440"></a>00440 {
<a name="l00441"></a>00441   <a class="code" href="classFluide__base.html#ad4d03232ee5aa30938b89a7f53eff45b">coeff_absorption_</a>.<a class="code" href="classChamp__Don.html#ab3eb3a90dccc7c81ff282a8654428a1c" title="Appel a l&#39;objet sous-jacent Provoque l&#39;initialisation du champ si necessaire.">initialiser</a>(temps);
<a name="l00442"></a>00442   <a class="code" href="classFluide__base.html#a70ba33bfdc71a05ebdb2b84ca8c590d9">indice_refraction_</a>.<a class="code" href="classChamp__Don.html#ab3eb3a90dccc7c81ff282a8654428a1c" title="Appel a l&#39;objet sous-jacent Provoque l&#39;initialisation du champ si necessaire.">initialiser</a>(temps);
<a name="l00443"></a>00443   <a class="code" href="classFluide__base.html#a671e10cda91e3d1de243e218fcb2f6b0">longueur_rayo_</a>.<a class="code" href="classChamp__Don.html#ab3eb3a90dccc7c81ff282a8654428a1c" title="Appel a l&#39;objet sous-jacent Provoque l&#39;initialisation du champ si necessaire.">initialiser</a>(temps);
<a name="l00444"></a>00444   <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classChamp__Uniforme.html" title="classe Champ_Uniforme Represente un champ constant dans l&#39;espace et dans le temps.">Champ_Uniforme</a>,<a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>()))
<a name="l00445"></a>00445     <a class="code" href="classFluide__base.html#a15940f332124f04e044b9b3452ad10e8" title="Renvoie la longueur de penetration du rayonnement dans le fluide definie comme l = 1/(3*kappa)...">longueur_rayo</a>()-&gt;<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>()(0,0)=1/(3*<a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>()(0,0));
<a name="l00446"></a>00446   <span class="keywordflow">else</span>
<a name="l00447"></a>00447     {
<a name="l00448"></a>00448       <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; l_rayo = <a class="code" href="classFluide__base.html#a671e10cda91e3d1de243e218fcb2f6b0">longueur_rayo_</a>.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00449"></a>00449       <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; K = <a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>().<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00450"></a>00450       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classFluide__base.html#a34ede8419963e9fda06114dca45097b1" title="Renvoie le coefficient d&#39;absorbtion du fluide.">kappa</a>().<a class="code" href="classChamp__Don.html#a1bd173ced9d3eb09e59a55b56de29abf" title="Appel a l&#39;objet sous-jacent Renvoie le nombre de degres de liberte par composante.">nb_valeurs_nodales</a>(); i++)
<a name="l00451"></a>00451         l_rayo[i] = 1/(3*K[i]);
<a name="l00452"></a>00452     }
<a name="l00453"></a>00453 }
<a name="l00454"></a>00454 
<a name="l00455"></a>00455 <span class="comment">// Precondition:</span>
<a name="l00456"></a>00456 <span class="comment">// Parametre:</span>
<a name="l00457"></a>00457 <span class="comment">// Signification:</span>
<a name="l00458"></a>00458 <span class="comment">// Valeurs par defaut:</span>
<a name="l00459"></a>00459 <span class="comment">// Contraintes:</span>
<a name="l00460"></a>00460 <span class="comment">// Acces:</span>
<a name="l00461"></a>00461 <span class="comment">// </span>
<a name="l00462"></a>00462 <span class="comment">// Signification:</span>
<a name="l00463"></a>00463 <span class="comment">// Contraintes:</span>
<a name="l00464"></a>00464 <span class="comment">// Exception:</span>
<a name="l00465"></a>00465 <span class="comment">// Effets de bord:</span>
<a name="l00466"></a>00466 <span class="comment">// Postcondition:</span>
<a name="l00467"></a>00467 <span class="comment">//</span><span class="comment"></span>
<a name="l00468"></a>00468 <span class="comment">//! Calcule la pression totale : pression thermodynamique + pression hydrodynamique</span>
<a name="l00469"></a><a class="code" href="classFluide__Dilatable__base.html#a73d8402863673f8c56bb3daf30eb6575">00469</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#a73d8402863673f8c56bb3daf30eb6575" title="Calcule la pression totale : pression thermodynamique + pression hydrodynamique.">Fluide_Dilatable_base::calculer_pression_tot</a>()
<a name="l00470"></a>00470 {
<a name="l00471"></a>00471   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; tab_Ptot = <a class="code" href="classFluide__Dilatable__base.html#ad3c440758b0d0b1aaf1126276ef8d6b0">pression_tot_</a>.<a class="code" href="classChamp__Don.html#a7e848a3a3cbe82cb50ab70c0c96505bd" title="Appel a l&#39;objet sous-jacent. Renvoie le tableau des valeurs.">valeurs</a>();
<a name="l00472"></a>00472   <span class="keyword">const</span> <span class="keywordtype">int</span> n = tab_Ptot.<a class="code" href="classDoubleTab.html#a3eadd63f3ba20c1b454d760b430acbf7" title="Returns the total dimensions of the multi-dimensionnal array, including virtual items (used in parall...">dimension_tot</a>(0);
<a name="l00473"></a>00473   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> tab_PHyd(n, 1);
<a name="l00474"></a>00474   <span class="keywordflow">if</span>( n != <a class="code" href="classFluide__Dilatable__base.html#a70ea84e003f8dc51bf60736d571a2c99">pression_</a>-&gt;valeurs().dimension_tot(0) )
<a name="l00475"></a>00475     {
<a name="l00476"></a>00476 <span class="comment">// Interpolation de pression_ aux elements (ex: P1P0)</span>
<a name="l00477"></a>00477       <span class="keyword">const</span> <a class="code" href="classZone__dis__base.html" title="classe Zone_dis_base Cette classe est la base de la hierarchie des zones discretisees. Un objet Zone est associe a la zone discretise. A chaque methode numerique de Trio U correspond une classe derivant de Zone_dis_base implementant les outils necessaires a la methode.">Zone_dis_base</a>&amp; zone_dis= <a class="code" href="classFluide__Dilatable__base.html#a70ea84e003f8dc51bf60736d571a2c99">pression_</a>-&gt; zone_dis_base();
<a name="l00478"></a>00478       <span class="keyword">const</span> <a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>&amp; zone = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__VF.html" title="class Zone_VF Cette classe abstraite contient les informations geometriques communes aux methodes de ...">Zone_VF</a>, zone_dis);
<a name="l00479"></a>00479       <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; centres_de_gravites=zone.<a class="code" href="classZone__VF.html#a87a29f0223c71256a25ee343c9277599">xp</a>();
<a name="l00480"></a>00480       <a class="code" href="classFluide__Dilatable__base.html#a70ea84e003f8dc51bf60736d571a2c99">pression_</a>-&gt;<a class="code" href="classRef__Champ__Inc.html#ab3e71cb33ab54f3aa25a30a23d76b494">valeur</a>().valeur_aux(centres_de_gravites,tab_PHyd);
<a name="l00481"></a>00481     }
<a name="l00482"></a>00482   <span class="keywordflow">else</span>  tab_PHyd = <a class="code" href="classFluide__Dilatable__base.html#a70ea84e003f8dc51bf60736d571a2c99">pression_</a>-&gt;valeurs();
<a name="l00483"></a>00483 <span class="comment">// impl dans les classes filles</span>
<a name="l00484"></a>00484   <a class="code" href="classFluide__Dilatable__base.html#a7eca1c215f3d824d85eb221d77d89429">remplir_champ_pression_tot</a>(n,tab_PHyd,tab_Ptot);
<a name="l00485"></a>00485 }
<a name="l00486"></a>00486 
<a name="l00487"></a><a class="code" href="classFluide__Dilatable__base.html#a5c1945547b277929adfa3e91355b29c9">00487</a> <span class="keyword">const</span> <a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>&amp; <a class="code" href="classFluide__Dilatable__base.html#a5c1945547b277929adfa3e91355b29c9">Fluide_Dilatable_base::get_champ</a>(<span class="keyword">const</span> <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a>&amp; nom)<span class="keyword"> const</span>
<a name="l00488"></a>00488 <span class="keyword"></span>{
<a name="l00489"></a>00489   <a class="code" href="Ref_8h.html#aab5720a5c34da14028d0745e386aaa01">REF</a>(<a class="code" href="classChamp__base.html" title="classe Champ_base Cette classe est la base de la hierarchie des champs. Ses membres sont les attribut...">Champ_base</a>) ref_champ;
<a name="l00490"></a>00490   <span class="keywordflow">try</span>
<a name="l00491"></a>00491     {
<a name="l00492"></a>00492       <span class="keywordflow">return</span> <a class="code" href="classFluide__Dilatable__base.html#a5c1945547b277929adfa3e91355b29c9">Fluide_base::get_champ</a>(nom);
<a name="l00493"></a>00493     }
<a name="l00494"></a>00494   <span class="keywordflow">catch</span> (<a class="code" href="classChamps__compris__erreur.html">Champs_compris_erreur</a>)
<a name="l00495"></a>00495     {
<a name="l00496"></a>00496     }
<a name="l00497"></a>00497   <span class="keywordflow">try</span>
<a name="l00498"></a>00498     {
<a name="l00499"></a>00499       <span class="keywordflow">return</span> <a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;get_champ(nom);
<a name="l00500"></a>00500     }
<a name="l00501"></a>00501   <span class="keywordflow">catch</span> (<a class="code" href="classChamps__compris__erreur.html">Champs_compris_erreur</a>)
<a name="l00502"></a>00502     {
<a name="l00503"></a>00503     }
<a name="l00504"></a>00504   <span class="keywordflow">throw</span> <a class="code" href="classChamps__compris__erreur.html">Champs_compris_erreur</a>();
<a name="l00505"></a>00505 }
<a name="l00506"></a>00506 
<a name="l00507"></a><a class="code" href="classFluide__Dilatable__base.html#a1c52aa48da1c9c4135b1fd77989897c8">00507</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#a1c52aa48da1c9c4135b1fd77989897c8">Fluide_Dilatable_base::get_noms_champs_postraitables</a>(<a class="code" href="classNoms.html" title="Un tableau de chaine de caracteres (VECT(Nom))">Noms</a>&amp; nom,<a class="code" href="Champs__compris__interface_8h.html#a0e65ad13124ea2cb5e255b640464e35f">Option</a> opt)<span class="keyword"> const</span>
<a name="l00508"></a>00508 <span class="keyword"></span>{
<a name="l00509"></a>00509   <a class="code" href="classFluide__Dilatable__base.html#a1c52aa48da1c9c4135b1fd77989897c8">Fluide_base::get_noms_champs_postraitables</a>(nom,opt);
<a name="l00510"></a>00510   <a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;get_noms_champs_postraitables(nom,opt);
<a name="l00511"></a>00511 }
<a name="l00512"></a>00512 
<a name="l00513"></a><a class="code" href="classFluide__Dilatable__base.html#a07752ee43bc88c0ff410cc130889d27c">00513</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#a07752ee43bc88c0ff410cc130889d27c" title="Effectue une mise a jour en temps du milieu, et donc de ses parametres caracteristiques. Les champs uniformes sont recalcules pour le nouveau temps specifie, les autres sont mis a par un appel a CLASSE_DU_CHAMP::mettre_a_jour(double temps).">Fluide_Dilatable_base::mettre_a_jour</a>(<span class="keywordtype">double</span> temps)
<a name="l00514"></a>00514 {
<a name="l00515"></a>00515   <a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>.<a class="code" href="classChamp.html#ac980d0cff0746eaa66d45ff2ba1cd8c7">mettre_a_jour</a>(temps);
<a name="l00516"></a>00516   <a class="code" href="classFluide__Dilatable__base.html#afb2fe4b8a5681f0f762a0794aaa6df7c" title="Renvoie le champ de le temperature.">ch_temperature</a>().<a class="code" href="classChamp__Don.html#a8b0fe2933360f11ddc77237ee23b5b56" title="Appel a l&#39;objet sous-jacent Provoque la mise a jour du champ si il est instationnaire.">mettre_a_jour</a>(temps); <span class="comment">//!&lt; Note : it denotes the species Y1 for Pb_Hydraulique_Melange_Binaire_QC</span>
<a name="l00517"></a>00517 <span class="comment"></span>  <a class="code" href="classMilieu__base.html#a3bf5bffa8e79c50c22bf19d26da61676">rho</a>-&gt;<a class="code" href="classChamp.html#aa89a2bf9273abe56106bc10550542b35">changer_temps</a>(temps);
<a name="l00518"></a>00518   <a class="code" href="classFluide__Dilatable__base.html#afb2fe4b8a5681f0f762a0794aaa6df7c" title="Renvoie le champ de le temperature.">ch_temperature</a>()-&gt;changer_temps(temps);
<a name="l00519"></a>00519   <a class="code" href="classFluide__base.html#aaee959f3d886464bce9473ac2d3bf249">mu</a>-&gt;changer_temps(temps);
<a name="l00520"></a>00520   <a class="code" href="classMilieu__base.html#aa07fff67ffe04fabbdd6293bbd96b14a">lambda</a>-&gt;changer_temps(temps);
<a name="l00521"></a>00521   <a class="code" href="classMilieu__base.html#a61da99764c27a18fe99fcfef089ceee2">Cp</a>.<a class="code" href="classChamp__Don.html#a8b0fe2933360f11ddc77237ee23b5b56" title="Appel a l&#39;objet sous-jacent Provoque la mise a jour du champ si il est instationnaire.">mettre_a_jour</a>(temps);
<a name="l00522"></a>00522   <a class="code" href="classFluide__Dilatable__base.html#a169d6724b98e444ba9a672a78e83490f">update_rho_cp</a>(temps);
<a name="l00523"></a>00523   <a class="code" href="classFluide__Dilatable__base.html#af3db87b8782fc50a6ceb048e1bbdc7d9">write_mean_edo</a>(temps); <span class="comment">//!&lt; si besoin (i.e. QC)</span>
<a name="l00524"></a>00524 <span class="comment"></span>}
<a name="l00525"></a>00525 
<a name="l00526"></a>00526 <span class="comment">// Precondition:</span>
<a name="l00527"></a>00527 <span class="comment">// Parametre:</span>
<a name="l00528"></a>00528 <span class="comment">// Signification:</span>
<a name="l00529"></a>00529 <span class="comment">// Valeurs par defaut:</span>
<a name="l00530"></a>00530 <span class="comment">// Contraintes:</span>
<a name="l00531"></a>00531 <span class="comment">// Acces:</span>
<a name="l00532"></a>00532 <span class="comment">// </span>
<a name="l00533"></a>00533 <span class="comment">// Signification:</span>
<a name="l00534"></a>00534 <span class="comment">// Contraintes:</span>
<a name="l00535"></a>00535 <span class="comment">// Exception:</span>
<a name="l00536"></a>00536 <span class="comment">// Effets de bord:</span>
<a name="l00537"></a>00537 <span class="comment">// Postcondition:</span>
<a name="l00538"></a>00538 <span class="comment">//</span><span class="comment"></span>
<a name="l00539"></a>00539 <span class="comment">//! Prepare le fluide au calcul.</span>
<a name="l00540"></a><a class="code" href="classFluide__Dilatable__base.html#ada99b348f68585754f323b36f1494969">00540</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#ada99b348f68585754f323b36f1494969" title="Prepare le fluide au calcul.">Fluide_Dilatable_base::preparer_calcul</a>()
<a name="l00541"></a>00541 {
<a name="l00542"></a>00542   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Fluide_Dilatable_base::preparer_calcul()&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00543"></a>00543   <a class="code" href="classFluide__Dilatable__base.html#ada99b348f68585754f323b36f1494969" title="Prepare le fluide au calcul.">Milieu_base::preparer_calcul</a>();
<a name="l00544"></a>00544   <a class="code" href="classFluide__Dilatable__base.html#a8ead043e8adcee8f39284d454bc82596">Fluide_Dilatable_base::update_pressure_fields</a>(<a class="code" href="classFluide__Dilatable__base.html#a68f1590cd1e3864527256b45a92522f8">le_probleme_</a>-&gt;schema_temps().temps_courant()); <span class="comment">//!&lt; Child can have an overload</span>
<a name="l00545"></a>00545 <span class="comment"></span>  <a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;preparer_calcul();
<a name="l00546"></a>00546   <a class="code" href="classFluide__Dilatable__base.html#a4c19d5e3112e06fd3ffecc20539cae93">prepare_pressure_edo</a>(); <span class="comment">//!&lt; si besoin (i.e. QC)</span>
<a name="l00547"></a>00547 <span class="comment"></span>  <a class="code" href="classFluide__Dilatable__base.html#af7a637098799b53b0084af58068ed390">calculer_coeff_T</a>();
<a name="l00548"></a>00548 }
<a name="l00549"></a>00549 
<a name="l00550"></a><a class="code" href="classFluide__Dilatable__base.html#a8ead043e8adcee8f39284d454bc82596">00550</a> <span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#a8ead043e8adcee8f39284d454bc82596">Fluide_Dilatable_base::update_pressure_fields</a>(<span class="keywordtype">double</span> temps)
<a name="l00551"></a>00551 {
<a name="l00552"></a>00552   <a class="code" href="classFluide__Dilatable__base.html#a73d8402863673f8c56bb3daf30eb6575" title="Calcule la pression totale : pression thermodynamique + pression hydrodynamique.">calculer_pression_tot</a>();
<a name="l00553"></a>00553   <a class="code" href="classFluide__Dilatable__base.html#ad3c440758b0d0b1aaf1126276ef8d6b0">pression_tot_</a>.<a class="code" href="classChamp__Don.html#a8b0fe2933360f11ddc77237ee23b5b56" title="Appel a l&#39;objet sous-jacent Provoque la mise a jour du champ si il est instationnaire.">mettre_a_jour</a>(temps);
<a name="l00554"></a>00554 }
<a name="l00555"></a>00555 
<a name="l00556"></a>00556 <span class="comment">// Precondition:</span>
<a name="l00557"></a>00557 <span class="comment">// Parametre: Pb_Thermohydraulique&amp; pb</span>
<a name="l00558"></a>00558 <span class="comment">// Signification: le probleme a resoudre</span>
<a name="l00559"></a>00559 <span class="comment">// Valeurs par defaut:</span>
<a name="l00560"></a>00560 <span class="comment">// Contraintes:</span>
<a name="l00561"></a>00561 <span class="comment">// Acces: lecture</span>
<a name="l00562"></a>00562 <span class="comment">// </span>
<a name="l00563"></a>00563 <span class="comment">// Signification:</span>
<a name="l00564"></a>00564 <span class="comment">// Contraintes:</span>
<a name="l00565"></a>00565 <span class="comment">// Exception:</span>
<a name="l00566"></a>00566 <span class="comment">// Effets de bord:</span>
<a name="l00567"></a>00567 <span class="comment">// Postcondition:</span>
<a name="l00568"></a>00568 <span class="comment">//</span><span class="comment"></span>
<a name="l00569"></a>00569 <span class="comment">//! Complete le fluide avec les champs inconnus associes au probleme</span>
<a name="l00570"></a><a class="code" href="classFluide__Dilatable__base.html#af200f2acd5bfa46caedf2a42c5c7b2cf">00570</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classFluide__Dilatable__base.html#af200f2acd5bfa46caedf2a42c5c7b2cf" title="Complete le fluide avec les champs inconnus associes au probleme.">Fluide_Dilatable_base::completer</a>(<span class="keyword">const</span> <a class="code" href="classProbleme__base.html" title="classe Probleme_base C&#39;est un Probleme_U qui n&#39;est pas un couplage. Le role d&#39;un Probleme_base est la...">Probleme_base</a>&amp; pb)
<a name="l00571"></a>00571 {
<a name="l00572"></a>00572   <a class="code" href="classFluide__Dilatable__base.html#a68f1590cd1e3864527256b45a92522f8">le_probleme_</a> = pb;
<a name="l00573"></a>00573   <a class="code" href="classFluide__Dilatable__base.html#a43f55d0af01f0a608bc18858f1991959">inco_chaleur_</a> = pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(1).<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>();
<a name="l00574"></a>00574   <a class="code" href="classFluide__Dilatable__base.html#af54f9f1bf9ab693bf19e2d1f62ae013e">vitesse_</a> = pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(0).<a class="code" href="classEquation__base.html#a5a1fce9487b9a8dd17020914100c2c89">inconnue</a>();
<a name="l00575"></a>00575   <span class="keyword">const</span> <a class="code" href="classNavier__Stokes__std.html" title="classe Navier_Stokes_std Cette classe porte les termes de l&#39;equation de la dynamique pour un fluide s...">Navier_Stokes_std</a>&amp; eqn_hydr = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classNavier__Stokes__std.html" title="classe Navier_Stokes_std Cette classe porte les termes de l&#39;equation de la dynamique pour un fluide s...">Navier_Stokes_std</a>,pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(0));
<a name="l00576"></a>00576   <a class="code" href="classFluide__Dilatable__base.html#a70ea84e003f8dc51bf60736d571a2c99">pression_</a> = eqn_hydr.<a class="code" href="classNavier__Stokes__std.html#afbb8f39bdfd70328dfad21bf2b9dd45a" title="Renvoie le champ de pression.">pression</a>();
<a name="l00577"></a>00577 
<a name="l00578"></a>00578   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> typ = pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(0).<a class="code" href="classEquation__base.html#a324a761eaad25eb00d18e14764a1362e" title="Renvoie la discretisation associee a l&#39;equation.">discretisation</a>().<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
<a name="l00579"></a>00579   <span class="keywordflow">if</span> (typ==<span class="stringliteral">&quot;VEFPreP1B&quot;</span>) typ = <span class="stringliteral">&quot;VEF&quot;</span>;
<a name="l00580"></a>00580 
<a name="l00581"></a>00581   <a class="code" href="classFluide__Dilatable__base.html#a4e9e5750206f63eba3d4a6939d401af7">eos_tools_</a>.<a class="code" href="classEOS__Tools.html#a69ad6023061ef74b3c4ce49f470f2dcc" title="Type la loi d&#39;etat.">typer</a>(typ);
<a name="l00582"></a>00582   <a class="code" href="classFluide__Dilatable__base.html#a4e9e5750206f63eba3d4a6939d401af7">eos_tools_</a>-&gt;associer_zones(pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(0).<a class="code" href="classEquation__base.html#a12d97ae801edc18f614523677921346e" title="Renvoie la zone discretisee associee a l&#39;equation.">zone_dis</a>(),pb.<a class="code" href="classProbleme__base.html#ae97586575b7e510d7945ce3a894b806a">equation</a>(0).<a class="code" href="classEquation__base.html#af265fe0ea30868eb2176a0c887e4efab" title="Renvoie la zone des conditions aux limite discretisee associee a l&#39;equation.">zone_Cl_dis</a>());
<a name="l00583"></a>00583   <a class="code" href="classFluide__Dilatable__base.html#a4e9e5750206f63eba3d4a6939d401af7">eos_tools_</a>-&gt;associer_fluide(*<span class="keyword">this</span>);
<a name="l00584"></a>00584   <a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;assoscier_probleme(pb);
<a name="l00585"></a>00585   <a class="code" href="classFluide__Dilatable__base.html#a726e23527611db5c1e3bae08ffe0705b">initialiser_inco_ch</a>();
<a name="l00586"></a>00586   <a class="code" href="classFluide__Dilatable__base.html#a4e9e5750206f63eba3d4a6939d401af7">eos_tools_</a>-&gt;mettre_a_jour(pb.<a class="code" href="classProbleme__base.html#a0cf6c541e30cd21c3da32fc122cb0e2b" title="Renvoie le schema en temps associe au probleme. (si il est non nul) (version const)">schema_temps</a>().<a class="code" href="classSchema__Temps__base.html#a5054df01edb6d4f7baec7e612d423834" title="Renvoie le temps courant.">temps_courant</a>());
<a name="l00587"></a>00587   <a class="code" href="classFluide__Dilatable__base.html#a56e92d198c499815831015174bbf996e">loi_etat_</a>-&gt;initialiser();
<a name="l00588"></a>00588 }
<a name="l00589"></a>00589 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:31 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
