<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: Op_Conv_EF Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Op_Conv_EF Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Op_Conv_EF" --><!-- doxytag: inherits="Op_Conv_EF_base" -->
<p>class <a class="el" href="classOp__Conv__EF.html" title="class Op_Conv_EF Cette classe represente l&#39;operateur de convection associe a une equation de transpor...">Op_Conv_EF</a><br/>
Cette classe represente l'operateur de convection associe a une equation de<br/>
transport d'un scalaire.<br/>
La discretisation est EF<br/>
Le champ convecte est scalaire ou vecteur de type <a class="el" href="classChamp__P1NC.html">Champ_P1NC</a><br/>
Le schema de convection est du type Decentre ou Centre  
 <a href="classOp__Conv__EF.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Op_Conv_EF:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classOp__Conv__EF.png" usemap="#Op_Conv_EF_map" alt=""/>
  <map id="Op_Conv_EF_map" name="Op_Conv_EF_map">
<area href="classOp__Conv__EF__base.html" title="class Op_Conv_EF_base Classe de base des operateurs de convection EF" alt="Op_Conv_EF_base" shape="rect" coords="262,224,427,248"/>
<area href="classOperateur__Conv__base.html" title="classe Operateur_Conv_base Cette classe est la base de la hierarchie des operateurs representant un t..." alt="Operateur_Conv_base" shape="rect" coords="175,168,340,192"/>
<area href="classOp__EF__base.html" alt="Op_EF_base" shape="rect" coords="350,168,515,192"/>
<area href="classOperateur__base.html" title="classe Operateur_base Classe est la base de la hierarchie des objets representant un operateur utilis..." alt="Operateur_base" shape="rect" coords="175,112,340,136"/>
<area href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob..." alt="Objet_U" shape="rect" coords="0,56,165,80"/>
<area href="classMorEqn.html" title="classe MorEqn Classe qui regroupe les fonctionnalites de liaison avec une Equation. Le membre MorEqn::mon_equation contient une reference vers un objet Equation_base. Les classes qui sont des &quot;Morceaux d&#39;equation&quot; sont associe par une liaison 1-1 a leur equation en heritant de MorEqn, par exemple: Operateur_base, Solveur_Masse, Source_base ..." alt="MorEqn" shape="rect" coords="175,56,340,80"/>
<area href="classChamps__compris__interface.html" title="classe Champs_compris_interface Cette classe contient une interface de methodes destinees a gerer les..." alt="Champs_compris_interface" shape="rect" coords="350,56,515,80"/>
<area href="classProcess.html" title="Classe de base de TRUST (notamment Objet_U). Elle fournit quelques services de base accessibles de pa..." alt="Process" shape="rect" coords="0,0,165,24"/>
<area href="classOp__Conv__BTD__EF.html" alt="Op_Conv_BTD_EF" shape="rect" coords="262,336,427,360"/>
<area href="classOp__Conv__SUPG__EF.html" title=": class Op_Conv_SUPG_EF &lt;Description of class Op_Conv_SUPG_EF&gt;" alt="Op_Conv_SUPG_EF" shape="rect" coords="262,392,427,416"/>
</map>
 </div></div>

<p><a href="classOp__Conv__EF-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#ad8039ec07b604ef3196d87554859f0fb">Op_Conv_EF</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a430f7513993a2f35606fa6cc057287ec">~Op_Conv_EF</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a06e662ffe1270e9a4b5982e628497b58">taille_memoire</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a7d5605d62e3d84ee52989f53ce5a8236">duplique</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#ab3237546eef160637b379f1ec052722c">get_info</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne des informations sur le type de l'Objet_U.  <a href="#ab3237546eef160637b379f1ec052722c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a0aa984ccd3b7d5f0668202fc4e60e6b3">ajouter</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a1ccdede1551793f39643a81bb0628fb3">ajouter_a_la_diffusion</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a47d7dbd31177020eef9e682fafe767f8">calculer_dt_stab</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcul dt_stab.  <a href="#a47d7dbd31177020eef9e682fafe767f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a7e2a5cecd74a215b1d15a9921ae252cd">dimensionner</a> (<a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">on dimensionne notre matrice au moyen de la methode dimensionner de la classe<br/>
<a class="el" href="classOp__EF__base.html">Op_EF_base</a>.  <a href="#a7e2a5cecd74a215b1d15a9921ae252cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#ac313f306b91490ce52c1722801dd9fa1">modifier_pour_Cl</a> (<a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">On modifie le second membre et la matrice dans le cas des<br/>
conditions de dirichlet.  <a href="#ac313f306b91490ce52c1722801dd9fa1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#acbf3c5413fc53c192e053a8759cc24d5">contribuer_a_avec</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;, <a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">on assemble la matrice des inconnues implicite.  <a href="#acbf3c5413fc53c192e053a8759cc24d5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a139d3f0f81dbb9de08a709131118ba21">contribuer_au_second_membre</a> (<a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">on ajoute la contribution du second membre.  <a href="#a139d3f0f81dbb9de08a709131118ba21"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a6f7723749230a882a357dc0cb70d8aab">contribue_au_second_membre</a> (<a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a14962a4f7b3e569693f21440e11450a1">ajouter_contribution_sous_cond</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;transporte, <a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;matrice, int btd_impl, int hourglass_impl, int centre_impl) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#aaf58d7bd3fb9fde8eab7c3e5c88091bb">ajouter_contribution</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;, <a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#ac18883b1667d6d0f07540f89e9efa831">ajouter_contribution_a_la_diffusion</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;, <a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#af8960c0fa034348f7f233617715ffc07">contribue_au_second_membre_a_la_diffusion</a> (<a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;resu) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a843e2b2c4d9bc3de665260b077782d26">ajouter_sous_cond</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;transporte, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a8a2724583588026cbcf3a05ae541d0fc">coefficient_btd</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a7e4e8fefbf78da38579a960fff32c315">completer</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Associe l'operateur a la zone_dis, la zone_Cl_dis,<br/>
et a l'inconnue de son equation.  <a href="#a7e4e8fefbf78da38579a960fff32c315"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a96a1bc7061719ca5097fea02003f6b25">get_btd</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classChamp__base.html">Champ_base</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a1713d3b9379f13a6ee344811d4eec051">get_champ</a> (const <a class="el" href="classMotcle.html">Motcle</a> &amp;nom) const </td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classObjet__U.html">Objet_U</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a7cee253aa91530dcc5bb64374497f295">cree_instance</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#ad0024d61859e2e117e4ba4ed2ea454ff">info</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Donne des informations sur le type de l'Objet_U.  <a href="#ad0024d61859e2e117e4ba4ed2ea454ff"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classOp__Conv__EF.html">Op_Conv_EF</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#acec784379a017c2dfb2efa21faa7e5d5">self_cast</a> (<a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classOp__Conv__EF.html">Op_Conv_EF</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a3fe09165070f738d7ffc42e900cfcb78">self_cast</a> (const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">methode ajoutee pour caster en python  <a href="#a3fe09165070f738d7ffc42e900cfcb78"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classType__info.html">Type_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#aa3002f1ede9763e7f0179dc79648dd05">info_obj</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75d">type_operateur</a> { <a class="el" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8">amont</a>, 
<a class="el" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da9d10799d7e80e4d38ee498286de54436">muscl</a>, 
<a class="el" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da833f1aa6bfe72fc2320b1baf4e991957">centre</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a39e280aa68788ded371fba87a4766c4c">printOn</a> (<a class="el" href="classSortie.html">Sortie</a> &amp;x) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">NE FAIT RIEN<br/>
A surcharger dans les classes derivees.  <a href="#a39e280aa68788ded371fba87a4766c4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classEntree.html">Entree</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a867588a3d7783e1937136ba6a509306a">readOn</a> (<a class="el" href="classEntree.html">Entree</a> &amp;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">NE FAIT RIEN<br/>
A surcharger dans les classes derivees.  <a href="#a867588a3d7783e1937136ba6a509306a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a8d696fed7489bca629ff1c6381277c22">ajouter_sous_cond_gen</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;transporte, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a8ba1f6f1f53d3f78f9100a5a6360e63d">ajouter_sous_cond_dim3_nbn8_nbdim1</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;transporte, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#aee0145605af027404be5bca5000d9d65">ajouter_sous_cond_dim3_nbn8_nbdim2</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;transporte, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a1bde072671f5f9b50859b5bcc2d24c2c">ajouter_sous_cond_dim2_nbn4_nbdim1</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;transporte, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a2ea2ac370a235e95bff068ba638d3038">ajouter_sous_cond_dim2_nbn4_nbdim2</a> (const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;transporte, <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const </td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#ad3db522667ddc56c48ed6e9e74c11606">hourglass_impl_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#aad213768e53dd2ead0ac9f0554300bfb">btd_impl_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a0849a62e83511b82512742ded6db229a">centre_impl_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">flag pour savoir si les termes sont implicites  <a href="#a0849a62e83511b82512742ded6db229a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a0fd689419f4b31be5dda6d2e1b29f6cb">hourglass_hors_conv_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a92cfa1fb25cc3c4e08407f73803d7ee9">btd_hors_conv_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a327e97302d9067603701c1fd50acedc1">f_lu_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a1678395576cd863d74af0bdada354c3b">calcul_dt_stab_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75d">type_operateur</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">type_op</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#addb861acb56bcf446418030b4d868e20">max_ue_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a60549d6d5a02155aa97167dc94309532">min_dx_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classChamp__Uniforme.html">Champ_Uniforme</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a381e526d26f897a67f0c19048dfad484">coefficient_correcteur_supg_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOp__Conv__EF.html#a9ac703b912c82db19c86f97ede4d749d">btd_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>class <a class="el" href="classOp__Conv__EF.html" title="class Op_Conv_EF Cette classe represente l&#39;operateur de convection associe a une equation de transpor...">Op_Conv_EF</a><br/>
Cette classe represente l'operateur de convection associe a une equation de<br/>
transport d'un scalaire.<br/>
La discretisation est EF<br/>
Le champ convecte est scalaire ou vecteur de type <a class="el" href="classChamp__P1NC.html">Champ_P1NC</a><br/>
Le schema de convection est du type Decentre ou Centre </p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00045">45</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ab9734112d198e5e32e51e1efd1a9b75d"></a><!-- doxytag: member="Op_Conv_EF::type_operateur" ref="ab9734112d198e5e32e51e1efd1a9b75d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75d">Op_Conv_EF::type_operateur</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8"></a><!-- doxytag: member="amont" ref="ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8" args="" -->amont</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab9734112d198e5e32e51e1efd1a9b75da9d10799d7e80e4d38ee498286de54436"></a><!-- doxytag: member="muscl" ref="ab9734112d198e5e32e51e1efd1a9b75da9d10799d7e80e4d38ee498286de54436" args="" -->muscl</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab9734112d198e5e32e51e1efd1a9b75da833f1aa6bfe72fc2320b1baf4e991957"></a><!-- doxytag: member="centre" ref="ab9734112d198e5e32e51e1efd1a9b75da833f1aa6bfe72fc2320b1baf4e991957" args="" -->centre</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00086">86</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>
<div class="fragment"><pre class="fragment">{ <a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8">amont</a>, <a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da9d10799d7e80e4d38ee498286de54436">muscl</a>, <a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da833f1aa6bfe72fc2320b1baf4e991957">centre</a> };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad8039ec07b604ef3196d87554859f0fb"></a><!-- doxytag: member="Op_Conv_EF::Op_Conv_EF" ref="ad8039ec07b604ef3196d87554859f0fb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Op_Conv_EF::Op_Conv_EF </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00036">36</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                      : <a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>(0.),<a class="code" href="classOp__Conv__EF.html#ad3db522667ddc56c48ed6e9e74c11606">hourglass_impl_</a>(0),<a class="code" href="classOp__Conv__EF.html#aad213768e53dd2ead0ac9f0554300bfb">btd_impl_</a>(0),<a class="code" href="classOp__Conv__EF.html#a0849a62e83511b82512742ded6db229a" title="flag pour savoir si les termes sont implicites">centre_impl_</a>(0), <a class="code" href="classOp__Conv__EF.html#a0fd689419f4b31be5dda6d2e1b29f6cb">hourglass_hors_conv_</a>(0),<a class="code" href="classOp__Conv__EF.html#a92cfa1fb25cc3c4e08407f73803d7ee9">btd_hors_conv_</a>(0),<a class="code" href="classOp__Conv__EF.html#a327e97302d9067603701c1fd50acedc1">f_lu_</a>(-1.),<a class="code" href="classOp__Conv__EF.html#a1678395576cd863d74af0bdada354c3b">calcul_dt_stab_</a>(0)
{
}
</pre></div>
</div>
</div>
<a class="anchor" id="a430f7513993a2f35606fa6cc057287ec"></a><!-- doxytag: member="Op_Conv_EF::~Op_Conv_EF" ref="a430f7513993a2f35606fa6cc057287ec" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Op_Conv_EF::~Op_Conv_EF </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00034">34</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0aa984ccd3b7d5f0668202fc4e60e6b3"></a><!-- doxytag: member="Op_Conv_EF::ajouter" ref="a0aa984ccd3b7d5f0668202fc4e60e6b3" args="(const DoubleTab &amp;, DoubleTab &amp;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Op_Conv_EF::ajouter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>transporte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>resu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classOperateur__base.html#a883475470b7446b8b2093859494abef4">Operateur_base</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00169">169</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8cpp_source.html#l01016">ajouter_sous_cond()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00084">btd_hors_conv_</a>, and <a class="el" href="Op__Conv__EF_8h_source.html#l00084">hourglass_hors_conv_</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="classOp__Conv__EF.html#a843e2b2c4d9bc3de665260b077782d26">ajouter_sous_cond</a>(transporte,resu,<a class="code" href="classOp__Conv__EF.html#a92cfa1fb25cc3c4e08407f73803d7ee9">btd_hors_conv_</a>,<a class="code" href="classOp__Conv__EF.html#a0fd689419f4b31be5dda6d2e1b29f6cb">hourglass_hors_conv_</a>,0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1ccdede1551793f39643a81bb0628fb3"></a><!-- doxytag: member="Op_Conv_EF::ajouter_a_la_diffusion" ref="a1ccdede1551793f39643a81bb0628fb3" args="(const DoubleTab &amp;, DoubleTab &amp;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Op_Conv_EF::ajouter_a_la_diffusion </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>transporte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>resu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00174">174</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8cpp_source.html#l01016">ajouter_sous_cond()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00084">btd_hors_conv_</a>, and <a class="el" href="Op__Conv__EF_8h_source.html#l00084">hourglass_hors_conv_</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="classOp__Conv__EF.html#a843e2b2c4d9bc3de665260b077782d26">ajouter_sous_cond</a>(transporte,resu,!<a class="code" href="classOp__Conv__EF.html#a92cfa1fb25cc3c4e08407f73803d7ee9">btd_hors_conv_</a>,!<a class="code" href="classOp__Conv__EF.html#a0fd689419f4b31be5dda6d2e1b29f6cb">hourglass_hors_conv_</a>,1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aaf58d7bd3fb9fde8eab7c3e5c88091bb"></a><!-- doxytag: member="Op_Conv_EF::ajouter_contribution" ref="aaf58d7bd3fb9fde8eab7c3e5c88091bb" args="(const DoubleTab &amp;, Matrice_Morse &amp;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Op_Conv_EF::ajouter_contribution </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>transporte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;&#160;</td>
          <td class="paramname"><em>matrice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l01159">1159</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8cpp_source.html#l01033">ajouter_contribution_sous_cond()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00084">btd_hors_conv_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00083">btd_impl_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00083">centre_impl_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00084">hourglass_hors_conv_</a>, and <a class="el" href="Op__Conv__EF_8h_source.html#l00083">hourglass_impl_</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8h_source.html#l00135">contribuer_a_avec()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> <a class="code" href="classOp__Conv__EF.html#a14962a4f7b3e569693f21440e11450a1">ajouter_contribution_sous_cond</a>(transporte,matrice,(<a class="code" href="classOp__Conv__EF.html#aad213768e53dd2ead0ac9f0554300bfb">btd_impl_</a>)&amp;&amp;(<a class="code" href="classOp__Conv__EF.html#a92cfa1fb25cc3c4e08407f73803d7ee9">btd_hors_conv_</a>==0),(<a class="code" href="classOp__Conv__EF.html#ad3db522667ddc56c48ed6e9e74c11606">hourglass_impl_</a>)&amp;&amp;(<a class="code" href="classOp__Conv__EF.html#a0fd689419f4b31be5dda6d2e1b29f6cb">hourglass_hors_conv_</a>==0),<a class="code" href="classOp__Conv__EF.html#a0849a62e83511b82512742ded6db229a" title="flag pour savoir si les termes sont implicites">centre_impl_</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac18883b1667d6d0f07540f89e9efa831"></a><!-- doxytag: member="Op_Conv_EF::ajouter_contribution_a_la_diffusion" ref="ac18883b1667d6d0f07540f89e9efa831" args="(const DoubleTab &amp;, Matrice_Morse &amp;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Op_Conv_EF::ajouter_contribution_a_la_diffusion </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>transporte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;&#160;</td>
          <td class="paramname"><em>matrice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l01164">1164</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8cpp_source.html#l01033">ajouter_contribution_sous_cond()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00084">btd_hors_conv_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00083">btd_impl_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00084">hourglass_hors_conv_</a>, and <a class="el" href="Op__Conv__EF_8h_source.html#l00083">hourglass_impl_</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classOp__Conv__EF.html#a14962a4f7b3e569693f21440e11450a1">ajouter_contribution_sous_cond</a>(transporte,matrice,(<a class="code" href="classOp__Conv__EF.html#aad213768e53dd2ead0ac9f0554300bfb">btd_impl_</a>)&amp;&amp;(<a class="code" href="classOp__Conv__EF.html#a92cfa1fb25cc3c4e08407f73803d7ee9">btd_hors_conv_</a>==1),(<a class="code" href="classOp__Conv__EF.html#ad3db522667ddc56c48ed6e9e74c11606">hourglass_impl_</a>)&amp;&amp;(<a class="code" href="classOp__Conv__EF.html#a0fd689419f4b31be5dda6d2e1b29f6cb">hourglass_hors_conv_</a>==1),0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a14962a4f7b3e569693f21440e11450a1"></a><!-- doxytag: member="Op_Conv_EF::ajouter_contribution_sous_cond" ref="a14962a4f7b3e569693f21440e11450a1" args="(const DoubleTab &amp;transporte, Matrice_Morse &amp;matrice, int btd_impl, int hourglass_impl, int centre_impl) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Op_Conv_EF::ajouter_contribution_sous_cond </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>transporte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;&#160;</td>
          <td class="paramname"><em>matrice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>btd_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hourglass_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>centre_impl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l01033">1033</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8h_source.html#l00086">amont</a>, <a class="el" href="Zone__EF_8h_source.html#l00123">Zone_EF::Bij()</a>, <a class="el" href="Matrice__Morse_8h_source.html#l00162">Matrice_Morse::coef()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00181">coefficient_btd()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="ArrOfDouble_8cpp_source.html#l01277">dotproduct_array()</a>, <a class="el" href="Op__EF__base_8cpp_source.html#l00466">Op_EF_base::elem_contribue()</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="Probleme__base_8cpp_source.html#l01630">Probleme_base::get_champ()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00082">hourglass</a>, <a class="el" href="Zone__EF_8h_source.html#l00135">Zone_EF::IPhi_thilde()</a>, <a class="el" href="O__U__Ptr_8cpp_source.html#l00179">O_U_Ptr::le_nom()</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="DoubleVect_8h_source.html#l00164">DoubleVect::line_size()</a>, <a class="el" href="Zone_8h_source.html#l00319">Zone::nb_elem_tot()</a>, <a class="el" href="Zone_8h_source.html#l00445">Zone::nb_som_elem()</a>, <a class="el" href="Equation__base_8cpp_source.html#l00964">Equation_base::probleme()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="DoubleVect_8h_source.html#l00153">DoubleVect::size()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00088">type_op</a>, <a class="el" href="Source__Generique__Face__PolyMAC_8cpp_source.html#l00045">valeur()</a>, <a class="el" href="Ref__Champ__Inc__base_8h_source.html#l00028">Ref_Champ_Inc_base::valeur()</a>, <a class="el" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">Champ_Proto::valeurs()</a>, <a class="el" href="Champ__Inc__base_8cpp_source.html#l00221">Champ_Inc_base::valeurs()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00080">Op_Conv_EF_base::vitesse_</a>, <a class="el" href="Zone__VF_8h_source.html#l00419">Zone_VF::volumes()</a>, <a class="el" href="Zone__EF_8h_source.html#l00104">Zone_EF::volumes_thilde()</a>, and <a class="el" href="Zone__dis__base_8h_source.html#l00106">Zone_dis_base::zone()</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01159">ajouter_contribution()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l01164">ajouter_contribution_a_la_diffusion()</a>.</p>
<div class="fragment"><pre class="fragment">{

  <span class="keyword">const</span> <a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>&amp; la_vitesse=<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classRef__Champ__Inc__base.html#a17553641a4c06730e1562125e07b3490">valeur</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; G=la_vitesse.<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>();

  <span class="keywordtype">int</span> transport_rhou=0;
  <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classO__U__Ptr.html#a5aae0c48048a40339f3847aa14109231" title="Renvoie ref_().le_nom() si le pointeur est non nul ou &quot;Pointeur Nul&quot;.">le_nom</a>()==<span class="stringliteral">&quot;rho_u&quot;</span>) transport_rhou=1;

  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; rho_elem=(transport_rhou==1 ? <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique_melange&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>() : \
                             <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>());
  <span class="keywordtype">int</span> is_not_rho_unif = (rho_elem.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == 1 ? 0 : 1);

  <span class="keyword">const</span> <a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>&amp; zone_ef=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().zone_dis().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
  <span class="keywordtype">int</span> nb_comp = transporte.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes_thilde= zone_ef.<a class="code" href="classZone__EF.html#abeb5a4c55016615d2fd1a4e4e07fcd58">volumes_thilde</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes= zone_ef.<a class="code" href="classZone__VF.html#aea771c835e561469d2d21dbca5fac1cf" title="renvoie le volume de la maille i.">volumes</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; IPhi_thilde=zone_ef.<a class="code" href="classZone__EF.html#addd84cf676a5e031153effc095d88d35">IPhi_thilde</a>();

  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; bij=zone_ef.<a class="code" href="classZone__EF.html#a1399220391b0ae308681ac13bd7c98c1">Bij</a>();
  <span class="keywordtype">int</span> nb_elem_tot=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
  <span class="keywordtype">int</span> nb_som_elem=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ae0b34a93b9ae8146df2d1884157afe9f" title="Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...">nb_som_elem</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elems=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>() ;
  <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> G_e(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);

  <span class="keywordtype">double</span> f=<a class="code" href="classOp__Conv__EF.html#a8a2724583588026cbcf3a05ae541d0fc">coefficient_btd</a>();
<span class="comment">// DoubleTab transp_loc(nb_som_elem,nb_comp);</span>
<span class="comment">// A DEPLACER !!!!!</span>
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; lambda=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOperateur__Diff__base.html" title="classe Operateur_Diff_base Cette classe est la base de la hierarchie des operateurs representant un t...">Operateur_Diff_base</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().operateur(0).l_op_base()).diffusivite().valeurs();
  <span class="keywordtype">int</span> is_not_lambda_unif=1;
  <span class="keywordflow">if</span> (lambda.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>()==1)
    is_not_lambda_unif=0;

  <span class="keywordtype">int</span> mcoef3d[8]= {1,-1,-1,1,-1,1,1,-1};
  <span class="keywordtype">int</span> sommetoppose[8]= {7,6,5,4,3,2,1,0};
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> elem=0; elem&lt;nb_elem_tot; elem++)
    <span class="keywordflow">if</span> (<a class="code" href="classOp__EF__base.html#a0efe5445b9ba8c161385f5479722147d">elem_contribue</a>(elem))
      {
        G_e=0;
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
          {
            <span class="keywordtype">int</span> glob=elems(elem,i1);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; b++)
              G_e(b)+=G(glob,b);
          }
        G_e/=nb_som_elem;

        <span class="keywordtype">double</span> pond2=volumes_thilde(elem)/volumes(elem)/volumes(elem);

        <span class="keywordflow">if</span> (transport_rhou) pond2 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));

        <span class="keywordflow">if</span> ((<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>)&amp;&amp;(nb_som_elem==8)&amp;&amp;(hourglass_impl==1))
          {
            <span class="keywordtype">double</span> pond3=f*<a class="code" href="ArrOfDouble_8cpp.html#af541bfdadae7483016c96f13760598ac" title="Produit scalaire de deux &quot;array&quot;. (dotproduct_array remplace operator* car le nom indique clairemen...">dotproduct_array</a>(G_e,G_e);
            <span class="keywordflow">if</span> (transport_rhou) pond3 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
            <span class="keywordflow">if</span> (is_not_lambda_unif)
              pond3+=lambda(elem);
            <span class="keywordflow">else</span>
              pond3+=lambda(0,0);
            pond3*=volumes_thilde(elem)/volumes(elem)*pow(volumes(elem),0.3333333333333333);
            pond3*=<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>;

            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
              {
                <span class="keywordtype">double</span> coef2d=0.042*pond3;
                <span class="keywordtype">double</span> coef3d=coef2d*0.5;

                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;8; i1++)
                  {
                    <span class="keywordtype">int</span> n1=elems(elem,i1)*nb_comp+a;
                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i2=0; i2&lt;8; i2++)
                      {
                        <span class="keywordtype">int</span> n2=elems(elem,i2)*nb_comp+a;
                        matrice.<a class="code" href="classMatrice__Morse.html#abc28b59726c121e6196bc7eaa666e970">coef</a>(n1,n2)+=mcoef3d[i1]*mcoef3d[i2]*coef3d-coef2d;
                      }
                    matrice.<a class="code" href="classMatrice__Morse.html#abc28b59726c121e6196bc7eaa666e970">coef</a>(n1,n1)+=coef2d*4.;
                    matrice.<a class="code" href="classMatrice__Morse.html#abc28b59726c121e6196bc7eaa666e970">coef</a>(n1,elems(elem,sommetoppose[i1])*nb_comp+a)+=coef2d*4.;
                  }
              }
          }

        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
          {
            <span class="keywordtype">int</span> glob=elems(elem,i1);

            <span class="keywordflow">if</span> (((btd_impl==1)&amp;&amp;(<a class="code" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">type_op</a>==<a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8">amont</a>))||(centre_impl==1))
              {
                <span class="keywordtype">double</span> cb=0;
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; b++)
                  cb+=G_e(b)*bij(elem,i1,b);
                cb*=(f*pond2);
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i2=0; i2&lt;nb_som_elem; i2++)
                  {
                    <span class="keywordtype">int</span> glob2=elems(elem,i2);

                    <span class="keywordtype">double</span> ca=0;
                    <span class="keywordflow">if</span> (centre_impl==1)
                      {
                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; b++)
                          ca+=G_e(b)*bij(elem,i2,b);
                        <span class="keywordtype">double</span> pond=IPhi_thilde(elem,i1)/volumes(elem);

                        ca*=pond;
                      }
                    <span class="keywordtype">double</span> cc=0;
                    <span class="keywordflow">if</span> ((btd_impl==1)&amp;&amp;(<a class="code" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">type_op</a>==<a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8">amont</a>))
                      {
                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c=0; c&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; c++)
                          cc+=G_e(c)*bij(elem,i2,c);
                        cc*=cb;
                      }
<span class="comment">// resu(glob)-=cc*cb*transp_loc(i2,0);</span>
                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
                      {
                        <span class="keywordtype">int</span> n1=glob*nb_comp+a;
                        <span class="keywordtype">int</span> n2=glob2*nb_comp+a;
                        matrice.<a class="code" href="classMatrice__Morse.html#abc28b59726c121e6196bc7eaa666e970">coef</a>(n1,n2)+=cc+ca;

                      }
                  }
              }
          }
      }
  <span class="keywordflow">return</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a843e2b2c4d9bc3de665260b077782d26"></a><!-- doxytag: member="Op_Conv_EF::ajouter_sous_cond" ref="a843e2b2c4d9bc3de665260b077782d26" args="(const DoubleTab &amp;transporte, DoubleTab &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Op_Conv_EF::ajouter_sous_cond </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>transporte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>resu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>btd_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hourglass_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>centre_impl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l01016">1016</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8cpp_source.html#l00519">ajouter_sous_cond_dim3_nbn8_nbdim1()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00354">ajouter_sous_cond_dim3_nbn8_nbdim2()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00193">ajouter_sous_cond_gen()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="DoubleVect_8h_source.html#l00164">DoubleVect::line_size()</a>, <a class="el" href="Zone_8h_source.html#l00445">Zone::nb_som_elem()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="Source__Generique__Face__PolyMAC_8cpp_source.html#l00045">valeur()</a>, and <a class="el" href="Zone__dis__base_8h_source.html#l00106">Zone_dis_base::zone()</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l00169">ajouter()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00174">ajouter_a_la_diffusion()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01315">contribue_au_second_membre()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l01321">contribue_au_second_membre_a_la_diffusion()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>&amp; zone_ef=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().zone_dis().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
  <span class="keywordtype">int</span> nb_som_elem=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ae0b34a93b9ae8146df2d1884157afe9f" title="Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...">nb_som_elem</a>();
  <span class="keywordtype">int</span> nb_compo=transporte.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>();

  <span class="keywordflow">if</span> ((<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>==3)&amp;&amp;(nb_som_elem==8))
    {
      <span class="keywordflow">if</span> (nb_compo==1)
        <span class="keywordflow">return</span> <a class="code" href="classOp__Conv__EF.html#a8ba1f6f1f53d3f78f9100a5a6360e63d">ajouter_sous_cond_dim3_nbn8_nbdim1</a>(transporte,resu,btd_impl,hourglass_impl,centre_impl);
      <span class="keywordflow">else</span>
        <span class="keywordflow">return</span> <a class="code" href="classOp__Conv__EF.html#aee0145605af027404be5bca5000d9d65">ajouter_sous_cond_dim3_nbn8_nbdim2</a>(transporte,resu,btd_impl,hourglass_impl,centre_impl);
    }
  <span class="keywordflow">return</span> <a class="code" href="classOp__Conv__EF.html#a8d696fed7489bca629ff1c6381277c22">ajouter_sous_cond_gen</a>(transporte,resu,btd_impl,hourglass_impl,centre_impl);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1bde072671f5f9b50859b5bcc2d24c2c"></a><!-- doxytag: member="Op_Conv_EF::ajouter_sous_cond_dim2_nbn4_nbdim1" ref="a1bde072671f5f9b50859b5bcc2d24c2c" args="(const DoubleTab &amp;transporte, DoubleTab &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Op_Conv_EF::ajouter_sous_cond_dim2_nbn4_nbdim1 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>transporte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>resu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>btd_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hourglass_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>centre_impl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00850">850</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Process_8cpp_source.html#l00329">Process::abort()</a>, <a class="el" href="ArrOfDouble_8h_source.html#l00379">ArrOfDouble::addr()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00086">amont</a>, <a class="el" href="Zone__EF_8h_source.html#l00123">Zone_EF::Bij()</a>, <a class="el" href="Op__Conv__EF_8cpp.html#a1891b7a4d3d0ef904a1f27322cfedeec">bij_</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00181">coefficient_btd()</a>, <a class="el" href="ArrOfDouble_8cpp_source.html#l01277">dotproduct_array()</a>, <a class="el" href="DoubleVect_8cpp_source.html#l00277">DoubleVect::echange_espace_virtuel()</a>, <a class="el" href="Op__EF__base_8cpp_source.html#l00466">Op_EF_base::elem_contribue()</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="Double_8h_source.html#l00273">est_egal()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00082">Op_Conv_EF_base::fluent</a>, <a class="el" href="Probleme__base_8cpp_source.html#l01630">Probleme_base::get_champ()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00082">hourglass</a>, <a class="el" href="Zone__EF_8h_source.html#l00135">Zone_EF::IPhi_thilde()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00078">Op_Conv_EF_base::la_zone_EF</a>, <a class="el" href="O__U__Ptr_8cpp_source.html#l00179">O_U_Ptr::le_nom()</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="DoubleVect_8h_source.html#l00164">DoubleVect::line_size()</a>, <a class="el" href="Zone_8h_source.html#l00319">Zone::nb_elem_tot()</a>, <a class="el" href="Equation__base_8cpp_source.html#l00964">Equation_base::probleme()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>, <a class="el" href="DoubleVect_8h_source.html#l00153">DoubleVect::size()</a>, <a class="el" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>, <a class="el" href="Op__Conv__EF_8cpp.html#aec139ab06c54f3c620f1e9944627c994">transporte_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00088">type_op</a>, <a class="el" href="Ref__Champ__Inc__base_8h_source.html#l00028">Ref_Champ_Inc_base::valeur()</a>, <a class="el" href="Ref__Zone__EF_8h_source.html#l00028">Ref_Zone_EF::valeur()</a>, <a class="el" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">Champ_Proto::valeurs()</a>, <a class="el" href="Champ__Inc__base_8cpp_source.html#l00221">Champ_Inc_base::valeurs()</a>, <a class="el" href="Op__Div__VEFP1B__Elem_8cpp_source.html#l00081">verifier()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00080">Op_Conv_EF_base::vitesse_</a>, <a class="el" href="Zone__VF_8h_source.html#l00419">Zone_VF::volumes()</a>, <a class="el" href="Zone__EF_8h_source.html#l00104">Zone_EF::volumes_thilde()</a>, and <a class="el" href="Zone__dis__base_8h_source.html#l00106">Zone_dis_base::zone()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>&amp; zone_ef = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>, <a class="code" href="classOp__Conv__EF__base.html#a4181dffa4d7fa88293cefe4458d355c1">la_zone_EF</a>.<a class="code" href="classRef__Zone__EF.html#ad5f2da15b834bc7d9ca018a566d40715">valeur</a>());
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som_elem=4;


  <span class="keywordflow">if</span> ((btd_impl==1)&amp;&amp;(hourglass_impl==1)&amp;&amp;(centre_impl==1)) <span class="keywordflow">return</span> resu;

  <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; fluent_ = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classDoubleVect.html">DoubleVect</a>, <a class="code" href="classOp__Conv__EF__base.html#aa93385542b3568832bb37ff4f8af6052" title="tableau qui sert pour le calcul du pas de temps de stabilite">fluent</a>);

  <span class="keyword">const</span> <a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>&amp; la_vitesse=<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classRef__Champ__Inc__base.html#a17553641a4c06730e1562125e07b3490">valeur</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; G=la_vitesse.<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>();

  <span class="keywordtype">int</span> transport_rhou=0;
  <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classO__U__Ptr.html#a5aae0c48048a40339f3847aa14109231" title="Renvoie ref_().le_nom() si le pointeur est non nul ou &quot;Pointeur Nul&quot;.">le_nom</a>()==<span class="stringliteral">&quot;rho_u&quot;</span>) transport_rhou=1;
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; rho_elem=(transport_rhou==1 ? <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique_melange&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>() : \
                             <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>());
  <span class="keywordtype">int</span> is_not_rho_unif = (rho_elem.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == 1 ? 0 : 1);

  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv vitesse&quot;</span>,G);
  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv rho&quot;</span>,rho_elem);
  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv transporte&quot;</span>,transporte);
  <span class="keywordtype">int</span> nb_comp0 = resu.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes_thilde= zone_ef.<a class="code" href="classZone__EF.html#abeb5a4c55016615d2fd1a4e4e07fcd58">volumes_thilde</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes= zone_ef.<a class="code" href="classZone__VF.html#aea771c835e561469d2d21dbca5fac1cf" title="renvoie le volume de la maille i.">volumes</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; IPhi_thilde=zone_ef.<a class="code" href="classZone__EF.html#addd84cf676a5e031153effc095d88d35">IPhi_thilde</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; bij=zone_ef.<a class="code" href="classZone__EF.html#a1399220391b0ae308681ac13bd7c98c1">Bij</a>();
  <span class="keywordtype">int</span> nb_elem_tot=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elems=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>() ;
  <span class="keywordtype">double</span> f= <a class="code" href="classOp__Conv__EF.html#a8a2724583588026cbcf3a05ae541d0fc">coefficient_btd</a>();

  <span class="keywordtype">int</span> mcoef3d[8]= {1,-1,-1,1,-1,1,1,-1};
  <span class="keywordtype">int</span> sommetoppose[8]= {7,6,5,4,3,2,1,0};

  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> transp_loc(nb_som_elem,nb_comp0);
<span class="comment">// A DEPLACER !!!!!</span>
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; lambda=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOperateur__Diff__base.html" title="classe Operateur_Diff_base Cette classe est la base de la hierarchie des operateurs representant un t...">Operateur_Diff_base</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().operateur(0).l_op_base()).diffusivite().valeurs();
  <span class="keywordtype">int</span> is_not_lambda_unif=1;
  <span class="keywordflow">if</span> (lambda.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>()==1) is_not_lambda_unif=0;

  <span class="keyword">const</span> <span class="keywordtype">int</span> const_dimension= 2;
<span class="comment">// const int nb_som_elem= 4;</span>
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_comp=1;
  <span class="keyword">const</span> <span class="keywordtype">int</span> dim_fois_nbn=8;
  <span class="keywordflow">if</span> (nb_comp0!=nb_comp) <a class="code" href="classProcess.html#a6a4b64571b10f150a70db229b839e881" title="Routine de sortie de Trio-U sur une erreur abort()">abort</a>();

  <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> G_e(const_dimension);
  <span class="keywordtype">double</span> pr[nb_comp],ge_bij[nb_som_elem];
  <span class="keyword">const</span> <span class="keywordtype">double</span>* bij_ptr=bij.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();
  <span class="keyword">const</span> <span class="keywordtype">double</span>* transp_loc_ptr=transp_loc.addr();
  <span class="keyword">const</span> <span class="keywordtype">double</span>* transporte_ptr=transporte.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();
  <span class="keywordtype">double</span>* resu_ptr=resu.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();

<span class="preprocessor">#define bij_(elem,i,j) bij_ptr[elem*dim_fois_nbn+i*const_dimension+j]</span>
<span class="preprocessor"></span><span class="preprocessor">#define transp_loc_(som,a) transp_loc_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span><span class="preprocessor">#define transporte_(som,a) transporte_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define resu_(som,a) resu_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span>
  <span class="keywordtype">double</span> inv_nb_som_elem=1./nb_som_elem;
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> elem=0; elem&lt;nb_elem_tot; elem++)
    <span class="keywordflow">if</span> (<a class="code" href="classOp__EF__base.html#a0efe5445b9ba8c161385f5479722147d">elem_contribue</a>(elem))
      {
        G_e=0;
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
          {
            <span class="keywordtype">int</span> glob=elems(elem,i1);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;const_dimension; b++)
              G_e[b]+=G(glob,b);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
              transp_loc(i1,a)=<a class="code" href="Op__Conv__EF_8cpp.html#aec139ab06c54f3c620f1e9944627c994">transporte_</a>(glob,a);
          }
        G_e*=inv_nb_som_elem;
<span class="comment">// Cerr&lt;&lt;&quot; coucou &quot;&lt;&lt;G_e&lt;&lt;finl;</span>
<span class="comment">// *10 !!!!!!!!!!!</span>
        <span class="keywordtype">double</span> vol_elem=volumes(elem);
        <span class="keywordtype">double</span> inv_vol_elem=1./vol_elem;
        <span class="keywordtype">double</span> pond2=volumes_thilde(elem)*inv_vol_elem*inv_vol_elem;

        <span class="keywordflow">if</span> (transport_rhou)
          pond2 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
        <span class="keywordtype">double</span> fpond2=f*pond2;

        <span class="keywordflow">if</span> ((<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>)&amp;&amp;(nb_som_elem==8)&amp;&amp;(hourglass_impl==0))
          {
            <span class="keywordtype">double</span> pond3=f*<a class="code" href="ArrOfDouble_8cpp.html#af541bfdadae7483016c96f13760598ac" title="Produit scalaire de deux &quot;array&quot;. (dotproduct_array remplace operator* car le nom indique clairemen...">dotproduct_array</a>(G_e,G_e);
            <span class="keywordflow">if</span> (transport_rhou) pond3 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
            <span class="keywordflow">if</span> (is_not_lambda_unif)
              pond3+=lambda(elem);
            <span class="keywordflow">else</span>
              pond3+=lambda(0,0);
            pond3*=volumes_thilde(elem)*inv_vol_elem*pow(vol_elem,0.3333333333333333);
            pond3*=<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>;

            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
              {
                <span class="keywordtype">double</span> coef2d=0.042*pond3;
                <span class="keywordtype">double</span> coef3d=coef2d*0.5;

                <span class="keywordtype">double</span> t0=-coef2d*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(0,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(1,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(2,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(3,a)
                                   +<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(4,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(5,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(6,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(7,a));

                <span class="keywordtype">double</span> t3d=0;
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;8; i++) t3d+=mcoef3d[i]*<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i,a);
                t3d*=coef3d;
                <span class="keywordtype">double</span> t3db=coef3d*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(0,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(1,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(3,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(2,a)
                                    -<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(4,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(5,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(7,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(6,a));
                <span class="keywordflow">if</span> (!<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(t3d,t3db,1e-6)) assert(0);
                <span class="comment">/*</span>
<span class="comment">                double t1=t0+coef2d*4.*(transp_loc_(0,a)+transp_loc_(7,a));</span>
<span class="comment">                double t2=t0+coef2d*4.*(transp_loc_(1,a)+transp_loc_(6,a));</span>
<span class="comment">                double t3=t0+coef2d*4.*(transp_loc_(3,a)+transp_loc_(4,a));</span>
<span class="comment">                double t4=t0+coef2d*4.*(transp_loc_(2,a)+transp_loc_(5,a));</span>
<span class="comment">                */</span>
<span class="comment">// if (elem==0) Cerr&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;t3d&lt;&lt;&quot; iiiiii &quot;&lt;&lt;t1&lt;&lt;&quot; &quot;&lt;&lt;pond3&lt;&lt;&quot; &quot;&lt;&lt;f&lt;&lt;finl;</span>
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;8; i++)
                  <a class="code" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>(elems(elem,i),a)-=mcoef3d[i]*t3d+t0+coef2d*4.*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(sommetoppose[i],a));
              }
          }

        {
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=0; yy&lt;nb_som_elem; yy++) ge_bij[yy]=0;
          <span class="keywordflow">if</span> ((centre_impl==0)||(btd_impl==0))
            {
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
                {
                  <span class="keywordtype">double</span> cb=0;
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;const_dimension; b++)
                    cb+=G_e[b]*<a class="code" href="Op__Conv__EF_8cpp.html#a1891b7a4d3d0ef904a1f27322cfedeec">bij_</a>(elem,i1,b);
                  ge_bij[i1]=cb;
                }
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
                {
                  <span class="keywordtype">double</span> pond=0;
                  <span class="keywordflow">if</span> (centre_impl==0) pond=IPhi_thilde(elem,i1)*inv_vol_elem;
                  <span class="keywordtype">int</span> glob=elems(elem,i1);
<span class="comment">// pr=0;</span>
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=0; yy&lt;nb_comp; yy++) pr[yy]=0;

                  <span class="keywordtype">double</span> cbbtd=pond;
                  <span class="keywordflow">if</span> ((btd_impl==0)&amp;&amp;(<a class="code" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">type_op</a>==<a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8">amont</a>))
                    cbbtd+=ge_bij[i1]*(fpond2);
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i2=0; i2&lt;nb_som_elem; i2++)
                    {
                      <span class="keyword">const</span> <span class="keywordtype">double</span> cbi2=ge_bij[i2];
                      <span class="keywordtype">double</span> coef=cbbtd*cbi2;
                      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
                        pr[a]-=coef*<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i2,a);
                    }
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
                    <a class="code" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>(glob,a)+=pr[a];
                }
            }
        }
      }

  fluent_.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
  <span class="keywordflow">return</span> resu;
<span class="preprocessor">#undef bij_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef transp_loc_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef transporte_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef resu_</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a2ea2ac370a235e95bff068ba638d3038"></a><!-- doxytag: member="Op_Conv_EF::ajouter_sous_cond_dim2_nbn4_nbdim2" ref="a2ea2ac370a235e95bff068ba638d3038" args="(const DoubleTab &amp;transporte, DoubleTab &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Op_Conv_EF::ajouter_sous_cond_dim2_nbn4_nbdim2 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>transporte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>resu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>btd_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hourglass_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>centre_impl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00685">685</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Process_8cpp_source.html#l00329">Process::abort()</a>, <a class="el" href="ArrOfDouble_8h_source.html#l00379">ArrOfDouble::addr()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00086">amont</a>, <a class="el" href="Zone__EF_8h_source.html#l00123">Zone_EF::Bij()</a>, <a class="el" href="Op__Conv__EF_8cpp.html#a1891b7a4d3d0ef904a1f27322cfedeec">bij_</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00181">coefficient_btd()</a>, <a class="el" href="ArrOfDouble_8cpp_source.html#l01277">dotproduct_array()</a>, <a class="el" href="DoubleVect_8cpp_source.html#l00277">DoubleVect::echange_espace_virtuel()</a>, <a class="el" href="Op__EF__base_8cpp_source.html#l00466">Op_EF_base::elem_contribue()</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="Double_8h_source.html#l00273">est_egal()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00082">Op_Conv_EF_base::fluent</a>, <a class="el" href="Probleme__base_8cpp_source.html#l01630">Probleme_base::get_champ()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00082">hourglass</a>, <a class="el" href="Zone__EF_8h_source.html#l00135">Zone_EF::IPhi_thilde()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00078">Op_Conv_EF_base::la_zone_EF</a>, <a class="el" href="O__U__Ptr_8cpp_source.html#l00179">O_U_Ptr::le_nom()</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="DoubleVect_8h_source.html#l00164">DoubleVect::line_size()</a>, <a class="el" href="Zone_8h_source.html#l00319">Zone::nb_elem_tot()</a>, <a class="el" href="Equation__base_8cpp_source.html#l00964">Equation_base::probleme()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>, <a class="el" href="DoubleVect_8h_source.html#l00153">DoubleVect::size()</a>, <a class="el" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>, <a class="el" href="Op__Conv__EF_8cpp.html#aec139ab06c54f3c620f1e9944627c994">transporte_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00088">type_op</a>, <a class="el" href="Ref__Champ__Inc__base_8h_source.html#l00028">Ref_Champ_Inc_base::valeur()</a>, <a class="el" href="Ref__Zone__EF_8h_source.html#l00028">Ref_Zone_EF::valeur()</a>, <a class="el" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">Champ_Proto::valeurs()</a>, <a class="el" href="Champ__Inc__base_8cpp_source.html#l00221">Champ_Inc_base::valeurs()</a>, <a class="el" href="Op__Div__VEFP1B__Elem_8cpp_source.html#l00081">verifier()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00080">Op_Conv_EF_base::vitesse_</a>, <a class="el" href="Zone__VF_8h_source.html#l00419">Zone_VF::volumes()</a>, <a class="el" href="Zone__EF_8h_source.html#l00104">Zone_EF::volumes_thilde()</a>, and <a class="el" href="Zone__dis__base_8h_source.html#l00106">Zone_dis_base::zone()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>&amp; zone_ef = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>, <a class="code" href="classOp__Conv__EF__base.html#a4181dffa4d7fa88293cefe4458d355c1">la_zone_EF</a>.<a class="code" href="classRef__Zone__EF.html#ad5f2da15b834bc7d9ca018a566d40715">valeur</a>());
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som_elem=4;


  <span class="keywordflow">if</span> ((btd_impl==1)&amp;&amp;(hourglass_impl==1)&amp;&amp;(centre_impl==1)) <span class="keywordflow">return</span> resu;

  <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; fluent_ = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classDoubleVect.html">DoubleVect</a>, <a class="code" href="classOp__Conv__EF__base.html#aa93385542b3568832bb37ff4f8af6052" title="tableau qui sert pour le calcul du pas de temps de stabilite">fluent</a>);

  <span class="keyword">const</span> <a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>&amp; la_vitesse=<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classRef__Champ__Inc__base.html#a17553641a4c06730e1562125e07b3490">valeur</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; G=la_vitesse.<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>();

  <span class="keywordtype">int</span> transport_rhou=0;
  <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classO__U__Ptr.html#a5aae0c48048a40339f3847aa14109231" title="Renvoie ref_().le_nom() si le pointeur est non nul ou &quot;Pointeur Nul&quot;.">le_nom</a>()==<span class="stringliteral">&quot;rho_u&quot;</span>) transport_rhou=1;
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; rho_elem=(transport_rhou==1 ? <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique_melange&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>() : \
                             <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>());
  <span class="keywordtype">int</span> is_not_rho_unif = (rho_elem.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == 1 ? 0 : 1);

  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv vitesse&quot;</span>,G);
  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv rho&quot;</span>,rho_elem);
  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv transporte&quot;</span>,transporte);
  <span class="keywordtype">int</span> nb_comp0 = resu.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes_thilde= zone_ef.<a class="code" href="classZone__EF.html#abeb5a4c55016615d2fd1a4e4e07fcd58">volumes_thilde</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes= zone_ef.<a class="code" href="classZone__VF.html#aea771c835e561469d2d21dbca5fac1cf" title="renvoie le volume de la maille i.">volumes</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; IPhi_thilde=zone_ef.<a class="code" href="classZone__EF.html#addd84cf676a5e031153effc095d88d35">IPhi_thilde</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; bij=zone_ef.<a class="code" href="classZone__EF.html#a1399220391b0ae308681ac13bd7c98c1">Bij</a>();
  <span class="keywordtype">int</span> nb_elem_tot=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elems=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>() ;
  <span class="keywordtype">double</span> f= <a class="code" href="classOp__Conv__EF.html#a8a2724583588026cbcf3a05ae541d0fc">coefficient_btd</a>();

  <span class="keywordtype">int</span> mcoef3d[8]= {1,-1,-1,1,-1,1,1,-1};
  <span class="keywordtype">int</span> sommetoppose[8]= {7,6,5,4,3,2,1,0};

  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> transp_loc(nb_som_elem,nb_comp0);
<span class="comment">// A DEPLACER !!!!!</span>
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; lambda=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOperateur__Diff__base.html" title="classe Operateur_Diff_base Cette classe est la base de la hierarchie des operateurs representant un t...">Operateur_Diff_base</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().operateur(0).l_op_base()).diffusivite().valeurs();
  <span class="keywordtype">int</span> is_not_lambda_unif=1;
  <span class="keywordflow">if</span> (lambda.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>()==1) is_not_lambda_unif=0;

  <span class="keyword">const</span> <span class="keywordtype">int</span> const_dimension= 2;
<span class="comment">// const int nb_som_elem= 4;</span>
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_comp=2;
  <span class="keyword">const</span> <span class="keywordtype">int</span> dim_fois_nbn=8;
  <span class="keywordflow">if</span> (nb_comp0!=nb_comp) <a class="code" href="classProcess.html#a6a4b64571b10f150a70db229b839e881" title="Routine de sortie de Trio-U sur une erreur abort()">abort</a>();

  <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> G_e(const_dimension);
  <span class="keywordtype">double</span> pr[nb_comp],ge_bij[nb_som_elem];
  <span class="keyword">const</span> <span class="keywordtype">double</span>* bij_ptr=bij.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();
  <span class="keyword">const</span> <span class="keywordtype">double</span>* transp_loc_ptr=transp_loc.addr();
  <span class="keyword">const</span> <span class="keywordtype">double</span>* transporte_ptr=transporte.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();
  <span class="keywordtype">double</span>* resu_ptr=resu.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();

<span class="preprocessor">#define bij_(elem,i,j) bij_ptr[elem*dim_fois_nbn+i*const_dimension+j]</span>
<span class="preprocessor"></span><span class="preprocessor">#define transp_loc_(som,a) transp_loc_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span><span class="preprocessor">#define transporte_(som,a) transporte_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define resu_(som,a) resu_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span>
  <span class="keywordtype">double</span> inv_nb_som_elem=1./nb_som_elem;
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> elem=0; elem&lt;nb_elem_tot; elem++)
    <span class="keywordflow">if</span> (<a class="code" href="classOp__EF__base.html#a0efe5445b9ba8c161385f5479722147d">elem_contribue</a>(elem))
      {
        G_e=0;
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
          {
            <span class="keywordtype">int</span> glob=elems(elem,i1);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;const_dimension; b++)
              G_e[b]+=G(glob,b);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
              transp_loc(i1,a)=<a class="code" href="Op__Conv__EF_8cpp.html#aec139ab06c54f3c620f1e9944627c994">transporte_</a>(glob,a);
          }
        G_e*=inv_nb_som_elem;
<span class="comment">// Cerr&lt;&lt;&quot; coucou &quot;&lt;&lt;G_e&lt;&lt;finl;</span>
<span class="comment">// *10 !!!!!!!!!!!</span>
        <span class="keywordtype">double</span> vol_elem=volumes(elem);
        <span class="keywordtype">double</span> inv_vol_elem=1./vol_elem;
        <span class="keywordtype">double</span> pond2=volumes_thilde(elem)*inv_vol_elem*inv_vol_elem;

        <span class="keywordflow">if</span> (transport_rhou)
          pond2 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
        <span class="keywordtype">double</span> fpond2=f*pond2;

        <span class="keywordflow">if</span> ((<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>)&amp;&amp;(nb_som_elem==8)&amp;&amp;(hourglass_impl==0))
          {
            <span class="keywordtype">double</span> pond3=f*<a class="code" href="ArrOfDouble_8cpp.html#af541bfdadae7483016c96f13760598ac" title="Produit scalaire de deux &quot;array&quot;. (dotproduct_array remplace operator* car le nom indique clairemen...">dotproduct_array</a>(G_e,G_e);
            <span class="keywordflow">if</span> (transport_rhou) pond3 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
            <span class="keywordflow">if</span> (is_not_lambda_unif)
              pond3+=lambda(elem);
            <span class="keywordflow">else</span>
              pond3+=lambda(0,0);
            pond3*=volumes_thilde(elem)*inv_vol_elem*pow(vol_elem,0.3333333333333333);
            pond3*=<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>;

            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
              {
                <span class="keywordtype">double</span> coef2d=0.042*pond3;
                <span class="keywordtype">double</span> coef3d=coef2d*0.5;

                <span class="keywordtype">double</span> t0=-coef2d*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(0,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(1,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(2,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(3,a)
                                   +<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(4,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(5,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(6,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(7,a));

                <span class="keywordtype">double</span> t3d=0;
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;8; i++) t3d+=mcoef3d[i]*<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i,a);
                t3d*=coef3d;
                <span class="keywordtype">double</span> t3db=coef3d*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(0,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(1,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(3,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(2,a)
                                    -<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(4,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(5,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(7,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(6,a));
                <span class="keywordflow">if</span> (!<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(t3d,t3db,1e-6)) assert(0);
                <span class="comment">/*</span>
<span class="comment">                double t1=t0+coef2d*4.*(transp_loc_(0,a)+transp_loc_(7,a));</span>
<span class="comment">                double t2=t0+coef2d*4.*(transp_loc_(1,a)+transp_loc_(6,a));</span>
<span class="comment">                double t3=t0+coef2d*4.*(transp_loc_(3,a)+transp_loc_(4,a));</span>
<span class="comment">                double t4=t0+coef2d*4.*(transp_loc_(2,a)+transp_loc_(5,a));</span>
<span class="comment">                */</span>
<span class="comment">// if (elem==0) Cerr&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;t3d&lt;&lt;&quot; iiiiii &quot;&lt;&lt;t1&lt;&lt;&quot; &quot;&lt;&lt;pond3&lt;&lt;&quot; &quot;&lt;&lt;f&lt;&lt;finl;</span>
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;8; i++)
                  <a class="code" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>(elems(elem,i),a)-=mcoef3d[i]*t3d+t0+coef2d*4.*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(sommetoppose[i],a));
              }
          }

        {
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=0; yy&lt;nb_som_elem; yy++) ge_bij[yy]=0;
          <span class="keywordflow">if</span> ((centre_impl==0)||(btd_impl==0))
            {
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
                {
                  <span class="keywordtype">double</span> cb=0;
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;const_dimension; b++)
                    cb+=G_e[b]*<a class="code" href="Op__Conv__EF_8cpp.html#a1891b7a4d3d0ef904a1f27322cfedeec">bij_</a>(elem,i1,b);
                  ge_bij[i1]=cb;
                }
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
                {
                  <span class="keywordtype">double</span> pond=0;
                  <span class="keywordflow">if</span> (centre_impl==0) pond=IPhi_thilde(elem,i1)*inv_vol_elem;
                  <span class="keywordtype">int</span> glob=elems(elem,i1);
<span class="comment">// pr=0;</span>
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=0; yy&lt;nb_comp; yy++) pr[yy]=0;

                  <span class="keywordtype">double</span> cbbtd=pond;
                  <span class="keywordflow">if</span> ((btd_impl==0)&amp;&amp;(<a class="code" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">type_op</a>==<a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8">amont</a>))
                    cbbtd+=ge_bij[i1]*(fpond2);
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i2=0; i2&lt;nb_som_elem; i2++)
                    {
                      <span class="keyword">const</span> <span class="keywordtype">double</span> cbi2=ge_bij[i2];
                      <span class="keywordtype">double</span> coef=cbbtd*cbi2;
                      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
                        pr[a]-=coef*<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i2,a);
                    }
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
                    <a class="code" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>(glob,a)+=pr[a];
                }
            }
        }
      }

  fluent_.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
  <span class="keywordflow">return</span> resu;
<span class="preprocessor">#undef bij_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef transp_loc_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef transporte_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef resu_</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a8ba1f6f1f53d3f78f9100a5a6360e63d"></a><!-- doxytag: member="Op_Conv_EF::ajouter_sous_cond_dim3_nbn8_nbdim1" ref="a8ba1f6f1f53d3f78f9100a5a6360e63d" args="(const DoubleTab &amp;transporte, DoubleTab &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Op_Conv_EF::ajouter_sous_cond_dim3_nbn8_nbdim1 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>transporte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>resu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>btd_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hourglass_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>centre_impl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00519">519</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Process_8cpp_source.html#l00329">Process::abort()</a>, <a class="el" href="ArrOfDouble_8h_source.html#l00379">ArrOfDouble::addr()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00086">amont</a>, <a class="el" href="Zone__EF_8h_source.html#l00123">Zone_EF::Bij()</a>, <a class="el" href="Op__Conv__EF_8cpp.html#a1891b7a4d3d0ef904a1f27322cfedeec">bij_</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00181">coefficient_btd()</a>, <a class="el" href="ArrOfDouble_8cpp_source.html#l01277">dotproduct_array()</a>, <a class="el" href="DoubleVect_8cpp_source.html#l00277">DoubleVect::echange_espace_virtuel()</a>, <a class="el" href="Op__EF__base_8cpp_source.html#l00466">Op_EF_base::elem_contribue()</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="Double_8h_source.html#l00273">est_egal()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00082">Op_Conv_EF_base::fluent</a>, <a class="el" href="Probleme__base_8cpp_source.html#l01630">Probleme_base::get_champ()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00082">hourglass</a>, <a class="el" href="Zone__EF_8h_source.html#l00135">Zone_EF::IPhi_thilde()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00078">Op_Conv_EF_base::la_zone_EF</a>, <a class="el" href="O__U__Ptr_8cpp_source.html#l00179">O_U_Ptr::le_nom()</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="DoubleVect_8h_source.html#l00164">DoubleVect::line_size()</a>, <a class="el" href="Zone_8h_source.html#l00319">Zone::nb_elem_tot()</a>, <a class="el" href="Equation__base_8cpp_source.html#l00964">Equation_base::probleme()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>, <a class="el" href="DoubleVect_8h_source.html#l00153">DoubleVect::size()</a>, <a class="el" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>, <a class="el" href="Op__Conv__EF_8cpp.html#aec139ab06c54f3c620f1e9944627c994">transporte_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00088">type_op</a>, <a class="el" href="Ref__Champ__Inc__base_8h_source.html#l00028">Ref_Champ_Inc_base::valeur()</a>, <a class="el" href="Ref__Zone__EF_8h_source.html#l00028">Ref_Zone_EF::valeur()</a>, <a class="el" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">Champ_Proto::valeurs()</a>, <a class="el" href="Champ__Inc__base_8cpp_source.html#l00221">Champ_Inc_base::valeurs()</a>, <a class="el" href="Op__Div__VEFP1B__Elem_8cpp_source.html#l00081">verifier()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00080">Op_Conv_EF_base::vitesse_</a>, <a class="el" href="Zone__VF_8h_source.html#l00419">Zone_VF::volumes()</a>, <a class="el" href="Zone__EF_8h_source.html#l00104">Zone_EF::volumes_thilde()</a>, and <a class="el" href="Zone__dis__base_8h_source.html#l00106">Zone_dis_base::zone()</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01016">ajouter_sous_cond()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>&amp; zone_ef = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>, <a class="code" href="classOp__Conv__EF__base.html#a4181dffa4d7fa88293cefe4458d355c1">la_zone_EF</a>.<a class="code" href="classRef__Zone__EF.html#ad5f2da15b834bc7d9ca018a566d40715">valeur</a>());
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som_elem=8;


  <span class="keywordflow">if</span> ((btd_impl==1)&amp;&amp;(hourglass_impl==1)&amp;&amp;(centre_impl==1)) <span class="keywordflow">return</span> resu;

  <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; fluent_ = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classDoubleVect.html">DoubleVect</a>, <a class="code" href="classOp__Conv__EF__base.html#aa93385542b3568832bb37ff4f8af6052" title="tableau qui sert pour le calcul du pas de temps de stabilite">fluent</a>);

  <span class="keyword">const</span> <a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>&amp; la_vitesse=<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classRef__Champ__Inc__base.html#a17553641a4c06730e1562125e07b3490">valeur</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; G=la_vitesse.<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>();

  <span class="keywordtype">int</span> transport_rhou=0;
  <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classO__U__Ptr.html#a5aae0c48048a40339f3847aa14109231" title="Renvoie ref_().le_nom() si le pointeur est non nul ou &quot;Pointeur Nul&quot;.">le_nom</a>()==<span class="stringliteral">&quot;rho_u&quot;</span>) transport_rhou=1;
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; rho_elem=(transport_rhou==1 ? <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique_melange&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>() : \
                             <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>());
  <span class="keywordtype">int</span> is_not_rho_unif = (rho_elem.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == 1 ? 0 : 1);

  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv vitesse&quot;</span>,G);
  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv rho&quot;</span>,rho_elem);
  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv transporte&quot;</span>,transporte);
  <span class="keywordtype">int</span> nb_comp0 = resu.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes_thilde= zone_ef.<a class="code" href="classZone__EF.html#abeb5a4c55016615d2fd1a4e4e07fcd58">volumes_thilde</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes= zone_ef.<a class="code" href="classZone__VF.html#aea771c835e561469d2d21dbca5fac1cf" title="renvoie le volume de la maille i.">volumes</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; IPhi_thilde=zone_ef.<a class="code" href="classZone__EF.html#addd84cf676a5e031153effc095d88d35">IPhi_thilde</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; bij=zone_ef.<a class="code" href="classZone__EF.html#a1399220391b0ae308681ac13bd7c98c1">Bij</a>();
  <span class="keywordtype">int</span> nb_elem_tot=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elems=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>() ;
  <span class="keywordtype">double</span> f= <a class="code" href="classOp__Conv__EF.html#a8a2724583588026cbcf3a05ae541d0fc">coefficient_btd</a>();

  <span class="keywordtype">int</span> mcoef3d[8]= {1,-1,-1,1,-1,1,1,-1};
  <span class="keywordtype">int</span> sommetoppose[8]= {7,6,5,4,3,2,1,0};

  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> transp_loc(nb_som_elem,nb_comp0);
<span class="comment">// A DEPLACER !!!!!</span>
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; lambda=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOperateur__Diff__base.html" title="classe Operateur_Diff_base Cette classe est la base de la hierarchie des operateurs representant un t...">Operateur_Diff_base</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().operateur(0).l_op_base()).diffusivite().valeurs();
  <span class="keywordtype">int</span> is_not_lambda_unif=1;
  <span class="keywordflow">if</span> (lambda.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>()==1) is_not_lambda_unif=0;

  <span class="keyword">const</span> <span class="keywordtype">int</span> const_dimension= 3;
<span class="comment">// const int nb_som_elem= 8;</span>
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_comp=1;
  <span class="keyword">const</span> <span class="keywordtype">int</span> dim_fois_nbn=24;
  <span class="keywordflow">if</span> (nb_comp0!=nb_comp) <a class="code" href="classProcess.html#a6a4b64571b10f150a70db229b839e881" title="Routine de sortie de Trio-U sur une erreur abort()">abort</a>();

  <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> G_e(const_dimension);
  <span class="keywordtype">double</span> pr[nb_comp],ge_bij[nb_som_elem];
  <span class="keyword">const</span> <span class="keywordtype">double</span>* bij_ptr=bij.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();
  <span class="keyword">const</span> <span class="keywordtype">double</span>* transp_loc_ptr=transp_loc.addr();
  <span class="keyword">const</span> <span class="keywordtype">double</span>* transporte_ptr=transporte.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();
  <span class="keywordtype">double</span>* resu_ptr=resu.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();

<span class="preprocessor">#define bij_(elem,i,j) bij_ptr[elem*dim_fois_nbn+i*const_dimension+j]</span>
<span class="preprocessor"></span><span class="preprocessor">#define transp_loc_(som,a) transp_loc_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span><span class="preprocessor">#define transporte_(som,a) transporte_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define resu_(som,a) resu_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span>
  <span class="keywordtype">double</span> inv_nb_som_elem=1./nb_som_elem;
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> elem=0; elem&lt;nb_elem_tot; elem++)
    <span class="keywordflow">if</span> (<a class="code" href="classOp__EF__base.html#a0efe5445b9ba8c161385f5479722147d">elem_contribue</a>(elem))
      {
        G_e=0;
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
          {
            <span class="keywordtype">int</span> glob=elems(elem,i1);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;const_dimension; b++)
              G_e[b]+=G(glob,b);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
              transp_loc(i1,a)=<a class="code" href="Op__Conv__EF_8cpp.html#aec139ab06c54f3c620f1e9944627c994">transporte_</a>(glob,a);
          }
        G_e*=inv_nb_som_elem;
<span class="comment">// Cerr&lt;&lt;&quot; coucou &quot;&lt;&lt;G_e&lt;&lt;finl;</span>
<span class="comment">// *10 !!!!!!!!!!!</span>
        <span class="keywordtype">double</span> vol_elem=volumes(elem);
        <span class="keywordtype">double</span> inv_vol_elem=1./vol_elem;
        <span class="keywordtype">double</span> pond2=volumes_thilde(elem)*inv_vol_elem*inv_vol_elem;

        <span class="keywordflow">if</span> (transport_rhou)
          pond2 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
        <span class="keywordtype">double</span> fpond2=f*pond2;

        <span class="keywordflow">if</span> ((<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>)&amp;&amp;(nb_som_elem==8)&amp;&amp;(hourglass_impl==0))
          {
            <span class="keywordtype">double</span> pond3=f*<a class="code" href="ArrOfDouble_8cpp.html#af541bfdadae7483016c96f13760598ac" title="Produit scalaire de deux &quot;array&quot;. (dotproduct_array remplace operator* car le nom indique clairemen...">dotproduct_array</a>(G_e,G_e);
            <span class="keywordflow">if</span> (transport_rhou) pond3 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
            <span class="keywordflow">if</span> (is_not_lambda_unif)
              pond3+=lambda(elem);
            <span class="keywordflow">else</span>
              pond3+=lambda(0,0);
            pond3*=volumes_thilde(elem)*inv_vol_elem*pow(vol_elem,0.3333333333333333);
            pond3*=<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>;

            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
              {
                <span class="keywordtype">double</span> coef2d=0.042*pond3;
                <span class="keywordtype">double</span> coef3d=coef2d*0.5;

                <span class="keywordtype">double</span> t0=-coef2d*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(0,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(1,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(2,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(3,a)
                                   +<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(4,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(5,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(6,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(7,a));

                <span class="keywordtype">double</span> t3d=0;
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;8; i++) t3d+=mcoef3d[i]*<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i,a);
                t3d*=coef3d;
                <span class="keywordtype">double</span> t3db=coef3d*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(0,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(1,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(3,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(2,a)
                                    -<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(4,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(5,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(7,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(6,a));
                <span class="keywordflow">if</span> (!<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(t3d,t3db,1e-6)) assert(0);
                <span class="comment">/*</span>
<span class="comment">                double t1=t0+coef2d*4.*(transp_loc_(0,a)+transp_loc_(7,a));</span>
<span class="comment">                double t2=t0+coef2d*4.*(transp_loc_(1,a)+transp_loc_(6,a));</span>
<span class="comment">                double t3=t0+coef2d*4.*(transp_loc_(3,a)+transp_loc_(4,a));</span>
<span class="comment">                double t4=t0+coef2d*4.*(transp_loc_(2,a)+transp_loc_(5,a));</span>
<span class="comment">                */</span>
<span class="comment">// if (elem==0) Cerr&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;t3d&lt;&lt;&quot; iiiiii &quot;&lt;&lt;t1&lt;&lt;&quot; &quot;&lt;&lt;pond3&lt;&lt;&quot; &quot;&lt;&lt;f&lt;&lt;finl;</span>
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;8; i++)
                  <a class="code" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>(elems(elem,i),a)-=mcoef3d[i]*t3d+t0+coef2d*4.*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(sommetoppose[i],a));
              }
          }

        {
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=0; yy&lt;nb_som_elem; yy++) ge_bij[yy]=0;
          <span class="keywordflow">if</span> ((centre_impl==0)||(btd_impl==0))
            {
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
                {
                  <span class="keywordtype">double</span> cb=0;
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;const_dimension; b++)
                    cb+=G_e[b]*<a class="code" href="Op__Conv__EF_8cpp.html#a1891b7a4d3d0ef904a1f27322cfedeec">bij_</a>(elem,i1,b);
                  ge_bij[i1]=cb;
                }
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
                {
                  <span class="keywordtype">double</span> pond=0;
                  <span class="keywordflow">if</span> (centre_impl==0) pond=IPhi_thilde(elem,i1)*inv_vol_elem;
                  <span class="keywordtype">int</span> glob=elems(elem,i1);
<span class="comment">// pr=0;</span>
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=0; yy&lt;nb_comp; yy++) pr[yy]=0;

                  <span class="keywordtype">double</span> cbbtd=pond;
                  <span class="keywordflow">if</span> ((btd_impl==0)&amp;&amp;(<a class="code" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">type_op</a>==<a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8">amont</a>))
                    cbbtd+=ge_bij[i1]*(fpond2);
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i2=0; i2&lt;nb_som_elem; i2++)
                    {
                      <span class="keyword">const</span> <span class="keywordtype">double</span> cbi2=ge_bij[i2];
                      <span class="keywordtype">double</span> coef=cbbtd*cbi2;
                      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
                        pr[a]-=coef*<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i2,a);
                    }
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
                    <a class="code" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>(glob,a)+=pr[a];
                }
            }
        }
      }

  fluent_.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
  <span class="keywordflow">return</span> resu;
<span class="preprocessor">#undef bij_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef transp_loc_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef transporte_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef resu_</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="aee0145605af027404be5bca5000d9d65"></a><!-- doxytag: member="Op_Conv_EF::ajouter_sous_cond_dim3_nbn8_nbdim2" ref="aee0145605af027404be5bca5000d9d65" args="(const DoubleTab &amp;transporte, DoubleTab &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Op_Conv_EF::ajouter_sous_cond_dim3_nbn8_nbdim2 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>transporte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>resu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>btd_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hourglass_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>centre_impl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00354">354</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Process_8cpp_source.html#l00329">Process::abort()</a>, <a class="el" href="ArrOfDouble_8h_source.html#l00379">ArrOfDouble::addr()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00086">amont</a>, <a class="el" href="Zone__EF_8h_source.html#l00123">Zone_EF::Bij()</a>, <a class="el" href="Op__Conv__EF_8cpp.html#a1891b7a4d3d0ef904a1f27322cfedeec">bij_</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00181">coefficient_btd()</a>, <a class="el" href="ArrOfDouble_8cpp_source.html#l01277">dotproduct_array()</a>, <a class="el" href="DoubleVect_8cpp_source.html#l00277">DoubleVect::echange_espace_virtuel()</a>, <a class="el" href="Op__EF__base_8cpp_source.html#l00466">Op_EF_base::elem_contribue()</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="Double_8h_source.html#l00273">est_egal()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00082">Op_Conv_EF_base::fluent</a>, <a class="el" href="Probleme__base_8cpp_source.html#l01630">Probleme_base::get_champ()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00082">hourglass</a>, <a class="el" href="Zone__EF_8h_source.html#l00135">Zone_EF::IPhi_thilde()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00078">Op_Conv_EF_base::la_zone_EF</a>, <a class="el" href="O__U__Ptr_8cpp_source.html#l00179">O_U_Ptr::le_nom()</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="DoubleVect_8h_source.html#l00164">DoubleVect::line_size()</a>, <a class="el" href="Zone_8h_source.html#l00319">Zone::nb_elem_tot()</a>, <a class="el" href="Equation__base_8cpp_source.html#l00964">Equation_base::probleme()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>, <a class="el" href="DoubleVect_8h_source.html#l00153">DoubleVect::size()</a>, <a class="el" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>, <a class="el" href="Op__Conv__EF_8cpp.html#aec139ab06c54f3c620f1e9944627c994">transporte_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00088">type_op</a>, <a class="el" href="Ref__Champ__Inc__base_8h_source.html#l00028">Ref_Champ_Inc_base::valeur()</a>, <a class="el" href="Ref__Zone__EF_8h_source.html#l00028">Ref_Zone_EF::valeur()</a>, <a class="el" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">Champ_Proto::valeurs()</a>, <a class="el" href="Champ__Inc__base_8cpp_source.html#l00221">Champ_Inc_base::valeurs()</a>, <a class="el" href="Op__Div__VEFP1B__Elem_8cpp_source.html#l00081">verifier()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00080">Op_Conv_EF_base::vitesse_</a>, <a class="el" href="Zone__VF_8h_source.html#l00419">Zone_VF::volumes()</a>, <a class="el" href="Zone__EF_8h_source.html#l00104">Zone_EF::volumes_thilde()</a>, and <a class="el" href="Zone__dis__base_8h_source.html#l00106">Zone_dis_base::zone()</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01016">ajouter_sous_cond()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>&amp; zone_ef = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>, <a class="code" href="classOp__Conv__EF__base.html#a4181dffa4d7fa88293cefe4458d355c1">la_zone_EF</a>.<a class="code" href="classRef__Zone__EF.html#ad5f2da15b834bc7d9ca018a566d40715">valeur</a>());
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som_elem=8;


  <span class="keywordflow">if</span> ((btd_impl==1)&amp;&amp;(hourglass_impl==1)&amp;&amp;(centre_impl==1)) <span class="keywordflow">return</span> resu;

  <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; fluent_ = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classDoubleVect.html">DoubleVect</a>, <a class="code" href="classOp__Conv__EF__base.html#aa93385542b3568832bb37ff4f8af6052" title="tableau qui sert pour le calcul du pas de temps de stabilite">fluent</a>);

  <span class="keyword">const</span> <a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>&amp; la_vitesse=<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classRef__Champ__Inc__base.html#a17553641a4c06730e1562125e07b3490">valeur</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; G=la_vitesse.<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>();

  <span class="keywordtype">int</span> transport_rhou=0;
  <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classO__U__Ptr.html#a5aae0c48048a40339f3847aa14109231" title="Renvoie ref_().le_nom() si le pointeur est non nul ou &quot;Pointeur Nul&quot;.">le_nom</a>()==<span class="stringliteral">&quot;rho_u&quot;</span>) transport_rhou=1;
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; rho_elem=(transport_rhou==1 ? <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique_melange&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>() : \
                             <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>());
  <span class="keywordtype">int</span> is_not_rho_unif = (rho_elem.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == 1 ? 0 : 1);

  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv vitesse&quot;</span>,G);
  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv rho&quot;</span>,rho_elem);
  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv transporte&quot;</span>,transporte);
  <span class="keywordtype">int</span> nb_comp0 = resu.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes_thilde= zone_ef.<a class="code" href="classZone__EF.html#abeb5a4c55016615d2fd1a4e4e07fcd58">volumes_thilde</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes= zone_ef.<a class="code" href="classZone__VF.html#aea771c835e561469d2d21dbca5fac1cf" title="renvoie le volume de la maille i.">volumes</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; IPhi_thilde=zone_ef.<a class="code" href="classZone__EF.html#addd84cf676a5e031153effc095d88d35">IPhi_thilde</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; bij=zone_ef.<a class="code" href="classZone__EF.html#a1399220391b0ae308681ac13bd7c98c1">Bij</a>();
  <span class="keywordtype">int</span> nb_elem_tot=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elems=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>() ;
  <span class="keywordtype">double</span> f= <a class="code" href="classOp__Conv__EF.html#a8a2724583588026cbcf3a05ae541d0fc">coefficient_btd</a>();

  <span class="keywordtype">int</span> mcoef3d[8]= {1,-1,-1,1,-1,1,1,-1};
  <span class="keywordtype">int</span> sommetoppose[8]= {7,6,5,4,3,2,1,0};

  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> transp_loc(nb_som_elem,nb_comp0);
<span class="comment">// A DEPLACER !!!!!</span>
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; lambda=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOperateur__Diff__base.html" title="classe Operateur_Diff_base Cette classe est la base de la hierarchie des operateurs representant un t...">Operateur_Diff_base</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().operateur(0).l_op_base()).diffusivite().valeurs();
  <span class="keywordtype">int</span> is_not_lambda_unif=1;
  <span class="keywordflow">if</span> (lambda.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>()==1) is_not_lambda_unif=0;

  <span class="keyword">const</span> <span class="keywordtype">int</span> const_dimension= 3;
<span class="comment">// const int nb_som_elem= 8;</span>
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_comp=3;
  <span class="keyword">const</span> <span class="keywordtype">int</span> dim_fois_nbn=24;
  <span class="keywordflow">if</span> (nb_comp0!=nb_comp) <a class="code" href="classProcess.html#a6a4b64571b10f150a70db229b839e881" title="Routine de sortie de Trio-U sur une erreur abort()">abort</a>();

  <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> G_e(const_dimension);
  <span class="keywordtype">double</span> pr[nb_comp],ge_bij[nb_som_elem];
  <span class="keyword">const</span> <span class="keywordtype">double</span>* bij_ptr=bij.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();
  <span class="keyword">const</span> <span class="keywordtype">double</span>* transp_loc_ptr=transp_loc.addr();
  <span class="keyword">const</span> <span class="keywordtype">double</span>* transporte_ptr=transporte.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();
  <span class="keywordtype">double</span>* resu_ptr=resu.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();

<span class="preprocessor">#define bij_(elem,i,j) bij_ptr[elem*dim_fois_nbn+i*const_dimension+j]</span>
<span class="preprocessor"></span><span class="preprocessor">#define transp_loc_(som,a) transp_loc_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span><span class="preprocessor">#define transporte_(som,a) transporte_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define resu_(som,a) resu_ptr[som*nb_comp+a]</span>
<span class="preprocessor"></span>
  <span class="keywordtype">double</span> inv_nb_som_elem=1./nb_som_elem;
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> elem=0; elem&lt;nb_elem_tot; elem++)
    <span class="keywordflow">if</span> (<a class="code" href="classOp__EF__base.html#a0efe5445b9ba8c161385f5479722147d">elem_contribue</a>(elem))
      {
        G_e=0;
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
          {
            <span class="keywordtype">int</span> glob=elems(elem,i1);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;const_dimension; b++)
              G_e[b]+=G(glob,b);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
              transp_loc(i1,a)=<a class="code" href="Op__Conv__EF_8cpp.html#aec139ab06c54f3c620f1e9944627c994">transporte_</a>(glob,a);
          }
        G_e*=inv_nb_som_elem;
<span class="comment">// Cerr&lt;&lt;&quot; coucou &quot;&lt;&lt;G_e&lt;&lt;finl;</span>
<span class="comment">// *10 !!!!!!!!!!!</span>
        <span class="keywordtype">double</span> vol_elem=volumes(elem);
        <span class="keywordtype">double</span> inv_vol_elem=1./vol_elem;
        <span class="keywordtype">double</span> pond2=volumes_thilde(elem)*inv_vol_elem*inv_vol_elem;

        <span class="keywordflow">if</span> (transport_rhou)
          pond2 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
        <span class="keywordtype">double</span> fpond2=f*pond2;

        <span class="keywordflow">if</span> ((<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>)&amp;&amp;(nb_som_elem==8)&amp;&amp;(hourglass_impl==0))
          {
            <span class="keywordtype">double</span> pond3=f*<a class="code" href="ArrOfDouble_8cpp.html#af541bfdadae7483016c96f13760598ac" title="Produit scalaire de deux &quot;array&quot;. (dotproduct_array remplace operator* car le nom indique clairemen...">dotproduct_array</a>(G_e,G_e);
            <span class="keywordflow">if</span> (transport_rhou) pond3 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
            <span class="keywordflow">if</span> (is_not_lambda_unif)
              pond3+=lambda(elem);
            <span class="keywordflow">else</span>
              pond3+=lambda(0,0);
            pond3*=volumes_thilde(elem)*inv_vol_elem*pow(vol_elem,0.3333333333333333);
            pond3*=<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>;

            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
              {
                <span class="keywordtype">double</span> coef2d=0.042*pond3;
                <span class="keywordtype">double</span> coef3d=coef2d*0.5;

                <span class="keywordtype">double</span> t0=-coef2d*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(0,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(1,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(2,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(3,a)
                                   +<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(4,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(5,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(6,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(7,a));

                <span class="keywordtype">double</span> t3d=0;
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;8; i++) t3d+=mcoef3d[i]*<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i,a);
                t3d*=coef3d;
                <span class="keywordtype">double</span> t3db=coef3d*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(0,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(1,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(3,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(2,a)
                                    -<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(4,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(5,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(7,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(6,a));
                <span class="keywordflow">if</span> (!<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(t3d,t3db,1e-6)) assert(0);
                <span class="comment">/*</span>
<span class="comment">                double t1=t0+coef2d*4.*(transp_loc_(0,a)+transp_loc_(7,a));</span>
<span class="comment">                double t2=t0+coef2d*4.*(transp_loc_(1,a)+transp_loc_(6,a));</span>
<span class="comment">                double t3=t0+coef2d*4.*(transp_loc_(3,a)+transp_loc_(4,a));</span>
<span class="comment">                double t4=t0+coef2d*4.*(transp_loc_(2,a)+transp_loc_(5,a));</span>
<span class="comment">                */</span>
<span class="comment">// if (elem==0) Cerr&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;t3d&lt;&lt;&quot; iiiiii &quot;&lt;&lt;t1&lt;&lt;&quot; &quot;&lt;&lt;pond3&lt;&lt;&quot; &quot;&lt;&lt;f&lt;&lt;finl;</span>
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;8; i++)
                  <a class="code" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>(elems(elem,i),a)-=mcoef3d[i]*t3d+t0+coef2d*4.*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(sommetoppose[i],a));
              }
          }

        {
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=0; yy&lt;nb_som_elem; yy++) ge_bij[yy]=0;
          <span class="keywordflow">if</span> ((centre_impl==0)||(btd_impl==0))
            {
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
                {
                  <span class="keywordtype">double</span> cb=0;
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;const_dimension; b++)
                    cb+=G_e[b]*<a class="code" href="Op__Conv__EF_8cpp.html#a1891b7a4d3d0ef904a1f27322cfedeec">bij_</a>(elem,i1,b);
                  ge_bij[i1]=cb;
                }
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
                {
                  <span class="keywordtype">double</span> pond=0;
                  <span class="keywordflow">if</span> (centre_impl==0) pond=IPhi_thilde(elem,i1)*inv_vol_elem;
                  <span class="keywordtype">int</span> glob=elems(elem,i1);
<span class="comment">// pr=0;</span>
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=0; yy&lt;nb_comp; yy++) pr[yy]=0;

                  <span class="keywordtype">double</span> cbbtd=pond;
                  <span class="keywordflow">if</span> ((btd_impl==0)&amp;&amp;(<a class="code" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">type_op</a>==<a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8">amont</a>))
                    cbbtd+=ge_bij[i1]*(fpond2);
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i2=0; i2&lt;nb_som_elem; i2++)
                    {
                      <span class="keyword">const</span> <span class="keywordtype">double</span> cbi2=ge_bij[i2];
                      <span class="keywordtype">double</span> coef=cbbtd*cbi2;
                      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
                        pr[a]-=coef*<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i2,a);
                    }
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
                    <a class="code" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>(glob,a)+=pr[a];
                }
            }
        }
      }

  fluent_.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
  <span class="keywordflow">return</span> resu;
<span class="preprocessor">#undef bij_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef transp_loc_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef transporte_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef resu_</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a8d696fed7489bca629ff1c6381277c22"></a><!-- doxytag: member="Op_Conv_EF::ajouter_sous_cond_gen" ref="a8d696fed7489bca629ff1c6381277c22" args="(const DoubleTab &amp;transporte, DoubleTab &amp;resu, int btd_impl, int hourglass_impl, int centre_impl) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp; Op_Conv_EF::ajouter_sous_cond_gen </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>transporte</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>resu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>btd_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hourglass_impl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>centre_impl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00193">193</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8h_source.html#l00086">amont</a>, <a class="el" href="Zone__EF_8h_source.html#l00123">Zone_EF::Bij()</a>, <a class="el" href="Op__Conv__EF_8cpp.html#a1891b7a4d3d0ef904a1f27322cfedeec">bij_</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00181">coefficient_btd()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="ArrOfDouble_8cpp_source.html#l01277">dotproduct_array()</a>, <a class="el" href="DoubleVect_8cpp_source.html#l00277">DoubleVect::echange_espace_virtuel()</a>, <a class="el" href="Op__EF__base_8cpp_source.html#l00466">Op_EF_base::elem_contribue()</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="Double_8h_source.html#l00273">est_egal()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00082">Op_Conv_EF_base::fluent</a>, <a class="el" href="Probleme__base_8cpp_source.html#l01630">Probleme_base::get_champ()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00082">hourglass</a>, <a class="el" href="Zone__EF_8h_source.html#l00135">Zone_EF::IPhi_thilde()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00078">Op_Conv_EF_base::la_zone_EF</a>, <a class="el" href="O__U__Ptr_8cpp_source.html#l00179">O_U_Ptr::le_nom()</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="DoubleVect_8h_source.html#l00164">DoubleVect::line_size()</a>, <a class="el" href="Zone_8h_source.html#l00319">Zone::nb_elem_tot()</a>, <a class="el" href="Zone_8h_source.html#l00445">Zone::nb_som_elem()</a>, <a class="el" href="Equation__base_8cpp_source.html#l00964">Equation_base::probleme()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>, <a class="el" href="DoubleVect_8h_source.html#l00153">DoubleVect::size()</a>, <a class="el" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>, <a class="el" href="Op__Conv__EF_8cpp.html#aec139ab06c54f3c620f1e9944627c994">transporte_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00088">type_op</a>, <a class="el" href="Ref__Champ__Inc__base_8h_source.html#l00028">Ref_Champ_Inc_base::valeur()</a>, <a class="el" href="Ref__Zone__EF_8h_source.html#l00028">Ref_Zone_EF::valeur()</a>, <a class="el" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">Champ_Proto::valeurs()</a>, <a class="el" href="Champ__Inc__base_8cpp_source.html#l00221">Champ_Inc_base::valeurs()</a>, <a class="el" href="Op__Div__VEFP1B__Elem_8cpp_source.html#l00081">verifier()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00080">Op_Conv_EF_base::vitesse_</a>, <a class="el" href="Zone__VF_8h_source.html#l00419">Zone_VF::volumes()</a>, <a class="el" href="Zone__EF_8h_source.html#l00104">Zone_EF::volumes_thilde()</a>, and <a class="el" href="Zone__dis__base_8h_source.html#l00106">Zone_dis_base::zone()</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01016">ajouter_sous_cond()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keyword">const</span> <a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>&amp; zone_ef = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>, <a class="code" href="classOp__Conv__EF__base.html#a4181dffa4d7fa88293cefe4458d355c1">la_zone_EF</a>.<a class="code" href="classRef__Zone__EF.html#ad5f2da15b834bc7d9ca018a566d40715">valeur</a>());
  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_som_elem=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ae0b34a93b9ae8146df2d1884157afe9f" title="Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...">nb_som_elem</a>();



  <span class="keywordflow">if</span> ((btd_impl==1)&amp;&amp;(hourglass_impl==1)&amp;&amp;(centre_impl==1)) <span class="keywordflow">return</span> resu;

  <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; fluent_ = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classDoubleVect.html">DoubleVect</a>, <a class="code" href="classOp__Conv__EF__base.html#aa93385542b3568832bb37ff4f8af6052" title="tableau qui sert pour le calcul du pas de temps de stabilite">fluent</a>);

  <span class="keyword">const</span> <a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>&amp; la_vitesse=<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classRef__Champ__Inc__base.html#a17553641a4c06730e1562125e07b3490">valeur</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; G=la_vitesse.<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>();

  <span class="keywordtype">int</span> transport_rhou=0;
  <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classO__U__Ptr.html#a5aae0c48048a40339f3847aa14109231" title="Renvoie ref_().le_nom() si le pointeur est non nul ou &quot;Pointeur Nul&quot;.">le_nom</a>()==<span class="stringliteral">&quot;rho_u&quot;</span>) transport_rhou=1;
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; rho_elem=(transport_rhou==1 ? <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique_melange&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>() : \
                             <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>());
  <span class="keywordtype">int</span> is_not_rho_unif = (rho_elem.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == 1 ? 0 : 1);

  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv vitesse&quot;</span>,G);
  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv rho&quot;</span>,rho_elem);
  <a class="code" href="Op__Div__VEFP1B__Elem_8cpp.html#a45261662b3b88d5db461b3fc99246e5a">Debog::verifier</a>(<span class="stringliteral">&quot;conv transporte&quot;</span>,transporte);
  <span class="keywordtype">int</span> nb_comp0 = resu.<a class="code" href="classDoubleVect.html#ab02d01cd1bdab66fbd66f9a47cc29e10">line_size</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes_thilde= zone_ef.<a class="code" href="classZone__EF.html#abeb5a4c55016615d2fd1a4e4e07fcd58">volumes_thilde</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes= zone_ef.<a class="code" href="classZone__VF.html#aea771c835e561469d2d21dbca5fac1cf" title="renvoie le volume de la maille i.">volumes</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; IPhi_thilde=zone_ef.<a class="code" href="classZone__EF.html#addd84cf676a5e031153effc095d88d35">IPhi_thilde</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; bij=zone_ef.<a class="code" href="classZone__EF.html#a1399220391b0ae308681ac13bd7c98c1">Bij</a>();
  <span class="keywordtype">int</span> nb_elem_tot=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elems=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>() ;
  <span class="keywordtype">double</span> f= <a class="code" href="classOp__Conv__EF.html#a8a2724583588026cbcf3a05ae541d0fc">coefficient_btd</a>();

  <span class="keywordtype">int</span> mcoef3d[8]= {1,-1,-1,1,-1,1,1,-1};
  <span class="keywordtype">int</span> sommetoppose[8]= {7,6,5,4,3,2,1,0};

  <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> transp_loc(nb_som_elem,nb_comp0);
<span class="comment">// A DEPLACER !!!!!</span>
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; lambda=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOperateur__Diff__base.html" title="classe Operateur_Diff_base Cette classe est la base de la hierarchie des operateurs representant un t...">Operateur_Diff_base</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().operateur(0).l_op_base()).diffusivite().valeurs();
  <span class="keywordtype">int</span> is_not_lambda_unif=1;
  <span class="keywordflow">if</span> (lambda.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>()==1) is_not_lambda_unif=0;

  <span class="keyword">const</span> <span class="keywordtype">int</span> nb_comp=nb_comp0;
  <span class="keyword">const</span> <span class="keywordtype">int</span> const_dimension=<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>;
<span class="comment">// int nb_som_elem=zone_ef.zone().nb_som_elem();</span>
  <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> G_e(const_dimension);
  <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> pr(nb_comp),ge_bij(nb_som_elem);

<span class="preprocessor">#define bij_(elem,i,j) bij(elem,i,j)</span>
<span class="preprocessor"></span><span class="preprocessor">#define transp_loc_(som,a) transp_loc(som,a)</span>
<span class="preprocessor"></span>
<span class="preprocessor">#define transporte_(som,a) transporte(som,a)</span>
<span class="preprocessor"></span><span class="preprocessor">#define resu_(som,a) resu(som,a)</span>
<span class="preprocessor"></span>

  <span class="keywordtype">double</span> inv_nb_som_elem=1./nb_som_elem;
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> elem=0; elem&lt;nb_elem_tot; elem++)
    <span class="keywordflow">if</span> (<a class="code" href="classOp__EF__base.html#a0efe5445b9ba8c161385f5479722147d">elem_contribue</a>(elem))
      {
        G_e=0;
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
          {
            <span class="keywordtype">int</span> glob=elems(elem,i1);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;const_dimension; b++)
              G_e[b]+=G(glob,b);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
              transp_loc(i1,a)=<a class="code" href="Op__Conv__EF_8cpp.html#aec139ab06c54f3c620f1e9944627c994">transporte_</a>(glob,a);
          }
        G_e*=inv_nb_som_elem;
<span class="comment">// Cerr&lt;&lt;&quot; coucou &quot;&lt;&lt;G_e&lt;&lt;finl;</span>
<span class="comment">// *10 !!!!!!!!!!!</span>
        <span class="keywordtype">double</span> vol_elem=volumes(elem);
        <span class="keywordtype">double</span> inv_vol_elem=1./vol_elem;
        <span class="keywordtype">double</span> pond2=volumes_thilde(elem)*inv_vol_elem*inv_vol_elem;

        <span class="keywordflow">if</span> (transport_rhou)
          pond2 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
        <span class="keywordtype">double</span> fpond2=f*pond2;

        <span class="keywordflow">if</span> ((<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>)&amp;&amp;(nb_som_elem==8)&amp;&amp;(hourglass_impl==0))
          {
            <span class="keywordtype">double</span> pond3=f*<a class="code" href="ArrOfDouble_8cpp.html#af541bfdadae7483016c96f13760598ac" title="Produit scalaire de deux &quot;array&quot;. (dotproduct_array remplace operator* car le nom indique clairemen...">dotproduct_array</a>(G_e,G_e);
            <span class="keywordflow">if</span> (transport_rhou) pond3 /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
            <span class="keywordflow">if</span> (is_not_lambda_unif)
              pond3+=lambda(elem);
            <span class="keywordflow">else</span>
              pond3+=lambda(0,0);
            pond3*=volumes_thilde(elem)*inv_vol_elem*pow(vol_elem,0.3333333333333333);
            pond3*=<a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>;

            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
              {
                <span class="keywordtype">double</span> coef2d=0.042*pond3;
                <span class="keywordtype">double</span> coef3d=coef2d*0.5;

                <span class="keywordtype">double</span> t0=-coef2d*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(0,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(1,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(2,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(3,a)
                                   +<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(4,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(5,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(6,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(7,a));

                <span class="keywordtype">double</span> t3d=0;
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;8; i++) t3d+=mcoef3d[i]*<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i,a);
                t3d*=coef3d;
                <span class="keywordtype">double</span> t3db=coef3d*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(0,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(1,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(3,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(2,a)
                                    -<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(4,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(5,a)-<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(7,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(6,a));
                <span class="keywordflow">if</span> (!<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(t3d,t3db,1e-6)) assert(0);
                <span class="comment">/*</span>
<span class="comment">                double t1=t0+coef2d*4.*(transp_loc_(0,a)+transp_loc_(7,a));</span>
<span class="comment">                double t2=t0+coef2d*4.*(transp_loc_(1,a)+transp_loc_(6,a));</span>
<span class="comment">                double t3=t0+coef2d*4.*(transp_loc_(3,a)+transp_loc_(4,a));</span>
<span class="comment">                double t4=t0+coef2d*4.*(transp_loc_(2,a)+transp_loc_(5,a));</span>
<span class="comment">                */</span>
<span class="comment">// if (elem==0) Cerr&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;t3d&lt;&lt;&quot; iiiiii &quot;&lt;&lt;t1&lt;&lt;&quot; &quot;&lt;&lt;pond3&lt;&lt;&quot; &quot;&lt;&lt;f&lt;&lt;finl;</span>
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;8; i++)
                  <a class="code" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>(elems(elem,i),a)-=mcoef3d[i]*t3d+t0+coef2d*4.*(<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i,a)+<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(sommetoppose[i],a));
              }
          }

        {
          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=0; yy&lt;nb_som_elem; yy++) ge_bij[yy]=0;
          <span class="keywordflow">if</span> ((centre_impl==0)||(btd_impl==0))
            {
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
                {
                  <span class="keywordtype">double</span> cb=0;
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;const_dimension; b++)
                    cb+=G_e[b]*<a class="code" href="Op__Conv__EF_8cpp.html#a1891b7a4d3d0ef904a1f27322cfedeec">bij_</a>(elem,i1,b);
                  ge_bij[i1]=cb;
                }
              <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
                {
                  <span class="keywordtype">double</span> pond=0;
                  <span class="keywordflow">if</span> (centre_impl==0) pond=IPhi_thilde(elem,i1)*inv_vol_elem;
                  <span class="keywordtype">int</span> glob=elems(elem,i1);
<span class="comment">// pr=0;</span>
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> yy=0; yy&lt;nb_comp; yy++) pr[yy]=0;

                  <span class="keywordtype">double</span> cbbtd=pond;
                  <span class="keywordflow">if</span> ((btd_impl==0)&amp;&amp;(<a class="code" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">type_op</a>==<a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8">amont</a>))
                    cbbtd+=ge_bij[i1]*(fpond2);
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i2=0; i2&lt;nb_som_elem; i2++)
                    {
                      <span class="keyword">const</span> <span class="keywordtype">double</span> cbi2=ge_bij[i2];
                      <span class="keywordtype">double</span> coef=cbbtd*cbi2;
                      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
                        pr[a]-=coef*<a class="code" href="Op__Conv__EF_8cpp.html#aa228d44e94732f32700e1e6c23778912">transp_loc_</a>(i2,a);
                    }
                  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> a=0; a&lt;nb_comp; a++)
                    <a class="code" href="Op__Conv__EF_8cpp.html#ac589eb9e4844464bac4aea735bc8d1fd">resu_</a>(glob,a)+=pr[a];
                }
            }
        }
      }

  fluent_.<a class="code" href="classDoubleVect.html#abfebbc2f685ce7bc4b80c720d7da9bf3">echange_espace_virtuel</a>();
  <span class="keywordflow">return</span> resu;
<span class="preprocessor">#undef bij_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef transp_loc_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef transporte_</span>
<span class="preprocessor"></span><span class="preprocessor">#undef resu_</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a47d7dbd31177020eef9e682fafe767f8"></a><!-- doxytag: member="Op_Conv_EF::calculer_dt_stab" ref="a47d7dbd31177020eef9e682fafe767f8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Op_Conv_EF::calculer_dt_stab </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calcul dt_stab. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>double<br/>
 Signification: renvoie toujours 1.e30<br/>
 Contraintes: </dd></dl>

<p><p>&lt; comme G2 </p>
</p>

<p>Reimplemented from <a class="el" href="classOp__Conv__EF__base.html#aee7387518df34cb68a7dbbedec66623b">Op_Conv_EF_base</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l01169">1169</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8h_source.html#l00100">btd_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00087">calcul_dt_stab_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00092">coefficient_correcteur_supg_</a>, <a class="el" href="EntreeSortie_8h_source.html#l00033">Cout</a>, <a class="el" href="Double_8h_source.html#l00255">dabs()</a>, <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="Champ__Don__base_8cpp_source.html#l00317">Champ_Don_base::dimensionner()</a>, <a class="el" href="Double_8h_source.html#l00075">DMINFLOAT</a>, <a class="el" href="Zone_8cpp_source.html#l00262">Zone::domaine()</a>, <a class="el" href="Op__EF__base_8cpp_source.html#l00466">Op_EF_base::elem_contribue()</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Operateur__Conv__base_8h_source.html#l00072">Operateur_Conv_base::fixer_dt_stab_conv()</a>, <a class="el" href="Probleme__base_8cpp_source.html#l01630">Probleme_base::get_champ()</a>, <a class="el" href="O__U__Ptr_8cpp_source.html#l00179">O_U_Ptr::le_nom()</a>, <a class="el" href="Zone_8h_source.html#l00402">Zone::les_elems()</a>, <a class="el" href="Domaine_8h_source.html#l00577">Domaine::les_sommets()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00091">max_ue_</a>, <a class="el" href="Double_8h_source.html#l00199">min()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00091">min_dx_</a>, <a class="el" href="Process_8cpp_source.html#l00156">Process::mp_max()</a>, <a class="el" href="Process_8cpp_source.html#l00167">Process::mp_min()</a>, <a class="el" href="Zone_8h_source.html#l00319">Zone::nb_elem_tot()</a>, <a class="el" href="Zone_8h_source.html#l00445">Zone::nb_som_elem()</a>, <a class="el" href="Equation__base_8cpp_source.html#l00964">Equation_base::probleme()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="Cast_8h_source.html#l00062">ref_cast_non_const</a>, <a class="el" href="DoubleVect_8h_source.html#l00153">DoubleVect::size()</a>, <a class="el" href="Source__Generique__Face__PolyMAC_8cpp_source.html#l00045">valeur()</a>, <a class="el" href="Ref__Champ__Inc__base_8h_source.html#l00028">Ref_Champ_Inc_base::valeur()</a>, <a class="el" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">Champ_Proto::valeurs()</a>, <a class="el" href="Champ__Inc__base_8cpp_source.html#l00221">Champ_Inc_base::valeurs()</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00080">Op_Conv_EF_base::vitesse_</a>, and <a class="el" href="Zone__dis__base_8h_source.html#l00106">Zone_dis_base::zone()</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l00072">Op_Conv_BTD_EF::coefficient_btd()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF.html#a1678395576cd863d74af0bdada354c3b">calcul_dt_stab_</a>==0) <span class="keywordflow">return</span>  <a class="code" href="classOp__Conv__EF.html#a47d7dbd31177020eef9e682fafe767f8" title="Calcul dt_stab.">Operateur_base::calculer_dt_stab</a>();

  <span class="keyword">const</span> <a class="code" href="classChamp__Inc__base.html" title="Classe Champ_Inc_base Classe de base des champs inconnues qui sont les champs calcules par une equati...">Champ_Inc_base</a>&amp; la_vitesse=<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classRef__Champ__Inc__base.html#a17553641a4c06730e1562125e07b3490">valeur</a>();
  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; G=la_vitesse.<a class="code" href="classChamp__Inc__base.html#adb537f43f1649e103a8980314c7ed175" title="Renvoie le tableau des valeurs du champ au temps courant.">valeurs</a>();

  <span class="keywordtype">int</span> transport_rhou=0;
  <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF__base.html#a048af7ee0fd0eb5f752ab621f3412cb6">vitesse_</a>.<a class="code" href="classO__U__Ptr.html#a5aae0c48048a40339f3847aa14109231" title="Renvoie ref_().le_nom() si le pointeur est non nul ou &quot;Pointeur Nul&quot;.">le_nom</a>()==<span class="stringliteral">&quot;rho_u&quot;</span>) transport_rhou=1;

  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; rho_elem=(transport_rhou==1 ? <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique_melange&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>() : \
                             <a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#aa8151a96f63719523bf50ddd832e0f8f" title="Renvoie le probleme associe a l&#39;equation.">probleme</a>().<a class="code" href="classProbleme__base.html#acc8deeeb73b31eaa3d0ecd4f9644ba77">get_champ</a>(<span class="stringliteral">&quot;masse_volumique&quot;</span>).<a class="code" href="classChamp__Proto.html#a9d8c69f11d1b0a8e378cc6ca41793614">valeurs</a>());
  <span class="keywordtype">int</span> is_not_rho_unif = (rho_elem.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == 1 ? 0 : 1);

  <span class="keyword">const</span> <a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>&amp; zone_ef=<a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classZone__EF.html" title="class Zone_EF Classe instanciable qui derive de Zone_VF. Cette classe contient les informations geome...">Zone_EF</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().zone_dis().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; valeurs_diffusivite = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOperateur__Diff__base.html" title="classe Operateur_Diff_base Cette classe est la base de la hierarchie des operateurs representant un t...">Operateur_Diff_base</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().operateur(0).l_op_base()).diffusivite().valeurs();
  <span class="keywordtype">int</span> is_not_lambda_unif = (valeurs_diffusivite.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>() == 1 ? 0 : 1);

  <span class="keywordtype">int</span> autre_eq=0;
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; valeurs_diffusivite_p = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOperateur__Diff__base.html" title="classe Operateur_Diff_base Cette classe est la base de la hierarchie des operateurs representant un t...">Operateur_Diff_base</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().probleme().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>(autre_eq).operateur(0).l_op_base()).diffusivite().valeurs();
  <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF.html#a1678395576cd863d74af0bdada354c3b">calcul_dt_stab_</a>==2)
    {
      <span class="keywordflow">if</span> (&amp;valeurs_diffusivite_p == &amp;valeurs_diffusivite)
        autre_eq=1;
    }
  <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; valeurs_diffusivite_2 = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classOperateur__Diff__base.html" title="classe Operateur_Diff_base Cette classe est la base de la hierarchie des operateurs representant un t...">Operateur_Diff_base</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().probleme().<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>(autre_eq).operateur(0).l_op_base()).diffusivite().valeurs();

  <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a0846ac03a10b65c4df911fe35a19c02f" title="Renvoie le nombre total de sommets.">les_sommets</a>();

  <span class="keywordtype">int</span> nb_elem_tot=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>();
  <span class="keywordtype">int</span> nb_som_elem=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ae0b34a93b9ae8146df2d1884157afe9f" title="Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...">nb_som_elem</a>();
  <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elems=zone_ef.<a class="code" href="classZone__dis__base.html#a0bb3a4512e111f91fa2c352de44653a4" title="Renvoie la Zone associee a l&#39;objet. (version const)">zone</a>().<a class="code" href="classZone.html#ac115e8342be89afb882b7b61cc343267" title="Renvoie le tableau des sommets des elements.">les_elems</a>() ;
  <a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a> G_e(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
  <a class="code" href="classOp__Conv__EF.html#addb861acb56bcf446418030b4d868e20">max_ue_</a>=1e-8 ; <span class="comment">//!&lt; comme G2</span>
<span class="comment"></span>  <a class="code" href="classOp__Conv__EF.html#a60549d6d5a02155aa97167dc94309532">min_dx_</a>=1e37;
  <span class="keywordtype">double</span> Max=0;
  <span class="keywordtype">double</span> dt_l=0,dt2=0;
  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> elem=0; elem&lt;nb_elem_tot; elem++)
    <span class="keywordflow">if</span> (<a class="code" href="classOp__EF__base.html#a0efe5445b9ba8c161385f5479722147d">elem_contribue</a>(elem))
      {
        G_e=0;
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i1=0; i1&lt;nb_som_elem; i1++)
          {
            <span class="keywordtype">int</span> glob=elems(elem,i1);
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b=0; b&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; b++)
              G_e(b)+=G(glob,b);
          }
        G_e/=nb_som_elem;
<span class="comment">// if (transport_rhou)  G_e/=rho_elem(elem);</span>
        <span class="keywordtype">double</span> ml=0;
        <span class="keywordtype">double</span> dx2;
<span class="comment">// pas de temps de diffusion !!</span>
        <span class="keywordtype">double</span> ml2=0;
        <span class="keywordtype">double</span> vx[3];
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;3; d++)
          {
            dx2=<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(coord(elems(elem,0),d)-coord(elems(elem,7),d));
            dx2+=<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(coord(elems(elem,1),d)-coord(elems(elem,6),d));
            dx2+=<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(coord(elems(elem,2),d)-coord(elems(elem,5),d));
            dx2+=<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(coord(elems(elem,3),d)-coord(elems(elem,4),d));
            dx2*=0.25;
            dx2*=dx2;

            ml2+=dx2;
<span class="comment">// double p=G_e(d)*G_e(d)/dx2;</span>
            ml+=G_e(d)*G_e(d)/dx2;
            vx[d]=G_e(d)*G_e(d);
          }

        <span class="keywordtype">double</span> diffu=(is_not_lambda_unif?valeurs_diffusivite(elem):valeurs_diffusivite(0));

        <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF.html#a1678395576cd863d74af0bdada354c3b">calcul_dt_stab_</a>==2)
          {
            <span class="keywordtype">double</span> diffu2=(is_not_lambda_unif?valeurs_diffusivite_2(elem):valeurs_diffusivite_2(0));
            <span class="keywordflow">if</span> (diffu2&lt;diffu)
              diffu=diffu2;
          }
        diffu /= (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));

<span class="comment">// horreur pour NR G2 cas clotaire</span>
<span class="comment">// diffu*=0.5;</span>
<span class="comment">// if (elem==0) Cerr&lt;&lt;&quot;uu &quot;&lt;&lt;diffu&lt;&lt;finl;</span>
        <span class="keywordflow">if</span> (transport_rhou)
          {
            <span class="keywordtype">double</span> rho_e = (is_not_rho_unif ? rho_elem(elem) : rho_elem(0,0));
            <span class="keywordtype">double</span> inv_rho2= rho_e*rho_e;
            inv_rho2=1./inv_rho2;
            ml*=inv_rho2;
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; d++)
              vx[d]*=inv_rho2;
          }
<span class="comment">// le .5* c&#39;est pour avoir le meme dt que g2 mais faux</span>
        <span class="keywordtype">double</span> dxe=sqrt(ml2);
        <span class="keywordflow">if</span> (dxe&lt;<a class="code" href="classOp__Conv__EF.html#a60549d6d5a02155aa97167dc94309532">min_dx_</a>)
          <a class="code" href="classOp__Conv__EF.html#a60549d6d5a02155aa97167dc94309532">min_dx_</a>=dxe;
        ml2=diffu/ml2;
        ml*=<a class="code" href="classOp__Conv__EF.html#a9ac703b912c82db19c86f97ede4d749d">btd_</a>;
        ml=sqrt(ml2*ml2+ml)+ml2+<a class="code" href="Double_8h.html#a0a3fffa6d17ad8f7de4bb337c6266561">DMINFLOAT</a>;
        <span class="comment">/*      if (ml2&gt;0)</span>
<span class="comment">        ml=ml/(sqrt(ml2*ml2+ml)-ml2);</span>
<span class="comment">        else ml=-1.;</span>
<span class="comment">        */</span>
        <span class="keywordflow">if</span> (ml &gt; Max) Max=ml;
        <span class="keywordtype">double</span> ue=sqrt(vx[0]+vx[1]+vx[2]);
        <span class="keywordflow">if</span> (ue&gt;<a class="code" href="classOp__Conv__EF.html#addb861acb56bcf446418030b4d868e20">max_ue_</a>) <a class="code" href="classOp__Conv__EF.html#addb861acb56bcf446418030b4d868e20">max_ue_</a>=ue;

        dt_l= 1./(Max+<a class="code" href="Double_8h.html#a0a3fffa6d17ad8f7de4bb337c6266561">DMINFLOAT</a>);

        <span class="keywordflow">if</span> (elem==0) dt2=dt_l;
        <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF.html#a9ac703b912c82db19c86f97ede4d749d">btd_</a>!=3.)
          {
            <span class="keywordtype">double</span> dt0=dt2;
            <span class="keywordtype">double</span> s=1.;
            <span class="keywordflow">while</span>(s&gt;0)
              {
                s=-1;
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> d=0; d&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; d++)
                  {
                    <span class="keywordtype">double</span> c=vx[d]*dt0;
                    <span class="keywordflow">if</span> (<a class="code" href="Double_8h.html#aaecd4ca8a2fe69cc6568af2938b94d2e">dabs</a>(c)&gt;1e-16)
                      s+=c/(2.*diffu  +c*<a class="code" href="classOp__Conv__EF.html#a9ac703b912c82db19c86f97ede4d749d">btd_</a>);
                  }
                <span class="keywordflow">if</span> (s&gt;0)
                  {
                    dt0*=0.9;
                    <a class="code" href="EntreeSortie_8h.html#a1007c2f57f1c8fc7334a3f62aab08414">Cout</a>&lt;&lt;elem&lt;&lt;<span class="stringliteral">&quot; &quot;</span> &lt;&lt;dt_l&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;s&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;dt0&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
                    <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
                  }
              }
            dt2=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(dt2,dt0);
            dt_l=<a class="code" href="Double_8h.html#a2f8edc4561e9744ed4233b205fa7ec32">min</a>(dt2,dt_l);
          }
      }
  <a class="code" href="classOp__Conv__EF.html#a60549d6d5a02155aa97167dc94309532">min_dx_</a>=<a class="code" href="classProcess.html#a05de57db7288d95f9e67046af585d5ff" title="Calcule le min de x sur tous les processeurs du groupe courant. Voir aussi mp_max()">mp_min</a>(<a class="code" href="classOp__Conv__EF.html#a60549d6d5a02155aa97167dc94309532">min_dx_</a>);
  <a class="code" href="classOp__Conv__EF.html#addb861acb56bcf446418030b4d868e20">max_ue_</a>=<a class="code" href="classProcess.html#a1e9d9f9899b71927cfafae14c7bd048d" title="Calcule le max de x sur tous les processeurs du groupe courant. Remarques : Cette methode doit etre a...">mp_max</a>(<a class="code" href="classOp__Conv__EF.html#addb861acb56bcf446418030b4d868e20">max_ue_</a>);
  <a class="code" href="classOp__Conv__EF.html#a381e526d26f897a67f0c19048dfad484">coefficient_correcteur_supg_</a>.<a class="code" href="classChamp__Don__base.html#a17e3161b4b8cbf51a5029bba45ac758b" title="Fixe le nombre de composantes et le nombre de valeurs nodales.">dimensionner</a>(1,1);
  <a class="code" href="classOp__Conv__EF.html#a381e526d26f897a67f0c19048dfad484">coefficient_correcteur_supg_</a>(0,0)=<a class="code" href="classOp__Conv__EF.html#a60549d6d5a02155aa97167dc94309532">min_dx_</a>/<a class="code" href="classOp__Conv__EF.html#addb861acb56bcf446418030b4d868e20">max_ue_</a>;
  <span class="keywordtype">double</span> dt_stab=dt_l;
  dt_stab = <a class="code" href="classProcess.html#a05de57db7288d95f9e67046af585d5ff" title="Calcule le min de x sur tous les processeurs du groupe courant. Voir aussi mp_max()">Process::mp_min</a>(dt_stab);
<span class="comment">// astuce pour contourner le type const de la methode</span>
  <a class="code" href="classOp__Conv__EF__base.html" title="class Op_Conv_EF_base Classe de base des operateurs de convection EF">Op_Conv_EF_base</a>&amp; op = <a class="code" href="Cast_8h.html#ad3836a067c92103af8df5ad8f35959a6">ref_cast_non_const</a>(<a class="code" href="classOp__Conv__EF__base.html" title="class Op_Conv_EF_base Classe de base des operateurs de convection EF">Op_Conv_EF_base</a>,*<span class="keyword">this</span>);
  op.<a class="code" href="classOperateur__Conv__base.html#a868dd39f29b4f613ec620fe5ada95977">fixer_dt_stab_conv</a>(dt_stab);

  <span class="keywordflow">return</span> dt_stab;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8a2724583588026cbcf3a05ae541d0fc"></a><!-- doxytag: member="Op_Conv_EF::coefficient_btd" ref="a8a2724583588026cbcf3a05ae541d0fc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Op_Conv_EF::coefficient_btd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#a8819d0aebb5e933ca4fb261496386562">Op_Conv_BTD_EF</a>, and <a class="el" href="classOp__Conv__SUPG__EF.html#a1310daa9e51d8ab33285a6b12901da63">Op_Conv_SUPG_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00181">181</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Objet__U_8h_source.html#l00079">Objet_U::dimension</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00085">f_lu_</a>, <a class="el" href="Schema__Temps__base_8h_source.html#l00576">Schema_Temps_base::pas_de_temps()</a>, and <a class="el" href="Equation__base_8cpp_source.html#l01120">Equation_base::schema_temps()</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01033">ajouter_contribution_sous_cond()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00850">ajouter_sous_cond_dim2_nbn4_nbdim1()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00685">ajouter_sous_cond_dim2_nbn4_nbdim2()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00519">ajouter_sous_cond_dim3_nbn8_nbdim1()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00354">ajouter_sous_cond_dim3_nbn8_nbdim2()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l00193">ajouter_sous_cond_gen()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordtype">double</span> dt=<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().<a class="code" href="classEquation__base.html#abc11e51aa75b4c7aa55c27f71eb2f2c4" title="Renvoie le schema en temps associe a l&#39;equation.">schema_temps</a>().<a class="code" href="classSchema__Temps__base.html#a0e4f67ef6086c09434ddc161668077b2" title="Renvoie le pas de temps (delta_t) courant.">pas_de_temps</a>();
  <span class="keywordtype">double</span> f=(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>)*dt/(<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>-1);
  <span class="keywordflow">if</span> (<a class="code" href="classOp__Conv__EF.html#a327e97302d9067603701c1fd50acedc1">f_lu_</a>&gt;=0) f=<a class="code" href="classOp__Conv__EF.html#a327e97302d9067603701c1fd50acedc1">f_lu_</a>;
  <span class="keywordflow">return</span> f;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7e4e8fefbf78da38579a960fff32c315"></a><!-- doxytag: member="Op_Conv_EF::completer" ref="a7e4e8fefbf78da38579a960fff32c315" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Op_Conv_EF::completer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Associe l'operateur a la zone_dis, la zone_Cl_dis,<br/>
et a l'inconnue de son equation. </p>

<p><p>&lt; pour ajout _Mx (moment) </p>
</p>

<p>Reimplemented from <a class="el" href="classOp__Conv__EF__base.html#ac38371cb6117d52cea4ed52baf8ffbf2">Op_Conv_EF_base</a>.</p>

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#a4dfe0b8cb862526acc8dbb7973d2468e">Op_Conv_BTD_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00137">137</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8h_source.html#l00084">btd_hors_conv_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00087">calcul_dt_stab_</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00084">hourglass_hors_conv_</a>, and <a class="el" href="Cast_8h_source.html#l00054">sub_type</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classOp__Conv__EF.html#a7e4e8fefbf78da38579a960fff32c315" title="Associe l&#39;operateur a la zone_dis, la zone_Cl_dis, et a l&#39;inconnue de son equation.">Op_Conv_EF_base::completer</a>();
  <span class="keywordflow">if</span> (<a class="code" href="Cast_8h.html#a9632e68536db6c29c2b754cb55381fbe">sub_type</a>(<a class="code" href="classOp__Diff__EF.html" title="class Op_Diff_EF Cette classe represente l&#39;operateur de diffusion La discretisation est EF Le champ d...">Op_Diff_EF</a>,<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().operateur(0).l_op_base()))
    {
      <span class="keywordflow">if</span> (<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().schema_temps().diffusion_implicite())
        {
          <a class="code" href="classOp__Conv__EF.html#a92cfa1fb25cc3c4e08407f73803d7ee9">btd_hors_conv_</a>=1;
          <a class="code" href="classOp__Conv__EF.html#a0fd689419f4b31be5dda6d2e1b29f6cb">hourglass_hors_conv_</a>=1;
          <a class="code" href="classOp__Conv__EF.html#a1678395576cd863d74af0bdada354c3b">calcul_dt_stab_</a>=2;
        }
    }
  <span class="keywordflow">else</span>
    {
      <a class="code" href="classOp__Conv__EF.html#a92cfa1fb25cc3c4e08407f73803d7ee9">btd_hors_conv_</a>=0;
      <a class="code" href="classOp__Conv__EF.html#a0fd689419f4b31be5dda6d2e1b29f6cb">hourglass_hors_conv_</a>=0;
    }

}
</pre></div>
</div>
</div>
<a class="anchor" id="a6f7723749230a882a357dc0cb70d8aab"></a><!-- doxytag: member="Op_Conv_EF::contribue_au_second_membre" ref="a6f7723749230a882a357dc0cb70d8aab" args="(DoubleTab &amp;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Op_Conv_EF::contribue_au_second_membre </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>resu</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l01315">1315</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8cpp_source.html#l01016">ajouter_sous_cond()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00084">btd_hors_conv_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00083">btd_impl_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00083">centre_impl_</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00084">hourglass_hors_conv_</a>, and <a class="el" href="Op__Conv__EF_8h_source.html#l00083">hourglass_impl_</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8h_source.html#l00144">contribuer_au_second_membre()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">// on a rien implicite</span>
  <a class="code" href="classOp__Conv__EF.html#a843e2b2c4d9bc3de665260b077782d26">ajouter_sous_cond</a>(<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().inconnue().valeurs(),resu,((<a class="code" href="classOp__Conv__EF.html#a92cfa1fb25cc3c4e08407f73803d7ee9">btd_hors_conv_</a>==1)||<a class="code" href="classOp__Conv__EF.html#aad213768e53dd2ead0ac9f0554300bfb">btd_impl_</a>),((<a class="code" href="classOp__Conv__EF.html#a0fd689419f4b31be5dda6d2e1b29f6cb">hourglass_hors_conv_</a>==1)||<a class="code" href="classOp__Conv__EF.html#ad3db522667ddc56c48ed6e9e74c11606">hourglass_impl_</a>),<a class="code" href="classOp__Conv__EF.html#a0849a62e83511b82512742ded6db229a" title="flag pour savoir si les termes sont implicites">centre_impl_</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="af8960c0fa034348f7f233617715ffc07"></a><!-- doxytag: member="Op_Conv_EF::contribue_au_second_membre_a_la_diffusion" ref="af8960c0fa034348f7f233617715ffc07" args="(DoubleTab &amp;resu) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Op_Conv_EF::contribue_au_second_membre_a_la_diffusion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>resu</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l01321">1321</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8cpp_source.html#l01016">ajouter_sous_cond()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00084">btd_hors_conv_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00083">btd_impl_</a>, <a class="el" href="MorEqn_8h_source.html#l00082">MorEqn::equation()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00084">hourglass_hors_conv_</a>, and <a class="el" href="Op__Conv__EF_8h_source.html#l00083">hourglass_impl_</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classOp__Conv__EF.html#a843e2b2c4d9bc3de665260b077782d26">ajouter_sous_cond</a>(<a class="code" href="classMorEqn.html#a615dd9abff96edcb625fa0424a489864" title="Renvoie la reference sur l&#39;equation pointe par MorEqn::mon_equation. (version const)">equation</a>().inconnue().valeurs(),resu,((<a class="code" href="classOp__Conv__EF.html#a92cfa1fb25cc3c4e08407f73803d7ee9">btd_hors_conv_</a>==0)||<a class="code" href="classOp__Conv__EF.html#aad213768e53dd2ead0ac9f0554300bfb">btd_impl_</a>),((<a class="code" href="classOp__Conv__EF.html#a0fd689419f4b31be5dda6d2e1b29f6cb">hourglass_hors_conv_</a>==0)||<a class="code" href="classOp__Conv__EF.html#ad3db522667ddc56c48ed6e9e74c11606">hourglass_impl_</a>),1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="acbf3c5413fc53c192e053a8759cc24d5"></a><!-- doxytag: member="Op_Conv_EF::contribuer_a_avec" ref="acbf3c5413fc53c192e053a8759cc24d5" args="(const DoubleTab &amp;, Matrice_Morse &amp;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Op_Conv_EF::contribuer_a_avec </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>inco</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;&#160;</td>
          <td class="paramname"><em>matrice</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>on assemble la matrice des inconnues implicite. </p>

<p>Reimplemented from <a class="el" href="classOperateur__base.html#a903e728aad8e2d490580bf264319d65f">Operateur_base</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00135">135</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8cpp_source.html#l01159">ajouter_contribution()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classOp__Conv__EF.html#aaf58d7bd3fb9fde8eab7c3e5c88091bb">ajouter_contribution</a>(inco, matrice);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a139d3f0f81dbb9de08a709131118ba21"></a><!-- doxytag: member="Op_Conv_EF::contribuer_au_second_membre" ref="a139d3f0f81dbb9de08a709131118ba21" args="(DoubleTab &amp;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Op_Conv_EF::contribuer_au_second_membre </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>resu</em></td><td>)</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>on ajoute la contribution du second membre. </p>

<p>Reimplemented from <a class="el" href="classOperateur__base.html#a1b64f0211a360c124a218be15c80d9c7">Operateur_base</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00144">144</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8cpp_source.html#l01315">contribue_au_second_membre()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classOp__Conv__EF.html#a6f7723749230a882a357dc0cb70d8aab">contribue_au_second_membre</a>(resu);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7cee253aa91530dcc5bb64374497f295"></a><!-- doxytag: member="Op_Conv_EF::cree_instance" ref="a7cee253aa91530dcc5bb64374497f295" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classObjet__U.html">Objet_U</a> * Op_Conv_EF::cree_instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#adfc5a588e608f6da1e6c3339d90b9075">Op_Conv_BTD_EF</a>, and <a class="el" href="classOp__Conv__SUPG__EF.html#a8a9c0a6dbf5c923e72027fb20f4a3e27">Op_Conv_SUPG_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00034">34</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7e2a5cecd74a215b1d15a9921ae252cd"></a><!-- doxytag: member="Op_Conv_EF::dimensionner" ref="a7e2a5cecd74a215b1d15a9921ae252cd" args="(Matrice_Morse &amp;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Op_Conv_EF::dimensionner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;&#160;</td>
          <td class="paramname"><em>matrice</em></td><td>)</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>on dimensionne notre matrice au moyen de la methode dimensionner de la classe<br/>
<a class="el" href="classOp__EF__base.html">Op_EF_base</a>. </p>

<p>Reimplemented from <a class="el" href="classOperateur__base.html#a66ef3c42e72d13fce0852ba92e56be6a">Operateur_base</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00116">116</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>References <a class="el" href="Op__Conv__EF__base_8h_source.html#l00079">Op_Conv_EF_base::la_zcl_EF</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00078">Op_Conv_EF_base::la_zone_EF</a>, <a class="el" href="Ref__Zone__Cl__EF_8h_source.html#l00028">Ref_Zone_Cl_EF::valeur()</a>, and <a class="el" href="Ref__Zone__EF_8h_source.html#l00028">Ref_Zone_EF::valeur()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classOp__Conv__EF.html#a7e2a5cecd74a215b1d15a9921ae252cd" title="on dimensionne notre matrice au moyen de la methode dimensionner de la classe Op_EF_base.">Op_EF_base::dimensionner</a>(<a class="code" href="classOp__Conv__EF__base.html#a4181dffa4d7fa88293cefe4458d355c1">la_zone_EF</a>.<a class="code" href="classRef__Zone__EF.html#ad5f2da15b834bc7d9ca018a566d40715">valeur</a>(),<a class="code" href="classOp__Conv__EF__base.html#a0889e16a9e16050ac5617a02eb8685ce">la_zcl_EF</a>.<a class="code" href="classRef__Zone__Cl__EF.html#a138abe771b80d779394788c6e093ec5c">valeur</a>(), matrice);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7d5605d62e3d84ee52989f53ce5a8236"></a><!-- doxytag: member="Op_Conv_EF::duplique" ref="a7d5605d62e3d84ee52989f53ce5a8236" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Op_Conv_EF::duplique </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classOp__Conv__EF__base.html#a48c72c6cf7b6fce43c7638602865c5d2">Op_Conv_EF_base</a>.</p>

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#ab0968b9b513e4c86df4003be4c2d42d5">Op_Conv_BTD_EF</a>, and <a class="el" href="classOp__Conv__SUPG__EF.html#a74326d36eff194a7590043106841de48">Op_Conv_SUPG_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00034">34</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a96a1bc7061719ca5097fea02003f6b25"></a><!-- doxytag: member="Op_Conv_EF::get_btd" ref="a96a1bc7061719ca5097fea02003f6b25" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Op_Conv_EF::get_btd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00076">76</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8h_source.html#l00100">btd_</a>.</p>
<div class="fragment"><pre class="fragment">  {
    <span class="keywordflow">return</span> <a class="code" href="classOp__Conv__EF.html#a9ac703b912c82db19c86f97ede4d749d">btd_</a>;
  }
</pre></div>
</div>
</div>
<a class="anchor" id="a1713d3b9379f13a6ee344811d4eec051"></a><!-- doxytag: member="Op_Conv_EF::get_champ" ref="a1713d3b9379f13a6ee344811d4eec051" args="(const Motcle &amp;nom) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classChamp__base.html">Champ_base</a> &amp; Op_Conv_EF::get_champ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classMotcle.html">Motcle</a> &amp;&#160;</td>
          <td class="paramname"><em>nom</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classOperateur__base.html#a067527f1aa6a36bbbf7e0d821f9d7d79">Operateur_base</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l01326">1326</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8h_source.html#l00092">coefficient_correcteur_supg_</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span> (nom==<span class="stringliteral">&quot;coefficient_correcteur_supg&quot;</span>)
    <span class="keywordflow">return</span> <a class="code" href="classOp__Conv__EF.html#a381e526d26f897a67f0c19048dfad484">coefficient_correcteur_supg_</a>;
  <span class="keywordflow">return</span> <a class="code" href="classOp__Conv__EF.html#a1713d3b9379f13a6ee344811d4eec051">Op_Conv_EF_base::get_champ</a>(nom);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab3237546eef160637b379f1ec052722c"></a><!-- doxytag: member="Op_Conv_EF::get_info" ref="ab3237546eef160637b379f1ec052722c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> * Op_Conv_EF::get_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Donne des informations sur le type de l'Objet_U. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>const Type_info*<br/>
 Signification: structure regroupant les informations sur le type de l'Objet_U<br/>
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classOp__Conv__EF__base.html#a0383d18bcf8da24f50098c52b4690986">Op_Conv_EF_base</a>.</p>

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#a222064a55cbec39d59db58cc55a503c5">Op_Conv_BTD_EF</a>, and <a class="el" href="classOp__Conv__SUPG__EF.html#a92753a16ec46b72488e064674e3b9aa0">Op_Conv_SUPG_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00034">34</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad0024d61859e2e117e4ba4ed2ea454ff"></a><!-- doxytag: member="Op_Conv_EF::info" ref="ad0024d61859e2e117e4ba4ed2ea454ff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> * Op_Conv_EF::info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Donne des informations sur le type de l'Objet_U. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>const Type_info*<br/>
 Signification: structure regroupant les informations sur le type de l'Objet_U<br/>
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classOp__Conv__EF__base.html#a5e1c980ca244f1cc08c7c0d68ed15e3b">Op_Conv_EF_base</a>.</p>

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#a50d779df787b5e4048d220a55e739482">Op_Conv_BTD_EF</a>, and <a class="el" href="classOp__Conv__SUPG__EF.html#a717843c177d914ca43fd777738611c6b">Op_Conv_SUPG_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00034">34</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac313f306b91490ce52c1722801dd9fa1"></a><!-- doxytag: member="Op_Conv_EF::modifier_pour_Cl" ref="ac313f306b91490ce52c1722801dd9fa1" args="(Matrice_Morse &amp;, DoubleTab &amp;) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Op_Conv_EF::modifier_pour_Cl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMatrice__Morse.html">Matrice_Morse</a> &amp;&#160;</td>
          <td class="paramname"><em>matrice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>secmem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On modifie le second membre et la matrice dans le cas des<br/>
conditions de dirichlet. </p>

<p>Reimplemented from <a class="el" href="classOperateur__base.html#a119798b1efa7c62fb28a53c20ccd105c">Operateur_base</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00126">126</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>References <a class="el" href="Op__Conv__EF__base_8h_source.html#l00079">Op_Conv_EF_base::la_zcl_EF</a>, <a class="el" href="Op__Conv__EF__base_8h_source.html#l00078">Op_Conv_EF_base::la_zone_EF</a>, <a class="el" href="Ref__Zone__Cl__EF_8h_source.html#l00028">Ref_Zone_Cl_EF::valeur()</a>, and <a class="el" href="Ref__Zone__EF_8h_source.html#l00028">Ref_Zone_EF::valeur()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classOp__Conv__EF.html#ac313f306b91490ce52c1722801dd9fa1" title="On modifie le second membre et la matrice dans le cas des conditions de dirichlet.">Op_EF_base::modifier_pour_Cl</a>(<a class="code" href="classOp__Conv__EF__base.html#a4181dffa4d7fa88293cefe4458d355c1">la_zone_EF</a>.<a class="code" href="classRef__Zone__EF.html#ad5f2da15b834bc7d9ca018a566d40715">valeur</a>(),<a class="code" href="classOp__Conv__EF__base.html#a0889e16a9e16050ac5617a02eb8685ce">la_zcl_EF</a>.<a class="code" href="classRef__Zone__Cl__EF.html#a138abe771b80d779394788c6e093ec5c">valeur</a>(), matrice, secmem);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a39e280aa68788ded371fba87a4766c4c"></a><!-- doxytag: member="Op_Conv_EF::printOn" ref="a39e280aa68788ded371fba87a4766c4c" args="(Sortie &amp;x) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSortie.html">Sortie</a> &amp; Op_Conv_EF::printOn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSortie.html">Sortie</a> &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>NE FAIT RIEN<br/>
A surcharger dans les classes derivees. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp;<br/>
 Signification: le flot de sortie<br/>
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classOp__Conv__EF__base.html#a0a7cb620ca94c3cbe1a05c134912bebb">Op_Conv_EF_base</a>.</p>

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#a7f2c32b1675b7bc106534c8b967cfaca">Op_Conv_BTD_EF</a>, and <a class="el" href="classOp__Conv__SUPG__EF.html#ada65ce1f42b60c166b4e86f91d737b29">Op_Conv_SUPG_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00082">82</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Objet__U_8cpp_source.html#l00132">Objet_U::que_suis_je()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">return</span> s &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() ;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a867588a3d7783e1937136ba6a509306a"></a><!-- doxytag: member="Op_Conv_EF::readOn" ref="a867588a3d7783e1937136ba6a509306a" args="(Entree &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classEntree.html">Entree</a> &amp; Op_Conv_EF::readOn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classEntree.html">Entree</a> &amp;&#160;</td>
          <td class="paramname"><em>is</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>NE FAIT RIEN<br/>
A surcharger dans les classes derivees. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp;<br/>
 Signification: le flot d'entree<br/>
 Contraintes: </dd></dl>

<p>Reimplemented from <a class="el" href="classOp__Conv__EF__base.html#a530746a697d1495fd8073222245dda96">Op_Conv_EF_base</a>.</p>

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#af6705b81e8ebffc122576b9ffba4f848">Op_Conv_BTD_EF</a>, and <a class="el" href="classOp__Conv__SUPG__EF.html#a504509482ae835318b838805b9380658">Op_Conv_SUPG_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00089">89</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

<p>References <a class="el" href="Op__Conv__EF_8h_source.html#l00086">amont</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00100">btd_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00083">btd_impl_</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00086">centre</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00083">centre_impl_</a>, <a class="el" href="EntreeSortie_8h_source.html#l00032">Cerr</a>, <a class="el" href="Process_8cpp_source.html#l00223">Process::exit()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00085">f_lu_</a>, <a class="el" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00082">hourglass</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00083">hourglass_impl_</a>, <a class="el" href="Objet__U_8cpp_source.html#l00132">Objet_U::que_suis_je()</a>, and <a class="el" href="Op__Conv__EF_8h_source.html#l00088">type_op</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classOp__Conv__EF.html#a9ac703b912c82db19c86f97ede4d749d">btd_</a>=3.;
  <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> type_op_lu;
  s &gt;&gt; type_op_lu;

  <span class="keywordflow">if</span> (!(type_op_lu==<span class="stringliteral">&quot;amont&quot;</span>) &amp;&amp;  !(type_op_lu==<span class="stringliteral">&quot;centre&quot;</span>)  &amp;&amp;  !(type_op_lu==<span class="stringliteral">&quot;amont3&quot;</span>)&amp;&amp;!(type_op_lu==<span class="stringliteral">&quot;btd&quot;</span>))
    {
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; type_op_lu &lt;&lt; <span class="stringliteral">&quot; n&#39;est pas compris par &quot;</span> &lt;&lt; <a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
      <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; choisir parmi : amont -btd - centre &quot;</span> &lt;&lt; finl;
      <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
    }


  <span class="keywordflow">if</span> (type_op_lu==<span class="stringliteral">&quot;centre&quot;</span>)
    {
      <a class="code" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">type_op</a> = <a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da833f1aa6bfe72fc2320b1baf4e991957">centre</a>;

    }

  <span class="keywordflow">if</span> ((type_op_lu==<span class="stringliteral">&quot;amont&quot;</span>)||(type_op_lu==<span class="stringliteral">&quot;amont3&quot;</span>)||(type_op_lu==<span class="stringliteral">&quot;btd&quot;</span>))
    {
      <a class="code" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">type_op</a> = <a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8">amont</a>;
    }


  <span class="keywordflow">if</span> ((<a class="code" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">type_op</a>==<a class="code" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75da3cab344cce2439325cbbaf941192caa8">amont</a>)
      &amp;&amp;  (type_op_lu!=<span class="stringliteral">&quot;amont2&quot;</span>))
    {
      <a class="code" href="classOp__Conv__EF.html#a327e97302d9067603701c1fd50acedc1">f_lu_</a>=0.036585;
      <a class="code" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">hourglass</a>=1;
      <a class="code" href="classOp__Conv__EF.html#ad3db522667ddc56c48ed6e9e74c11606">hourglass_impl_</a>=1;
      <a class="code" href="classOp__Conv__EF.html#aad213768e53dd2ead0ac9f0554300bfb">btd_impl_</a>=1;
      <a class="code" href="classOp__Conv__EF.html#a0849a62e83511b82512742ded6db229a" title="flag pour savoir si les termes sont implicites">centre_impl_</a>=1;
    }
  <span class="keywordflow">if</span> (type_op_lu==<span class="stringliteral">&quot;amont3&quot;</span>)
    {
      s &gt;&gt; <a class="code" href="classOp__Conv__EF.html#a327e97302d9067603701c1fd50acedc1">f_lu_</a>;
<span class="comment">// decommente  les 2 lognes</span>
<span class="comment">// centre_impl_=0;</span>
<span class="comment">// calcul_dt_stab_=1;</span>
    }
  <span class="keywordflow">if</span>  (type_op_lu==<span class="stringliteral">&quot;btd&quot;</span>)
    <a class="code" href="classOp__Conv__EF.html#a327e97302d9067603701c1fd50acedc1">f_lu_</a>=-1;


  <span class="keywordflow">return</span> s ;
}
</pre></div>
</div>
</div>
<a class="anchor" id="acec784379a017c2dfb2efa21faa7e5d5"></a><!-- doxytag: member="Op_Conv_EF::self_cast" ref="acec784379a017c2dfb2efa21faa7e5d5" args="(Objet_U &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOp__Conv__EF.html">Op_Conv_EF</a> &amp; Op_Conv_EF::self_cast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classObjet__U.html">Objet_U</a> &amp;&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classOp__Conv__EF__base.html#a484bdfc6c46bb2b62570eae96e52ee2a">Op_Conv_EF_base</a>.</p>

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#a4198f82f576a4d187812aac2f047e4c5">Op_Conv_BTD_EF</a>, and <a class="el" href="classOp__Conv__SUPG__EF.html#a2b05ee75a77d6ac967870ede9f6380f2">Op_Conv_SUPG_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00034">34</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3fe09165070f738d7ffc42e900cfcb78"></a><!-- doxytag: member="Op_Conv_EF::self_cast" ref="a3fe09165070f738d7ffc42e900cfcb78" args="(const Objet_U &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classOp__Conv__EF.html">Op_Conv_EF</a> &amp; Op_Conv_EF::self_cast </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classObjet__U.html">Objet_U</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>methode ajoutee pour caster en python </p>

<p>Reimplemented from <a class="el" href="classOp__Conv__EF__base.html#ad2646216dec7019e305cf126f7ad985e">Op_Conv_EF_base</a>.</p>

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#a888bd072cea8cc3eb92c12da5f3c8771">Op_Conv_BTD_EF</a>, and <a class="el" href="classOp__Conv__SUPG__EF.html#a841056c3fcc55f1315b68c25fcb93320">Op_Conv_SUPG_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00034">34</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a06e662ffe1270e9a4b5982e628497b58"></a><!-- doxytag: member="Op_Conv_EF::taille_memoire" ref="a06e662ffe1270e9a4b5982e628497b58" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned Op_Conv_EF::taille_memoire </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="classObjet__U.html#a0ee0946339f09a2c73c09fcda71c3be2">Objet_U</a>.</p>

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#aa441cfc16b4dc3e0a8b8daf60141bf2c">Op_Conv_BTD_EF</a>, and <a class="el" href="classOp__Conv__SUPG__EF.html#a1cffa97082f6e9c0355aad3bb8fec06c">Op_Conv_SUPG_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8cpp_source.html#l00034">34</a> of file <a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a9ac703b912c82db19c86f97ede4d749d"></a><!-- doxytag: member="Op_Conv_EF::btd_" ref="a9ac703b912c82db19c86f97ede4d749d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classOp__Conv__EF.html#a9ac703b912c82db19c86f97ede4d749d">Op_Conv_EF::btd_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00100">100</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01169">calculer_dt_stab()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00072">Op_Conv_BTD_EF::coefficient_btd()</a>, <a class="el" href="Op__Conv__EF_8h_source.html#l00076">get_btd()</a>, <a class="el" href="Op__Conv__SUPG__EF_8cpp_source.html#l00034">Op_Conv_SUPG_EF::readOn()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00089">readOn()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l00062">Op_Conv_BTD_EF::readOn()</a>.</p>

</div>
</div>
<a class="anchor" id="a92cfa1fb25cc3c4e08407f73803d7ee9"></a><!-- doxytag: member="Op_Conv_EF::btd_hors_conv_" ref="a92cfa1fb25cc3c4e08407f73803d7ee9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classOp__Conv__EF.html#a92cfa1fb25cc3c4e08407f73803d7ee9">Op_Conv_EF::btd_hors_conv_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00084">84</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l00169">ajouter()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00174">ajouter_a_la_diffusion()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01159">ajouter_contribution()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01164">ajouter_contribution_a_la_diffusion()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00137">completer()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01315">contribue_au_second_membre()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01321">contribue_au_second_membre_a_la_diffusion()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l00041">Op_Conv_BTD_EF::Op_Conv_BTD_EF()</a>.</p>

</div>
</div>
<a class="anchor" id="aad213768e53dd2ead0ac9f0554300bfb"></a><!-- doxytag: member="Op_Conv_EF::btd_impl_" ref="aad213768e53dd2ead0ac9f0554300bfb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classOp__Conv__EF.html#aad213768e53dd2ead0ac9f0554300bfb">Op_Conv_EF::btd_impl_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00083">83</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01159">ajouter_contribution()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01164">ajouter_contribution_a_la_diffusion()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01315">contribue_au_second_membre()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01321">contribue_au_second_membre_a_la_diffusion()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00041">Op_Conv_BTD_EF::Op_Conv_BTD_EF()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l00089">readOn()</a>.</p>

</div>
</div>
<a class="anchor" id="a1678395576cd863d74af0bdada354c3b"></a><!-- doxytag: member="Op_Conv_EF::calcul_dt_stab_" ref="a1678395576cd863d74af0bdada354c3b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classOp__Conv__EF.html#a1678395576cd863d74af0bdada354c3b">Op_Conv_EF::calcul_dt_stab_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00087">87</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01169">calculer_dt_stab()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00137">completer()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l00041">Op_Conv_BTD_EF::Op_Conv_BTD_EF()</a>.</p>

</div>
</div>
<a class="anchor" id="a0849a62e83511b82512742ded6db229a"></a><!-- doxytag: member="Op_Conv_EF::centre_impl_" ref="a0849a62e83511b82512742ded6db229a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classOp__Conv__EF.html#a0849a62e83511b82512742ded6db229a">Op_Conv_EF::centre_impl_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>flag pour savoir si les termes sont implicites </p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00083">83</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01159">ajouter_contribution()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01315">contribue_au_second_membre()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00041">Op_Conv_BTD_EF::Op_Conv_BTD_EF()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l00089">readOn()</a>.</p>

</div>
</div>
<a class="anchor" id="a381e526d26f897a67f0c19048dfad484"></a><!-- doxytag: member="Op_Conv_EF::coefficient_correcteur_supg_" ref="a381e526d26f897a67f0c19048dfad484" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classChamp__Uniforme.html">Champ_Uniforme</a> <a class="el" href="classOp__Conv__EF.html#a381e526d26f897a67f0c19048dfad484">Op_Conv_EF::coefficient_correcteur_supg_</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00092">92</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01169">calculer_dt_stab()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l01326">get_champ()</a>.</p>

</div>
</div>
<a class="anchor" id="a327e97302d9067603701c1fd50acedc1"></a><!-- doxytag: member="Op_Conv_EF::f_lu_" ref="a327e97302d9067603701c1fd50acedc1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classOp__Conv__EF.html#a327e97302d9067603701c1fd50acedc1">Op_Conv_EF::f_lu_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00085">85</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l00181">coefficient_btd()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l00089">readOn()</a>.</p>

</div>
</div>
<a class="anchor" id="a0bef9faac14750f2e1b3cd23714f8428"></a><!-- doxytag: member="Op_Conv_EF::hourglass" ref="a0bef9faac14750f2e1b3cd23714f8428" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classOp__Conv__EF.html#a0bef9faac14750f2e1b3cd23714f8428">Op_Conv_EF::hourglass</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00082">82</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01033">ajouter_contribution_sous_cond()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00850">ajouter_sous_cond_dim2_nbn4_nbdim1()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00685">ajouter_sous_cond_dim2_nbn4_nbdim2()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00519">ajouter_sous_cond_dim3_nbn8_nbdim1()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00354">ajouter_sous_cond_dim3_nbn8_nbdim2()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00193">ajouter_sous_cond_gen()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00041">Op_Conv_BTD_EF::Op_Conv_BTD_EF()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l00089">readOn()</a>.</p>

</div>
</div>
<a class="anchor" id="a0fd689419f4b31be5dda6d2e1b29f6cb"></a><!-- doxytag: member="Op_Conv_EF::hourglass_hors_conv_" ref="a0fd689419f4b31be5dda6d2e1b29f6cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classOp__Conv__EF.html#a0fd689419f4b31be5dda6d2e1b29f6cb">Op_Conv_EF::hourglass_hors_conv_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00084">84</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l00169">ajouter()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00174">ajouter_a_la_diffusion()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01159">ajouter_contribution()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01164">ajouter_contribution_a_la_diffusion()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00137">completer()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01315">contribue_au_second_membre()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01321">contribue_au_second_membre_a_la_diffusion()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l00041">Op_Conv_BTD_EF::Op_Conv_BTD_EF()</a>.</p>

</div>
</div>
<a class="anchor" id="ad3db522667ddc56c48ed6e9e74c11606"></a><!-- doxytag: member="Op_Conv_EF::hourglass_impl_" ref="ad3db522667ddc56c48ed6e9e74c11606" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classOp__Conv__EF.html#ad3db522667ddc56c48ed6e9e74c11606">Op_Conv_EF::hourglass_impl_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00083">83</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01159">ajouter_contribution()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01164">ajouter_contribution_a_la_diffusion()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01315">contribue_au_second_membre()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l01321">contribue_au_second_membre_a_la_diffusion()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00041">Op_Conv_BTD_EF::Op_Conv_BTD_EF()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l00089">readOn()</a>.</p>

</div>
</div>
<a class="anchor" id="aa3002f1ede9763e7f0179dc79648dd05"></a><!-- doxytag: member="Op_Conv_EF::info_obj" ref="aa3002f1ede9763e7f0179dc79648dd05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a> <a class="el" href="classOp__Conv__EF.html#aa3002f1ede9763e7f0179dc79648dd05">Op_Conv_EF::info_obj</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classOp__Conv__EF__base.html#a8dc43dabdc3bfa3bc57cc7bf8354f7ab">Op_Conv_EF_base</a>.</p>

<p>Reimplemented in <a class="el" href="classOp__Conv__BTD__EF.html#aadfe0818cd682156231d540e0760d23d">Op_Conv_BTD_EF</a>, and <a class="el" href="classOp__Conv__SUPG__EF.html#ad2954cf7246fb8733cfcb7c022ca64c3">Op_Conv_SUPG_EF</a>.</p>

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00048">48</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

</div>
</div>
<a class="anchor" id="addb861acb56bcf446418030b4d868e20"></a><!-- doxytag: member="Op_Conv_EF::max_ue_" ref="addb861acb56bcf446418030b4d868e20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classOp__Conv__EF.html#addb861acb56bcf446418030b4d868e20">Op_Conv_EF::max_ue_</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00091">91</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01169">calculer_dt_stab()</a>, and <a class="el" href="Op__Conv__SUPG__EF_8cpp_source.html#l00044">Op_Conv_SUPG_EF::coefficient_btd()</a>.</p>

</div>
</div>
<a class="anchor" id="a60549d6d5a02155aa97167dc94309532"></a><!-- doxytag: member="Op_Conv_EF::min_dx_" ref="a60549d6d5a02155aa97167dc94309532" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classOp__Conv__EF.html#a60549d6d5a02155aa97167dc94309532">Op_Conv_EF::min_dx_</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00091">91</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01169">calculer_dt_stab()</a>, and <a class="el" href="Op__Conv__SUPG__EF_8cpp_source.html#l00044">Op_Conv_SUPG_EF::coefficient_btd()</a>.</p>

</div>
</div>
<a class="anchor" id="af6b1073d41da2d3fabb35ef12923cb0c"></a><!-- doxytag: member="Op_Conv_EF::type_op" ref="af6b1073d41da2d3fabb35ef12923cb0c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOp__Conv__EF.html#ab9734112d198e5e32e51e1efd1a9b75d">type_operateur</a> <a class="el" href="classOp__Conv__EF.html#af6b1073d41da2d3fabb35ef12923cb0c">Op_Conv_EF::type_op</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Op__Conv__EF_8h_source.html#l00088">88</a> of file <a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a>.</p>

<p>Referenced by <a class="el" href="Op__Conv__EF_8cpp_source.html#l01033">ajouter_contribution_sous_cond()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00850">ajouter_sous_cond_dim2_nbn4_nbdim1()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00685">ajouter_sous_cond_dim2_nbn4_nbdim2()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00519">ajouter_sous_cond_dim3_nbn8_nbdim1()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00354">ajouter_sous_cond_dim3_nbn8_nbdim2()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00193">ajouter_sous_cond_gen()</a>, <a class="el" href="Op__Conv__EF_8cpp_source.html#l00041">Op_Conv_BTD_EF::Op_Conv_BTD_EF()</a>, and <a class="el" href="Op__Conv__EF_8cpp_source.html#l00089">readOn()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/EF/Operateurs/<a class="el" href="Op__Conv__EF_8h_source.html">Op_Conv_EF.h</a></li>
<li>src/EF/Operateurs/<a class="el" href="Op__Conv__EF_8cpp_source.html">Op_Conv_EF.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:37:14 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
