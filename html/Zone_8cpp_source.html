<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Geometrie/Zone.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Geometrie/Zone.cpp</div>  </div>
</div>
<div class="contents">
<a href="Zone_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2021, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        Zone.cpp</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Geometrie</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/69</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="Zone_8h.html">Zone.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="Domaine_8h.html">Domaine.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="Sous__Zone_8h.html">Sous_Zone.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="Octree_8h.html">Octree.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="code" href="communications_8h.html">communications.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="code" href="MD__Vector__tools_8h.html">MD_Vector_tools.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="code" href="IntList_8h.html">IntList.h</a>&gt;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a><a class="code" href="Zone_8cpp.html#a6c924597137288c1e613c1269613416e">00031</a> <a class="code" href="Declare__Inst_8h.html#afcab3f7633508e92f2077d767e19bc60">Implemente_instanciable_sans_constructeur</a>(<a class="code" href="classZone.html" title="classe Zone Une Zone est un maillage compose d&#39;un ensemble d&#39;elements geometriques de meme type...">Zone</a>,<span class="stringliteral">&quot;Zone&quot;</span>,<a class="code" href="classObjet__U.html" title="classe Objet_U Cette classe est la classe de base des Objets de TRUST Dans les classes derivees de Ob...">Objet_U</a>);
<a name="l00032"></a>00032 
<a name="l00033"></a><a class="code" href="classZone.html#a37c9721c0d592a7a231f4e6dbae93277">00033</a> <a class="code" href="classZone.html#a37c9721c0d592a7a231f4e6dbae93277">Zone::Zone</a>() :
<a name="l00034"></a>00034   Moments_a_imprimer_(0)
<a name="l00035"></a>00035 {
<a name="l00036"></a>00036   <a class="code" href="classZone.html#a183cd42546accfc19aa26cd9493d3d0f">volume_total_</a> = -1.; <span class="comment">//!&lt; pas encore calcule</span>
<a name="l00037"></a>00037 <span class="comment"></span>}
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="comment">// Precondition:</span>
<a name="l00040"></a>00040 <span class="comment">// Parametre: Sortie&amp; s</span>
<a name="l00041"></a>00041 <span class="comment">// Signification: un flot de sortie</span>
<a name="l00042"></a>00042 <span class="comment">// Valeurs par defaut:</span>
<a name="l00043"></a>00043 <span class="comment">// Contraintes:</span>
<a name="l00044"></a>00044 <span class="comment">// Acces: entree/sortie</span>
<a name="l00045"></a>00045 <span class="comment">// Exception:</span>
<a name="l00046"></a>00046 <span class="comment">// Effets de bord:</span>
<a name="l00047"></a>00047 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00048"></a>00048 <span class="comment">//</span>
<a name="l00049"></a>00049 <span class="comment">//</span>
<a name="l00050"></a>00050 <span class="comment">//</span>
<a name="l00051"></a>00051 <span class="comment">//</span><span class="comment"></span>
<a name="l00052"></a>00052 <span class="comment">//! Ecrit la Zone sur un flot de sortie.&lt;br&gt;On ecrit le nom, le type des elements, les elements&lt;br&gt;et les bords, les bords periodiques, les joints, les&lt;br&gt;raccords et les faces internes.</span>
<a name="l00053"></a>00053 <span class="comment"></span><span class="comment">/** \return Sortie\&amp;&lt;br&gt;</span>
<a name="l00054"></a>00054 <span class="comment">Signification: le flot de sortie modifie&lt;br&gt;</span>
<a name="l00055"></a>00055 <span class="comment">Contraintes: */</span>
<a name="l00056"></a><a class="code" href="classZone.html#a0ccc13282a158da60844e40e8cabaea3">00056</a> <a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; <a class="code" href="classZone.html#a0ccc13282a158da60844e40e8cabaea3" title="Ecrit la Zone sur un flot de sortie. On ecrit le nom, le type des elements, les elements et les bords...">Zone::printOn</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; s )<span class="keyword"> const</span>
<a name="l00057"></a>00057 <span class="keyword"></span>{
<a name="l00058"></a>00058   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Writing of &quot;</span> &lt;&lt; <a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>() &lt;&lt; <span class="stringliteral">&quot; elements.&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00059"></a>00059   s &lt;&lt; <a class="code" href="classZone.html#ab66afe384f079c403db580885a11158e">nom</a> &lt;&lt; finl;
<a name="l00060"></a>00060   s &lt;&lt; <a class="code" href="classZone.html#a73993a185809e3e7ca620df7fa4bf8af">elem</a> &lt;&lt; finl;
<a name="l00061"></a>00061   s &lt;&lt; <a class="code" href="classZone.html#ae3b8b8c04c1a18b897762abf8e891454">mes_elems</a>;
<a name="l00062"></a>00062   s &lt;&lt; <a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>;
<a name="l00063"></a>00063   s &lt;&lt; <a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>;
<a name="l00064"></a>00064   s &lt;&lt; <a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>;
<a name="l00065"></a>00065   s &lt;&lt; <a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>;
<a name="l00066"></a>00066   <span class="keywordflow">return</span> s;
<a name="l00067"></a>00067 }
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="Zone_8cpp.html#a19698e8d55594a15120127ed92396e0c">00069</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> LIST_FRONTIERE&gt; <span class="keywordtype">void</span> <a class="code" href="Zone_8cpp.html#a19698e8d55594a15120127ed92396e0c">check_frontiere</a>(<span class="keyword">const</span> LIST_FRONTIERE&amp; list, <span class="keyword">const</span> <span class="keywordtype">char</span> * msg)
<a name="l00070"></a>00070 {
<a name="l00071"></a>00071   <span class="keywordtype">int</span> n = list.size();
<a name="l00072"></a>00072   <span class="keywordflow">if</span> (! <a class="code" href="communications_8cpp.html#ab2c3f842da413b3de32448f068bd33b8" title="renvoie 1 (sur tous les procs) si le parametre est identique sur tous les procs, sinon renvoie 0 (sur...">is_parallel_object</a>(n))
<a name="l00073"></a>00073     {
<a name="l00074"></a>00074       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Fatal error: processors don&#39;t have the same number of boundaries &quot;</span> &lt;&lt; msg &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00075"></a>00075       <a class="code" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1" title="Synchronise tous les processeurs du groupe courant&lt;br&gt;(attend que tous les processeurs soient arrives...">Process::barrier</a>();
<a name="l00076"></a>00076       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00077"></a>00077     }
<a name="l00078"></a>00078   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)
<a name="l00079"></a>00079     {
<a name="l00080"></a>00080       <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; nom = list[i].<a class="code" href="classNom.html#a4fcffbaa80271df0d9674f2a2751efb9" title="Renvoie *this;.">le_nom</a>();
<a name="l00081"></a>00081       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Boundary &quot;</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot; : &quot;</span> &lt;&lt; nom &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00082"></a>00082       <span class="keywordflow">if</span> (! <a class="code" href="communications_8cpp.html#ab2c3f842da413b3de32448f068bd33b8" title="renvoie 1 (sur tous les procs) si le parametre est identique sur tous les procs, sinon renvoie 0 (sur...">is_parallel_object</a>(nom))
<a name="l00083"></a>00083         {
<a name="l00084"></a>00084           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Fatal error: processors don&#39;t have the same number of boundaries &quot;</span> &lt;&lt; msg &lt;&lt; finl;
<a name="l00085"></a>00085           <a class="code" href="classProcess.html#aa9e74a5c06a68ea38298a08ea401e7b1" title="Synchronise tous les processeurs du groupe courant&lt;br&gt;(attend que tous les processeurs soient arrives...">Process::barrier</a>();
<a name="l00086"></a>00086           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00087"></a>00087         }
<a name="l00088"></a>00088     }
<a name="l00089"></a>00089 }
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 <span class="comment">// S&#39;il y a un proc qui a un type different de vide_OD, on type les faces sur tous</span>
<a name="l00092"></a>00092 <span class="comment">// les processeurs avec ce type:</span>
<a name="l00093"></a><a class="code" href="Zone_8cpp.html#a45173c1e679286881f3d6d04755c2f74">00093</a> <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="Zone_8cpp.html#a45173c1e679286881f3d6d04755c2f74">corriger_type</a>(<a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; faces,<span class="keyword">const</span> <a class="code" href="classElem__geom__base.html" title="Classe Elem_geom_base Cette classe est la classe de base pour la definition d&#39;elements geometriques c...">Elem_geom_base</a>&amp; <a class="code" href="Raffiner__Simplexes_8cpp.html#a358dc168d8905bbafc12587204bc9fb8">type_elem</a>)
<a name="l00094"></a>00094 {
<a name="l00095"></a>00095   <span class="keywordtype">int</span> typ = faces.<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>();
<a name="l00096"></a>00096   <span class="keyword">const</span> <span class="keywordtype">int</span> pe = (faces.<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>() == <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458af5a5c15f80ef779d90f83960f4064a01">Faces::vide_0D</a>) ? <a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>()-1 : <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">Process::me</a>();
<a name="l00097"></a>00097   <span class="keyword">const</span> <span class="keywordtype">int</span> min_pe =<a class="code" href="communications_8cpp.html#adb9fffe31bc56a52685e93ba06932547" title="renvoie le plus petit int i sur l&#39;ensemble des processeurs du groupe courant."> ::mp_min</a>(pe);
<a name="l00098"></a>00098 <span class="comment">// Le processeur min_pe envoie son type a tous les autres</span>
<a name="l00099"></a>00099   <span class="keywordtype">int</span> typ_commun = typ;
<a name="l00100"></a>00100   <a class="code" href="communications_8cpp.html#a2335b36078ae87e23dab400a6e129a3c">envoyer_broadcast</a>(typ_commun, min_pe);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102   <span class="keywordflow">if</span> (typ_commun != typ)
<a name="l00103"></a>00103     {
<a name="l00104"></a>00104       <span class="keywordflow">if</span> (typ != <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458af5a5c15f80ef779d90f83960f4064a01">Faces::vide_0D</a>)
<a name="l00105"></a>00105         {
<a name="l00106"></a>00106           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Error in Zone.cpp corriger_type: invalid boundary face type&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00107"></a>00107           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l00108"></a>00108         }
<a name="l00109"></a>00109       <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a> tt = (<a class="code" href="Faces_8h.html#a9461a21d90d8797b365dbf14c38667c4">Type_Face</a>)typ_commun;
<a name="l00110"></a>00110       faces.<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(tt);
<a name="l00111"></a>00111 <span class="comment">// int n= faces.nb_som_faces();</span>
<a name="l00112"></a>00112       <span class="keywordtype">int</span> n =type_elem.<a class="code" href="classElem__geom__base.html#ad6c1fe053cf842b50bc1c0870f4d21f5">nb_som_face</a>();
<a name="l00113"></a>00113       faces.<a class="code" href="classFaces.html#a07b8d8db9e3d656b93a21a49c063430c">les_sommets</a>().<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(0, n);
<a name="l00114"></a>00114     }
<a name="l00115"></a>00115 }
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 <span class="comment">// Precondition:</span>
<a name="l00118"></a>00118 <span class="comment">// Parametre: Entree&amp; s</span>
<a name="l00119"></a>00119 <span class="comment">// Signification: un flot d&#39;entree</span>
<a name="l00120"></a>00120 <span class="comment">// Valeurs par defaut:</span>
<a name="l00121"></a>00121 <span class="comment">// Contraintes:</span>
<a name="l00122"></a>00122 <span class="comment">// Acces: entree/sortie</span>
<a name="l00123"></a>00123 <span class="comment">// Exception:</span>
<a name="l00124"></a>00124 <span class="comment">// Effets de bord:</span>
<a name="l00125"></a>00125 <span class="comment">// Postcondition:</span>
<a name="l00126"></a>00126 <span class="comment">//</span>
<a name="l00127"></a>00127 <span class="comment">//</span>
<a name="l00128"></a>00128 <span class="comment">//</span><span class="comment"></span>
<a name="l00129"></a>00129 <span class="comment">//! Lit les objets constituant une Zone&lt;br&gt;a partir d&#39;un flot d&#39;entree. Une fois les objets&lt;br&gt;lus on les associe a la zone.</span>
<a name="l00130"></a>00130 <span class="comment"></span><span class="comment">/** \return Entree\&amp;&lt;br&gt;</span>
<a name="l00131"></a>00131 <span class="comment">Signification: le flot d&#39;entree modifie&lt;br&gt;</span>
<a name="l00132"></a>00132 <span class="comment">Contraintes: */</span>
<a name="l00133"></a><a class="code" href="classZone.html#aa1300baf2ddbd08119f07e7e08069674">00133</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classZone.html#aa1300baf2ddbd08119f07e7e08069674" title="Lit les objets constituant une Zone a partir d&#39;un flot d&#39;entree. Une fois les objets lus on les assoc...">Zone::readOn</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; s)
<a name="l00134"></a>00134 {
<a name="l00135"></a>00135   <a class="code" href="classZone.html#a6a0068f3a0e3b45340f9dcbcef01e00a" title="read zone from the input stream">read_zone</a>(s);
<a name="l00136"></a>00136   <a class="code" href="classZone.html#a7299f36361dd10ed56d008143f517bfe" title="associate the read objects to the zone and check that the reading objects are coherent">check_zone</a>();
<a name="l00137"></a>00137   <span class="keywordflow">return</span> s ;
<a name="l00138"></a>00138 }
<a name="l00139"></a>00139 
<a name="l00140"></a>00140 
<a name="l00141"></a>00141 <span class="comment">//</span><span class="comment"></span>
<a name="l00142"></a>00142 <span class="comment">//! read zone from the input stream</span>
<a name="l00143"></a><a class="code" href="classZone.html#a6a0068f3a0e3b45340f9dcbcef01e00a">00143</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone.html#a6a0068f3a0e3b45340f9dcbcef01e00a" title="read zone from the input stream">Zone::read_zone</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; s)
<a name="l00144"></a>00144 {
<a name="l00145"></a>00145   s &gt;&gt; <a class="code" href="classZone.html#ab66afe384f079c403db580885a11158e">nom</a> ;
<a name="l00146"></a>00146   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot; Reading zone &quot;</span> &lt;&lt; <a class="code" href="classZone.html#aad29ea7a38564404cc0417383233aaf0" title="Renvoie le nom de la zone.">le_nom</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00147"></a>00147   s &gt;&gt; <a class="code" href="classZone.html#a73993a185809e3e7ca620df7fa4bf8af">elem</a>;
<a name="l00148"></a>00148   s &gt;&gt; <a class="code" href="classZone.html#ae3b8b8c04c1a18b897762abf8e891454">mes_elems</a>;
<a name="l00149"></a>00149   s &gt;&gt; <a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>;
<a name="l00150"></a>00150   s &gt;&gt; <a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>;
<a name="l00151"></a>00151   s &gt;&gt; <a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>;
<a name="l00152"></a>00152   s &gt;&gt; <a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>;
<a name="l00153"></a>00153 }
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="comment">//</span>
<a name="l00156"></a>00156 <span class="comment">//</span><span class="comment"></span>
<a name="l00157"></a>00157 <span class="comment">//! associate the read objects to the zone&lt;br&gt;and check that the reading objects are coherent</span>
<a name="l00158"></a><a class="code" href="classZone.html#a7299f36361dd10ed56d008143f517bfe">00158</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone.html#a7299f36361dd10ed56d008143f517bfe" title="associate the read objects to the zone and check that the reading objects are coherent">Zone::check_zone</a>()
<a name="l00159"></a>00159 {
<a name="l00160"></a>00160 <span class="comment">// remplacer Faces::vide_0D par le bon type pour les procs qui n&#39;ont pas de faces de bord:</span>
<a name="l00161"></a>00161   {
<a name="l00162"></a>00162     <span class="keywordtype">int</span> i;
<a name="l00163"></a>00163     <span class="keywordtype">int</span> n = <a class="code" href="classZone.html#a9bf185c52ad1809d954bba670d9aed8a" title="Renvoie le nombre de bords + le nombre de raccords + le nombre de faces frontieres internes...">nb_front_Cl</a>();
<a name="l00164"></a>00164     <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)
<a name="l00165"></a>00165       {
<a name="l00166"></a>00166         <a class="code" href="Zone_8cpp.html#a45173c1e679286881f3d6d04755c2f74">corriger_type</a>(<a class="code" href="classZone.html#ac338b119d4b0bc4f510a223b9086fe5e">frontiere</a>(i).faces(),<a class="code" href="classZone.html#a18cf83cd0f9c368dcfa32fb802a0ac94" title="Renvoie un element geometrique du type de ceux qui constituent la zone. (version const)">type_elem</a>().<a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>());
<a name="l00167"></a>00167       }
<a name="l00168"></a>00168   }
<a name="l00169"></a>00169 
<a name="l00170"></a>00170   <span class="keywordflow">if</span> (<a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>()==0 &amp;&amp; <a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>.<a class="code" href="classliste.html#ab47f280662ff68f9aa2e00e50431c5dc" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>()==0 &amp;&amp; <a class="code" href="classProcess.html#a6bf692ce58d9578aa62ac3c07b8caaa1" title="renvoie le nombre de processeurs dans le groupe courant Voir Comm_Group::nproc() et PE_Groups::curren...">Process::nproc</a>()==1)
<a name="l00171"></a>00171     {
<a name="l00172"></a>00172       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Warning, the reread zone &quot;</span> &lt;&lt; <a class="code" href="classZone.html#ab66afe384f079c403db580885a11158e">nom</a>
<a name="l00173"></a>00173            &lt;&lt; <span class="stringliteral">&quot; has no defined boundaries (none boundary or connector).&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00174"></a>00174     }
<a name="l00175"></a>00175 
<a name="l00176"></a>00176   <a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>.<a class="code" href="classBords.html#a1775d9d5284e346393210199208b46c9" title="Associe une zone a tous les bords de la liste.">associer_zone</a>(*<span class="keyword">this</span>);
<a name="l00177"></a>00177   <a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>.<a class="code" href="classJoints.html#a5f2b2cd5440785d29d971a62f4d58e9d" title="Associe une zone a tous les joints de la liste. Les joints de la liste feront partie de cette zone...">associer_zone</a>(*<span class="keyword">this</span>);
<a name="l00178"></a>00178   <a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>.<a class="code" href="classRaccords.html#acdfc1c47eb34bb3252f5e66af8f40ebf" title="Associe une zone a tous les raccords de la liste.">associer_zone</a>(*<span class="keyword">this</span>);
<a name="l00179"></a>00179   <a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>.<a class="code" href="classFaces__Internes.html#a3ed8e82f5a22e958ef781161f02209f9" title="Associe une zone a tous les objets Faces_Interne de la liste.">associer_zone</a>(*<span class="keyword">this</span>);
<a name="l00180"></a>00180   <a class="code" href="classZone.html#a73993a185809e3e7ca620df7fa4bf8af">elem</a>.<a class="code" href="classElem__geom.html#a52107168bd97e24d851ca5f667c575e5" title="Appel a l&#39;objet sous-jacent Associe l&#39;element geometrique a sa zone.">associer_zone</a>(*<span class="keyword">this</span>);
<a name="l00181"></a>00181   <a class="code" href="classZone.html#a4e43597ed27e689e989d3ea8528fbbdb">fixer_premieres_faces_frontiere</a>();
<a name="l00182"></a>00182 
<a name="l00183"></a>00183   <span class="keyword">const</span> <span class="keywordtype">int</span> nbelem = <a class="code" href="classProcess.html#a7d23bc1ef94b3f0623fbc79d034c27fd" title="Calcule la somme de x sur tous les processeurs du groupe courant. Voir aussi mp_max()">mp_sum</a>(<a class="code" href="classZone.html#ae3b8b8c04c1a18b897762abf8e891454">mes_elems</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0));
<a name="l00184"></a>00184   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;  Number of elements: &quot;</span> &lt;&lt; nbelem &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00185"></a>00185 
<a name="l00186"></a>00186 <span class="comment">// Verifications sanitaires:</span>
<a name="l00187"></a>00187 <span class="comment">// On doit avoir le meme nombre de frontieres et les memes noms sur tous les procs</span>
<a name="l00188"></a>00188   <a class="code" href="Zone_8cpp.html#a19698e8d55594a15120127ed92396e0c">check_frontiere</a>(<a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>, <span class="stringliteral">&quot;(Bord)&quot;</span>);
<a name="l00189"></a>00189   <a class="code" href="Zone_8cpp.html#a19698e8d55594a15120127ed92396e0c">check_frontiere</a>(<a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>, <span class="stringliteral">&quot;(Raccord)&quot;</span>);
<a name="l00190"></a>00190   <a class="code" href="Zone_8cpp.html#a19698e8d55594a15120127ed92396e0c">check_frontiere</a>(<a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>, <span class="stringliteral">&quot;(Face_Interne)&quot;</span>);
<a name="l00191"></a>00191 
<a name="l00192"></a>00192 }
<a name="l00193"></a>00193 
<a name="l00194"></a><a class="code" href="classZone.html#ad4b444eba79fe33add1830e3b55aec96">00194</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classZone.html#ad4b444eba79fe33add1830e3b55aec96">Zone::Lire_Bords_a_imprimer</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00195"></a>00195 {
<a name="l00196"></a>00196   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_lu;
<a name="l00197"></a>00197   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> motlu, accolade_fermee=<span class="stringliteral">&quot;}&quot;</span>, accolade_ouverte=<span class="stringliteral">&quot;{&quot;</span>;
<a name="l00198"></a>00198   is &gt;&gt; motlu;
<a name="l00199"></a>00199   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Reading boundaries to be print:&quot;</span>  &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00200"></a>00200   <span class="keywordflow">if</span>(motlu!=accolade_ouverte)
<a name="l00201"></a>00201     {
<a name="l00202"></a>00202       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;We expected a list { ... } of boundaries to be print&quot;</span> &lt;&lt; finl;
<a name="l00203"></a>00203       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;and not : &quot;</span> &lt;&lt; motlu &lt;&lt; finl;
<a name="l00204"></a>00204       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00205"></a>00205     }
<a name="l00206"></a>00206   is &gt;&gt; nom_lu;
<a name="l00207"></a>00207   <span class="keywordflow">while</span> (nom_lu != <span class="stringliteral">&quot;}&quot;</span>)
<a name="l00208"></a>00208     {
<a name="l00209"></a>00209       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; nom_lu &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00210"></a>00210       <a class="code" href="classZone.html#aefb8a5ecdc764dc45ab469415e7ce9e7">Bords_a_imprimer_</a>.<a class="code" href="classList__Nom.html#a04f3490bcde0edc6b0ce0dcf3509a640">add</a>(<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(nom_lu));
<a name="l00211"></a>00211       is &gt;&gt; nom_lu;
<a name="l00212"></a>00212     }
<a name="l00213"></a>00213   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; finl;
<a name="l00214"></a>00214   <span class="keywordflow">return</span> is ;
<a name="l00215"></a>00215 }
<a name="l00216"></a>00216 
<a name="l00217"></a><a class="code" href="classZone.html#a7d4b19de9494c8952d2ca64c033cc44f">00217</a> <a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; <a class="code" href="classZone.html#a7d4b19de9494c8952d2ca64c033cc44f">Zone::Lire_Bords_a_imprimer_sum</a>(<a class="code" href="classEntree.html" title="Classe de definition des operateurs et methodes pour toute lecture dans un flot d&#39;entree (fichier...">Entree</a>&amp; is)
<a name="l00218"></a>00218 {
<a name="l00219"></a>00219   <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a> nom_lu;
<a name="l00220"></a>00220   <a class="code" href="classMotcle.html" title="Une chaine de caractere (Nom) en majuscules.">Motcle</a> motlu, accolade_fermee=<span class="stringliteral">&quot;}&quot;</span>, accolade_ouverte=<span class="stringliteral">&quot;{&quot;</span>;
<a name="l00221"></a>00221   is &gt;&gt; motlu;
<a name="l00222"></a>00222   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Reading boundaries to be print:&quot;</span>  &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00223"></a>00223   <span class="keywordflow">if</span>(motlu!=accolade_ouverte)
<a name="l00224"></a>00224     {
<a name="l00225"></a>00225       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;We expected a list { ... } of boundaries to be print&quot;</span> &lt;&lt; finl;
<a name="l00226"></a>00226       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;and not : &quot;</span> &lt;&lt; motlu &lt;&lt; finl;
<a name="l00227"></a>00227       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00228"></a>00228     }
<a name="l00229"></a>00229   is &gt;&gt; nom_lu;
<a name="l00230"></a>00230   <span class="keywordflow">while</span> (nom_lu != <span class="stringliteral">&quot;}&quot;</span>)
<a name="l00231"></a>00231     {
<a name="l00232"></a>00232       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; nom_lu &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;
<a name="l00233"></a>00233       <a class="code" href="classZone.html#a48c6f3d51ff5e38e0a795a13f62882c0">Bords_a_imprimer_sum_</a>.<a class="code" href="classList__Nom.html#a04f3490bcde0edc6b0ce0dcf3509a640">add</a>(<a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>(nom_lu));
<a name="l00234"></a>00234       is &gt;&gt; nom_lu;
<a name="l00235"></a>00235     }
<a name="l00236"></a>00236   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; finl;
<a name="l00237"></a>00237   <span class="keywordflow">return</span> is ;
<a name="l00238"></a>00238 }
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 <span class="comment">//</span>
<a name="l00241"></a>00241 <span class="comment">// </span>
<a name="l00242"></a>00242 <span class="comment">// Implementation des fonctions de la classe Zone</span>
<a name="l00243"></a>00243 <span class="comment">// </span>
<a name="l00244"></a>00244 <span class="comment">//</span>
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 <span class="comment">// Precondition:</span>
<a name="l00248"></a>00248 <span class="comment">// Parametre:</span>
<a name="l00249"></a>00249 <span class="comment">// Signification:</span>
<a name="l00250"></a>00250 <span class="comment">// Valeurs par defaut:</span>
<a name="l00251"></a>00251 <span class="comment">// Contraintes:</span>
<a name="l00252"></a>00252 <span class="comment">// Acces:</span>
<a name="l00253"></a>00253 <span class="comment">// Exception:</span>
<a name="l00254"></a>00254 <span class="comment">// Effets de bord:</span>
<a name="l00255"></a>00255 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00256"></a>00256 <span class="comment">//</span>
<a name="l00257"></a>00257 <span class="comment">//</span><span class="comment"></span>
<a name="l00258"></a>00258 <span class="comment">//! Renvoie le domaine dont la zone fait partie.&lt;br&gt;(version const)</span>
<a name="l00259"></a>00259 <span class="comment"></span><span class="comment">/** \return Domaine\&amp;&lt;br&gt;</span>
<a name="l00260"></a>00260 <span class="comment">Signification: le domaine dont la zone fait partie&lt;br&gt;</span>
<a name="l00261"></a>00261 <span class="comment">Contraintes: reference constante */</span>
<a name="l00262"></a><a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a">00262</a> <span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; <a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">Zone::domaine</a>()<span class="keyword"> const</span>
<a name="l00263"></a>00263 <span class="keyword"></span>{
<a name="l00264"></a>00264   <span class="keywordflow">return</span> <a class="code" href="classZone.html#a650b1362918f5903d587d6b47e07b8c2">le_domaine</a>.<a class="code" href="classRef__Domaine.html#a89e1c374ada79faa2c7e9a76c3393ad8">valeur</a>();
<a name="l00265"></a>00265 }
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 <span class="comment">// Precondition:</span>
<a name="l00268"></a>00268 <span class="comment">// Parametre:</span>
<a name="l00269"></a>00269 <span class="comment">// Signification:</span>
<a name="l00270"></a>00270 <span class="comment">// Valeurs par defaut:</span>
<a name="l00271"></a>00271 <span class="comment">// Contraintes:</span>
<a name="l00272"></a>00272 <span class="comment">// Acces:</span>
<a name="l00273"></a>00273 <span class="comment">// Exception:</span>
<a name="l00274"></a>00274 <span class="comment">// Effets de bord:</span>
<a name="l00275"></a>00275 <span class="comment">// Postcondition:</span>
<a name="l00276"></a>00276 <span class="comment">//</span><span class="comment"></span>
<a name="l00277"></a>00277 <span class="comment">//! Renvoie le domaine dont la zone fait partie.</span>
<a name="l00278"></a>00278 <span class="comment"></span><span class="comment">/** \return Domaine\&amp;&lt;br&gt;</span>
<a name="l00279"></a>00279 <span class="comment">Signification: le domaine dont la zone fait partie&lt;br&gt;</span>
<a name="l00280"></a>00280 <span class="comment">Contraintes: */</span>
<a name="l00281"></a><a class="code" href="classZone.html#ad06633d42a50ac8b656c767e861671b2">00281</a> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; <a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">Zone::domaine</a>()
<a name="l00282"></a>00282 {
<a name="l00283"></a>00283   <span class="keywordflow">return</span> <a class="code" href="classZone.html#a650b1362918f5903d587d6b47e07b8c2">le_domaine</a>.<a class="code" href="classRef__Domaine.html#a89e1c374ada79faa2c7e9a76c3393ad8">valeur</a>();
<a name="l00284"></a>00284 }
<a name="l00285"></a>00285 
<a name="l00286"></a>00286 <span class="comment">// Precondition:</span>
<a name="l00287"></a>00287 <span class="comment">// Parametre: IntTab&amp; sommets</span>
<a name="l00288"></a>00288 <span class="comment">// Signification: le tableau des numeros des sommets dont</span>
<a name="l00289"></a>00289 <span class="comment">// on cherche les elements correspondants</span>
<a name="l00290"></a>00290 <span class="comment">// Valeurs par defaut:</span>
<a name="l00291"></a>00291 <span class="comment">// Contraintes: reference constante</span>
<a name="l00292"></a>00292 <span class="comment">// Acces: entree</span>
<a name="l00293"></a>00293 <span class="comment">// Parametre: ArrOfInt&amp; elem_</span>
<a name="l00294"></a>00294 <span class="comment">// Signification: le tableau contenant les numeros des elements</span>
<a name="l00295"></a>00295 <span class="comment">// contenant les sommets specifies</span>
<a name="l00296"></a>00296 <span class="comment">// Valeurs par defaut:</span>
<a name="l00297"></a>00297 <span class="comment">// Contraintes:</span>
<a name="l00298"></a>00298 <span class="comment">// Acces: sortie</span>
<a name="l00299"></a>00299 <span class="comment">// Exception:</span>
<a name="l00300"></a>00300 <span class="comment">// Effets de bord:</span>
<a name="l00301"></a>00301 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00302"></a>00302 <span class="comment">//</span>
<a name="l00303"></a>00303 <span class="comment">//</span>
<a name="l00304"></a>00304 <span class="comment">//</span>
<a name="l00305"></a>00305 <span class="comment">//</span><span class="comment"></span>
<a name="l00306"></a>00306 <span class="comment">//! che les numeros (indices) des elements contenants les sommets&lt;br&gt;specifies par le parametre &quot;sommets&quot;.&lt;br&gt;Utilise:&lt;br&gt;ArrOfInt\&amp; Zone::chercher_elements(const DoubleTab\&amp;,ArrOfInt\&amp;) const</span>
<a name="l00307"></a>00307 <span class="comment"></span><span class="comment">/** \return ArrOfInt\&amp;&lt;br&gt;</span>
<a name="l00308"></a>00308 <span class="comment">Signification: le tableau des numeros des sommets dont&lt;br&gt;</span>
<a name="l00309"></a>00309 <span class="comment">on cherche les elements correspondants&lt;br&gt;</span>
<a name="l00310"></a>00310 <span class="comment">Contraintes: */</span>
<a name="l00311"></a><a class="code" href="classZone.html#af06ebfa187193b9fad5e743a495bcdd3">00311</a> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classZone.html#af06ebfa187193b9fad5e743a495bcdd3" title="che les numeros (indices) des elements contenants les sommets specifies par le parametre &quot;sommets&quot;...">Zone::indice_elements</a>(<span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; sommets,
<a name="l00312"></a>00312                                 <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; elem_,
<a name="l00313"></a>00313                                 <span class="keywordtype">int</span> reel)<span class="keyword"> const</span>
<a name="l00314"></a>00314 <span class="keyword"></span>{
<a name="l00315"></a>00315   <span class="keywordtype">int</span> i,j,k;
<a name="l00316"></a>00316   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; les_coord = <a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>();
<a name="l00317"></a>00317   <span class="keywordtype">int</span> sz_sommets = sommets.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00318"></a>00318   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> xg(sz_sommets,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>);
<a name="l00319"></a>00319   <span class="keywordflow">for</span>(i=0; i&lt;sz_sommets; i++)
<a name="l00320"></a>00320     <span class="keywordflow">for</span>(j=0; j&lt;<a class="code" href="classZone.html#ae0b34a93b9ae8146df2d1884157afe9f" title="Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...">nb_som_elem</a>(); j++)
<a name="l00321"></a>00321       <span class="keywordflow">for</span>(k=0; k&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; k++)
<a name="l00322"></a>00322         xg(i,k)+=les_coord(sommets(i,j),k);
<a name="l00323"></a>00323   xg/=<a class="code" href="classZone.html#ae0b34a93b9ae8146df2d1884157afe9f" title="Renvoie le nombre de sommets des elements geometriques constituants la zone. Tous les elements de la ...">nb_som_elem</a>();
<a name="l00324"></a>00324   <span class="keywordflow">return</span> <a class="code" href="classZone.html#aec585e7983082c3df305d75fd13a6b9e">chercher_elements</a>(xg,elem_,reel);
<a name="l00325"></a>00325 }
<a name="l00326"></a>00326 
<a name="l00327"></a>00327 <span class="comment">// Precondition:</span>
<a name="l00328"></a>00328 <span class="comment">// Parametre: DoubleTab&amp; positions</span>
<a name="l00329"></a>00329 <span class="comment">// Signification: les coordonnees des points dont on veut</span>
<a name="l00330"></a>00330 <span class="comment">// connaitre l&#39;element correspondant</span>
<a name="l00331"></a>00331 <span class="comment">// Valeurs par defaut:</span>
<a name="l00332"></a>00332 <span class="comment">// Contraintes: reference constante</span>
<a name="l00333"></a>00333 <span class="comment">// Acces: entree</span>
<a name="l00334"></a>00334 <span class="comment">// Parametre: ArrOfInt&amp; elements</span>
<a name="l00335"></a>00335 <span class="comment">// Signification: le tableau des numeros des elements contenant</span>
<a name="l00336"></a>00336 <span class="comment">// les points specifies</span>
<a name="l00337"></a>00337 <span class="comment">// Valeurs par defaut:</span>
<a name="l00338"></a>00338 <span class="comment">// Contraintes:</span>
<a name="l00339"></a>00339 <span class="comment">// Acces: sortie</span>
<a name="l00340"></a>00340 <span class="comment">// Exception:</span>
<a name="l00341"></a>00341 <span class="comment">// Effets de bord:</span>
<a name="l00342"></a>00342 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00343"></a>00343 <span class="comment">//</span>
<a name="l00344"></a>00344 <span class="comment">//</span><span class="comment"></span>
<a name="l00345"></a>00345 <span class="comment">//! Recherche des elements contenant les points dont les&lt;br&gt;coordonnees sont specifiees.</span>
<a name="l00346"></a>00346 <span class="comment"></span><span class="comment">/** \return ArrOfInt\&amp;&lt;br&gt;</span>
<a name="l00347"></a>00347 <span class="comment">Signification: le tableau des numeros des elements contenant&lt;br&gt;</span>
<a name="l00348"></a>00348 <span class="comment">les points specifies&lt;br&gt;</span>
<a name="l00349"></a>00349 <span class="comment">Contraintes: */</span>
<a name="l00350"></a><a class="code" href="Zone_8cpp.html#a06eafdde582b5c130ab8f1296a7602be">00350</a> <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="Zone_8cpp.html#a06eafdde582b5c130ab8f1296a7602be" title="Recherche des elements contenant les points dont les coordonnees sont specifiees.">cached_memory</a>=0;
<a name="l00351"></a><a class="code" href="Zone_8cpp.html#a376942a793089f050a6395819b5c8bfc">00351</a> <span class="keywordtype">bool</span> <a class="code" href="Zone_8cpp.html#a376942a793089f050a6395819b5c8bfc">sameDoubleTab</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; a, <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; b)
<a name="l00352"></a>00352 {
<a name="l00353"></a>00353   <span class="keywordtype">int</span> size_a = a.<a class="code" href="classArrOfDouble.html#a3c3b33bea0e88b87315c21ee94bee05f" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00354"></a>00354   <span class="keywordtype">int</span> size_b = b.<a class="code" href="classArrOfDouble.html#a3c3b33bea0e88b87315c21ee94bee05f" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>();
<a name="l00355"></a>00355   <span class="keywordflow">if</span> (size_a != size_b) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00356"></a>00356   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;size_a; i++)
<a name="l00357"></a>00357     <span class="keywordflow">if</span> (a.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>()[i] != b.<a class="code" href="classArrOfDouble.html#a95357a1390c11dbd481d385257f2e983" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>()[i]) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00358"></a>00358   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00359"></a>00359 }
<a name="l00360"></a><a class="code" href="classZone.html#aec585e7983082c3df305d75fd13a6b9e">00360</a> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classZone.html#aec585e7983082c3df305d75fd13a6b9e">Zone::chercher_elements</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; positions,
<a name="l00361"></a>00361                                   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; elements,
<a name="l00362"></a>00362                                   <span class="keywordtype">int</span> reel)<span class="keyword"> const</span>
<a name="l00363"></a>00363 <span class="keyword"></span>{
<a name="l00364"></a>00364   <span class="keywordtype">bool</span> set_cache = <span class="keyword">false</span>;
<a name="l00365"></a>00365 <span class="comment">// PL: On devrait faire un appel a chercher_elements(x,y,z,elem) si positions.dimension(0)=1 ...</span>
<a name="l00366"></a>00366   <span class="keywordflow">if</span> (!<a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().deformable() &amp;&amp; positions.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0)&gt;1)
<a name="l00367"></a>00367     {
<a name="l00368"></a>00368       set_cache = <span class="keyword">true</span>;
<a name="l00369"></a>00369       <span class="keywordflow">if</span> (!<a class="code" href="classZone.html#a56b1fc265d549440888d6c812eba9847">deriv_octree_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>() || !<a class="code" href="classZone.html#a56b1fc265d549440888d6c812eba9847">deriv_octree_</a>.<a class="code" href="classDeriv__OctreeRoot.html#ad8d467e72366ce4af89f9dd922a4996c">valeur</a>().<a class="code" href="classOctreeRoot.html#a4390ef828a6d2236cfe0197128fc00f9" title="Renvoie vrai si la zone associee a l&#39;octree est non nulle.">construit</a>())
<a name="l00370"></a>00370         {
<a name="l00371"></a>00371 <span class="comment">// Vide le cache</span>
<a name="l00372"></a>00372           <a class="code" href="classZone.html#a29a19a316878c8a443a7500ea0aef81a">cached_elements_</a>.<a class="code" href="classvect__impl.html#a374789d5d044e5e673e268eec441ef2a">reset</a>();
<a name="l00373"></a>00373           <a class="code" href="classZone.html#a46adb92e9afcbd91a60582cdc6d86597">cached_positions_</a>.<a class="code" href="classvect__impl.html#a374789d5d044e5e673e268eec441ef2a">reset</a>();
<a name="l00374"></a>00374         }
<a name="l00375"></a>00375       <span class="keywordflow">else</span> <span class="comment">//!&lt; Recherche dans le cache:</span>
<a name="l00376"></a>00376 <span class="comment"></span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classZone.html#a46adb92e9afcbd91a60582cdc6d86597">cached_positions_</a>.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>(); i++)
<a name="l00377"></a>00377           <span class="keywordflow">if</span> (<a class="code" href="Zone_8cpp.html#a376942a793089f050a6395819b5c8bfc">sameDoubleTab</a>(positions, <a class="code" href="classZone.html#a46adb92e9afcbd91a60582cdc6d86597">cached_positions_</a>[i]))
<a name="l00378"></a>00378             {
<a name="l00379"></a>00379               elements.<a class="code" href="classArrOfInt.html#a2a8d5b9b592390c7d54d54742977d200" title="methode virtuelle identique a resize_array(), permet de traiter de facon generique les ArrOf...">resize_tab</a>(<a class="code" href="classZone.html#a46adb92e9afcbd91a60582cdc6d86597">cached_positions_</a>[i].<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>(0), <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">ArrOfInt::NOCOPY_NOINIT</a>);
<a name="l00380"></a>00380               elements = <a class="code" href="classZone.html#a29a19a316878c8a443a7500ea0aef81a">cached_elements_</a>[i];
<a name="l00381"></a>00381               <span class="comment">/*</span>
<a name="l00382"></a>00382 <span class="comment">              //Cerr &lt;&lt; &quot;Reuse &quot; &lt;&lt; i &lt;&lt; &quot;th array cached in memory for Zone::chercher_elements(...): &quot; &lt;&lt; finl;</span>
<a name="l00383"></a>00383 <span class="comment">              if (i!=0)</span>
<a name="l00384"></a>00384 <span class="comment">                {</span>
<a name="l00385"></a>00385 <span class="comment">                  // Permute pour avoir le tableau en premier</span>
<a name="l00386"></a>00386 <span class="comment">                  cached_elements_[i].resize_tab(cached_positions_[0].dimension(0), ArrOfInt::NOCOPY_NOINIT);</span>
<a name="l00387"></a>00387 <span class="comment">                  cached_elements_[i] = cached_elements_[0];</span>
<a name="l00388"></a>00388 <span class="comment">                  cached_elements_[0].resize_tab(cached_positions_[i].dimension(0), ArrOfInt::NOCOPY_NOINIT);</span>
<a name="l00389"></a>00389 <span class="comment">                  cached_elements_[0] = elements;</span>
<a name="l00390"></a>00390 <span class="comment">                  DoubleTab tmp(cached_positions_[i]);</span>
<a name="l00391"></a>00391 <span class="comment">                  cached_positions_[i] = cached_positions_[0];</span>
<a name="l00392"></a>00392 <span class="comment">                  cached_positions_[0] = tmp;</span>
<a name="l00393"></a>00393 <span class="comment">                }</span>
<a name="l00394"></a>00394 <span class="comment">                */</span>
<a name="l00395"></a>00395               <span class="keywordflow">return</span> elements;
<a name="l00396"></a>00396             }
<a name="l00397"></a>00397     }
<a name="l00398"></a>00398   <span class="keyword">const</span> <a class="code" href="classOctreeRoot.html" title="Classe OctreeRoot.">OctreeRoot</a>&amp; octree = <a class="code" href="classZone.html#a492c53ea54616079fb65c18f7726ebc9">construit_octree</a>(reel);
<a name="l00399"></a>00399   <span class="keywordtype">int</span> <a class="code" href="Nom_8cpp.html#a0e1ea19fb9fa7881d15d84eff4c090e1">sz</a>=positions.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00400"></a>00400   <span class="keyword">const</span> <span class="keywordtype">int</span> dim = positions.<a class="code" href="classDoubleTab.html#ac3805e2637a3b880ba2d3e650c69dac4" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00401"></a>00401 <span class="comment">// resize_tab est virtuelle, si c&#39;est un Vect ou un Tab elle appelle le</span>
<a name="l00402"></a>00402 <span class="comment">// resize de la classe derivee:</span>
<a name="l00403"></a>00403   elements.<a class="code" href="classArrOfInt.html#a2a8d5b9b592390c7d54d54742977d200" title="methode virtuelle identique a resize_array(), permet de traiter de facon generique les ArrOf...">resize_tab</a>(sz, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">ArrOfInt::NOCOPY_NOINIT</a>);
<a name="l00404"></a>00404   <span class="keywordtype">double</span> x, y=0, z=0;
<a name="l00405"></a>00405   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="Nom_8cpp.html#a0e1ea19fb9fa7881d15d84eff4c090e1">sz</a>; i++)
<a name="l00406"></a>00406     {
<a name="l00407"></a>00407       x = positions(i,0);
<a name="l00408"></a>00408       <span class="keywordflow">if</span> (dim &gt; 1) y = positions(i,1);
<a name="l00409"></a>00409       <span class="keywordflow">if</span> (dim &gt; 2) z = positions(i,2);
<a name="l00410"></a>00410       elements[i] = octree.<a class="code" href="classOctreeRoot.html#a1726dee695fac0cfc92ee481c677493a">rang_elem</a>(x, y, z);
<a name="l00411"></a>00411     }
<a name="l00412"></a>00412   <span class="keywordflow">if</span> (set_cache)
<a name="l00413"></a>00413     {
<a name="l00414"></a>00414 <span class="comment">// Met en cache</span>
<a name="l00415"></a>00415       <a class="code" href="classZone.html#a46adb92e9afcbd91a60582cdc6d86597">cached_positions_</a>.<a class="code" href="classVect__DoubleTab.html#aed85078d242e65ab80a393aaaba8be1e">add</a>(positions);
<a name="l00416"></a>00416       <a class="code" href="classZone.html#a29a19a316878c8a443a7500ea0aef81a">cached_elements_</a>.<a class="code" href="classVect__ArrOfInt.html#a430dab68d94593d78c09897766f4440a">add</a>(elements);
<a name="l00417"></a>00417       <a class="code" href="Zone_8cpp.html#a06eafdde582b5c130ab8f1296a7602be" title="Recherche des elements contenant les points dont les coordonnees sont specifiees.">cached_memory</a> += positions.<a class="code" href="classArrOfDouble.html#a3c3b33bea0e88b87315c21ee94bee05f" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() * <span class="keyword">sizeof</span>(double);
<a name="l00418"></a>00418       <a class="code" href="Zone_8cpp.html#a06eafdde582b5c130ab8f1296a7602be" title="Recherche des elements contenant les points dont les coordonnees sont specifiees.">cached_memory</a> += elements.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() * <span class="keyword">sizeof</span>(int);
<a name="l00419"></a>00419       <span class="keywordflow">if</span> (<a class="code" href="Zone_8cpp.html#a06eafdde582b5c130ab8f1296a7602be" title="Recherche des elements contenant les points dont les coordonnees sont specifiees.">cached_memory</a>&gt;1e7)   <span class="comment">//!&lt; 10Mo</span>
<a name="l00420"></a>00420 <span class="comment"></span>        {
<a name="l00421"></a>00421           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; 2 * <a class="code" href="classZone.html#a46adb92e9afcbd91a60582cdc6d86597">cached_positions_</a>.<a class="code" href="classvect__impl.html#a78155bfbd6b61f4710b9830641ed1694">size</a>() &lt;&lt; <span class="stringliteral">&quot; arrays cached in memory for Zone::chercher_elements(...): &quot;</span>;
<a name="l00422"></a>00422           <span class="keywordflow">if</span> (<a class="code" href="Zone_8cpp.html#a06eafdde582b5c130ab8f1296a7602be" title="Recherche des elements contenant les points dont les coordonnees sont specifiees.">cached_memory</a> &lt; 1e6)
<a name="l00423"></a>00423             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; int(<a class="code" href="Zone_8cpp.html#a06eafdde582b5c130ab8f1296a7602be" title="Recherche des elements contenant les points dont les coordonnees sont specifiees.">cached_memory</a> / 1024) &lt;&lt; <span class="stringliteral">&quot; KBytes&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00424"></a>00424           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="Zone_8cpp.html#a06eafdde582b5c130ab8f1296a7602be" title="Recherche des elements contenant les points dont les coordonnees sont specifiees.">cached_memory</a> &lt; 1e9)
<a name="l00425"></a>00425             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; int(<a class="code" href="Zone_8cpp.html#a06eafdde582b5c130ab8f1296a7602be" title="Recherche des elements contenant les points dont les coordonnees sont specifiees.">cached_memory</a> / 1024 / 1024) &lt;&lt; <span class="stringliteral">&quot; MBytes&quot;</span> &lt;&lt; finl;
<a name="l00426"></a>00426           <span class="keywordflow">else</span>
<a name="l00427"></a>00427             <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; int(<a class="code" href="Zone_8cpp.html#a06eafdde582b5c130ab8f1296a7602be" title="Recherche des elements contenant les points dont les coordonnees sont specifiees.">cached_memory</a> / 1024 / 1024 / 1024) &lt;&lt; <span class="stringliteral">&quot; GBytes&quot;</span> &lt;&lt; finl;
<a name="l00428"></a>00428         }
<a name="l00429"></a>00429     }
<a name="l00430"></a>00430   <span class="keywordflow">return</span> elements;
<a name="l00431"></a>00431 }
<a name="l00432"></a>00432 
<a name="l00433"></a>00433 <span class="comment">// Precondition:</span>
<a name="l00434"></a>00434 <span class="comment">// Parametre: DoubleVect&amp; positions</span>
<a name="l00435"></a>00435 <span class="comment">// Signification: les coordonnees du point dont on veut</span>
<a name="l00436"></a>00436 <span class="comment">// connaitre l&#39;element correspondant</span>
<a name="l00437"></a>00437 <span class="comment">// Valeurs par defaut:</span>
<a name="l00438"></a>00438 <span class="comment">// Contraintes: reference constante</span>
<a name="l00439"></a>00439 <span class="comment">// Acces: entree</span>
<a name="l00440"></a>00440 <span class="comment">// Parametre: ArrOfInt&amp; elements</span>
<a name="l00441"></a>00441 <span class="comment">// Signification: le tableau des numeros des elements contenant</span>
<a name="l00442"></a>00442 <span class="comment">// les points specifies</span>
<a name="l00443"></a>00443 <span class="comment">// Valeurs par defaut:</span>
<a name="l00444"></a>00444 <span class="comment">// Contraintes:</span>
<a name="l00445"></a>00445 <span class="comment">// Acces: sortie</span>
<a name="l00446"></a>00446 <span class="comment">// Exception:</span>
<a name="l00447"></a>00447 <span class="comment">// Effets de bord:</span>
<a name="l00448"></a>00448 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00449"></a>00449 <span class="comment">//</span>
<a name="l00450"></a>00450 <span class="comment">//</span><span class="comment"></span>
<a name="l00451"></a>00451 <span class="comment">//! Recherche des elements contenant les points dont les&lt;br&gt;coordonnees sont specifiees.</span>
<a name="l00452"></a>00452 <span class="comment"></span><span class="comment">/** \return ArrOfInt\&amp;&lt;br&gt;</span>
<a name="l00453"></a>00453 <span class="comment">Signification: le tableau des numeros des elements contenant&lt;br&gt;</span>
<a name="l00454"></a>00454 <span class="comment">les points specifies&lt;br&gt;</span>
<a name="l00455"></a>00455 <span class="comment">Contraintes: */</span>
<a name="l00456"></a><a class="code" href="classZone.html#a164a8aca72e33c948fa9dd15197132cb">00456</a> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classZone.html#aec585e7983082c3df305d75fd13a6b9e">Zone::chercher_elements</a>(<span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; positions,
<a name="l00457"></a>00457                                   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; elements,
<a name="l00458"></a>00458                                   <span class="keywordtype">int</span> reel)<span class="keyword"> const</span>
<a name="l00459"></a>00459 <span class="keyword"></span>{
<a name="l00460"></a>00460 <span class="comment">// Cerr&lt;&lt;&quot;Dans Zone::chercher_elements(const DoubleVect&amp;&quot;&lt;&lt;finl;</span>
<a name="l00461"></a>00461 <span class="comment">// Cerr&lt;&lt;&quot;codage lourd.....&quot;&lt;&lt;finl;</span>
<a name="l00462"></a>00462   <span class="keywordtype">int</span> n=positions.<a class="code" href="classDoubleVect.html#a392c1f20b462563365389d28e0853867" title="Identique a size_reelle()">size</a>();
<a name="l00463"></a>00463   <span class="keywordflow">if</span> (n!=<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>)
<a name="l00464"></a>00464     {
<a name="l00465"></a>00465       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Zone::chercher_elements(const DoubleVect&amp; positions, ArrOfInt&amp; elements, int reel) const -&gt; Coding is made to copy a doublevect(dimesnion) in a DoubleTab(1,dimension)&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00466"></a>00466       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;But, it comes with a DoubleVect of size &quot;</span>&lt;&lt;n &lt;&lt; <span class="stringliteral">&quot; instead of &quot;</span>&lt;&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>&lt;&lt;finl;
<a name="l00467"></a>00467       assert(0);
<a name="l00468"></a>00468       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00469"></a>00469     }
<a name="l00470"></a>00470   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> positions2(1,n);
<a name="l00471"></a>00471   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ii=0; ii&lt;n; ii++) positions2(0,ii)=positions(ii);
<a name="l00472"></a>00472   <span class="keywordflow">return</span> <a class="code" href="classZone.html#aec585e7983082c3df305d75fd13a6b9e">chercher_elements</a>( positions2, elements, reel) ;
<a name="l00473"></a>00473 }
<a name="l00474"></a>00474 <span class="comment">// Precondition:</span>
<a name="l00475"></a>00475 <span class="comment">// Parametre: Domaine&amp; un_domaine</span>
<a name="l00476"></a>00476 <span class="comment">// Signification: le domaine dont la zone fait partie</span>
<a name="l00477"></a>00477 <span class="comment">// Valeurs par defaut:</span>
<a name="l00478"></a>00478 <span class="comment">// Contraintes: reference constante</span>
<a name="l00479"></a>00479 <span class="comment">// Acces: entree</span>
<a name="l00480"></a>00480 <span class="comment">// </span>
<a name="l00481"></a>00481 <span class="comment">// Signification:</span>
<a name="l00482"></a>00482 <span class="comment">// Contraintes:</span>
<a name="l00483"></a>00483 <span class="comment">// Exception:</span>
<a name="l00484"></a>00484 <span class="comment">// Effets de bord:</span>
<a name="l00485"></a>00485 <span class="comment">// Postcondition: la zone est considere comme faisant partie</span>
<a name="l00486"></a>00486 <span class="comment">// du domaine specifie.</span>
<a name="l00487"></a>00487 <span class="comment">//</span><span class="comment"></span>
<a name="l00488"></a>00488 <span class="comment">//! Specifie le domaine dont la zone fait partie.</span>
<a name="l00489"></a><a class="code" href="classZone.html#a68a215145852861f2d513c959f52a1a5">00489</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone.html#a68a215145852861f2d513c959f52a1a5" title="Specifie le domaine dont la zone fait partie.">Zone::associer_domaine</a>(<span class="keyword">const</span> <a class="code" href="classDomaine.html" title="Classe Domaine Un Domaine represente le domaine (spatial) de resolution d&#39;un Probleme. Un Domaine a un Nom, il est constitue d&#39;une ou plusieurs Zone qui peuvent etre eventuellement decoupees en Sous_Zone. Un Domaine porte l&#39;ensemble des sommets utilises par ses Zones. On peut vouloir resoudre des problemes de type different sur plusieurs domaines, geometriquement les domaines sont alors couples par des surfaces qu&#39;on appelle Raccord.">Domaine</a>&amp; un_domaine)
<a name="l00490"></a>00490 {
<a name="l00491"></a>00491   <a class="code" href="classZone.html#a650b1362918f5903d587d6b47e07b8c2">le_domaine</a>=un_domaine;
<a name="l00492"></a>00492 }
<a name="l00493"></a>00493 
<a name="l00494"></a>00494 <span class="comment">// Precondition:</span>
<a name="l00495"></a>00495 <span class="comment">// Parametre:</span>
<a name="l00496"></a>00496 <span class="comment">// Signification:</span>
<a name="l00497"></a>00497 <span class="comment">// Valeurs par defaut:</span>
<a name="l00498"></a>00498 <span class="comment">// Contraintes:</span>
<a name="l00499"></a>00499 <span class="comment">// Acces:</span>
<a name="l00500"></a>00500 <span class="comment">// Exception:</span>
<a name="l00501"></a>00501 <span class="comment">// Effets de bord:</span>
<a name="l00502"></a>00502 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00503"></a>00503 <span class="comment">//</span><span class="comment"></span>
<a name="l00504"></a>00504 <span class="comment">//! Renvoie le nombre de faces qui sont des bords.</span>
<a name="l00505"></a>00505 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00506"></a>00506 <span class="comment">Signification: le nombre de faces qui sont des bords&lt;br&gt;</span>
<a name="l00507"></a>00507 <span class="comment">Contraintes: */</span>
<a name="l00508"></a><a class="code" href="classZone.html#a30db06b6e445fedc9b3772dd24247f2d">00508</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a30db06b6e445fedc9b3772dd24247f2d" title="Renvoie le nombre de faces qui sont des bords.">Zone::nb_faces_bord</a>()<span class="keyword"> const</span>
<a name="l00509"></a>00509 <span class="keyword"></span>{
<a name="l00510"></a>00510   <span class="keywordflow">return</span> <a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>.<a class="code" href="classBords.html#ac9ac781941c3254fd04512d310c7344f" title="Renvoie le nombre total de faces de tous les bords de la liste.">nb_faces</a>();
<a name="l00511"></a>00511 }
<a name="l00512"></a>00512 
<a name="l00513"></a>00513 <span class="comment">// Precondition:</span>
<a name="l00514"></a>00514 <span class="comment">// Parametre:</span>
<a name="l00515"></a>00515 <span class="comment">// Signification:</span>
<a name="l00516"></a>00516 <span class="comment">// Valeurs par defaut:</span>
<a name="l00517"></a>00517 <span class="comment">// Contraintes:</span>
<a name="l00518"></a>00518 <span class="comment">// Acces:</span>
<a name="l00519"></a>00519 <span class="comment">// Exception:</span>
<a name="l00520"></a>00520 <span class="comment">// Effets de bord:</span>
<a name="l00521"></a>00521 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00522"></a>00522 <span class="comment">//</span><span class="comment"></span>
<a name="l00523"></a>00523 <span class="comment">//! Renvoie le nombre de joints de la zone.</span>
<a name="l00524"></a>00524 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00525"></a>00525 <span class="comment">Signification: le nombre de joints de la zone&lt;br&gt;</span>
<a name="l00526"></a>00526 <span class="comment">Contraintes: */</span>
<a name="l00527"></a><a class="code" href="classZone.html#aff77b437f8c58064cc80a3221a0b6130">00527</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#aff77b437f8c58064cc80a3221a0b6130" title="Renvoie le nombre de joints de la zone.">Zone::nb_faces_joint</a>()<span class="keyword"> const</span>
<a name="l00528"></a>00528 <span class="keyword"></span>{
<a name="l00529"></a>00529   <span class="keywordflow">return</span> <a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>.<a class="code" href="classJoints.html#af938af1848250b0032bdf6b87bcb11f2" title="Renvoie le nombre de face total des Joints de la liste. (la somme des faces de tous les joints de la ...">nb_faces</a>();
<a name="l00530"></a>00530 }
<a name="l00531"></a>00531 
<a name="l00532"></a>00532 <span class="comment">// Precondition:</span>
<a name="l00533"></a>00533 <span class="comment">// Parametre:</span>
<a name="l00534"></a>00534 <span class="comment">// Signification:</span>
<a name="l00535"></a>00535 <span class="comment">// Valeurs par defaut:</span>
<a name="l00536"></a>00536 <span class="comment">// Contraintes:</span>
<a name="l00537"></a>00537 <span class="comment">// Acces:</span>
<a name="l00538"></a>00538 <span class="comment">// Exception:</span>
<a name="l00539"></a>00539 <span class="comment">// Effets de bord:</span>
<a name="l00540"></a>00540 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00541"></a>00541 <span class="comment">//</span><span class="comment"></span>
<a name="l00542"></a>00542 <span class="comment">//! Renvoie le nombre de raccords de la zone.</span>
<a name="l00543"></a>00543 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00544"></a>00544 <span class="comment">Signification: le nombre de raccords de la zone&lt;br&gt;</span>
<a name="l00545"></a>00545 <span class="comment">Contraintes: */</span>
<a name="l00546"></a><a class="code" href="classZone.html#a1ce479915234e24225f81b866ca13ea8">00546</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a1ce479915234e24225f81b866ca13ea8" title="Renvoie le nombre de raccords de la zone.">Zone::nb_faces_raccord</a>()<span class="keyword"> const</span>
<a name="l00547"></a>00547 <span class="keyword"></span>{
<a name="l00548"></a>00548   <span class="keywordflow">return</span> <a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>.<a class="code" href="classRaccords.html#a3299f6a606275a5230c7327d847de134" title="Renvoie le nombre de face total des Raccords de la liste. (la somme des faces de tous les raccords de...">nb_faces</a>();
<a name="l00549"></a>00549 }
<a name="l00550"></a>00550 
<a name="l00551"></a>00551 <span class="comment">// Precondition:</span>
<a name="l00552"></a>00552 <span class="comment">// Parametre:</span>
<a name="l00553"></a>00553 <span class="comment">// Signification:</span>
<a name="l00554"></a>00554 <span class="comment">// Valeurs par defaut:</span>
<a name="l00555"></a>00555 <span class="comment">// Contraintes:</span>
<a name="l00556"></a>00556 <span class="comment">// Acces:</span>
<a name="l00557"></a>00557 <span class="comment">// Exception:</span>
<a name="l00558"></a>00558 <span class="comment">// Effets de bord:</span>
<a name="l00559"></a>00559 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00560"></a>00560 <span class="comment">//</span><span class="comment"></span>
<a name="l00561"></a>00561 <span class="comment">//! Renvoie le nombre de face internes de la zone.</span>
<a name="l00562"></a>00562 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00563"></a>00563 <span class="comment">Signification: le nombre de face internes de la zone&lt;br&gt;</span>
<a name="l00564"></a>00564 <span class="comment">Contraintes: */</span>
<a name="l00565"></a><a class="code" href="classZone.html#a9e95b9db7a588dee827091663b52ba5b">00565</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a9e95b9db7a588dee827091663b52ba5b" title="Renvoie le nombre de face internes de la zone.">Zone::nb_faces_int</a>()<span class="keyword"> const</span>
<a name="l00566"></a>00566 <span class="keyword"></span>{
<a name="l00567"></a>00567   <span class="keywordflow">return</span> <a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>.<a class="code" href="classFaces__Internes.html#a695c60463bd613f5faa9658b3355cb21" title="Renvoie le nombre total de faces contenues dans la liste des Faces_Interne, i.e. la somme de toutes l...">nb_faces</a>();
<a name="l00568"></a>00568 }
<a name="l00569"></a>00569 
<a name="l00570"></a>00570 
<a name="l00571"></a>00571 
<a name="l00572"></a>00572 <span class="comment">// Precondition:</span>
<a name="l00573"></a>00573 <span class="comment">// Parametre:</span>
<a name="l00574"></a>00574 <span class="comment">// Signification:</span>
<a name="l00575"></a>00575 <span class="comment">// Valeurs par defaut:</span>
<a name="l00576"></a>00576 <span class="comment">// Contraintes:</span>
<a name="l00577"></a>00577 <span class="comment">// Acces:</span>
<a name="l00578"></a>00578 <span class="comment">// Exception:</span>
<a name="l00579"></a>00579 <span class="comment">// Effets de bord:</span>
<a name="l00580"></a>00580 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00581"></a>00581 <span class="comment">//</span><span class="comment"></span>
<a name="l00582"></a>00582 <span class="comment">//! Renvoie le nombre de sommets de la zone.</span>
<a name="l00583"></a>00583 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00584"></a>00584 <span class="comment">Signification: le nombre de sommets de la zone&lt;br&gt;</span>
<a name="l00585"></a>00585 <span class="comment">Contraintes: */</span>
<a name="l00586"></a><a class="code" href="classZone.html#ad340f571f81fa5c2e028b88c00b5c2ca">00586</a> <span class="keywordtype">int</span>  <a class="code" href="classZone.html#ad340f571f81fa5c2e028b88c00b5c2ca" title="Renvoie le nombre de sommets de la zone.">Zone::nb_som</a>()<span class="keyword"> const</span>
<a name="l00587"></a>00587 <span class="keyword"></span>{
<a name="l00588"></a>00588 <span class="comment">// MONOZONE pour le moment!</span>
<a name="l00589"></a>00589   <span class="keywordflow">return</span> <a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#abc4abc8b8db5bebeb161fae4162a89ce" title="Renvoie le nombre de sommets.">nb_som</a>();
<a name="l00590"></a>00590 }
<a name="l00591"></a>00591 
<a name="l00592"></a>00592 <span class="comment">// Precondition:</span>
<a name="l00593"></a>00593 <span class="comment">// Parametre:</span>
<a name="l00594"></a>00594 <span class="comment">// Signification:</span>
<a name="l00595"></a>00595 <span class="comment">// Valeurs par defaut:</span>
<a name="l00596"></a>00596 <span class="comment">// Contraintes:</span>
<a name="l00597"></a>00597 <span class="comment">// Acces:</span>
<a name="l00598"></a>00598 <span class="comment">// Exception:</span>
<a name="l00599"></a>00599 <span class="comment">// Effets de bord:</span>
<a name="l00600"></a>00600 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00601"></a>00601 <span class="comment">//</span>
<a name="l00602"></a>00602 <span class="comment">//</span>
<a name="l00603"></a>00603 <span class="comment">//</span><span class="comment"></span>
<a name="l00604"></a>00604 <span class="comment">//! Renvoie le nombre total de sommets de la zone.&lt;br&gt;i.e. le nombre de sommets reels et virtuels&lt;br&gt;sur le processeur courant.</span>
<a name="l00605"></a>00605 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00606"></a>00606 <span class="comment">Signification: le nombre total de sommets de la zone&lt;br&gt;</span>
<a name="l00607"></a>00607 <span class="comment">Contraintes: */</span>
<a name="l00608"></a><a class="code" href="classZone.html#a01ed67af826d6045ef4eacfb87a663e8">00608</a> <span class="keywordtype">int</span>  <a class="code" href="classZone.html#a01ed67af826d6045ef4eacfb87a663e8" title="Renvoie le nombre total de sommets de la zone. i.e. le nombre de sommets reels et virtuels sur le pro...">Zone::nb_som_tot</a>()<span class="keyword"> const</span>
<a name="l00609"></a>00609 <span class="keyword"></span>{
<a name="l00610"></a>00610 <span class="comment">// MONOZONE pour le moment!</span>
<a name="l00611"></a>00611   <span class="keywordflow">return</span> <a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a394e61cf1993665886de0fbbd0c0178e" title="Renvoie le nombre total de sommets.">nb_som_tot</a>();
<a name="l00612"></a>00612 }
<a name="l00613"></a>00613 
<a name="l00614"></a>00614 <span class="comment">// Precondition:</span>
<a name="l00615"></a>00615 <span class="comment">// Parametre: int i</span>
<a name="l00616"></a>00616 <span class="comment">// Signification: le numero du bord dont on veut</span>
<a name="l00617"></a>00617 <span class="comment">// connaitre le nombre de faces</span>
<a name="l00618"></a>00618 <span class="comment">// Valeurs par defaut:</span>
<a name="l00619"></a>00619 <span class="comment">// Contraintes:</span>
<a name="l00620"></a>00620 <span class="comment">// Acces:</span>
<a name="l00621"></a>00621 <span class="comment">// Exception:</span>
<a name="l00622"></a>00622 <span class="comment">// Effets de bord:</span>
<a name="l00623"></a>00623 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00624"></a>00624 <span class="comment">//</span><span class="comment"></span>
<a name="l00625"></a>00625 <span class="comment">//! Renvoie le nombre de faces du i-ieme bord.</span>
<a name="l00626"></a>00626 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00627"></a>00627 <span class="comment">Signification: le nombre de faces du i-ieme bord&lt;br&gt;</span>
<a name="l00628"></a>00628 <span class="comment">Contraintes: */</span>
<a name="l00629"></a><a class="code" href="classZone.html#af9a8caf638a76ba5ac2b1d04ae4742e9">00629</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a30db06b6e445fedc9b3772dd24247f2d" title="Renvoie le nombre de faces qui sont des bords.">Zone::nb_faces_bord</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00630"></a>00630 <span class="keyword"></span>{
<a name="l00631"></a>00631   <span class="keywordflow">return</span> <a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>(i).<a class="code" href="classBords.html#ac9ac781941c3254fd04512d310c7344f" title="Renvoie le nombre total de faces de tous les bords de la liste.">nb_faces</a>();
<a name="l00632"></a>00632 }
<a name="l00633"></a>00633 
<a name="l00634"></a>00634 <span class="comment">// Precondition:</span>
<a name="l00635"></a>00635 <span class="comment">// Parametre: int i</span>
<a name="l00636"></a>00636 <span class="comment">// Signification: le numero du joint dont on veut</span>
<a name="l00637"></a>00637 <span class="comment">// connaitre le nombre de faces</span>
<a name="l00638"></a>00638 <span class="comment">// Valeurs par defaut:</span>
<a name="l00639"></a>00639 <span class="comment">// Contraintes:</span>
<a name="l00640"></a>00640 <span class="comment">// Acces:</span>
<a name="l00641"></a>00641 <span class="comment">// Exception:</span>
<a name="l00642"></a>00642 <span class="comment">// Effets de bord:</span>
<a name="l00643"></a>00643 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00644"></a>00644 <span class="comment">//</span><span class="comment"></span>
<a name="l00645"></a>00645 <span class="comment">//! Renvoie le nombre de faces du i-ieme joint.</span>
<a name="l00646"></a>00646 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00647"></a>00647 <span class="comment">Signification: nombre de faces du i-ieme joint&lt;br&gt;</span>
<a name="l00648"></a>00648 <span class="comment">Contraintes: */</span>
<a name="l00649"></a><a class="code" href="classZone.html#aa4ad86fbde0a574b01caa07b09d20180">00649</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#aff77b437f8c58064cc80a3221a0b6130" title="Renvoie le nombre de joints de la zone.">Zone::nb_faces_joint</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00650"></a>00650 <span class="keyword"></span>{
<a name="l00651"></a>00651   <span class="keywordflow">return</span> <a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>(i).<a class="code" href="classJoints.html#af938af1848250b0032bdf6b87bcb11f2" title="Renvoie le nombre de face total des Joints de la liste. (la somme des faces de tous les joints de la ...">nb_faces</a>();
<a name="l00652"></a>00652 }
<a name="l00653"></a>00653 
<a name="l00654"></a>00654 <span class="comment">// Precondition:</span>
<a name="l00655"></a>00655 <span class="comment">// Parametre: int i</span>
<a name="l00656"></a>00656 <span class="comment">// Signification: le numero du raccord dont on veut</span>
<a name="l00657"></a>00657 <span class="comment">// connaitre le nombre de faces</span>
<a name="l00658"></a>00658 <span class="comment">// Valeurs par defaut:</span>
<a name="l00659"></a>00659 <span class="comment">// Contraintes:</span>
<a name="l00660"></a>00660 <span class="comment">// Acces:</span>
<a name="l00661"></a>00661 <span class="comment">// Exception:</span>
<a name="l00662"></a>00662 <span class="comment">// Effets de bord:</span>
<a name="l00663"></a>00663 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00664"></a>00664 <span class="comment">//</span><span class="comment"></span>
<a name="l00665"></a>00665 <span class="comment">//! Renvoie le nombre de faces du i-ieme raccord.</span>
<a name="l00666"></a>00666 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00667"></a>00667 <span class="comment">Signification: le nombre de faces du i-ieme raccord&lt;br&gt;</span>
<a name="l00668"></a>00668 <span class="comment">Contraintes: */</span>
<a name="l00669"></a><a class="code" href="classZone.html#a862668d1bb457f9407d69c3b069ef7eb">00669</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a1ce479915234e24225f81b866ca13ea8" title="Renvoie le nombre de raccords de la zone.">Zone::nb_faces_raccord</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00670"></a>00670 <span class="keyword"></span>{
<a name="l00671"></a>00671   <span class="keywordflow">return</span> <a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>(i)-&gt;<a class="code" href="classRaccords.html#a3299f6a606275a5230c7327d847de134" title="Renvoie le nombre de face total des Raccords de la liste. (la somme des faces de tous les raccords de...">nb_faces</a>();
<a name="l00672"></a>00672 }
<a name="l00673"></a>00673 <span class="comment">// Precondition:</span>
<a name="l00674"></a>00674 <span class="comment">// Parametre: int i</span>
<a name="l00675"></a>00675 <span class="comment">// Signification: le numero de la liste de faces internes dont on veut</span>
<a name="l00676"></a>00676 <span class="comment">// connaitre le nombre de faces</span>
<a name="l00677"></a>00677 <span class="comment">// Valeurs par defaut:</span>
<a name="l00678"></a>00678 <span class="comment">// Contraintes:</span>
<a name="l00679"></a>00679 <span class="comment">// Acces:</span>
<a name="l00680"></a>00680 <span class="comment">// Exception:</span>
<a name="l00681"></a>00681 <span class="comment">// Effets de bord:</span>
<a name="l00682"></a>00682 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00683"></a>00683 <span class="comment">//</span>
<a name="l00684"></a>00684 <span class="comment">//</span><span class="comment"></span>
<a name="l00685"></a>00685 <span class="comment">//! Renvoie le nombre de faces de la i-ieme&lt;br&gt;liste de faces internes</span>
<a name="l00686"></a>00686 <span class="comment"></span><span class="comment">/** \return int i&lt;br&gt;</span>
<a name="l00687"></a>00687 <span class="comment">Signification: le nombre de faces de la i-ieme liste&lt;br&gt;</span>
<a name="l00688"></a>00688 <span class="comment">de faces internes&lt;br&gt;</span>
<a name="l00689"></a>00689 <span class="comment">Contraintes: */</span>
<a name="l00690"></a><a class="code" href="classZone.html#a0a55ebc896286ec26d5161d990635e38">00690</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a9e95b9db7a588dee827091663b52ba5b" title="Renvoie le nombre de face internes de la zone.">Zone::nb_faces_int</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00691"></a>00691 <span class="keyword"></span>{
<a name="l00692"></a>00692   <span class="keywordflow">return</span> <a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>(i).<a class="code" href="classFaces__Internes.html#a695c60463bd613f5faa9658b3355cb21" title="Renvoie le nombre total de faces contenues dans la liste des Faces_Interne, i.e. la somme de toutes l...">nb_faces</a>();
<a name="l00693"></a>00693 }
<a name="l00694"></a>00694 
<a name="l00695"></a>00695 <span class="comment">// Precondition:</span>
<a name="l00696"></a>00696 <span class="comment">// Parametre: IntVect&amp; Les_Nums</span>
<a name="l00697"></a>00697 <span class="comment">// Signification: le vecteur contenant la nouvelle numerotation</span>
<a name="l00698"></a>00698 <span class="comment">// Nouveau_numero_noeud_i = Les_Nums[Ancien_numero_noeud_i]</span>
<a name="l00699"></a>00699 <span class="comment">// Valeurs par defaut:</span>
<a name="l00700"></a>00700 <span class="comment">// Contraintes: reference constante</span>
<a name="l00701"></a>00701 <span class="comment">// Acces: entree</span>
<a name="l00702"></a>00702 <span class="comment">// </span>
<a name="l00703"></a>00703 <span class="comment">// Signification:</span>
<a name="l00704"></a>00704 <span class="comment">// Contraintes:</span>
<a name="l00705"></a>00705 <span class="comment">// Exception:</span>
<a name="l00706"></a>00706 <span class="comment">// Effets de bord:</span>
<a name="l00707"></a>00707 <span class="comment">// Postcondition: les noeuds ont une nouvelle numerotation</span>
<a name="l00708"></a>00708 <span class="comment">//</span>
<a name="l00709"></a>00709 <span class="comment">//</span><span class="comment"></span>
<a name="l00710"></a>00710 <span class="comment">//! Renumerotation des noeuds:&lt;br&gt;Le noeud de numero k devient le noeud de numero Les_Nums[k]</span>
<a name="l00711"></a><a class="code" href="classZone.html#ade842749f28689fdf39c3a5ea2757e3f">00711</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone.html#ade842749f28689fdf39c3a5ea2757e3f" title="Renumerotation des noeuds: Le noeud de numero k devient le noeud de numero Les_Nums[k].">Zone::renum</a>(<span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; Les_Nums)
<a name="l00712"></a>00712 {
<a name="l00713"></a>00713   <span class="keywordtype">int</span> dim0 = <a class="code" href="classZone.html#ae3b8b8c04c1a18b897762abf8e891454">mes_elems</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(0);
<a name="l00714"></a>00714   <span class="keywordtype">int</span> dim1 = <a class="code" href="classZone.html#ae3b8b8c04c1a18b897762abf8e891454">mes_elems</a>.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1);
<a name="l00715"></a>00715 
<a name="l00716"></a>00716   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;dim0; i++)
<a name="l00717"></a>00717     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;dim1; j++)
<a name="l00718"></a>00718       <a class="code" href="classZone.html#ae3b8b8c04c1a18b897762abf8e891454">mes_elems</a>(i,j)=Les_Nums[<a class="code" href="classZone.html#ae3b8b8c04c1a18b897762abf8e891454">mes_elems</a>(i,j)];
<a name="l00719"></a>00719 
<a name="l00720"></a>00720   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classZone.html#a7d6ba9a2216d306cb0a0bf3dfff6f170" title="Renvoie le nombre de bords de la zone.">nb_bords</a>(); i++)
<a name="l00721"></a>00721     <a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>(i).renum(Les_Nums);
<a name="l00722"></a>00722   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classZone.html#ab096afb61e89705709a4ae6d3576a644" title="Renvoie le nombre de joints de la zone.">nb_joints</a>(); i++)
<a name="l00723"></a>00723     <a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>(i).renum(Les_Nums);
<a name="l00724"></a>00724   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classZone.html#a150d1dac14da48d5f22abdae26fd85f3" title="Renvoie le nombre de raccords de la zone.">nb_raccords</a>(); i++)
<a name="l00725"></a>00725     <a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>(i)-&gt;renum(Les_Nums);
<a name="l00726"></a>00726   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classZone.html#a7b5f5bf35f453887740c1729d7e9e492" title="Renvoie le nombre de frontieres internes de la zone.">nb_frontieres_internes</a>(); i++)
<a name="l00727"></a>00727     <a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>(i).renum(Les_Nums);
<a name="l00728"></a>00728 }
<a name="l00729"></a>00729 
<a name="l00730"></a>00730 <span class="comment">// Precondition:</span>
<a name="l00731"></a>00731 <span class="comment">// Parametre: IntVect&amp; Les_Nums</span>
<a name="l00732"></a>00732 <span class="comment">// Signification: le vecteur contenant la nouvelle numerotation</span>
<a name="l00733"></a>00733 <span class="comment">// Nouveau_numero_noeud_i = Les_Nums[Ancien_numero_noeud_i]</span>
<a name="l00734"></a>00734 <span class="comment">// Valeurs par defaut:</span>
<a name="l00735"></a>00735 <span class="comment">// Contraintes: reference constante</span>
<a name="l00736"></a>00736 <span class="comment">// Acces: entree</span>
<a name="l00737"></a>00737 <span class="comment">// </span>
<a name="l00738"></a>00738 <span class="comment">// Signification:</span>
<a name="l00739"></a>00739 <span class="comment">// Contraintes:</span>
<a name="l00740"></a>00740 <span class="comment">// Exception:</span>
<a name="l00741"></a>00741 <span class="comment">// Effets de bord:</span>
<a name="l00742"></a>00742 <span class="comment">// Postcondition: les items communs ont une nouvelle numerotation</span>
<a name="l00743"></a>00743 <span class="comment">//</span>
<a name="l00744"></a>00744 <span class="comment">//</span>
<a name="l00745"></a>00745 <span class="comment">//</span><span class="comment"></span>
<a name="l00746"></a>00746 <span class="comment">//! Renumerotation des noeuds et des elements presents dans les items communs des joints&lt;br&gt;Le noeud de numero k devient le noeud de numero Les_Nums[k]&lt;br&gt;l&#39;element de numero e devient l&#39;element de numero e+elem_offset</span>
<a name="l00747"></a><a class="code" href="classZone.html#ac59b5ace8b4112340624d4b1cb9aa627">00747</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone.html#ac59b5ace8b4112340624d4b1cb9aa627" title="Renumerotation des noeuds et des elements presents dans les items communs des joints Le noeud de nume...">Zone::renum_joint_common_items</a>(<span class="keyword">const</span> <a class="code" href="classIntVect.html">IntVect</a>&amp; Les_Nums, <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; elem_offset)
<a name="l00748"></a>00748 {
<a name="l00749"></a>00749   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i_joint = 0; i_joint &lt; <a class="code" href="classZone.html#ab096afb61e89705709a4ae6d3576a644" title="Renvoie le nombre de joints de la zone.">nb_joints</a>(); i_joint++)
<a name="l00750"></a>00750     {
<a name="l00751"></a>00751       <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; sommets_communs = <a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>[i_joint].set_joint_item(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926a050aa4faf237e25faef6fff15ffc20f8">Joint::SOMMET</a>).set_items_communs();
<a name="l00752"></a>00752       <span class="keywordflow">for</span>(<span class="keywordtype">int</span> index=0; index&lt;sommets_communs.<a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>(); index++)
<a name="l00753"></a>00753         sommets_communs[index] = Les_Nums[sommets_communs[index]];
<a name="l00754"></a>00754 
<a name="l00755"></a>00755       <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; elements_distants = <a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>[i_joint].set_joint_item(<a class="code" href="classJoint.html#a1e2d15d088c27c9b7b11c02bf4d2c926ae32de3a01fdb3ad6c506b8058a7f6173">Joint::ELEMENT</a>).set_items_distants();
<a name="l00756"></a>00756       elements_distants+= elem_offset;
<a name="l00757"></a>00757     }
<a name="l00758"></a>00758 }
<a name="l00759"></a>00759 
<a name="l00760"></a>00760 
<a name="l00761"></a>00761 <span class="comment">// Precondition:</span>
<a name="l00762"></a>00762 <span class="comment">// Parametre: int face</span>
<a name="l00763"></a>00763 <span class="comment">// Signification: le numero de la face interne a chercher</span>
<a name="l00764"></a>00764 <span class="comment">// Valeurs par defaut:</span>
<a name="l00765"></a>00765 <span class="comment">// Contraintes:</span>
<a name="l00766"></a>00766 <span class="comment">// Acces: entree</span>
<a name="l00767"></a>00767 <span class="comment">// Exception: erreur TRUST (face non trouvee)</span>
<a name="l00768"></a>00768 <span class="comment">// Effets de bord:</span>
<a name="l00769"></a>00769 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l00770"></a>00770 <span class="comment">//</span>
<a name="l00771"></a>00771 <span class="comment">//</span><span class="comment"></span>
<a name="l00772"></a>00772 <span class="comment">//! Renvoie -1 si face n&#39;est pas une face interne&lt;br&gt;Renvoie le numero de la face dupliquee sinon.</span>
<a name="l00773"></a>00773 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l00774"></a>00774 <span class="comment">Signification: -1 si la face specifiee n&#39;est pas une face interne&lt;br&gt;</span>
<a name="l00775"></a>00775 <span class="comment">le numero de la face dupliquee sinon&lt;br&gt;</span>
<a name="l00776"></a>00776 <span class="comment">Contraintes: */</span>
<a name="l00777"></a><a class="code" href="classZone.html#a6b8ee93251d19c144c03d7cab0e5fdec">00777</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a6b8ee93251d19c144c03d7cab0e5fdec" title="Renvoie -1 si face n&#39;est pas une face interne Renvoie le numero de la face dupliquee sinon...">Zone::face_interne_conjuguee</a>(<span class="keywordtype">int</span> face)<span class="keyword"> const</span>
<a name="l00778"></a>00778 <span class="keyword"></span>{
<a name="l00779"></a>00779   <span class="keywordflow">if</span>( (face)&gt;=<a class="code" href="classZone.html#ac2734e92fd818342edab539cab41bf6a" title="Renvoie le nombre de faces frontiere de la zone. C&#39;est la somme des nombres de bords, de raccords et de faces internes.">nb_faces_frontiere</a>())
<a name="l00780"></a>00780     <span class="keywordflow">return</span> -1;
<a name="l00781"></a>00781   <span class="keywordtype">int</span> <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>=<a class="code" href="classZone.html#ac2734e92fd818342edab539cab41bf6a" title="Renvoie le nombre de faces frontiere de la zone. C&#39;est la somme des nombres de bords, de raccords et de faces internes.">nb_faces_frontiere</a>()-<a class="code" href="classZone.html#a9e95b9db7a588dee827091663b52ba5b" title="Renvoie le nombre de face internes de la zone.">nb_faces_int</a>();
<a name="l00782"></a>00782   <span class="keywordflow">if</span>( (face)&lt;compteur)
<a name="l00783"></a>00783     <span class="keywordflow">return</span> -1;
<a name="l00784"></a>00784 
<a name="l00785"></a>00785   <a class="code" href="List_8h.html#add189d7375e577842ac891b09afc6d4b">CONST_LIST_CURSEUR</a>(<a class="code" href="classFaces__Interne.html" title="Classe Faces_Interne La classe sert a representer un ensemble de faces qui sont internes d&#39;un point d...">Faces_Interne</a>) curseur(<a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>);;;
<a name="l00786"></a>00786   <span class="keywordflow">while</span>(curseur)
<a name="l00787"></a>00787     {
<a name="l00788"></a>00788       <span class="keyword">const</span> <a class="code" href="classFaces.html" title="enum Type_Face Les differents types geometriques de faces.">Faces</a>&amp; les_faces=curseur-&gt;faces();
<a name="l00789"></a>00789       <span class="keywordtype">int</span> nbf=les_faces.<a class="code" href="classFaces.html#a64d898edb20c3687d357018f1821c50a" title="Renvoie le nombre de Faces.">nb_faces</a>();
<a name="l00790"></a>00790       <span class="keywordflow">if</span>(face &lt; nbf + compteur)
<a name="l00791"></a>00791         {
<a name="l00792"></a>00792           nbf/=2;
<a name="l00793"></a>00793           <span class="keywordflow">if</span>( (face-compteur)&lt;nbf) <span class="keywordflow">return</span> face+nbf;
<a name="l00794"></a>00794           <span class="keywordflow">else</span> <span class="keywordflow">return</span> face-nbf;
<a name="l00795"></a>00795         }
<a name="l00796"></a>00796       compteur+=(2*nbf);
<a name="l00797"></a>00797       ++curseur;
<a name="l00798"></a>00798     }
<a name="l00799"></a>00799   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;TRUST error &quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00800"></a>00800   assert(0);
<a name="l00801"></a>00801   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l00802"></a>00802   <span class="keywordflow">return</span> -1;
<a name="l00803"></a>00803 }
<a name="l00804"></a>00804 
<a name="l00805"></a>00805 
<a name="l00806"></a>00806 <span class="comment">// Precondition:</span>
<a name="l00807"></a>00807 <span class="comment">// Parametre:</span>
<a name="l00808"></a>00808 <span class="comment">// Signification:</span>
<a name="l00809"></a>00809 <span class="comment">// Valeurs par defaut:</span>
<a name="l00810"></a>00810 <span class="comment">// Contraintes:</span>
<a name="l00811"></a>00811 <span class="comment">// Acces:</span>
<a name="l00812"></a>00812 <span class="comment">// </span>
<a name="l00813"></a>00813 <span class="comment">// Signification:</span>
<a name="l00814"></a>00814 <span class="comment">// Contraintes:</span>
<a name="l00815"></a>00815 <span class="comment">// Exception:</span>
<a name="l00816"></a>00816 <span class="comment">// Effets de bord:</span>
<a name="l00817"></a>00817 <span class="comment">// Postcondition:</span>
<a name="l00818"></a>00818 <span class="comment">//</span>
<a name="l00819"></a>00819 <span class="comment">//</span><span class="comment"></span>
<a name="l00820"></a>00820 <span class="comment">//! Correcting type of borders if they were empty before merge (ie equal to vide_0D)&lt;br&gt;difference with corriger_type is that we don&#39;t want to delete faces inside borders afterwards</span>
<a name="l00821"></a><a class="code" href="classZone.html#ae614007d6eac820ef4239c92adf37ce6">00821</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone.html#ae614007d6eac820ef4239c92adf37ce6" title="Correcting type of borders if they were empty before merge (ie equal to vide_0D) difference with corr...">Zone::correct_type_of_borders_after_merge</a>()
<a name="l00822"></a>00822 {
<a name="l00823"></a>00823   {
<a name="l00824"></a>00824 <span class="comment">// Les Bords</span>
<a name="l00825"></a>00825     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>) curseur(<a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>);;;
<a name="l00826"></a>00826     <span class="keywordflow">while</span>(curseur)
<a name="l00827"></a>00827       {
<a name="l00828"></a>00828         <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front=curseur.valeur();
<a name="l00829"></a>00829         <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>() == <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458af5a5c15f80ef779d90f83960f4064a01">Faces::vide_0D</a>)
<a name="l00830"></a>00830           {
<a name="l00831"></a>00831             <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>) curseur2(curseur.list());;;
<a name="l00832"></a>00832             <span class="keywordflow">while</span>(!curseur2.list().est_dernier())
<a name="l00833"></a>00833               {
<a name="l00834"></a>00834                 <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front2=curseur2.list().suivant().valeur();
<a name="l00835"></a>00835                 <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() == front2.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>())
<a name="l00836"></a>00836                   {
<a name="l00837"></a>00837                     front.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(front2.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>());
<a name="l00838"></a>00838                     <span class="keywordflow">break</span>;
<a name="l00839"></a>00839                   }
<a name="l00840"></a>00840                 <span class="keywordflow">else</span>
<a name="l00841"></a>00841                   ++curseur2;
<a name="l00842"></a>00842               }
<a name="l00843"></a>00843           }
<a name="l00844"></a>00844         ++curseur;
<a name="l00845"></a>00845       }
<a name="l00846"></a>00846   }
<a name="l00847"></a>00847 
<a name="l00848"></a>00848   {
<a name="l00849"></a>00849 <span class="comment">// Les Faces Internes :</span>
<a name="l00850"></a>00850     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classFaces__Interne.html" title="Classe Faces_Interne La classe sert a representer un ensemble de faces qui sont internes d&#39;un point d...">Faces_Interne</a>) curseur(<a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>);;;
<a name="l00851"></a>00851     <span class="keywordflow">while</span>(curseur)
<a name="l00852"></a>00852       {
<a name="l00853"></a>00853         <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front=curseur.valeur();
<a name="l00854"></a>00854         <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>() == <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458af5a5c15f80ef779d90f83960f4064a01">Faces::vide_0D</a>)
<a name="l00855"></a>00855           {
<a name="l00856"></a>00856             <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classFaces__Interne.html" title="Classe Faces_Interne La classe sert a representer un ensemble de faces qui sont internes d&#39;un point d...">Faces_Interne</a>) curseur2(curseur.list());;;
<a name="l00857"></a>00857             <span class="keywordflow">while</span>(!curseur2.list().est_dernier())
<a name="l00858"></a>00858               {
<a name="l00859"></a>00859                 <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front2=curseur2.list().suivant().valeur();
<a name="l00860"></a>00860                 <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() == front2.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>())
<a name="l00861"></a>00861                   {
<a name="l00862"></a>00862                     front.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(front2.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>());
<a name="l00863"></a>00863                     <span class="keywordflow">break</span>;
<a name="l00864"></a>00864                   }
<a name="l00865"></a>00865                 <span class="keywordflow">else</span>
<a name="l00866"></a>00866                   ++curseur2;
<a name="l00867"></a>00867               }
<a name="l00868"></a>00868           }
<a name="l00869"></a>00869         ++curseur;
<a name="l00870"></a>00870       }
<a name="l00871"></a>00871   }
<a name="l00872"></a>00872   {
<a name="l00873"></a>00873 <span class="comment">// Les Raccords</span>
<a name="l00874"></a>00874     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>) curseur(<a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>);;;
<a name="l00875"></a>00875     <span class="keywordflow">while</span>(curseur)
<a name="l00876"></a>00876       {
<a name="l00877"></a>00877         <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front=curseur.valeur();
<a name="l00878"></a>00878         <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>() == <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458af5a5c15f80ef779d90f83960f4064a01">Faces::vide_0D</a>)
<a name="l00879"></a>00879           {
<a name="l00880"></a>00880             <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>) curseur2(curseur.list());;;
<a name="l00881"></a>00881             <span class="keywordflow">while</span>(!curseur2.list().est_dernier())
<a name="l00882"></a>00882               {
<a name="l00883"></a>00883                 <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front2=curseur2.list().suivant().valeur();
<a name="l00884"></a>00884                 <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() == front2.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>())
<a name="l00885"></a>00885                   {
<a name="l00886"></a>00886                     front.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(front2.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>());
<a name="l00887"></a>00887                     <span class="keywordflow">break</span>;
<a name="l00888"></a>00888                   }
<a name="l00889"></a>00889                 <span class="keywordflow">else</span>
<a name="l00890"></a>00890                   ++curseur2;
<a name="l00891"></a>00891               }
<a name="l00892"></a>00892           }
<a name="l00893"></a>00893         ++curseur;
<a name="l00894"></a>00894       }
<a name="l00895"></a>00895   }
<a name="l00896"></a>00896   {
<a name="l00897"></a>00897 <span class="comment">// Les joints</span>
<a name="l00898"></a>00898     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>) curseur(<a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>);;;
<a name="l00899"></a>00899     <span class="keywordflow">while</span>(curseur)
<a name="l00900"></a>00900       {
<a name="l00901"></a>00901         <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front=curseur.valeur();
<a name="l00902"></a>00902         <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>() == <a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458af5a5c15f80ef779d90f83960f4064a01">Faces::vide_0D</a>)
<a name="l00903"></a>00903           {
<a name="l00904"></a>00904             <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>) curseur2(curseur.list());;;
<a name="l00905"></a>00905             <span class="keywordflow">while</span>(!curseur2.list().est_dernier())
<a name="l00906"></a>00906               {
<a name="l00907"></a>00907                 <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front2=curseur2.list().suivant().valeur();
<a name="l00908"></a>00908                 <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() == front2.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>())
<a name="l00909"></a>00909                   {
<a name="l00910"></a>00910                     front.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a503fe687811445373b75dd8ac0991ec2" title="Type les faces.">typer</a>(front2.<a class="code" href="classFrontiere.html#ac64479069f0c43a17cb5766a39ce5ba8" title="Renvoie les faces de la frontiere&lt;br&gt;(version const)">faces</a>().<a class="code" href="classFaces.html#a2fb942d8b2c2f276afa1e6118371b962" title="Renvoie le type des Faces.">type_face</a>());
<a name="l00911"></a>00911                     <span class="keywordflow">break</span>;
<a name="l00912"></a>00912                   }
<a name="l00913"></a>00913                 <span class="keywordflow">else</span>
<a name="l00914"></a>00914                   ++curseur2;
<a name="l00915"></a>00915               }
<a name="l00916"></a>00916           }
<a name="l00917"></a>00917         ++curseur;
<a name="l00918"></a>00918       }
<a name="l00919"></a>00919   }
<a name="l00920"></a>00920 }
<a name="l00921"></a>00921 
<a name="l00922"></a>00922 <span class="comment">// Precondition:</span>
<a name="l00923"></a>00923 <span class="comment">// Parametre:</span>
<a name="l00924"></a>00924 <span class="comment">// Signification:</span>
<a name="l00925"></a>00925 <span class="comment">// Valeurs par defaut:</span>
<a name="l00926"></a>00926 <span class="comment">// Contraintes:</span>
<a name="l00927"></a>00927 <span class="comment">// Acces:</span>
<a name="l00928"></a>00928 <span class="comment">// </span>
<a name="l00929"></a>00929 <span class="comment">// Signification:</span>
<a name="l00930"></a>00930 <span class="comment">// Contraintes:</span>
<a name="l00931"></a>00931 <span class="comment">// Exception:</span>
<a name="l00932"></a>00932 <span class="comment">// Effets de bord:</span>
<a name="l00933"></a>00933 <span class="comment">// Postcondition: les joints qui portent le meme nom sont</span>
<a name="l00934"></a>00934 <span class="comment">// regroupes dans un seul</span>
<a name="l00935"></a>00935 <span class="comment">//</span><span class="comment"></span>
<a name="l00936"></a>00936 <span class="comment">//! Concatene les joints de meme nom</span>
<a name="l00937"></a><a class="code" href="classZone.html#a30472266d5b9fafc3d32a8ab0eb19f0a">00937</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classZone.html#a30472266d5b9fafc3d32a8ab0eb19f0a" title="Concatene les joints de meme nom.">Zone::comprimer_joints</a>()
<a name="l00938"></a>00938 {
<a name="l00939"></a>00939   <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>) curseur(<a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>);;;
<a name="l00940"></a>00940   <span class="keywordflow">while</span>(curseur)
<a name="l00941"></a>00941     {
<a name="l00942"></a>00942       <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front=curseur.valeur();
<a name="l00943"></a>00943       <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>) curseur2(curseur.list());;;
<a name="l00944"></a>00944       <span class="keywordflow">while</span>(!curseur2.list().est_dernier())
<a name="l00945"></a>00945         {
<a name="l00946"></a>00946           <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front2=curseur2.list().suivant().valeur();
<a name="l00947"></a>00947           <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() == front2.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>())
<a name="l00948"></a>00948             {
<a name="l00949"></a>00949               front.<a class="code" href="classFrontiere.html#a89e30e9143bdb821e32b37f07de88fe7" title="Ajoute les sommets (et faces) de la frontiere passee en parametre a l&#39;objet (Frontiere).">add</a>(front2);
<a name="l00950"></a>00950               curseur2.list().supprimer();
<a name="l00951"></a>00951             }
<a name="l00952"></a>00952           <span class="keywordflow">else</span>
<a name="l00953"></a>00953             ++curseur2;
<a name="l00954"></a>00954         }
<a name="l00955"></a>00955       ++curseur;
<a name="l00956"></a>00956     }
<a name="l00957"></a>00957   <span class="keywordflow">return</span> 1;
<a name="l00958"></a>00958 }
<a name="l00959"></a>00959 
<a name="l00960"></a>00960 
<a name="l00961"></a>00961 
<a name="l00962"></a>00962 <span class="comment">// Precondition:</span>
<a name="l00963"></a>00963 <span class="comment">// Parametre:</span>
<a name="l00964"></a>00964 <span class="comment">// Signification:</span>
<a name="l00965"></a>00965 <span class="comment">// Valeurs par defaut:</span>
<a name="l00966"></a>00966 <span class="comment">// Contraintes:</span>
<a name="l00967"></a>00967 <span class="comment">// Acces:</span>
<a name="l00968"></a>00968 <span class="comment">// </span>
<a name="l00969"></a>00969 <span class="comment">// Signification:</span>
<a name="l00970"></a>00970 <span class="comment">// Contraintes:</span>
<a name="l00971"></a>00971 <span class="comment">// Exception:</span>
<a name="l00972"></a>00972 <span class="comment">// Effets de bord:</span>
<a name="l00973"></a>00973 <span class="comment">// Postcondition: les bords qui portent le meme nom sont</span>
<a name="l00974"></a>00974 <span class="comment">// regroupes dans un seul</span>
<a name="l00975"></a>00975 <span class="comment">//</span>
<a name="l00976"></a>00976 <span class="comment">//</span><span class="comment"></span>
<a name="l00977"></a>00977 <span class="comment">//! Concatene les bords de meme nom et ceci pour:&lt;br&gt;les bords, les bords periodiques et les faces internes.</span>
<a name="l00978"></a><a class="code" href="classZone.html#ad391053441c846897f76f92065739128">00978</a> <span class="comment"></span><span class="keywordtype">int</span> <a class="code" href="classZone.html#ad391053441c846897f76f92065739128" title="Concatene les bords de meme nom et ceci pour: les bords, les bords periodiques et les faces internes...">Zone::comprimer</a>()
<a name="l00979"></a>00979 {
<a name="l00980"></a>00980   {
<a name="l00981"></a>00981 <span class="comment">// Les Bords</span>
<a name="l00982"></a>00982     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>) curseur(<a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>);;;
<a name="l00983"></a>00983     <span class="keywordflow">while</span>(curseur)
<a name="l00984"></a>00984       {
<a name="l00985"></a>00985         <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front=curseur.valeur();
<a name="l00986"></a>00986 <span class="comment">// Au cas ou la zone de la frontiere n&#39;est pas la bonne zone</span>
<a name="l00987"></a>00987         front.<a class="code" href="classFrontiere.html#af927b5d4fc1fd086ba91e916f61badee" title="Associe la frontiere a la zone dont elle depend.">associer_zone</a>(*<span class="keyword">this</span>);
<a name="l00988"></a>00988 
<a name="l00989"></a>00989         <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>) curseur2(curseur.list());;;
<a name="l00990"></a>00990         <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>() &lt;&lt; <span class="stringliteral">&quot;Zone::comprimer() bord : &quot;</span> &lt;&lt; front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00991"></a>00991         <span class="keywordflow">while</span>(!curseur2.list().est_dernier())
<a name="l00992"></a>00992           {
<a name="l00993"></a>00993             <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front2=curseur2.list().suivant().valeur();
<a name="l00994"></a>00994             <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() == front2.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>())
<a name="l00995"></a>00995               {
<a name="l00996"></a>00996                 <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>() &lt;&lt; <span class="stringliteral">&quot;On agglomere le bord : &quot;</span> &lt;&lt; front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l00997"></a>00997                 front.<a class="code" href="classFrontiere.html#a89e30e9143bdb821e32b37f07de88fe7" title="Ajoute les sommets (et faces) de la frontiere passee en parametre a l&#39;objet (Frontiere).">add</a>(front2);
<a name="l00998"></a>00998                 curseur2.list().supprimer();
<a name="l00999"></a>00999               }
<a name="l01000"></a>01000             <span class="keywordflow">else</span>
<a name="l01001"></a>01001               ++curseur2;
<a name="l01002"></a>01002           }
<a name="l01003"></a>01003         <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>() &lt;&lt; front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() &lt;&lt; <span class="stringliteral">&quot; est associee a : &quot;</span> &lt;&lt; front.<a class="code" href="classFrontiere.html#a510866aace5f3ed9482553db1a08a3c9" title="Renvoie la Zone associee a la frontiere. (version const)">zone</a>().<a class="code" href="classZone.html#aad29ea7a38564404cc0417383233aaf0" title="Renvoie le nom de la zone.">le_nom</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01004"></a>01004         ++curseur;
<a name="l01005"></a>01005       }
<a name="l01006"></a>01006   }
<a name="l01007"></a>01007 
<a name="l01008"></a>01008   {
<a name="l01009"></a>01009 <span class="comment">// Les Faces Internes :</span>
<a name="l01010"></a>01010     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classFaces__Interne.html" title="Classe Faces_Interne La classe sert a representer un ensemble de faces qui sont internes d&#39;un point d...">Faces_Interne</a>) curseur(<a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>);;;
<a name="l01011"></a>01011     <span class="keywordflow">while</span>(curseur)
<a name="l01012"></a>01012       {
<a name="l01013"></a>01013         <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front=curseur.valeur();
<a name="l01014"></a>01014         <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classFaces__Interne.html" title="Classe Faces_Interne La classe sert a representer un ensemble de faces qui sont internes d&#39;un point d...">Faces_Interne</a>) curseur2(curseur.list());;;
<a name="l01015"></a>01015         <span class="keywordflow">while</span>(!curseur2.list().est_dernier())
<a name="l01016"></a>01016           {
<a name="l01017"></a>01017             <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front2=curseur2.list().suivant().valeur();
<a name="l01018"></a>01018             <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() == front2.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>())
<a name="l01019"></a>01019               {
<a name="l01020"></a>01020                 front.<a class="code" href="classFrontiere.html#a89e30e9143bdb821e32b37f07de88fe7" title="Ajoute les sommets (et faces) de la frontiere passee en parametre a l&#39;objet (Frontiere).">add</a>(front2);
<a name="l01021"></a>01021                 curseur2.list().supprimer();
<a name="l01022"></a>01022               }
<a name="l01023"></a>01023             <span class="keywordflow">else</span>
<a name="l01024"></a>01024               ++curseur2;
<a name="l01025"></a>01025           }
<a name="l01026"></a>01026         ++curseur;
<a name="l01027"></a>01027       }
<a name="l01028"></a>01028   }
<a name="l01029"></a>01029   {
<a name="l01030"></a>01030 <span class="comment">// Les Raccords</span>
<a name="l01031"></a>01031     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>) curseur(<a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>);;;
<a name="l01032"></a>01032     <span class="keywordflow">while</span>(curseur)
<a name="l01033"></a>01033       {
<a name="l01034"></a>01034         <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front=curseur-&gt;valeur();
<a name="l01035"></a>01035         <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>) curseur2(curseur.list());;;
<a name="l01036"></a>01036         <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>() &lt;&lt; <span class="stringliteral">&quot;Raccord : &quot;</span> &lt;&lt; front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01037"></a>01037         <span class="keywordflow">while</span>(!curseur2.list().est_dernier())
<a name="l01038"></a>01038           {
<a name="l01039"></a>01039             <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; front2=curseur2.list().suivant()-&gt;valeur();
<a name="l01040"></a>01040             <span class="keywordflow">if</span>(front.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>() == front2.<a class="code" href="classFrontiere.html#a2868774681d6f050479a95cbc7cd6fc9" title="Renvoie le nom de la frontiere.">le_nom</a>())
<a name="l01041"></a>01041               {
<a name="l01042"></a>01042                 front.<a class="code" href="classFrontiere.html#a89e30e9143bdb821e32b37f07de88fe7" title="Ajoute les sommets (et faces) de la frontiere passee en parametre a l&#39;objet (Frontiere).">add</a>(front2);
<a name="l01043"></a>01043                 curseur2.list().supprimer();
<a name="l01044"></a>01044               }
<a name="l01045"></a>01045             <span class="keywordflow">else</span>
<a name="l01046"></a>01046               ++curseur2;
<a name="l01047"></a>01047           }
<a name="l01048"></a>01048         ++curseur;
<a name="l01049"></a>01049       }
<a name="l01050"></a>01050   }
<a name="l01051"></a>01051   <span class="keywordflow">return</span> 1;
<a name="l01052"></a>01052 }
<a name="l01053"></a>01053 
<a name="l01054"></a>01054 <span class="comment">// Precondition:</span>
<a name="l01055"></a>01055 <span class="comment">// Parametre: Sortie&amp; os</span>
<a name="l01056"></a>01056 <span class="comment">// Signification: un flot de sortie</span>
<a name="l01057"></a>01057 <span class="comment">// Valeurs par defaut:</span>
<a name="l01058"></a>01058 <span class="comment">// Contraintes:</span>
<a name="l01059"></a>01059 <span class="comment">// Acces: entree/sortie</span>
<a name="l01060"></a>01060 <span class="comment">// </span>
<a name="l01061"></a>01061 <span class="comment">// Signification:</span>
<a name="l01062"></a>01062 <span class="comment">// Contraintes:</span>
<a name="l01063"></a>01063 <span class="comment">// Exception:</span>
<a name="l01064"></a>01064 <span class="comment">// Effets de bord:</span>
<a name="l01065"></a>01065 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l01066"></a>01066 <span class="comment">//</span>
<a name="l01067"></a>01067 <span class="comment">//</span>
<a name="l01068"></a>01068 <span class="comment">//</span><span class="comment"></span>
<a name="l01069"></a>01069 <span class="comment">//! Ecriture des noms des bords sur un flot de sortie&lt;br&gt;Ecrit les noms des: bords, bords periodiques, raccords&lt;br&gt;et faces internes.</span>
<a name="l01070"></a><a class="code" href="classZone.html#ab1cad8bbf21bd58899dbc89dbcf0d3a3">01070</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone.html#ab1cad8bbf21bd58899dbc89dbcf0d3a3" title="Ecriture des noms des bords sur un flot de sortie Ecrit les noms des: bords, bords periodiques...">Zone::ecrire_noms_bords</a>(<a class="code" href="classSortie.html" title="Classe de base des flux de sortie. Elle sait ecrire des types simples&lt;br&gt;(entiers, flottants) et des Ob...">Sortie</a>&amp; os)<span class="keyword"> const</span>
<a name="l01071"></a>01071 <span class="keyword"></span>{
<a name="l01072"></a>01072   {
<a name="l01073"></a>01073 <span class="comment">// Les Bords</span>
<a name="l01074"></a>01074     <a class="code" href="List_8h.html#add189d7375e577842ac891b09afc6d4b">CONST_LIST_CURSEUR</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>) curseur(<a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>);
<a name="l01075"></a>01075     <span class="keywordflow">while</span>(curseur)
<a name="l01076"></a>01076       {
<a name="l01077"></a>01077         os &lt;&lt; curseur-&gt;le_nom() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01078"></a>01078         ++curseur;
<a name="l01079"></a>01079       }
<a name="l01080"></a>01080   }
<a name="l01081"></a>01081 
<a name="l01082"></a>01082   {
<a name="l01083"></a>01083 <span class="comment">// Les Faces Internes :</span>
<a name="l01084"></a>01084     <a class="code" href="List_8h.html#add189d7375e577842ac891b09afc6d4b">CONST_LIST_CURSEUR</a>(<a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>) curseur(<a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>);
<a name="l01085"></a>01085     <span class="keywordflow">while</span>(curseur)
<a name="l01086"></a>01086       {
<a name="l01087"></a>01087         os &lt;&lt; curseur.valeur()-&gt;le_nom() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01088"></a>01088         ++curseur;
<a name="l01089"></a>01089       }
<a name="l01090"></a>01090   }
<a name="l01091"></a>01091 
<a name="l01092"></a>01092   {
<a name="l01093"></a>01093 <span class="comment">// Les Faces Internes :</span>
<a name="l01094"></a>01094     <a class="code" href="List_8h.html#add189d7375e577842ac891b09afc6d4b">CONST_LIST_CURSEUR</a>(<a class="code" href="classFaces__Interne.html" title="Classe Faces_Interne La classe sert a representer un ensemble de faces qui sont internes d&#39;un point d...">Faces_Interne</a>) curseur(<a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>);
<a name="l01095"></a>01095     <span class="keywordflow">while</span>(curseur)
<a name="l01096"></a>01096       {
<a name="l01097"></a>01097         os &lt;&lt; curseur-&gt;le_nom() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01098"></a>01098         ++curseur;
<a name="l01099"></a>01099       }
<a name="l01100"></a>01100   }
<a name="l01101"></a>01101 }
<a name="l01102"></a>01102 
<a name="l01103"></a><a class="code" href="classZone.html#ae11ab38afa8e71e6453dda9494d6e853">01103</a> <span class="keywordtype">double</span> <a class="code" href="classZone.html#ae11ab38afa8e71e6453dda9494d6e853">Zone::epsilon</a>()<span class="keyword"> const</span>
<a name="l01104"></a>01104 <span class="keyword"></span>{
<a name="l01105"></a>01105   <span class="keywordflow">return</span> <a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a265dc75236ae3cc98a215f38424d2df1" title="Renvoie epsilon. Si 2 points d&#39;un domaine sont separes d&#39;une distance inferieure ou egale a epsilon i...">epsilon</a>();
<a name="l01106"></a>01106 }
<a name="l01107"></a>01107 
<a name="l01108"></a>01108 
<a name="l01109"></a>01109 <span class="comment">// Precondition:</span>
<a name="l01110"></a>01110 <span class="comment">// Parametre: Type_Face type</span>
<a name="l01111"></a>01111 <span class="comment">// Signification: un type de face</span>
<a name="l01112"></a>01112 <span class="comment">// Valeurs par defaut:</span>
<a name="l01113"></a>01113 <span class="comment">// Contraintes:</span>
<a name="l01114"></a>01114 <span class="comment">// Acces:</span>
<a name="l01115"></a>01115 <span class="comment">// Exception:</span>
<a name="l01116"></a>01116 <span class="comment">// Effets de bord:</span>
<a name="l01117"></a>01117 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l01118"></a>01118 <span class="comment">//</span><span class="comment"></span>
<a name="l01119"></a>01119 <span class="comment">//! Renvoie le nombre de faces du type specifie.</span>
<a name="l01120"></a>01120 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l01121"></a>01121 <span class="comment">Signification: le nombre de faces du type specifie&lt;br&gt;</span>
<a name="l01122"></a>01122 <span class="comment">Contraintes: */</span>
<a name="l01123"></a><a class="code" href="classZone.html#a09f70109ec4c48dcba6ae687a7857024">01123</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a30db06b6e445fedc9b3772dd24247f2d" title="Renvoie le nombre de faces qui sont des bords.">Zone::nb_faces_bord</a>(<a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a> type)<span class="keyword"> const</span>
<a name="l01124"></a>01124 <span class="keyword"></span>{
<a name="l01125"></a>01125   <span class="keywordflow">return</span> <a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>.<a class="code" href="classBords.html#ac9ac781941c3254fd04512d310c7344f" title="Renvoie le nombre total de faces de tous les bords de la liste.">nb_faces</a>(type);
<a name="l01126"></a>01126 }
<a name="l01127"></a>01127 
<a name="l01128"></a>01128 <span class="comment">// Precondition:</span>
<a name="l01129"></a>01129 <span class="comment">// Parametre: Type_Face type</span>
<a name="l01130"></a>01130 <span class="comment">// Signification: un type de face</span>
<a name="l01131"></a>01131 <span class="comment">// Valeurs par defaut:</span>
<a name="l01132"></a>01132 <span class="comment">// Contraintes:</span>
<a name="l01133"></a>01133 <span class="comment">// Acces:</span>
<a name="l01134"></a>01134 <span class="comment">// Exception:</span>
<a name="l01135"></a>01135 <span class="comment">// Effets de bord:</span>
<a name="l01136"></a>01136 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l01137"></a>01137 <span class="comment">//</span><span class="comment"></span>
<a name="l01138"></a>01138 <span class="comment">//! Renvoie le nombre de joints du type specifie</span>
<a name="l01139"></a>01139 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l01140"></a>01140 <span class="comment">Signification: le nombre de joints du type specifie&lt;br&gt;</span>
<a name="l01141"></a>01141 <span class="comment">Contraintes: */</span>
<a name="l01142"></a><a class="code" href="classZone.html#aad4014e3c124f8032ca83ca26f000475">01142</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#aff77b437f8c58064cc80a3221a0b6130" title="Renvoie le nombre de joints de la zone.">Zone::nb_faces_joint</a>(<a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a> type)<span class="keyword"> const</span>
<a name="l01143"></a>01143 <span class="keyword"></span>{
<a name="l01144"></a>01144   <span class="keywordflow">return</span> <a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>.<a class="code" href="classJoints.html#af938af1848250b0032bdf6b87bcb11f2" title="Renvoie le nombre de face total des Joints de la liste. (la somme des faces de tous les joints de la ...">nb_faces</a>(type);
<a name="l01145"></a>01145 }
<a name="l01146"></a>01146 
<a name="l01147"></a>01147 <span class="comment">// Precondition:</span>
<a name="l01148"></a>01148 <span class="comment">// Parametre: Type_Face type</span>
<a name="l01149"></a>01149 <span class="comment">// Signification: un type de face</span>
<a name="l01150"></a>01150 <span class="comment">// Valeurs par defaut:</span>
<a name="l01151"></a>01151 <span class="comment">// Contraintes:</span>
<a name="l01152"></a>01152 <span class="comment">// Acces:</span>
<a name="l01153"></a>01153 <span class="comment">// Exception:</span>
<a name="l01154"></a>01154 <span class="comment">// Effets de bord:</span>
<a name="l01155"></a>01155 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l01156"></a>01156 <span class="comment">//</span><span class="comment"></span>
<a name="l01157"></a>01157 <span class="comment">//! Renvoie le nombre de raccords du type specifie</span>
<a name="l01158"></a>01158 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l01159"></a>01159 <span class="comment">Signification: le nombre de raccords du type specifie&lt;br&gt;</span>
<a name="l01160"></a>01160 <span class="comment">Contraintes: */</span>
<a name="l01161"></a><a class="code" href="classZone.html#a7c894ea4c60e75afed8a5fd067b9ec5b">01161</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a1ce479915234e24225f81b866ca13ea8" title="Renvoie le nombre de raccords de la zone.">Zone::nb_faces_raccord</a>(<a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a> type)<span class="keyword"> const</span>
<a name="l01162"></a>01162 <span class="keyword"></span>{
<a name="l01163"></a>01163   <span class="keywordflow">return</span> <a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>.<a class="code" href="classRaccords.html#a3299f6a606275a5230c7327d847de134" title="Renvoie le nombre de face total des Raccords de la liste. (la somme des faces de tous les raccords de...">nb_faces</a>(type);
<a name="l01164"></a>01164 }
<a name="l01165"></a>01165 
<a name="l01166"></a>01166 <span class="comment">// Precondition:</span>
<a name="l01167"></a>01167 <span class="comment">// Parametre: Type_Face type</span>
<a name="l01168"></a>01168 <span class="comment">// Signification: un type de face</span>
<a name="l01169"></a>01169 <span class="comment">// Valeurs par defaut:</span>
<a name="l01170"></a>01170 <span class="comment">// Contraintes:</span>
<a name="l01171"></a>01171 <span class="comment">// Acces:</span>
<a name="l01172"></a>01172 <span class="comment">// Exception:</span>
<a name="l01173"></a>01173 <span class="comment">// Effets de bord:</span>
<a name="l01174"></a>01174 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l01175"></a>01175 <span class="comment">//</span><span class="comment"></span>
<a name="l01176"></a>01176 <span class="comment">//! Renvoie le nombre de faces interieures du type specifie</span>
<a name="l01177"></a>01177 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l01178"></a>01178 <span class="comment">Signification: le nombre de faces interieures du type specifie&lt;br&gt;</span>
<a name="l01179"></a>01179 <span class="comment">Contraintes: */</span>
<a name="l01180"></a><a class="code" href="classZone.html#a5b3bcf8dc11dc8df415831ae2a9547c4">01180</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a9e95b9db7a588dee827091663b52ba5b" title="Renvoie le nombre de face internes de la zone.">Zone::nb_faces_int</a>(<a class="code" href="classFaces.html#a62b7dbd959f99b997dc8111210ec8458">Type_Face</a> type)<span class="keyword"> const</span>
<a name="l01181"></a>01181 <span class="keyword"></span>{
<a name="l01182"></a>01182   <span class="keywordflow">return</span> <a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>.<a class="code" href="classFaces__Internes.html#a695c60463bd613f5faa9658b3355cb21" title="Renvoie le nombre total de faces contenues dans la liste des Faces_Interne, i.e. la somme de toutes l...">nb_faces</a>(type);
<a name="l01183"></a>01183 }
<a name="l01184"></a>01184 
<a name="l01185"></a>01185 <span class="comment">// Precondition:</span>
<a name="l01186"></a>01186 <span class="comment">// Parametre: double x</span>
<a name="l01187"></a>01187 <span class="comment">// Signification: coordonnee en X</span>
<a name="l01188"></a>01188 <span class="comment">// Valeurs par defaut:</span>
<a name="l01189"></a>01189 <span class="comment">// Contraintes:</span>
<a name="l01190"></a>01190 <span class="comment">// Acces:</span>
<a name="l01191"></a>01191 <span class="comment">// Parametre: double y</span>
<a name="l01192"></a>01192 <span class="comment">// Signification: coordonnee en Y</span>
<a name="l01193"></a>01193 <span class="comment">// Valeurs par defaut: 0</span>
<a name="l01194"></a>01194 <span class="comment">// Contraintes:</span>
<a name="l01195"></a>01195 <span class="comment">// Acces:</span>
<a name="l01196"></a>01196 <span class="comment">// Parametre: double z</span>
<a name="l01197"></a>01197 <span class="comment">// Signification: coordonnee en Z</span>
<a name="l01198"></a>01198 <span class="comment">// Valeurs par defaut: 0</span>
<a name="l01199"></a>01199 <span class="comment">// Contraintes:</span>
<a name="l01200"></a>01200 <span class="comment">// Acces:</span>
<a name="l01201"></a>01201 <span class="comment">// Exception:</span>
<a name="l01202"></a>01202 <span class="comment">// Effets de bord:</span>
<a name="l01203"></a>01203 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l01204"></a>01204 <span class="comment">//</span>
<a name="l01205"></a>01205 <span class="comment">//</span><span class="comment"></span>
<a name="l01206"></a>01206 <span class="comment">//! Renvoie le rang de l&#39;element contenant&lt;br&gt;le point dont les coordonnees sont specifiees.</span>
<a name="l01207"></a>01207 <span class="comment"></span><span class="comment">/** \return int&lt;br&gt;</span>
<a name="l01208"></a>01208 <span class="comment">Signification: le rang de l&#39;element contenant&lt;br&gt;</span>
<a name="l01209"></a>01209 <span class="comment">le point dont les coordonnees sont specifiees.&lt;br&gt;</span>
<a name="l01210"></a>01210 <span class="comment">Contraintes: */</span>
<a name="l01211"></a><a class="code" href="classZone.html#ad550d9931994a4f7c3a094073c8e1971">01211</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#aec585e7983082c3df305d75fd13a6b9e">Zone::chercher_elements</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z,<span class="keywordtype">int</span> reel)<span class="keyword"> const</span>
<a name="l01212"></a>01212 <span class="keyword"></span>{
<a name="l01213"></a>01213   <span class="keyword">const</span> <a class="code" href="classOctreeRoot.html" title="Classe OctreeRoot.">OctreeRoot</a>&amp; octree = <a class="code" href="classZone.html#a492c53ea54616079fb65c18f7726ebc9">construit_octree</a>(reel);
<a name="l01214"></a>01214   <span class="keywordflow">return</span> octree.<a class="code" href="classOctreeRoot.html#a1726dee695fac0cfc92ee481c677493a">rang_elem</a>(x, y, z);
<a name="l01215"></a>01215 }
<a name="l01216"></a>01216 
<a name="l01217"></a>01217 <span class="comment">// Precondition:</span>
<a name="l01218"></a>01218 <span class="comment">// Parametre: DoubleTab&amp; pos</span>
<a name="l01219"></a>01219 <span class="comment">// Signification:</span>
<a name="l01220"></a>01220 <span class="comment">// Valeurs par defaut:</span>
<a name="l01221"></a>01221 <span class="comment">// Contraintes: reference constante</span>
<a name="l01222"></a>01222 <span class="comment">// Acces: entree</span>
<a name="l01223"></a>01223 <span class="comment">// Parametre: ArrOfInt&amp; som</span>
<a name="l01224"></a>01224 <span class="comment">// Signification:</span>
<a name="l01225"></a>01225 <span class="comment">// Valeurs par defaut:</span>
<a name="l01226"></a>01226 <span class="comment">// Contraintes:</span>
<a name="l01227"></a>01227 <span class="comment">// Acces: sortie</span>
<a name="l01228"></a>01228 <span class="comment">// Exception:</span>
<a name="l01229"></a>01229 <span class="comment">// Effets de bord:</span>
<a name="l01230"></a>01230 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l01231"></a>01231 <span class="comment">//</span><span class="comment"></span>
<a name="l01232"></a>01232 <span class="comment">/** \return ArrOfInt\&amp;&lt;br&gt;</span>
<a name="l01233"></a>01233 <span class="comment">Signification:&lt;br&gt;</span>
<a name="l01234"></a>01234 <span class="comment">Contraintes: */</span>
<a name="l01235"></a><a class="code" href="classZone.html#abc973e4361741dd2d0e2bcfdf625f89e">01235</a> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classZone.html#abc973e4361741dd2d0e2bcfdf625f89e">Zone::chercher_sommets</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; pos,
<a name="l01236"></a>01236                                  <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; som,
<a name="l01237"></a>01237                                  <span class="keywordtype">int</span> reel)<span class="keyword"> const</span>
<a name="l01238"></a>01238 <span class="keyword"></span>{
<a name="l01239"></a>01239   <span class="keyword">const</span> <a class="code" href="classOctreeRoot.html" title="Classe OctreeRoot.">OctreeRoot</a>&amp; octree = <a class="code" href="classZone.html#a492c53ea54616079fb65c18f7726ebc9">construit_octree</a>(reel);
<a name="l01240"></a>01240   octree.<a class="code" href="classOctreeRoot.html#a040b41fe6a9ba933fe49eff5cbc52cdf">rang_sommet</a>(pos, som);
<a name="l01241"></a>01241   <span class="keywordflow">return</span> som;
<a name="l01242"></a>01242 }
<a name="l01243"></a>01243 
<a name="l01244"></a>01244 <span class="comment">// Precondition:</span>
<a name="l01245"></a>01245 <span class="comment">// Parametre: DoubleTab&amp; pos</span>
<a name="l01246"></a>01246 <span class="comment">// Signification:</span>
<a name="l01247"></a>01247 <span class="comment">// Valeurs par defaut:</span>
<a name="l01248"></a>01248 <span class="comment">// Contraintes: reference constante</span>
<a name="l01249"></a>01249 <span class="comment">// Acces: entree</span>
<a name="l01250"></a>01250 <span class="comment">// Parametre: IntTab&amp; aretes_som</span>
<a name="l01251"></a>01251 <span class="comment">// Signification: la definition des aretes par leurs sommets</span>
<a name="l01252"></a>01252 <span class="comment">// Valeurs par defaut:</span>
<a name="l01253"></a>01253 <span class="comment">// Contraintes:</span>
<a name="l01254"></a>01254 <span class="comment">// Acces: sortie</span>
<a name="l01255"></a>01255 <span class="comment">// Exception:</span>
<a name="l01256"></a>01256 <span class="comment">// Effets de bord:</span>
<a name="l01257"></a>01257 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l01258"></a>01258 <span class="comment">//</span><span class="comment"></span>
<a name="l01259"></a>01259 <span class="comment">/** \return ArrOfInt\&amp; aretes&lt;br&gt;</span>
<a name="l01260"></a>01260 <span class="comment">Signification: Liste des aretes trouvees&lt;br&gt;</span>
<a name="l01261"></a>01261 <span class="comment">Contraintes: */</span>
<a name="l01262"></a><a class="code" href="classZone.html#a94575800622f4900d6c92289f01c5fa5">01262</a> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classZone.html#a94575800622f4900d6c92289f01c5fa5">Zone::chercher_aretes</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; pos,
<a name="l01263"></a>01263                                 <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; aretes,
<a name="l01264"></a>01264                                 <span class="keywordtype">int</span> reel)<span class="keyword"> const</span>
<a name="l01265"></a>01265 <span class="keyword"></span>{
<a name="l01266"></a>01266   <span class="keyword">const</span> <a class="code" href="classOctreeRoot.html" title="Classe OctreeRoot.">OctreeRoot</a>&amp; octree = <a class="code" href="classZone.html#a492c53ea54616079fb65c18f7726ebc9">construit_octree</a>(reel);
<a name="l01267"></a>01267   octree.<a class="code" href="classOctreeRoot.html#ae90c1f01cd5318cc8a5c8dc68cc89a0e">rang_arete</a>(pos, aretes);
<a name="l01268"></a>01268   <span class="keywordflow">return</span> aretes;
<a name="l01269"></a>01269 }
<a name="l01270"></a>01270 
<a name="l01271"></a>01271 <span class="comment">// Precondition:</span>
<a name="l01272"></a>01272 <span class="comment">// Parametre: double x</span>
<a name="l01273"></a>01273 <span class="comment">// Signification: coordonnee en X</span>
<a name="l01274"></a>01274 <span class="comment">// Valeurs par defaut:</span>
<a name="l01275"></a>01275 <span class="comment">// Contraintes:</span>
<a name="l01276"></a>01276 <span class="comment">// Acces:</span>
<a name="l01277"></a>01277 <span class="comment">// Parametre: double y</span>
<a name="l01278"></a>01278 <span class="comment">// Signification: coordonnee en Y</span>
<a name="l01279"></a>01279 <span class="comment">// Valeurs par defaut: 0</span>
<a name="l01280"></a>01280 <span class="comment">// Contraintes:</span>
<a name="l01281"></a>01281 <span class="comment">// Acces:</span>
<a name="l01282"></a>01282 <span class="comment">// Parametre: double z</span>
<a name="l01283"></a>01283 <span class="comment">// Signification: coordonnee en Z</span>
<a name="l01284"></a>01284 <span class="comment">// Valeurs par defaut: 0</span>
<a name="l01285"></a>01285 <span class="comment">// Contraintes:</span>
<a name="l01286"></a>01286 <span class="comment">// Acces:</span>
<a name="l01287"></a>01287 <span class="comment">// </span>
<a name="l01288"></a>01288 <span class="comment">// Signification:</span>
<a name="l01289"></a>01289 <span class="comment">// Contraintes:</span>
<a name="l01290"></a>01290 <span class="comment">// Exception:</span>
<a name="l01291"></a>01291 <span class="comment">// Effets de bord:</span>
<a name="l01292"></a>01292 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l01293"></a>01293 <span class="comment">//</span>
<a name="l01294"></a><a class="code" href="classZone.html#a94838c92e3de8becc4f2c8a6d6250742">01294</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#abc973e4361741dd2d0e2bcfdf625f89e">Zone::chercher_sommets</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z, <span class="keywordtype">int</span> reel)<span class="keyword"> const</span>
<a name="l01295"></a>01295 <span class="keyword"></span>{
<a name="l01296"></a>01296   <span class="keyword">const</span> <a class="code" href="classOctreeRoot.html" title="Classe OctreeRoot.">OctreeRoot</a>&amp; octree = <a class="code" href="classZone.html#a492c53ea54616079fb65c18f7726ebc9">construit_octree</a>(reel);
<a name="l01297"></a>01297   <span class="keywordflow">return</span> octree.<a class="code" href="classOctreeRoot.html#a040b41fe6a9ba933fe49eff5cbc52cdf">rang_sommet</a>(x, y, z);
<a name="l01298"></a>01298 }
<a name="l01299"></a>01299 
<a name="l01300"></a><a class="code" href="classZone.html#a93fa9d16e258964f17006b5d92194dae">01300</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a93fa9d16e258964f17006b5d92194dae">Zone::rang_frontiere</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; un_nom)<span class="keyword"> const</span>
<a name="l01301"></a>01301 <span class="keyword"></span>{
<a name="l01302"></a>01302   <span class="keywordtype">int</span> i=0;
<a name="l01303"></a>01303   {
<a name="l01304"></a>01304     <a class="code" href="List_8h.html#add189d7375e577842ac891b09afc6d4b">CONST_LIST_CURSEUR</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>) curseur(<a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>);
<a name="l01305"></a>01305     <span class="keywordflow">while</span>(curseur)
<a name="l01306"></a>01306       {
<a name="l01307"></a>01307         <span class="keywordflow">if</span>(curseur-&gt;le_nom() == un_nom)
<a name="l01308"></a>01308           <span class="keywordflow">return</span> i;
<a name="l01309"></a>01309         ++curseur;
<a name="l01310"></a>01310         ++i;
<a name="l01311"></a>01311       }
<a name="l01312"></a>01312   }
<a name="l01313"></a>01313   {
<a name="l01314"></a>01314     <a class="code" href="List_8h.html#add189d7375e577842ac891b09afc6d4b">CONST_LIST_CURSEUR</a>(<a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>) curseur(<a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>);
<a name="l01315"></a>01315     <span class="keywordflow">while</span>(curseur)
<a name="l01316"></a>01316       {
<a name="l01317"></a>01317         <span class="keywordflow">if</span>(curseur.valeur()-&gt;le_nom() == un_nom)
<a name="l01318"></a>01318           <span class="keywordflow">return</span> i;
<a name="l01319"></a>01319         ++curseur;
<a name="l01320"></a>01320         ++i;
<a name="l01321"></a>01321       }
<a name="l01322"></a>01322   }
<a name="l01323"></a>01323 
<a name="l01324"></a>01324   {
<a name="l01325"></a>01325 <span class="comment">// Les Faces Internes :</span>
<a name="l01326"></a>01326     <a class="code" href="List_8h.html#add189d7375e577842ac891b09afc6d4b">CONST_LIST_CURSEUR</a>(<a class="code" href="classFaces__Interne.html" title="Classe Faces_Interne La classe sert a representer un ensemble de faces qui sont internes d&#39;un point d...">Faces_Interne</a>) curseur(<a class="code" href="classZone.html#a6784a7bc8852c36c4f825b94f8c9770c">mes_faces_int</a>);
<a name="l01327"></a>01327     <span class="keywordflow">while</span>(curseur)
<a name="l01328"></a>01328       {
<a name="l01329"></a>01329         <span class="keywordflow">if</span>(curseur-&gt;le_nom() == un_nom)
<a name="l01330"></a>01330           <span class="keywordflow">return</span> i;
<a name="l01331"></a>01331         ++curseur;
<a name="l01332"></a>01332         ++i;
<a name="l01333"></a>01333       }
<a name="l01334"></a>01334   }
<a name="l01335"></a>01335   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Zone::rang_frontiere(): We have not found a boundary with name &quot;</span> &lt;&lt; un_nom &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01336"></a>01336   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l01337"></a>01337   <span class="keywordflow">return</span> -1;
<a name="l01338"></a>01338 }
<a name="l01339"></a>01339 
<a name="l01340"></a><a class="code" href="classZone.html#a4a669fb3a03f64b00cc89de452549f55">01340</a> <span class="keyword">const</span> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; <a class="code" href="classZone.html#ac338b119d4b0bc4f510a223b9086fe5e">Zone::frontiere</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; un_nom)<span class="keyword"> const</span>
<a name="l01341"></a>01341 <span class="keyword"></span>{
<a name="l01342"></a>01342   <span class="keywordtype">int</span> i = <a class="code" href="classZone.html#a93fa9d16e258964f17006b5d92194dae">rang_frontiere</a>(un_nom);
<a name="l01343"></a>01343   <span class="keywordflow">return</span> <a class="code" href="classZone.html#ac338b119d4b0bc4f510a223b9086fe5e">frontiere</a>(i);
<a name="l01344"></a>01344 }
<a name="l01345"></a>01345 
<a name="l01346"></a><a class="code" href="classZone.html#ab5bfb2facb934daf848b2f85c7696e79">01346</a> <a class="code" href="classFrontiere.html" title="Classe Frontiere. Une Frontiere decrit une partie de la frontiere d&#39;une Zone, elle possede un Nom...">Frontiere</a>&amp; <a class="code" href="classZone.html#ac338b119d4b0bc4f510a223b9086fe5e">Zone::frontiere</a>(<span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; un_nom)
<a name="l01347"></a>01347 {
<a name="l01348"></a>01348   <span class="keywordtype">int</span> i = <a class="code" href="classZone.html#a93fa9d16e258964f17006b5d92194dae">rang_frontiere</a>(un_nom);
<a name="l01349"></a>01349   <span class="keywordflow">return</span> <a class="code" href="classZone.html#ac338b119d4b0bc4f510a223b9086fe5e">frontiere</a>(i);
<a name="l01350"></a>01350 }
<a name="l01351"></a>01351 
<a name="l01352"></a><a class="code" href="classZone.html#a4e43597ed27e689e989d3ea8528fbbdb">01352</a> <span class="keywordtype">void</span> <a class="code" href="classZone.html#a4e43597ed27e689e989d3ea8528fbbdb">Zone::fixer_premieres_faces_frontiere</a>()
<a name="l01353"></a>01353 {
<a name="l01354"></a>01354   <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>() &lt;&lt; <span class="stringliteral">&quot;Zone::fixer_premieres_faces_frontiere()&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01355"></a>01355   <span class="keywordtype">int</span> <a class="code" href="Memoire_8cpp.html#ade857a99d48bcb8cfaa57c4cd8d7d2e8">compteur</a>=0;
<a name="l01356"></a>01356   {
<a name="l01357"></a>01357     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classBord.html" title="Classe Bord Cette classe represente un bord d&#39;une zone, c&#39;est un type de frontiere&lt;br&gt;(derive de Fronti...">Bord</a>) curseur(<a class="code" href="classZone.html#adeeb11edd3477e4b5762120359be0e36">mes_faces_bord</a>);
<a name="l01358"></a>01358     <span class="keywordflow">while</span>(curseur)
<a name="l01359"></a>01359       {
<a name="l01360"></a>01360         curseur-&gt;fixer_num_premiere_face(compteur);
<a name="l01361"></a>01361         compteur+=curseur-&gt;nb_faces();
<a name="l01362"></a>01362         <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>() &lt;&lt; <span class="stringliteral">&quot;Le bord &quot;</span> &lt;&lt; curseur-&gt;le_nom() &lt;&lt; <span class="stringliteral">&quot; commence a la face : &quot;</span>
<a name="l01363"></a>01363                   &lt;&lt; curseur-&gt;num_premiere_face() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01364"></a>01364         ++curseur;
<a name="l01365"></a>01365       }
<a name="l01366"></a>01366   }
<a name="l01367"></a>01367   {
<a name="l01368"></a>01368     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classRaccord.html" title="Classe Raccord Classe generique de la hierarchie des raccords, un objet Raccord peut referencer n&#39;imp...">Raccord</a>) curseur(<a class="code" href="classZone.html#ae77969fae57c5074ae3f31399b6245fc">mes_faces_raccord</a>);
<a name="l01369"></a>01369     <span class="keywordflow">while</span>(curseur)
<a name="l01370"></a>01370       {
<a name="l01371"></a>01371         curseur.valeur()-&gt;fixer_num_premiere_face(compteur);
<a name="l01372"></a>01372         compteur+=curseur.valeur()-&gt;nb_faces();
<a name="l01373"></a>01373         <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>() &lt;&lt; <span class="stringliteral">&quot;Le raccord &quot;</span> &lt;&lt; curseur-&gt;le_nom() &lt;&lt; <span class="stringliteral">&quot; commence a la face : &quot;</span>
<a name="l01374"></a>01374                   &lt;&lt; curseur.valeur()-&gt;num_premiere_face() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01375"></a>01375         ++curseur;
<a name="l01376"></a>01376       }
<a name="l01377"></a>01377   }
<a name="l01378"></a>01378   {
<a name="l01379"></a>01379     <a class="code" href="List_8h.html#a300f34d06c3e9d9918e439ede00ad7f4">LIST_CURSEUR</a>(<a class="code" href="classJoint.html" title="La classe Joint est une Frontiere qui contient les faces et les sommets de joint avec la zone PEvoisi...">Joint</a>) curseur(<a class="code" href="classZone.html#a67afd4c80ba35afbbb164c07ed5dc68d">mes_faces_joint</a>);
<a name="l01380"></a>01380     <span class="keywordflow">while</span>(curseur)
<a name="l01381"></a>01381       {
<a name="l01382"></a>01382         curseur-&gt;fixer_num_premiere_face(compteur);
<a name="l01383"></a>01383         compteur+=curseur-&gt;nb_faces();
<a name="l01384"></a>01384         <a class="code" href="classProcess.html#a57e0f54b11e6eaadbea224fa904b18dd" title="Renvoie un objet statique de type Sortie qui sert de journal d&#39;evenements. Si message_level &lt;= verbose...">Journal</a>() &lt;&lt; <span class="stringliteral">&quot;Le joint &quot;</span> &lt;&lt; curseur-&gt;le_nom() &lt;&lt; <span class="stringliteral">&quot; commence a la face : &quot;</span>
<a name="l01385"></a>01385                   &lt;&lt; curseur-&gt;num_premiere_face() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01386"></a>01386         ++curseur;
<a name="l01387"></a>01387       }
<a name="l01388"></a>01388   }
<a name="l01389"></a>01389 <span class="comment">// GF recalcul de nb_faces_Cl (inutile dans la 1.5.8)</span>
<a name="l01390"></a>01390 <span class="comment">// nb_faces_Cl = nb_faces_bord() + nb_faces_raccord() + nb_faces_int();</span>
<a name="l01391"></a>01391 }
<a name="l01392"></a>01392 
<a name="l01393"></a>01393 <span class="comment">// Construction du tableau elem_virt_pe_num_ a partir du tableau mes_elems</span>
<a name="l01394"></a>01394 <span class="comment">// (on se sert des espaces distants et virtuels de mes_elems).</span>
<a name="l01395"></a>01395 <span class="comment">// Algorithme non optimal en memoire : on duplique mes_elems alors qu&#39;on a</span>
<a name="l01396"></a>01396 <span class="comment">// besoin que d&#39;un tableau a deux colonnes.</span>
<a name="l01397"></a>01397 <span class="comment">// Voir Zone.h : elem_virt_pe_num_</span>
<a name="l01398"></a><a class="code" href="classZone.html#a5a8e81b23354f7080912cf6113a4740c">01398</a> <span class="keywordtype">void</span> <a class="code" href="classZone.html#a5a8e81b23354f7080912cf6113a4740c">Zone::construire_elem_virt_pe_num</a>()
<a name="l01399"></a>01399 {
<a name="l01400"></a>01400   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> tableau_echange(<a class="code" href="classZone.html#ae3b8b8c04c1a18b897762abf8e891454">mes_elems</a>);
<a name="l01401"></a>01401   assert(tableau_echange.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1) &gt;= 2);
<a name="l01402"></a>01402   <span class="keywordtype">int</span> i;
<a name="l01403"></a>01403   <span class="keyword">const</span> <span class="keywordtype">int</span> n = <a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>();
<a name="l01404"></a>01404   <span class="keyword">const</span> <span class="keywordtype">int</span> n_virt = <a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>() - n;
<a name="l01405"></a>01405   <span class="keyword">const</span> <span class="keywordtype">int</span> moi = <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">me</a>();
<a name="l01406"></a>01406   <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)
<a name="l01407"></a>01407     {
<a name="l01408"></a>01408       tableau_echange(i, 0) = moi;
<a name="l01409"></a>01409       tableau_echange(i, 1) = i;
<a name="l01410"></a>01410     }
<a name="l01411"></a>01411   tableau_echange.<a class="code" href="classIntVect.html#ad12bea67621d1a0ee82b27c9a37ca4ef">echange_espace_virtuel</a>();
<a name="l01412"></a>01412 
<a name="l01413"></a>01413   <a class="code" href="classZone.html#adac5d04ee6924bf4c2e7193cbfd0af04">elem_virt_pe_num_</a>.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_virt, 2);
<a name="l01414"></a>01414   <span class="keywordflow">for</span> (i = 0; i &lt; n_virt; i++)
<a name="l01415"></a>01415     {
<a name="l01416"></a>01416       <a class="code" href="classZone.html#adac5d04ee6924bf4c2e7193cbfd0af04">elem_virt_pe_num_</a>(i, 0) = tableau_echange(n + i, 0);
<a name="l01417"></a>01417       <a class="code" href="classZone.html#adac5d04ee6924bf4c2e7193cbfd0af04">elem_virt_pe_num_</a>(i, 1) = tableau_echange(n + i, 1);
<a name="l01418"></a>01418     }
<a name="l01419"></a>01419 }
<a name="l01420"></a>01420 
<a name="l01421"></a><a class="code" href="classZone.html#ab8d549f33c312bb235b635520d1a4f2c">01421</a> <span class="keywordtype">void</span> <a class="code" href="classZone.html#a5a8e81b23354f7080912cf6113a4740c">Zone::construire_elem_virt_pe_num</a>(<a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; elem_virt_pe_num_cpy)<span class="keyword"> const</span>
<a name="l01422"></a>01422 <span class="keyword"></span>{
<a name="l01423"></a>01423   <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a> tableau_echange(<a class="code" href="classZone.html#ae3b8b8c04c1a18b897762abf8e891454">mes_elems</a>);
<a name="l01424"></a>01424   assert(tableau_echange.<a class="code" href="classIntTab.html#abc3b32c94925a82f69d5b153a356e359" title="Returns one of the &quot;real&quot; dimensions of the multi-dimensionnal array, as defined by: dimension(0) = s...">dimension</a>(1) &gt;= 2);
<a name="l01425"></a>01425   <span class="keywordtype">int</span> i;
<a name="l01426"></a>01426   <span class="keyword">const</span> <span class="keywordtype">int</span> n = <a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>();
<a name="l01427"></a>01427   <span class="keyword">const</span> <span class="keywordtype">int</span> n_virt = <a class="code" href="classZone.html#aa3a33e8b723618b9092460007153e42d" title="Renvoie le nombre total d&#39;elements de la zone.">nb_elem_tot</a>() - n;
<a name="l01428"></a>01428   <span class="keyword">const</span> <span class="keywordtype">int</span> moi = <a class="code" href="classProcess.html#ab55ba07167ec807ed3a145cac0f5dca4" title="renvoie mon rang dans le groupe de communication courant. Voir Comm_Group::rank() et PE_Groups::curre...">me</a>();
<a name="l01429"></a>01429   <span class="keywordflow">for</span> (i = 0; i &lt; n; i++)
<a name="l01430"></a>01430     {
<a name="l01431"></a>01431       tableau_echange(i, 0) = moi;
<a name="l01432"></a>01432       tableau_echange(i, 1) = i;
<a name="l01433"></a>01433     }
<a name="l01434"></a>01434   tableau_echange.<a class="code" href="classIntVect.html#ad12bea67621d1a0ee82b27c9a37ca4ef">echange_espace_virtuel</a>();
<a name="l01435"></a>01435 
<a name="l01436"></a>01436   elem_virt_pe_num_cpy.<a class="code" href="classIntTab.html#a22e6bed6826b3688d4d0181cbf3b7a38" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(n_virt, 2);
<a name="l01437"></a>01437   <span class="keywordflow">for</span> (i = 0; i &lt; n_virt; i++)
<a name="l01438"></a>01438     {
<a name="l01439"></a>01439       elem_virt_pe_num_cpy(i, 0) = tableau_echange(n + i, 0);
<a name="l01440"></a>01440       elem_virt_pe_num_cpy(i, 1) = tableau_echange(n + i, 1);
<a name="l01441"></a>01441     }
<a name="l01442"></a>01442 }
<a name="l01443"></a>01443 
<a name="l01444"></a>01444 
<a name="l01445"></a><a class="code" href="classZone.html#aa683a779d81dc4d0837d20c22a372637">01445</a> <span class="keyword">const</span> <a class="code" href="classIntTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un IntVect avec calculs de l&#39;indice corespondant Voir les co...">IntTab</a>&amp; <a class="code" href="classZone.html#aa683a779d81dc4d0837d20c22a372637">Zone::elem_virt_pe_num</a>()<span class="keyword"> const</span>
<a name="l01446"></a>01446 <span class="keyword"></span>{
<a name="l01447"></a>01447   <span class="keywordflow">return</span> <a class="code" href="classZone.html#adac5d04ee6924bf4c2e7193cbfd0af04">elem_virt_pe_num_</a>;
<a name="l01448"></a>01448 }
<a name="l01449"></a>01449 <span class="comment">// Precondition:</span>
<a name="l01450"></a>01450 <span class="comment">// Parametre:</span>
<a name="l01451"></a>01451 <span class="comment">// Signification:</span>
<a name="l01452"></a>01452 <span class="comment">// Valeurs par defaut:</span>
<a name="l01453"></a>01453 <span class="comment">// Contraintes:</span>
<a name="l01454"></a>01454 <span class="comment">// Acces:</span>
<a name="l01455"></a>01455 <span class="comment">// </span>
<a name="l01456"></a>01456 <span class="comment">// Signification:</span>
<a name="l01457"></a>01457 <span class="comment">// Contraintes:</span>
<a name="l01458"></a>01458 <span class="comment">// Exception:</span>
<a name="l01459"></a>01459 <span class="comment">// Effets de bord:</span>
<a name="l01460"></a>01460 <span class="comment">// Postcondition:</span>
<a name="l01461"></a>01461 <span class="comment">//</span><span class="comment"></span>
<a name="l01462"></a>01462 <span class="comment">//! Calcule le centre de gravite de la zone</span>
<a name="l01463"></a><a class="code" href="classZone.html#aa44fa68659cef85399685d649ae1f82c">01463</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone.html#aa44fa68659cef85399685d649ae1f82c" title="Calcule le centre de gravite de la zone.">Zone::calculer_mon_centre_de_gravite</a>(<a class="code" href="classArrOfDouble.html" title="Represente un tableau d&#39;elements de type double. L&#39;etat du tableau est caracterise par la valeur de p...">ArrOfDouble</a>&amp; c)
<a name="l01464"></a>01464 {
<a name="l01465"></a>01465   c=0;
<a name="l01466"></a>01466 <span class="comment">// Volumes computed cause stored in Zone_VF and so not available in Zone...</span>
<a name="l01467"></a>01467   <a class="code" href="classDoubleVect.html">DoubleVect</a> volumes;
<a name="l01468"></a>01468   <a class="code" href="classDoubleVect.html">DoubleVect</a> inverse_volumes;
<a name="l01469"></a>01469   <a class="code" href="classZone.html#ad7300cf52a8b6880346dafa3c73b5d3a" title="Calcule les volumes des elements de la zone.">calculer_volumes</a>(volumes,inverse_volumes);
<a name="l01470"></a>01470   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> xp;
<a name="l01471"></a>01471   <a class="code" href="classZone.html#ad8104f9be27f9c357e345b281a79064e" title="Calcule les centres de gravites des elements de la zone.">calculer_centres_gravite</a>(xp);
<a name="l01472"></a>01472   <span class="keywordtype">double</span> volume=0;
<a name="l01473"></a>01473   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classZone.html#a7f249429803b27139a1c54436f6164a5" title="Renvoie le nombre d&#39;elements de la zone.">nb_elem</a>(); i++)
<a name="l01474"></a>01474     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; j++)
<a name="l01475"></a>01475       {
<a name="l01476"></a>01476         c(j)+=xp(i,j)*volumes(i);
<a name="l01477"></a>01477         volume+=volumes(i);
<a name="l01478"></a>01478       }
<a name="l01479"></a>01479 <span class="comment">// Cas de Zone vide:</span>
<a name="l01480"></a>01480   <span class="keywordflow">if</span> (volume&gt;0)
<a name="l01481"></a>01481     c/=volume;
<a name="l01482"></a>01482   <a class="code" href="classZone.html#a905879278b0326ed11a34b1014fc7671">cg_moments_</a>=c;
<a name="l01483"></a>01483   <a class="code" href="classZone.html#a183cd42546accfc19aa26cd9493d3d0f">volume_total_</a> = <a class="code" href="DoubleVect_8cpp.html#a07dd5e25d47ad3892ae0fa4e997ed011">mp_somme_vect</a>(volumes);
<a name="l01484"></a>01484 }
<a name="l01485"></a>01485 
<a name="l01486"></a>01486 <span class="comment">// Precondition:</span>
<a name="l01487"></a>01487 <span class="comment">// Parametre: DoubleVect&amp; volumes</span>
<a name="l01488"></a>01488 <span class="comment">// Signification: le tableau contenant les volumes</span>
<a name="l01489"></a>01489 <span class="comment">// des elements de la zone</span>
<a name="l01490"></a>01490 <span class="comment">// Valeurs par defaut:</span>
<a name="l01491"></a>01491 <span class="comment">// Contraintes:</span>
<a name="l01492"></a>01492 <span class="comment">// Acces: sortie</span>
<a name="l01493"></a>01493 <span class="comment">// </span>
<a name="l01494"></a>01494 <span class="comment">// Signification:</span>
<a name="l01495"></a>01495 <span class="comment">// Contraintes:</span>
<a name="l01496"></a>01496 <span class="comment">// Exception:</span>
<a name="l01497"></a>01497 <span class="comment">// Effets de bord:</span>
<a name="l01498"></a>01498 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l01499"></a>01499 <span class="comment">//</span><span class="comment"></span>
<a name="l01500"></a>01500 <span class="comment">//! Calcule les volumes des elements de la zone.</span>
<a name="l01501"></a><a class="code" href="classZone.html#ad7300cf52a8b6880346dafa3c73b5d3a">01501</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone.html#ad7300cf52a8b6880346dafa3c73b5d3a" title="Calcule les volumes des elements de la zone.">Zone::calculer_volumes</a>(<a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; volumes, <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; inverse_volumes)<span class="keyword"> const</span>
<a name="l01502"></a>01502 <span class="keyword"></span>{
<a name="l01503"></a>01503   <span class="keywordflow">if</span> (!volumes.<a class="code" href="classDoubleVect.html#a0d16d30580c90526e4895388fb44be5d">get_md_vector</a>().<a class="code" href="classMD__Vector.html#a4165c00904b7096274e38fdc7ca340f4">non_nul</a>())
<a name="l01504"></a>01504     <a class="code" href="classZone.html#a600fa15a19c7e1384564dffd83ecab4d" title="creation d&#39;un tableau parallele de valeurs aux elements. Voir MD_Vector_tools::creer_tableau_distribu...">creer_tableau_elements</a>(volumes, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l01505"></a>01505   <a class="code" href="classZone.html#a73993a185809e3e7ca620df7fa4bf8af">elem</a>.<a class="code" href="classElem__geom.html#a25bcdb5ee45accf9e5239c1135aad5e8" title="Appel a l&#39;objet sous-jacent Calcule les volumes des elements de la zone associee.">calculer_volumes</a>(volumes); <span class="comment">//!&lt; Dimensionne et calcule le DoubleVect volumes Check and fill inverse_volumes</span>
<a name="l01506"></a>01506 <span class="comment"></span><span class="comment">//</span>
<a name="l01507"></a>01507   <span class="keywordflow">if</span> (!inverse_volumes.<a class="code" href="classDoubleVect.html#a0d16d30580c90526e4895388fb44be5d">get_md_vector</a>().<a class="code" href="classMD__Vector.html#a4165c00904b7096274e38fdc7ca340f4">non_nul</a>())
<a name="l01508"></a>01508     <a class="code" href="classZone.html#a600fa15a19c7e1384564dffd83ecab4d" title="creation d&#39;un tableau parallele de valeurs aux elements. Voir MD_Vector_tools::creer_tableau_distribu...">creer_tableau_elements</a>(inverse_volumes, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffaf6ae9ba7eb51c5f298ce693345b3ec68">Array_base::NOCOPY_NOINIT</a>);
<a name="l01509"></a>01509   <span class="keywordtype">int</span> size = volumes.<a class="code" href="classDoubleVect.html#ad2d21b364e1c6559771970596a25c006" title="Identique a size_array()">size_totale</a>();
<a name="l01510"></a>01510   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;size; i++)
<a name="l01511"></a>01511     {
<a name="l01512"></a>01512       <span class="keywordtype">double</span> v = volumes(i);
<a name="l01513"></a>01513       <span class="keywordflow">if</span> (v&lt;=0.)
<a name="l01514"></a>01514         {
<a name="l01515"></a>01515           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Volume[&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;]=&quot;</span> &lt;&lt; v &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01516"></a>01516           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Several volumes of the mesh are not positive.&quot;</span> &lt;&lt; finl;
<a name="l01517"></a>01517           <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Something is wrong in the mesh...&quot;</span> &lt;&lt; finl;
<a name="l01518"></a>01518           <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l01519"></a>01519         }
<a name="l01520"></a>01520       inverse_volumes(i)=1./v;
<a name="l01521"></a>01521     }
<a name="l01522"></a>01522 }
<a name="l01523"></a>01523 
<a name="l01524"></a>01524 <span class="comment">// Precondition:</span>
<a name="l01525"></a>01525 <span class="comment">// Parametre: DoubleTab&amp; xa</span>
<a name="l01526"></a>01526 <span class="comment">// Signification: le tableau contenant les centres de</span>
<a name="l01527"></a>01527 <span class="comment">// gravites des aretes de la zone</span>
<a name="l01528"></a>01528 <span class="comment">// Valeurs par defaut:</span>
<a name="l01529"></a>01529 <span class="comment">// Contraintes:</span>
<a name="l01530"></a>01530 <span class="comment">// Acces: sortie</span>
<a name="l01531"></a>01531 <span class="comment">// </span>
<a name="l01532"></a>01532 <span class="comment">// Signification:</span>
<a name="l01533"></a>01533 <span class="comment">// Contraintes:</span>
<a name="l01534"></a>01534 <span class="comment">// Exception:</span>
<a name="l01535"></a>01535 <span class="comment">// Effets de bord:</span>
<a name="l01536"></a>01536 <span class="comment">// Postcondition: la methode ne modifie pas l&#39;objet</span>
<a name="l01537"></a>01537 <span class="comment">//</span><span class="comment"></span>
<a name="l01538"></a>01538 <span class="comment">//! Calcule les centres de gravites des aretes de la zone.</span>
<a name="l01539"></a><a class="code" href="classZone.html#a93f9f472930f7068f21665df30993001">01539</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone.html#a93f9f472930f7068f21665df30993001" title="Calcule les centres de gravites des aretes de la zone.">Zone::calculer_centres_gravite_aretes</a>(<a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; xa)<span class="keyword"> const</span>
<a name="l01540"></a>01540 <span class="keyword"></span>{
<a name="l01541"></a>01541   <span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord = <a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#aecd32c3eecc15cce7d1a0e468dadbf96" title="Renvoie le tableau des coordonnees des noeuds (sommets). (acces en lecture)">coord_sommets</a>();
<a name="l01542"></a>01542 <span class="comment">// Calcule les centres de gravite des aretes reelles seulement</span>
<a name="l01543"></a>01543   xa.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(<a class="code" href="classZone.html#a3e3b48691911fd85574c7bc10a1a4fb8" title="renvoie le nombre d&#39;aretes reelles.">nb_aretes</a>(),<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>);
<a name="l01544"></a>01544   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classZone.html#a3e3b48691911fd85574c7bc10a1a4fb8" title="renvoie le nombre d&#39;aretes reelles.">nb_aretes</a>(); i++)
<a name="l01545"></a>01545     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j=0; j&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; j++)
<a name="l01546"></a>01546       xa(i,j) = 0.5*(coord(<a class="code" href="classZone.html#a23956e4bc2f330a105c27dcadb80c21d">Aretes_som</a>(i,0),j)+coord(<a class="code" href="classZone.html#a23956e4bc2f330a105c27dcadb80c21d">Aretes_som</a>(i,1),j));
<a name="l01547"></a>01547 }
<a name="l01548"></a>01548 
<a name="l01549"></a><a class="code" href="classZone.html#a4ec1f832fcae2873a97ff7a466bc253b">01549</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a4ec1f832fcae2873a97ff7a466bc253b">Zone::rang_elem_depuis</a>(<span class="keyword">const</span> <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord,
<a name="l01550"></a>01550                            <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; elems,
<a name="l01551"></a>01551                            <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; prems)<span class="keyword"> const</span>
<a name="l01552"></a>01552 <span class="keyword"></span>{
<a name="l01553"></a>01553   <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Zone::rang_elem_depuis: function not any more implemented&quot;</span> &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01554"></a>01554   <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l01555"></a>01555   <span class="keywordflow">return</span> -1;
<a name="l01556"></a>01556 }
<a name="l01557"></a>01557 
<a name="l01558"></a><a class="code" href="classZone.html#ac50a1c2dedac851e5c836360ab66fd83">01558</a> <span class="keywordtype">void</span> <a class="code" href="classZone.html#ac50a1c2dedac851e5c836360ab66fd83">Zone::rang_elems_sommet</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; elems,
<a name="l01559"></a>01559                              <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z)<span class="keyword"> const</span>
<a name="l01560"></a>01560 <span class="keyword"></span>{
<a name="l01561"></a>01561   <span class="keyword">const</span> <a class="code" href="classOctreeRoot.html" title="Classe OctreeRoot.">OctreeRoot</a> octree = <a class="code" href="classZone.html#a492c53ea54616079fb65c18f7726ebc9">construit_octree</a>();
<a name="l01562"></a>01562   octree.<a class="code" href="classOctreeRoot.html#aadb775575739c59baabc8bb13e48335c">rang_elems_sommet</a>(elems,x,y,z);
<a name="l01563"></a>01563 }
<a name="l01564"></a>01564 
<a name="l01565"></a><a class="code" href="classZone.html#a8ee51194c663be29651925c88f904d76">01565</a> <span class="keywordtype">void</span> <a class="code" href="classZone.html#a8ee51194c663be29651925c88f904d76">Zone::invalide_octree</a>()
<a name="l01566"></a>01566 {
<a name="l01567"></a>01567   <span class="keywordflow">if</span> (<a class="code" href="classZone.html#a56b1fc265d549440888d6c812eba9847">deriv_octree_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l01568"></a>01568     <a class="code" href="classZone.html#a56b1fc265d549440888d6c812eba9847">deriv_octree_</a>.<a class="code" href="classDeriv__.html#a1792f7b005c558e7412661aeee781bd2">detach</a>();
<a name="l01569"></a>01569 }
<a name="l01570"></a>01570 
<a name="l01571"></a><a class="code" href="classZone.html#a492c53ea54616079fb65c18f7726ebc9">01571</a> <span class="keyword">const</span> <a class="code" href="classOctreeRoot.html" title="Classe OctreeRoot.">OctreeRoot</a>&amp; <a class="code" href="classZone.html#a492c53ea54616079fb65c18f7726ebc9">Zone::construit_octree</a>()<span class="keyword"> const</span>
<a name="l01572"></a>01572 <span class="keyword"></span>{
<a name="l01573"></a>01573   <span class="keywordflow">if</span> (!<a class="code" href="classZone.html#a56b1fc265d549440888d6c812eba9847">deriv_octree_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l01574"></a>01574     <a class="code" href="classZone.html#a56b1fc265d549440888d6c812eba9847">deriv_octree_</a>.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;OctreeRoot&quot;</span>);
<a name="l01575"></a>01575   <a class="code" href="classOctreeRoot.html" title="Classe OctreeRoot.">OctreeRoot</a>&amp; octree = <a class="code" href="classZone.html#a56b1fc265d549440888d6c812eba9847">deriv_octree_</a>.<a class="code" href="classDeriv__OctreeRoot.html#ad8d467e72366ce4af89f9dd922a4996c">valeur</a>();
<a name="l01576"></a>01576   <span class="keywordflow">if</span> (!octree.<a class="code" href="classOctreeRoot.html#a4390ef828a6d2236cfe0197128fc00f9" title="Renvoie vrai si la zone associee a l&#39;octree est non nulle.">construit</a>())
<a name="l01577"></a>01577     {
<a name="l01578"></a>01578       octree.<a class="code" href="classOctreeRoot.html#affc7f6f1753a6dd964aba889e10f0425" title="Associe une zone a l&#39;octree.">associer_Zone</a>(*<span class="keyword">this</span>);
<a name="l01579"></a>01579       octree.<a class="code" href="classOctreeRoot.html#a40eb44f720ada22c172c5c97c786502e">construire</a>();
<a name="l01580"></a>01580     }
<a name="l01581"></a>01581   <span class="keywordflow">return</span> octree;
<a name="l01582"></a>01582 }
<a name="l01583"></a>01583 <span class="comment"></span>
<a name="l01584"></a>01584 <span class="comment">//! construction de l&#39;octree si pas deja fait</span>
<a name="l01585"></a><a class="code" href="classZone.html#a1d115b9595ff71831992c0438fa8fb97">01585</a> <span class="comment"></span><span class="keyword">const</span> <a class="code" href="classOctreeRoot.html" title="Classe OctreeRoot.">OctreeRoot</a>&amp; <a class="code" href="classZone.html#a492c53ea54616079fb65c18f7726ebc9">Zone::construit_octree</a>(<span class="keywordtype">int</span>&amp; reel)<span class="keyword"> const</span>
<a name="l01586"></a>01586 <span class="keyword"></span>{
<a name="l01587"></a>01587   <span class="keywordflow">if</span> (!<a class="code" href="classZone.html#a56b1fc265d549440888d6c812eba9847">deriv_octree_</a>.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
<a name="l01588"></a>01588     <a class="code" href="classZone.html#a56b1fc265d549440888d6c812eba9847">deriv_octree_</a>.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;OctreeRoot&quot;</span>);
<a name="l01589"></a>01589   <a class="code" href="classOctreeRoot.html" title="Classe OctreeRoot.">OctreeRoot</a>&amp; octree = <a class="code" href="classZone.html#a56b1fc265d549440888d6c812eba9847">deriv_octree_</a>.<a class="code" href="classDeriv__OctreeRoot.html#ad8d467e72366ce4af89f9dd922a4996c">valeur</a>();
<a name="l01590"></a>01590   <span class="keywordflow">if</span> (!octree.<a class="code" href="classOctreeRoot.html#a4390ef828a6d2236cfe0197128fc00f9" title="Renvoie vrai si la zone associee a l&#39;octree est non nulle.">construit</a>() || (reel != octree.<a class="code" href="classOctreeRoot.html#a6910ee23a492660ab50ed7a3ff8d6a0d">reel</a>()))
<a name="l01591"></a>01591     {
<a name="l01592"></a>01592       octree.<a class="code" href="classOctreeRoot.html#affc7f6f1753a6dd964aba889e10f0425" title="Associe une zone a l&#39;octree.">associer_Zone</a>(*<span class="keyword">this</span>);
<a name="l01593"></a>01593       octree.<a class="code" href="classOctreeRoot.html#a40eb44f720ada22c172c5c97c786502e">construire</a>(reel);
<a name="l01594"></a>01594     }
<a name="l01595"></a>01595   <span class="keywordflow">return</span> octree;
<a name="l01596"></a>01596 }
<a name="l01597"></a>01597 
<a name="l01598"></a>01598 <span class="comment">//</span><span class="comment"></span>
<a name="l01599"></a>01599 <span class="comment">//! creation d&#39;un tableau parallele de valeurs aux elements.&lt;br&gt;Voir MD_Vector_tools::creer_tableau_distribue()</span>
<a name="l01600"></a><a class="code" href="classZone.html#a600fa15a19c7e1384564dffd83ecab4d">01600</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classZone.html#a600fa15a19c7e1384564dffd83ecab4d" title="creation d&#39;un tableau parallele de valeurs aux elements. Voir MD_Vector_tools::creer_tableau_distribu...">Zone::creer_tableau_elements</a>(<a class="code" href="classArray__base.html" title=": classe vide servant de base a tous les tableaux. (permet de passer un type generique quel que soit ...">Array_base</a>&amp; x, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)<span class="keyword"> const</span>
<a name="l01601"></a>01601 <span class="keyword"></span>{
<a name="l01602"></a>01602   <span class="keyword">const</span> <a class="code" href="classMD__Vector.html" title=": Cette classe est un DERIV mais l&#39;objet pointe est partage entre plusieurs instances de cette classe...">MD_Vector</a>&amp; md = <a class="code" href="classZone.html#ab4c6e0d58001c0cc98d4f06e98086544" title="renvoie le descripteur parallele des tableaux aux elements de la zone">md_vector_elements</a>();
<a name="l01603"></a>01603   <a class="code" href="MD__Vector__tools_8cpp.html#aff1ed2791dba1a76fdb300920147cfdf">MD_Vector_tools::creer_tableau_distribue</a>(md, x, opt);
<a name="l01604"></a>01604 }
<a name="l01605"></a>01605 <span class="comment"></span>
<a name="l01606"></a>01606 <span class="comment">//! renvoie le descripteur parallele des tableaux aux elements de la zone</span>
<a name="l01607"></a><a class="code" href="classZone.html#ab4c6e0d58001c0cc98d4f06e98086544">01607</a> <span class="comment"></span><span class="keyword">const</span> <a class="code" href="classMD__Vector.html" title=": Cette classe est un DERIV mais l&#39;objet pointe est partage entre plusieurs instances de cette classe...">MD_Vector</a>&amp; <a class="code" href="classZone.html#ab4c6e0d58001c0cc98d4f06e98086544" title="renvoie le descripteur parallele des tableaux aux elements de la zone">Zone::md_vector_elements</a>()<span class="keyword"> const</span>
<a name="l01608"></a>01608 <span class="keyword"></span>{
<a name="l01609"></a>01609   <span class="keyword">const</span> <a class="code" href="classMD__Vector.html" title=": Cette classe est un DERIV mais l&#39;objet pointe est partage entre plusieurs instances de cette classe...">MD_Vector</a>&amp; md = <a class="code" href="classZone.html#ae3b8b8c04c1a18b897762abf8e891454">mes_elems</a>.<a class="code" href="classIntVect.html#ae74e1fee6aca124d32718267e33a40c6">get_md_vector</a>();
<a name="l01610"></a>01610   <span class="keywordflow">if</span> (!md.<a class="code" href="classMD__Vector.html#a4165c00904b7096274e38fdc7ca340f4">non_nul</a>())
<a name="l01611"></a>01611     {
<a name="l01612"></a>01612       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a> &lt;&lt; <span class="stringliteral">&quot;Internal error in Zone::md_vector_elements(): descriptor for elements not initialized\n&quot;</span>
<a name="l01613"></a>01613            &lt;&lt; <span class="stringliteral">&quot; You might use a buggy Domain constructor that does not build descriptors,\n&quot;</span>
<a name="l01614"></a>01614            &lt;&lt; <span class="stringliteral">&quot; Use the following syntax to finish the domain construction\n&quot;</span>
<a name="l01615"></a>01615            &lt;&lt; <span class="stringliteral">&quot;  Scatter ; &quot;</span> &lt;&lt; <a class="code" href="classZone.html#a379ad2206b5a13a4f4f3df6d44c7546a" title="Renvoie le domaine dont la zone fait partie. (version const)">domaine</a>().<a class="code" href="classDomaine.html#a87e2cdc035a26565e6fe481446aa4cd3" title="Renvoie le nom du domaine.">le_nom</a>() &lt;&lt; <a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01616"></a>01616       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">exit</a>();
<a name="l01617"></a>01617     }
<a name="l01618"></a>01618 <span class="comment">// Pour l&#39;instant je prends le descripteur dans le tableau mes_elems, mais on</span>
<a name="l01619"></a>01619 <span class="comment">// pourrait en stocker une copie dans la zone si ca a un interet...</span>
<a name="l01620"></a>01620   <span class="keywordflow">return</span> md;
<a name="l01621"></a>01621 }
<a name="l01622"></a>01622 
<a name="l01623"></a><a class="code" href="classZone.html#ab642027f7a7c19e98f906f0ae007c2b7">01623</a> <span class="keywordtype">double</span> <a class="code" href="classZone.html#ab642027f7a7c19e98f906f0ae007c2b7">Zone::volume_total</a>()<span class="keyword"> const</span>
<a name="l01624"></a>01624 <span class="keyword"></span>{
<a name="l01625"></a>01625   assert(<a class="code" href="classZone.html#a183cd42546accfc19aa26cd9493d3d0f">volume_total_</a> &gt;= 0.); <span class="comment">//!&lt; Pas calcule ???</span>
<a name="l01626"></a>01626 <span class="comment"></span>  <span class="keywordflow">return</span> <a class="code" href="classZone.html#a183cd42546accfc19aa26cd9493d3d0f">volume_total_</a>;
<a name="l01627"></a>01627 }
<a name="l01628"></a>01628 
<a name="l01629"></a>01629 <span class="comment">// Selection d&#39;un item unique (sommet, face ...) parmi une liste (item_possible)</span>
<a name="l01630"></a>01630 <span class="comment">// afin d&#39;assurer le parallelisme de certains algorithmes</span>
<a name="l01631"></a>01631 <span class="comment">// La selection est faite en testant la distance entre les coordonnees (coord_possible)</span>
<a name="l01632"></a>01632 <span class="comment">// localisant ces items par rapport aux coordonnes (coord_ref) d&#39;un point de reference.</span>
<a name="l01633"></a>01633 <span class="comment">// L&#39;item retenu est celui qui presente la distance minimum par rapport au point de reference.</span>
<a name="l01634"></a>01634 <span class="comment">// S&#39;il reste plusieurs items se trouvant a la meme distance du point de reference</span>
<a name="l01635"></a>01635 <span class="comment">// alors on repete le test en translatant le point de reference</span>
<a name="l01636"></a>01636 
<a name="l01637"></a><a class="code" href="classZone.html#a718b00d35161598bcb68d79013ab4d54">01637</a> <span class="keywordtype">int</span> <a class="code" href="classZone.html#a718b00d35161598bcb68d79013ab4d54">Zone::identifie_item_unique</a>(<a class="code" href="classIntList.html" title="Classe qui sert a representer une liste de reels int precision. On ne peut pas utiliser la classe con...">IntList</a>&amp; item_possible,
<a name="l01638"></a>01638                                 <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a>&amp; coord_possible,
<a name="l01639"></a>01639                                 <span class="keyword">const</span> <a class="code" href="classDoubleVect.html">DoubleVect</a>&amp; coord_ref)
<a name="l01640"></a>01640 {
<a name="l01641"></a>01641   <span class="keywordtype">int</span> it_selection = -1;
<a name="l01642"></a>01642   <a class="code" href="classDoubleTab.html" title="Tableau a n entrees pour n&lt;= 4 Repose sur un DoubleVect avec calculs de l&#39;indice corespondant Voir les...">DoubleTab</a> decentre_face(4,<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>);
<a name="l01643"></a>01643   decentre_face = 0.;
<a name="l01644"></a>01644   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t=1; t&lt;4; t++)
<a name="l01645"></a>01645     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir=0; dir&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; dir++)
<a name="l01646"></a>01646       <span class="keywordflow">if</span> (dir==(t-1))
<a name="l01647"></a>01647         decentre_face(t,dir) = 1.;
<a name="l01648"></a>01648 <span class="comment">// decentre_face(0,0:dim)={0,0,0}</span>
<a name="l01649"></a>01649 <span class="comment">// decentre_face(1,0:dim)={1,0,0}</span>
<a name="l01650"></a>01650 <span class="comment">// decentre_face(2,0:dim)={0,1,0}</span>
<a name="l01651"></a>01651 <span class="comment">// decentre_face(3,0:dim)={0,0,1}</span>
<a name="l01652"></a>01652 
<a name="l01653"></a>01653 <span class="comment">// Au premier passage (t=0) pas de translation effectuee</span>
<a name="l01654"></a>01654   <a class="code" href="classDoubleVect.html">DoubleVect</a> dist;
<a name="l01655"></a>01655   assert (item_possible.<a class="code" href="classIntList.html#ae8b23a7b17410d1e0bdcc20da0594f9b" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>()!=0);
<a name="l01656"></a>01656   <span class="keywordtype">int</span> t = 0;
<a name="l01657"></a>01657   <span class="keywordflow">while</span> ((item_possible.<a class="code" href="classIntList.html#ae8b23a7b17410d1e0bdcc20da0594f9b" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>()!=1) &amp;&amp; (t&lt;4))
<a name="l01658"></a>01658     {
<a name="l01659"></a>01659       <span class="keywordtype">double</span> distmin = <a class="code" href="Double_8h.html#ae0ee0cebfad5968da0ad6cc7a49e16b6">DMAXFLOAT</a>;
<a name="l01660"></a>01660       <span class="keywordtype">int</span> size_initiale = item_possible.<a class="code" href="classIntList.html#ae8b23a7b17410d1e0bdcc20da0594f9b" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<a name="l01661"></a>01661       dist.<a class="code" href="classDoubleVect.html#ac55a86eea7b2f06b084b88b16042b67b" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(size_initiale);
<a name="l01662"></a>01662       dist = 0.;
<a name="l01663"></a>01663 
<a name="l01664"></a>01664       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ind_it=0; ind_it&lt;size_initiale; ind_it++)
<a name="l01665"></a>01665         {
<a name="l01666"></a>01666           <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir=0; dir&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">Objet_U::dimension</a>; dir++)
<a name="l01667"></a>01667             dist[ind_it] += (coord_possible(ind_it,dir)-(coord_ref(dir)+decentre_face(t,dir)))*(coord_possible(ind_it,dir)-(coord_ref(dir)+decentre_face(t,dir)));
<a name="l01668"></a>01668           <span class="keywordflow">if</span> (dist[ind_it]&lt;=distmin)
<a name="l01669"></a>01669             distmin = dist[ind_it];
<a name="l01670"></a>01670         }
<a name="l01671"></a>01671 
<a name="l01672"></a>01672       <span class="keywordtype">int</span> ind_it = 0;
<a name="l01673"></a>01673       <span class="keywordtype">int</span> nb_it_suppr = 0;
<a name="l01674"></a>01674       <span class="keywordflow">while</span> (ind_it&lt;size_initiale)
<a name="l01675"></a>01675         {
<a name="l01676"></a>01676           <span class="keywordflow">if</span> (!<a class="code" href="Double_8h.html#ac86f5f350b0f95fd8c34b0ac8d720f6f">est_egal</a>(dist[ind_it],distmin))
<a name="l01677"></a>01677             {
<a name="l01678"></a>01678               <span class="keywordtype">int</span> ind_it_suppr = ind_it-nb_it_suppr;
<a name="l01679"></a>01679               <span class="keywordtype">int</span> it_suppr = item_possible[ind_it_suppr];
<a name="l01680"></a>01680               item_possible.<a class="code" href="classIntList.html#a68bef5fbf040c0a0058272dbd69b1bce" title="Supprime un element contenu dans la liste.">suppr</a>(it_suppr);
<a name="l01681"></a>01681 
<a name="l01682"></a>01682               <span class="keywordtype">int</span> size_actuelle = item_possible.<a class="code" href="classIntList.html#ae8b23a7b17410d1e0bdcc20da0594f9b" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>();
<a name="l01683"></a>01683               <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ind=ind_it_suppr; ind&lt;size_actuelle; ind++)
<a name="l01684"></a>01684                 <span class="keywordflow">for</span> (<span class="keywordtype">int</span> dir=0; dir&lt;<a class="code" href="classObjet__U.html#a3e23491c01f2f39245fb6f3b6d6d9b17">dimension</a>; dir++)
<a name="l01685"></a>01685                   coord_possible(ind,dir) = coord_possible(ind+1,dir);
<a name="l01686"></a>01686               coord_possible.<a class="code" href="classDoubleTab.html#ae83b4d31205c53d9c8d2b43da178ce75" title="Change la taille du vecteur (identique a resize_array() pour le traitement des anciennes valeurs et d...">resize</a>(size_actuelle,dimension,<a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffac85954f9768f1ed2b14e58cea8ddb7c5">Array_base::COPY_NOINIT</a>);
<a name="l01687"></a>01687               nb_it_suppr++;
<a name="l01688"></a>01688             }
<a name="l01689"></a>01689           ind_it++;
<a name="l01690"></a>01690         }
<a name="l01691"></a>01691       t++;
<a name="l01692"></a>01692     }
<a name="l01693"></a>01693   <span class="keywordflow">if</span> (item_possible.<a class="code" href="classIntList.html#ae8b23a7b17410d1e0bdcc20da0594f9b" title="Renvoie la taille de la liste Une liste vide est de taille nulle.">size</a>()==1)
<a name="l01694"></a>01694     it_selection = item_possible[0];
<a name="l01695"></a>01695   <span class="keywordflow">else</span>
<a name="l01696"></a>01696     {
<a name="l01697"></a>01697       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Zone::identifie_item_unique()&quot;</span>&lt;&lt;<a class="code" href="EntreeSortie_8h.html#a7f716d3c5b6411631d5d0700ead09467">finl</a>;
<a name="l01698"></a>01698       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;An item has not been found among the list.&quot;</span>&lt;&lt;finl;
<a name="l01699"></a>01699       <a class="code" href="EntreeSortie_8h.html#a5ebb6b5243d6167369bddecb78d0b5b8">Cerr</a>&lt;&lt;<span class="stringliteral">&quot;Please contact TRUST support.&quot;</span>&lt;&lt;finl;
<a name="l01700"></a>01700       <a class="code" href="classProcess.html#acc2fbbe761e08e5870ae605c0705491c" title="Routine de sortie de Trio-U sur une erreur Sauvegarde la memoire et le hierarchie dans les fichiers &quot;...">Process::exit</a>();
<a name="l01701"></a>01701     }
<a name="l01702"></a>01702   <span class="keywordflow">return</span> it_selection;
<a name="l01703"></a>01703 }
<a name="l01704"></a>01704 
<a name="l01705"></a>01705 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:21 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
