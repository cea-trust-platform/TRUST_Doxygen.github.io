<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/ThHyd/Incompressible/Equations/Navier_Stokes_std.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">src/ThHyd/Incompressible/Equations/Navier_Stokes_std.cpp File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="Navier__Stokes__std_8h_source.html">Navier_Stokes_std.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Probleme__base_8h_source.html">Probleme_base.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Domaine_8h_source.html">Domaine.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Fluide__base_8h_source.html">Fluide_base.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Discret__Thyd_8h_source.html">Discret_Thyd.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Avanc_8h_source.html">Avanc.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Debog_8h_source.html">Debog.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="LecFicDistribue_8h_source.html">LecFicDistribue.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Matrice__Morse__Sym_8h_source.html">Matrice_Morse_Sym.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Champ__Uniforme_8h_source.html">Champ_Uniforme.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Op__Conv__ALE_8h_source.html">Op_Conv_ALE.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Frontiere__dis__base_8h_source.html">Frontiere_dis_base.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="solv__iteratif_8h_source.html">solv_iteratif.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Schema__Temps_8h_source.html">Schema_Temps.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="DoubleTrav_8h_source.html">DoubleTrav.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Check__espace__virtuel_8h_source.html">Check_espace_virtuel.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Assembleur__base_8h_source.html">Assembleur_base.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="communications_8h_source.html">communications.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Transport__Interfaces__base_8h_source.html">Transport_Interfaces_base.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Ensemble__Lagrange__base_8h_source.html">Ensemble_Lagrange_base.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="SFichier_8h_source.html">SFichier.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Param_8h_source.html">Param.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="MD__Vector__std_8h_source.html">MD_Vector_std.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="MD__Vector__composite_8h_source.html">MD_Vector_composite.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="MD__Vector__tools_8h_source.html">MD_Vector_tools.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="ConstDoubleTab__parts_8h_source.html">ConstDoubleTab_parts.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Zone__VF_8h_source.html">Zone_VF.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="Source__PDF__base_8h_source.html">Source_PDF_base.h</a>&gt;</code><br/>
</div>
<p><a href="Navier__Stokes__std_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Navier__Stokes__std_8cpp.html#ad8494e060660cc8123cebd07c0729771">construire_matrice_implicite</a> (<a class="el" href="classOperateur__base.html">Operateur_base</a> &amp;op, const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;valeurs_inconnue, const <a class="el" href="classSolveur__Masse.html">Solveur_Masse</a> &amp;solv_masse, const double dt)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classType__info.html">Type_info</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Navier__Stokes__std_8cpp.html#af014d78ac62407ac1a92deb2f396324a">Navier_Stokes_stdbases</a> [1] = { &amp;( <a class="el" href="classEquation__base.html">Equation_base</a> ::info_obj)}</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ad8494e060660cc8123cebd07c0729771"></a><!-- doxytag: member="Navier_Stokes_std.cpp::construire_matrice_implicite" ref="ad8494e060660cc8123cebd07c0729771" args="(Operateur_base &amp;op, const DoubleTab &amp;valeurs_inconnue, const Solveur_Masse &amp;solv_masse, const double dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void construire_matrice_implicite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOperateur__base.html">Operateur_base</a> &amp;&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classDoubleTab.html">DoubleTab</a> &amp;&#160;</td>
          <td class="paramname"><em>valeurs_inconnue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classSolveur__Masse.html">Solveur_Masse</a> &amp;&#160;</td>
          <td class="paramname"><em>solv_masse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Navier__Stokes__std_8cpp_source.html#l02044">2044</a> of file <a class="el" href="Navier__Stokes__std_8cpp_source.html">Navier_Stokes_std.cpp</a>.</p>

<p>References <a class="el" href="Solveur__Masse_8h_source.html#l00153">Solveur_Masse::ajouter_masse()</a>, <a class="el" href="Operateur__base_8cpp_source.html#l00336">Operateur_base::contribuer_a_avec()</a>, <a class="el" href="Operateur__base_8cpp_source.html#l00225">Operateur_base::dimensionner()</a>, <a class="el" href="Operateur__base_8h_source.html#l00194">Operateur_base::get_decal_temps()</a>, <a class="el" href="Operateur__base_8h_source.html#l00222">Operateur_base::get_solveur()</a>, <a class="el" href="O__U__Ptr_8cpp_source.html#l00098">O_U_Ptr::non_nul()</a>, <a class="el" href="Objet__U_8cpp_source.html#l00132">Objet_U::que_suis_je()</a>, <a class="el" href="Cast_8h_source.html#l00059">ref_cast</a>, <a class="el" href="SolveurSys__base_8h_source.html#l00062">SolveurSys_base::reinit()</a>, <a class="el" href="Matrice__Sym_8cpp_source.html#l00032">Matrice_Sym::set_est_definie()</a>, <a class="el" href="Operateur__base_8h_source.html#l00210">Operateur_base::set_matrice()</a>, <a class="el" href="Operateur__base_8h_source.html#l00226">Operateur_base::set_solveur()</a>, <a class="el" href="Deriv___8cpp_source.html#l00091">Deriv_::typer()</a>, <a class="el" href="SolveurSys_8h_source.html#l00038">Deriv_SolveurSys_base::valeur()</a>, and <a class="el" href="Deriv__Matrice__Base_8h_source.html#l00028">Deriv_Matrice_Base::valeur()</a>.</p>

<p>Referenced by <a class="el" href="Navier__Stokes__std_8cpp_source.html#l02103">Navier_Stokes_std::derivee_en_temps_inco()</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="classMatrice.html">Matrice</a>&amp; mat = op.<a class="code" href="classOperateur__base.html#a58bbc3d85feaa143ec0d87e68d8fe137">set_matrice</a>();
  <span class="keywordflow">if</span>(!mat.<a class="code" href="classO__U__Ptr.html#a16f216b2d169e885876419182658ddcc" title="Renvoie 1 si le pointeur est non_nul Renvoie 0 sinon.">non_nul</a>())
    mat.<a class="code" href="classDeriv__.html#ad1d33400ed15b6ff96579ed82d9e2719" title="Essaie de creer une instance du type &quot;type&quot;. si type n&#39;est pas un type ou type n&#39;est pas instanciab...">typer</a>(<span class="stringliteral">&quot;Matrice_Morse&quot;</span>);

  <span class="keywordflow">if</span>(op.<a class="code" href="classOperateur__base.html#ae7dae6829b1287b470717b08a8ae761e">get_decal_temps</a>()==1)
    {
      <a class="code" href="classMatrice__Morse.html" title="Classe Matrice_Morse Represente une matrice M (creuse), non necessairement carree stockee au format M...">Matrice_Morse</a>&amp; matrice = <a class="code" href="Cast_8h.html#ad116a7acb85c9c91e5687c44941a0d0c">ref_cast</a>(<a class="code" href="classMatrice__Morse.html" title="Classe Matrice_Morse Represente une matrice M (creuse), non necessairement carree stockee au format M...">Matrice_Morse</a>, mat.<a class="code" href="classDeriv__Matrice__Base.html#ae43f3a90ca16518c191f9e7d5ebef912">valeur</a>());
      op.<a class="code" href="classOperateur__base.html#a66ef3c42e72d13fce0852ba92e56be6a" title="NE FAIT RIEN A surcharger dans les classes derivees.">dimensionner</a>(matrice);
      op.<a class="code" href="classOperateur__base.html#a903e728aad8e2d490580bf264319d65f" title="NE FAIT RIEN A surcharger dans les classes derivees.">contribuer_a_avec</a>(valeurs_inconnue, matrice);
      solv_masse.<a class="code" href="classSolveur__Masse.html#adc554d2f7efe81e71ff8995d4f2df8c7">ajouter_masse</a>(dt, matrice);
      matrice *= dt;

<span class="comment">// Si le solveur est cholesky ou gcp, on attend une matrice de type</span>
<span class="comment">// Matrice_Morse_Sym. Transformation du type de la matrice:</span>
      <span class="keyword">const</span> <a class="code" href="classNom.html" title="class Nom Une chaine de caractere pour nommer les objets de TRUST">Nom</a>&amp; type_solveur = op.<a class="code" href="classOperateur__base.html#a2861e28bd5b9d3484c73271209b2e0b6">get_solveur</a>()-&gt;<a class="code" href="classObjet__U.html#aa58e9a81c0ddc2c1149053b8f96698ac" title="renvoie la chaine identifiant la classe.">que_suis_je</a>();
      <span class="keywordflow">if</span>(type_solveur == <span class="stringliteral">&quot;Solv_Cholesky&quot;</span> || type_solveur == <span class="stringliteral">&quot;Solv_GCP&quot;</span>)
        {
          <a class="code" href="classMatrice__Morse__Sym.html" title="Classe Matrice_Morse_Sym Represente une matrice M (creuse) symetrique stockee au format Morse Symetri...">Matrice_Morse_Sym</a> new_mat(matrice);
          new_mat.set_est_definie(1);
<span class="comment">// mat est detruite puis reconstruite:</span>
          mat = new_mat;
<span class="comment">// Reinitialisation du solveur (recalcul des preconditionnements, factorisation, etc...)</span>
<span class="comment">// ref_cast_non_const(SolveurSys_base,op.get_solveur().valeur()).reinit();</span>
          op.<a class="code" href="classOperateur__base.html#a2fe69e40852fa946df7685516d3e5c66">set_solveur</a>().<a class="code" href="classDeriv__SolveurSys__base.html#aa1f67fc10fc25960d05d484a67d1bb54">valeur</a>().<a class="code" href="classSolveurSys__base.html#a8737bd7292204c64e4b7bfe4c7bd88ef">reinit</a>();
        }
    }
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="af014d78ac62407ac1a92deb2f396324a"></a><!-- doxytag: member="Navier_Stokes_std.cpp::Navier_Stokes_stdbases" ref="af014d78ac62407ac1a92deb2f396324a" args="[1]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classType__info.html">Type_info</a>* <a class="el" href="Navier__Stokes__std_8cpp.html#af014d78ac62407ac1a92deb2f396324a">Navier_Stokes_stdbases</a>[1] = { &amp;( <a class="el" href="classEquation__base.html">Equation_base</a> ::info_obj)}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="Navier__Stokes__std_8cpp_source.html#l00052">52</a> of file <a class="el" href="Navier__Stokes__std_8cpp_source.html">Navier_Stokes_std.cpp</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:59 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
