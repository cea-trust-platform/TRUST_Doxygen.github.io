<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>TRUST: src/Kernel/Math/ArrOfInt.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TRUST&#160;<span id="projectnumber">1.8.4</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">src/Kernel/Math/ArrOfInt.h</div>  </div>
</div>
<div class="contents">
<a href="ArrOfInt_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">* Copyright (c) 2015 - 2016, CEA</span>
<a name="l00003"></a>00003 <span class="comment">* All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">*</span>
<a name="l00005"></a>00005 <span class="comment">* Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00006"></a>00006 <span class="comment">* 1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00007"></a>00007 <span class="comment">* 2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00008"></a>00008 <span class="comment">* 3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</span>
<a name="l00011"></a>00011 <span class="comment">* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;</span>
<a name="l00012"></a>00012 <span class="comment">* OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00013"></a>00013 <span class="comment">*</span>
<a name="l00014"></a>00014 <span class="comment">*****************************************************************************/</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// </span>
<a name="l00017"></a>00017 <span class="comment">// File:        ArrOfInt.h</span>
<a name="l00018"></a>00018 <span class="comment">// Directory:   $TRUST_ROOT/src/Kernel/Math</span>
<a name="l00019"></a>00019 <span class="comment">// Version:     /main/10</span>
<a name="l00020"></a>00020 <span class="comment">// </span>
<a name="l00021"></a>00021 <span class="comment">//</span>
<a name="l00022"></a>00022 <span class="comment">// </span>
<a name="l00023"></a>00023 <span class="comment">// WARNING: DO NOT EDIT THIS FILE! Only edit the template file ArrOfInt.h.P</span>
<a name="l00024"></a>00024 <span class="comment">// </span>
<a name="l00025"></a>00025 <span class="comment">// </span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="preprocessor">#ifndef ArrOfInt_included</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span><span class="preprocessor">#define ArrOfInt_included</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;<a class="code" href="Array__base_8h.html">Array_base.h</a>&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;<a class="code" href="Int_8h.html">Int.h</a>&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;climits&gt;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="keyword">class </span>FArrOfInt;
<a name="l00035"></a>00035 <span class="keyword">class </span><a class="code" href="classVIntdata.html" title="VIntdata alloue une zone de memoire de la taille specifiee au constructeur, et libere la zone de memo...">VIntdata</a>;
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="comment">//</span>
<a name="l00038"></a>00038 <span class="comment">// </span>
<a name="l00039"></a>00039 <span class="comment">// </span>
<a name="l00040"></a>00040 <span class="comment">//</span>
<a name="l00041"></a>00041 <span class="comment">//</span>
<a name="l00042"></a>00042 <span class="comment">//</span>
<a name="l00043"></a>00043 <span class="comment">//</span>
<a name="l00044"></a>00044 <span class="comment">//</span>
<a name="l00045"></a>00045 <span class="comment">//</span>
<a name="l00046"></a>00046 <span class="comment">//</span>
<a name="l00047"></a>00047 <span class="comment">//</span>
<a name="l00048"></a>00048 <span class="comment">//</span>
<a name="l00049"></a>00049 <span class="comment">//</span>
<a name="l00050"></a>00050 <span class="comment">//</span>
<a name="l00051"></a>00051 <span class="comment">//</span>
<a name="l00052"></a>00052 <span class="comment">//</span>
<a name="l00053"></a>00053 <span class="comment">//</span>
<a name="l00054"></a>00054 <span class="comment">//</span>
<a name="l00055"></a>00055 <span class="comment">//</span>
<a name="l00056"></a>00056 <span class="comment">//</span>
<a name="l00057"></a>00057 <span class="comment">//</span>
<a name="l00058"></a>00058 <span class="comment">//</span>
<a name="l00059"></a>00059 <span class="comment">//</span>
<a name="l00060"></a>00060 <span class="comment">//</span>
<a name="l00061"></a>00061 <span class="comment">//</span>
<a name="l00062"></a>00062 <span class="comment">//</span>
<a name="l00063"></a>00063 <span class="comment">//</span>
<a name="l00064"></a>00064 <span class="comment">//</span>
<a name="l00065"></a>00065 <span class="comment">//</span>
<a name="l00066"></a>00066 <span class="comment">//</span>
<a name="l00067"></a>00067 <span class="comment">//</span><span class="comment"></span>
<a name="l00068"></a>00068 <span class="comment">//! Represente un tableau d&#39;elements de type int.&lt;br&gt;L&#39;etat du tableau est caracterise par la valeur de p_ et de data_ :&lt;br&gt;* detache : on a alors p_==0, data_==0, size_array_==0&lt;br&gt;(etat obtenu par le constructeur par defaut, detach_array()&lt;br&gt;et resize_array(0) dans certains cas)&lt;br&gt;* normal : alors p pointe vers une structure Vdbldata, data_==p-&gt;data_&lt;br&gt;et size_array_ &lt;= p-&gt;size_. A la destruction du tableau, si&lt;br&gt;p-&gt;ref_count_ est nul on libere la memoire.&lt;br&gt;data_ n&#39;est pas nul.&lt;br&gt;L&#39;espace memoire du tableau peut etre partage entre plusieurs&lt;br&gt;ArrOfInt (le pointeur &quot;p&quot; pointe alors sur une meme structure).&lt;br&gt;Ce type de tableau est produit par ref_array().&lt;br&gt;Le dernier ArrOfInt a utiliser une zone de memoire&lt;br&gt;la detruit lorsqu&#39;il a fini (voir detach_array())&lt;br&gt;Si smart_resize_==0, alors on a toujours size_array_==p-&gt;size_.&lt;br&gt;* ref_data : p_==0, data_ pointe vers un tableau existant, la memoire&lt;br&gt;n&#39;est pas liberee a la destruction du ArrOfInt.&lt;br&gt;Ces tableaux sont obtenus par appel a ref_data(...) et peuvent servir&lt;br&gt;pour importer un tableau fourni par une routine exterieure (C ou fortran)&lt;br&gt;Valeur initiale par defaut : voir &quot;fill_default_value&quot;.&lt;br&gt;Priere de supposer desormais que les tableaux ne sont pas initialises&lt;br&gt;par defaut.</span>
<a name="l00069"></a>00069 <span class="comment"></span><span class="comment">//</span>
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="classArrOfInt.html">00071</a> <span class="keyword">class </span><a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a> : <span class="keyword">public</span> <a class="code" href="classArray__base.html" title=": classe vide servant de base a tous les tableaux. (permet de passer un type generique quel que soit ...">Array_base</a>
<a name="l00072"></a>00072 {
<a name="l00073"></a>00073 
<a name="l00074"></a><a class="code" href="classArrOfInt.html#a008742084e91090da12686a49537843c">00074</a>   <a class="code" href="Declare__Inst_8h.html#a9b4877a40d577f4f9b6a8bd039ae595b">Declare_instanciable_sans_constructeur_ni_destructeur</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>);
<a name="l00075"></a>00075 <span class="keyword">public</span>:
<a name="l00076"></a>00076 <span class="comment">// </span>
<a name="l00077"></a>00077 <span class="comment">// Destructeur</span>
<a name="l00078"></a>00078 <span class="comment">// </span>
<a name="l00079"></a>00079   <a class="code" href="classArrOfInt.html#a47022c3b385b094563e5a38cfbf02434" title="Destructeur : appelle detach_array()">~ArrOfInt</a>();
<a name="l00080"></a>00080 <span class="comment">// </span>
<a name="l00081"></a>00081 <span class="comment">// Constructeurs</span>
<a name="l00082"></a>00082 <span class="comment">// </span>
<a name="l00083"></a>00083   <a class="code" href="classArrOfInt.html#ae1e83ae894ba984f578438b4b94fd52c" title="Constructeur par defaut: cree un tableau &quot;detache&quot;, soit p_==0, data_==0, size_array_==0, smart_resize_==0.">ArrOfInt</a>();
<a name="l00084"></a>00084   <a class="code" href="classArrOfInt.html#ae1e83ae894ba984f578438b4b94fd52c" title="Constructeur par defaut: cree un tableau &quot;detache&quot;, soit p_==0, data_==0, size_array_==0, smart_resize_==0.">ArrOfInt</a>(<span class="keywordtype">int</span> size);
<a name="l00085"></a>00085 <span class="comment">// ArrOfInt(int size, int initial_value);</span>
<a name="l00086"></a>00086 <span class="comment">// Constructeur par copie : deep copy (on duplique les donnees)</span>
<a name="l00087"></a>00087   <a class="code" href="classArrOfInt.html#ae1e83ae894ba984f578438b4b94fd52c" title="Constructeur par defaut: cree un tableau &quot;detache&quot;, soit p_==0, data_==0, size_array_==0, smart_resize_==0.">ArrOfInt</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; );
<a name="l00088"></a>00088 <span class="comment">// </span>
<a name="l00089"></a>00089 <span class="comment">// Methodes de construction tardive (on cree un tableau vide avec ArrOfInt()</span>
<a name="l00090"></a>00090 <span class="comment">// puis on appelle ces methodes pour modifier les caracteristiques du tableau :</span>
<a name="l00091"></a>00091 <span class="comment">// Change le nombre d&#39;elements du tableau</span>
<a name="l00092"></a>00092   <span class="keyword">inline</span>  <span class="keywordtype">void</span> <a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(<span class="keywordtype">int</span> new_size, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt = <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffa9a675e25b5b7accff8d861e05060547b">COPY_INIT</a>);
<a name="l00093"></a>00093   <span class="keyword">inline</span>  <span class="keywordtype">void</span> <a class="code" href="classArrOfInt.html#a15fc7e3958f02cb38d3106eeb919f6fc" title="appel a ArrOfInt::resize_array()">resize</a>(<span class="keywordtype">int</span> new_size, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt = <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffa9a675e25b5b7accff8d861e05060547b">COPY_INIT</a>);
<a name="l00094"></a>00094   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classArrOfInt.html#a2a8d5b9b592390c7d54d54742977d200" title="methode virtuelle identique a resize_array(), permet de traiter de facon generique les ArrOf...">resize_tab</a>(<span class="keywordtype">int</span> n, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt = <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffa9a675e25b5b7accff8d861e05060547b">COPY_INIT</a>);
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 <span class="comment">// Methodes de gestion de l&#39;allocation memoire:</span>
<a name="l00097"></a>00097 <span class="comment">// Assigne une valeur au drapeau &quot;smart_resize&quot;</span>
<a name="l00098"></a>00098 <span class="comment">// (reallocation uniquement si la taille augmente)</span>
<a name="l00099"></a>00099   <span class="keywordtype">void</span>    <a class="code" href="classArrOfInt.html#a22d744bcd452d039580d1d9186f02b4e" title="Change le mode l&#39;allocation memoire: reallocation d&#39;un tableau a chaque changement de taille (flag = ...">set_smart_resize</a>(<span class="keywordtype">int</span> flag);
<a name="l00100"></a>00100 <span class="comment">// Gestion du type de memoire alouee (standard ou pool de memoire Trio-U)</span>
<a name="l00101"></a><a class="code" href="classArrOfInt.html#ae96e99b17332a05cd91a09a2b6bb3cc4ae7040d434081b185c65b1d0809121028">00101</a>   <span class="keyword">enum</span>    <a class="code" href="classArrOfInt.html#ae96e99b17332a05cd91a09a2b6bb3cc4">Storage</a> { <a class="code" href="classArrOfInt.html#ae96e99b17332a05cd91a09a2b6bb3cc4a9ec717f02c48a617afb247b79eb7a22b">STANDARD</a>, <a class="code" href="classArrOfInt.html#ae96e99b17332a05cd91a09a2b6bb3cc4ae7040d434081b185c65b1d0809121028">TEMP_STORAGE</a> };
<a name="l00102"></a>00102   <span class="keywordtype">void</span>    <a class="code" href="classArrOfInt.html#a95dce3e5a03c189d89146d9fd34e8d07" title="Change le mode d&#39;allocation memoire lors des resize&lt;br&gt;(voir VIntdata et Int_ptr_trav) Exemple pour cre...">set_mem_storage</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html#ae96e99b17332a05cd91a09a2b6bb3cc4">Storage</a> storage);
<a name="l00103"></a>00103   <a class="code" href="classArrOfInt.html#ae96e99b17332a05cd91a09a2b6bb3cc4">Storage</a> <a class="code" href="classArrOfInt.html#ae2d3c83cd7eedc971a21de3f9f8afa9b" title="Renvoie le mode d&#39;allocation du tableau (qui sera utilise lors du prochain resize si changement de ta...">get_mem_storage</a>() <span class="keyword">const</span>;
<a name="l00104"></a>00104 
<a name="l00105"></a>00105 <span class="comment">// Construction de tableaux qui pointent vers des donnees existantes</span>
<a name="l00106"></a>00106 <span class="comment">// !!! Utiliser ref_data avec precaution (attention a size_array_)</span>
<a name="l00107"></a>00107   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classArrOfInt.html#a95b02281f2d3f210e463389ff7288169" title="Fait pointer le tableau vers la zone de memoire &quot;data_&quot;. On detache la zone de memoire existante...">ref_data</a>(<span class="keywordtype">int</span>* ptr, <span class="keywordtype">int</span> size);
<a name="l00108"></a>00108   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classArrOfInt.html#acdd0214cc8f6c95882e5032b9e3121ea" title="Fait pointer le tableau vers les memes donnees qu&#39;un tableau existant. Le tableau sera du meme type q...">ref_array</a>(<a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp;, <span class="keywordtype">int</span> start = 0, <span class="keywordtype">int</span> <a class="code" href="Nom_8cpp.html#a0e1ea19fb9fa7881d15d84eff4c090e1">sz</a> = -1);
<a name="l00109"></a>00109 <span class="comment">// Operateur copie</span>
<a name="l00110"></a>00110   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classArrOfInt.html#a1851289f5b18738eebb6f909c65920ee" title="Copie les donnees du tableau m. Si &quot;m&quot; n&#39;a pas la meme taille que &quot;*this&quot;, on fait un resize_arra...">operator=</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp;);
<a name="l00111"></a>00111 <span class="comment">// Remise du tableau dans l&#39;etat initial (obtenu par le constructeur par defaut)</span>
<a name="l00112"></a>00112   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classArrOfInt.html#afc932bc1df352ead26b844dcb090dacc" title="Remet le tableau dans l&#39;etat obtenu avec le constructeur par defaut (libere la memoire mais conserve ...">reset</a>();
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <span class="comment">// </span>
<a name="l00115"></a>00115 <span class="comment">// Methodes d&#39;acces aux donnees et aux caracteristiques du tableau</span>
<a name="l00116"></a>00116 <span class="comment">// </span>
<a name="l00117"></a>00117 <span class="comment">// Remplit le tableau avec la valeur en parametre</span>
<a name="l00118"></a>00118   <span class="keyword">inline</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classArrOfInt.html#a1851289f5b18738eebb6f909c65920ee" title="Copie les donnees du tableau m. Si &quot;m&quot; n&#39;a pas la meme taille que &quot;*this&quot;, on fait un resize_arra...">operator=</a>(<span class="keywordtype">int</span> <a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>);
<a name="l00119"></a>00119   <span class="keyword">inline</span>       <span class="keywordtype">int</span>&amp; <a class="code" href="classArrOfInt.html#ac3668f9c049886746539a3ed7bce7723" title="operateur [] retourne le ieme element du tableau">operator[]</a>(<span class="keywordtype">int</span> i);
<a name="l00120"></a>00120   <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; <a class="code" href="classArrOfInt.html#ac3668f9c049886746539a3ed7bce7723" title="operateur [] retourne le ieme element du tableau">operator[]</a>(<span class="keywordtype">int</span> i) <span class="keyword">const</span>;
<a name="l00121"></a>00121   <span class="keyword">inline</span>       <span class="keywordtype">int</span>&amp; <a class="code" href="classArrOfInt.html#a2db9e4cf7c9096344df4ad90567c9041" title="idem operator[]">operator()</a>(<span class="keywordtype">int</span> i);
<a name="l00122"></a>00122   <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; <a class="code" href="classArrOfInt.html#a2db9e4cf7c9096344df4ad90567c9041" title="idem operator[]">operator()</a>(<span class="keywordtype">int</span> i) <span class="keyword">const</span> ;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 <span class="comment">// Ces methodes renvoient un pointeur vers le premier element du tableau.</span>
<a name="l00125"></a>00125   <span class="keyword">const</span> <span class="keywordtype">int</span> * <a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>() <span class="keyword">const</span>;
<a name="l00126"></a>00126   <span class="keywordtype">int</span> * <a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">addr</a>();
<a name="l00127"></a>00127 <span class="comment">// Renvoie le nombre d&#39;elements du tableau (et non la taille allouee)</span>
<a name="l00128"></a>00128   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">size_array</a>() <span class="keyword">const</span>;
<a name="l00129"></a>00129 <span class="comment">// Renvoie le nombre de tableaux qui pointent vers la stucture &quot;*p_&quot;</span>
<a name="l00130"></a>00130   <span class="keywordtype">int</span> <a class="code" href="classArrOfInt.html#a2e8671e0e07855965bbff4c59582f224" title="Retourne le nombre de references des donnees du tableau si le tableau est &quot;normal&quot;, -1 s&#39;il est &quot;detache&quot; ou &quot;ref_data&quot;.">ref_count</a>() <span class="keyword">const</span>;
<a name="l00131"></a>00131 <span class="comment">// Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;</span>
<a name="l00132"></a>00132   <span class="keyword">inline</span> <span class="keywordtype">void</span>   <a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">append_array</a>(<span class="keywordtype">int</span> <a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>);
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 <span class="comment">// </span>
<a name="l00135"></a>00135 <span class="comment">// Operateurs divers</span>
<a name="l00136"></a>00136 <span class="comment">// </span>
<a name="l00137"></a>00137   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classArrOfInt.html#a0fa5723f68c75dde90b9c6d1718d198c" title="Addition case a case sur toutes les cases du tableau.">operator+=</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp;);
<a name="l00138"></a>00138   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classArrOfInt.html#a0fa5723f68c75dde90b9c6d1718d198c" title="Addition case a case sur toutes les cases du tableau.">operator+=</a>(<span class="keyword">const</span> <span class="keywordtype">int</span>);
<a name="l00139"></a>00139   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classArrOfInt.html#a4fddff7058410064187290e6bec6c68e" title="Soustraction case a case sur toutes les cases du tableau Parametre: const ArrOfInt&amp; y Signification: ...">operator-=</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp;);
<a name="l00140"></a>00140   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classArrOfInt.html#a4fddff7058410064187290e6bec6c68e" title="Soustraction case a case sur toutes les cases du tableau Parametre: const ArrOfInt&amp; y Signification: ...">operator-=</a>(<span class="keyword">const</span> <span class="keywordtype">int</span>);
<a name="l00141"></a>00141   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classArrOfInt.html#a195c644d98bf2da2fe4f8aede4e02262" title="Copie les elements source[first_element_source + i] dans les elements (*this)[first_element_dest + i]...">inject_array</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; source,
<a name="l00142"></a>00142                          <span class="keywordtype">int</span> nb_elements = -1,
<a name="l00143"></a>00143                          <span class="keywordtype">int</span> first_element_dest = 0,
<a name="l00144"></a>00144                          <span class="keywordtype">int</span> first_element_source = 0);
<a name="l00145"></a>00145   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classArrOfInt.html#ac97734ef5e8a98fb4bdfe1985a3ce803" title="appelle operator=(a)">copy_array</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp;);
<a name="l00146"></a>00146 
<a name="l00147"></a>00147   <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classArrOfInt.html#a1851289f5b18738eebb6f909c65920ee" title="Copie les donnees du tableau m. Si &quot;m&quot; n&#39;a pas la meme taille que &quot;*this&quot;, on fait un resize_arra...">operator=</a>(<span class="keyword">const</span> FArrOfInt&amp;);
<a name="l00148"></a>00148 
<a name="l00149"></a>00149   <span class="keywordtype">void</span>        <a class="code" href="classArrOfInt.html#abb0f48cf5a4be4b70edcc90baaebd521" title="Tri des valeurs du tableau dans l&#39;ordre croissant. La fonction utilisee est qsort de stdlib (elle est...">ordonne_array</a>();
<a name="l00150"></a>00150   <span class="keywordtype">void</span>        <a class="code" href="classArrOfInt.html#a62f590c7e6998144131b7dbd8eb9a2a1" title="Tri des valeurs du tableau dans l&#39;ordre croissant et suppresion des doublons La fonction utilisee est...">array_trier_retirer_doublons</a>();
<a name="l00151"></a>00151 
<a name="l00152"></a>00152 <span class="keyword">protected</span>:
<a name="l00153"></a>00153 <span class="comment">// </span>
<a name="l00154"></a>00154 <span class="comment">// Methodes accessibles depuis les descendants de ArrOfInt</span>
<a name="l00155"></a>00155 <span class="comment">// </span>
<a name="l00156"></a>00156   <span class="keywordtype">void</span>   <a class="code" href="classArrOfInt.html#aaf31134feae9b3a836eaea860ce952bf" title="Amene le tableau dans l&#39;etat &quot;normal&quot;, &quot;detache&quot; ou &quot;ref_array&quot; en associant une sous-zone de m...">attach_array</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; a, <span class="keywordtype">int</span> start = 0, <span class="keywordtype">int</span> size = -1);
<a name="l00157"></a>00157   <span class="keywordtype">int</span> <a class="code" href="classArrOfInt.html#adb53e0eaa4b61a4b5d68a620c8548543" title="Amene le tableau dans l&#39;etat &quot;detache&quot;. C&#39;est a dire: Si le tableau est &quot;detache&quot; : * ne rien faire...">detach_array</a>();
<a name="l00158"></a>00158   <span class="keywordtype">void</span>   <a class="code" href="classArrOfInt.html#acdeb6ce266ee43155b998f80a0f249e2" title="Remplit &quot;nb&quot; cases consecutives du tableau a partir de la case &quot;first&quot; avec une valeur par defaut...">fill_default_value</a>(<a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt, <span class="keywordtype">int</span> first, <span class="keywordtype">int</span> nb);
<a name="l00159"></a>00159   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classArrOfInt.html#a17a4f4f68e28465b89ef84180bb04406" title="methode protegee de changement de taille, appelable par les classes derivees (idem que resize_array()...">resize_array_</a>(<span class="keywordtype">int</span> n, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt = <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffa9a675e25b5b7accff8d861e05060547b">COPY_INIT</a>);
<a name="l00160"></a>00160 <span class="keyword">private</span>:
<a name="l00161"></a>00161 <span class="comment">// B. Mathieu 22/06/2004 : je mets ces membres &quot;private&quot; pour forcer</span>
<a name="l00162"></a>00162 <span class="comment">// le passage par les accesseurs dans les classes derivees, au cas ou</span>
<a name="l00163"></a>00163 <span class="comment">// on voudrait modifier l&#39;implementation.</span>
<a name="l00164"></a>00164 
<a name="l00165"></a>00165 <span class="comment">// Zone de memoire contenant les valeurs du tableau.</span>
<a name="l00166"></a>00166 <span class="comment">// Pointeur nul =&gt; le tableau est &quot;detache&quot; ou &quot;ref_data&quot;</span>
<a name="l00167"></a>00167 <span class="comment">// Pointeur non nul =&gt; le tableau est &quot;normal&quot;</span>
<a name="l00168"></a><a class="code" href="classArrOfInt.html#a54afaafbf7fa8c80696da7a2c3d3f48b">00168</a>   <a class="code" href="classVIntdata.html" title="VIntdata alloue une zone de memoire de la taille specifiee au constructeur, et libere la zone de memo...">VIntdata</a>* <a class="code" href="classArrOfInt.html#a54afaafbf7fa8c80696da7a2c3d3f48b">p_</a>;
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 <span class="comment">// Pointeur vers le premier element du tableau=</span>
<a name="l00171"></a>00171 <span class="comment">// Pointeur nul =&gt; le tableau est &quot;detache&quot;.</span>
<a name="l00172"></a>00172 <span class="comment">// Pointeur non nul =&gt; le tableau est &quot;normal&quot; ou &quot;ref_data&quot;</span>
<a name="l00173"></a>00173 <span class="comment">// Si p_ est non nul, data_ pointe quelque part a l&#39;interieur de la zone allouee</span>
<a name="l00174"></a>00174 <span class="comment">// (en general au debut, sauf si le tableau a ete initialise</span>
<a name="l00175"></a>00175 <span class="comment">// avec ref() ou attach_array() avec start &gt; 0)</span>
<a name="l00176"></a><a class="code" href="classArrOfInt.html#ab799099ee6d316bdaad7d7f3e99f0637">00176</a>   <span class="keywordtype">int</span>*   <a class="code" href="classArrOfInt.html#ab799099ee6d316bdaad7d7f3e99f0637">data_</a>;
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 <span class="comment">// Nombre d&#39;elements du tableau (inferieur ou egal a memory_size_).</span>
<a name="l00179"></a>00179 <span class="comment">// Si le tableau est &quot;detache&quot;, alors size_array_=0</span>
<a name="l00180"></a><a class="code" href="classArrOfInt.html#a23d1b6526fd584ba8de321ee7d1f1c1b">00180</a>   <span class="keywordtype">int</span>    <a class="code" href="classArrOfInt.html#a23d1b6526fd584ba8de321ee7d1f1c1b">size_array_</a>;
<a name="l00181"></a>00181 <span class="comment">// Taille memoire reellement allouee pour le tableau</span>
<a name="l00182"></a>00182 <span class="comment">// (pour le mecanisme smart_resize_). memory_size_ est nul</span>
<a name="l00183"></a>00183 <span class="comment">// si le tableau est de type &quot;ref_data&quot;. Sinon memory_size_</span>
<a name="l00184"></a>00184 <span class="comment">// est egal a p_-&gt;size_.</span>
<a name="l00185"></a><a class="code" href="classArrOfInt.html#a9cda25dd5c640c8523243990b6c0b845">00185</a>   <span class="keywordtype">int</span>    <a class="code" href="classArrOfInt.html#a9cda25dd5c640c8523243990b6c0b845">memory_size_</a>;
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <span class="comment">// Drapeau indiquant si on applique une strategie d&#39;allocation</span>
<a name="l00188"></a>00188 <span class="comment">// preventive (la memoire alouee augmente d&#39;un facteur constant</span>
<a name="l00189"></a>00189 <span class="comment">// si la taille devient insuffisante).</span>
<a name="l00190"></a>00190 <span class="comment">// Si smart_resize_ == 0, alors on a toujours p_-&gt;size_ == size</span>
<a name="l00191"></a><a class="code" href="classArrOfInt.html#a9170b6699fa2b83ccc8c9a451e18bd44">00191</a>   <span class="keywordtype">int</span>    <a class="code" href="classArrOfInt.html#a9170b6699fa2b83ccc8c9a451e18bd44">smart_resize_</a>;
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 <span class="comment">// Drapeau indiquant si l&#39;allocation memoire a lieu avec un new classique</span>
<a name="l00194"></a>00194 <span class="comment">// ou dans le pool de memoire temporaire de Trio</span>
<a name="l00195"></a><a class="code" href="classArrOfInt.html#a5a5cbc9e1c2d4ba877ca0bd697ea56bc">00195</a>   <a class="code" href="classArrOfInt.html#ae96e99b17332a05cd91a09a2b6bb3cc4">Storage</a>   <a class="code" href="classArrOfInt.html#a5a5cbc9e1c2d4ba877ca0bd697ea56bc">storage_type_</a>;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 <span class="comment">// Partie non inline de resize_array():</span>
<a name="l00198"></a>00198   <span class="keywordtype">void</span> <a class="code" href="classArrOfInt.html#a1bdac0af7218a7a9d6abf1709feffc17" title="Si besoin, alloue une nouvelle zone de memoire, copie les donnees et efface l&#39;ancienne zone de memoir...">memory_resize</a>(<span class="keywordtype">int</span> new_size, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt = <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffa9a675e25b5b7accff8d861e05060547b">COPY_INIT</a>);
<a name="l00199"></a>00199 };
<a name="l00200"></a>00200 
<a name="l00201"></a>00201 <span class="comment">// </span>
<a name="l00202"></a>00202 <span class="comment">// Declarations des fonctions non membres de la classe ArrOfInt</span>
<a name="l00203"></a>00203 <span class="comment">// </span>
<a name="l00204"></a>00204 <span class="keywordtype">int</span> <a class="code" href="Ref__Champ__Face__CoviMAC_8cpp.html#a6f8a92408a5a8f1ef5479e7f3c4c63ec">operator==</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; x, <span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; y) ;
<a name="l00205"></a>00205 <span class="keywordtype">int</span> <a class="code" href="ArrOfDouble_8cpp.html#afe9f20f22a4feecff7412bbcd71cafea" title="Retourne l&#39;indice du min ou -1 si le tableau est vide.">imin_array</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp;) ;
<a name="l00206"></a>00206 <span class="keywordtype">int</span> <a class="code" href="ArrOfDouble_8cpp.html#ace2773782c6cf82f52e226ca32314ae4" title="Retourne l&#39;indice du max ou -1 si le tableau est vide.">imax_array</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp;) ;
<a name="l00207"></a>00207 <span class="keywordtype">int</span> <a class="code" href="ArrOfDouble_8cpp.html#abd3998749a1a8dab00dd6ac1798327fb" title="Retourne la valeur minimale.">min_array</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp;) ;
<a name="l00208"></a>00208 <span class="keywordtype">int</span> <a class="code" href="ArrOfDouble_8cpp.html#a95241fccf4bed7fb7a4e2340b7735f14" title="Retourne la valeur maximale.">max_array</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp;) ;
<a name="l00209"></a>00209 <span class="keywordtype">int</span> <a class="code" href="ArrOfDouble_8cpp.html#a22ce24a1e68db94b2e023b6eb200c92b" title="Retourne le max des abs(i)">max_abs_array</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp;);
<a name="l00210"></a>00210 <span class="keywordtype">int</span> <a class="code" href="ArrOfDouble_8cpp.html#af20891ba89d3aaf70f060e470b8c673b" title="Retourne le min des abs(i)">min_abs_array</a>(<span class="keyword">const</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp;);
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 <span class="comment">// ******************************************************************</span>
<a name="l00214"></a>00214 <span class="comment">// FONCTIONS MEMBRES DE ArrOfInt</span>
<a name="l00215"></a>00215 <span class="comment">// ******************************************************************</span>
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="comment">// Description :</span>
<a name="l00218"></a>00218 <span class="comment">// Change le nombre d&#39;elements du tableau. Cette fonction est inline</span>
<a name="l00219"></a>00219 <span class="comment">// car elle doit etre tres rapide dans le cas ou smart_resize_==1</span>
<a name="l00220"></a>00220 <span class="comment">// (utilisation frequente de resize_array())</span>
<a name="l00221"></a>00221 <span class="comment">// Si smart_resize est non nul :</span>
<a name="l00222"></a>00222 <span class="comment">// Si la nouvelle taille est inferieure ou egale a la taille</span>
<a name="l00223"></a>00223 <span class="comment">// alouee (p-&gt;get_size()) on ne realloue pas de memoire</span>
<a name="l00224"></a>00224 <span class="comment">// sinon, on realloue et on copie les donnees existantes.</span>
<a name="l00225"></a>00225 <span class="comment">// Astuce pour ne pas copier les anciennes donnees:</span>
<a name="l00226"></a>00226 <span class="comment">// resize(0); resize(n);</span>
<a name="l00227"></a>00227 <span class="comment">// Si smart_resize est nul, on realloue une nouvelle zone memoire</span>
<a name="l00228"></a>00228 <span class="comment">// uniquement si la nouvelle taille est differente de l&#39;ancienne.</span>
<a name="l00229"></a>00229 <span class="comment">// Parametre: new_size</span>
<a name="l00230"></a>00230 <span class="comment">// Signification: nouvelle valeur demandee pour size_array() (doit etre &gt;= 0)</span>
<a name="l00231"></a>00231 <span class="comment">// Parametre: opt</span>
<a name="l00232"></a>00232 <span class="comment">// Signification: quoi faire des anciennes case et des nouvelles cases (voir memory_resize())</span>
<a name="l00233"></a>00233 <span class="comment">// Attention, pour un tableau smart_resize, l&#39;option &quot;INIT&quot;</span>
<a name="l00234"></a>00234 <span class="comment">// Precondition :</span>
<a name="l00235"></a>00235 <span class="comment">// - Si &quot;new_size&quot; est egal a la taille du tableau, aucune condition.</span>
<a name="l00236"></a>00236 <span class="comment">// - Sinon,</span>
<a name="l00237"></a>00237 <span class="comment">// * le tableau ne doit pas etre un type derive de ArrOfInt !!!</span>
<a name="l00238"></a>00238 <span class="comment">// * le tableau doit etre &quot;resizable&quot;, c&#39;est a dire:</span>
<a name="l00239"></a>00239 <span class="comment">// soit detache, soit normal (pas de type &quot;ref_data&quot;) avec ref_count egal a 1</span>
<a name="l00240"></a><a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">00240</a> <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">ArrOfInt::resize_array</a>(<span class="keywordtype">int</span> new_size, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)
<a name="l00241"></a>00241 {
<a name="l00242"></a>00242 <span class="comment">// Si le tableau change de taille, il doit etre du type ArrOfInt</span>
<a name="l00243"></a>00243   assert(new_size == <a class="code" href="classArrOfInt.html#a23d1b6526fd584ba8de321ee7d1f1c1b">size_array_</a> || <a class="code" href="classArrOfInt.html#a7dd6de7c430472331cf0d42d2c1dac9e" title="Donne des informations sur le type de l&#39;Objet_U.">get_info</a>() == <a class="code" href="classArrOfInt.html#a32f629b94dc0867e56395ba5eb316a9a" title="Donne des informations sur le type de l&#39;Objet_U.">ArrOfInt::info</a>());
<a name="l00244"></a>00244   <a class="code" href="classArrOfInt.html#a17a4f4f68e28465b89ef84180bb04406" title="methode protegee de changement de taille, appelable par les classes derivees (idem que resize_array()...">resize_array_</a>(new_size, opt);
<a name="l00245"></a>00245 }
<a name="l00246"></a>00246 <span class="comment"></span>
<a name="l00247"></a>00247 <span class="comment">//! appel a ArrOfInt::resize_array()</span>
<a name="l00248"></a><a class="code" href="classArrOfInt.html#a15fc7e3958f02cb38d3106eeb919f6fc">00248</a> <span class="comment"></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classArrOfInt.html#a15fc7e3958f02cb38d3106eeb919f6fc" title="appel a ArrOfInt::resize_array()">ArrOfInt::resize</a>(<span class="keywordtype">int</span> new_size, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)
<a name="l00249"></a>00249 {
<a name="l00250"></a>00250   <a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(new_size, opt);
<a name="l00251"></a>00251 }
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <span class="comment">//</span>
<a name="l00254"></a>00254 <span class="comment">//</span><span class="comment"></span>
<a name="l00255"></a>00255 <span class="comment">//! methode protegee de changement de taille, appelable par&lt;br&gt;les classes derivees (idem que resize_array() mais sans condition sur le&lt;br&gt;type derive de l&#39;objet)</span>
<a name="l00256"></a><a class="code" href="classArrOfInt.html#a17a4f4f68e28465b89ef84180bb04406">00256</a> <span class="comment"></span><span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classArrOfInt.html#a17a4f4f68e28465b89ef84180bb04406" title="methode protegee de changement de taille, appelable par les classes derivees (idem que resize_array()...">ArrOfInt::resize_array_</a>(<span class="keywordtype">int</span> new_size, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ff">Array_base::Resize_Options</a> opt)
<a name="l00257"></a>00257 {
<a name="l00258"></a>00258   assert(new_size &gt;= 0);
<a name="l00259"></a>00259 <span class="comment">// Soit le tableau est detache (data_==0), soit il est normal (p_!=0)</span>
<a name="l00260"></a>00260 <span class="comment">// S&#39;il est normal, il ne faut pas qu&#39;il y ait d&#39;autre reference au tableau,</span>
<a name="l00261"></a>00261 <span class="comment">// ou alors la taille ne doit pas changer.</span>
<a name="l00262"></a>00262   assert(new_size == <a class="code" href="classArrOfInt.html#a23d1b6526fd584ba8de321ee7d1f1c1b">size_array_</a> || <a class="code" href="classArrOfInt.html#ab799099ee6d316bdaad7d7f3e99f0637">data_</a> == 0 || (<a class="code" href="classArrOfInt.html#a54afaafbf7fa8c80696da7a2c3d3f48b">p_</a> != 0 &amp;&amp; <a class="code" href="classArrOfInt.html#a2e8671e0e07855965bbff4c59582f224" title="Retourne le nombre de references des donnees du tableau si le tableau est &quot;normal&quot;, -1 s&#39;il est &quot;detache&quot; ou &quot;ref_data&quot;.">ref_count</a>() == 1));
<a name="l00263"></a>00263 <span class="comment">// Le seul cas ou on n&#39;appelle pas memory_resize est le suivant:</span>
<a name="l00264"></a>00264 <span class="comment">// le tableau est smart_resize</span>
<a name="l00265"></a>00265 <span class="comment">// ET la taille reste inferieure ou egale a la taille allouee</span>
<a name="l00266"></a>00266 <span class="comment">// ET on ne veut pas initialiser les nouvelles cases</span>
<a name="l00267"></a>00267   <span class="keywordflow">if</span> ((opt == <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffa9a675e25b5b7accff8d861e05060547b">COPY_INIT</a>) || (new_size &gt; <a class="code" href="classArrOfInt.html#a9cda25dd5c640c8523243990b6c0b845">memory_size_</a>) || (<a class="code" href="classArrOfInt.html#a9170b6699fa2b83ccc8c9a451e18bd44">smart_resize_</a> == 0))
<a name="l00268"></a>00268 <span class="comment">// attention, il existe un cas ou memory_resize realloue un buffer meme si size_array_==new_size:</span>
<a name="l00269"></a>00269 <span class="comment">// si on est passe de smart_resize=1 a smart_resize=0, on realloue juste ce qu&#39;il faut.</span>
<a name="l00270"></a>00270     <a class="code" href="classArrOfInt.html#a1bdac0af7218a7a9d6abf1709feffc17" title="Si besoin, alloue une nouvelle zone de memoire, copie les donnees et efface l&#39;ancienne zone de memoir...">memory_resize</a>(new_size, opt);
<a name="l00271"></a>00271   <a class="code" href="classArrOfInt.html#a23d1b6526fd584ba8de321ee7d1f1c1b">size_array_</a> = new_size;
<a name="l00272"></a>00272 }
<a name="l00273"></a>00273 
<a name="l00274"></a>00274 <span class="comment">// Precondition:</span>
<a name="l00275"></a>00275 <span class="comment">// Parametre: int x</span>
<a name="l00276"></a>00276 <span class="comment">// Signification: la valeur a affecter a toutes les cases du tableau</span>
<a name="l00277"></a>00277 <span class="comment">// Valeurs par defaut:</span>
<a name="l00278"></a>00278 <span class="comment">// Contraintes:</span>
<a name="l00279"></a>00279 <span class="comment">// Acces:</span>
<a name="l00280"></a>00280 <span class="comment">// Exception:</span>
<a name="l00281"></a>00281 <span class="comment">// Effets de bord:</span>
<a name="l00282"></a>00282 <span class="comment">// Postcondition:</span>
<a name="l00283"></a>00283 <span class="comment">//</span><span class="comment"></span>
<a name="l00284"></a>00284 <span class="comment">//! x est affecte a toutes les cases</span>
<a name="l00285"></a>00285 <span class="comment"></span><span class="comment">/** \return ArrOfInt\&amp;&lt;br&gt;</span>
<a name="l00286"></a>00286 <span class="comment">Signification: *this&lt;br&gt;</span>
<a name="l00287"></a>00287 <span class="comment">Contraintes: */</span>
<a name="l00288"></a><a class="code" href="classArrOfInt.html#a8969ecd1d929dcc1c92d23dec55c8eb9">00288</a> <span class="keyword">inline</span> <a class="code" href="classArrOfInt.html" title="Represente un tableau d&#39;elements de type int. L&#39;etat du tableau est caracterise par la valeur de p_ e...">ArrOfInt</a>&amp; <a class="code" href="classArrOfInt.html#a1851289f5b18738eebb6f909c65920ee" title="Copie les donnees du tableau m. Si &quot;m&quot; n&#39;a pas la meme taille que &quot;*this&quot;, on fait un resize_arra...">ArrOfInt::operator=</a>(<span class="keywordtype">int</span> x)
<a name="l00289"></a>00289 {
<a name="l00290"></a>00290   <span class="keyword">const</span> <span class="keywordtype">int</span> n = <a class="code" href="classArrOfInt.html#a23d1b6526fd584ba8de321ee7d1f1c1b">size_array_</a>;
<a name="l00291"></a>00291   <span class="keywordtype">int</span> *data = <a class="code" href="classArrOfInt.html#ab799099ee6d316bdaad7d7f3e99f0637">data_</a>;
<a name="l00292"></a>00292   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; i++)
<a name="l00293"></a>00293     {
<a name="l00294"></a>00294       data[i] = x;
<a name="l00295"></a>00295     }
<a name="l00296"></a>00296   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00297"></a>00297 }
<a name="l00298"></a>00298 
<a name="l00299"></a>00299 <span class="comment">// Precondition:</span>
<a name="l00300"></a>00300 <span class="comment">// Parametre: int i</span>
<a name="l00301"></a>00301 <span class="comment">// Signification: indice dans l&#39;intervalle 0 &lt;= i &lt; size_array()</span>
<a name="l00302"></a>00302 <span class="comment">// Exception:</span>
<a name="l00303"></a>00303 <span class="comment">// assert si i n&#39;est pas dans l&#39;intervalle</span>
<a name="l00304"></a>00304 <span class="comment">//</span><span class="comment"></span>
<a name="l00305"></a>00305 <span class="comment">//! operateur [] retourne le ieme element du tableau</span>
<a name="l00306"></a><a class="code" href="classArrOfInt.html#ac3668f9c049886746539a3ed7bce7723">00306</a> <span class="comment"></span><span class="keyword">inline</span> <span class="keywordtype">int</span>&amp; <a class="code" href="classArrOfInt.html#ac3668f9c049886746539a3ed7bce7723" title="operateur [] retourne le ieme element du tableau">ArrOfInt::operator[]</a>(<span class="keywordtype">int</span> i)
<a name="l00307"></a>00307 {
<a name="l00308"></a>00308   assert(i &gt;= 0 &amp;&amp; i &lt; <a class="code" href="classArrOfInt.html#a23d1b6526fd584ba8de321ee7d1f1c1b">size_array_</a>);
<a name="l00309"></a>00309   <span class="keywordflow">return</span> <a class="code" href="classArrOfInt.html#ab799099ee6d316bdaad7d7f3e99f0637">data_</a>[i];
<a name="l00310"></a>00310 }
<a name="l00311"></a>00311 
<a name="l00312"></a>00312 <span class="comment">// Precondition:</span>
<a name="l00313"></a>00313 <span class="comment">// Parametre: int i</span>
<a name="l00314"></a>00314 <span class="comment">// Signification: indice dans l&#39;intervalle 0 &lt;= i &lt; size_array()</span>
<a name="l00315"></a>00315 <span class="comment">// Exception:</span>
<a name="l00316"></a>00316 <span class="comment">// assert si i n&#39;est pas dans l&#39;intervalle</span>
<a name="l00317"></a>00317 <span class="comment">//</span><span class="comment"></span>
<a name="l00318"></a>00318 <span class="comment">//! operateur [] retourne le ieme element du tableau</span>
<a name="l00319"></a><a class="code" href="classArrOfInt.html#a52b456caab2e93cacaa85d246021886d">00319</a> <span class="comment"></span><span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; <a class="code" href="classArrOfInt.html#ac3668f9c049886746539a3ed7bce7723" title="operateur [] retourne le ieme element du tableau">ArrOfInt::operator[]</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00320"></a>00320 <span class="keyword"></span>{
<a name="l00321"></a>00321   assert(i &gt;= 0 &amp;&amp; i &lt; <a class="code" href="classArrOfInt.html#a23d1b6526fd584ba8de321ee7d1f1c1b">size_array_</a>);
<a name="l00322"></a>00322   <span class="keywordflow">return</span> <a class="code" href="classArrOfInt.html#ab799099ee6d316bdaad7d7f3e99f0637">data_</a>[i];
<a name="l00323"></a>00323 }
<a name="l00324"></a>00324 
<a name="l00325"></a>00325 <span class="comment">//</span><span class="comment"></span>
<a name="l00326"></a>00326 <span class="comment">//! idem operator[]</span>
<a name="l00327"></a><a class="code" href="classArrOfInt.html#a2db9e4cf7c9096344df4ad90567c9041">00327</a> <span class="comment"></span><span class="keyword">inline</span> <span class="keywordtype">int</span>&amp; <a class="code" href="classArrOfInt.html#a2db9e4cf7c9096344df4ad90567c9041" title="idem operator[]">ArrOfInt::operator()</a>(<span class="keywordtype">int</span> i)
<a name="l00328"></a>00328 {
<a name="l00329"></a>00329   <span class="keywordflow">return</span> <a class="code" href="classArrOfInt.html#ac3668f9c049886746539a3ed7bce7723" title="operateur [] retourne le ieme element du tableau">operator[]</a>(i);
<a name="l00330"></a>00330 }
<a name="l00331"></a>00331 
<a name="l00332"></a><a class="code" href="classArrOfInt.html#afb78c76aae98f9874e23ebcb96680c07">00332</a> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; <a class="code" href="classArrOfInt.html#a2db9e4cf7c9096344df4ad90567c9041" title="idem operator[]">ArrOfInt::operator()</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const</span>
<a name="l00333"></a>00333 <span class="keyword"></span>{
<a name="l00334"></a>00334   <span class="keywordflow">return</span> <a class="code" href="classArrOfInt.html#ac3668f9c049886746539a3ed7bce7723" title="operateur [] retourne le ieme element du tableau">operator[]</a>(i);
<a name="l00335"></a>00335 }
<a name="l00336"></a>00336 
<a name="l00337"></a>00337 <span class="comment">//</span>
<a name="l00338"></a>00338 <span class="comment">//</span>
<a name="l00339"></a>00339 <span class="comment">//</span><span class="comment"></span>
<a name="l00340"></a>00340 <span class="comment">//! Renvoie la taille du tableau (nombre d&#39;elements declares&lt;br&gt;a la construction ou a resize_array()).&lt;br&gt;C&#39;est le nombre d&#39;elements accessibles a operator[]</span>
<a name="l00341"></a>00341 <span class="comment"></span><span class="comment">/** \return int */</span>
<a name="l00342"></a><a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d">00342</a> <span class="keyword">inline</span> <span class="keywordtype">int</span>  <a class="code" href="classArrOfInt.html#a0f41611fce0a58c3ef3409dc1af8904d" title="Renvoie la taille du tableau (nombre d&#39;elements declares a la construction ou a resize_array()). C&#39;est le nombre d&#39;elements accessibles a operator[].">ArrOfInt::size_array</a>()<span class="keyword"> const</span>
<a name="l00343"></a>00343 <span class="keyword"></span>{
<a name="l00344"></a>00344   <span class="keywordflow">return</span> <a class="code" href="classArrOfInt.html#a23d1b6526fd584ba8de321ee7d1f1c1b">size_array_</a>;
<a name="l00345"></a>00345 }
<a name="l00346"></a>00346 
<a name="l00347"></a>00347 <span class="comment">// Precondition:</span>
<a name="l00348"></a>00348 <span class="comment">// Tableau doit etre de type &quot;smart_resize&quot; (sinon, ecroulement</span>
<a name="l00349"></a>00349 <span class="comment">// des performances). De plus, le tableau ne doit pas etre &quot;ref_data&quot;,</span>
<a name="l00350"></a>00350 <span class="comment">// et il ne doit pas y avoir plus d&#39;une reference a la zone de</span>
<a name="l00351"></a>00351 <span class="comment">// memoire pointee (meme precondition que resize_array())</span>
<a name="l00352"></a>00352 <span class="comment">// Le tableau doit etre de type ArrOfInt (pas un type derive)</span>
<a name="l00353"></a>00353 <span class="comment">//</span><span class="comment"></span>
<a name="l00354"></a>00354 <span class="comment">//! Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;</span>
<a name="l00355"></a><a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01">00355</a> <span class="comment"></span><span class="keyword">inline</span> <span class="keywordtype">void</span>   <a class="code" href="classArrOfInt.html#a3f39d0966599416e7b1f7cd8159d8d01" title="Ajoute une case en fin de tableau et y stocke la &quot;valeur&quot;.">ArrOfInt::append_array</a>(<span class="keywordtype">int</span> <a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>)
<a name="l00356"></a>00356 {
<a name="l00357"></a>00357   assert(<a class="code" href="classArrOfInt.html#a9170b6699fa2b83ccc8c9a451e18bd44">smart_resize_</a>);
<a name="l00358"></a>00358   <span class="keyword">const</span> <span class="keywordtype">int</span> n = <a class="code" href="classArrOfInt.html#a23d1b6526fd584ba8de321ee7d1f1c1b">size_array_</a>;
<a name="l00359"></a>00359   <a class="code" href="classArrOfInt.html#a9b3afbb46b16870dbd36236c8935b535">resize_array</a>(<a class="code" href="classArrOfInt.html#a23d1b6526fd584ba8de321ee7d1f1c1b">size_array_</a>+1, <a class="code" href="classArray__base.html#abee342aa9ac59623c4c782dc9d7877ffac85954f9768f1ed2b14e58cea8ddb7c5">COPY_NOINIT</a>);
<a name="l00360"></a>00360   <a class="code" href="classArrOfInt.html#ab799099ee6d316bdaad7d7f3e99f0637">data_</a>[n] = <a class="code" href="Source__Generique__Face__PolyMAC_8cpp.html#a7d7b5d77a3caa1af70f5e1c9108de5a1">valeur</a>;
<a name="l00361"></a>00361 }
<a name="l00362"></a>00362 
<a name="l00363"></a>00363 <span class="comment">// Precondition:</span>
<a name="l00364"></a>00364 <span class="comment">//</span>
<a name="l00365"></a>00365 <span class="comment">//</span>
<a name="l00366"></a>00366 <span class="comment">//</span>
<a name="l00367"></a>00367 <span class="comment">//</span><span class="comment"></span>
<a name="l00368"></a>00368 <span class="comment">//! Renvoie un pointeur sur le premier element du tableau.&lt;br&gt;Le pointeur est nul si le tableau est &quot;detache&quot;.&lt;br&gt;Attention, l&#39;adresse peut changer apres un appel&lt;br&gt;a resize_array(), ref_data, ref_array, ...</span>
<a name="l00369"></a>00369 <span class="comment"></span><span class="comment">/** \return const int*&lt;br&gt;</span>
<a name="l00370"></a>00370 <span class="comment">Signification: pointeur sur le premier element du tableau */</span>
<a name="l00371"></a><a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d">00371</a> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">int</span>* <a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">ArrOfInt::addr</a>()<span class="keyword"> const</span>
<a name="l00372"></a>00372 <span class="keyword"></span>{
<a name="l00373"></a>00373   <span class="keywordflow">return</span> <a class="code" href="classArrOfInt.html#ab799099ee6d316bdaad7d7f3e99f0637">data_</a>;
<a name="l00374"></a>00374 }
<a name="l00375"></a>00375 
<a name="l00376"></a>00376 <span class="comment">// Precondition:</span>
<a name="l00377"></a>00377 <span class="comment">//</span>
<a name="l00378"></a>00378 <span class="comment">//</span><span class="comment"></span>
<a name="l00379"></a>00379 <span class="comment">//! Renvoie un pointeur sur le premier element du tableau.&lt;br&gt;Le pointeur est nul si le tableau est &quot;detache&quot;.</span>
<a name="l00380"></a>00380 <span class="comment"></span><span class="comment">/** \return const int*&lt;br&gt;</span>
<a name="l00381"></a>00381 <span class="comment">Signification: la zone memoire du tableau */</span>
<a name="l00382"></a><a class="code" href="classArrOfInt.html#a5347acb0e39041c22584f498d9ae7271">00382</a> <span class="keyword">inline</span> <span class="keywordtype">int</span>* <a class="code" href="classArrOfInt.html#ad0b31250e60cd9040ea60be55db73c3d" title="Renvoie un pointeur sur le premier element du tableau. Le pointeur est nul si le tableau est &quot;detach...">ArrOfInt::addr</a>()
<a name="l00383"></a>00383 {
<a name="l00384"></a>00384   <span class="keywordflow">return</span> <a class="code" href="classArrOfInt.html#ab799099ee6d316bdaad7d7f3e99f0637">data_</a>;
<a name="l00385"></a>00385 }
<a name="l00386"></a>00386 
<a name="l00387"></a>00387 <span class="comment">// ArrOfInt_H</span>
<a name="l00388"></a>00388 <span class="preprocessor">#endif</span>
<a name="l00389"></a>00389 <span class="preprocessor"></span>
<a name="l00390"></a>00390 
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Dec 14 2021 19:35:21 for TRUST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
